[{"id":3665371047,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY2NTM3MTA0Nw==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3665371047","actor":{"login":"caugner","id":495429,"node_id":"MDQ6VXNlcjQ5NTQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/495429?v=4","gravatar_id":"","url":"https://api.github.com/users/caugner","html_url":"https://github.com/caugner","followers_url":"https://api.github.com/users/caugner/followers","following_url":"https://api.github.com/users/caugner/following{/other_user}","gists_url":"https://api.github.com/users/caugner/gists{/gist_id}","starred_url":"https://api.github.com/users/caugner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caugner/subscriptions","organizations_url":"https://api.github.com/users/caugner/orgs","repos_url":"https://api.github.com/users/caugner/repos","events_url":"https://api.github.com/users/caugner/events{/privacy}","received_events_url":"https://api.github.com/users/caugner/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-18T09:09:59Z","performed_via_github_app":null},{"id":3665371053,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2NjUzNzEwNTM=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3665371053","actor":{"login":"caugner","id":495429,"node_id":"MDQ6VXNlcjQ5NTQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/495429?v=4","gravatar_id":"","url":"https://api.github.com/users/caugner","html_url":"https://github.com/caugner","followers_url":"https://api.github.com/users/caugner/followers","following_url":"https://api.github.com/users/caugner/following{/other_user}","gists_url":"https://api.github.com/users/caugner/gists{/gist_id}","starred_url":"https://api.github.com/users/caugner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caugner/subscriptions","organizations_url":"https://api.github.com/users/caugner/orgs","repos_url":"https://api.github.com/users/caugner/repos","events_url":"https://api.github.com/users/caugner/events{/privacy}","received_events_url":"https://api.github.com/users/caugner/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-18T09:09:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675369638","html_url":"https://github.com/vimeo/psalm/issues/4013#issuecomment-675369638","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4013","id":675369638,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTM2OTYzOA==","user":{"login":"caugner","id":495429,"node_id":"MDQ6VXNlcjQ5NTQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/495429?v=4","gravatar_id":"","url":"https://api.github.com/users/caugner","html_url":"https://github.com/caugner","followers_url":"https://api.github.com/users/caugner/followers","following_url":"https://api.github.com/users/caugner/following{/other_user}","gists_url":"https://api.github.com/users/caugner/gists{/gist_id}","starred_url":"https://api.github.com/users/caugner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caugner/subscriptions","organizations_url":"https://api.github.com/users/caugner/orgs","repos_url":"https://api.github.com/users/caugner/repos","events_url":"https://api.github.com/users/caugner/events{/privacy}","received_events_url":"https://api.github.com/users/caugner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T09:28:02Z","updated_at":"2020-08-18T09:28:02Z","body":"What makes this issue worse, is that Psalm returned exit-code 0 despite the exception, so our CI appeared to be green.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675369638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caugner","id":495429,"node_id":"MDQ6VXNlcjQ5NTQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/495429?v=4","gravatar_id":"","url":"https://api.github.com/users/caugner","html_url":"https://github.com/caugner","followers_url":"https://api.github.com/users/caugner/followers","following_url":"https://api.github.com/users/caugner/following{/other_user}","gists_url":"https://api.github.com/users/caugner/gists{/gist_id}","starred_url":"https://api.github.com/users/caugner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caugner/subscriptions","organizations_url":"https://api.github.com/users/caugner/orgs","repos_url":"https://api.github.com/users/caugner/repos","events_url":"https://api.github.com/users/caugner/events{/privacy}","received_events_url":"https://api.github.com/users/caugner/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3665516393,"node_id":"MDEyOkxhYmVsZWRFdmVudDM2NjU1MTYzOTM=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3665516393","actor":{"login":"weirdan","id":57403,"node_id":"MDQ6VXNlcjU3NDAz","avatar_url":"https://avatars.githubusercontent.com/u/57403?v=4","gravatar_id":"","url":"https://api.github.com/users/weirdan","html_url":"https://github.com/weirdan","followers_url":"https://api.github.com/users/weirdan/followers","following_url":"https://api.github.com/users/weirdan/following{/other_user}","gists_url":"https://api.github.com/users/weirdan/gists{/gist_id}","starred_url":"https://api.github.com/users/weirdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weirdan/subscriptions","organizations_url":"https://api.github.com/users/weirdan/orgs","repos_url":"https://api.github.com/users/weirdan/repos","events_url":"https://api.github.com/users/weirdan/events{/privacy}","received_events_url":"https://api.github.com/users/weirdan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-08-18T09:45:57Z","label":{"name":"bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675405170","html_url":"https://github.com/vimeo/psalm/issues/4013#issuecomment-675405170","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4013","id":675405170,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQwNTE3MA==","user":{"login":"xyng","id":2403703,"node_id":"MDQ6VXNlcjI0MDM3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2403703?v=4","gravatar_id":"","url":"https://api.github.com/users/xyng","html_url":"https://github.com/xyng","followers_url":"https://api.github.com/users/xyng/followers","following_url":"https://api.github.com/users/xyng/following{/other_user}","gists_url":"https://api.github.com/users/xyng/gists{/gist_id}","starred_url":"https://api.github.com/users/xyng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyng/subscriptions","organizations_url":"https://api.github.com/users/xyng/orgs","repos_url":"https://api.github.com/users/xyng/repos","events_url":"https://api.github.com/users/xyng/events{/privacy}","received_events_url":"https://api.github.com/users/xyng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T10:44:12Z","updated_at":"2020-08-18T10:44:12Z","body":"This is most likely caused by this line: https://github.com/vimeo/psalm/blob/9822043ca46d6682b76097bfa97d7c450eef9e90/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php#L340\r\n\r\nI was able to resolve this issue for my local project by changing `$class_storage->mixin_declaring_fqcln` to `$mixin->value`.\r\nSeems like i've introduced this in my pr for multiple mixins and test cases did not catch it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675405170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xyng","id":2403703,"node_id":"MDQ6VXNlcjI0MDM3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2403703?v=4","gravatar_id":"","url":"https://api.github.com/users/xyng","html_url":"https://github.com/xyng","followers_url":"https://api.github.com/users/xyng/followers","following_url":"https://api.github.com/users/xyng/following{/other_user}","gists_url":"https://api.github.com/users/xyng/gists{/gist_id}","starred_url":"https://api.github.com/users/xyng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyng/subscriptions","organizations_url":"https://api.github.com/users/xyng/orgs","repos_url":"https://api.github.com/users/xyng/repos","events_url":"https://api.github.com/users/xyng/events{/privacy}","received_events_url":"https://api.github.com/users/xyng/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675413864","html_url":"https://github.com/vimeo/psalm/issues/4013#issuecomment-675413864","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4013","id":675413864,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQxMzg2NA==","user":{"login":"simitter","id":340021,"node_id":"MDQ6VXNlcjM0MDAyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/340021?v=4","gravatar_id":"","url":"https://api.github.com/users/simitter","html_url":"https://github.com/simitter","followers_url":"https://api.github.com/users/simitter/followers","following_url":"https://api.github.com/users/simitter/following{/other_user}","gists_url":"https://api.github.com/users/simitter/gists{/gist_id}","starred_url":"https://api.github.com/users/simitter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simitter/subscriptions","organizations_url":"https://api.github.com/users/simitter/orgs","repos_url":"https://api.github.com/users/simitter/repos","events_url":"https://api.github.com/users/simitter/events{/privacy}","received_events_url":"https://api.github.com/users/simitter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T11:05:48Z","updated_at":"2020-08-18T11:06:17Z","body":"I could reproduce the errror if a class has multiple mixins and one method is defined in both mixins:\r\n\r\nhttps://psalm.dev/r/29485487d1","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675413864/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simitter","id":340021,"node_id":"MDQ6VXNlcjM0MDAyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/340021?v=4","gravatar_id":"","url":"https://api.github.com/users/simitter","html_url":"https://github.com/simitter","followers_url":"https://api.github.com/users/simitter/followers","following_url":"https://api.github.com/users/simitter/following{/other_user}","gists_url":"https://api.github.com/users/simitter/gists{/gist_id}","starred_url":"https://api.github.com/users/simitter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simitter/subscriptions","organizations_url":"https://api.github.com/users/simitter/orgs","repos_url":"https://api.github.com/users/simitter/repos","events_url":"https://api.github.com/users/simitter/events{/privacy}","received_events_url":"https://api.github.com/users/simitter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675413880","html_url":"https://github.com/vimeo/psalm/issues/4013#issuecomment-675413880","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4013","id":675413880,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQxMzg4MA==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T11:05:50Z","updated_at":"2020-08-18T11:06:19Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/29485487d1</summary>\n\n```php\n<?php\n\nclass Mix1\n{\n    public function foo(): string\n    {\n        return '';\n    }\n}\n\nclass Mix2\n{\n    public function foo(): string\n    {\n        return '';\n    }\n}\n\n/**\n * @mixin Mix1\n * @mixin Mix2\n */\nclass Bar\n{\n\n}\n\n$bar = new Bar();\n\n$bar->foo();\n```\n\n```\nPsalm encountered an internal error:\n\n/vendor/vimeo/psalm/src/Psalm/Internal/Provider/ClassLikeStorageProvider.php: Could not get class storage for \n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/675413880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":3665904105,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM2NjU5MDQxMDU=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3665904105","actor":{"login":"xyng","id":2403703,"node_id":"MDQ6VXNlcjI0MDM3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2403703?v=4","gravatar_id":"","url":"https://api.github.com/users/xyng","html_url":"https://github.com/xyng","followers_url":"https://api.github.com/users/xyng/followers","following_url":"https://api.github.com/users/xyng/following{/other_user}","gists_url":"https://api.github.com/users/xyng/gists{/gist_id}","starred_url":"https://api.github.com/users/xyng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyng/subscriptions","organizations_url":"https://api.github.com/users/xyng/orgs","repos_url":"https://api.github.com/users/xyng/repos","events_url":"https://api.github.com/users/xyng/events{/privacy}","received_events_url":"https://api.github.com/users/xyng/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ed8a9c5a99471ed02b5fa08a2103f76f3d7b3ee6","commit_url":"https://api.github.com/repos/xyng/psalm/commits/ed8a9c5a99471ed02b5fa08a2103f76f3d7b3ee6","created_at":"2020-08-18T11:33:25Z","performed_via_github_app":null},{"actor":{"login":"xyng","id":2403703,"node_id":"MDQ6VXNlcjI0MDM3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2403703?v=4","gravatar_id":"","url":"https://api.github.com/users/xyng","html_url":"https://github.com/xyng","followers_url":"https://api.github.com/users/xyng/followers","following_url":"https://api.github.com/users/xyng/following{/other_user}","gists_url":"https://api.github.com/users/xyng/gists{/gist_id}","starred_url":"https://api.github.com/users/xyng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyng/subscriptions","organizations_url":"https://api.github.com/users/xyng/orgs","repos_url":"https://api.github.com/users/xyng/repos","events_url":"https://api.github.com/users/xyng/events{/privacy}","received_events_url":"https://api.github.com/users/xyng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T11:34:09Z","updated_at":"2020-08-18T11:34:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vimeo/psalm/issues/4018","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/4018/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/4018/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/4018/events","html_url":"https://github.com/vimeo/psalm/pull/4018","id":680968601,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY5NDM4NDg2","number":4018,"title":"Prevent exception when using two mixins declaring equally named methods","user":{"login":"xyng","id":2403703,"node_id":"MDQ6VXNlcjI0MDM3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2403703?v=4","gravatar_id":"","url":"https://api.github.com/users/xyng","html_url":"https://github.com/xyng","followers_url":"https://api.github.com/users/xyng/followers","following_url":"https://api.github.com/users/xyng/following{/other_user}","gists_url":"https://api.github.com/users/xyng/gists{/gist_id}","starred_url":"https://api.github.com/users/xyng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyng/subscriptions","organizations_url":"https://api.github.com/users/xyng/orgs","repos_url":"https://api.github.com/users/xyng/repos","events_url":"https://api.github.com/users/xyng/events{/privacy}","received_events_url":"https://api.github.com/users/xyng/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-18T11:34:08Z","updated_at":"2020-08-18T13:48:06Z","closed_at":"2020-08-18T12:38:31Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":74386167,"node_id":"MDEwOlJlcG9zaXRvcnk3NDM4NjE2Nw==","name":"psalm","full_name":"vimeo/psalm","private":false,"owner":{"login":"vimeo","id":317769,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNzc2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317769?v=4","gravatar_id":"","url":"https://api.github.com/users/vimeo","html_url":"https://github.com/vimeo","followers_url":"https://api.github.com/users/vimeo/followers","following_url":"https://api.github.com/users/vimeo/following{/other_user}","gists_url":"https://api.github.com/users/vimeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vimeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vimeo/subscriptions","organizations_url":"https://api.github.com/users/vimeo/orgs","repos_url":"https://api.github.com/users/vimeo/repos","events_url":"https://api.github.com/users/vimeo/events{/privacy}","received_events_url":"https://api.github.com/users/vimeo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vimeo/psalm","description":"A PHP static analysis tool for finding errors and security vulnerabilities in PHP applications","fork":false,"url":"https://api.github.com/repos/vimeo/psalm","forks_url":"https://api.github.com/repos/vimeo/psalm/forks","keys_url":"https://api.github.com/repos/vimeo/psalm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vimeo/psalm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vimeo/psalm/teams","hooks_url":"https://api.github.com/repos/vimeo/psalm/hooks","issue_events_url":"https://api.github.com/repos/vimeo/psalm/issues/events{/number}","events_url":"https://api.github.com/repos/vimeo/psalm/events","assignees_url":"https://api.github.com/repos/vimeo/psalm/assignees{/user}","branches_url":"https://api.github.com/repos/vimeo/psalm/branches{/branch}","tags_url":"https://api.github.com/repos/vimeo/psalm/tags","blobs_url":"https://api.github.com/repos/vimeo/psalm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vimeo/psalm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vimeo/psalm/git/refs{/sha}","trees_url":"https://api.github.com/repos/vimeo/psalm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vimeo/psalm/statuses/{sha}","languages_url":"https://api.github.com/repos/vimeo/psalm/languages","stargazers_url":"https://api.github.com/repos/vimeo/psalm/stargazers","contributors_url":"https://api.github.com/repos/vimeo/psalm/contributors","subscribers_url":"https://api.github.com/repos/vimeo/psalm/subscribers","subscription_url":"https://api.github.com/repos/vimeo/psalm/subscription","commits_url":"https://api.github.com/repos/vimeo/psalm/commits{/sha}","git_commits_url":"https://api.github.com/repos/vimeo/psalm/git/commits{/sha}","comments_url":"https://api.github.com/repos/vimeo/psalm/comments{/number}","issue_comment_url":"https://api.github.com/repos/vimeo/psalm/issues/comments{/number}","contents_url":"https://api.github.com/repos/vimeo/psalm/contents/{+path}","compare_url":"https://api.github.com/repos/vimeo/psalm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vimeo/psalm/merges","archive_url":"https://api.github.com/repos/vimeo/psalm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vimeo/psalm/downloads","issues_url":"https://api.github.com/repos/vimeo/psalm/issues{/number}","pulls_url":"https://api.github.com/repos/vimeo/psalm/pulls{/number}","milestones_url":"https://api.github.com/repos/vimeo/psalm/milestones{/number}","notifications_url":"https://api.github.com/repos/vimeo/psalm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vimeo/psalm/labels{/name}","releases_url":"https://api.github.com/repos/vimeo/psalm/releases{/id}","deployments_url":"https://api.github.com/repos/vimeo/psalm/deployments","created_at":"2016-11-21T17:04:41Z","updated_at":"2025-11-09T12:51:34Z","pushed_at":"2025-10-15T16:48:22Z","git_url":"git://github.com/vimeo/psalm.git","ssh_url":"git@github.com:vimeo/psalm.git","clone_url":"https://github.com/vimeo/psalm.git","svn_url":"https://github.com/vimeo/psalm","homepage":"https://psalm.dev","size":115257,"stargazers_count":5770,"watchers_count":5770,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1932,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","php","security-analysis","static-analysis","taint-analysis","type-inference"],"visibility":"public","forks":683,"open_issues":1932,"watchers":5770,"default_branch":"6.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vimeo/psalm/pulls/4018","html_url":"https://github.com/vimeo/psalm/pull/4018","diff_url":"https://github.com/vimeo/psalm/pull/4018.diff","patch_url":"https://github.com/vimeo/psalm/pull/4018.patch","merged_at":"2020-08-18T12:38:31Z"},"body":"fixes #4013","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/4018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/4018/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3666143009,"node_id":"MDExOkNsb3NlZEV2ZW50MzY2NjE0MzAwOQ==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3666143009","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-08-18T12:38:31Z","state_reason":null,"performed_via_github_app":null},{"id":3666143117,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM2NjYxNDMxMTc=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3666143117","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"17ed440f2e8bfb2043c40ed8d85833d5fdf99dce","commit_url":"https://api.github.com/repos/vimeo/psalm/commits/17ed440f2e8bfb2043c40ed8d85833d5fdf99dce","created_at":"2020-08-18T12:38:32Z","performed_via_github_app":null},{"actor":{"login":"mr-feek","id":5747667,"node_id":"MDQ6VXNlcjU3NDc2Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5747667?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-feek","html_url":"https://github.com/mr-feek","followers_url":"https://api.github.com/users/mr-feek/followers","following_url":"https://api.github.com/users/mr-feek/following{/other_user}","gists_url":"https://api.github.com/users/mr-feek/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-feek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-feek/subscriptions","organizations_url":"https://api.github.com/users/mr-feek/orgs","repos_url":"https://api.github.com/users/mr-feek/repos","events_url":"https://api.github.com/users/mr-feek/events{/privacy}","received_events_url":"https://api.github.com/users/mr-feek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T18:51:36Z","updated_at":"2020-08-18T18:51:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106","repository_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel","labels_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106/labels{/name}","comments_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106/comments","events_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106/events","html_url":"https://github.com/psalm/psalm-plugin-laravel/issues/106","id":680825760,"node_id":"MDU6SXNzdWU2ODA4MjU3NjA=","number":106,"title":"Psalm crashes: Could not get class storage for","user":{"login":"rubenvanassche","id":619804,"node_id":"MDQ6VXNlcjYxOTgwNA==","avatar_url":"https://avatars.githubusercontent.com/u/619804?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenvanassche","html_url":"https://github.com/rubenvanassche","followers_url":"https://api.github.com/users/rubenvanassche/followers","following_url":"https://api.github.com/users/rubenvanassche/following{/other_user}","gists_url":"https://api.github.com/users/rubenvanassche/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenvanassche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenvanassche/subscriptions","organizations_url":"https://api.github.com/users/rubenvanassche/orgs","repos_url":"https://api.github.com/users/rubenvanassche/repos","events_url":"https://api.github.com/users/rubenvanassche/events{/privacy}","received_events_url":"https://api.github.com/users/rubenvanassche/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1238665797,"node_id":"MDU6TGFiZWwxMjM4NjY1Nzk3","url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1238665803,"node_id":"MDU6TGFiZWwxMjM4NjY1ODAz","url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":{"login":"mr-feek","id":5747667,"node_id":"MDQ6VXNlcjU3NDc2Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5747667?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-feek","html_url":"https://github.com/mr-feek","followers_url":"https://api.github.com/users/mr-feek/followers","following_url":"https://api.github.com/users/mr-feek/following{/other_user}","gists_url":"https://api.github.com/users/mr-feek/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-feek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-feek/subscriptions","organizations_url":"https://api.github.com/users/mr-feek/orgs","repos_url":"https://api.github.com/users/mr-feek/repos","events_url":"https://api.github.com/users/mr-feek/events{/privacy}","received_events_url":"https://api.github.com/users/mr-feek/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mr-feek","id":5747667,"node_id":"MDQ6VXNlcjU3NDc2Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5747667?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-feek","html_url":"https://github.com/mr-feek","followers_url":"https://api.github.com/users/mr-feek/followers","following_url":"https://api.github.com/users/mr-feek/following{/other_user}","gists_url":"https://api.github.com/users/mr-feek/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-feek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-feek/subscriptions","organizations_url":"https://api.github.com/users/mr-feek/orgs","repos_url":"https://api.github.com/users/mr-feek/repos","events_url":"https://api.github.com/users/mr-feek/events{/privacy}","received_events_url":"https://api.github.com/users/mr-feek/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-08-18T09:02:07Z","updated_at":"2020-08-19T12:31:39Z","closed_at":"2020-08-19T12:31:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":171369793,"node_id":"MDEwOlJlcG9zaXRvcnkxNzEzNjk3OTM=","name":"psalm-plugin-laravel","full_name":"psalm/psalm-plugin-laravel","private":false,"owner":{"login":"psalm","id":40830242,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQwODMwMjQy","avatar_url":"https://avatars.githubusercontent.com/u/40830242?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm","html_url":"https://github.com/psalm","followers_url":"https://api.github.com/users/psalm/followers","following_url":"https://api.github.com/users/psalm/following{/other_user}","gists_url":"https://api.github.com/users/psalm/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm/subscriptions","organizations_url":"https://api.github.com/users/psalm/orgs","repos_url":"https://api.github.com/users/psalm/repos","events_url":"https://api.github.com/users/psalm/events{/privacy}","received_events_url":"https://api.github.com/users/psalm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/psalm/psalm-plugin-laravel","description":"A Psalm plugin for Laravel","fork":false,"url":"https://api.github.com/repos/psalm/psalm-plugin-laravel","forks_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/forks","keys_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/teams","hooks_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/hooks","issue_events_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/events{/number}","events_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/events","assignees_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/assignees{/user}","branches_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/branches{/branch}","tags_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/tags","blobs_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/git/refs{/sha}","trees_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/statuses/{sha}","languages_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/languages","stargazers_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/stargazers","contributors_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/contributors","subscribers_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/subscribers","subscription_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/subscription","commits_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/commits{/sha}","git_commits_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/git/commits{/sha}","comments_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/comments{/number}","issue_comment_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/comments{/number}","contents_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/contents/{+path}","compare_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/merges","archive_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/downloads","issues_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues{/number}","pulls_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/pulls{/number}","milestones_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/milestones{/number}","notifications_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/labels{/name}","releases_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/releases{/id}","deployments_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/deployments","created_at":"2019-02-18T23:11:27Z","updated_at":"2025-11-01T13:09:35Z","pushed_at":"2025-09-02T07:37:31Z","git_url":"git://github.com/psalm/psalm-plugin-laravel.git","ssh_url":"git@github.com:psalm/psalm-plugin-laravel.git","clone_url":"https://github.com/psalm/psalm-plugin-laravel.git","svn_url":"https://github.com/psalm/psalm-plugin-laravel","homepage":"","size":1149,"stargazers_count":324,"watchers_count":324,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":74,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":17,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["laravel","looking-for-maintainer","php","php-static-analysis","psalm","psalm-plugin","static-analysis"],"visibility":"public","forks":74,"open_issues":17,"watchers":324,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\nWhen running psalm, an error occurs with the message: ` Could not get class storage for`. This is happening in the `ClassLikeStorageProvider`, here: https://github.com/vimeo/psalm/blob/master/src/Psalm/Internal/Provider/ClassLikeStorageProvider.php#L41-L48. This method is getting called from here: https://github.com/vimeo/psalm/blob/master/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php#L339-L341\r\n\r\nIt seems that the `$fq_classlike_name` parameter of the `get` method is `null`. I've dumped `$class_storage` and it represents `\\Illuminate\\Database\\Eloquent\\Builder`, that's why I'm creating the issue here and not in the main psalm repository.\r\n\r\n\r\nWhen running `vendor/bin/psalm --debug-by-line` this piece of code, especially the `query` bit pops up:\r\n\r\n```php\r\nreturn Cart::query()\r\n  ->where('user_uuid', $this->user->getUuid())\r\n  ->where('uuid', $this->session->get('cart_uuid'))\r\n  ->exists();\r\n```\r\n\r\nCart is just a regular Laravel model nothin special there.\r\n\r\n**Impacted Versions**\r\nbarryvdh/laravel-debugbar             v3.4.1             PHP Debugbar int...\r\nbarryvdh/laravel-ide-helper           v2.8.0             Laravel IDE Help...\r\nbeyondcode/laravel-dump-server        1.4.0              Symfony Var-Dump...\r\nfruitcake/laravel-cors                v1.0.6             Adds CORS (Cross...\r\ninertiajs/inertia-laravel             v0.2.5             The Laravel adap...\r\nlaravel/framework                     v7.25.0            The Laravel Fram...\r\nlaravel/horizon                       v4.3.3             Dashboard and co...\r\nlaravel/scout                         v8.2.1             Laravel Scout pr...\r\nlaravel/tinker                        v2.4.2             Powerful REPL fo...\r\npropaganistas/laravel-phone           4.2.4              Adds phone numbe...\r\npsalm/plugin-laravel                  dev-master 95761f9 A Laravel plugin...\r\nspatie/laravel-backup                 6.11.1             A Laravel packag...\r\nspatie/laravel-db-snapshots           1.6.1              Quickly dump and...\r\nspatie/laravel-event-sourcing         4.2.0              The easiest way ...\r\nspatie/laravel-log-dumper             1.3.1              A function to du...\r\nspatie/laravel-model-states           1.6.3             \r\nspatie/laravel-multitenancy           1.6.4              Make your Larave...\r\nspatie/laravel-navigation             dev-master 90dc440 Manage menus, br...\r\nspatie/laravel-query-builder          2.8.2              Easily build Elo...\r\nspatie/laravel-schemaless-attributes  1.7.1              Add schemaless a...\r\nspatie/laravel-settings               dev-master 1725356 Store your appli...\r\nspatie/laravel-sluggable              2.5.0              Generate slugs w...\r\nspatie/laravel-stubs                  1.1.0              Opinionated Lara...\r\nspatie/laravel-tail                   4.2.1              Easily tail appl...\r\nspatie/laravel-typescript-transformer dev-master 7a73107 Transform your P...\r\nspatie/laravel-view-models            1.3.0              View models in L...\r\nvimeo/psalm                           dev-master 9822043 A static analysi...\r\n\r\nAny idea what the issue could be?\r\n","reactions":{"url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/psalm/psalm-plugin-laravel/issues/106/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]