{"url":"https://api.github.com/repos/vimeo/psalm/issues/4750","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/4750/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/4750/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/4750/events","html_url":"https://github.com/vimeo/psalm/issues/4750","id":754600260,"node_id":"MDU6SXNzdWU3NTQ2MDAyNjA=","number":4750,"title":"Function resolved to a different function","user":{"login":"jackbentley","id":9383439,"node_id":"MDQ6VXNlcjkzODM0Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/9383439?v=4","gravatar_id":"","url":"https://api.github.com/users/jackbentley","html_url":"https://github.com/jackbentley","followers_url":"https://api.github.com/users/jackbentley/followers","following_url":"https://api.github.com/users/jackbentley/following{/other_user}","gists_url":"https://api.github.com/users/jackbentley/gists{/gist_id}","starred_url":"https://api.github.com/users/jackbentley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackbentley/subscriptions","organizations_url":"https://api.github.com/users/jackbentley/orgs","repos_url":"https://api.github.com/users/jackbentley/repos","events_url":"https://api.github.com/users/jackbentley/events{/privacy}","received_events_url":"https://api.github.com/users/jackbentley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061586,"node_id":"MDU6TGFiZWw0ODYwNjE1ODY=","url":"https://api.github.com/repos/vimeo/psalm/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-12-01T17:48:41Z","updated_at":"2020-12-06T22:28:20Z","closed_at":"2020-12-06T22:28:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I can't work out what's happening here. For some reason, functions are being resolved to other functions and then I'm seeing `TooFewArguments` errors:\r\n\r\n```\r\nERROR: TooFewArguments - src/a/file.php:114:33 - Too few arguments for updateUserPassword - expecting 2 but saw 1 (see https://psalm.dev/025)\r\n                'WHERE id = ' . intval($this->id);\r\n```\r\n\r\nI get thousands of errors for every usage of `intval()`. None of the errors are in any way related to the `updateUserPassword` global function.\r\n\r\nThe same thing seems to be happening with the `time()` function:\r\n\r\n```\r\nERROR: TooFewArguments - src/another.php:581:38 - Too few arguments for newUserFailedLogin - expecting 2 but saw 0 (see https://psalm.dev/025)\r\n            $theDate = date('Y-m-d', time() - ($oneDay * 365));\r\n```\r\n\r\nAgain, for every usage of `time()` this same error appears. None of the errors have any relation to the `newUserFailedLogin` global function.\r\n\r\nNeither `intval()` nor `time()` has been overridden in the codebase. The code being errors works fine. It also runs fine in PHPStan without these errors.\r\n\r\nFrom my investigation, it seems to be related to the functions/classes loaded in the `autoloader` defined. After removing various global functions/methods, the errors just \"disappear\".\r\n\r\n<details>\r\n<summary>Here are some stack traces using the <code>--debug-emitted-issues</code> CLI option:</summary>\r\n\r\n```\r\nEmitting src/files/A.php:63 TooFewArguments Too few arguments for newUserFailedLogin - expecting 2 but saw 0\r\n#0  Psalm\\IssueBuffer::add() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/IssueBuffer.php:103]\r\n#1  Psalm\\IssueBuffer::accepts() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentsAnalyzer.php:831]\r\n#2  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\ArgumentsAnalyzer::checkArgumentsMatch() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php:350]\r\n#3  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\FunctionCallAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:265]\r\n#4  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#5  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php:194]\r\n#6  Psalm\\Internal\\Analyzer\\Statements\\Expression\\AssignmentAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:132]\r\n#7  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#8  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:519]\r\n#9  Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#10 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FunctionLikeAnalyzer.php:654]\r\n#11 Psalm\\Internal\\Analyzer\\FunctionLikeAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:1968]\r\n#12 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyzeClassMethod() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:749]\r\n#13 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FileAnalyzer.php:211]\r\n#14 Psalm\\Internal\\Analyzer\\FileAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:340]\r\n#15 Psalm\\Internal\\Codebase\\Analyzer->Psalm\\Internal\\Codebase\\{closure}() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:579]\r\n#16 Psalm\\Internal\\Codebase\\Analyzer->doAnalysis() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:269]\r\n#17 Psalm\\Internal\\Codebase\\Analyzer->analyzeFiles() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ProjectAnalyzer.php:639]\r\n#18 Psalm\\Internal\\Analyzer\\ProjectAnalyzer->check() called at [/var/www/html/vendor/vimeo/psalm/src/psalm.php:676]\r\n#19 require_once(/var/www/html/vendor/vimeo/psalm/src/psalm.php) called at [/var/www/html/vendor/vimeo/psalm/psalm:2]\r\n```\r\n\r\n```\r\nEmitting src/file/B.php:109 TooFewArguments Too few arguments for newUserFailedLogin - expecting 2 but saw 0\r\n#0  Psalm\\IssueBuffer::add() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/IssueBuffer.php:103]\r\n#1  Psalm\\IssueBuffer::accepts() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentsAnalyzer.php:831]\r\n#2  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\ArgumentsAnalyzer::checkArgumentsMatch() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php:350]\r\n#3  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\FunctionCallAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:265]\r\n#4  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#5  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php:99]\r\n#6  Psalm\\Internal\\Analyzer\\Statements\\Expression\\BinaryOpAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:235]\r\n#7  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#8  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php:194]\r\n#9  Psalm\\Internal\\Analyzer\\Statements\\Expression\\AssignmentAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:132]\r\n#10 Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#11 Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:519]\r\n#12 Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#13 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php:82]\r\n#14 Psalm\\Internal\\Analyzer\\Statements\\Block\\TryAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:471]\r\n#15 Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#16 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Block/IfElse/IfAnalyzer.php:57]\r\n#17 Psalm\\Internal\\Analyzer\\Statements\\Block\\IfElse\\IfAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Block/IfElseAnalyzer.php:353]\r\n#18 Psalm\\Internal\\Analyzer\\Statements\\Block\\IfElseAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:467]\r\n#19 Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#20 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FunctionLikeAnalyzer.php:654]\r\n#21 Psalm\\Internal\\Analyzer\\FunctionLikeAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:1968]\r\n#22 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyzeClassMethod() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:749]\r\n#23 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FileAnalyzer.php:211]\r\n#24 Psalm\\Internal\\Analyzer\\FileAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:340]\r\n#25 Psalm\\Internal\\Codebase\\Analyzer->Psalm\\Internal\\Codebase\\{closure}() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:579]\r\n#26 Psalm\\Internal\\Codebase\\Analyzer->doAnalysis() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:269]\r\n#27 Psalm\\Internal\\Codebase\\Analyzer->analyzeFiles() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ProjectAnalyzer.php:639]\r\n#28 Psalm\\Internal\\Analyzer\\ProjectAnalyzer->check() called at [/var/www/html/vendor/vimeo/psalm/src/psalm.php:676]\r\n#29 require_once(/var/www/html/vendor/vimeo/psalm/src/psalm.php) called at [/var/www/html/vendor/vimeo/psalm/psalm:2]\r\n```\r\n\r\n```\r\nEmitting src/file/C.php:30 TooFewArguments Too few arguments for newUserFailedLogin - expecting 2 but saw 0\r\n#0  Psalm\\IssueBuffer::add() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/IssueBuffer.php:103]\r\n#1  Psalm\\IssueBuffer::accepts() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentsAnalyzer.php:831]\r\n#2  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\ArgumentsAnalyzer::checkArgumentsMatch() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php:350]\r\n#3  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\FunctionCallAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:265]\r\n#4  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#5  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php:99]\r\n#6  Psalm\\Internal\\Analyzer\\Statements\\Expression\\BinaryOpAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:235]\r\n#7  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#8  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ReturnAnalyzer.php:140]\r\n#9  Psalm\\Internal\\Analyzer\\Statements\\ReturnAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:493]\r\n#10 Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#11 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FunctionLikeAnalyzer.php:654]\r\n#12 Psalm\\Internal\\Analyzer\\FunctionLikeAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:1968]\r\n#13 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyzeClassMethod() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:749]\r\n#14 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FileAnalyzer.php:211]\r\n#15 Psalm\\Internal\\Analyzer\\FileAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:340]\r\n#16 Psalm\\Internal\\Codebase\\Analyzer->Psalm\\Internal\\Codebase\\{closure}() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:579]\r\n#17 Psalm\\Internal\\Codebase\\Analyzer->doAnalysis() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:269]\r\n#18 Psalm\\Internal\\Codebase\\Analyzer->analyzeFiles() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ProjectAnalyzer.php:639]\r\n#19 Psalm\\Internal\\Analyzer\\ProjectAnalyzer->check() called at [/var/www/html/vendor/vimeo/psalm/src/psalm.php:676]\r\n#20 require_once(/var/www/html/vendor/vimeo/psalm/src/psalm.php) called at [/var/www/html/vendor/vimeo/psalm/psalm:2]\r\n```\r\n\r\n```\r\nEmitting src/file/D.php:140 TooFewArguments Too few arguments for updateUserPassword - expecting 2 but saw 1\r\n#0  Psalm\\IssueBuffer::add() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/IssueBuffer.php:103]\r\n#1  Psalm\\IssueBuffer::accepts() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentsAnalyzer.php:831]\r\n#2  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\ArgumentsAnalyzer::checkArgumentsMatch() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php:350]\r\n#3  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\FunctionCallAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:265]\r\n#4  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#5  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentsAnalyzer.php:194]\r\n#6  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\ArgumentsAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php:311]\r\n#7  Psalm\\Internal\\Analyzer\\Statements\\Expression\\Call\\FunctionCallAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:265]\r\n#8  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::handleExpression() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php:44]\r\n#9  Psalm\\Internal\\Analyzer\\Statements\\ExpressionAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Block/IfConditionalAnalyzer.php:117]\r\n#10 Psalm\\Internal\\Analyzer\\Statements\\Block\\IfConditionalAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/Statements/Block/IfElseAnalyzer.php:97]\r\n#11 Psalm\\Internal\\Analyzer\\Statements\\Block\\IfElseAnalyzer::analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:467]\r\n#12 Psalm\\Internal\\Analyzer\\StatementsAnalyzer::analyzeStatement() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php:168]\r\n#13 Psalm\\Internal\\Analyzer\\StatementsAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FunctionLikeAnalyzer.php:654]\r\n#14 Psalm\\Internal\\Analyzer\\FunctionLikeAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:1968]\r\n#15 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyzeClassMethod() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ClassAnalyzer.php:749]\r\n#16 Psalm\\Internal\\Analyzer\\ClassAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/FileAnalyzer.php:211]\r\n#17 Psalm\\Internal\\Analyzer\\FileAnalyzer->analyze() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:340]\r\n#18 Psalm\\Internal\\Codebase\\Analyzer->Psalm\\Internal\\Codebase\\{closure}() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:579]\r\n#19 Psalm\\Internal\\Codebase\\Analyzer->doAnalysis() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Codebase/Analyzer.php:269]\r\n#20 Psalm\\Internal\\Codebase\\Analyzer->analyzeFiles() called at [/var/www/html/vendor/vimeo/psalm/src/Psalm/Internal/Analyzer/ProjectAnalyzer.php:639]\r\n#21 Psalm\\Internal\\Analyzer\\ProjectAnalyzer->check() called at [/var/www/html/vendor/vimeo/psalm/src/psalm.php:676]\r\n#22 require_once(/var/www/html/vendor/vimeo/psalm/src/psalm.php) called at [/var/www/html/vendor/vimeo/psalm/psalm:2]\r\n```\r\n</details>\r\n\r\nI've no idea what's happening here. But it seems to me like an array map is getting corrupt somewhere.\r\n\r\nUnfortunately, the repo is not available as it's closed source.","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/4750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/4750/timeline","performed_via_github_app":null,"state_reason":"completed"}