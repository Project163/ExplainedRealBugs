[{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/814457183","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-814457183","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":814457183,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDQ1NzE4Mw==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T21:41:55Z","updated_at":"2021-04-06T21:41:55Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/e287a07e3f</summary>\n\n```php\n<?php\n\nclass A {\n    /**\n     * @var array\n     *\n     * It's a const, not a variable, but there should be some\n     * way to tell psalm that children must keep ARR as an array\n     */\n    public const ARR = [];\n    \n    public static function foo(): void\n    {\n        foreach (static::ARR as $_key => $_val) {\n        }\n    }\n}\n\nclass B extends A {\n    public const ARR = \"\";\n}\n```\n\n```\nPsalm output (using commit a469c82):\n\nNo issues!\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/814457183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/896187259","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-896187259","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":896187259,"node_id":"IC_kwDOBG8K9841art7","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T17:44:29Z","updated_at":"2021-08-10T17:44:29Z","body":"blocked by https://github.com/vimeo/psalm/issues/942","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/896187259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950193513","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950193513","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950193513,"node_id":"IC_kwDOBG8K9844os1p","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-23T18:27:42Z","updated_at":"2021-10-23T18:27:42Z","body":"Not sure they should be covariant though. Constant inheritance is a thing, so it seems like they should be invariant, like properties","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950193513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5508567316,"node_id":"LE_lADOBG8K984yxekrzwAAAAFIVhEU","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5508567316","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-23T18:27:45Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950243787","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950243787","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950243787,"node_id":"IC_kwDOBG8K9844o5HL","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T01:34:39Z","updated_at":"2021-10-24T01:34:39Z","body":"I believe properties must be invariant because a parent method can be called on a child class and change a child property, potentially violating its type on the child (eg parent defines property as `array`, child defines it as `array<int>`, parent method assigns `array<string>` to the property). Since constants can't be changed, there's no risk of the parent method changing it and violating the type given in the child.\r\n\r\nTo quote the first paragraph of the issue I linked:\r\n> Non-private properties in child classes need to be covariant for reading, like function returns and simultaneously contravariant for writing, like function params. That adds up to them needing to be invariant, or have exactly the same type as the property in the parent class.\r\n\r\nConsts also need to be covariant for reading, but since they can't be written they have no need for contravariance.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950243787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950271497","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950271497","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950271497,"node_id":"IC_kwDOBG8K9844o_4J","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T06:53:27Z","updated_at":"2021-10-24T06:53:27Z","body":"Then what about \r\nhttps://psalm.dev/r/63d21b3f4c\r\nhttps://3v4l.org/HKIQH\r\n?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950271497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950271504","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950271504","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950271504,"node_id":"IC_kwDOBG8K9844o_4Q","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T06:53:30Z","updated_at":"2021-10-24T06:53:30Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/63d21b3f4c</summary>\n\n```php\n<?php\n\nclass A{\n    const C = 'hello';\n    \n    public static function run(): void{\n     \techo strpos(static::C, 'e');   \n    }\n}\n\nclass B extends A{\n    const C = [];\n    \n}\n\nB::run();\n```\n\n```\nPsalm output (using commit 5500ce5):\n\nINFO: MixedArgument - 7:19 - Argument 1 of strpos cannot be mixed, expecting string\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950271504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950344124","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950344124","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950344124,"node_id":"IC_kwDOBG8K9844pRm8","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T15:23:57Z","updated_at":"2021-10-24T15:34:07Z","body":"Yeah, that should show an error because it's not covariant. Child classes should be allowed to define more strict requirements, but not less string requirements for the type. Basically, if it works for return types, it should work for consts.\r\n\r\nhttps://psalm.dev/r/7e497434f3\r\n\r\n~~Looks like I need to open a separate issue for argument contravariance checks being missing.~~ Edit: nevermind I'm an idiot, I screwed up the phpdoc for that one.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950344124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950344132","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-950344132","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":950344132,"node_id":"IC_kwDOBG8K9844pRnE","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T15:24:00Z","updated_at":"2021-10-24T15:34:10Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/7e497434f3</summary>\n\n```php\n<?php\n\nabstract class A\n{\n    /** @var non-empty-string */\n    public const ERROR_CONST_CONTRAVARIANT = \"str\";\n    \n    /** @var string */\n    public const CONST_COVARIANT = \"\";\n    \n    /** @var string */\n    public $errorPropertyCovariant;\n    \n    /** @var non-empty-string */\n    public $errorPropertyContravariant;\n    \n    /** @var string */\n    public $propertyInvariant;\n    \n    /** @param string $arg */\n    abstract public function errorArgumentNotContravariant(string $arg): string;\n    \n    /** @param non-empty-string $arg */\n    abstract public function argumentContravariant(string $arg): string;\n    \n    /** @return non-empty-string */\n    abstract public function errorReturnTypeNotCovariant(): string;\n    \n    /** @return string */\n    abstract public function returnTypeCovariant(): string;\n}\n\nabstract class B extends A\n{\n    /** @var string */\n    public const ERROR_CONST_CONTRAVARIANT = \"\";\n    \n    /** @var non-empty-string */\n    public const CONST_COVARIANT = \"\";\n    \n    /** @var non-empty-string */\n    public $errorPropertyCovariant;\n    \n    /** @var string */\n    public $errorPropertyContravariant;\n    \n    /** @var string */\n    public $propertyInvariant;\n    \n    /** @param non-empty-string $arg */\n    abstract public function errorArgumentNotContravariant(string $arg): string;\n    \n    /** @param string $arg */\n    abstract public function argumentContravariant(string $arg): string;\n    \n    /** @return string */\n    abstract public function errorReturnTypeNotCovariant(): string;\n    \n    /** @return non-empty-string */\n    abstract public function returnTypeCovariant(): string;\n}\n```\n\n```\nPsalm output (using commit e334923):\n\nERROR: NonInvariantDocblockPropertyType - 42:12 - Property B::$errorPropertyCovariant has type non-empty-string, not invariant with A::$errorPropertyCovariant of type string\n\nERROR: NonInvariantDocblockPropertyType - 45:12 - Property B::$errorPropertyContravariant has type string, not invariant with A::$errorPropertyContravariant of type non-empty-string\n\nERROR: MoreSpecificImplementedParamType - 51:67 - Argument 1 of B::errorArgumentNotContravariant has the more specific type 'non-empty-string', expecting 'string' as defined by A::errorArgumentNotContravariant\n\nERROR: LessSpecificImplementedReturnType - 56:17 - The inherited return type 'non-empty-string' for A::errorReturnTypeNotCovariant is more specific than the implemented return type for B::errorreturntypenotcovariant 'string'\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/950344132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T21:32:39Z","updated_at":"2021-12-10T21:32:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vimeo/psalm/issues/7123","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/7123/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/7123/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/7123/events","html_url":"https://github.com/vimeo/psalm/pull/7123","id":1077233289,"node_id":"PR_kwDOBG8K984vsszh","number":7123,"title":"Support type annotations for class consts (fixes #942).","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3481043133,"node_id":"LA_kwDOBG8K987PfIC9","url":"https://api.github.com/repos/vimeo/psalm/labels/release:feature","name":"release:feature","color":"95D3EF","default":false,"description":"The PR will be included in 'Features' section of the release notes"},{"id":3749963670,"node_id":"LA_kwDOBG8K987fg-eW","url":"https://api.github.com/repos/vimeo/psalm/labels/PR:%20Need%20review","name":"PR: Need review","color":"2BE321","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":34,"created_at":"2021-12-10T21:12:50Z","updated_at":"2022-01-25T22:50:02Z","closed_at":"2022-01-25T19:54:40Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":74386167,"node_id":"MDEwOlJlcG9zaXRvcnk3NDM4NjE2Nw==","name":"psalm","full_name":"vimeo/psalm","private":false,"owner":{"login":"vimeo","id":317769,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNzc2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317769?v=4","gravatar_id":"","url":"https://api.github.com/users/vimeo","html_url":"https://github.com/vimeo","followers_url":"https://api.github.com/users/vimeo/followers","following_url":"https://api.github.com/users/vimeo/following{/other_user}","gists_url":"https://api.github.com/users/vimeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vimeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vimeo/subscriptions","organizations_url":"https://api.github.com/users/vimeo/orgs","repos_url":"https://api.github.com/users/vimeo/repos","events_url":"https://api.github.com/users/vimeo/events{/privacy}","received_events_url":"https://api.github.com/users/vimeo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vimeo/psalm","description":"A PHP static analysis tool for finding errors and security vulnerabilities in PHP applications","fork":false,"url":"https://api.github.com/repos/vimeo/psalm","forks_url":"https://api.github.com/repos/vimeo/psalm/forks","keys_url":"https://api.github.com/repos/vimeo/psalm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vimeo/psalm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vimeo/psalm/teams","hooks_url":"https://api.github.com/repos/vimeo/psalm/hooks","issue_events_url":"https://api.github.com/repos/vimeo/psalm/issues/events{/number}","events_url":"https://api.github.com/repos/vimeo/psalm/events","assignees_url":"https://api.github.com/repos/vimeo/psalm/assignees{/user}","branches_url":"https://api.github.com/repos/vimeo/psalm/branches{/branch}","tags_url":"https://api.github.com/repos/vimeo/psalm/tags","blobs_url":"https://api.github.com/repos/vimeo/psalm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vimeo/psalm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vimeo/psalm/git/refs{/sha}","trees_url":"https://api.github.com/repos/vimeo/psalm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vimeo/psalm/statuses/{sha}","languages_url":"https://api.github.com/repos/vimeo/psalm/languages","stargazers_url":"https://api.github.com/repos/vimeo/psalm/stargazers","contributors_url":"https://api.github.com/repos/vimeo/psalm/contributors","subscribers_url":"https://api.github.com/repos/vimeo/psalm/subscribers","subscription_url":"https://api.github.com/repos/vimeo/psalm/subscription","commits_url":"https://api.github.com/repos/vimeo/psalm/commits{/sha}","git_commits_url":"https://api.github.com/repos/vimeo/psalm/git/commits{/sha}","comments_url":"https://api.github.com/repos/vimeo/psalm/comments{/number}","issue_comment_url":"https://api.github.com/repos/vimeo/psalm/issues/comments{/number}","contents_url":"https://api.github.com/repos/vimeo/psalm/contents/{+path}","compare_url":"https://api.github.com/repos/vimeo/psalm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vimeo/psalm/merges","archive_url":"https://api.github.com/repos/vimeo/psalm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vimeo/psalm/downloads","issues_url":"https://api.github.com/repos/vimeo/psalm/issues{/number}","pulls_url":"https://api.github.com/repos/vimeo/psalm/pulls{/number}","milestones_url":"https://api.github.com/repos/vimeo/psalm/milestones{/number}","notifications_url":"https://api.github.com/repos/vimeo/psalm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vimeo/psalm/labels{/name}","releases_url":"https://api.github.com/repos/vimeo/psalm/releases{/id}","deployments_url":"https://api.github.com/repos/vimeo/psalm/deployments","created_at":"2016-11-21T17:04:41Z","updated_at":"2025-11-09T12:51:34Z","pushed_at":"2025-10-15T16:48:22Z","git_url":"git://github.com/vimeo/psalm.git","ssh_url":"git@github.com:vimeo/psalm.git","clone_url":"https://github.com/vimeo/psalm.git","svn_url":"https://github.com/vimeo/psalm","homepage":"https://psalm.dev","size":115257,"stargazers_count":5770,"watchers_count":5770,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1932,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","php","security-analysis","static-analysis","taint-analysis","type-inference"],"visibility":"public","forks":683,"open_issues":1932,"watchers":5770,"default_branch":"6.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vimeo/psalm/pulls/7123","html_url":"https://github.com/vimeo/psalm/pull/7123","diff_url":"https://github.com/vimeo/psalm/pull/7123.diff","patch_url":"https://github.com/vimeo/psalm/pull/7123.patch","merged_at":"2022-01-25T19:54:40Z"},"body":null,"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/7123/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/7123/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5760481473,"node_id":"REFE_lADOBG8K984yxekrzwAAAAFXWfjB","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5760481473","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"71f5b097ae1e8a5cfe1c6d78fa945a936fc72ba3","commit_url":"https://api.github.com/repos/AndrolGenhald/psalm/commits/71f5b097ae1e8a5cfe1c6d78fa945a936fc72ba3","created_at":"2021-12-13T23:38:13Z","performed_via_github_app":null},{"actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T23:43:22Z","updated_at":"2021-12-13T23:43:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vimeo/psalm/issues/7154","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/7154/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/7154/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/7154/events","html_url":"https://github.com/vimeo/psalm/pull/7154","id":1079146086,"node_id":"PR_kwDOBG8K984vyrRk","number":7154,"title":"Improve class constant static analysis","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3481043133,"node_id":"LA_kwDOBG8K987PfIC9","url":"https://api.github.com/repos/vimeo/psalm/labels/release:feature","name":"release:feature","color":"95D3EF","default":false,"description":"The PR will be included in 'Features' section of the release notes"},{"id":3749963670,"node_id":"LA_kwDOBG8K987fg-eW","url":"https://api.github.com/repos/vimeo/psalm/labels/PR:%20Need%20review","name":"PR: Need review","color":"2BE321","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2021-12-13T23:43:22Z","updated_at":"2022-01-26T18:44:31Z","closed_at":"2022-01-26T18:44:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":74386167,"node_id":"MDEwOlJlcG9zaXRvcnk3NDM4NjE2Nw==","name":"psalm","full_name":"vimeo/psalm","private":false,"owner":{"login":"vimeo","id":317769,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxNzc2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317769?v=4","gravatar_id":"","url":"https://api.github.com/users/vimeo","html_url":"https://github.com/vimeo","followers_url":"https://api.github.com/users/vimeo/followers","following_url":"https://api.github.com/users/vimeo/following{/other_user}","gists_url":"https://api.github.com/users/vimeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vimeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vimeo/subscriptions","organizations_url":"https://api.github.com/users/vimeo/orgs","repos_url":"https://api.github.com/users/vimeo/repos","events_url":"https://api.github.com/users/vimeo/events{/privacy}","received_events_url":"https://api.github.com/users/vimeo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vimeo/psalm","description":"A PHP static analysis tool for finding errors and security vulnerabilities in PHP applications","fork":false,"url":"https://api.github.com/repos/vimeo/psalm","forks_url":"https://api.github.com/repos/vimeo/psalm/forks","keys_url":"https://api.github.com/repos/vimeo/psalm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vimeo/psalm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vimeo/psalm/teams","hooks_url":"https://api.github.com/repos/vimeo/psalm/hooks","issue_events_url":"https://api.github.com/repos/vimeo/psalm/issues/events{/number}","events_url":"https://api.github.com/repos/vimeo/psalm/events","assignees_url":"https://api.github.com/repos/vimeo/psalm/assignees{/user}","branches_url":"https://api.github.com/repos/vimeo/psalm/branches{/branch}","tags_url":"https://api.github.com/repos/vimeo/psalm/tags","blobs_url":"https://api.github.com/repos/vimeo/psalm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vimeo/psalm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vimeo/psalm/git/refs{/sha}","trees_url":"https://api.github.com/repos/vimeo/psalm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vimeo/psalm/statuses/{sha}","languages_url":"https://api.github.com/repos/vimeo/psalm/languages","stargazers_url":"https://api.github.com/repos/vimeo/psalm/stargazers","contributors_url":"https://api.github.com/repos/vimeo/psalm/contributors","subscribers_url":"https://api.github.com/repos/vimeo/psalm/subscribers","subscription_url":"https://api.github.com/repos/vimeo/psalm/subscription","commits_url":"https://api.github.com/repos/vimeo/psalm/commits{/sha}","git_commits_url":"https://api.github.com/repos/vimeo/psalm/git/commits{/sha}","comments_url":"https://api.github.com/repos/vimeo/psalm/comments{/number}","issue_comment_url":"https://api.github.com/repos/vimeo/psalm/issues/comments{/number}","contents_url":"https://api.github.com/repos/vimeo/psalm/contents/{+path}","compare_url":"https://api.github.com/repos/vimeo/psalm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vimeo/psalm/merges","archive_url":"https://api.github.com/repos/vimeo/psalm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vimeo/psalm/downloads","issues_url":"https://api.github.com/repos/vimeo/psalm/issues{/number}","pulls_url":"https://api.github.com/repos/vimeo/psalm/pulls{/number}","milestones_url":"https://api.github.com/repos/vimeo/psalm/milestones{/number}","notifications_url":"https://api.github.com/repos/vimeo/psalm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vimeo/psalm/labels{/name}","releases_url":"https://api.github.com/repos/vimeo/psalm/releases{/id}","deployments_url":"https://api.github.com/repos/vimeo/psalm/deployments","created_at":"2016-11-21T17:04:41Z","updated_at":"2025-11-09T12:51:34Z","pushed_at":"2025-10-15T16:48:22Z","git_url":"git://github.com/vimeo/psalm.git","ssh_url":"git@github.com:vimeo/psalm.git","clone_url":"https://github.com/vimeo/psalm.git","svn_url":"https://github.com/vimeo/psalm","homepage":"https://psalm.dev","size":115257,"stargazers_count":5770,"watchers_count":5770,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1932,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","php","security-analysis","static-analysis","taint-analysis","type-inference"],"visibility":"public","forks":683,"open_issues":1932,"watchers":5770,"default_branch":"6.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vimeo/psalm/pulls/7154","html_url":"https://github.com/vimeo/psalm/pull/7154","diff_url":"https://github.com/vimeo/psalm/pull/7154.diff","patch_url":"https://github.com/vimeo/psalm/pull/7154.patch","merged_at":"2022-01-26T18:44:26Z"},"body":"Add class const covariance support (fixes #5589).\r\nAdd check for overriding const from interface in PHP < 8.1 (fixes #7108).\r\nAdd check for ambiguous const inheritance.","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/7154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/7154/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019354847","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1019354847","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1019354847,"node_id":"IC_kwDOBG8K9848wh7f","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-22T20:43:44Z","updated_at":"2022-01-22T20:43:44Z","body":"Right, I had a slight dÃ©ja-vu about this discussion :)\r\n\r\nI'm not sure I follow your argument that class constants should behave like return types.\r\n\r\nThey're more related to property types, no? And those are invariants\r\n\r\n(I have a possible legit explanation why we should consider them covariant, but I need to make sure I'm not just rationalizing here)","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019354847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019355323","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1019355323","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1019355323,"node_id":"IC_kwDOBG8K9848wiC7","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-22T20:46:59Z","updated_at":"2022-01-22T20:46:59Z","body":"@orklah My argument is [here](https://github.com/vimeo/psalm/issues/5589#issuecomment-950243787). Since properties can be written there's a risk of passing a child to a function taking the parent as an argument, and that function could change the property to something that matches the parent type but not the child type. Constants can't be written so there's no such risk.\r\n\r\nIf I'm right, the same also applies to read-only properties, they could be made covariant, but I don't care enough to do it personally.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019355323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5937419502,"node_id":"MEE_lADOBG8K984yxekrzwAAAAFh5dTu","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5937419502","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-01-22T20:47:00Z","performed_via_github_app":null},{"id":5937419504,"node_id":"SE_lADOBG8K984yxekrzwAAAAFh5dTw","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5937419504","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-01-22T20:47:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019355447","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1019355447","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1019355447,"node_id":"IC_kwDOBG8K9848wiE3","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-22T20:48:01Z","updated_at":"2022-01-22T20:48:19Z","body":"Ok, I arrived to the same conclusion, I'm convinced :)\r\n\r\nI didn't understood the last time","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1019355447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5952514655,"node_id":"REFE_lADOBG8K984yxekrzwAAAAFizCpf","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5952514655","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"00a01cac0c82df934e389dfe28c9e201e9934a38","commit_url":"https://api.github.com/repos/AndrolGenhald/psalm/commits/00a01cac0c82df934e389dfe28c9e201e9934a38","created_at":"2022-01-25T20:04:13Z","performed_via_github_app":null},{"id":5952988546,"node_id":"REFE_lADOBG8K984yxekrzwAAAAFi02WC","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5952988546","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0edf260d8b401e7c84462c9c88a411b2f2ffbd47","commit_url":"https://api.github.com/repos/AndrolGenhald/psalm/commits/0edf260d8b401e7c84462c9c88a411b2f2ffbd47","created_at":"2022-01-25T21:39:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025261141","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1025261141","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1025261141,"node_id":"IC_kwDOBG8K9849HD5V","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:38:35Z","updated_at":"2022-01-30T23:38:35Z","body":"Looks like this is now caught?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025261141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025273436","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1025273436","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1025273436,"node_id":"IC_kwDOBG8K9849HG5c","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:29:29Z","updated_at":"2022-01-31T00:31:19Z","body":"Yes, looks like GitHub stopped recognizing \"fixes #...\" comments recently. Maybe it's because things are being merged to master which is no longer the default branch?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025273436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5977352373,"node_id":"CE_lADOBG8K984yxekrzwAAAAFkRyi1","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5977352373","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-01-31T00:29:29Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025274976","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1025274976","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1025274976,"node_id":"IC_kwDOBG8K9849HHRg","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:34:18Z","updated_at":"2022-01-31T00:43:53Z","body":"@orklah Since you changed literal strings to use single quotes, maybe types should be quoted with double quotes now? https://psalm.dev/r/e287a07e3f\r\nAlso, I should probably add `InvalidClassConstantType` or something, I'm guessing `LessSpecific` is correct for most cases this issue will show up, but `''` certainly isn't less specific than `array`, it's completely different.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025274976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5977365055,"node_id":"MEE_lADOBG8K984yxekrzwAAAAFkR1o_","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5977365055","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-01-31T00:34:18Z","performed_via_github_app":null},{"id":5977365057,"node_id":"SE_lADOBG8K984yxekrzwAAAAFkR1pB","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5977365057","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-01-31T00:34:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025274990","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1025274990","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1025274990,"node_id":"IC_kwDOBG8K9849HHRu","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:34:21Z","updated_at":"2022-01-31T00:34:21Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/e287a07e3f</summary>\n\n```php\n<?php\n\nclass A {\n    /**\n     * @var array\n     *\n     * It's a const, not a variable, but there should be some\n     * way to tell psalm that children must keep ARR as an array\n     */\n    public const ARR = [];\n    \n    public static function foo(): void\n    {\n        foreach (static::ARR as $_key => $_val) {\n        }\n    }\n}\n\nclass B extends A {\n    public const ARR = \"\";\n}\n```\n\n```\nPsalm output (using commit e3050b1):\n\nINFO: LessSpecificClassConstantType - 20:18 - The type '''' for B::ARR is more general than the type 'array<array-key, mixed>' inherited from A::ARR\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025274990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025411522","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1025411522","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1025411522,"node_id":"IC_kwDOBG8K9849HonC","user":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T06:11:09Z","updated_at":"2022-01-31T06:11:09Z","body":"Yeah, that could be great","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1025411522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"orklah","id":9605520,"node_id":"MDQ6VXNlcjk2MDU1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9605520?v=4","gravatar_id":"","url":"https://api.github.com/users/orklah","html_url":"https://github.com/orklah","followers_url":"https://api.github.com/users/orklah/followers","following_url":"https://api.github.com/users/orklah/following{/other_user}","gists_url":"https://api.github.com/users/orklah/gists{/gist_id}","starred_url":"https://api.github.com/users/orklah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orklah/subscriptions","organizations_url":"https://api.github.com/users/orklah/orgs","repos_url":"https://api.github.com/users/orklah/repos","events_url":"https://api.github.com/users/orklah/events{/privacy}","received_events_url":"https://api.github.com/users/orklah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1028788775","html_url":"https://github.com/vimeo/psalm/issues/5589#issuecomment-1028788775","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/5589","id":1028788775,"node_id":"IC_kwDOBG8K9849UhIn","user":{"login":"bdsl","id":159481,"node_id":"MDQ6VXNlcjE1OTQ4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/159481?v=4","gravatar_id":"","url":"https://api.github.com/users/bdsl","html_url":"https://github.com/bdsl","followers_url":"https://api.github.com/users/bdsl/followers","following_url":"https://api.github.com/users/bdsl/following{/other_user}","gists_url":"https://api.github.com/users/bdsl/gists{/gist_id}","starred_url":"https://api.github.com/users/bdsl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdsl/subscriptions","organizations_url":"https://api.github.com/users/bdsl/orgs","repos_url":"https://api.github.com/users/bdsl/repos","events_url":"https://api.github.com/users/bdsl/events{/privacy}","received_events_url":"https://api.github.com/users/bdsl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-03T09:39:02Z","updated_at":"2022-02-03T09:39:02Z","body":"I think the same probably doesn't apply generally to read-only properties. Read-only really means write-once. If it's not contravariant there still seems to be a risk that the parent could write it before the child does, and set it to something not assignable to the type defined in the child.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/1028788775/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null,"event":"commented","actor":{"login":"bdsl","id":159481,"node_id":"MDQ6VXNlcjE1OTQ4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/159481?v=4","gravatar_id":"","url":"https://api.github.com/users/bdsl","html_url":"https://github.com/bdsl","followers_url":"https://api.github.com/users/bdsl/followers","following_url":"https://api.github.com/users/bdsl/following{/other_user}","gists_url":"https://api.github.com/users/bdsl/gists{/gist_id}","starred_url":"https://api.github.com/users/bdsl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdsl/subscriptions","organizations_url":"https://api.github.com/users/bdsl/orgs","repos_url":"https://api.github.com/users/bdsl/repos","events_url":"https://api.github.com/users/bdsl/events{/privacy}","received_events_url":"https://api.github.com/users/bdsl/received_events","type":"User","user_view_type":"public","site_admin":false}}]