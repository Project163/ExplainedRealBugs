[{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716756795","html_url":"https://github.com/vimeo/psalm/issues/4422#issuecomment-716756795","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4422","id":716756795,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjc1Njc5NQ==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T18:57:39Z","updated_at":"2020-10-26T18:59:52Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/19c265fae6</summary>\n\n```php\n<?php\n\ndeclare(strict_types=1);\n\nnamespace Psl\\Iter;\n\nuse Generator;\nuse Psl;\n\n/**\n * Returns an iterator containing only the keys and values for which the given predicate\n * returns `true`.\n *\n * The default predicate is casting both they key and the value to boolean.\n *\n * Example:\n *\n *      Iter\\filter_with_key(['a', '0', 'b', 'c'])\n *      => Iter('b', 'c')\n *\n *      Iter\\filter_with_key(\n *          ['foo', 'bar', 'baz', 'qux'],\n *          fn($key, $value) => $key > 1 && Str\\contains($value, 'a')\n *      );\n *      => Iter('baz')\n *\n * @psalm-template Tk\n * @psalm-template Tv\n *\n * @psalm-param iterable<Tk, Tv>                $iterable\n * @psalm-param (callable(Tk, Tv): bool)|null   $predicate\n *\n * @psalm-return iterable<Tk, Tv>\n */\nfunction filter_with_key(iterable $iterable, ?callable $predicate = null): iterable\n{\n    $iter = (static function () use ($iterable, $predicate): Generator {\n        $predicate = $predicate ??\n            /**\n             * @psalm-param Tk $_k\n             * @psalm-param Tv $v\n             *\n             * @return bool\n             */\n            static fn ($_k, $v) => (bool) $v;\n\n        foreach ($iterable as $k => $v) {\n            if ($predicate($k, $v)) {\n                yield $k => $v;\n            }\n        }\n    })();\n    \n    return $iter;\n}\n```\n\n```\nPsalm output (using commit b91370e):\n\nERROR: UndefinedDocblockClass - 40:29 - Docblock-defined class or interface Psl\\Iter\\Tk does not exist\n\nERROR: UndefinedDocblockClass - 41:29 - Docblock-defined class or interface Psl\\Iter\\Tv does not exist\n\nINFO: MixedArgumentTypeCoercion - 48:28 - Argument 1 expects Psl\\Iter\\Tk, parent type Tk:fn-psl\\iter\\filter_with_key as mixed provided\n\nINFO: MixedArgumentTypeCoercion - 48:32 - Argument 2 expects Psl\\Iter\\Tv, parent type Tv:fn-psl\\iter\\filter_with_key as mixed provided\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716756795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716772911","html_url":"https://github.com/vimeo/psalm/issues/4422#issuecomment-716772911","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4422","id":716772911,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjc3MjkxMQ==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T19:28:00Z","updated_at":"2020-10-26T19:28:00Z","body":"This is just in master, right? I refactored Psalm's static reflection, which is a very likely candidate","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716772911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716776470","html_url":"https://github.com/vimeo/psalm/issues/4422#issuecomment-716776470","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4422","id":716776470,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjc3NjQ3MA==","user":{"login":"azjezz","id":29315886,"node_id":"MDQ6VXNlcjI5MzE1ODg2","avatar_url":"https://avatars.githubusercontent.com/u/29315886?v=4","gravatar_id":"","url":"https://api.github.com/users/azjezz","html_url":"https://github.com/azjezz","followers_url":"https://api.github.com/users/azjezz/followers","following_url":"https://api.github.com/users/azjezz/following{/other_user}","gists_url":"https://api.github.com/users/azjezz/gists{/gist_id}","starred_url":"https://api.github.com/users/azjezz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azjezz/subscriptions","organizations_url":"https://api.github.com/users/azjezz/orgs","repos_url":"https://api.github.com/users/azjezz/repos","events_url":"https://api.github.com/users/azjezz/events{/privacy}","received_events_url":"https://api.github.com/users/azjezz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T19:35:04Z","updated_at":"2020-10-26T19:35:04Z","body":"yes :) i use dev-master in psl ... which is something i should probably change soon ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/716776470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"azjezz","id":29315886,"node_id":"MDQ6VXNlcjI5MzE1ODg2","avatar_url":"https://avatars.githubusercontent.com/u/29315886?v=4","gravatar_id":"","url":"https://api.github.com/users/azjezz","html_url":"https://github.com/azjezz","followers_url":"https://api.github.com/users/azjezz/followers","following_url":"https://api.github.com/users/azjezz/following{/other_user}","gists_url":"https://api.github.com/users/azjezz/gists{/gist_id}","starred_url":"https://api.github.com/users/azjezz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azjezz/subscriptions","organizations_url":"https://api.github.com/users/azjezz/orgs","repos_url":"https://api.github.com/users/azjezz/repos","events_url":"https://api.github.com/users/azjezz/events{/privacy}","received_events_url":"https://api.github.com/users/azjezz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3926096214,"node_id":"MDExOkNsb3NlZEV2ZW50MzkyNjA5NjIxNA==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3926096214","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d27d86a84cc3b4c82fcc4eeffee26b5c102eb41d","commit_url":"https://api.github.com/repos/vimeo/psalm/commits/d27d86a84cc3b4c82fcc4eeffee26b5c102eb41d","created_at":"2020-10-27T14:01:22Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/717269602","html_url":"https://github.com/vimeo/psalm/issues/4422#issuecomment-717269602","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/4422","id":717269602,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzI2OTYwMg==","user":{"login":"azjezz","id":29315886,"node_id":"MDQ6VXNlcjI5MzE1ODg2","avatar_url":"https://avatars.githubusercontent.com/u/29315886?v=4","gravatar_id":"","url":"https://api.github.com/users/azjezz","html_url":"https://github.com/azjezz","followers_url":"https://api.github.com/users/azjezz/followers","following_url":"https://api.github.com/users/azjezz/following{/other_user}","gists_url":"https://api.github.com/users/azjezz/gists{/gist_id}","starred_url":"https://api.github.com/users/azjezz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azjezz/subscriptions","organizations_url":"https://api.github.com/users/azjezz/orgs","repos_url":"https://api.github.com/users/azjezz/repos","events_url":"https://api.github.com/users/azjezz/events{/privacy}","received_events_url":"https://api.github.com/users/azjezz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T14:08:53Z","updated_at":"2020-10-27T14:08:53Z","body":"Thank @muglug ‚ù§Ô∏è  üéâ ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/717269602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"azjezz","id":29315886,"node_id":"MDQ6VXNlcjI5MzE1ODg2","avatar_url":"https://avatars.githubusercontent.com/u/29315886?v=4","gravatar_id":"","url":"https://api.github.com/users/azjezz","html_url":"https://github.com/azjezz","followers_url":"https://api.github.com/users/azjezz/followers","following_url":"https://api.github.com/users/azjezz/following{/other_user}","gists_url":"https://api.github.com/users/azjezz/gists{/gist_id}","starred_url":"https://api.github.com/users/azjezz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azjezz/subscriptions","organizations_url":"https://api.github.com/users/azjezz/orgs","repos_url":"https://api.github.com/users/azjezz/repos","events_url":"https://api.github.com/users/azjezz/events{/privacy}","received_events_url":"https://api.github.com/users/azjezz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3926136941,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzkyNjEzNjk0MQ==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3926136941","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-10-27T14:08:53Z","performed_via_github_app":null},{"id":3926136948,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5MjYxMzY5NDg=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3926136948","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-10-27T14:08:53Z","performed_via_github_app":null},{"id":4265551426,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQyNjU1NTE0MjY=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/4265551426","actor":{"login":"danog","id":7339644,"node_id":"MDQ6VXNlcjczMzk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7339644?v=4","gravatar_id":"","url":"https://api.github.com/users/danog","html_url":"https://github.com/danog","followers_url":"https://api.github.com/users/danog/followers","following_url":"https://api.github.com/users/danog/following{/other_user}","gists_url":"https://api.github.com/users/danog/gists{/gist_id}","starred_url":"https://api.github.com/users/danog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danog/subscriptions","organizations_url":"https://api.github.com/users/danog/orgs","repos_url":"https://api.github.com/users/danog/repos","events_url":"https://api.github.com/users/danog/events{/privacy}","received_events_url":"https://api.github.com/users/danog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7f975045f4fe2f686929dc4dc5393735e3920222","commit_url":"https://api.github.com/repos/danog/psalm/commits/7f975045f4fe2f686929dc4dc5393735e3920222","created_at":"2021-01-29T10:48:42Z","performed_via_github_app":null}]