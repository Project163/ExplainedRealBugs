{"url":"https://api.github.com/repos/vimeo/psalm/issues/1574","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/1574/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/1574/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/1574/events","html_url":"https://github.com/vimeo/psalm/issues/1574","id":435869047,"node_id":"MDU6SXNzdWU0MzU4NjkwNDc=","number":1574,"title":"Diff ignores new suppressions in code","user":{"login":"still-dreaming-1","id":354296,"node_id":"MDQ6VXNlcjM1NDI5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/354296?v=4","gravatar_id":"","url":"https://api.github.com/users/still-dreaming-1","html_url":"https://github.com/still-dreaming-1","followers_url":"https://api.github.com/users/still-dreaming-1/followers","following_url":"https://api.github.com/users/still-dreaming-1/following{/other_user}","gists_url":"https://api.github.com/users/still-dreaming-1/gists{/gist_id}","starred_url":"https://api.github.com/users/still-dreaming-1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/still-dreaming-1/subscriptions","organizations_url":"https://api.github.com/users/still-dreaming-1/orgs","repos_url":"https://api.github.com/users/still-dreaming-1/repos","events_url":"https://api.github.com/users/still-dreaming-1/events{/privacy}","received_events_url":"https://api.github.com/users/still-dreaming-1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061586,"node_id":"MDU6TGFiZWw0ODYwNjE1ODY=","url":"https://api.github.com/repos/vimeo/psalm/labels/bug","name":"bug","color":"ee0701","default":true,"description":null},{"id":1110282282,"node_id":"MDU6TGFiZWwxMTEwMjgyMjgy","url":"https://api.github.com/repos/vimeo/psalm/labels/language%20server","name":"language server","color":"fcdeb0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-04-22T20:03:07Z","updated_at":"2019-04-23T01:51:43Z","closed_at":"2019-04-23T01:51:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In the last few releases of Psalm, there is a regression bug where running Psalm with both types of diff enabled, will ignore newly added suppressions that you put directly in the code, such as:\r\n\r\n```\r\n/**                                                                                                                                     \r\n * @psalm-suppress MixedMethodCall                                                                                                      \r\n */\r\n```\r\n\r\nThis is how I am running Psalm: `psalm --diff --diff-methods --show-info=false`\r\nI tried deleting the temporary files, but the problem comes back again (immediately or delayed, I can't remember..). Here is another way of explaining it. Let's say you run that command and it shows an issue. If you then go to that line of code and add the suppression above it, and then run that command again, it will still report that issue.\r\n\r\nI will try to do some more testing and edit this report as I get more information, as well as try to narrow down exactly which release introduced the bug.","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/1574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/1574/timeline","performed_via_github_app":null,"state_reason":"completed"}