[{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550319057","html_url":"https://github.com/vimeo/psalm/issues/2308#issuecomment-550319057","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2308","id":550319057,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDMxOTA1Nw==","user":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T13:54:49Z","updated_at":"2019-11-06T13:54:49Z","body":"BTW, i noticed that in this snippet it is also possible to instantiate the `$collection` as follows:\r\n`$collection = new Collection([ 1, 2, 3 ]);` even though i stated it's collection of strings in `@var` annotation. I don't know whether `@var` annotation must take precendence over actual type inferred from code, so I do not call it a bug.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550319057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2775405802,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3NzU0MDU4MDI=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2775405802","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-06T13:56:33Z","label":{"name":"bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550319923","html_url":"https://github.com/vimeo/psalm/issues/2308#issuecomment-550319923","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2308","id":550319923,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDMxOTkyMw==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T13:56:53Z","updated_at":"2019-11-06T13:56:53Z","body":"> I don't know whether @var annotation must take precendence over actual type inferred from code, so I do not call it a bug.\r\n\r\nYeah, `@var` always takes precedence. But the first is a bug.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550319923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2775407002,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc3NTQwNzAwMg==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2775407002","actor":{"login":"var","id":447262,"node_id":"MDQ6VXNlcjQ0NzI2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/447262?v=4","gravatar_id":"","url":"https://api.github.com/users/var","html_url":"https://github.com/var","followers_url":"https://api.github.com/users/var/followers","following_url":"https://api.github.com/users/var/following{/other_user}","gists_url":"https://api.github.com/users/var/gists{/gist_id}","starred_url":"https://api.github.com/users/var/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/var/subscriptions","organizations_url":"https://api.github.com/users/var/orgs","repos_url":"https://api.github.com/users/var/repos","events_url":"https://api.github.com/users/var/events{/privacy}","received_events_url":"https://api.github.com/users/var/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-06T13:56:53Z","performed_via_github_app":null},{"id":2775407004,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NzU0MDcwMDQ=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2775407004","actor":{"login":"var","id":447262,"node_id":"MDQ6VXNlcjQ0NzI2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/447262?v=4","gravatar_id":"","url":"https://api.github.com/users/var","html_url":"https://github.com/var","followers_url":"https://api.github.com/users/var/followers","following_url":"https://api.github.com/users/var/following{/other_user}","gists_url":"https://api.github.com/users/var/gists{/gist_id}","starred_url":"https://api.github.com/users/var/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/var/subscriptions","organizations_url":"https://api.github.com/users/var/orgs","repos_url":"https://api.github.com/users/var/repos","events_url":"https://api.github.com/users/var/events{/privacy}","received_events_url":"https://api.github.com/users/var/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-06T13:56:54Z","performed_via_github_app":null},{"id":2775969311,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc3NTk2OTMxMQ==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2775969311","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"a8ed6ba9c452b4e0b10939258d936e2e2c7bbb33","commit_url":"https://api.github.com/repos/vimeo/psalm/commits/a8ed6ba9c452b4e0b10939258d936e2e2c7bbb33","created_at":"2019-11-06T16:20:56Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550490233","html_url":"https://github.com/vimeo/psalm/issues/2308#issuecomment-550490233","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2308","id":550490233,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDQ5MDIzMw==","user":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T20:38:12Z","updated_at":"2019-11-06T20:38:12Z","body":"@muglug You are likely the fastest issue resolver in the open source world :)\r\n\r\nYour fix indeed works, but somehow if i change `456` to an empty array, psalm does no longer notice the error:\r\n\r\nSee https://psalm.dev/r/f3e26879c7","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550490233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2776799819,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc3Njc5OTgxOQ==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2776799819","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-06T20:38:13Z","performed_via_github_app":null},{"id":2776799823,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NzY3OTk4MjM=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2776799823","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-06T20:38:13Z","performed_via_github_app":null},{"id":2777033984,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI3NzcwMzM5ODQ=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/2777033984","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"64996f464e6e992bd5de06c1ba155520708d5508","commit_url":"https://api.github.com/repos/vimeo/psalm/commits/64996f464e6e992bd5de06c1ba155520708d5508","created_at":"2019-11-06T21:59:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550519809","html_url":"https://github.com/vimeo/psalm/issues/2308#issuecomment-550519809","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2308","id":550519809,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDUxOTgwOQ==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T21:59:39Z","updated_at":"2019-11-06T21:59:39Z","body":"Empty array case is now fixed, thanks","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/550519809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}}]