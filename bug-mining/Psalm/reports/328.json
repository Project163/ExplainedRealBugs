{"url":"https://api.github.com/repos/vimeo/psalm/issues/2362","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/2362/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/2362/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/2362/events","html_url":"https://github.com/vimeo/psalm/issues/2362","id":525782196,"node_id":"MDU6SXNzdWU1MjU3ODIxOTY=","number":2362,"title":"Literal type reported as invalid type if there is only one","user":{"login":"iquito","id":973653,"node_id":"MDQ6VXNlcjk3MzY1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/973653?v=4","gravatar_id":"","url":"https://api.github.com/users/iquito","html_url":"https://github.com/iquito","followers_url":"https://api.github.com/users/iquito/followers","following_url":"https://api.github.com/users/iquito/following{/other_user}","gists_url":"https://api.github.com/users/iquito/gists{/gist_id}","starred_url":"https://api.github.com/users/iquito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iquito/subscriptions","organizations_url":"https://api.github.com/users/iquito/orgs","repos_url":"https://api.github.com/users/iquito/repos","events_url":"https://api.github.com/users/iquito/events{/privacy}","received_events_url":"https://api.github.com/users/iquito/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061588,"node_id":"MDU6TGFiZWw0ODYwNjE1ODg=","url":"https://api.github.com/repos/vimeo/psalm/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-11-20T12:47:13Z","updated_at":"2019-11-29T14:50:30Z","closed_at":"2019-11-21T15:44:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am often using these types of annotations:\r\n\r\n    /**\r\n     * @var string\r\n     * @psalm-var \"easy\"|\"medium\"|\"hard\"\r\n     */\r\n    private $type;\r\n\r\nThis enforces enum types on variables for psalm, so only valid types are used within the code base, while being backwards-compatible. Yet the following does not work currently:\r\n\r\n    /**\r\n     * @var string\r\n     * @psalm-var \"easy\"\r\n     */\r\n    private $type;\r\n\r\nIf there is only one value, psalm reports `\"easy\" is not a valid type`. The same thing happens with other types as well (like ints, floats, etc.), for example:\r\n\r\n    /**\r\n     * @var int\r\n     * @psalm-var 3\r\n     */\r\n    private $type;\r\n\r\nThis will report: `3 is not a valid type`, yet something like `3|4` is correctly recognized.\r\n\r\nOften multiple values are used in enums, but it can happen that at some point there is only one valid value (maybe more are planned in the future, but not yet), so it would be nice to be able to define this too.","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/2362/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/2362/timeline","performed_via_github_app":null,"state_reason":"completed"}