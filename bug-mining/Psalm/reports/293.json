{"url":"https://api.github.com/repos/vimeo/psalm/issues/2291","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/2291/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/2291/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/2291/events","html_url":"https://github.com/vimeo/psalm/issues/2291","id":516163631,"node_id":"MDU6SXNzdWU1MTYxNjM2MzE=","number":2291,"title":"Cannot figure out how to use nested template parameters","user":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061586,"node_id":"MDU6TGFiZWw0ODYwNjE1ODY=","url":"https://api.github.com/repos/vimeo/psalm/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-11-01T14:56:17Z","updated_at":"2019-11-06T10:05:12Z","closed_at":"2019-11-01T17:25:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I try to use the following construction:\r\n\r\n```php\r\n/** \r\n  * @psalm-template TView as object\r\n  * @psalm-param list<Viewable<TView>> $viewables\r\n  * @psalm-return list<TView>\r\n  */\r\nfunction getViews(array $viewables): array\r\n// ...\r\n```\r\n\r\nAs you see, here I use nested `TView` template parameter. The intent is to map list of Viewable objects to their Views, and correctly typehint this. However, psalm gives me an error when trying to use this function. Am I doing something wrong?\r\n\r\nsee https://psalm.dev/r/d3dfbb95ce\r\n\r\nBTW, this works in TypeScript: https://codesandbox.io/s/uwpqw","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/2291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/2291/timeline","performed_via_github_app":null,"state_reason":"completed"}