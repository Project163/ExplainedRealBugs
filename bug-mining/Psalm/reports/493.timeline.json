[{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754523","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583754523","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583754523,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1NDUyMw==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T16:50:26Z","updated_at":"2020-02-08T16:50:26Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/cdabfb49ce</summary>\n\n```php\n<?php\n\n/** @psalm-return array<array<string, string>> */\nfunction functionsToBeTested() : array\n{\n  $as = ['key'];\n  $bs = ['not important'];\n  \n    return array_map(\n        /** @psalm-suppress MissingClosureParamType closure type is omitted to show missing inference */\n        function (string $a, $b) : array {\n            return [$a => $b];\n        },\n        $as,\n        $bs\n    );\n}\n```\n\n```\nPsalm output (using commit b439a57):\n\nINFO: MixedReturnTypeCoercion - 9:12 - The type 'list<non-empty-array<string, mixed>>' is more general than the declared return type 'array<array-key, array<string, string>>' for functionsToBeTested\n\nINFO: MixedReturnTypeCoercion - 3:19 - The declared return type 'array<array-key, array<string, string>>' for functionsToBeTested is more specific than the inferred return type 'list<non-empty-array<string, mixed>>'\n```\n</details>\n\n<details>\n<summary>https://psalm.dev/r/c5f1c38c50</summary>\n\n```php\n<?php\n\n/** @psalm-return array<array<string, string>> */\nfunction functionsToBeTested() : array\n{\n  $as = ['key'];\n  $bs = ['not important'];\n  \n    return array_map(\n        function (string $a, string $b) : array {\n            return [$a => $b];\n        },\n        $as,\n        $bs\n    );\n}\n```\n\n```\nPsalm output (using commit b439a57):\n\nNo issues!\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754557","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583754557","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583754557,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1NDU1Nw==","user":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T16:50:50Z","updated_at":"2020-02-08T16:50:50Z","body":"Actual example from the code in the downstream project: https://psalm.dev/r/f5715acb09","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754562","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583754562","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583754562,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1NDU2Mg==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T16:50:53Z","updated_at":"2020-02-08T16:50:53Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/f5715acb09</summary>\n\n```php\n<?php\n\nfinal class BetterReflectionFunctionAbstract\n{\n}\n\nfinal class BetterReflectionClass\n{\n    public function getMethod(string $method) : BetterReflectionFunctionAbstract\n    {\n        throw new \\Exception('ignore');\n    }\n}\n\nfinal class ClassReflector\n{\n    public function reflect(string $className) : BetterReflectionClass\n    {\n        throw new \\Exception('ignore');\n    }\n}\n\nfinal class FunctionReflector\n{\n    public function reflect(string $functionName) : BetterReflectionFunctionAbstract\n    {\n        throw new \\Exception('ignore');\n    }\n}\n\n/**\n * @psalm-return array<string, array{\n *   0: BetterReflectionFunctionAbstract,\n *   1: BetterReflectionFunctionAbstract,\n *   2: list<string>\n * }>\n */\nfunction functionsToBeTested() : array\n{\n    $fromClassReflector = new ClassReflector();\n    $toClassReflector   = new ClassReflector();\n    $fromReflector      = new FunctionReflector();\n    $toReflector        = new FunctionReflector();\n\n    $functions = [\n        'orderChanged'                       => [\n            '[BC] CHANGED: Default parameter value for for parameter $a of orderChanged() changed from 1 to 3',\n            '[BC] CHANGED: Default parameter value for for parameter $c of orderChanged() changed from 3 to 1',\n        ],\n    ];\n\n    return array_merge(\n        array_combine(\n            array_keys($functions),\n            array_map(\n                function (string $function, array $errorMessages) use ($fromReflector, $toReflector) : array {\n                    return [\n                        $fromReflector->reflect($function),\n                        $toReflector->reflect($function),\n                        $errorMessages,\n                    ];\n                },\n                array_keys($functions),\n                array_values($functions)\n            )\n        ),\n        [\n            'C::changed1' => [\n                $fromClassReflector->reflect('C')->getMethod('changed1'),\n                $toClassReflector->reflect('C')->getMethod('changed1'),\n                [\n                    '[BC] CHANGED: Default parameter value for for parameter $a of C::changed1() changed from 1 to 2',\n                ],\n            ]\n        ]\n    );\n}\n```\n\n```\nPsalm output (using commit b439a57):\n\nERROR: InvalidReturnStatement - 52:12 - The type 'non-empty-array<string(C::changed1)|string(orderChanged), array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: non-empty-array<array-key, mixed>}>' does not match the declared return type 'array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: list<string>}>' for functionsToBeTested\n\nERROR: InvalidReturnType - 32:18 - The declared return type 'array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: list<string>}>' for functionsToBeTested is incorrect, got 'non-empty-array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: non-empty-array<array-key, mixed>}>'\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583754562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":3020022314,"node_id":"MDEyOkxhYmVsZWRFdmVudDMwMjAwMjIzMTQ=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3020022314","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-02-08T16:55:27Z","label":{"name":"bug","color":"ee0701"},"performed_via_github_app":null},{"id":3020035799,"node_id":"MDExOkNsb3NlZEV2ZW50MzAyMDAzNTc5OQ==","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3020035799","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5f4d797fe12af6b1aeaec0d145d8e3337c4fbb46","commit_url":"https://api.github.com/repos/vimeo/psalm/commits/5f4d797fe12af6b1aeaec0d145d8e3337c4fbb46","created_at":"2020-02-08T17:18:02Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583758908","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583758908","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583758908,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1ODkwOA==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T17:36:01Z","updated_at":"2020-02-08T17:36:01Z","body":"For whatever reason the `@psalm-suppress` confuses things, when it's removed everything works: https://psalm.dev/r/3ca580553f","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583758908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583758914","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583758914","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583758914,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1ODkxNA==","user":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T17:36:05Z","updated_at":"2020-02-08T17:36:05Z","body":"I found these snippets:\n<details>\n<summary>https://psalm.dev/r/3ca580553f</summary>\n\n```php\n<?php\n\n/** @psalm-return array<array<string, string>> */\nfunction functionsToBeTested() : array\n{\n  $as = ['key'];\n  $bs = ['not important'];\n  \n    return array_map(\n        function (string $a, $b) : array {\n            return [$a => $b];\n        },\n        $as,\n        $bs\n    );\n}\n```\n\n```\nPsalm output (using commit 5f4d797):\n\nNo issues!\n```\n</details>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583758914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"psalm-github-bot[bot]","id":58627613,"node_id":"MDM6Qm90NTg2Mjc2MTM=","avatar_url":"https://avatars.githubusercontent.com/in/48546?v=4","gravatar_id":"","url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D","html_url":"https://github.com/apps/psalm-github-bot","followers_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/followers","following_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/repos","events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/psalm-github-bot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":3020066677,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMjAwNjY2Nzc=","url":"https://api.github.com/repos/vimeo/psalm/issues/events/3020066677","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0464d3f43445b2bfb48796ecddfea3e0d01b041f","commit_url":"https://api.github.com/repos/Roave/BackwardCompatibilityCheck/commits/0464d3f43445b2bfb48796ecddfea3e0d01b041f","created_at":"2020-02-08T18:11:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583762586","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583762586","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583762586,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2MjU4Ng==","user":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T18:14:56Z","updated_at":"2020-02-08T18:14:56Z","body":"Uhh, something else happened too: if you see the [comment above (about the real-world use-case)](https://github.com/vimeo/psalm/issues/2772#issuecomment-583754562), @psalm-github-bot found:\r\n\r\n```\r\nPsalm output (using commit b439a57):\r\n\r\nERROR: InvalidReturnStatement - 52:12 - The type 'non-empty-array<string(C::changed1)|string(orderChanged), array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: non-empty-array<array-key, mixed>}>' does not match the declared return type 'array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: list<string>}>' for functionsToBeTested\r\n\r\nERROR: InvalidReturnType - 32:18 - The declared return type 'array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: list<string>}>' for functionsToBeTested is incorrect, got 'non-empty-array<string, array{0: BetterReflectionFunctionAbstract, 1: BetterReflectionFunctionAbstract, 2: non-empty-array<array-key, mixed>}>'\r\n```\r\n\r\nNow it no longer reports anything","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583762586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583763944","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583763944","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583763944,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2Mzk0NA==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T18:30:05Z","updated_at":"2020-02-08T18:30:05Z","body":"> Now it no longer reports anything\r\n\r\nYeah, because now it's inferring the types properly, right? Or is the code incorrect?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583763944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583765284","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583765284","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583765284,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2NTI4NA==","user":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T18:46:30Z","updated_at":"2020-02-08T18:46:30Z","body":"No, the code is correct, I'm just wondering what changed on this side meanwhile (the snippet wasn't changed)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583765284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583765876","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583765876","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583765876,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2NTg3Ng==","user":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T18:52:59Z","updated_at":"2020-02-08T18:52:59Z","body":"That's due to this commit: https://github.com/vimeo/psalm/commit/9115ffd2\r\n\r\nPsalm now has a better idea the array type than it did before, so it uses that instead of the `array` param type.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583765876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583766493","html_url":"https://github.com/vimeo/psalm/issues/2772#issuecomment-583766493","issue_url":"https://api.github.com/repos/vimeo/psalm/issues/2772","id":583766493,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2NjQ5Mw==","user":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T18:59:43Z","updated_at":"2020-02-08T18:59:43Z","body":"\\o/ thanks! ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/comments/583766493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5716353092,"node_id":"REFE_lADOBG8K984hgCOVzwAAAAFUuKBE","url":"https://api.github.com/repos/vimeo/psalm/issues/events/5716353092","actor":{"login":"Ocramius","id":154256,"node_id":"MDQ6VXNlcjE1NDI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/154256?v=4","gravatar_id":"","url":"https://api.github.com/users/Ocramius","html_url":"https://github.com/Ocramius","followers_url":"https://api.github.com/users/Ocramius/followers","following_url":"https://api.github.com/users/Ocramius/following{/other_user}","gists_url":"https://api.github.com/users/Ocramius/gists{/gist_id}","starred_url":"https://api.github.com/users/Ocramius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ocramius/subscriptions","organizations_url":"https://api.github.com/users/Ocramius/orgs","repos_url":"https://api.github.com/users/Ocramius/repos","events_url":"https://api.github.com/users/Ocramius/events{/privacy}","received_events_url":"https://api.github.com/users/Ocramius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ed882dd781b1a630b0d70f7f06391992f20572cd","commit_url":"https://api.github.com/repos/Roave/BackwardCompatibilityCheck/commits/ed882dd781b1a630b0d70f7f06391992f20572cd","created_at":"2021-12-05T04:15:06Z","performed_via_github_app":null}]