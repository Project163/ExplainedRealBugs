{"url":"https://api.github.com/repos/vimeo/psalm/issues/3234","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/3234/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/3234/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/3234/events","html_url":"https://github.com/vimeo/psalm/issues/3234","id":607127457,"node_id":"MDU6SXNzdWU2MDcxMjc0NTc=","number":3234,"title":"Custom Iterator causes mixed key in foreach loop","user":{"login":"still-dreaming-1","id":354296,"node_id":"MDQ6VXNlcjM1NDI5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/354296?v=4","gravatar_id":"","url":"https://api.github.com/users/still-dreaming-1","html_url":"https://github.com/still-dreaming-1","followers_url":"https://api.github.com/users/still-dreaming-1/followers","following_url":"https://api.github.com/users/still-dreaming-1/following{/other_user}","gists_url":"https://api.github.com/users/still-dreaming-1/gists{/gist_id}","starred_url":"https://api.github.com/users/still-dreaming-1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/still-dreaming-1/subscriptions","organizations_url":"https://api.github.com/users/still-dreaming-1/orgs","repos_url":"https://api.github.com/users/still-dreaming-1/repos","events_url":"https://api.github.com/users/still-dreaming-1/events{/privacy}","received_events_url":"https://api.github.com/users/still-dreaming-1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061586,"node_id":"MDU6TGFiZWw0ODYwNjE1ODY=","url":"https://api.github.com/repos/vimeo/psalm/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-04-26T22:19:26Z","updated_at":"2020-04-27T04:41:44Z","closed_at":"2020-04-27T04:41:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Here is an [example](https://psalm.dev/r/e355f22569) with a `MixedArgument` that should be understood to be an int. Initially I tried this without the `@implements` annotation above the class with the same results, then I tried adding that annotation to see if it would help. Either way the result are the same, so I'm not sure if this example is better with or without that annotation. I guess it would be ideal if Psalm knew the key was an int based on my custom return type for the `key()` method, but if the only way Psalm can know this is based on the `@implements` iterator key type that would also be good.","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/3234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/3234/timeline","performed_via_github_app":null,"state_reason":"completed"}