{"url":"https://api.github.com/repos/vimeo/psalm/issues/5652","repository_url":"https://api.github.com/repos/vimeo/psalm","labels_url":"https://api.github.com/repos/vimeo/psalm/issues/5652/labels{/name}","comments_url":"https://api.github.com/repos/vimeo/psalm/issues/5652/comments","events_url":"https://api.github.com/repos/vimeo/psalm/issues/5652/events","html_url":"https://github.com/vimeo/psalm/issues/5652","id":862828581,"node_id":"MDU6SXNzdWU4NjI4Mjg1ODE=","number":5652,"title":"`no-return` type breaks whole union in `@return`","user":{"login":"someniatko","id":15856706,"node_id":"MDQ6VXNlcjE1ODU2NzA2","avatar_url":"https://avatars.githubusercontent.com/u/15856706?v=4","gravatar_id":"","url":"https://api.github.com/users/someniatko","html_url":"https://github.com/someniatko","followers_url":"https://api.github.com/users/someniatko/followers","following_url":"https://api.github.com/users/someniatko/following{/other_user}","gists_url":"https://api.github.com/users/someniatko/gists{/gist_id}","starred_url":"https://api.github.com/users/someniatko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someniatko/subscriptions","organizations_url":"https://api.github.com/users/someniatko/orgs","repos_url":"https://api.github.com/users/someniatko/repos","events_url":"https://api.github.com/users/someniatko/events{/privacy}","received_events_url":"https://api.github.com/users/someniatko/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":486061586,"node_id":"MDU6TGFiZWw0ODYwNjE1ODY=","url":"https://api.github.com/repos/vimeo/psalm/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-20T13:38:21Z","updated_at":"2021-04-22T04:33:56Z","closed_at":"2021-04-22T04:33:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a minimal reproducer of the problem:\r\nhttps://psalm.dev/r/3b5004a09a\r\n\r\n`no-return` is a \"bottom type\", this means it should be a subtype of all types. But for now it \"contaminates\" the return type of\r\nany function and Psalm just thinks it must not return nothing at all, even if there are other non-bottom types in the union.\r\n\r\nYou can see where I have to use this type in practice in the following repo, which is a simple library for FP-ish Result type (Success or Error), and where I encountered this error:\r\nhttps://github.com/someniatko/php-result-type","closed_by":{"login":"muglug","id":2292638,"node_id":"MDQ6VXNlcjIyOTI2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2292638?v=4","gravatar_id":"","url":"https://api.github.com/users/muglug","html_url":"https://github.com/muglug","followers_url":"https://api.github.com/users/muglug/followers","following_url":"https://api.github.com/users/muglug/following{/other_user}","gists_url":"https://api.github.com/users/muglug/gists{/gist_id}","starred_url":"https://api.github.com/users/muglug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muglug/subscriptions","organizations_url":"https://api.github.com/users/muglug/orgs","repos_url":"https://api.github.com/users/muglug/repos","events_url":"https://api.github.com/users/muglug/events{/privacy}","received_events_url":"https://api.github.com/users/muglug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vimeo/psalm/issues/5652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vimeo/psalm/issues/5652/timeline","performed_via_github_app":null,"state_reason":"completed"}