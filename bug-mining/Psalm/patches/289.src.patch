diff --git a/src/Psalm/Internal/Visitor/ReflectorVisitor.php b/src/Psalm/Internal/Visitor/ReflectorVisitor.php
index 92963f2ba..34ecb149a 100644
--- a/src/Psalm/Internal/Visitor/ReflectorVisitor.php
+++ b/src/Psalm/Internal/Visitor/ReflectorVisitor.php
@@ -2609,6 +2609,12 @@ class ReflectorVisitor extends PhpParser\NodeVisitorAbstract implements PhpParse
                     )
                 );
 
+                $namespaced_type->queueClassLikesForScanning(
+                    $this->codebase,
+                    $this->file_storage,
+                    $this->function_template_types + $this->class_template_types
+                );
+
                 $assertion_type_parts[$i] = $prefix . $namespaced_type->getId();
             } else {
                 $assertion_type_parts[$i] = $prefix . $assertion_type_part;
diff --git a/tests/AssertAnnotationTest.php b/tests/AssertAnnotationTest.php
index 8bfc0a894..c6419f338 100644
--- a/tests/AssertAnnotationTest.php
+++ b/tests/AssertAnnotationTest.php
@@ -632,6 +632,22 @@ class AssertAnnotationTest extends TestCase
                         return $arr;
                     }'
             ],
+            'scanAssertionTypes' => [
+                '<?php
+                    /**
+                     * @param mixed $_p
+                     * @psalm-assert-if-true Exception $_p
+                     * @psalm-assert-if-false Error $_p
+                     * @psalm-assert Throwable $_p
+                     */
+                    function f($_p): bool {
+                        return true;
+                    }
+
+                    $q = null;
+                    if (rand(0, 1) && f($q)) {}
+                    if (!f($q)) {}'
+            ],
         ];
     }
 
