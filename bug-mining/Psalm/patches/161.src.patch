diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
index 3a7dc59e5..84c148980 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
@@ -743,6 +743,12 @@ class PropertyAssignmentAnalyzer
                 $union_comparison_results
             );
 
+            if ($type_match_found && $union_comparison_results->replacement_union_type) {
+                if ($var_id) {
+                    $context->vars_in_scope[$var_id] = $union_comparison_results->replacement_union_type;
+                }
+            }
+
             if ($union_comparison_results->type_coerced) {
                 if ($union_comparison_results->type_coerced_from_mixed) {
                     if (IssueBuffer::accepts(
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index 650173832..3b50f2ef5 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -2029,6 +2029,34 @@ class ClassTemplateTest extends TestCase
                     function takesFooDerived($foo): void {}',
                 'error_message' => 'InvalidReturnStatement'
             ],
+            'specializeTypeInPropertyAssignment' => [
+                '<?php
+                    /** @template T */
+                    class Foo {
+                        /** @var \Closure():T $closure */
+                        private $closure;
+
+                        /** @param \Closure():T $closure */
+                        public function __construct($closure)
+                        {
+                            $this->closure = $closure;
+                        }
+                    }
+
+                    class Bar {
+                        /** @var Foo<array> */
+                        private $FooArray;
+
+                        public function __construct() {
+                            $this->FooArray = new Foo(function(): array { return ["foo" => "bar"]; });
+                            expectsShape($this->FooArray);
+                        }
+                    }
+
+                    /** @param Foo<array{foo: string}> $_ */
+                    function expectsShape($_): void {}',
+                'error_message' => 'MixedArgumentTypeCoercion'
+            ],
         ];
     }
 }
