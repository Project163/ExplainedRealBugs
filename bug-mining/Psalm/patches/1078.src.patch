diff --git a/src/Psalm/Context.php b/src/Psalm/Context.php
index 6a8af0cd0..0f1b4bab1 100644
--- a/src/Psalm/Context.php
+++ b/src/Psalm/Context.php
@@ -712,6 +712,10 @@ class Context
         }
 
         $this->clauses = $clauses_to_keep;
+
+        if ($this->parent_context) {
+            $this->parent_context->removeMutableObjectVars();
+        }
     }
 
     public function updateChecks(Context $op_context): void
diff --git a/tests/PropertyTypeTest.php b/tests/PropertyTypeTest.php
index 303838e9a..960d04d49 100644
--- a/tests/PropertyTypeTest.php
+++ b/tests/PropertyTypeTest.php
@@ -114,6 +114,38 @@ class PropertyTypeTest extends TestCase
         $this->analyzeFile('somefile.php', new Context());
     }
 
+    public function testFooBar(): void
+    {
+        Config::getInstance()->remember_property_assignments_after_call = false;
+
+        $this->addFile(
+            'somefile.php',
+            '<?php
+                    class A {
+                        private ?int $bar = null;
+
+                        public function baz(): void
+                        {
+                            $this->bar = null;
+
+                            foreach (range(1, 5) as $part) {
+                                if ($part === 3) {
+                                    $this->foo();
+                                }
+                            }
+
+                            if ($this->bar === null) {}
+                        }
+
+                        private function foo() : void {
+                            $this->bar = 5;
+                        }
+                    }'
+        );
+
+        $this->analyzeFile('somefile.php', new Context());
+    }
+
     public function testForgetFinalMethodCalls(): void
     {
         Config::getInstance()->remember_property_assignments_after_call = false;
