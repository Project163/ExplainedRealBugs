diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
index f7a142a21..574048b8f 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
@@ -1091,10 +1091,8 @@ class ArrayFetchAnalyzer
 
         if ($in_assignment
             && $type instanceof TArray
-            && (($type->type_params[0]->isEmpty() && $type->type_params[1]->isEmpty())
-                || ($type->type_params[1]->hasMixed()
-                    && count($key_values) === 1
-                    && \is_string($key_values[0])))
+            && $type->type_params[0]->isEmpty()
+            && $type->type_params[1]->isEmpty()
         ) {
             $from_empty_array = $type->type_params[0]->isEmpty() && $type->type_params[1]->isEmpty();
 
diff --git a/tests/ArrayAssignmentTest.php b/tests/ArrayAssignmentTest.php
index 3ebbb12f1..2bd04d7c3 100644
--- a/tests/ArrayAssignmentTest.php
+++ b/tests/ArrayAssignmentTest.php
@@ -1046,20 +1046,6 @@ class ArrayAssignmentTest extends TestCase
                     $c = new C();
                     $c[] = "hello";',
             ],
-            'addToMixedArray' => [
-                '<?php
-                    /**
-                     * @param array{key: string} $a
-                     */
-                    function foo(array $a): void {
-                        echo $a["key"];
-                    }
-
-                    function bar(array $arr) : void {
-                        $arr["key"] = "qqq";
-                        foo($arr);
-                    }'
-            ],
             'checkEmptinessAfterConditionalArrayAdjustment' => [
                 '<?php
                     class A {
@@ -1567,6 +1553,21 @@ class ArrayAssignmentTest extends TestCase
                     [$key => 123];
                 }',
             ],
+            'assignStringIndexed' => [
+                '<?php
+                    /**
+                     * @param array<string, mixed> $array
+                     * @return non-empty-array<string, mixed>
+                     */
+                    function getArray(array $array): array {
+                        if (rand(0, 1)) {
+                            $array["a"] = 2;
+                        } else {
+                            $array["b"] = 1;
+                        }
+                        return $array;
+                    }'
+            ],
         ];
     }
 
