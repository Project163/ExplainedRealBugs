diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/MethodCallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/MethodCallAnalyzer.php
index aa6cdc9f6..226c7d8ef 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/MethodCallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/MethodCallAnalyzer.php
@@ -308,17 +308,6 @@ class MethodCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\
             $stmt->inferredType->by_ref = $returns_by_ref;
         }
 
-        if ($no_method_id) {
-            return self::checkMethodArgs(
-                null,
-                $stmt->args,
-                $found_generic_params,
-                $context,
-                new CodeLocation($statements_analyzer->getSource(), $stmt),
-                $statements_analyzer
-            );
-        }
-
         if ($codebase->store_node_types
             && (!$context->collect_initializations
                 && !$context->collect_mutations)
@@ -332,6 +321,17 @@ class MethodCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\
             );
         }
 
+        if ($no_method_id) {
+            return self::checkMethodArgs(
+                null,
+                $stmt->args,
+                $found_generic_params,
+                $context,
+                new CodeLocation($statements_analyzer->getSource(), $stmt),
+                $statements_analyzer
+            );
+        }
+
         if (!$config->remember_property_assignments_after_call && !$context->collect_initializations) {
             $context->removeAllObjectVars();
         }
@@ -892,6 +892,14 @@ class MethodCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\
             return true;
         }
 
+        if ($codebase->store_node_types && $method_id) {
+            $codebase->analyzer->addNodeReference(
+                $statements_analyzer->getFilePath(),
+                $stmt->name,
+                $method_id . '()'
+            );
+        }
+
         if ($context->collect_initializations && $context->calling_method_id) {
             list($calling_method_class) = explode('::', $context->calling_method_id);
             $codebase->file_reference_provider->addMethodReferenceToClassMember(
@@ -1084,14 +1092,6 @@ class MethodCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\
                         $args
                     );
 
-                    if ($codebase->store_node_types && $method_id) {
-                        $codebase->analyzer->addNodeReference(
-                            $statements_analyzer->getFilePath(),
-                            $stmt->name,
-                            $method_id . '()'
-                        );
-                    }
-
                     if (isset($stmt->inferredType)) {
                         $return_type_candidate = $stmt->inferredType;
                     }
diff --git a/tests/LanguageServer/SymbolLookupTest.php b/tests/LanguageServer/SymbolLookupTest.php
index 57f247e1f..acf69cbaa 100644
--- a/tests/LanguageServer/SymbolLookupTest.php
+++ b/tests/LanguageServer/SymbolLookupTest.php
@@ -228,4 +228,43 @@ class SymbolLookupTest extends \Psalm\Tests\TestCase
 
         $this->assertSame('type: int', $symbol_at_position[0]);
     }
+
+    /**
+     * @return void
+     */
+    public function testGetSymbolPositionMissingArg()
+    {
+        $codebase = $this->project_analyzer->getCodebase();
+        $config = $codebase->config;
+        $config->throw_exception = false;
+
+        $this->addFile(
+            'somefile.php',
+            '<?php
+                namespace B;
+
+                class A {
+                    /** @var int|null */
+                    protected $a;
+
+                    public function foo(int $i) : string {
+                        return "hello";
+                    }
+
+                    public function bar() : void {
+                        $this->foo();
+                    }
+                }'
+        );
+
+        $codebase->file_provider->openFile('somefile.php');
+        $codebase->scanFiles();
+        $this->analyzeFile('somefile.php', new Context());
+
+        $symbol_at_position = $codebase->getReferenceAtPosition('somefile.php', new Position(12, 33));
+
+        $this->assertNotNull($symbol_at_position);
+
+        $this->assertSame('B\A::foo()', $symbol_at_position[0]);
+    }
 }
