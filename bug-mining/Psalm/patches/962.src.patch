diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
index 20451be10..1e76ec575 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
@@ -79,9 +79,16 @@ class ArrayFetchAnalyzer
         if ($stmt->dim) {
             $was_inside_use = $context->inside_use;
             $context->inside_use = true;
+
+            $was_inside_unset = $context->inside_unset;
+            $context->inside_unset = false;
+
             if (ExpressionAnalyzer::analyze($statements_analyzer, $stmt->dim, $context) === false) {
                 return false;
             }
+
+            $context->inside_unset = $was_inside_unset;
+
             $context->inside_use = $was_inside_use;
         }
 
diff --git a/tests/ArrayAccessTest.php b/tests/ArrayAccessTest.php
index 08ccc2260..6d2610e98 100644
--- a/tests/ArrayAccessTest.php
+++ b/tests/ArrayAccessTest.php
@@ -982,6 +982,16 @@ class ArrayAccessTest extends TestCase
                         echo $a[0] ?? "default";
                     }'
             ],
+            'allowUnsettingNested' => [
+                '<?php
+                    /** @psalm-immutable */
+                    final class test {
+                        public function __construct(public int $value) {}
+                    }
+                    $test = new test(1);
+                    $a = [1 => $test];
+                    unset($a[$test->value]);'
+            ],
         ];
     }
 
