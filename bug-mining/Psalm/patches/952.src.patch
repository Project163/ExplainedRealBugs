diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/MatchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/MatchAnalyzer.php
index a348fd138..46041df9f 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/MatchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/MatchAnalyzer.php
@@ -106,10 +106,14 @@ class MatchAnalyzer
                 new PhpParser\Node\Expr\Throw_(
                     new PhpParser\Node\Expr\New_(
                         new PhpParser\Node\Name\FullyQualified(
-                            'UnhandledMatchError'
-                        )
+                            'UnhandledMatchError',
+                            $stmt->getAttributes()
+                        ),
+                        [],
+                        $stmt->getAttributes()
                     )
-                )
+                ),
+                $stmt->getAttributes()
             );
         }
 
@@ -255,17 +259,28 @@ class MatchAnalyzer
             new PhpParser\Node\Name\FullyQualified(['in_array']),
             [
                 new PhpParser\Node\Arg(
-                    $match_condition
+                    $match_condition,
+                    false,
+                    false,
+                    $attributes
                 ),
                 new PhpParser\Node\Arg(
                     new PhpParser\Node\Expr\Array_(
-                        $array_items
-                    )
+                        $array_items,
+                        $attributes
+                    ),
+                    false,
+                    false,
+                    $attributes
                 ),
                 new PhpParser\Node\Arg(
                     new PhpParser\Node\Expr\ConstFetch(
-                        new PhpParser\Node\Name\FullyQualified(['true'])
-                    )
+                        new PhpParser\Node\Name\FullyQualified(['true']),
+                        $attributes
+                    ),
+                    false,
+                    false,
+                    $attributes
                 ),
             ],
             $attributes
diff --git a/stubs/Php80.php b/stubs/Php80.php
index b0f43c1c6..f6c453c0d 100644
--- a/stubs/Php80.php
+++ b/stubs/Php80.php
@@ -72,3 +72,5 @@ class ReflectionUnionType extends ReflectionType {
      */
     public function getTypes() {}
 }
+
+class UnhandledMatchError extends Error {}
diff --git a/tests/MatchTest.php b/tests/MatchTest.php
index 20332e79f..d8e69bee6 100644
--- a/tests/MatchTest.php
+++ b/tests/MatchTest.php
@@ -205,6 +205,18 @@ class MatchTest extends TestCase
                 false,
                 '8.0',
             ],
+            'matchTrueImpossible' => [
+                '<?php
+                    $foo = new \stdClass();
+                    $a = match (true) {
+                        $foo instanceof \stdClass => 1,
+                        $foo instanceof \Exception => 1,
+                    };',
+                'error_message' => 'TypeDoesNotContainType',
+                [],
+                false,
+                '8.0',
+            ],
         ];
     }
 }
