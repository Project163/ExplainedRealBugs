diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
index bcd4d2f38..aad0dc387 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
@@ -253,6 +253,7 @@ class BinaryOpAnalyzer
 
             $left_context = clone $context;
             $left_context->parent_context = $context;
+            $left_context->if_context = null;
             $left_context->assigned_var_ids = [];
 
             if (ExpressionAnalyzer::analyze($statements_analyzer, $stmt->left, $left_context) === false) {
diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
index b13acae59..a3139314c 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
@@ -210,7 +210,9 @@ class TernaryAnalyzer
                     $context->vars_in_scope[$var_id],
                     $type
                 );
-            } elseif (isset($if_context->vars_in_scope[$var_id])) {
+            } elseif (isset($if_context->vars_in_scope[$var_id])
+                && isset($if_context->assigned_var_ids[$var_id])
+            ) {
                 $context->vars_in_scope[$var_id] = Type::combineUnionTypes(
                     $if_context->vars_in_scope[$var_id],
                     $type
diff --git a/src/Psalm/Type/Algebra.php b/src/Psalm/Type/Algebra.php
index fd4421c87..9f2628689 100644
--- a/src/Psalm/Type/Algebra.php
+++ b/src/Psalm/Type/Algebra.php
@@ -691,6 +691,16 @@ class Algebra
                     }
                 }
 
+                foreach ($possibilities as $var_possibilities) {
+                    if (count($var_possibilities) === 2) {
+                        if ($var_possibilities[0] === '!' . $var_possibilities[1]
+                            || $var_possibilities[1] === '!' . $var_possibilities[0]
+                        ) {
+                            continue 2;
+                        }
+                    }
+                }
+
                 $clauses[] = new Clause(
                     $possibilities,
                     false,
diff --git a/tests/TypeReconciliation/ConditionalTest.php b/tests/TypeReconciliation/ConditionalTest.php
index 220fd9f91..d4701f583 100644
--- a/tests/TypeReconciliation/ConditionalTest.php
+++ b/tests/TypeReconciliation/ConditionalTest.php
@@ -2269,6 +2269,24 @@ class ConditionalTest extends \Psalm\Tests\TestCase
                         }
                     }',
             ],
+            'issetTwice' => [
+                '<?php
+                    class B {
+                        public function foo() : bool {
+                            return true;
+                        }
+                    }
+
+                    /** @param array<int, B> $p */
+                    function foo(array $p, int $id) : void {
+                        if ((isset($p[$id]) && rand(0, 1))
+                            || (!isset($p[$id]) && rand(0, 1))
+                        ) {
+                            isset($p[$id]) ? $p[$id] : new B;
+                            isset($p[$id]) ? $p[$id]->foo() : "bar";
+                        }
+                    }'
+            ],
         ];
     }
 
diff --git a/tests/TypeReconciliation/TypeAlgebraTest.php b/tests/TypeReconciliation/TypeAlgebraTest.php
index 85efb17b7..0bb1c0078 100644
--- a/tests/TypeReconciliation/TypeAlgebraTest.php
+++ b/tests/TypeReconciliation/TypeAlgebraTest.php
@@ -1141,6 +1141,21 @@ class TypeAlgebraTest extends \Psalm\Tests\TestCase
                     echo $array["other"];',
                 'error_message' => 'InvalidArrayOffset',
             ],
+            'allEventualitiesMet' => [
+                '<?php
+                    function resize(bool $landscape, bool $crop) : int {
+                        if (($landscape && $crop) || (!$landscape && !$crop)) {
+                            return 100;
+                        }
+
+                        if ((!$landscape && $crop) || ($landscape && !$crop)) {
+                            return 50;
+                        }
+
+                        throw new \UnexpectedValueException("bad");
+                    }',
+                'error_message' => 'ParadoxicalCondition'
+            ],
         ];
     }
 }
