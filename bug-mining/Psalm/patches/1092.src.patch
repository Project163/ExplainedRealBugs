diff --git a/src/Psalm/Config.php b/src/Psalm/Config.php
index ca0fac456..02e663cc7 100644
--- a/src/Psalm/Config.php
+++ b/src/Psalm/Config.php
@@ -4,6 +4,7 @@ namespace Psalm;
 
 use Composer\Autoload\ClassLoader;
 use Composer\Semver\Semver;
+use Composer\Semver\VersionParser;
 use DOMDocument;
 use LogicException;
 use Psalm\Config\IssueHandler;
@@ -2053,8 +2054,10 @@ class Config
             $php_version = $composer_json['require']['php'] ?? null;
 
             if (\is_string($php_version)) {
+                $version_parser = new VersionParser();
+                $min_php_version = $version_parser->parseConstraints($php_version)->getLowerBound()->getVersion();
                 foreach (['5.4', '5.5', '5.6', '7.0', '7.1', '7.2', '7.3', '7.4', '8.0'] as $candidate) {
-                    if (Semver::satisfies($candidate, $php_version)) {
+                    if (Semver::satisfies($min_php_version, "~$candidate.0")) {
                         return $candidate;
                     }
                 }
diff --git a/tests/fixtures/ComposerPhpVersion/composer.json b/tests/fixtures/ComposerPhpVersion/composer.json
index e41b6f1b9..7bc453205 100644
--- a/tests/fixtures/ComposerPhpVersion/composer.json
+++ b/tests/fixtures/ComposerPhpVersion/composer.json
@@ -1,5 +1,5 @@
 {
   "require": {
-    "php": "7.2|7.3,<8"
+    "php": "^7.2.1|7.3,<8"
   }
 }
