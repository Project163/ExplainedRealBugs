diff --git a/src/Psalm/Internal/Type/NegatedAssertionReconciler.php b/src/Psalm/Internal/Type/NegatedAssertionReconciler.php
index a96778b58..18401c6f4 100644
--- a/src/Psalm/Internal/Type/NegatedAssertionReconciler.php
+++ b/src/Psalm/Internal/Type/NegatedAssertionReconciler.php
@@ -338,6 +338,8 @@ class NegatedAssertionReconciler extends Reconciler
 
                         $did_remove_type = true;
                     }
+                } elseif ($assertion === 'string()') {
+                    $existing_var_type->addType(new Type\Atomic\TNonEmptyString());
                 }
             } elseif ($scalar_type === 'string') {
                 $scalar_value = substr($assertion, $bracket_pos + 1, -1);
diff --git a/tests/TypeReconciliation/ConditionalTest.php b/tests/TypeReconciliation/ConditionalTest.php
index 7869f9bec..d3d5a6bdb 100644
--- a/tests/TypeReconciliation/ConditionalTest.php
+++ b/tests/TypeReconciliation/ConditionalTest.php
@@ -2755,6 +2755,24 @@ class ConditionalTest extends \Psalm\Tests\TestCase
                         return [$type];
                     }'
             ],
+            'nonEmptyStringAfterLiteralCheck' => [
+                '<?php
+                    /**
+                     * @param non-empty-string $greeting
+                     */
+                    function sayHi(string $greeting): void {
+                        echo $greeting;
+                    }
+
+                    /** @var string */
+                    $hello = "foo";
+
+                    if ($hello === "") {
+                        throw new \Exception("an empty string is not a greeting");
+                    }
+
+                    sayHi($hello);',
+            ],
         ];
     }
 
