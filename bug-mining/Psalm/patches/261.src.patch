diff --git a/src/Psalm/Internal/Analyzer/ScopeAnalyzer.php b/src/Psalm/Internal/Analyzer/ScopeAnalyzer.php
index 0581a7b4d..e3180b239 100644
--- a/src/Psalm/Internal/Analyzer/ScopeAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/ScopeAnalyzer.php
@@ -247,20 +247,11 @@ class ScopeAnalyzer
                 }
             }
 
-            if ($stmt instanceof PhpParser\Node\Stmt\While_) {
-                $control_actions = array_merge(
-                    self::getFinalControlActions($stmt->stmts, $exit_functions),
-                    $control_actions
-                );
-            }
-
-            if ($stmt instanceof PhpParser\Node\Stmt\Do_) {
+            if ($stmt instanceof PhpParser\Node\Stmt\Do_
+                || $stmt instanceof PhpParser\Node\Stmt\While_
+            ) {
                 $do_actions = self::getFinalControlActions($stmt->stmts, $exit_functions);
 
-                if (count($do_actions) && !in_array(self::ACTION_NONE, $do_actions, true)) {
-                    return $do_actions;
-                }
-
                 $control_actions = array_merge($control_actions, $do_actions);
             }
 
diff --git a/tests/Loop/DoTest.php b/tests/Loop/DoTest.php
index 85672abec..fc29f1433 100644
--- a/tests/Loop/DoTest.php
+++ b/tests/Loop/DoTest.php
@@ -293,6 +293,18 @@ class DoTest extends \Psalm\Tests\TestCase
                     do {} while (--$i > 0);
                     echo $i === 0;',
             ],
+            'doWhileNonInfinite' => [
+                '<?php
+                    function foo(): int {
+                        do {
+                            $value = mt_rand(0, 10);
+                            if ($value > 5) continue;
+                            break;
+                        } while (true);
+
+                        return $value;
+                    }',
+            ],
         ];
     }
 
