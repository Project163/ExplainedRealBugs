diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/ArrayAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/ArrayAnalyzer.php
index 84eb22f43..db33280ad 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/ArrayAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/ArrayAnalyzer.php
@@ -97,9 +97,6 @@ class ArrayAnalyzer
             $item_key_type = TypeCombiner::combine(
                 $array_creation_info->item_key_atomic_types,
                 $codebase,
-                false,
-                true,
-                30,
             );
         } else {
             $item_key_type = null;
@@ -109,9 +106,6 @@ class ArrayAnalyzer
             $item_value_type = TypeCombiner::combine(
                 $array_creation_info->item_value_atomic_types,
                 $codebase,
-                false,
-                true,
-                30,
             );
         } else {
             $item_value_type = null;
diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/SimpleTypeInferer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/SimpleTypeInferer.php
index dbb695461..e5b039987 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/SimpleTypeInferer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/SimpleTypeInferer.php
@@ -548,10 +548,6 @@ class SimpleTypeInferer
         if ($array_creation_info->item_key_atomic_types) {
             $item_key_type = TypeCombiner::combine(
                 $array_creation_info->item_key_atomic_types,
-                null,
-                false,
-                true,
-                30,
             );
         }
 
@@ -559,10 +555,6 @@ class SimpleTypeInferer
         if ($array_creation_info->item_value_atomic_types) {
             $item_value_type = TypeCombiner::combine(
                 $array_creation_info->item_value_atomic_types,
-                null,
-                false,
-                true,
-                30,
             );
         }
 
diff --git a/tests/ArrayFunctionCallTest.php b/tests/ArrayFunctionCallTest.php
index 05947471f..af57d0420 100644
--- a/tests/ArrayFunctionCallTest.php
+++ b/tests/ArrayFunctionCallTest.php
@@ -2523,6 +2523,19 @@ class ArrayFunctionCallTest extends TestCase
                     }
                     ',
             ],
+            'functionRequiringArrayWithLargeUnionTypeKeyAllowsInputArrayUsingSameUnionForItsKeys' => [
+                'code' => '<?php
+                    /** @psalm-type TLargeUnion = 1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31 */
+
+                    /** @return TLargeUnion */
+                    function makeKey(): int { throw new Exception("irrelevant"); }
+
+                    /** @param array<TLargeUnion, mixed> $_input */
+                    function consumeArray(array $_input): void {}
+
+                    consumeArray([makeKey() => null]);
+                    ',
+            ],
         ];
     }
 
