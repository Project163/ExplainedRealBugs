diff --git a/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php b/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
index 9ca879854..27c47e583 100644
--- a/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
@@ -440,6 +440,12 @@ class StatementsAnalyzer extends SourceAnalyzer implements StatementsSource
                                 $loop_scope->unreferenced_vars[$var_id] = $locations;
                             }
                         }
+
+                        foreach ($loop_scope->unreferenced_vars as $var_id => $locations) {
+                            if (!isset($context->unreferenced_vars[$var_id])) {
+                                $this->registerVariableUses($locations);
+                            }
+                        }
                     }
                 }
 
@@ -538,6 +544,12 @@ class StatementsAnalyzer extends SourceAnalyzer implements StatementsSource
                                 $loop_scope->possibly_unreferenced_vars[$var_id] = $locations;
                             }
                         }
+
+                        foreach ($loop_scope->unreferenced_vars as $var_id => $locations) {
+                            if (!isset($context->unreferenced_vars[$var_id])) {
+                                $this->registerVariableUses($locations);
+                            }
+                        }
                     }
                 }
 
diff --git a/tests/UnusedVariableTest.php b/tests/UnusedVariableTest.php
index baa9c3dc8..f6e593ea6 100644
--- a/tests/UnusedVariableTest.php
+++ b/tests/UnusedVariableTest.php
@@ -1366,6 +1366,19 @@ class UnusedVariableTest extends TestCase
                         ${$name} = $value;
                     }'
             ],
+            'usedLoopVariable' => [
+                '<?php
+                    $a = 0;
+                    while (rand(0, 1)) {
+                        if ($a < 20) {
+                            $a = $a + 1;
+                            echo "hello";
+                            continue;
+                        }
+                        echo "goodbye";
+                        break;
+                    }'
+            ],
         ];
     }
 
