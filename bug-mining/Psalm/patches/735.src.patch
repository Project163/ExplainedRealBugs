diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php
index 9db96f861..8945f93db 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/Method/AtomicMethodCallAnalyzer.php
@@ -707,10 +707,18 @@ class AtomicMethodCallAnalyzer extends CallAnalyzer
                     && (isset($class_storage_for_method->methods[$method_name_lc]))
                     && !$class_storage_for_method->methods[$method_name_lc]->overridden_somewhere
                     && !$class_storage_for_method->methods[$method_name_lc]->overridden_downstream
-                    && ($plain_getter_property = $class_storage_for_method->methods[$method_name_lc]->plain_getter)
-                    && isset($context->vars_in_scope[$getter_var_id = $lhs_var_id . '->' . $plain_getter_property])
                 ) {
-                    $return_type_candidate = clone $context->vars_in_scope[$getter_var_id];
+                    $plain_getter_property = $class_storage_for_method->methods[$method_name_lc]->plain_getter;
+
+                    if ($plain_getter_property) {
+                        $getter_var_id = $lhs_var_id . '->' . $plain_getter_property;
+
+                        if (isset($context->vars_in_scope[$getter_var_id])) {
+                            $return_type_candidate = clone $context->vars_in_scope[$getter_var_id];
+                        } else {
+                            $plain_getter_property = null;
+                        }
+                    }
                 }
             }
 
diff --git a/tests/MethodCallTest.php b/tests/MethodCallTest.php
index 06a0f5ec5..0acbb674c 100644
--- a/tests/MethodCallTest.php
+++ b/tests/MethodCallTest.php
@@ -65,6 +65,44 @@ class MethodCallTest extends TestCase
         $this->analyzeFile('somefile.php', new \Psalm\Context());
     }
 
+    /**
+     * @return void
+     */
+    public function testPropertyMethodCallMemoize()
+    {
+        $this->project_analyzer->getConfig()->memoize_method_calls = true;
+
+        $this->addFile(
+            'somefile.php',
+            '<?php
+                class Foo
+                {
+                    private ?string $bar;
+
+                    public function __construct(?string $bar) {
+                        $this->bar = $bar;
+                    }
+
+                    public function getBar(): ?string {
+                        return $this->bar;
+                    }
+                }
+
+                function doSomething(Foo $foo): string {
+                    if ($foo->getBar() !== null){
+                        return $foo->getBar();
+                    }
+
+                    return "hello";
+                }'
+        );
+
+        $this->analyzeFile('somefile.php', new \Psalm\Context());
+    }
+
+
+
+
     /**
      * @return void
      */
