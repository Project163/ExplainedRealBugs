diff --git a/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php b/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
index 0c9a600ea..b16177fa1 100644
--- a/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
@@ -119,29 +119,36 @@ class FunctionAnalyzer extends FunctionLikeAnalyzer
 
                         if (count($atomic_types) === 1) {
                             if (isset($atomic_types['array'])) {
+                                if ($atomic_types['array'] instanceof Type\Atomic\TCallableArray
+                                    || $atomic_types['array'] instanceof Type\Atomic\TCallableList
+                                    || $atomic_types['array'] instanceof Type\Atomic\TCallableObjectLikeArray
+                                ) {
+                                    return Type::getInt(false, 2);
+                                }
+
                                 if ($atomic_types['array'] instanceof Type\Atomic\TNonEmptyArray) {
                                     return new Type\Union([
                                         $atomic_types['array']->count !== null
                                             ? new Type\Atomic\TLiteralInt($atomic_types['array']->count)
                                             : new Type\Atomic\TInt
                                     ]);
-                                } elseif ($atomic_types['array'] instanceof Type\Atomic\TNonEmptyList) {
+                                }
+
+                                if ($atomic_types['array'] instanceof Type\Atomic\TNonEmptyList) {
                                     return new Type\Union([
                                         $atomic_types['array']->count !== null
                                             ? new Type\Atomic\TLiteralInt($atomic_types['array']->count)
                                             : new Type\Atomic\TInt
                                     ]);
-                                } elseif ($atomic_types['array'] instanceof Type\Atomic\ObjectLike
+                                }
+
+                                if ($atomic_types['array'] instanceof Type\Atomic\ObjectLike
                                     && $atomic_types['array']->sealed
                                 ) {
                                     return new Type\Union([
                                         new Type\Atomic\TLiteralInt(count($atomic_types['array']->properties))
                                     ]);
                                 }
-                            } elseif (isset($atomic_types['callable-array'])
-                                || isset($atomic_types['callable-list'])
-                            ) {
-                                return Type::getInt(false, 2);
                             }
                         }
                     }
diff --git a/src/Psalm/Internal/Type/AssertionReconciler.php b/src/Psalm/Internal/Type/AssertionReconciler.php
index 854940f1b..3223f7424 100644
--- a/src/Psalm/Internal/Type/AssertionReconciler.php
+++ b/src/Psalm/Internal/Type/AssertionReconciler.php
@@ -1778,7 +1778,7 @@ class AssertionReconciler extends \Psalm\Type\Reconciler
         }
 
         if ($array_types) {
-            return new Type\Union($array_types);
+            return \Psalm\Internal\Type\TypeCombination::combineTypes($array_types);
         }
 
         $failed_reconciliation = 2;
@@ -1866,7 +1866,7 @@ class AssertionReconciler extends \Psalm\Type\Reconciler
         }
 
         if ($array_types) {
-            return new Type\Union($array_types);
+            return \Psalm\Internal\Type\TypeCombination::combineTypes($array_types);
         }
 
         $failed_reconciliation = 2;
@@ -1987,7 +1987,7 @@ class AssertionReconciler extends \Psalm\Type\Reconciler
         }
 
         if ($array_types) {
-            return new Type\Union($array_types);
+            return \Psalm\Internal\Type\TypeCombination::combineTypes($array_types);
         }
 
         $failed_reconciliation = 2;
@@ -2078,7 +2078,7 @@ class AssertionReconciler extends \Psalm\Type\Reconciler
         }
 
         if ($callable_types) {
-            return new Type\Union($callable_types);
+            return \Psalm\Internal\Type\TypeCombination::combineTypes($callable_types);
         }
 
         $failed_reconciliation = 2;
diff --git a/src/Psalm/Type.php b/src/Psalm/Type.php
index bb8368309..75e0a8c0b 100644
--- a/src/Psalm/Type.php
+++ b/src/Psalm/Type.php
@@ -566,7 +566,7 @@ abstract class Type
                 $properties[$property_key] = $property_type;
             }
 
-            if ($type !== 'array' && $type !== 'object') {
+            if ($type !== 'array' && $type !== 'object' && $type !== 'callable-array') {
                 throw new TypeParseTreeException('Unexpected brace character');
             }
 
@@ -578,6 +578,10 @@ abstract class Type
                 return new TObjectWithProperties($properties);
             }
 
+            if ($type === 'callable-array') {
+                return new Atomic\TCallableObjectLikeArray($properties);
+            }
+
             return new ObjectLike($properties);
         }
 
diff --git a/src/Psalm/Type/Atomic/TCallableArray.php b/src/Psalm/Type/Atomic/TCallableArray.php
index 976c3cdc7..1b84cc1fb 100644
--- a/src/Psalm/Type/Atomic/TCallableArray.php
+++ b/src/Psalm/Type/Atomic/TCallableArray.php
@@ -10,4 +10,9 @@ class TCallableArray extends TNonEmptyArray
      * @var string
      */
     public $value = 'callable-array';
+
+    public function getKey(bool $show_extra = true)
+    {
+        return 'array';
+    }
 }
diff --git a/src/Psalm/Type/Atomic/TCallableObjectLikeArray.php b/src/Psalm/Type/Atomic/TCallableObjectLikeArray.php
index 776282829..73d0a2874 100644
--- a/src/Psalm/Type/Atomic/TCallableObjectLikeArray.php
+++ b/src/Psalm/Type/Atomic/TCallableObjectLikeArray.php
@@ -7,4 +7,9 @@ namespace Psalm\Type\Atomic;
 class TCallableObjectLikeArray extends ObjectLike
 {
     const KEY = 'callable-array';
+
+    public function getKey(bool $include_extra = true)
+    {
+        return 'array';
+    }
 }
diff --git a/src/Psalm/Type/Union.php b/src/Psalm/Type/Union.php
index cfd876ddd..24ce93a48 100644
--- a/src/Psalm/Type/Union.php
+++ b/src/Psalm/Type/Union.php
@@ -629,7 +629,7 @@ class Union
      */
     public function hasArray()
     {
-        return isset($this->types['array']) || isset($this->types['callable-array']);
+        return isset($this->types['array']);
     }
 
     /**
diff --git a/tests/FunctionCallTest.php b/tests/FunctionCallTest.php
index 5f79fcad2..9511b9857 100644
--- a/tests/FunctionCallTest.php
+++ b/tests/FunctionCallTest.php
@@ -1702,7 +1702,14 @@ class FunctionCallTest extends TestCase
                         return $str;
                     }',
                 'error_message' => 'NullableReturnStatement'
-            ]
+            ],
+            'noCrashWithPattern' => [
+                '<?php
+                    echo !\is_callable($loop_callback)
+                        || (\is_array($loop_callback)
+                            && !\method_exists(...$loop_callback));',
+                'error_message' => 'UndefinedGlobalVariable'
+            ],
         ];
     }
 }
diff --git a/tests/TypeCombinationTest.php b/tests/TypeCombinationTest.php
index 865d0677f..2c126eab1 100644
--- a/tests/TypeCombinationTest.php
+++ b/tests/TypeCombinationTest.php
@@ -522,6 +522,13 @@ class TypeCombinationTest extends TestCase
                     'callable'
                 ],
             ],
+            'combineCallableArrayAndArray' => [
+                'array<array-key, mixed>',
+                [
+                    'callable-array{class-string, string}',
+                    'array',
+                ],
+            ],
         ];
     }
 
diff --git a/tests/TypeReconciliation/ReconcilerTest.php b/tests/TypeReconciliation/ReconcilerTest.php
index f4cf67171..7cf8b98f6 100644
--- a/tests/TypeReconciliation/ReconcilerTest.php
+++ b/tests/TypeReconciliation/ReconcilerTest.php
@@ -132,7 +132,7 @@ class ReconcilerTest extends \Psalm\Tests\TestCase
             'iterableToArray' => ['array<int, int>', 'array', 'iterable<int, int>'],
             'iterableToTraversable' => ['Traversable<int, int>', 'Traversable', 'iterable<int, int>'],
             'callableToCallableArray' => ['callable-array{0: class-string|object, 1: string}', 'array', 'callable'],
-            'callableOrArrayToCallableArray' => ['array<array-key, mixed>|callable-array{0: class-string|object, 1: string}', 'array', 'callable|array'],
+            'callableOrArrayToCallableArray' => ['array<array-key, mixed>', 'array', 'callable|array'],
             'traversableToIntersection' => ['Countable&Traversable', 'Traversable', 'Countable'],
             'iterableWithoutParamsToTraversableWithoutParams' => ['Traversable', '!array', 'iterable'],
             'iterableWithParamsToTraversableWithParams' => ['Traversable<int, string>', '!array', 'iterable<int, string>'],
