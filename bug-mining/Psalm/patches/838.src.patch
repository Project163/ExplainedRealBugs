diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
index cd0108152..944f37ee0 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ArrayFetchAnalyzer.php
@@ -1057,10 +1057,16 @@ class ArrayFetchAnalyzer
                                     $type->count = $property_count;
                                 } else {
                                     $array_type->removeType($type_string);
-                                    $type = new TArray([
-                                        $new_key_type,
-                                        $generic_params,
-                                    ]);
+
+                                    if (!$stmt->dim && $type->is_list) {
+                                        $type = new TList($generic_params);
+                                    } else {
+                                        $type = new TArray([
+                                            $new_key_type,
+                                            $generic_params,
+                                        ]);
+                                    }
+
                                     $array_type->addType($type);
                                 }
 
diff --git a/tests/Loop/WhileTest.php b/tests/Loop/WhileTest.php
index 841bf605e..4df375b50 100644
--- a/tests/Loop/WhileTest.php
+++ b/tests/Loop/WhileTest.php
@@ -437,6 +437,21 @@ class WhileTest extends \Psalm\Tests\TestCase
                         }
                     }'
             ],
+            'assignToObjectLikeListPreserveListness' => [
+                '<?php
+                    /**
+                     * @return non-empty-list<string>
+                     */
+                    function foo(string $key): array {
+                        $elements = [$key];
+
+                        while (rand(0, 1)) {
+                            $elements[] = $key;
+                        }
+
+                        return $elements;
+                    }',
+            ]
         ];
     }
 
