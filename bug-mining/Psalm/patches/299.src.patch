diff --git a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
index 16268d61d..d88f9f77b 100644
--- a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
@@ -721,11 +721,21 @@ class TypeAnalyzer
             return false;
         }
 
-        if ($input_type_part instanceof TNull && $container_type_part instanceof TNull) {
-            return true;
+        if ($input_type_part instanceof TNull) {
+            if ($container_type_part instanceof TNull) {
+                return true;
+            }
+
+            if ($container_type_part instanceof TTemplateParam
+                && $container_type_part->as->isNullable()
+            ) {
+                return true;
+            }
+
+            return false;
         }
 
-        if ($input_type_part instanceof TNull || $container_type_part instanceof TNull) {
+        if ($container_type_part instanceof TNull) {
             return false;
         }
 
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index ded070ebf..8865c846c 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -1943,6 +1943,29 @@ class ClassTemplateTest extends TestCase
                         return ["foo", "baz"];
                     }'
             ],
+            'allowInternalNullCheck' => [
+                '<?php
+                    /**
+                     * @template TP as ?scalar
+                     */
+                    class Entity
+                    {
+                        /**
+                         * @var TP
+                         */
+                        private $parent;
+
+                        /** @param TP $parent */
+                        public function __construct($parent) {
+                            $this->parent = $parent;
+                        }
+
+                        public function hasNoParent() : bool
+                        {
+                            return $this->parent === null; // So TP does contain null
+                        }
+                    }'
+            ],
         ];
     }
 
