diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php
index d343ed254..feaa1fefa 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/AssignmentAnalyzer.php
@@ -847,6 +847,7 @@ class AssignmentAnalyzer
 
         if ($lhs_var_id) {
             $context->vars_in_scope[$lhs_var_id] = Type::getMixed();
+            $context->hasVariable($lhs_var_id, $statements_analyzer);
         }
 
         if ($rhs_var_id) {
diff --git a/tests/UnusedVariableTest.php b/tests/UnusedVariableTest.php
index e318078ce..899009fe5 100644
--- a/tests/UnusedVariableTest.php
+++ b/tests/UnusedVariableTest.php
@@ -1002,6 +1002,13 @@ class UnusedVariableTest extends TestCase
                         }
                     }',
             ],
+            'varPassedByRef' => [
+                '<?php
+                    function foo(array $b) : void {
+                        $a = &$b;
+                        $a["foo"] = 5;
+                    }',
+            ],
         ];
     }
 
