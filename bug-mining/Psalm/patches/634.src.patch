diff --git a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
index d7850e5b3..a20f9b291 100644
--- a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
@@ -684,6 +684,23 @@ class TypeAnalyzer
                         continue 2;
                     }
 
+                    if ($intersection_container_type_lower === 'iterable') {
+                        if ($intersection_input_type_lower === 'traversable'
+                            || ($codebase->classlikes->classExists($intersection_input_type_lower)
+                                && $codebase->classlikes->classImplements(
+                                    $intersection_input_type_lower,
+                                    'Traversable'
+                                ))
+                            || ($codebase->classlikes->interfaceExists($intersection_input_type_lower)
+                                && $codebase->classlikes->interfaceExtends(
+                                    $intersection_input_type_lower,
+                                    'Traversable'
+                                ))
+                        ) {
+                            continue 2;
+                        }
+                    }
+
                     if ($intersection_input_type_lower === 'traversable'
                         && $intersection_container_type_lower === 'iterable'
                     ) {
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index dca43dbf6..95e14b63c 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -3171,6 +3171,21 @@ class ClassTemplateTest extends TestCase
                     }',
                 'error_message' => 'InvalidArgument'
             ],
+            'preventIteratorAggregateToIterableWithDifferentTypes' => [
+                '<?php
+                    class Foo {}
+
+                    class Bar {}
+
+                    /** @param iterable<int, Foo> $foos */
+                    function consume(iterable $foos): void {}
+
+                    /** @param IteratorAggregate<int, Bar> $t */
+                    function foo(IteratorAggregate $t) : void {
+                        consume($t);
+                    }',
+                'error_message' => 'InvalidArgument',
+            ],
         ];
     }
 }
