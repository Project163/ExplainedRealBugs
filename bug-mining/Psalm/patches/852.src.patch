diff --git a/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php b/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
index a640e2c79..218db04d3 100644
--- a/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
+++ b/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
@@ -609,24 +609,39 @@ class ReflectorVisitor extends PhpParser\NodeVisitorAbstract implements PhpParse
                 }
             }
 
-            $classlike_storage->type_aliases = \array_map(
+            $converted_aliases = \array_map(
                 function (TypeAlias\InlineTypeAlias $t) {
-                    $union = TypeParser::parseTokens(
-                        $t->replacement_tokens,
-                        null,
-                        [],
-                        $this->type_aliases
-                    );
+                    try {
+                        $union = TypeParser::parseTokens(
+                            $t->replacement_tokens,
+                            null,
+                            [],
+                            $this->type_aliases
+                        );
 
-                    $union->setFromDocblock();
+                        $union->setFromDocblock();
 
-                    return new TypeAlias\ClassTypeAlias(
-                        \array_values($union->getAtomicTypes())
-                    );
+                        return new TypeAlias\ClassTypeAlias(
+                            \array_values($union->getAtomicTypes())
+                        );
+                    } catch (\Exception $e) {
+                        return null;
+                    }
                 },
                 $this->classlike_type_aliases
             );
 
+            foreach ($converted_aliases as $key => $type) {
+                if (!$type) {
+                    $classlike_storage->docblock_issues[] = new InvalidDocblock(
+                        '@psalm-type ' . $key . ' contains invalid references',
+                        new CodeLocation($this->file_scanner, $node, null, true)
+                    );
+                }
+            }
+
+            $classlike_storage->type_aliases = \array_filter($converted_aliases);
+
             $this->classlike_type_aliases = [];
 
             if ($classlike_storage->has_visitor_issues) {
diff --git a/tests/TypeAnnotationTest.php b/tests/TypeAnnotationTest.php
index df30f770f..83e656081 100644
--- a/tests/TypeAnnotationTest.php
+++ b/tests/TypeAnnotationTest.php
@@ -386,6 +386,17 @@ class TypeAnnotationTest extends TestCase
                 }',
                 'error_message' => 'UndefinedDocblockClass',
             ],
+            'noCrashWithPriorReference' => [
+                '<?php
+                    /**
+                     * @psalm-type _C=array{c:_CC}
+                     * @psalm-type _CC=float
+                     */
+                    class A {
+
+                    }',
+                'error_message' => 'InvalidDocblock',
+            ],
         ];
     }
 }
