diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/InstancePropertyFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/InstancePropertyFetchAnalyzer.php
index ba5021908..aaaf830bb 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/InstancePropertyFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/InstancePropertyFetchAnalyzer.php
@@ -537,6 +537,12 @@ class InstancePropertyFetchAnalyzer
                 }
             }
 
+            $declaring_property_class = $codebase->properties->getDeclaringClassForProperty(
+                $property_id,
+                true,
+                $statements_analyzer
+            );
+
             if ((!$naive_property_exists
                     || ($stmt_var_id !== '$this'
                         && $fq_class_name !== $context->self
@@ -567,6 +573,29 @@ class InstancePropertyFetchAnalyzer
                 if (isset($class_storage->pseudo_property_get_types['$' . $prop_name])) {
                     $stmt_type = clone $class_storage->pseudo_property_get_types['$' . $prop_name];
 
+                    if ($class_storage->template_types) {
+                        if (!$lhs_type_part instanceof TGenericObject) {
+                            $type_params = [];
+
+                            foreach ($class_storage->template_types as $type_map) {
+                                $type_params[] = clone array_values($type_map)[0][0];
+                            }
+
+                            $lhs_type_part = new TGenericObject($lhs_type_part->value, $type_params);
+                        }
+
+                        $stmt_type = self::localizePropertyType(
+                            $codebase,
+                            $stmt_type,
+                            $lhs_type_part,
+                            $class_storage,
+                            $declaring_property_class
+                                ? $codebase->classlike_storage_provider->get(
+                                    $declaring_property_class
+                                ) : $class_storage
+                        );
+                    }
+
                     $statements_analyzer->node_data->setType($stmt, $stmt_type);
 
                     self::processTaints(
@@ -679,6 +708,29 @@ class InstancePropertyFetchAnalyzer
                 ) {
                     $stmt_type = clone $class_storage->pseudo_property_get_types['$' . $prop_name];
 
+                    if ($class_storage->template_types) {
+                        if (!$lhs_type_part instanceof TGenericObject) {
+                            $type_params = [];
+
+                            foreach ($class_storage->template_types as $type_map) {
+                                $type_params[] = clone array_values($type_map)[0][0];
+                            }
+
+                            $lhs_type_part = new TGenericObject($lhs_type_part->value, $type_params);
+                        }
+
+                        $stmt_type = self::localizePropertyType(
+                            $codebase,
+                            $stmt_type,
+                            $lhs_type_part,
+                            $class_storage,
+                            $declaring_property_class
+                                ? $codebase->classlike_storage_provider->get(
+                                    $declaring_property_class
+                                ) : $class_storage
+                        );
+                    }
+
                     $statements_analyzer->node_data->setType($stmt, $stmt_type);
 
                     self::processTaints(
diff --git a/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php b/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
index 74315621e..f4de388a3 100644
--- a/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
+++ b/src/Psalm/Internal/PhpVisitor/ReflectorVisitor.php
@@ -1245,12 +1245,17 @@ class ReflectorVisitor extends PhpParser\NodeVisitorAbstract implements PhpParse
                         $pseudo_property_type_tokens = TypeTokenizer::getFullyQualifiedTokens(
                             $property['type'],
                             $this->aliases,
-                            null,
+                            $this->class_template_types,
                             $this->type_aliases
                         );
 
                         try {
-                            $pseudo_property_type = TypeParser::parseTokens($pseudo_property_type_tokens);
+                            $pseudo_property_type = TypeParser::parseTokens(
+                                $pseudo_property_type_tokens,
+                                null,
+                                $this->class_template_types,
+                                $this->type_aliases
+                            );
                             $pseudo_property_type->setFromDocblock();
                             $pseudo_property_type->queueClassLikesForScanning(
                                 $this->codebase,
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index 6e22e5816..431b96855 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -637,6 +637,53 @@ class ClassTemplateTest extends TestCase
                         if ($c->getType() === FooChild::class) {}
                     }',
             ],
+            'getMagicPropertyOnClass' => [
+                '<?php
+                   class A {}
+
+                   /**
+                    * @template T as A
+                    * @property ?T $x
+                    */
+                   class B {
+                       /** @var ?T */
+                       public $y;
+
+                       public function __get() {}
+                   }
+
+                   $b = new B();
+                   $b_x = $b->x;
+                   $b_y = $b->y;
+                ',
+                'assertions' => [
+                    '$b_x' => 'A|null',
+                    '$b_y' => 'A|null',
+                ],
+            ],
+            'getMagicPropertyOnThis' => [
+                '<?php
+                   abstract class A {}
+
+                   class X extends A {}
+
+                   /**
+                    * @template T as A
+                    * @property ?T $x
+                    */
+                   class B {
+                       /** @var ?T */
+                       public $y;
+
+                       public function __get() {}
+
+                       public function test(): void {
+                           if ($this->x instanceof X) {}
+                           if ($this->y instanceof X) {}
+                       }
+                   }
+                ',
+            ],
             'getEquateClass' => [
                 '<?php
                     class Foo {
