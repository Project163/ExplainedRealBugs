diff --git a/src/Psalm/Internal/Analyzer/Statements/Block/SwitchCaseAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Block/SwitchCaseAnalyzer.php
index 7e6656ba8..d4a2c4aca 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Block/SwitchCaseAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Block/SwitchCaseAnalyzer.php
@@ -376,9 +376,27 @@ class SwitchCaseAnalyzer
         }
 
         if ($case_clauses) {
+            try {
+                $negated_case_clauses = Algebra::negateFormula($case_clauses);
+            } catch (\Psalm\Exception\ComplicatedExpressionException $e) {
+                try {
+                    $negated_case_clauses = Algebra::getFormula(
+                        \spl_object_id($case_equality_expr),
+                        new PhpParser\Node\Expr\BooleanNot($case_equality_expr),
+                        $context->self,
+                        $statements_analyzer,
+                        $codebase,
+                        false,
+                        false
+                    );
+                } catch (\Psalm\Exception\ComplicatedExpressionException $e) {
+                    $negated_case_clauses = [];
+                }
+            }
+
             $switch_scope->negated_clauses = array_merge(
                 $switch_scope->negated_clauses,
-                Algebra::negateFormula($case_clauses)
+                $negated_case_clauses
             );
         }
 
diff --git a/tests/SwitchTypeTest.php b/tests/SwitchTypeTest.php
index eb38263fe..e116a187a 100644
--- a/tests/SwitchTypeTest.php
+++ b/tests/SwitchTypeTest.php
@@ -959,6 +959,31 @@ class SwitchTypeTest extends TestCase
                         }
                     }',
             ],
+            'noCrashOnComplicatedCases' => [
+                '<?php
+                    class A {}
+                    class B {}
+                    class C {}
+
+                    /**
+                     * @psalm-suppress MixedAssignment
+                     * @psalm-suppress MixedArrayAccess
+                     */
+                    function foo(array $columns) : bool
+                    {
+                        foreach ($columns as $c) {
+                            switch (true) {
+                                case isset($c["a"]) || $c["b"] || $c["c"]:
+                                case $c["t"] instanceof A && rand(0, 1):
+                                case $c["t"] instanceof B && rand(0, 1):
+                                case $c["t"] instanceof C && rand(0, 1):
+                                    return false;
+                            }
+                        }
+
+                        return true;
+                    }'
+            ],
         ];
     }
 
