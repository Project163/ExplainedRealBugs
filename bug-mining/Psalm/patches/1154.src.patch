diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
index e29913f98..5bede253d 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
@@ -1045,20 +1045,16 @@ class CallAnalyzer
                         continue;
                     }
 
-                    $equality_classlikes = [];
-                    $equality_types = [];
-
-                    foreach ($bounds_with_equality as $bound_with_equality) {
-                        $equality_classlikes[] = $bound_with_equality->equality_bound_classlike;
-                        $equality_types[] = $bound_with_equality->type->getId();
-                    }
-
-                    $equality_classlikes = array_unique($equality_classlikes);
-                    $equality_types = array_unique($equality_types);
+                    $equality_types = array_unique(
+                        array_map(
+                            function($bound_with_equality) {
+                                return $bound_with_equality->type->getId();
+                            },
+                            $bounds_with_equality
+                        )
+                    );
 
-                    if (count($equality_classlikes) > 1
-                        || count($equality_types) > 1
-                    ) {
+                    if (count($equality_types) > 1) {
                         if (IssueBuffer::accepts(
                             new InvalidArgument(
                                 'Incompatible types found for ' . $template_name,
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index 3860ea04c..0e8acc866 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -3554,6 +3554,29 @@ class ClassTemplateTest extends TestCase
                         return rand(0, 1) ? $c : $d->get();
                     }',
             ],
+            'allowCompatibleGenerics' => [
+                '<?php
+                    /** @template T of object */
+                    interface A {}
+
+                    /** @template T of object */
+                    interface B {}
+
+                    /**
+                     * @template T of object
+                     * @param A<T> $a
+                     * @param B<T> $b
+                     */
+                    function foo(A $a, B $b): void {}
+
+                    /**
+                     * @param A<stdClass> $a
+                     * @param B<stdClass> $b
+                     */
+                    function bar(A $a, B $b): void {
+                        foo($a, $b);
+                    }'
+            ],
         ];
     }
 
