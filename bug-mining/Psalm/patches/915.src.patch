diff --git a/src/Psalm/Internal/Analyzer/Statements/Block/IfAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Block/IfAnalyzer.php
index 018aa8d34..132eb1412 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Block/IfAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Block/IfAnalyzer.php
@@ -190,7 +190,19 @@ class IfAnalyzer
         try {
             $if_scope->negated_clauses = Algebra::negateFormula($if_clauses);
         } catch (\Psalm\Exception\ComplicatedExpressionException $e) {
-            $if_scope->negated_clauses = [];
+            try {
+                $if_scope->negated_clauses = Algebra::getFormula(
+                    $cond_object_id,
+                    $cond_object_id,
+                    new PhpParser\Node\Expr\BooleanNot($stmt->cond),
+                    $context->self,
+                    $statements_analyzer,
+                    $codebase,
+                    false
+                );
+            } catch (\Psalm\Exception\ComplicatedExpressionException $e) {
+                $if_scope->negated_clauses = [];
+            }
         }
 
         $if_scope->negated_types = Algebra::getTruthsFromFormula(
diff --git a/tests/TypeReconciliation/IssetTest.php b/tests/TypeReconciliation/IssetTest.php
index ed2bb8798..55c62a274 100644
--- a/tests/TypeReconciliation/IssetTest.php
+++ b/tests/TypeReconciliation/IssetTest.php
@@ -966,6 +966,36 @@ class IssetTest extends \Psalm\Tests\TestCase
                         assert($dt);
                     }'
             ],
+            'arrayKeyExistsThrice' => [
+                '<?php
+                    function three(array $a): void {
+                        if (!array_key_exists("a", $a)
+                            || !array_key_exists("b", $a)
+                            || !array_key_exists("c", $a)
+                            || (!is_string($a["a"]) && !is_int($a["a"]))
+                            || (!is_string($a["b"]) && !is_int($a["b"]))
+                            || (!is_string($a["c"]) && !is_int($a["c"]))
+                        ) {
+                            throw new \Exception();
+                        }
+
+                        echo $a["a"];
+                        echo $a["b"];
+                    }'
+            ],
+            'arrayKeyExistsTwice' => [
+                '<?php
+                    function two(array $a): void {
+                        if (!array_key_exists("a", $a) || !(is_string($a["a"]) || is_int($a["a"])) ||
+                            !array_key_exists("b", $a) || !(is_string($a["b"]) || is_int($a["b"]))
+                        ) {
+                            throw new \Exception();
+                        }
+
+                        echo $a["a"];
+                        echo $a["b"];
+                    }'
+            ],
         ];
     }
 
