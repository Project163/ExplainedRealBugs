diff --git a/src/Psalm/Internal/Analyzer/FunctionLike/ReturnTypeCollector.php b/src/Psalm/Internal/Analyzer/FunctionLike/ReturnTypeCollector.php
index f0ec697d5..a5f519f80 100644
--- a/src/Psalm/Internal/Analyzer/FunctionLike/ReturnTypeCollector.php
+++ b/src/Psalm/Internal/Analyzer/FunctionLike/ReturnTypeCollector.php
@@ -322,12 +322,16 @@ class ReturnTypeCollector
                 $key_type = $stmt_key_type;
             }
 
-            if ($stmt_type = $nodes->getType($stmt)) {
+            if ($stmt->value
+                && $value_type = $nodes->getType($stmt->value)
+            ) {
                 $generator_type = new Atomic\TGenericObject(
                     'Generator',
                     [
                         $key_type ?: Type::getInt(),
-                        $stmt_type,
+                        clone $value_type,
+                        Type::getMixed(),
+                        Type::getMixed()
                     ]
                 );
 
diff --git a/tests/ReturnTypeTest.php b/tests/ReturnTypeTest.php
index faa9377b4..66d3ab52a 100644
--- a/tests/ReturnTypeTest.php
+++ b/tests/ReturnTypeTest.php
@@ -787,6 +787,17 @@ class ReturnTypeTest extends TestCase
                     '$res' => 'iterable<mixed, string>',
                 ],
             ],
+            'yieldWithReturn' => [
+                '<?php
+                    /** @return Generator<int, string, int, int> */
+                    function gen(): Generator {
+                        yield 3 => "abc";
+
+                        $foo = 4;
+
+                        return $foo;
+                    }'
+            ],
         ];
     }
 
