diff --git a/src/Psalm/Internal/Codebase/ClassLikes.php b/src/Psalm/Internal/Codebase/ClassLikes.php
index 6df752ada..af07c3e48 100644
--- a/src/Psalm/Internal/Codebase/ClassLikes.php
+++ b/src/Psalm/Internal/Codebase/ClassLikes.php
@@ -30,6 +30,7 @@ use Psalm\Issue\UnusedConstructor;
 use Psalm\Issue\UnusedMethod;
 use Psalm\Issue\UnusedProperty;
 use Psalm\IssueBuffer;
+use Psalm\Node\VirtualNode;
 use Psalm\Progress\Progress;
 use Psalm\Progress\VoidProgress;
 use Psalm\Storage\ClassLikeStorage;
@@ -1198,6 +1199,9 @@ class ClassLikes
         bool $force_change = false,
         bool $was_self = false
     ) : bool {
+        if ($class_name_node instanceof VirtualNode) {
+            return false;
+        }
         $calling_fq_class_name = $source->getFQCLN();
 
         // if we're inside a moved class static method
diff --git a/tests/FileManipulation/ClassMoveTest.php b/tests/FileManipulation/ClassMoveTest.php
index f2a797550..bf1327b24 100644
--- a/tests/FileManipulation/ClassMoveTest.php
+++ b/tests/FileManipulation/ClassMoveTest.php
@@ -708,6 +708,41 @@ class ClassMoveTest extends \Psalm\Tests\TestCase
                     'Bar\Bat' => 'Bar\Baz\Bahh',
                 ],
             ],
+            'moveClassBewareOfPropertyNotSetInConstructorCheck' => [
+                '<?php
+                    namespace Foo {
+                        class Base
+                        {
+                            protected $property1;
+
+                            public function __construct()
+                            {
+                                $this->property1 = "";
+                            }
+                        }
+                    }
+                    namespace Foo {
+                        class Hello extends Base {}
+                    }',
+                '<?php
+                    namespace Foo {
+                        class Base
+                        {
+                            protected $property1;
+
+                            public function __construct()
+                            {
+                                $this->property1 = "";
+                            }
+                        }
+                    }
+                    namespace Foo\Bar {
+                        class Hello extends \Foo\Base {}
+                    }',
+                [
+                    'Foo\Hello' => 'Foo\Bar\Hello',
+                ],
+            ],
         ];
     }
 }
