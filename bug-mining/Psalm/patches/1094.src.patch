diff --git a/src/Psalm/Type/Union.php b/src/Psalm/Type/Union.php
index be5246b60..7db42dccd 100644
--- a/src/Psalm/Type/Union.php
+++ b/src/Psalm/Type/Union.php
@@ -762,6 +762,7 @@ class Union implements TypeNode
             || isset($this->types['trait-string'])
             || isset($this->types['numeric-string'])
             || isset($this->types['callable-string'])
+            || isset($this->types['array-key'])
             || $this->literal_string_types
             || $this->typed_class_strings;
     }
diff --git a/tests/ArrayAssignmentTest.php b/tests/ArrayAssignmentTest.php
index 74932b27c..80b08c8ad 100644
--- a/tests/ArrayAssignmentTest.php
+++ b/tests/ArrayAssignmentTest.php
@@ -1800,6 +1800,19 @@ class ArrayAssignmentTest extends TestCase
                 }',
                 'error_message' => 'DuplicateArrayKey'
             ],
+            'unpackArrayWithArrayKeyIntoArray' => [
+                '<?php
+
+                /**
+                 * @param array<array-key, mixed> $data
+                 * @return list<mixed>
+                 */
+                function unpackArray(array $data): array
+                {
+                    return [...$data];
+                }',
+                'error_message' => 'DuplicateArrayKey',
+            ],
             'ArrayCreateOffsetObject' => [
                 '<?php
                     $_a = [new stdClass => "a"];
diff --git a/tests/ArrayFunctionCallTest.php b/tests/ArrayFunctionCallTest.php
index f06993a62..3f2896a8d 100644
--- a/tests/ArrayFunctionCallTest.php
+++ b/tests/ArrayFunctionCallTest.php
@@ -1761,22 +1761,6 @@ class ArrayFunctionCallTest extends TestCase
                 'error_levels' => [],
                 '7.4',
             ],
-            'allowUnpackWithArrayKey' => [
-                '<?php
-                    class Foo {
-                        protected function one(): array {
-                            return [];
-                        }
-
-                        protected function two(): array {
-                            return [];
-                        }
-
-                        public function three(): array {
-                            return [...$this->one(), ...$this->two()];
-                        }
-                    }'
-            ],
             'spliceTurnsintKeyedInputToList' => [
                 '<?php
                     /**
