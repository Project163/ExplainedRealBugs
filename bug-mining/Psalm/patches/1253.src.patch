diff --git a/src/Psalm/Internal/PhpVisitor/Reflector/ClassLikeNodeScanner.php b/src/Psalm/Internal/PhpVisitor/Reflector/ClassLikeNodeScanner.php
index 6331b7ec4..e581bbdb9 100644
--- a/src/Psalm/Internal/PhpVisitor/Reflector/ClassLikeNodeScanner.php
+++ b/src/Psalm/Internal/PhpVisitor/Reflector/ClassLikeNodeScanner.php
@@ -1905,9 +1905,12 @@ class ClassLikeNodeScanner
             }
 
             $type_string = str_replace("\n", '', implode('', $var_line_parts));
-
-            // Strip any remaining characters after the last grouping character >, } or )
-            $type_string = preg_replace('/(?<=[>})])[^>})]*$/', '', $type_string, 1);
+            try {
+                $type_string = CommentAnalyzer::splitDocLine($type_string)[0];
+            } catch (DocblockParseException $e) {
+                throw new DocblockParseException($type_string . ' is not a valid type: '.$e->getMessage());
+            }
+            $type_string = CommentAnalyzer::sanitizeDocblockType($type_string);
 
             try {
                 $type_tokens = TypeTokenizer::getFullyQualifiedTokens(
diff --git a/tests/TypeAnnotationTest.php b/tests/TypeAnnotationTest.php
index 9e022f034..f82736776 100644
--- a/tests/TypeAnnotationTest.php
+++ b/tests/TypeAnnotationTest.php
@@ -687,6 +687,34 @@ class TypeAnnotationTest extends TestCase
                     class A {}
                     ',
             ],
+            'commentAfterType' => [
+                'code' => '<?php
+                    /**
+                     * @psalm-type TTest string
+                     *
+                     * This is a test class.
+                     */
+                    class Test {}',
+            ],
+            'multilineTypeWithComment' => [
+                'code' => '<?php
+                    /**
+                     * @psalm-type PhoneType = array{
+                     *    phone: string
+                     * }
+                     *
+                     * Bar
+                     */
+                    class Foo {
+                        /** @var PhoneType */
+                        public static $phone;
+                    }
+                    $output = Foo::$phone;
+                    ',
+                'assertions' => [
+                    '$output===' => 'array{phone: string}',
+                ],
+            ],
         ];
     }
 
