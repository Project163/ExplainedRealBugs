diff --git a/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php
index 832f46aef..dc7a698e1 100644
--- a/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/ExpressionAnalyzer.php
@@ -1648,7 +1648,9 @@ class ExpressionAnalyzer
                     }
                 }
 
-                return $all_conditional_return_types;
+                $combined = TypeCombination::combineTypes($all_conditional_return_types);
+
+                return array_values($combined->getAtomicTypes());
             }
 
             $return_type->conditional_type = self::fleshOutType(
diff --git a/tests/Template/ConditionalReturnTypeTest.php b/tests/Template/ConditionalReturnTypeTest.php
index 82baf6fb2..55af022f1 100644
--- a/tests/Template/ConditionalReturnTypeTest.php
+++ b/tests/Template/ConditionalReturnTypeTest.php
@@ -352,6 +352,19 @@ class ConditionalReturnTypeTest extends TestCase
                         return $return;
                     }'
             ],
+            'combineConditionalArray' => [
+                '<?php
+                    /**
+                     * @psalm-return ($idOnly is true ? array<int> : array<stdClass>)
+                     */
+                    function test(bool $idOnly = false) {
+                        if ($idOnly) {
+                            return [0, 1];
+                        }
+
+                        return [new stdClass(), new stdClass()];
+                    }'
+            ],
         ];
     }
 }
