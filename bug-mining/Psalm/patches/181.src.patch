diff --git a/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php b/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
index 86706218e..e733d4d6a 100644
--- a/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/StatementsAnalyzer.php
@@ -471,6 +471,12 @@ class StatementsAnalyzer extends SourceAnalyzer implements StatementsSource
 
                     if ($context->collect_references && (!$context->case_scope || $stmt->num)) {
                         foreach ($context->unreferenced_vars as $var_id => $locations) {
+                            if (isset($loop_scope->unreferenced_vars[$var_id])) {
+                                $loop_scope->unreferenced_vars[$var_id] += $locations;
+                            } else {
+                                $loop_scope->unreferenced_vars[$var_id] = $locations;
+                            }
+
                             if (isset($loop_scope->possibly_unreferenced_vars[$var_id])) {
                                 $loop_scope->possibly_unreferenced_vars[$var_id] += $locations;
                             } else {
diff --git a/tests/UnusedCodeTest.php b/tests/UnusedCodeTest.php
index 36e30901f..97412ebbb 100644
--- a/tests/UnusedCodeTest.php
+++ b/tests/UnusedCodeTest.php
@@ -434,6 +434,71 @@ class UnusedCodeTest extends TestCase
                         A::bar();
                     }',
             ],
+            'usedParamInLoopBeforeBreak' => [
+                '<?php
+                    class Foo {}
+
+                    function takesFoo(Foo $foo1, Foo $foo2): Foo {
+                        while (rand(0, 1)) {
+                            echo get_class($foo1);
+
+                            if (rand(0, 1)) {
+                                $foo1 = $foo2;
+
+                                break;
+                            }
+                        }
+
+                        return $foo1;
+                    }',
+            ],
+            'usedParamInLoopBeforeContinue' => [
+                '<?php
+                    class Foo {}
+
+                    function takesFoo(Foo $foo1, Foo $foo2): Foo {
+                        while (rand(0, 1)) {
+                            echo get_class($foo1);
+
+                            if (rand(0, 1)) {
+                                $foo1 = $foo2;
+
+                                break;
+                            }
+                        }
+
+                        return $foo1;
+                    }',
+            ],
+            'usedParamInLoopBeforeWithChangeContinue' => [
+                '<?php
+                    class Foo {}
+
+                    class Bar {
+                        public static function build(Foo $foo) : ?self {
+                            echo get_class($foo);
+                            return new self();
+                        }
+
+                        public function produceFoo(): Foo {
+                            return new Foo();
+                        }
+                    }
+
+                    function takesFoo(Foo $foo): Foo {
+                        while (rand(0, 1)) {
+                            $bar = Bar::build($foo);
+
+                            if ($bar) {
+                                $foo = $bar->produceFoo();
+
+                                continue;
+                            }
+                        }
+
+                        return $foo;
+                    }',
+            ],
         ];
     }
 
