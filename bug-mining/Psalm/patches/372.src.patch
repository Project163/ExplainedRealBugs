diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
index 2c7c1af8b..69265a563 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Assignment/PropertyAssignmentAnalyzer.php
@@ -875,6 +875,8 @@ class PropertyAssignmentAnalyzer
                     $has_valid_assignment_value_type = true;
                 }
 
+                var_dump($assignment_value_type->getId() . ' ' . $class_property_type->getId());
+
                 $invalid_assignment_value_types[] = $class_property_type->getId();
             } else {
                 $has_valid_assignment_value_type = true;
diff --git a/src/Psalm/Internal/Codebase/Methods.php b/src/Psalm/Internal/Codebase/Methods.php
index 0ecaab0f2..152d4e262 100644
--- a/src/Psalm/Internal/Codebase/Methods.php
+++ b/src/Psalm/Internal/Codebase/Methods.php
@@ -449,9 +449,7 @@ class Methods
         $type = clone $type;
 
         foreach ($type->getTypes() as $key => $atomic_type) {
-            if ($atomic_type instanceof Type\Atomic\TTemplateParam
-                || $atomic_type instanceof Type\Atomic\TTemplateParamClass
-            ) {
+            if ($atomic_type instanceof Type\Atomic\TTemplateParam) {
                 if ($atomic_type->defining_class === $base_fq_class_name) {
                     if (isset($extends[$base_fq_class_name][$atomic_type->param_name])) {
                         $extended_param = $extends[$base_fq_class_name][$atomic_type->param_name];
@@ -466,6 +464,16 @@ class Methods
                 }
             }
 
+            if ($atomic_type instanceof Type\Atomic\TTemplateParamClass) {
+                if ($atomic_type->defining_class === $base_fq_class_name) {
+                    if (isset($extends[$base_fq_class_name][$atomic_type->param_name])) {
+                        $extended_param = $extends[$base_fq_class_name][$atomic_type->param_name];
+
+                        $atomic_type->as = $extended_param;
+                    }
+                }
+            }
+
             if ($atomic_type instanceof Type\Atomic\TArray
                 || $atomic_type instanceof Type\Atomic\TIterable
                 || $atomic_type instanceof Type\Atomic\TGenericObject
diff --git a/tests/Template/ClassTemplateExtendsTest.php b/tests/Template/ClassTemplateExtendsTest.php
index 15dd4c6d5..9c1591150 100644
--- a/tests/Template/ClassTemplateExtendsTest.php
+++ b/tests/Template/ClassTemplateExtendsTest.php
@@ -2595,6 +2595,27 @@ class ClassTemplateExtendsTest extends TestCase
                     '$dogs' => 'CollectionChild<mixed, Dog>'
                 ]
             ],
+            'extendsClassWithClassStringProperty' => [
+                '<?php
+                    class Some {}
+
+                    /** @template T of object */
+                    abstract class Y {
+                        /** @var class-string<T> */
+                        protected $c;
+                    }
+
+                    /**
+                     * @template T of Some
+                     * @extends Y<Some>
+                     */
+                    class Z extends Y {
+                        /** @param class-string<T> $c */
+                        public function __construct(string $c) {
+                            $this->c = $c;
+                        }
+                    }'
+            ],
         ];
     }
 
