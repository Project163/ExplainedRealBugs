diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
index b7eb6c743..6d3db9657 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/BinaryOpAnalyzer.php
@@ -442,6 +442,23 @@ class BinaryOpAnalyzer
 
             $t_if_context->inside_isset = false;
 
+            if (isset($stmt->left->inferredType)
+                && !$stmt->left->inferredType->isMixed()
+                && !$stmt->left->inferredType->isNullable()
+            ) {
+                if (!$stmt->left->inferredType->from_docblock) {
+                    if (IssueBuffer::accepts(
+                        new \Psalm\Issue\TypeDoesNotContainType(
+                            $stmt->left->inferredType->getId() . ' is always defined and non-null',
+                            new CodeLocation($statements_analyzer, $stmt->left)
+                        ),
+                        $statements_analyzer->getSuppressedIssues()
+                    )) {
+                        // fall through
+                    }
+                }
+            }
+
             foreach ($t_if_context->vars_in_scope as $var_id => $type) {
                 if (isset($context->vars_in_scope[$var_id])) {
                     $context->vars_in_scope[$var_id] = Type::combineUnionTypes($context->vars_in_scope[$var_id], $type);
diff --git a/tests/TypeReconciliationTest.php b/tests/TypeReconciliationTest.php
index 998ab6dd0..48fcb9c9d 100644
--- a/tests/TypeReconciliationTest.php
+++ b/tests/TypeReconciliationTest.php
@@ -1468,6 +1468,13 @@ class TypeReconciliationTest extends TestCase
                         return null;
                     }'
             ],
+            'nullCoalesceTypedValue' => [
+                '<?php
+                    /** @param string[] $arr */
+                    function foo(array $arr) : string {
+                        return $arr["b"] ?? "bar";
+                    }',
+            ],
         ];
     }
 
@@ -1752,6 +1759,13 @@ class TypeReconciliationTest extends TestCase
                     if (false !== firstChar("sdf")) {}',
                 'error_message' => 'RedundantCondition',
             ],
+            'nullCoalesceImpossible' => [
+                '<?php
+                    function foo(?string $s) : string {
+                        return ((string) $s) ?? "bar";
+                    }',
+                'error_message' => 'TypeDoesNotContainType'
+            ],
         ];
     }
 }
