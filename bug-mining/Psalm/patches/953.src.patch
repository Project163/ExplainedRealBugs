diff --git a/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php b/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
index 87eab23ca..a4b0e1341 100644
--- a/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
@@ -160,6 +160,13 @@ class ClosureAnalyzer extends FunctionLikeAnalyzer
                     : Type::getMixed();
 
                 $use_context->vars_possibly_in_scope[$use_var_id] = true;
+
+                foreach ($context->vars_in_scope as $var_id => $type) {
+                    if (preg_match('/^\$' . $use->var->name . '[\[\-]/', $var_id)) {
+                        $use_context->vars_in_scope[$var_id] = clone $type;
+                        $use_context->vars_possibly_in_scope[$var_id] = true;
+                    }
+                }
             }
         } else {
             $traverser = new PhpParser\NodeTraverser;
diff --git a/tests/ClosureTest.php b/tests/ClosureTest.php
index 8ce626bca..80a5f6a61 100644
--- a/tests/ClosureTest.php
+++ b/tests/ClosureTest.php
@@ -519,6 +519,21 @@ class ClosureTest extends TestCase
                 [],
                 '7.4'
             ],
+            'rememberParentAssertions' => [
+                '<?php
+                    class A {
+                        public ?A $a = null;
+                        public function foo() : void {}
+                    }
+
+                    function doFoo(A $a): void {
+                        if ($a->a instanceof A) {
+                            function () use ($a): void {
+                                $a->a->foo();
+                            };
+                        }
+                    }'
+            ],
         ];
     }
 
