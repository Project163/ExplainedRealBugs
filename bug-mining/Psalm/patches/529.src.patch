diff --git a/src/Psalm/Internal/Type/ParseTree.php b/src/Psalm/Internal/Type/ParseTree.php
index 7ec1b514a..b34d905e6 100644
--- a/src/Psalm/Internal/Type/ParseTree.php
+++ b/src/Psalm/Internal/Type/ParseTree.php
@@ -473,27 +473,29 @@ class ParseTree
                     break;
 
                 case 'as':
-                    $current_parent = $current_leaf->parent;
+                    if ($i > 0) {
+                        $current_parent = $current_leaf->parent;
 
-                    if (!$current_leaf instanceof ParseTree\Value
-                        || !$current_parent instanceof ParseTree\GenericTree
-                        || !$next_token
-                    ) {
-                        throw new TypeParseTreeException('Unexpected token ' . $type_token[0]);
-                    }
+                        if (!$current_leaf instanceof ParseTree\Value
+                            || !$current_parent instanceof ParseTree\GenericTree
+                            || !$next_token
+                        ) {
+                            throw new TypeParseTreeException('Unexpected token ' . $type_token[0]);
+                        }
 
-                    array_pop($current_parent->children);
+                        array_pop($current_parent->children);
 
-                    $current_leaf = new ParseTree\TemplateAsTree(
-                        $current_leaf->value,
-                        $next_token[0],
-                        $current_parent
-                    );
+                        $current_leaf = new ParseTree\TemplateAsTree(
+                            $current_leaf->value,
+                            $next_token[0],
+                            $current_parent
+                        );
 
-                    $current_parent->children[] = $current_leaf;
-                    ++$i;
+                        $current_parent->children[] = $current_leaf;
+                        ++$i;
 
-                    break;
+                        break;
+                    }
 
                 default:
                     $new_parent = !$current_leaf instanceof ParseTree\Root ? $current_leaf : null;
diff --git a/tests/MagicMethodAnnotationTest.php b/tests/MagicMethodAnnotationTest.php
index 8b6bf031c..fa68e8a02 100644
--- a/tests/MagicMethodAnnotationTest.php
+++ b/tests/MagicMethodAnnotationTest.php
@@ -576,6 +576,13 @@ class MagicMethodAnnotationTest extends TestCase
                         return B::make();
                     }'
             ],
+            'validMethodAsAnnotation' => [
+                '<?php
+                    /**
+                     * @method string as(string $value)
+                     */
+                    class Foo {}'
+            ],
         ];
     }
 
