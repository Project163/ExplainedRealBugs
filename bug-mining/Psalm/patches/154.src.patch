diff --git a/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php b/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
index 6a189a655..1b36fe767 100644
--- a/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/ClosureAnalyzer.php
@@ -19,4 +19,9 @@ class ClosureAnalyzer extends FunctionLikeAnalyzer
 
         parent::__construct($function, $source, $storage);
     }
+
+    public function getTemplateTypeMap()
+    {
+        return $this->source->getTemplateTypeMap();
+    }
 }
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index 24240fee7..4e32b147a 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -1618,6 +1618,26 @@ class ClassTemplateTest extends TestCase
                         }
                     }',
             ],
+            'insideClosureVarTemplate' => [
+                '<?php
+                    /**
+                     * @template T of object
+                     */
+                    class Foo {
+                        /**
+                         * @psalm-return callable(): ?T
+                         */
+                        public function bar() {
+                            return
+                                /** @psalm-return ?T */
+                                function() {
+                                    /** @psalm-var ?T */
+                                    $data = null;
+                                    return $data;
+                                };
+                        }
+                    }',
+            ]
         ];
     }
 
