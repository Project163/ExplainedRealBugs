diff --git a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
index 3e9ee014e..bf7a43658 100644
--- a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
@@ -1851,7 +1851,7 @@ class TypeAnalyzer
                         }
 
                         if (!$generic_params) {
-                            throw new \UnexpectedValueException('$generic_params should not be empty');
+                            return false;
                         }
 
                         $input_type_part = new TGenericObject(
diff --git a/src/Psalm/Internal/Type/UnionTemplateHandler.php b/src/Psalm/Internal/Type/UnionTemplateHandler.php
index 837bb57c7..a16a74904 100644
--- a/src/Psalm/Internal/Type/UnionTemplateHandler.php
+++ b/src/Psalm/Internal/Type/UnionTemplateHandler.php
@@ -340,7 +340,7 @@ class UnionTemplateHandler
                         }
 
                         if (!$new_generic_params) {
-                            throw new \UnexpectedValueException('$new_generic_params should not be empty');
+                            return new Atomic\TNamedObject($atomic_input_type->value);
                         }
 
                         return new Atomic\TGenericObject(
diff --git a/tests/Template/ClassTemplateExtendsTest.php b/tests/Template/ClassTemplateExtendsTest.php
index c916919a0..69ff3b192 100644
--- a/tests/Template/ClassTemplateExtendsTest.php
+++ b/tests/Template/ClassTemplateExtendsTest.php
@@ -2716,7 +2716,7 @@ class ClassTemplateExtendsTest extends TestCase
                             return trim($v);
                         }
                     }'
-            ]
+            ],
         ];
     }
 
@@ -3701,6 +3701,34 @@ class ClassTemplateExtendsTest extends TestCase
                     }',
                 'error_message' => 'InvalidReturnStatement'
             ],
+            'noCrashForTooManyTemplateParams' => [
+                '<?php
+                    interface InterfaceA {}
+
+                    class ImplemX implements InterfaceA {}
+
+                    interface DoStuff {
+                        public function stuff(InterfaceA $object): void;
+                    }
+
+                    /**
+                     * @implements DoStuff<ImplemX>
+                     */
+                    class DoStuffX implements DoStuff {
+                        public function stuff(InterfaceA $object): void {}
+                    }
+
+                    final class Foo {
+                        /**
+                         * @template A of InterfaceA
+                         * @psalm-param DoStuff<A> $stuff
+                         */
+                        public function __construct(DoStuff $stuff) {}
+                    }
+
+                    new Foo(new DoStuffX());',
+                'error_message' => 'InvalidArgument'
+            ]
         ];
     }
 }
