diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/AssertionFinder.php b/src/Psalm/Internal/Analyzer/Statements/Expression/AssertionFinder.php
index d9eccac09..937f3b269 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/AssertionFinder.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/AssertionFinder.php
@@ -2767,7 +2767,7 @@ class AssertionFinder
             )
         ) {
             $max_count = $conditional->right->value -
-                ($conditional instanceof PhpParser\Node\Expr\BinaryOp\Smaller ? 0 : 1);
+                ($conditional instanceof PhpParser\Node\Expr\BinaryOp\Smaller ? 1 : 0);
 
             return self::ASSIGNMENT_TO_RIGHT;
         }
@@ -2789,7 +2789,7 @@ class AssertionFinder
             )
         ) {
             $max_count = $conditional->left->value -
-                ($conditional instanceof PhpParser\Node\Expr\BinaryOp\Greater ? 0 : 1);
+                ($conditional instanceof PhpParser\Node\Expr\BinaryOp\Greater ? 1 : 0);
 
             return self::ASSIGNMENT_TO_LEFT;
         }
diff --git a/tests/ArrayFunctionCallTest.php b/tests/ArrayFunctionCallTest.php
index 72f588334..34a9fff7c 100644
--- a/tests/ArrayFunctionCallTest.php
+++ b/tests/ArrayFunctionCallTest.php
@@ -419,6 +419,15 @@ class ArrayFunctionCallTest extends TestCase
                     '$b' => 'int',
                 ],
             ],
+            'arrayPopNonEmptyAfterCountLessThanEqualToOne' => [
+                '<?php
+                    /** @var list<int> */
+                    $a = [1, 2, 3];
+                    $b = 5;
+                    if (count($a) <= 1) {
+                        echo $a[0];
+                    }',
+            ],
             'arrayPopNonEmptyAfterArrayAddition' => [
                 '<?php
                     /** @var array<string, int> */
