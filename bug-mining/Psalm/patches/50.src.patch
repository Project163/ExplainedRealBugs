diff --git a/src/Psalm/Internal/Type/TypeCombination.php b/src/Psalm/Internal/Type/TypeCombination.php
index cd66e078b..671cb6260 100644
--- a/src/Psalm/Internal/Type/TypeCombination.php
+++ b/src/Psalm/Internal/Type/TypeCombination.php
@@ -272,6 +272,7 @@ class TypeCombination
             if (!$combination->has_mixed || $combination->mixed_from_loop_isset) {
                 if ($combination->array_type_params
                     && $combination->array_type_params[0]->allStringLiterals()
+                    && $combination->array_always_filled
                 ) {
                     foreach ($combination->array_type_params[0]->getTypes() as $atomic_key_type) {
                         if ($atomic_key_type instanceof TLiteralString) {
@@ -281,6 +282,7 @@ class TypeCombination
                     }
 
                     $combination->array_type_params = [];
+                    $combination->objectlike_sealed = false;
                 }
 
                 if (!$combination->array_type_params
diff --git a/tests/ArrayAssignmentTest.php b/tests/ArrayAssignmentTest.php
index 8c2f20fd1..e5a26fe65 100644
--- a/tests/ArrayAssignmentTest.php
+++ b/tests/ArrayAssignmentTest.php
@@ -553,8 +553,8 @@ class ArrayAssignmentTest extends TestCase
                     $e[0][$int] = 3;
                     $e[0][$string] = 5;',
                 'assertions' => [
-                    '$b' => 'array{0:array{0:int, c:int}}',
-                    '$c' => 'array{0:array{0:int, c:int}}',
+                    '$b' => 'array{0:array<string|int, int>}',
+                    '$c' => 'array{0:array<int|string, int>}',
                     '$d' => 'array{0:array<int|string, int>}',
                     '$e' => 'array{0:array<string|int, int>}',
                 ],
@@ -597,8 +597,8 @@ class ArrayAssignmentTest extends TestCase
                     $e["root"][$int] = 3;
                     $e["root"][$string] = 5;',
                 'assertions' => [
-                    '$b' => 'array{root:array{0:int, c:int}}',
-                    '$c' => 'array{root:array{0:int, c:int}}',
+                    '$b' => 'array{root:array<string|int, int>}',
+                    '$c' => 'array{root:array<int|string, int>}',
                     '$d' => 'array{root:array<int|string, int>}',
                     '$e' => 'array{root:array<string|int, int>}',
                 ],
diff --git a/tests/RedundantConditionTest.php b/tests/RedundantConditionTest.php
index dcb721d95..c83d85e23 100644
--- a/tests/RedundantConditionTest.php
+++ b/tests/RedundantConditionTest.php
@@ -572,7 +572,7 @@ class RedundantConditionTest extends TestCase
                         }
                     }'
             ],
-            'possiblyUpdateArrayAfterUnset' => [
+            'updateArrayAfterUnset' => [
                 '<?php
                     /**
                      * @param string[] $arr
@@ -583,6 +583,21 @@ class RedundantConditionTest extends TestCase
                         if (count($dict)) {}
                     }'
             ],
+            'updateArrayAfterUnsetInLoop' => [
+                '<?php
+                    /**
+                     * @param string[] $arr
+                     */
+                    function foo(array $arr) : void {
+                        $dict = ["a" => 1, "b" => 2, "c" => 3];
+
+                        foreach ($arr as $v) {
+                            unset($dict[$v]);
+                        }
+
+                        if (count($dict)) {}
+                    }'
+            ],
         ];
     }
 
diff --git a/tests/TypeCombinationTest.php b/tests/TypeCombinationTest.php
index f6a2835b6..aff2312c0 100644
--- a/tests/TypeCombinationTest.php
+++ b/tests/TypeCombinationTest.php
@@ -421,6 +421,13 @@ class TypeCombinationTest extends TestCase
                     'Traversable<mixed, mixed>&Iterator',
                 ],
             ],
+            'objectLikePlusArrayEqualsArray' => [
+                'array<string, int>',
+                [
+                    'array<"a"|"b"|"c", 1|2|3>',
+                    'array{a:1|2, b:2|3, c:1|3}',
+                ],
+            ],
         ];
     }
 
