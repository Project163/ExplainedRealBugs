diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/NewAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/NewAnalyzer.php
index c00fc65fd..44500f7e8 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/NewAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/NewAnalyzer.php
@@ -414,17 +414,21 @@ class NewAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\CallAna
 
                         foreach ($storage->template_types as $template_name => $base_type) {
                             if (isset($found_generic_params[$template_name][$fq_class_name])) {
-                                $generic_param_types[] = $found_generic_params[$template_name][$fq_class_name][0];
+                                $generic_param_type = $found_generic_params[$template_name][$fq_class_name][0];
                             } elseif ($storage->template_type_extends && $found_generic_params) {
-                                $generic_param_types[] = self::getGenericParamForOffset(
+                                $generic_param_type = self::getGenericParamForOffset(
                                     $declaring_fq_class_name,
                                     $template_name,
                                     $storage->template_type_extends,
                                     $found_generic_params
                                 );
                             } else {
-                                $generic_param_types[] = array_values($base_type)[0][0];
+                                $generic_param_type = array_values($base_type)[0][0];
                             }
+
+                            $generic_param_type->had_template = true;
+
+                            $generic_param_types[] = $generic_param_type;
                         }
                     }
 
diff --git a/tests/Template/ClassTemplateTest.php b/tests/Template/ClassTemplateTest.php
index 4e32b147a..d0ea50767 100644
--- a/tests/Template/ClassTemplateTest.php
+++ b/tests/Template/ClassTemplateTest.php
@@ -1618,6 +1618,21 @@ class ClassTemplateTest extends TestCase
                         }
                     }',
             ],
+            'classTemplatedPropertyAssignmentWithMoreSpecificArray' => [
+                '<?php
+                    /** @template T */
+                    class Foo {
+                        /** @param \Closure():T $closure */
+                        public function __construct($closure) {}
+                    }
+                    class Bar {
+                        /** @var Foo<array> */
+                        private $FooArray;
+                        public function __construct() {
+                            $this->FooArray = new Foo(function(): array { return []; });
+                        }
+                    }',
+            ],
             'insideClosureVarTemplate' => [
                 '<?php
                     /**
@@ -1637,7 +1652,46 @@ class ClassTemplateTest extends TestCase
                                 };
                         }
                     }',
-            ]
+            ],
+            'allowBoundedType' => [
+                '<?php
+                    class Base {}
+                    class Child extends Base {}
+
+                    /**
+                     * @template T
+                     */
+                    class Foo
+                    {
+                        /** @param Closure():T $t */
+                        public function __construct(Closure $t) {}
+                    }
+
+                    /**
+                     * @return Foo<Base>
+                     */
+                    function returnFooBase() : Foo {
+                        $f = new Foo(function () { return new Child(); });
+                        return $f;
+                    }',
+            ],
+            'allowMoreSpecificArray' => [
+                '<?php
+                    /** @template T */
+                    class Foo {
+                        /** @param \Closure():T $closure */
+                        public function __construct($closure) {}
+                    }
+
+                    class Bar {
+                        /** @var Foo<array> */
+                        private $FooArray;
+
+                        public function __construct() {
+                            $this->FooArray = new Foo(function(): array { return ["foo" => "bar"]; });
+                        }
+                    }'
+            ],
         ];
     }
 
