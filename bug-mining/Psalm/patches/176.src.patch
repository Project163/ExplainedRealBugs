diff --git a/src/Psalm/Codebase.php b/src/Psalm/Codebase.php
index 3315c1c2d..cde4ae8b1 100644
--- a/src/Psalm/Codebase.php
+++ b/src/Psalm/Codebase.php
@@ -356,6 +356,8 @@ class Codebase
 
         $this->file_reference_provider->loadReferenceCache(false);
 
+        Internal\Analyzer\FunctionLikeAnalyzer::clearCache();
+
         if (!$this->statements_provider->parser_cache_provider) {
             $diff_files = $candidate_files;
         } else {
diff --git a/tests/FileUpdates/TemporaryUpdateTest.php b/tests/FileUpdates/TemporaryUpdateTest.php
index b26558494..33a35abe7 100644
--- a/tests/FileUpdates/TemporaryUpdateTest.php
+++ b/tests/FileUpdates/TemporaryUpdateTest.php
@@ -1251,6 +1251,68 @@ class TemporaryUpdateTest extends \Psalm\Tests\TestCase
                 ],
                 'error_positions' => [[230], [230]],
             ],
+            'updatePropertyInitialization' => [
+                [
+                    [
+                        getcwd() . DIRECTORY_SEPARATOR . 'A.php' => '<?php
+                            class B {
+                                /**
+                                 * @var string
+                                 */
+                                public $foo;
+
+                                /**
+                                 * @var int
+                                 */
+                                public $bar;
+
+                                public function __construct(string $foo, int $bar) {
+                                    $this->foo = $foo;
+                                    $this->bar = $bar;
+                                }
+                            }',
+                    ],
+                    [
+                        getcwd() . DIRECTORY_SEPARATOR . 'A.php' => '<?php
+                            class B {
+                                /**
+                                 * @var string
+                                 */
+                                public $foo;
+
+                                /**
+                                 * @var int
+                                 */
+                                public $bar;
+
+                                public function __construct(string $foo, int $bar) {
+                                    // $this->foo = $foo;
+                                    $this->bar = $bar;
+                                }
+                            }',
+                    ],
+                    [
+                        getcwd() . DIRECTORY_SEPARATOR . 'A.php' => '<?php
+                            class B {
+                                /**
+                                 * @var string
+                                 */
+                                public $foo;
+
+                                /**
+                                 * @var int
+                                 */
+                                public $bar;
+
+                                public function __construct(string $foo, int $bar) {
+                                    $this->foo = $foo;
+                                    $this->bar = $bar;
+                                }
+                            }',
+                    ],
+                ],
+                'error_positions' => [[], [202], []],
+            ],
             'addPartialMethodWithSyntaxError' => [
                 [
                     [
