diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/StaticCallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/StaticCallAnalyzer.php
index 4ca1c97fb..2de6f4a16 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/StaticCallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/StaticCallAnalyzer.php
@@ -145,7 +145,9 @@ class StaticCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expression\
                     }
                 }
 
-                if (!$does_class_exist) {
+                if (!isset($context->phantom_classes[strtolower($fq_class_name)])
+                    && !$does_class_exist
+                ) {
                     $does_class_exist = ClassLikeAnalyzer::checkFullyQualifiedClassLikeName(
                         $statements_analyzer,
                         $fq_class_name,
diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
index 61187147f..c42d5d8ce 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
@@ -74,7 +74,9 @@ class ClassConstFetchAnalyzer
                 );
 
                 if ($stmt->name instanceof PhpParser\Node\Identifier) {
-                    if (!$context->inside_class_exists || $stmt->name->name !== 'class') {
+                    if ((!$context->inside_class_exists || $stmt->name->name !== 'class')
+                        && !isset($context->phantom_classes[strtolower($fq_class_name)])
+                    ) {
                         if (ClassLikeAnalyzer::checkFullyQualifiedClassLikeName(
                             $statements_analyzer,
                             $fq_class_name,
diff --git a/tests/ClassTest.php b/tests/ClassTest.php
index a832a3c05..69e1a935a 100644
--- a/tests/ClassTest.php
+++ b/tests/ClassTest.php
@@ -513,6 +513,18 @@ class ClassTest extends TestCase
                         }
                     }',
             ],
+            'noErrorsAfterClassExists' => [
+                '<?php
+                    if (class_exists(A::class)) {
+                        if (method_exists(A::class, "method")) {
+                            echo A::method();
+                        }
+
+                        echo A::class;
+                        /** @psalm-suppress MixedArgument */
+                        echo A::SOME_CONST;
+                    }'
+            ],
         ];
     }
 
