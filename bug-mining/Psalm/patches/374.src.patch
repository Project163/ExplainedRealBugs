diff --git a/src/Psalm/Internal/Provider/ReturnTypeProvider/ArrayMapReturnTypeProvider.php b/src/Psalm/Internal/Provider/ReturnTypeProvider/ArrayMapReturnTypeProvider.php
index 003b6bb76..c7bc57e1d 100644
--- a/src/Psalm/Internal/Provider/ReturnTypeProvider/ArrayMapReturnTypeProvider.php
+++ b/src/Psalm/Internal/Provider/ReturnTypeProvider/ArrayMapReturnTypeProvider.php
@@ -127,6 +127,8 @@ class ArrayMapReturnTypeProvider implements \Psalm\Plugin\Hook\FunctionReturnTyp
                                     continue;
                                 }
 
+                                $class_storage = $codebase->classlike_storage_provider->get($callable_fq_class_name);
+
                                 if (!$codebase->methods->methodExists(
                                     $mapping_function_id_part,
                                     $context->calling_method_id,
@@ -150,12 +152,18 @@ class ArrayMapReturnTypeProvider implements \Psalm\Plugin\Hook\FunctionReturnTyp
                                     $self_class
                                 ) ?: Type::getMixed();
 
+                                $static_class = $self_class;
+
+                                if ($self_class !== 'self') {
+                                    $static_class = $class_storage->name;
+                                }
+
                                 $return_type = ExpressionAnalyzer::fleshOutType(
                                     $codebase,
                                     $return_type,
                                     $self_class,
-                                    $self_class,
-                                    $statements_source->getParentFQCLN()
+                                    $static_class,
+                                    $class_storage->parent_class
                                 );
 
                                 if ($mapping_return_type) {
diff --git a/tests/CallableTest.php b/tests/CallableTest.php
index 114c24c9d..69df41f5c 100644
--- a/tests/CallableTest.php
+++ b/tests/CallableTest.php
@@ -654,6 +654,57 @@ class CallableTest extends TestCase
 
                     new Func("f", ["\Foo", "bar"]);',
             ],
+            'staticReturningCallable' => [
+                '<?php
+                    abstract class Id
+                    {
+                        /**
+                         * @var string
+                         */
+                        private $id;
+
+                        final protected function __construct(string $id)
+                        {
+                            $this->id = $id;
+                        }
+
+                        /**
+                         * @return static
+                         */
+                        final public static function fromString(string $id): self
+                        {
+                            return new static($id);
+                        }
+                    }
+
+                    final class CriterionId extends Id
+                    {
+                    }
+
+                    final class CriterionIds
+                    {
+                        /**
+                         * @psalm-var non-empty-list<CriterionId>
+                         */
+                        private $ids;
+
+                        /**
+                         * @psalm-param non-empty-list<CriterionId> $ids
+                         */
+                        private function __construct(array $ids)
+                        {
+                            $this->ids = $ids;
+                        }
+
+                        /**
+                         * @psalm-param non-empty-list<string> $ids
+                         */
+                        public static function fromStrings(array $ids): self
+                        {
+                            return new self(array_map([CriterionId::class, "fromString"], $ids));
+                        }
+                    }'
+            ],
         ];
     }
 
