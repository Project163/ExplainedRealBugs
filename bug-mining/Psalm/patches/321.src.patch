diff --git a/src/Psalm/Type/Reconciler.php b/src/Psalm/Type/Reconciler.php
index 92d40a200..6e37c7e84 100644
--- a/src/Psalm/Type/Reconciler.php
+++ b/src/Psalm/Type/Reconciler.php
@@ -273,7 +273,7 @@ class Reconciler
             if ($type_changed || $failed_reconciliation) {
                 $changed_var_ids[] = $key;
 
-                if (substr($key, -1) === ']' && !$has_inverted_isset) {
+                if (substr($key, -1) === ']' && !$has_inverted_isset && !$has_empty) {
                     $key_parts = self::breakUpPathIntoParts($key);
                     self::adjustObjectLikeType(
                         $key_parts,
diff --git a/tests/EmptyTest.php b/tests/EmptyTest.php
index 0e4d0e297..1be329759 100644
--- a/tests/EmptyTest.php
+++ b/tests/EmptyTest.php
@@ -402,6 +402,24 @@ class EmptyTest extends TestCase
                     }',
                 'error_message' => 'InvalidArgument',
             ],
+            'preventEmptyCreatingArray' => [
+                '<?php
+                    /** @return array{a:mixed} */
+                    function foo(array $r) {
+                        if (!empty($r["a"])) {}
+                        return $r;
+                    }',
+                'error_message' => 'MixedReturnTypeCoercion'
+            ],
+            'preventEmptyEquivalentCreatingArray' => [
+                '<?php
+                    /** @return array{a:mixed} */
+                    function foo(array $r) {
+                        if (isset($r["a"]) && $r["a"]) {}
+                        return $r;
+                    }',
+                'error_message' => 'MixedReturnTypeCoercion'
+            ],
         ];
     }
 }
