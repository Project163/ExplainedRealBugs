diff --git a/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
index 22325dbfd..995d7d204 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
@@ -125,7 +125,11 @@ class TryAnalyzer
             foreach ($context->vars_in_scope as $var_id => $type) {
                 if (!isset($try_context->vars_in_scope[$var_id])) {
                     $try_context->vars_in_scope[$var_id] = clone $type;
-                    $try_context->vars_in_scope[$var_id]->from_docblock = true;
+
+                    if (!$stmt->catches) {
+                        $context->vars_in_scope[$var_id]->possibly_undefined = true;
+                        $context->vars_in_scope[$var_id]->possibly_undefined_from_try = true;
+                    }
                 } else {
                     $try_context->vars_in_scope[$var_id] = Type::combineUnionTypes(
                         $try_context->vars_in_scope[$var_id],
@@ -440,11 +444,13 @@ class TryAnalyzer
             }
         }
 
-        foreach ($definitely_newly_assigned_var_ids as $var_id => $_) {
-            if (isset($context->vars_in_scope[$var_id])) {
-                $new_type = clone $context->vars_in_scope[$var_id];
-                $new_type->possibly_undefined_from_try = false;
-                $context->vars_in_scope[$var_id] = $new_type;
+        if ($stmt->catches) {
+            foreach ($definitely_newly_assigned_var_ids as $var_id => $_) {
+                if (isset($context->vars_in_scope[$var_id])) {
+                    $new_type = clone $context->vars_in_scope[$var_id];
+                    $new_type->possibly_undefined_from_try = false;
+                    $context->vars_in_scope[$var_id] = $new_type;
+                }
             }
         }
 
diff --git a/tests/TryCatchTest.php b/tests/TryCatchTest.php
index e01169b84..57ec20436 100644
--- a/tests/TryCatchTest.php
+++ b/tests/TryCatchTest.php
@@ -391,6 +391,29 @@ class TryCatchTest extends TestCase
                         }
                     }'
             ],
+            'finallyArgMaybeUndefined' => [
+                '<?php
+                    class TestMe {
+                        private function startTransaction(): void {
+                        }
+
+                        private function endTransaction(bool $commit): void {
+                            echo $commit ? "Committing" : "Rolling back";
+                        }
+
+                        public function doWork(): void {
+                            $this->startTransaction();
+                            try {
+                                $this->workThatMayOrMayNotThrow();
+                                $success = true;
+                            } finally {
+                                $this->endTransaction($success ?? false);
+                            }
+                        }
+
+                        private function workThatMayOrMayNotThrow(): void {}
+                    }'
+            ]
         ];
     }
 
