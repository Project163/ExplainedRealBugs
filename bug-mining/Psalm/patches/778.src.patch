diff --git a/src/Psalm/Internal/Provider/ReturnTypeProvider/FilterVarReturnTypeProvider.php b/src/Psalm/Internal/Provider/ReturnTypeProvider/FilterVarReturnTypeProvider.php
index 1eb032124..9a34f5eb4 100644
--- a/src/Psalm/Internal/Provider/ReturnTypeProvider/FilterVarReturnTypeProvider.php
+++ b/src/Psalm/Internal/Provider/ReturnTypeProvider/FilterVarReturnTypeProvider.php
@@ -150,6 +150,5 @@ class FilterVarReturnTypeProvider implements \Psalm\Plugin\Hook\FunctionReturnTy
         }
 
         return $filter_type;
-
     }
 }
diff --git a/src/Psalm/Type/Reconciler.php b/src/Psalm/Type/Reconciler.php
index 15ecb1f21..b0aaac4fb 100644
--- a/src/Psalm/Type/Reconciler.php
+++ b/src/Psalm/Type/Reconciler.php
@@ -324,6 +324,17 @@ class Reconciler
                 continue;
             }
 
+            if ($before_adjustment
+                && ($result_type->parent_nodes || $before_adjustment->parent_nodes)
+                && !$result_type->isInt()
+                && !$result_type->isFloat()
+            ) {
+                $result_type->parent_nodes = array_merge(
+                    $result_type->parent_nodes ?: [],
+                    $before_adjustment->parent_nodes ?: []
+                );
+            }
+
             $type_changed = !$before_adjustment || !$result_type->equals($before_adjustment);
 
             if ($type_changed || $failed_reconciliation) {
diff --git a/tests/TaintTest.php b/tests/TaintTest.php
index 448bff563..e0720dd3b 100644
--- a/tests/TaintTest.php
+++ b/tests/TaintTest.php
@@ -434,6 +434,13 @@ class TaintTest extends TestCase
 
                     echo $a[0]["b"];',
             ],
+            'intUntainted' => [
+                '<?php
+                    $input = $_GET[\'input\'];
+                    if (is_int($input)) {
+                        echo "$input";
+                    }',
+            ],
         ];
     }
 
@@ -1324,6 +1331,14 @@ class TaintTest extends TestCase
                     echo $get["test"];',
                 'error_message' => 'TaintedInput',
             ],
+            'taintAfterReconciledType' => [
+                '<?php
+                    $input = $_GET[\'input\'];
+                    if (is_string($input)) {
+                        echo "$input";
+                    }',
+                'error_message' => 'TaintedInput',
+            ],
         ];
     }
 }
