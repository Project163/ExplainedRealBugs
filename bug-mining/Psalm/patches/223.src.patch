diff --git a/src/Psalm/Internal/Analyzer/MethodAnalyzer.php b/src/Psalm/Internal/Analyzer/MethodAnalyzer.php
index 06ad38f81..c1bc1efe1 100644
--- a/src/Psalm/Internal/Analyzer/MethodAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/MethodAnalyzer.php
@@ -628,8 +628,12 @@ class MethodAnalyzer extends FunctionLikeAnalyzer
             $guide_method_storage_return_type = ExpressionAnalyzer::fleshOutType(
                 $codebase,
                 $guide_method_storage->return_type,
-                $guide_classlike_storage->name,
-                $guide_classlike_storage->name,
+                $guide_classlike_storage->is_trait
+                    ? $implementer_classlike_storage->name
+                    : $guide_classlike_storage->name,
+                $guide_classlike_storage->is_trait
+                    ? $implementer_called_class_name
+                    : $guide_classlike_storage->name,
                 $guide_classlike_storage->parent_class
             );
 
diff --git a/tests/TraitTest.php b/tests/TraitTest.php
index 042411119..fae601d44 100644
--- a/tests/TraitTest.php
+++ b/tests/TraitTest.php
@@ -869,6 +869,22 @@ class TraitTest extends TestCase
                         use T;
                     }',
             ],
+            'abstractThisMethod' => [
+                '<?php
+                    trait ATrait {
+                        /** @return $this */
+                        abstract public function bar();
+                    }
+
+                    class C {
+                        use ATrait;
+
+                        /** @return $this */
+                        public function bar() {
+                            return $this;
+                        }
+                    }'
+            ],
         ];
     }
 
