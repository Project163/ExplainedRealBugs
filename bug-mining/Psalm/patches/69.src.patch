diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/PropertyFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/PropertyFetchAnalyzer.php
index 23d655bb2..b8423c6de 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/PropertyFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/PropertyFetchAnalyzer.php
@@ -479,7 +479,27 @@ class PropertyFetchAnalyzer
                     continue;
                 }
 
-                $stmt->inferredType = Type::getMixed();
+                $fake_method_call = new PhpParser\Node\Expr\MethodCall(
+                    $stmt->var,
+                    new PhpParser\Node\Identifier('__get', $stmt->name->getAttributes()),
+                    [
+                        new PhpParser\Node\Arg(
+                            new PhpParser\Node\Scalar\String_(
+                                $prop_name,
+                                $stmt->name->getAttributes()
+                            )
+                        )
+                    ]
+                );
+
+                \Psalm\Internal\Analyzer\Statements\Expression\Call\MethodCallAnalyzer::analyze(
+                    $statements_analyzer,
+                    $fake_method_call,
+                    $context
+                );
+
+                $stmt->inferredType = $fake_method_call->inferredType ?? Type::getMixed();
+
                 /*
                  * If we have an explicit list of all allowed magic properties on the class, and we're
                  * not in that list, fall through
diff --git a/tests/FileReferenceTest.php b/tests/FileReferenceTest.php
index 31ce9ed79..ec1ce4d3a 100644
--- a/tests/FileReferenceTest.php
+++ b/tests/FileReferenceTest.php
@@ -387,6 +387,34 @@ class FileReferenceTest extends TestCase
                 [],
                 []
             ],
+            'constantRefs' => [
+                '<?php
+                    namespace Ns;
+
+                    abstract class A {
+                        public function foo() : void {}
+                    }
+
+                    trait T {
+                        public function bar(A $a) : void {
+                            $a->foo();
+                        }
+                    }
+
+                    class C {
+                        use T;
+                    }',
+                [
+                    'ns\a::foo' => [
+                        'ns\c::bar' => true,
+                    ],
+                ],
+                [],
+                [],
+                [],
+                [],
+                []
+            ],
         ];
     }
 }
