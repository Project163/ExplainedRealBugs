diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
index 506255023..fb0887767 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
@@ -419,6 +419,7 @@ class ArgumentAnalyzer
                     ) {
                         $arg_type = clone $unpacked_atomic_array->properties[$function_param->name];
                     } elseif ($unpacked_atomic_array->is_list
+                        && $argument_offset === 0
                         && isset($unpacked_atomic_array->properties[$argument_offset])
                     ) {
                         $arg_type = clone $unpacked_atomic_array->properties[$argument_offset];
diff --git a/tests/ArgTest.php b/tests/ArgTest.php
index fa29045de..c37999934 100644
--- a/tests/ArgTest.php
+++ b/tests/ArgTest.php
@@ -121,6 +121,18 @@ class ArgTest extends TestCase
                         return intval(...$args);
                     }',
             ],
+            'unpackListWithOptional' => [
+                '<?php
+                    function foo(string ...$rest):void {}
+
+                    $rest = ["zzz"];
+
+                    if (rand(0,1)) {
+                        $rest[] = "xxx";
+                    }
+
+                    foo("first", ...$rest);'
+            ],
             'useNamedArguments' => [
                 '<?php
                     class CustomerData {
