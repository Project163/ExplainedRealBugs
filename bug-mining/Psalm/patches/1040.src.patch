diff --git a/src/Psalm/Internal/ExecutionEnvironment/SystemCommandExecutor.php b/src/Psalm/Internal/ExecutionEnvironment/SystemCommandExecutor.php
index 0354900dd..a78e3078d 100644
--- a/src/Psalm/Internal/ExecutionEnvironment/SystemCommandExecutor.php
+++ b/src/Psalm/Internal/ExecutionEnvironment/SystemCommandExecutor.php
@@ -22,6 +22,10 @@ final class SystemCommandExecutor
      */
     public function execute(string $command) : array
     {
+        if (!\function_exists('exec')) {
+            throw new \RuntimeException(sprintf('exec does not exist, failed to execute command: %s', $command));
+        };
+
         exec($command, $result, $returnValue);
 
         if ($returnValue === 0) {
