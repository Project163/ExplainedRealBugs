diff --git a/src/Psalm/Internal/Analyzer/Statements/Block/ForeachAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Block/ForeachAnalyzer.php
index a70caa711..d0c9c193b 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Block/ForeachAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Block/ForeachAnalyzer.php
@@ -860,12 +860,16 @@ class ForeachAnalyzer
                         $statements_analyzer->addSuppressedIssues(['PossiblyInvalidMethodCall']);
                     }
 
+                    $context->inside_call = true;
+
                     \Psalm\Internal\Analyzer\Statements\Expression\Call\MethodCallAnalyzer::analyze(
                         $statements_analyzer,
                         $fake_method_call,
                         $context
                     );
 
+                    $context->inside_call = false;
+
                     if (!in_array('PossiblyInvalidMethodCall', $suppressed_issues, true)) {
                         $statements_analyzer->removeSuppressedIssues(['PossiblyInvalidMethodCall']);
                     }
diff --git a/tests/UnusedCodeTest.php b/tests/UnusedCodeTest.php
index 9f0e4d6a2..a41287c1f 100644
--- a/tests/UnusedCodeTest.php
+++ b/tests/UnusedCodeTest.php
@@ -669,6 +669,20 @@ class UnusedCodeTest extends TestCase
 
                     new Foo();'
             ],
+            'useIteratorMethodsWhenCallingForeach' => [
+                '<?php
+                    /** @psalm-suppress UnimplementedInterfaceMethod */
+                    class IterableResult implements \Iterator {
+                        public function current() {
+                            return $this->current;
+                        }
+                    }
+
+                    $items = new IterableResult();
+
+                    /** @psalm-suppress MixedAssignment */
+                    foreach ($items as $_item) {}'
+            ],
         ];
     }
 
