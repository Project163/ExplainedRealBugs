diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
index c6145cf4f..3f96954ef 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ClassConstFetchAnalyzer.php
@@ -208,7 +208,8 @@ class ClassConstFetchAnalyzer
             ) {
                 $class_visibility = \ReflectionProperty::IS_PRIVATE;
             } elseif ($context->self &&
-                $codebase->classlikes->classExtends($context->self, $fq_class_name)
+                ($codebase->classlikes->classExtends($context->self, $fq_class_name)
+                    || $codebase->classlikes->classExtends($fq_class_name, $context->self))
             ) {
                 $class_visibility = \ReflectionProperty::IS_PROTECTED;
             } else {
diff --git a/tests/ConstantTest.php b/tests/ConstantTest.php
index 717dead05..3d8fc3947 100644
--- a/tests/ConstantTest.php
+++ b/tests/ConstantTest.php
@@ -766,6 +766,22 @@ class ConstantTest extends TestCase
                     '$c' => 'int',
                 ]
             ],
+            'protectedClassConstantAccessibilitySameNameInChild' => [
+                '<?php
+                    class A {
+                        protected const A = 1;
+
+                        public static function test(): void {
+                            echo B::A;
+                        }
+                    }
+
+                    class B extends A {
+                        protected const A = 2;
+                    }
+
+                    A::test();'
+            ],
         ];
     }
 
