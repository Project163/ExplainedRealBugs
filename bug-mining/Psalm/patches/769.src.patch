diff --git a/src/Psalm/Internal/Codebase/InternalCallMapHandler.php b/src/Psalm/Internal/Codebase/InternalCallMapHandler.php
index b831c3c88..dc4565fc1 100644
--- a/src/Psalm/Internal/Codebase/InternalCallMapHandler.php
+++ b/src/Psalm/Internal/Codebase/InternalCallMapHandler.php
@@ -169,13 +169,16 @@ class InternalCallMapHandler
                     }
                 }
 
+                $arg_result = new \Psalm\Internal\Analyzer\TypeComparisonResult();
+
                 if (TypeAnalyzer::isContainedBy(
                     $codebase,
                     $arg_type,
                     $param_type,
                     true,
-                    true
-                )) {
+                    true,
+                    $arg_result
+                ) || $arg_result->type_coerced) {
                     continue;
                 }
 
diff --git a/tests/FunctionCallTest.php b/tests/FunctionCallTest.php
index a78e9c456..012687ae3 100644
--- a/tests/FunctionCallTest.php
+++ b/tests/FunctionCallTest.php
@@ -1174,6 +1174,21 @@ class FunctionCallTest extends TestCase
                         );
                     }',
             ],
+            'pregReplaceCallbackWithArray' => [
+                '<?php
+                    /**
+                     * @param string[] $ids
+                     * @psalm-suppress MissingClosureReturnType
+                     * @psalm-suppress MixedArgumentTypeCoercion
+                     */
+                    function(array $ids): array {
+                        return \preg_replace_callback(
+                            "",
+                            fn (array $matches) => $matches[4],
+                            $ids
+                        );
+                    };'
+            ],
             'compactDefinedVariable' => [
                 '<?php
                     /**
