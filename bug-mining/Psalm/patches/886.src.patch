diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
index 00fa9ff1d..2528d8f1b 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/ArgumentAnalyzer.php
@@ -122,7 +122,7 @@ class ArgumentAnalyzer
 
         if ($function_param->expect_variable
             && $arg_value_type->isSingleStringLiteral()
-            && !$arg->value instanceof PhpParser\Node\Scalar
+            && !$arg->value instanceof PhpParser\Node\Scalar\MagicConst
             && !$arg->value instanceof PhpParser\Node\Expr\ConstFetch
         ) {
             if (IssueBuffer::accepts(
diff --git a/tests/FunctionCallTest.php b/tests/FunctionCallTest.php
index 305cc1494..b7a7c831c 100644
--- a/tests/FunctionCallTest.php
+++ b/tests/FunctionCallTest.php
@@ -1819,6 +1819,13 @@ class FunctionCallTest extends TestCase
                     }',
                 'error_message' => 'RedundantCondition',
             ],
+            'strposNoSetFirstParam' => [
+                '<?php
+                    function sayHello(string $format): void {
+                        if (strpos("u", $format)) {}
+                    }',
+                'error_message' => 'InvalidArgument',
+            ],
         ];
     }
 }
