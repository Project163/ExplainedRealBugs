diff --git a/src/Psalm/Internal/Type/Comparator/ObjectComparator.php b/src/Psalm/Internal/Type/Comparator/ObjectComparator.php
index 7065f9f3d..230304d4c 100644
--- a/src/Psalm/Internal/Type/Comparator/ObjectComparator.php
+++ b/src/Psalm/Internal/Type/Comparator/ObjectComparator.php
@@ -73,15 +73,24 @@ class ObjectComparator
                         continue;
                     }
 
-                    if (\substr($intersection_container_type->defining_class, 0, 3) === 'fn-') {
-                        foreach ($intersection_input_types as $intersection_input_type) {
-                            if ($intersection_input_type instanceof TTemplateParam
-                                && \substr($intersection_input_type->defining_class, 0, 3) === 'fn-'
+                    foreach ($intersection_input_types as $intersection_input_type) {
+                        if ($intersection_input_type instanceof TTemplateParam
+                            && (\substr($intersection_container_type->defining_class, 0, 3) === 'fn-'
+                                || \substr($intersection_input_type->defining_class, 0, 3) === 'fn-')
+                        ) {
+                            if (\substr($intersection_input_type->defining_class, 0, 3) === 'fn-'
+                                && \substr($intersection_container_type->defining_class, 0, 3) === 'fn-'
                                 && $intersection_input_type->defining_class
                                     !== $intersection_container_type->defining_class
                             ) {
                                 continue 2;
                             }
+
+                            foreach ($intersection_input_type->as->getAtomicTypes() as $input_as_atomic) {
+                                if ($input_as_atomic->equals($intersection_container_type)) {
+                                    continue 3;
+                                }
+                            }
                         }
                     }
 
diff --git a/tests/Template/FunctionTemplateTest.php b/tests/Template/FunctionTemplateTest.php
index 2ac16fb8f..e3cf8c9c3 100644
--- a/tests/Template/FunctionTemplateTest.php
+++ b/tests/Template/FunctionTemplateTest.php
@@ -1485,6 +1485,29 @@ class FunctionTemplateTest extends TestCase
                 [],
                 '8.0'
             ],
+            'templateChildClass' => [
+                '<?php
+                    /** @template T */
+                    class Collection {
+                        /**
+                         * @param T $t
+                         */
+                        private function add($t) : void {}
+
+                        /**
+                         * @template TChild as T
+                         * @param TChild $default
+                         *
+                         * @return TChild
+                         */
+                        public function get($default)
+                        {
+                            $this->add($default);
+
+                            return $default;
+                        }
+                    }'
+            ],
         ];
     }
 
