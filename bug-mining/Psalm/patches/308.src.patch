diff --git a/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
index 389067ba4..cfe9780e6 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Block/TryAnalyzer.php
@@ -414,6 +414,20 @@ class TryAnalyzer
                     $statements_analyzer->registerVariableUses($locations);
                 }
             }
+
+            $newly_unreferenced_vars = array_merge(
+                $newly_unreferenced_vars,
+                array_diff_key(
+                    $try_context->unreferenced_vars,
+                    $old_unreferenced_vars
+                )
+            );
+
+            foreach ($newly_unreferenced_vars as $var_id => $locations) {
+                if (!isset($context->unreferenced_vars[$var_id])) {
+                    $context->unreferenced_vars[$var_id] = $locations;
+                }
+            }
         }
 
         if ($stmt->finally) {
diff --git a/tests/UnusedVariableTest.php b/tests/UnusedVariableTest.php
index 3eaf75a7b..af1db392a 100644
--- a/tests/UnusedVariableTest.php
+++ b/tests/UnusedVariableTest.php
@@ -1171,6 +1171,29 @@ class UnusedVariableTest extends TestCase
                         echo $b;
                     }'
             ],
+            'tryWithWhile' => [
+                '<?php
+                    function foo(): void {
+                        $done = false;
+
+                        while (!$done) {
+                            try {
+                                $done = true;
+                            } catch (\Exception $e) {
+                            }
+                        }
+                    }',
+            ],
+            'tryWithWhileWithoutTry' => [
+                '<?php
+                    function foo(): void {
+                        $done = false;
+
+                        while (!$done) {
+                            $done = true;
+                        }
+                    }',
+            ],
         ];
     }
 
