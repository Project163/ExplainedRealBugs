diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
index 36a02e554..924bd2610 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
@@ -624,8 +624,17 @@ class FunctionCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expressio
             if ($function->parts === ['method_exists']) {
                 $context->check_methods = false;
             } elseif ($function->parts === ['class_exists']) {
-                if ($first_arg && $first_arg->value instanceof PhpParser\Node\Scalar\String_) {
-                    $context->phantom_classes[strtolower($first_arg->value->value)] = true;
+                if ($first_arg) {
+                    if ($first_arg->value instanceof PhpParser\Node\Scalar\String_) {
+                        $context->phantom_classes[strtolower($first_arg->value->value)] = true;
+                    } elseif ($first_arg->value instanceof PhpParser\Node\Expr\ClassConstFetch
+                        && $first_arg->value->class instanceof PhpParser\Node\Name
+                        && $first_arg->value->name instanceof PhpParser\Node\Identifier
+                        && $first_arg->value->name->name === 'class'
+                    ) {
+                        $resolved_name = (string) $first_arg->value->class->getAttribute('resolvedName');
+                        $context->phantom_classes[strtolower($resolved_name)] = true;
+                    }
                 }
             } elseif ($function->parts === ['file_exists'] && $first_arg) {
                 $var_id = ExpressionAnalyzer::getArrayVarId($first_arg->value, null);
diff --git a/tests/ClassStringTest.php b/tests/ClassStringTest.php
index c56e7436f..5531e6708 100644
--- a/tests/ClassStringTest.php
+++ b/tests/ClassStringTest.php
@@ -569,6 +569,28 @@ class ClassStringTest extends TestCase
                         if (!is_subclass_of($s, A::class)) {}
                     }',
             ],
+            'allowClassExistsCheckOnClassString' => [
+                '<?php
+                    class C
+                    {
+                        public function __construct() {
+                            if (class_exists(\Doesnt\Really::class)) {
+                                \Doesnt\Really::something();
+                            }
+                        }
+                    }'
+            ],
+            'allowClassExistsCheckOnString' => [
+                '<?php
+                    class C
+                    {
+                        public function __construct() {
+                            if (class_exists("Doesnt\\Really")) {
+                                \Doesnt\Really::something();
+                            }
+                        }
+                    }'
+            ],
         ];
     }
 
