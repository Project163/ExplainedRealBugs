diff --git a/src/Psalm/Internal/Analyzer/MethodComparator.php b/src/Psalm/Internal/Analyzer/MethodComparator.php
index 21ce14bc8..f4fc769cc 100644
--- a/src/Psalm/Internal/Analyzer/MethodComparator.php
+++ b/src/Psalm/Internal/Analyzer/MethodComparator.php
@@ -85,6 +85,7 @@ class MethodComparator
                 $implementer_method_storage,
                 $guide_method_storage->signature_return_type,
                 $cased_guide_method_id,
+                $implementer_called_class_name,
                 $cased_implementer_method_id,
                 $code_location,
                 $suppressed_issues
@@ -658,6 +659,7 @@ class MethodComparator
         MethodStorage $implementer_method_storage,
         Type\Union $guide_signature_return_type,
         string $cased_guide_method_id,
+        string $implementer_called_class_name,
         string $cased_implementer_method_id,
         CodeLocation $code_location,
         array $suppressed_issues
@@ -684,8 +686,12 @@ class MethodComparator
             ? ExpressionAnalyzer::fleshOutType(
                 $codebase,
                 $implementer_method_storage->signature_return_type,
-                $implementer_classlike_storage->name,
-                $implementer_classlike_storage->name,
+                $implementer_classlike_storage->is_trait
+                    ? $implementer_called_class_name
+                    : $implementer_classlike_storage->name,
+                $implementer_classlike_storage->is_trait
+                    ? $implementer_called_class_name
+                    : $implementer_classlike_storage->name,
                 $implementer_classlike_storage->parent_class
             ) : null;
 
diff --git a/tests/MethodSignatureTest.php b/tests/MethodSignatureTest.php
index 2c0990251..623ef671a 100644
--- a/tests/MethodSignatureTest.php
+++ b/tests/MethodSignatureTest.php
@@ -748,6 +748,31 @@ class MethodSignatureTest extends TestCase
                         }
                     }'
             ],
+            'allowMatchIn74' => [
+                '<?php
+                    trait FooTrait {
+                        /**
+                         * @return static
+                         */
+                        public function bar(): self  {
+                            return $this;
+                        }
+                    }
+
+                    interface FooInterface {
+                        /**
+                         * @return static
+                         */
+                        public function bar(): self;
+                    }
+
+                    class FooClass implements FooInterface {
+                        use FooTrait;
+                    }',
+                [],
+                [],
+                '7.4'
+            ],
         ];
     }
 
@@ -1250,6 +1275,32 @@ class MethodSignatureTest extends TestCase
                     }',
                 'error_message' => 'MethodSignatureMismatch',
             ],
+            'preventTraitMatchIn73' => [
+                '<?php
+                    trait FooTrait {
+                        /**
+                         * @return static
+                         */
+                        public function bar(): self  {
+                            return $this;
+                        }
+                    }
+
+                    interface FooInterface {
+                        /**
+                         * @return static
+                         */
+                        public function bar(): self;
+                    }
+
+                    class FooClass implements FooInterface {
+                        use FooTrait;
+                    }',
+                'error_message' => 'MethodSignatureMismatch',
+                [],
+                false,
+                '7.3'
+            ],
         ];
     }
 }
