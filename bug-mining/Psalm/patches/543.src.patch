diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
index 08e36b4f8..e671db438 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
@@ -657,15 +657,37 @@ class CallAnalyzer
         PhpParser\Node\Arg $arg,
         Context $context
     ) {
-        $was_inside_call = $context->inside_call;
-        $context->inside_call = true;
+        // there are a bunch of things we want to evaluate even when we don't
+        // know what function/method is being called
+        if ($arg->value instanceof PhpParser\Node\Expr\Closure
+            || $arg->value instanceof PhpParser\Node\Expr\ConstFetch
+            || $arg->value instanceof PhpParser\Node\Expr\ClassConstFetch
+            || $arg->value instanceof PhpParser\Node\Expr\FuncCall
+            || $arg->value instanceof PhpParser\Node\Expr\MethodCall
+            || $arg->value instanceof PhpParser\Node\Expr\StaticCall
+            || $arg->value instanceof PhpParser\Node\Expr\New_
+            || $arg->value instanceof PhpParser\Node\Expr\Assign
+            || $arg->value instanceof PhpParser\Node\Expr\ArrayDimFetch
+            || $arg->value instanceof PhpParser\Node\Expr\PropertyFetch
+            || $arg->value instanceof PhpParser\Node\Expr\Array_
+            || $arg->value instanceof PhpParser\Node\Expr\BinaryOp
+            || $arg->value instanceof PhpParser\Node\Expr\Ternary
+            || $arg->value instanceof PhpParser\Node\Scalar\Encapsed
+            || $arg->value instanceof PhpParser\Node\Expr\PostInc
+            || $arg->value instanceof PhpParser\Node\Expr\PostDec
+            || $arg->value instanceof PhpParser\Node\Expr\PreInc
+            || $arg->value instanceof PhpParser\Node\Expr\PreDec
+        ) {
+            $was_inside_call = $context->inside_call;
+            $context->inside_call = true;
 
-        if (ExpressionAnalyzer::analyze($statements_analyzer, $arg->value, $context) === false) {
-            return false;
-        }
+            if (ExpressionAnalyzer::analyze($statements_analyzer, $arg->value, $context) === false) {
+                return false;
+            }
 
-        if (!$was_inside_call) {
-            $context->inside_call = false;
+            if (!$was_inside_call) {
+                $context->inside_call = false;
+            }
         }
 
         if ($arg->value instanceof PhpParser\Node\Expr\PropertyFetch
@@ -681,7 +703,27 @@ class CallAnalyzer
         }
 
         if ($var_id) {
-            if ($context->hasVariable($var_id, $statements_analyzer)) {
+            if (!$context->hasVariable($var_id, $statements_analyzer)
+                || $context->vars_in_scope[$var_id]->isNull()
+            ) {
+                // we don't know if it exists, assume it's passed by reference
+                $context->vars_in_scope[$var_id] = Type::getMixed();
+                $context->vars_possibly_in_scope[$var_id] = true;
+
+                if (strpos($var_id, '-') === false
+                    && strpos($var_id, '[') === false
+                    && !$statements_analyzer->hasVariable($var_id)
+                ) {
+                    $location = new CodeLocation($statements_analyzer, $arg->value);
+                    $statements_analyzer->registerVariable(
+                        $var_id,
+                        $location,
+                        null
+                    );
+
+                    $statements_analyzer->registerVariableUses([$location->getHash() => $location]);
+                }
+            } else {
                 $context->removeVarFromConflictingClauses(
                     $var_id,
                     $context->vars_in_scope[$var_id],
diff --git a/tests/MethodCallTest.php b/tests/MethodCallTest.php
index 7b052d890..3e8df55d6 100644
--- a/tests/MethodCallTest.php
+++ b/tests/MethodCallTest.php
@@ -859,23 +859,6 @@ class MethodCallTest extends TestCase
                     }',
                 'error_message' => 'InvalidStringClass',
             ],
-            'dontAssumePossibleByRef' => [
-                '<?php
-                    class C {
-                        function b(string $p): string {
-                            return $p;
-                        }
-                    }
-
-                    /** @return mixed */
-                    function func() {
-                        return new C();
-                    }
-
-                    /** @psalm-suppress MixedMethodCall */
-                    func()->b($param);',
-                'error_message' => 'UndefinedGlobalVariable',
-            ],
         ];
     }
 }
diff --git a/tests/UnusedCodeTest.php b/tests/UnusedCodeTest.php
index 263ac1393..a41287c1f 100644
--- a/tests/UnusedCodeTest.php
+++ b/tests/UnusedCodeTest.php
@@ -543,14 +543,14 @@ class UnusedCodeTest extends TestCase
                         /**
                          * @psalm-suppress MixedArgument
                          */
-                        public function bar(string $request): void {
+                        public function bar(): void {
                             /** @var mixed $action */
                             $action = "";
                             $this->{"execute" . ucfirst($action)}($request);
                         }
                     }
 
-                    (new Foo)->bar("hello");'
+                    (new Foo)->bar();'
             ],
             'usedMethodCallForExternalMutationFreeClass' => [
                 '<?php
diff --git a/tests/UnusedVariableTest.php b/tests/UnusedVariableTest.php
index f7e52e90d..a2f731bdb 100644
--- a/tests/UnusedVariableTest.php
+++ b/tests/UnusedVariableTest.php
@@ -518,6 +518,13 @@ class UnusedVariableTest extends TestCase
 
                     if ($i) {}',
             ],
+            'unknownMethodCallWithVar' => [
+                '<?php
+                    /** @psalm-suppress MixedMethodCall */
+                    function passesByRef(object $a): void {
+                        $a->passedByRef($b);
+                    }',
+            ],
             'usedMethodCallVariable' => [
                 '<?php
                     function reindex(array $arr, string $methodName): array {
