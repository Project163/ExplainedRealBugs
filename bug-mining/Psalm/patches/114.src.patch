diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ConstFetchAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ConstFetchAnalyzer.php
index e3b015926..00f2cf766 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ConstFetchAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Fetch/ConstFetchAnalyzer.php
@@ -216,7 +216,7 @@ class ConstFetchAnalyzer
                     $class_visibility
                 );
 
-                if (!isset($class_constants[$stmt->name->name]) && $first_part_lc !== 'static') {
+                if (!isset($class_constants[$stmt->name->name])) {
                     $all_class_constants = [];
 
                     if ($fq_class_name !== $context->self) {
diff --git a/tests/ConstantTest.php b/tests/ConstantTest.php
index 1e8614d28..b547cdef8 100644
--- a/tests/ConstantTest.php
+++ b/tests/ConstantTest.php
@@ -487,6 +487,17 @@ class ConstantTest extends TestCase
                     }',
                 'error_message' => 'UndefinedConstant',
             ],
+            'preventStaticClassConstWithoutRef' => [
+                '<?php
+                    class Foo {
+                        public const CONST = 1;
+
+                        public function x() : void {
+                            echo static::CON;
+                        }
+                    }',
+                'error_message' => 'UndefinedConstant',
+            ],
         ];
     }
 }
