diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
index 28d1b82b2..4be0773a6 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/CallAnalyzer.php
@@ -711,6 +711,20 @@ class CallAnalyzer
         }
 
         if ($type_assertions) {
+            foreach (($statements_analyzer->getTemplateTypeMap() ?: []) as $template_name => $map) {
+                foreach ($map as $ref => list($type)) {
+                    $template_type_map[$template_name][$ref] = [
+                        new Type\Union([
+                            new Type\Atomic\TTemplateParam(
+                                $template_name,
+                                $type,
+                                $ref
+                            )
+                        ])
+                    ];
+                }
+            }
+
             // while in an and, we allow scope to boil over to support
             // statements of the form if ($x && $x->foo())
             $op_vars_in_scope = \Psalm\Type\Reconciler::reconcileKeyedTypes(
@@ -720,7 +734,7 @@ class CallAnalyzer
                 $changed_var_ids,
                 $asserted_keys,
                 $statements_analyzer,
-                ($statements_analyzer->getTemplateTypeMap() ?: []) + $template_type_map,
+                $template_type_map,
                 $context->inside_loop,
                 new CodeLocation($statements_analyzer->getSource(), $expr)
             );
diff --git a/tests/Template/FunctionTemplateAssertTest.php b/tests/Template/FunctionTemplateAssertTest.php
index 477a48fe5..fc8cd189a 100644
--- a/tests/Template/FunctionTemplateAssertTest.php
+++ b/tests/Template/FunctionTemplateAssertTest.php
@@ -692,6 +692,32 @@ class FunctionTemplateAssertTest extends TestCase
                         }
                     }'
             ],
+            'dontBleedTemplateTypeInArray' => [
+                '<?php
+                    /**
+                     * @psalm-template ExpectedType of object
+                     * @psalm-param class-string<ExpectedType> $class
+                     * @psalm-assert array<class-string<ExpectedType>> $value
+                     *
+                     * @param array<string> $value
+                     * @param string                  $class
+                     */
+                    function allIsAOf($value, $class): void {}
+
+                    /**
+                     * @psalm-template T of object
+                     *
+                     * @param array<string> $value
+                     * @param class-string<T> $class
+                     *
+                     * @return array<class-string<T>>
+                     */
+                    function f($value, $class) {
+                        allIsAOf($value, $class);
+
+                        return $value;
+                    }'
+            ],
         ];
     }
 
