diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
index bcddd8769..ca462247d 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/Call/FunctionCallAnalyzer.php
@@ -79,10 +79,17 @@ class FunctionCallAnalyzer extends \Psalm\Internal\Analyzer\Statements\Expressio
         $function_exists = false;
 
         if ($stmt->name instanceof PhpParser\Node\Expr) {
+            $was_in_call = $context->inside_call;
+            $context->inside_call = true;
+
             if (ExpressionAnalyzer::analyze($statements_analyzer, $stmt->name, $context) === false) {
                 return;
             }
 
+            if (!$was_in_call) {
+                $context->inside_call = false;
+            }
+
             if (isset($stmt->name->inferredType)) {
                 if ($stmt->name->inferredType->isNull()) {
                     if (IssueBuffer::accepts(
diff --git a/tests/UnusedCodeTest.php b/tests/UnusedCodeTest.php
index 4b2f906d8..115377b29 100644
--- a/tests/UnusedCodeTest.php
+++ b/tests/UnusedCodeTest.php
@@ -519,6 +519,15 @@ class UnusedCodeTest extends TestCase
 
                     new A();'
             ],
+            'usedFunctionInCall' => [
+                '<?php
+                    function fooBar(): void {}
+
+                    $foo = "foo";
+                    $bar = "bar";
+
+                    ($foo . ucfirst($bar))();',
+            ],
         ];
     }
 
