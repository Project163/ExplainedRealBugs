diff --git a/src/Psalm/Type/Reconciler.php b/src/Psalm/Type/Reconciler.php
index b0a036b8a..2c39eee28 100644
--- a/src/Psalm/Type/Reconciler.php
+++ b/src/Psalm/Type/Reconciler.php
@@ -96,7 +96,8 @@ class Reconciler
             $has_falsyish = false;
             $has_empty = false;
             $has_count_check = false;
-            $is_equality = ($old_new_types[$key] ?? null) === $new_type_parts;
+            $is_real = ($old_new_types[$key] ?? null) === $new_type_parts;
+            $is_equality = $is_real;
 
             foreach ($new_type_parts as $new_type_part_parts) {
                 foreach ($new_type_part_parts as $new_type_part_part) {
@@ -271,6 +272,7 @@ class Reconciler
 
                         if (!isset($new_types[$new_key])
                             && preg_match('/' . preg_quote($key, '/') . '[\]\[\-]/', $new_key)
+                            && $is_real
                         ) {
                             unset($existing_types[$new_key]);
                         }
diff --git a/tests/TypeReconciliation/EmptyTest.php b/tests/TypeReconciliation/EmptyTest.php
index f5af40aab..8bebd5618 100644
--- a/tests/TypeReconciliation/EmptyTest.php
+++ b/tests/TypeReconciliation/EmptyTest.php
@@ -389,6 +389,30 @@ class EmptyTest extends \Psalm\Tests\TestCase
                         echo $arr["a"];
                     }'
             ],
+            'reconcileEmptyTwiceWithoutReturn' => [
+                '<?php
+                    function foo(array $arr): void {
+                        if (!empty($arr["a"])) {
+                        } else {
+                            if (empty($arr["dontcare"])) {}
+                        }
+
+                        if (empty($arr["a"])) {}
+                    }'
+            ],
+            'reconcileEmptyTwiceWithReturn' => [
+                '<?php
+                    function foo(array $arr): void {
+                        if (!empty($arr["a"])) {
+                        } else {
+                            if (empty($arr["dontcare"])) {
+                                return;
+                            }
+                        }
+
+                        if (empty($arr["a"])) {}
+                    }'
+            ],
         ];
     }
 
