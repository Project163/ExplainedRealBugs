diff --git a/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php b/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
index 26ff7ee58..196b2923e 100644
--- a/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/Statements/Expression/TernaryAnalyzer.php
@@ -2,6 +2,7 @@
 namespace Psalm\Internal\Analyzer\Statements\Expression;
 
 use PhpParser;
+use Psalm\Internal\Analyzer\AlgebraAnalyzer;
 use Psalm\Internal\Analyzer\Statements\ExpressionAnalyzer;
 use \Psalm\Internal\Analyzer\Statements\Block\IfAnalyzer;
 use Psalm\Internal\Analyzer\StatementsAnalyzer;
@@ -47,6 +48,7 @@ class TernaryAnalyzer
             $if_context = $if_conditional_scope->if_context;
 
             $cond_referenced_var_ids = $if_conditional_scope->cond_referenced_var_ids;
+            $cond_assigned_var_ids = $if_conditional_scope->cond_assigned_var_ids;
         } catch (\Psalm\Exception\ScopeAnalysisException $e) {
             return false;
         }
@@ -102,6 +104,15 @@ class TernaryAnalyzer
             )
         );
 
+        // this will see whether any of the clauses in set A conflict with the clauses in set B
+        AlgebraAnalyzer::checkForParadox(
+            $context->clauses,
+            $if_clauses,
+            $statements_analyzer,
+            $stmt->cond,
+            $cond_assigned_var_ids
+        );
+
         $ternary_clauses = array_merge($context->clauses, $if_clauses);
 
         if ($if_context->reconciled_expression_clauses) {
@@ -178,7 +189,16 @@ class TernaryAnalyzer
             );
         }
 
+        $t_else_context->clauses = Algebra::simplifyCNF(
+            array_merge(
+                $t_else_context->clauses,
+                $negated_clauses
+            )
+        );
+
         if ($negated_if_types) {
+            $changed_var_ids = [];
+
             $t_else_vars_in_scope_reconciled = Reconciler::reconcileKeyedTypes(
                 $negated_if_types,
                 $negated_if_types,
@@ -192,6 +212,8 @@ class TernaryAnalyzer
             );
 
             $t_else_context->vars_in_scope = $t_else_vars_in_scope_reconciled;
+
+            $t_else_context->clauses = Context::removeReconciledClauses($t_else_context->clauses, $changed_var_ids)[0];
         }
 
         if (ExpressionAnalyzer::analyze($statements_analyzer, $stmt->else, $t_else_context) === false) {
diff --git a/tests/MatchTest.php b/tests/MatchTest.php
index a38fcdeeb..af429830c 100644
--- a/tests/MatchTest.php
+++ b/tests/MatchTest.php
@@ -163,6 +163,19 @@ class MatchTest extends TestCase
                 false,
                 '8.0',
             ],
+            'paradoxWithDuplicateValue' => [
+                '<?php
+                    function foo(int $i) : void {
+                        echo match ($i) {
+                            1 => 0,
+                            1 => 1,
+                        };
+                    };',
+                'error_message' => 'ParadoxicalCondition',
+                [],
+                false,
+                '8.0',
+            ],
         ];
     }
 }
diff --git a/tests/TypeReconciliation/TypeAlgebraTest.php b/tests/TypeReconciliation/TypeAlgebraTest.php
index 2caf53b30..4e0ba68a2 100644
--- a/tests/TypeReconciliation/TypeAlgebraTest.php
+++ b/tests/TypeReconciliation/TypeAlgebraTest.php
@@ -1033,6 +1033,12 @@ class TypeAlgebraTest extends \Psalm\Tests\TestCase
                         if ((!$b || rand(0, 1)) && (!$c || rand(0, 1))) {}
                     }'
             ],
+            'noParadoxInTernary' => [
+                '<?php
+                    function foo(?bool $b) : string {
+                        return $b ? "a" : ($b === null ? "foo" : "b");
+                    }',
+            ],
         ];
     }
 
@@ -1234,6 +1240,13 @@ class TypeAlgebraTest extends \Psalm\Tests\TestCase
                     } elseif ($to !== null) {}',
                 'error_message' => 'RedundantCondition',
             ],
+            'paradoxInTernary' => [
+                '<?php
+                    function foo(string $input) : string {
+                        return $input === "a" ? "bar" : ($input === "a" ? "foo" : "b");
+                    }',
+                'error_message' => 'ParadoxicalCondition',
+            ],
         ];
     }
 }
