diff --git a/src/Psalm/Internal/Type/TypeExpander.php b/src/Psalm/Internal/Type/TypeExpander.php
index e21e254b0..12fd1194f 100644
--- a/src/Psalm/Internal/Type/TypeExpander.php
+++ b/src/Psalm/Internal/Type/TypeExpander.php
@@ -39,6 +39,8 @@ class TypeExpander
 
         $new_return_type_parts = [];
 
+        $has_array_output = false;
+
         foreach ($return_type->getAtomicTypes() as $return_type_part) {
             $parts = self::expandAtomic(
                 $codebase,
@@ -53,12 +55,20 @@ class TypeExpander
 
             if (is_array($parts)) {
                 $new_return_type_parts = array_merge($new_return_type_parts, $parts);
+                $has_array_output = true;
             } else {
                 $new_return_type_parts[] = $parts;
             }
         }
 
-        $fleshed_out_type = new Type\Union($new_return_type_parts);
+        if ($has_array_output) {
+            $fleshed_out_type = TypeCombination::combineTypes(
+                $new_return_type_parts,
+                $codebase
+            );
+        } else {
+            $fleshed_out_type = new Type\Union($new_return_type_parts);
+        }
 
         $fleshed_out_type->from_docblock = $return_type->from_docblock;
         $fleshed_out_type->ignore_nullable_issues = $return_type->ignore_nullable_issues;
diff --git a/tests/TypeAnnotationTest.php b/tests/TypeAnnotationTest.php
index 83e656081..a608ac242 100644
--- a/tests/TypeAnnotationTest.php
+++ b/tests/TypeAnnotationTest.php
@@ -397,6 +397,42 @@ class TypeAnnotationTest extends TestCase
                     }',
                 'error_message' => 'InvalidDocblock',
             ],
+            'mergeImportedTypes' => [
+                '<?php
+                    namespace A\B;
+
+                    /**
+                     * @psalm-type _A=array{
+                     *      id:int
+                     * }
+                     *
+                     * @psalm-type _B=array{
+                     *      id:int,
+                     *      something:int
+                     * }
+                     */
+                    class Types
+                    {
+                    }
+
+                    namespace A;
+
+                    /**
+                     * @psalm-import-type _A from \A\B\Types as _AA
+                     * @psalm-import-type _B from \A\B\Types as _BB
+                     */
+                    class Id
+                    {
+                        /**
+                         * @psalm-param _AA|_BB $_item
+                         */
+                        public function ff(array $_item): int
+                        {
+                            return $_item["something"];
+                        }
+                    }',
+                'error_message' => 'PossiblyUndefinedArrayOffset'
+            ],
         ];
     }
 }
