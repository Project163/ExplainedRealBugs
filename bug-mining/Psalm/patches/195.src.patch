diff --git a/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php b/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
index 411662146..d1e470581 100644
--- a/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/FunctionAnalyzer.php
@@ -112,19 +112,23 @@ class FunctionAnalyzer extends FunctionLikeAnalyzer
                     if (isset($call_args[0]->value->inferredType)) {
                         $atomic_types = $call_args[0]->value->inferredType->getTypes();
 
-                        if (count($atomic_types) === 1 && isset($atomic_types['array'])) {
-                            if ($atomic_types['array'] instanceof Type\Atomic\TNonEmptyArray) {
-                                return new Type\Union([
-                                    $atomic_types['array']->count !== null
-                                        ? new Type\Atomic\TLiteralInt($atomic_types['array']->count)
-                                        : new Type\Atomic\TInt
-                                ]);
-                            } elseif ($atomic_types['array'] instanceof Type\Atomic\ObjectLike
-                                && $atomic_types['array']->sealed
-                            ) {
-                                return new Type\Union([
-                                    new Type\Atomic\TLiteralInt(count($atomic_types['array']->properties))
-                                ]);
+                        if (count($atomic_types) === 1) {
+                            if (isset($atomic_types['array'])) {
+                                if ($atomic_types['array'] instanceof Type\Atomic\TNonEmptyArray) {
+                                    return new Type\Union([
+                                        $atomic_types['array']->count !== null
+                                            ? new Type\Atomic\TLiteralInt($atomic_types['array']->count)
+                                            : new Type\Atomic\TInt
+                                    ]);
+                                } elseif ($atomic_types['array'] instanceof Type\Atomic\ObjectLike
+                                    && $atomic_types['array']->sealed
+                                ) {
+                                    return new Type\Union([
+                                        new Type\Atomic\TLiteralInt(count($atomic_types['array']->properties))
+                                    ]);
+                                }
+                            } elseif (isset($atomic_types['callable-array'])) {
+                                return Type::getInt(false, 2);
                             }
                         }
                     }
diff --git a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
index c4277e8e7..74f23b384 100644
--- a/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
+++ b/src/Psalm/Internal/Analyzer/TypeAnalyzer.php
@@ -724,6 +724,8 @@ class TypeAnalyzer
         }
 
         if ($input_type_part->shallowEquals($container_type_part)
+            || ($input_type_part instanceof Type\Atomic\TCallableObjectLikeArray
+                && $container_type_part instanceof TArray)
             || (($input_type_part instanceof TNamedObject
                     || ($input_type_part instanceof TTemplateParam
                         && $input_type_part->as->hasObjectType())
diff --git a/tests/FunctionCallTest.php b/tests/FunctionCallTest.php
index 83676d142..69b3d7d66 100644
--- a/tests/FunctionCallTest.php
+++ b/tests/FunctionCallTest.php
@@ -1698,6 +1698,15 @@ class FunctionCallTest extends TestCase
                     $xml = new SimpleXMLElement("<?xml version=\"1.0\"?><a><b></b><b></b></a>");
                     echo count($xml);',
             ],
+            'countableCallableArray' => [
+                '<?php
+                    /** @param callable|false $x */
+                    function example($x) : void {
+                        if (is_array($x)) {
+                            echo "Count is: " . count($x);
+                        }
+                    }'
+            ],
             'refineWithTraitExists' => [
                 '<?php
                     function foo(string $s) : void {
@@ -2358,6 +2367,17 @@ class FunctionCallTest extends TestCase
                     }',
                 'error_message' => 'UndefinedVariable',
             ],
+            'countCallableArrayShouldBeTwo' => [
+                '<?php
+                    /** @param callable|false $x */
+                    function example($x) : void {
+                        if (is_array($x)) {
+                            $c = count($x);
+                            if ($c !== 2) {}
+                        }
+                    }',
+                'error_message' => 'TypeDoesNotContainType',
+            ],
         ];
     }
 }
