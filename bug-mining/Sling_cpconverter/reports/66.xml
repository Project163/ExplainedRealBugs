<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:36:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-8942] Support aggregate and abstract privileges</title>
                <link>https://issues.apache.org/jira/browse/SLING-8942</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently only simple privileges are supported via &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffc6bb990dfaf82c477a28ad4b87b0c12859b743/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java#L65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffc6bb990dfaf82c477a28ad4b87b0c12859b743/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java#L65&lt;/a&gt;. Aggregate and abstract privileges should be supported as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13275701">SLING-8942</key>
            <summary>Support aggregate and abstract privileges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2019 10:33:12 +0000</created>
                <updated>Mon, 17 May 2021 11:38:41 +0000</updated>
                            <resolved>Tue, 12 Jan 2021 16:32:22 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.2</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17243172" author="anchela" created="Thu, 3 Dec 2020 13:00:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, IMHO this is actually a critical bug.... registering an aggregated privilege as single-privileges will  result in a different effective permission setup, wherever that privilege is being used in the access control setup and essentially leave the repository in an inconsistent state. and afaik, such a wrongly registered privilege cannot be altered afterwards.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, fyi&lt;/p&gt;</comment>
                            <comment id="17247286" author="anchela" created="Thu, 10 Dec 2020 14:47:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; , just an quick, ugly draft patch on how that could be addressed (e.g. i am pretty sure the exists some utility to properly convert Name objects into strings... but i didn&apos;t remember where that was and how it was called). i kept wondering, why the code parses the xml itself with hardcoded strings, when Jackrabbit fvault comes with utilities that actually do parse meta-info like privileges. maybe there is a reason for this, that i am not aware of... this definitely need to be checked. also, i couldn&apos;t find examples for content packages with abstract/aggregated privileges if jackrabbit fvault.... hope i got it right.&lt;/p&gt;

&lt;p&gt;also spotted a bug in the test privileges.xml resource:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;privileges xmlns:crx=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//sling.apache.org/rx/1.0&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;   &amp;lt;privilege name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rx:replicate&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/privileges&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the namespace prefix is garbled.... probably leftover from trying to disguise that this was just a copy from Adobe AEM....&lt;/p&gt;</comment>
                            <comment id="17263292" author="anchela" created="Tue, 12 Jan 2021 12:15:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;, updated patch.... had to dig in the old jackrabbit core to lookup the proper way to convert &lt;tt&gt;Name&lt;/tt&gt; objects to JCR name strings.&lt;/p&gt;

&lt;p&gt;in version 3 also fixed the garbled namespace mapping in privileges.xml resource.&lt;br/&gt;
i will create a PR for review: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/45&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17263464" author="karlpauls" created="Tue, 12 Jan 2021 16:32:22 +0000"  >&lt;p&gt;Thanks a lot for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;Angela&lt;/a&gt;. I merged it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13115663">SLING-7227</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13345299">SLING-9992</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13018629" name="SLING-8942-3.patch" size="11560" author="angela" created="Tue, 12 Jan 2021 12:38:40 +0000"/>
                            <attachment id="13016855" name="SLING-8942.patch" size="11724" author="angela" created="Thu, 10 Dec 2020 14:41:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z09vn4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>