<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:36:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-10127] Keep modified content packages of type &quot;content&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-10127</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/a21667f65a2bd503bd752c3cc6fb842caac90d90/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java#L343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/a21667f65a2bd503bd752c3cc6fb842caac90d90/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java#L343&lt;/a&gt; all generated/modified content packages of type &quot;content&quot; are just disregarded.&lt;/p&gt;

&lt;p&gt;If you have as input a content package of type &quot;content&quot; containing ACLs on mutable nodes, system users and arbitrary other mutable nodes, the first two are correctly extracted into a feature model but the content package is not modified, leading to the fact that the ACLs and system users are still contained in the content package.&lt;/p&gt;

&lt;p&gt;IMHO a modified content-package should be given out (and kept) as that one differs from the input content package!&lt;br/&gt;
Otherwise you would try to install system users/ACLs again when installing the content package which might fail due to missing rights...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13357370">SLING-10127</key>
            <summary>Keep modified content packages of type &quot;content&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Feb 2021 10:26:46 +0000</created>
                <updated>Mon, 17 May 2021 11:38:36 +0000</updated>
                            <resolved>Wed, 14 Apr 2021 08:35:51 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.0.24</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17281414" author="kwin" created="Mon, 8 Feb 2021 22:15:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt; What is your opinion on this one? Are the mutable content packages not supposed to be stripped from the parts which are extracted into the feature model? &lt;/p&gt;</comment>
                            <comment id="17299371" author="kwin" created="Thu, 11 Mar 2021 07:26:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; This is somewhat related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10070&quot; title=&quot;Option to enforce principal-based authorization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10070&quot;&gt;&lt;del&gt;SLING-10070&lt;/del&gt;&lt;/a&gt;. Is it worth to look into this (given the discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-509&quot; title=&quot;Make DocView import failures fail the whole installation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-509&quot;&gt;&lt;del&gt;JCRVLT-509&lt;/del&gt;&lt;/a&gt;)?&lt;/p&gt;</comment>
                            <comment id="17299381" author="anchela" created="Thu, 11 Mar 2021 07:42:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, thanks for highlighting that. very good point. in fact if content packages are installed as originally defined the effect of &apos;enforce principal-based ac-setup&apos; would actually be destroyed if the content packages comes with an import-mode that moves the existing service users.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;, i think we briefly touched this topic while fixing security issues with the converter but somehow assume that this is already the case. if it&apos;s not as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; reports this would need to be addressed. wdyt?&lt;/p&gt;</comment>
                            <comment id="17311422" author="kwin" created="Tue, 30 Mar 2021 11:10:04 +0000"  >&lt;p&gt;Currently the &lt;tt&gt;ContentPackage2FeatureModelConverter.dropContent&lt;/tt&gt; field is always set to false. Having it set to &lt;tt&gt;true&lt;/tt&gt; would lead to &lt;br/&gt;
1. including the modified package of type &quot;content&quot; in the artifact repository&lt;br/&gt;
2. referencing the package in the feature model&lt;/p&gt;

&lt;p&gt;What we want is rather to keep the converted package in some other location (replace the original input package, complicated if this is a subpackage of an original package).&lt;br/&gt;
I am not sure if the input file is always writable by the cp2fm process so I think writing the modified files to a dedicated folder makes more sense.&lt;br/&gt;
That would also mean that sub packages would be dissolved and written as flat content packages.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="17320804" author="kwin" created="Wed, 14 Apr 2021 08:35:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/bacfbd74fad08d1e48d3e813091aac0ded62c7b3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/bacfbd74fad08d1e48d3e813091aac0ded62c7b3&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13363285">JCRVLT-509</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13366001">SLING-10233</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13366023">SLING-10234</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ngoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>