<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:37:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-10931] CPConverter - Sling initial content - json files should be converted to folders with a content xml in any case to avoid conflicts</title>
                <link>https://issues.apache.org/jira/browse/SLING-10931</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In case of converting sling initial content containing JSON files over to xml, currently the cpconverter simply creates a xml file in the same level.&lt;/p&gt;

&lt;p&gt;The problem is when there are other files in a directory with the same name to go along the resourceType.&lt;/p&gt;

&lt;p&gt;For example we have:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;page.json&lt;/li&gt;
	&lt;li&gt;page/body.html&lt;/li&gt;
	&lt;li&gt;page/footer.html&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The result will be:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;page.xml&lt;/li&gt;
	&lt;li&gt;page/body.html&lt;/li&gt;
	&lt;li&gt;page/footer.html&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Vault doesn&apos;t like this approach so much, resulting in stuff like:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;page.dir&lt;/li&gt;
	&lt;li&gt;page.xml&lt;/li&gt;
	&lt;li&gt;page/.content.xml (with resourceType nt:folder)&lt;/li&gt;
	&lt;li&gt;page/body.html&lt;/li&gt;
	&lt;li&gt;page/footer.html&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The solution lies in simply redirecting the output to .content.xml in a new folder:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;page/.content.xml&#160;&lt;/li&gt;
	&lt;li&gt;page/body.html&lt;/li&gt;
	&lt;li&gt;page/footer.html&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13412691">SLING-10931</key>
            <summary>CPConverter - Sling initial content - json files should be converted to folders with a content xml in any case to avoid conflicts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Sc0rpic0m">Niek Raaijmakers</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Nov 2021 04:38:07 +0000</created>
                <updated>Mon, 27 Jun 2022 08:16:15 +0000</updated>
                            <resolved>Mon, 17 Jan 2022 16:16:36 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.1.10</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.1.12</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17446372" author="anchela" created="Fri, 19 Nov 2021 09:00:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;, this ticket lacks a description and the summary is IMHO not enough to understand what the bug is about. would you mind adding a bit more context? the term &apos;Page&apos; or &apos;folder&apos; doesn&apos;t have any meaning in the context of JCR, Sling and this converter and I am also not sure I understand what exactly is broken from the information in the summary.&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17447204" author="sc0rpic0m" created="Mon, 22 Nov 2021 06:18:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt; you are correct, I Just didn&apos;t have time to properly provide a description. Will provide one shortly.&#160;&lt;/p&gt;</comment>
                            <comment id="17472647" author="sc0rpic0m" created="Tue, 11 Jan 2022 10:49:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; , I have a question.&lt;/p&gt;

&lt;p&gt;I am trying to copy in parent folder .content.xml&apos;s with sling:Folder in case it&apos;s not defined on the repository.&lt;/p&gt;

&lt;p&gt;For that I am trying to add these with a merge filter. However when creating a sample package on a project I bump into this validation error: &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/561aaa092d721963f16b860de955e6d1752a350e/vault-validation/src/main/java/org/apache/jackrabbit/vault/validation/spi/impl/PackageTypeValidator.java#L53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/561aaa092d721963f16b860de955e6d1752a350e/vault-validation/src/main/java/org/apache/jackrabbit/vault/validation/spi/impl/PackageTypeValidator.java#L53&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What is the reason we can&apos;t use includes / excludes in APPLICATION packages? If so we might want to explore other avenues such as repoinit.&#160;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17472653" author="kwin" created="Tue, 11 Jan 2022 10:54:32 +0000"  >&lt;p&gt;You should ask your colleagues, please see the discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-403&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-403&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-170?focusedCommentId=17016199&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17016199&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-170?focusedCommentId=17016199&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17016199&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17477306" author="karlpauls" created="Mon, 17 Jan 2022 16:16:36 +0000"  >&lt;p&gt;Done in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/125&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13422493">SLING-11058</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13468522">SLING-11420</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ww40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>