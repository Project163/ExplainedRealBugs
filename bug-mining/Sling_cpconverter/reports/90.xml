<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:36:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-10278] Treat install and config folders the same</title>
                <link>https://issues.apache.org/jira/browse/SLING-10278</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As the JCR Installer Providers by default considers artifacts in both folders (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blob/bf911ef17a5ccbebc8dc3e10690bb9c88b3512eb/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java#L101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blob/bf911ef17a5ccbebc8dc3e10690bb9c88b3512eb/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java#L101&lt;/a&gt;) &lt;tt&gt;config&lt;/tt&gt; and &lt;tt&gt;install&lt;/tt&gt; cp2fm should both treat the same.&lt;/p&gt;

&lt;p&gt;That means that by default both &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/8e2eda722d6d4b9d8007711d9bee9ce57ce48a67/src/main/java/org/apache/sling/feature/cpconverter/handlers/AbstractConfigurationEntryHandler.java#L40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/8e2eda722d6d4b9d8007711d9bee9ce57ce48a67/src/main/java/org/apache/sling/feature/cpconverter/handlers/AbstractConfigurationEntryHandler.java#L40&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/8e2eda722d6d4b9d8007711d9bee9ce57ce48a67/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java#L66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/8e2eda722d6d4b9d8007711d9bee9ce57ce48a67/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java#L66&lt;/a&gt; should consider both paths.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13370338">SLING-10278</key>
            <summary>Treat install and config folders the same</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Apr 2021 09:49:48 +0000</created>
                <updated>Mon, 17 May 2021 11:38:52 +0000</updated>
                            <resolved>Tue, 13 Apr 2021 07:46:28 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.1.0</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17319364" author="cziegeler" created="Mon, 12 Apr 2021 11:10:25 +0000"  >&lt;p&gt;It would be good if this is configurable - while one on hand it makes sense to support existing supports, on the other hand it makes sense to enforce best practices&lt;/p&gt;</comment>
                            <comment id="17319368" author="kwin" created="Mon, 12 Apr 2021 11:12:29 +0000"  >&lt;p&gt;I am open for enforcing best practices, but enforcing does not mean silently ignoring such artifacts (which is currently the case). So enforcing would IMHO be best tracked in a new ticket (together with the parameter to make it configurable).&lt;/p&gt;</comment>
                            <comment id="17319372" author="cziegeler" created="Mon, 12 Apr 2021 11:18:44 +0000"  >&lt;p&gt;Enforcing is right now done by silently ignoring &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; So by not ignoring these anymore the enforcing function will be removed. Therefore I think this should be dealt with in a single issue&lt;/p&gt;</comment>
                            <comment id="17319380" author="kwin" created="Mon, 12 Apr 2021 11:21:25 +0000"  >&lt;p&gt;IMHO enforcing best practices should be done in a feature analyser task (not the converter), so I would rather add a new analyser to enforce placing artifacts below a special folder. WDYT?&lt;/p&gt;</comment>
                            <comment id="17319391" author="cziegeler" created="Mon, 12 Apr 2021 11:34:37 +0000"  >&lt;p&gt;In general, yes, but that would require to run special analysers on the content packages before converting&lt;/p&gt;</comment>
                            <comment id="17319392" author="kwin" created="Mon, 12 Apr 2021 11:36:08 +0000"  >&lt;p&gt;Failing after the conversion is good enough to enforce best practices, don&apos;t you think?&lt;/p&gt;</comment>
                            <comment id="17319395" author="cziegeler" created="Mon, 12 Apr 2021 11:38:14 +0000"  >&lt;p&gt;But how does the analyser know where bundles or configs originated from?&lt;/p&gt;</comment>
                            <comment id="17319401" author="kwin" created="Mon, 12 Apr 2021 11:45:04 +0000"  >&lt;p&gt;Right, indeed. What do you think of providing a &lt;a href=&quot;https://jackrabbit.apache.org/filevault/validation.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;filevault validator&lt;/a&gt; for this check? There it is quite easy to enforce this best practice and it should be IMHO followed, no matter whether you use this converter or the OSGi installer....&lt;/p&gt;</comment>
                            <comment id="17319514" author="cziegeler" created="Mon, 12 Apr 2021 15:31:41 +0000"  >&lt;p&gt;A filevault validator definitely makes sense - still I think we should make it configurable where the converter looks for bundles and where it looks for configurations.&lt;/p&gt;</comment>
                            <comment id="17319584" author="kwin" created="Mon, 12 Apr 2021 16:55:14 +0000"  >&lt;p&gt;OK, I changed the PR at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/72&lt;/a&gt; accordingly and exposed a CLI option named &lt;tt&gt;--enforce-configs-and-bundles-below-proper-folder&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17319949" author="cziegeler" created="Tue, 13 Apr 2021 06:42:29 +0000"  >&lt;p&gt;Thanks, PR looks basically good to me - can we maybe reverse the default so we have the behaviour closer to as it is today?&lt;br/&gt;
While the CLI option name speaks to itself &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; maybe we can come with something slightly shorter? Like &quot;--disable-installer-policy&quot; ?&lt;/p&gt;</comment>
                            <comment id="17319995" author="kwin" created="Tue, 13 Apr 2021 07:46:29 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/040535be60fe958be0536bbab9829d95701d2887&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/040535be60fe958be0536bbab9829d95701d2887&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pnvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>