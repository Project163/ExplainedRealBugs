diff --git a/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java b/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java
index c463725..1380880 100644
--- a/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java
+++ b/src/main/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverter.java
@@ -31,6 +31,7 @@ import java.util.HashSet;
 import java.util.LinkedHashMap;
 import java.util.LinkedList;
 import java.util.List;
+import java.util.Locale;
 import java.util.Map;
 import java.util.Objects;
 import java.util.Properties;
@@ -397,7 +398,7 @@ public class ContentPackage2FeatureModelConverter extends BaseVaultPackageScanne
         VaultPackageAssembler handler = getMainPackageAssembler();
         
         Properties parentProps = handler.getPackageProperties();
-        boolean isContainerPackage = PackageType.CONTAINER.equals(parentProps.get(PackageProperties.NAME_PACKAGE_TYPE));
+        boolean isContainerPackage = PackageType.CONTAINER.equals(PackageType.valueOf(((String)parentProps.get(PackageProperties.NAME_PACKAGE_TYPE)).toUpperCase(Locale.ENGLISH)));
         setMainPackageAssembler(clonedPackage);
         assemblers.add(clonedPackage);
 
diff --git a/src/test/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverterTest.java b/src/test/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverterTest.java
index 0046dbe..234ce30 100644
--- a/src/test/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverterTest.java
+++ b/src/test/java/org/apache/sling/feature/cpconverter/ContentPackage2FeatureModelConverterTest.java
@@ -541,6 +541,35 @@ public class ContentPackage2FeatureModelConverterTest extends AbstractConverterT
             deleteDirTree(outputDirectory);
         }
     }
+    
+    /** container package containing app package must not result in any dependency from  
+     *  embedded to embedding package 
+    **/
+    
+    @Test
+    public void verifyContainerDependencyHandling() throws Exception {
+        URL packageUrl = getClass().getResource("embedded.package.container-0.0.1.zip");
+        File packageFile = FileUtils.toFile(packageUrl);
+
+        File outputDirectory = new File(System.getProperty("java.io.tmpdir"), getClass().getName() + '_' + System.currentTimeMillis());
+
+        try {
+
+            converter.setFeaturesManager(new DefaultFeaturesManager(true, 5, outputDirectory, null, null, new HashMap<>(), new DefaultAclManager()))
+                    .setBundlesDeployer(new LocalMavenRepositoryArtifactsDeployer(outputDirectory))
+                    .setEmitter(DefaultPackagesEventsEmitter.open(outputDirectory))
+                    .convert(packageFile);
+            
+            File contentPackage = new File(outputDirectory, "asd/sample/embedded.test.app/0.0.0/embedded.test.app-0.0.0-cp2fm-converted.zip");
+            VaultPackage vaultPackage = new PackageManagerImpl().open(contentPackage);
+            String dependencies = vaultPackage.getProperties().getProperty(PackageProperties.NAME_DEPENDENCIES);
+            org.apache.jackrabbit.vault.packaging.Dependency dep = org.apache.jackrabbit.vault.packaging.Dependency.fromString(dependencies);
+            assertNull(dep);
+        } finally {
+            deleteDirTree(outputDirectory);
+        }
+    }
+
 
     @Test(expected = ConverterException.class)
     public void doesNotAllowSameConfigurationPidForSameRunmode() throws Exception {
diff --git a/src/test/resources/org/apache/sling/feature/cpconverter/embedded.package.container-0.0.1.zip b/src/test/resources/org/apache/sling/feature/cpconverter/embedded.package.container-0.0.1.zip
new file mode 100644
index 0000000..8c799fe
Binary files /dev/null and b/src/test/resources/org/apache/sling/feature/cpconverter/embedded.package.container-0.0.1.zip differ
