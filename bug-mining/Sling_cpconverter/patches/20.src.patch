diff --git a/src/main/java/org/apache/sling/feature/cpconverter/acl/AclManager.java b/src/main/java/org/apache/sling/feature/cpconverter/acl/AclManager.java
index d34f412..dcd8f8c 100644
--- a/src/main/java/org/apache/sling/feature/cpconverter/acl/AclManager.java
+++ b/src/main/java/org/apache/sling/feature/cpconverter/acl/AclManager.java
@@ -30,6 +30,8 @@ public interface AclManager {
 
     void addRepoinitExtension(VaultPackageAssembler packageAssembler, Feature feature);
 
+    void addNamespace(String prefix, String url);
+
     void addNodetypeRegistrationSentence(String nodetypeRegistrationSentence);
 
     void addPrivilege(String privilege);
diff --git a/src/main/java/org/apache/sling/feature/cpconverter/acl/DefaultAclManager.java b/src/main/java/org/apache/sling/feature/cpconverter/acl/DefaultAclManager.java
index 9eeeab0..25be736 100644
--- a/src/main/java/org/apache/sling/feature/cpconverter/acl/DefaultAclManager.java
+++ b/src/main/java/org/apache/sling/feature/cpconverter/acl/DefaultAclManager.java
@@ -49,6 +49,10 @@ public final class DefaultAclManager implements AclManager {
 
     private final Map<String, List<Acl>> acls = new HashMap<>();
 
+    private final Map<String, String> preProvidedNamespaces = new HashMap<>();
+
+    private final Map<String, String> namespaces = new HashMap<>();
+
     private List<String> nodetypeRegistrationSentences = new LinkedList<>();
 
     private Set<String> privileges = new LinkedHashSet<>();
@@ -82,12 +86,26 @@ public final class DefaultAclManager implements AclManager {
         try {
             formatter = new Formatter();
 
+            // namespaces first
+
+            if (!namespaces.isEmpty()) {
+                for (Entry<String, String> namespace : namespaces.entrySet()) {
+                    formatter.format("register namespace (%s) %s%n", namespace.getKey(), namespace.getValue());
+                }
+                formatter.format("%n");
+            }
+
+            // privileges
+
             if (!privileges.isEmpty()) {
                 for (String privilege : privileges) {
                     formatter.format("register privilege %s%n", privilege);
                 }
+                formatter.format("%n");
             }
 
+            // register then all node types
+
             if (!nodetypeRegistrationSentences.isEmpty()) {
                 formatter.format("register nodetypes%n")
                          .format("<<===%n");
@@ -100,25 +118,28 @@ public final class DefaultAclManager implements AclManager {
                     }
                 }
 
-                formatter.format("===>>%n");
+                formatter.format("===>>%n%n");
             }
 
             // system users
+            if (!systemUsers.isEmpty()) {
+                for (String systemUser : systemUsers) {
+                    List<Acl> authorizations = acls.remove(systemUser);
 
-            for (String systemUser : systemUsers) {
-                List<Acl> authorizations = acls.remove(systemUser);
+                    // make sure all paths are created first
 
-                // make sure all paths are created first
+                    addPaths(authorizations, packageAssembler, formatter);
 
-                addPaths(authorizations, packageAssembler, formatter);
+                    // create then the users
 
-                // create then the users
+                    formatter.format("create service user %s%n", systemUser);
 
-                formatter.format("create service user %s%n", systemUser);
+                    // finally add ACLs
 
-                // finally add ACLs
+                    addAclStatement(formatter, systemUser, authorizations);
+                }
 
-                addAclStatement(formatter, systemUser, authorizations);
+                formatter.format("%n");
             }
 
             // all the resting ACLs can now be set
@@ -153,6 +174,14 @@ public final class DefaultAclManager implements AclManager {
         }
     }
 
+    @Override
+    public void addNamespace(String prefix, String url) {
+        if (!preProvidedNamespaces.containsKey(prefix)) {
+            preProvidedNamespaces.put(prefix, url);
+            namespaces.put(prefix, url);
+        }
+    }
+
     @Override
     public void addNodetypeRegistrationSentence(String nodetypeRegistrationSentence) {
         if (nodetypeRegistrationSentence != null) {
@@ -168,6 +197,7 @@ public final class DefaultAclManager implements AclManager {
     public void reset() {
         systemUsers.clear();
         acls.clear();
+        namespaces.clear();
         nodetypeRegistrationSentences.clear();
         privileges.clear();
     }
diff --git a/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java b/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java
index e2bf8a9..946960f 100644
--- a/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java
+++ b/src/main/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandler.java
@@ -29,6 +29,10 @@ import org.xml.sax.helpers.DefaultHandler;
 
 public class PrivilegesHandler extends AbstractRegexEntryHandler {
 
+    private static final String XMLNS_PREFIX = "xmlns:";
+
+    private static final String PRIVILEGES = "privileges";
+
     private static final String PRIVILEGE = "privilege";
 
     private static final String NAME = "name";
@@ -59,11 +63,29 @@ public class PrivilegesHandler extends AbstractRegexEntryHandler {
         @Override
         public void startElement(String uri, String localName, String qName, Attributes attributes)
                 throws SAXException {
-            if (PRIVILEGE.equals(qName)) {
-                String privilege = attributes.getValue(NAME);
-                if (privilege != null && !privilege.isEmpty()) {
-                    aclManager.addPrivilege(privilege);
-                }
+            switch (qName) {
+                case PRIVILEGES:
+                    for (int i = 0; i < attributes.getLength(); i++) {
+                        String attrName = attributes.getQName(i);
+
+                        if (attrName.startsWith(XMLNS_PREFIX)) {
+                            String prefix = attrName.substring(XMLNS_PREFIX.length());
+                            String url = attributes.getValue(i);
+                            aclManager.addNamespace(prefix, url);
+                        }
+                    }
+                    break;
+
+                case PRIVILEGE:
+                    String privilege = attributes.getValue(NAME);
+                    if (privilege != null && !privilege.isEmpty()) {
+                        aclManager.addPrivilege(privilege);
+                    }
+                    break;
+
+                default:
+                    // do nothing
+                    break;
             }
         }
 
diff --git a/src/test/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandlerTest.java b/src/test/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandlerTest.java
index 953218e..b16cd83 100644
--- a/src/test/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandlerTest.java
+++ b/src/test/java/org/apache/sling/feature/cpconverter/handlers/PrivilegesHandlerTest.java
@@ -84,7 +84,8 @@ public class PrivilegesHandlerTest {
 
         Extension repoinitExtension = feature.getExtensions().getByName(Extension.EXTENSION_NAME_REPOINIT);
         assertNotNull(repoinitExtension);
-        assertTrue(repoinitExtension.getText().contains("register privilege rx:replicate\n"));
+        assertTrue(repoinitExtension.getText().contains("register namespace (rx) http://sling.apache.org/rx/1.0"));
+        assertTrue(repoinitExtension.getText().contains("register privilege rx:replicate"));
     }
 
 }
diff --git a/src/test/resources/org/apache/sling/feature/cpconverter/handlers/META-INF/vault/privileges.xml b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/META-INF/vault/privileges.xml
index 7beb9d2..fc3fee8 100644
--- a/src/test/resources/org/apache/sling/feature/cpconverter/handlers/META-INF/vault/privileges.xml
+++ b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/META-INF/vault/privileges.xml
@@ -15,6 +15,6 @@
  License for the specific language governing permissions and limitations under
  the License.
 -->
-<privileges xmlns:crx="http://sling.apache.org/rx/1.0">
+<privileges xmlns:rx="http://sling.apache.org/rx/1.0">
    <privilege name="rx:replicate"/>
 </privileges>
