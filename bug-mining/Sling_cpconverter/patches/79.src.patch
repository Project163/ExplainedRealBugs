diff --git a/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java b/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java
index 404d111..43ee7fb 100644
--- a/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java
+++ b/src/main/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandler.java
@@ -26,6 +26,7 @@ import org.apache.sling.feature.cpconverter.artifacts.InputStreamArtifactWriter;
 import org.codehaus.plexus.util.StringUtils;
 import org.jetbrains.annotations.NotNull;
 import org.osgi.framework.Constants;
+import org.osgi.framework.Version;
 
 import java.io.IOException;
 import java.io.InputStream;
@@ -39,6 +40,7 @@ import java.util.regex.Pattern;
 
 import static java.util.Objects.requireNonNull;
 import static org.apache.jackrabbit.vault.packaging.PackageProperties.NAME_VERSION;
+import static org.osgi.framework.Version.parseVersion;
 
 public final class BundleEntryHandler extends AbstractRegexEntryHandler {
 
@@ -58,6 +60,8 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
 
     private final Pattern pomPropertiesPattern = Pattern.compile("META-INF/maven/[^/]+/[^/]+/pom.properties");
 
+    private final Pattern pomXmlPropertiesPattern = Pattern.compile("META-INF/maven/[^/]+/[^/]+/pom.xml");
+
     public BundleEntryHandler() {
         super("/jcr_root/(?:apps|libs)/.+/install(?:\\.([^/]+))?/(?:([0-9]+)/)?.+\\.jar");
     }
@@ -67,7 +71,7 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
         logger.info("Processing bundle {}...", entry.getName());
 
         String groupId;
-        String artifactId;
+        String artifactId = null;
         String version;
         String classifier = null;
         Manifest manifest;
@@ -84,11 +88,16 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
             } else { // maybe the included jar is just an OSGi bundle but not a valid Maven artifact
                 groupId = getCheckedProperty(manifest, BUNDLE_SYMBOLIC_NAME);
                 // Make sure there are not spaces in the name to adhere to the Maven Group Id specification
-                groupId = groupId.replaceAll(" ", "_");
-                artifactId = getCheckedProperty(manifest, BUNDLE_NAME);
-                // Make sure there are not spaces in the name to adhere to the Maven Artifact Id specification
-                artifactId = artifactId.replaceAll(" ", "_");
-                version = getCheckedProperty(manifest, BUNDLE_VERSION);
+                groupId = groupId.replace(' ', '_').replace(':', '_').replace('/', '_').replace('\\', '_');
+                if (groupId.indexOf('.') != -1) {
+                    artifactId = groupId.substring(groupId.lastIndexOf('.') + 1);
+                    groupId = groupId.substring(0, groupId.lastIndexOf('.'));
+                }
+                if (artifactId == null || artifactId.isEmpty()) {
+                    artifactId = groupId;
+                }
+                Version osgiVersion = Version.parseVersion(getCheckedProperty(manifest, BUNDLE_VERSION));
+                version = osgiVersion.getMajor() + "." + osgiVersion.getMinor() + "." + osgiVersion.getMicro() + (osgiVersion.getQualifier().isEmpty() ? "" : "-" + osgiVersion.getQualifier());
             }
         }
 
@@ -136,7 +145,8 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
 
     // method visibility set to 'protected' fot testing purposes
     protected @NotNull Properties readGav(@NotNull String entryName, @NotNull JarInputStream jarInput) throws IOException {
-        Properties properties = new Properties();
+        Properties pomProperties = new Properties();
+        Properties pomXmlProperties = new Properties();
 
         String bundleName = entryName;
         // Remove the leading path
@@ -154,23 +164,53 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
         while ((jarEntry = jarInput.getNextJarEntry()) != null) {
             String nextEntryName = jarEntry.getName();
 
+            String artifactId = null;
+            String version = null;
+            String groupId = null;
+            Properties properties = new Properties();
+            boolean pomXml = false;
             if (pomPropertiesPattern.matcher(nextEntryName).matches()) {
                 logger.info("Reading '{}' bundle GAV from {}...", bundleName, nextEntryName);
-
+                properties = pomProperties;
                 properties.load(jarInput);
 
-                String artifactId = properties.getProperty(NAME_ARTIFACT_ID);
-                String version = properties.getProperty(NAME_VERSION);
+                groupId = properties.getProperty(NAME_GROUP_ID);
+                artifactId = properties.getProperty(NAME_ARTIFACT_ID);
+                version = properties.getProperty(NAME_VERSION);
 
-                if (artifactId == null || version == null) {
-                    continue;
+            } else if (pomXmlPropertiesPattern.matcher(nextEntryName).matches()) {
+                pomXml = true;
+                logger.info("Reading '{}' bundle GAV from {}...", bundleName, nextEntryName);
+                properties = pomXmlProperties;
+                String path = nextEntryName.substring(0, nextEntryName.length() - "/pom.xml".length());
+                groupId = path.substring("META-INF/maven/".length(), path.lastIndexOf('/'));
+                artifactId = path.substring(path.lastIndexOf('/') + 1);
+                if (artifactId.indexOf('-') != -1) {
+                    version = artifactId.substring(artifactId.indexOf('-'));
+                    artifactId = artifactId.substring(0, artifactId.indexOf('-'));
+                    properties.put(NAME_VERSION, version);
+                } else if (bundleName.indexOf('-') != -1){
+                    try {
+                        String versionString = bundleName.substring(bundleName.indexOf('-') + 1);
+                        if (!parseVersion(versionString).equals(Version.emptyVersion)) {
+                            version = versionString;
+                            properties.put(NAME_VERSION, version);
+                        }
+                    } catch (IllegalArgumentException ex) {
+                        // Not a version
+                    }
                 }
+                properties.put(NAME_GROUP_ID, groupId);
+                properties.put(NAME_ARTIFACT_ID, artifactId);
+            }
+
 
+            if (groupId != null && artifactId != null && version != null) {
                 // bundleName is now the bare name without extension
                 String synthesized = artifactId + "-" + version;
 
                 // it was the pom.properties  we were looking for
-                if (bundleName.startsWith(synthesized)) {
+                if (bundleName.startsWith(synthesized) || bundleName.equals(artifactId)) {
 
                     // check the artifact has a classifier in the bundle file name
                     if (synthesized.length() < bundleName.length()) {
@@ -178,26 +218,33 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
                         if (suffix.length() > 1 && suffix.startsWith("-")) {
                             String classifier = suffix.substring(1);
                             logger.info("Inferred classifier of '"
-                                        + artifactId
-                                        + ":"
-                                        + version
-                                        + "' to be '"
-                                        + classifier
-                                        + "'");
+                                    + artifactId
+                                    + ":"
+                                    + version
+                                    + "' to be '"
+                                    + classifier
+                                    + "'");
                             properties.setProperty(NAME_CLASSIFIER, classifier);
                         }
                     }
-
-                    break;
+                    if (!pomXml) {
+                        pomProperties = properties;
+                        break;
+                    } else {
+                        pomXmlProperties = properties;
+                    }
                 }
             }
         }
 
-        return properties;
+        return pomProperties.isEmpty() ? pomXmlProperties : pomProperties;
     }
 
     private static @NotNull String getCheckedProperty(@NotNull Manifest manifest, @NotNull String name) {
-        String property = manifest.getMainAttributes().getValue(name).trim();
+        String property = manifest.getMainAttributes().getValue(name);
+        if (property != null) {
+            property = property.trim();
+        }
         return requireNonNull(property, "Jar file can not be defined as a valid OSGi bundle without specifying a valid '"
                                          + name
                                          + "' property.");
@@ -205,6 +252,9 @@ public final class BundleEntryHandler extends AbstractRegexEntryHandler {
 
     private static String getCheckedProperty(@NotNull Properties properties, @NotNull String name) {
         String property = properties.getProperty(name).trim();
+        if (property != null) {
+            property = property.trim();
+        }
         return requireNonNull(property, "Jar file can not be defined as a valid Maven artifact without specifying a valid '"
                                          + name
                                          + "' property.");
diff --git a/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandlerGAVTest.java b/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandlerGAVTest.java
new file mode 100644
index 0000000..c8b34fb
--- /dev/null
+++ b/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandlerGAVTest.java
@@ -0,0 +1,80 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with this
+ * work for additional information regarding copyright ownership. The ASF
+ * licenses this file to You under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
+ * License for the specific language governing permissions and limitations under
+ * the License.
+ */
+package org.apache.sling.feature.cpconverter.handlers;
+
+import org.apache.jackrabbit.vault.fs.io.Archive;
+import org.apache.sling.feature.ArtifactId;
+import org.apache.sling.feature.cpconverter.ContentPackage2FeatureModelConverter;
+import org.apache.sling.feature.cpconverter.artifacts.ArtifactsDeployer;
+import org.apache.sling.feature.cpconverter.features.FeaturesManager;
+import org.junit.Test;
+import org.mockito.Mockito;
+
+import static org.mockito.Mockito.spy;
+import static org.mockito.Mockito.when;
+
+public class BundleEntryHandlerGAVTest {
+    private final BundleEntryHandler handler = new BundleEntryHandler();
+
+    @Test
+    public void testGAVwithProperties() throws Exception {
+        String path = "/jcr_root/apps/gav/install/core-1.0.0-SNAPSHOT.jar";
+        Archive.Entry entry = Mockito.mock(Archive.Entry.class);
+        when(entry.getName()).thenReturn(path);
+        Archive archive = Mockito.mock(Archive.class);
+        when(archive.openInputStream(entry)).thenReturn(BundleEntryHandlerGAVTest.class.getResourceAsStream("core-1.0.0-SNAPSHOT.jar"));
+        ContentPackage2FeatureModelConverter converter = spy(ContentPackage2FeatureModelConverter.class);
+        ArtifactsDeployer deployer = Mockito.spy(ArtifactsDeployer.class);
+        when(converter.getArtifactsDeployer()).thenReturn(deployer);
+        FeaturesManager manager = Mockito.spy(FeaturesManager.class);
+        when(converter.getFeaturesManager()).thenReturn(manager);
+        handler.handle(path, archive, entry, converter);
+        Mockito.verify(manager).addArtifact(null, ArtifactId.fromMvnId("com.madplanet.sling.cp2sf:core:1.0.0-SNAPSHOT"),null);
+    }
+
+    @Test
+    public void testGAVwithPom() throws Exception{
+        String path = "/jcr_root/apps/gav/install/org.osgi.service.jdbc-1.0.0.jar";
+        Archive.Entry entry = Mockito.mock(Archive.Entry.class);
+        when(entry.getName()).thenReturn(path);
+        Archive archive = Mockito.mock(Archive.class);
+        when(archive.openInputStream(entry)).thenReturn(BundleEntryHandlerGAVTest.class.getResourceAsStream("org.osgi.service.jdbc-1.0.0.jar"));
+        ContentPackage2FeatureModelConverter converter = spy(ContentPackage2FeatureModelConverter.class);
+        ArtifactsDeployer deployer = Mockito.spy(ArtifactsDeployer.class);
+        when(converter.getArtifactsDeployer()).thenReturn(deployer);
+        FeaturesManager manager = Mockito.spy(FeaturesManager.class);
+        when(converter.getFeaturesManager()).thenReturn(manager);
+        handler.handle(path, archive, entry, converter);
+        Mockito.verify(manager).addArtifact(null, ArtifactId.fromMvnId("org.osgi:org.osgi.service.jdbc:1.0.0"),null);
+    }
+
+    @Test
+    public void testNoGAV() throws Exception {
+        String path = "/jcr_root/apps/gav/install/org.osgi.service.jdbc-1.0.0-nogav.jar";
+        Archive.Entry entry = Mockito.mock(Archive.Entry.class);
+        when(entry.getName()).thenReturn(path);
+        Archive archive = Mockito.mock(Archive.class);
+        when(archive.openInputStream(entry)).thenReturn(BundleEntryHandlerGAVTest.class.getResourceAsStream("org.osgi.service.jdbc-1.0.0-nogav.jar"));
+        ContentPackage2FeatureModelConverter converter = spy(ContentPackage2FeatureModelConverter.class);
+        ArtifactsDeployer deployer = Mockito.spy(ArtifactsDeployer.class);
+        when(converter.getArtifactsDeployer()).thenReturn(deployer);
+        FeaturesManager manager = Mockito.spy(FeaturesManager.class);
+        when(converter.getFeaturesManager()).thenReturn(manager);
+        handler.handle(path, archive, entry, converter);
+        Mockito.verify(manager).addArtifact(null, ArtifactId.fromMvnId("org.osgi.service:jdbc:1.0.0-201505202023"),null);
+    }
+}
diff --git a/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0-nogav.jar b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0-nogav.jar
new file mode 100644
index 0000000..5b4576b
Binary files /dev/null and b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0-nogav.jar differ
diff --git a/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0.jar b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0.jar
new file mode 100644
index 0000000..ed42538
Binary files /dev/null and b/src/test/resources/org/apache/sling/feature/cpconverter/handlers/org.osgi.service.jdbc-1.0.0.jar differ
