diff --git a/buffer/src/main/java/io/netty/buffer/AdaptivePoolingAllocator.java b/buffer/src/main/java/io/netty/buffer/AdaptivePoolingAllocator.java
index c24b592e0d..e4565da91e 100644
--- a/buffer/src/main/java/io/netty/buffer/AdaptivePoolingAllocator.java
+++ b/buffer/src/main/java/io/netty/buffer/AdaptivePoolingAllocator.java
@@ -664,11 +664,10 @@ final class AdaptivePoolingAllocator {
                 return;
             }
             Chunk nextChunk = NEXT_IN_LINE.get(this);
-            if (nextChunk != null && current.remainingCapacity() > nextChunk.remainingCapacity()) {
+            if (nextChunk != null && nextChunk != MAGAZINE_FREED
+                    && current.remainingCapacity() > nextChunk.remainingCapacity()) {
                 if (NEXT_IN_LINE.compareAndSet(this, nextChunk, current)) {
-                    if (nextChunk != MAGAZINE_FREED) {
-                        nextChunk.release();
-                    }
+                    nextChunk.release();
                     return;
                 }
             }
