diff --git a/all/pom.xml b/all/pom.xml
index 81b213217c..798bbc4db8 100644
--- a/all/pom.xml
+++ b/all/pom.xml
@@ -287,6 +287,11 @@
       <artifactId>netty-buffer</artifactId>
       <scope>compile</scope>
     </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-codec-base</artifactId>
+      <scope>compile</scope>
+    </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
       <artifactId>netty-codec</artifactId>
diff --git a/bom/pom.xml b/bom/pom.xml
index 33d76545e2..34ef81cdcd 100644
--- a/bom/pom.xml
+++ b/bom/pom.xml
@@ -85,6 +85,11 @@
         <artifactId>netty-buffer</artifactId>
         <version>${project.version}</version>
       </dependency>
+      <dependency>
+        <groupId>io.netty</groupId>
+        <artifactId>netty-codec-base</artifactId>
+        <version>${project.version}</version>
+      </dependency>
       <dependency>
         <groupId>io.netty</groupId>
         <artifactId>netty-codec</artifactId>
diff --git a/codec-base/pom.xml b/codec-base/pom.xml
new file mode 100644
index 0000000000..24652e9f81
--- /dev/null
+++ b/codec-base/pom.xml
@@ -0,0 +1,97 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+  ~ Copyright 2024 The Netty Project
+  ~
+  ~ The Netty Project licenses this file to you under the Apache License,
+  ~ version 2.0 (the "License"); you may not use this file except in compliance
+  ~ with the License. You may obtain a copy of the License at:
+  ~
+  ~   https://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
+  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
+  ~ License for the specific language governing permissions and limitations
+  ~ under the License.
+  -->
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/maven-v4_0_0.xsd">
+
+  <modelVersion>4.0.0</modelVersion>
+  <parent>
+    <groupId>io.netty</groupId>
+    <artifactId>netty-parent</artifactId>
+    <version>4.2.0.Alpha5-SNAPSHOT</version>
+  </parent>
+
+  <artifactId>netty-codec-base</artifactId>
+  <packaging>jar</packaging>
+
+  <name>Netty/Codec/Base</name>
+
+  <properties>
+    <javaModuleName>io.netty.codec</javaModuleName>
+  </properties>
+
+  <dependencies>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-common</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-buffer</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-transport</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.mockito</groupId>
+      <artifactId>mockito-core</artifactId>
+    </dependency>
+
+    <!-- Test dependency for Bzip2 compression codec -->
+    <dependency>
+      <groupId>org.apache.commons</groupId>
+      <artifactId>commons-compress</artifactId>
+      <scope>test</scope>
+    </dependency>
+
+    <!-- Automatic native-image reflection metadata generation for handlers dependencies -->
+    <dependency>
+      <groupId>org.reflections</groupId>
+      <artifactId>reflections</artifactId>
+    </dependency>
+    <dependency>
+      <groupId>com.google.code.gson</groupId>
+      <artifactId>gson</artifactId>
+    </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-transport</artifactId>
+      <version>${project.version}</version>
+      <type>test-jar</type>
+      <scope>test</scope>
+    </dependency>
+  </dependencies>
+
+  <build>
+    <plugins>
+      <plugin>
+        <groupId>io.github.dmlloyd.module-info</groupId>
+        <artifactId>module-info</artifactId>
+        <executions>
+          <execution>
+            <id>module-info</id>
+          </execution>
+        </executions>
+      </plugin>
+    </plugins>
+  </build>
+
+</project>
+
diff --git a/codec/src/main/java/io/netty/handler/codec/AsciiHeadersEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/AsciiHeadersEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/AsciiHeadersEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/AsciiHeadersEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java b/codec-base/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
rename to codec-base/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/ByteToMessageDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/CharSequenceValueConverter.java b/codec-base/src/main/java/io/netty/handler/codec/CharSequenceValueConverter.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/CharSequenceValueConverter.java
rename to codec-base/src/main/java/io/netty/handler/codec/CharSequenceValueConverter.java
diff --git a/codec/src/main/java/io/netty/handler/codec/CodecException.java b/codec-base/src/main/java/io/netty/handler/codec/CodecException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/CodecException.java
rename to codec-base/src/main/java/io/netty/handler/codec/CodecException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/CodecOutputList.java b/codec-base/src/main/java/io/netty/handler/codec/CodecOutputList.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/CodecOutputList.java
rename to codec-base/src/main/java/io/netty/handler/codec/CodecOutputList.java
diff --git a/codec/src/main/java/io/netty/handler/codec/CorruptedFrameException.java b/codec-base/src/main/java/io/netty/handler/codec/CorruptedFrameException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/CorruptedFrameException.java
rename to codec-base/src/main/java/io/netty/handler/codec/CorruptedFrameException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DatagramPacketDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/DatagramPacketDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DatagramPacketDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/DatagramPacketDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DatagramPacketEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/DatagramPacketEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DatagramPacketEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/DatagramPacketEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DateFormatter.java b/codec-base/src/main/java/io/netty/handler/codec/DateFormatter.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DateFormatter.java
rename to codec-base/src/main/java/io/netty/handler/codec/DateFormatter.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DecoderException.java b/codec-base/src/main/java/io/netty/handler/codec/DecoderException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DecoderException.java
rename to codec-base/src/main/java/io/netty/handler/codec/DecoderException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DecoderResult.java b/codec-base/src/main/java/io/netty/handler/codec/DecoderResult.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DecoderResult.java
rename to codec-base/src/main/java/io/netty/handler/codec/DecoderResult.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DecoderResultProvider.java b/codec-base/src/main/java/io/netty/handler/codec/DecoderResultProvider.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DecoderResultProvider.java
rename to codec-base/src/main/java/io/netty/handler/codec/DecoderResultProvider.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DefaultHeaders.java b/codec-base/src/main/java/io/netty/handler/codec/DefaultHeaders.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DefaultHeaders.java
rename to codec-base/src/main/java/io/netty/handler/codec/DefaultHeaders.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DefaultHeadersImpl.java b/codec-base/src/main/java/io/netty/handler/codec/DefaultHeadersImpl.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DefaultHeadersImpl.java
rename to codec-base/src/main/java/io/netty/handler/codec/DefaultHeadersImpl.java
diff --git a/codec/src/main/java/io/netty/handler/codec/DelimiterBasedFrameDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/DelimiterBasedFrameDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/DelimiterBasedFrameDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/DelimiterBasedFrameDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/Delimiters.java b/codec-base/src/main/java/io/netty/handler/codec/Delimiters.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/Delimiters.java
rename to codec-base/src/main/java/io/netty/handler/codec/Delimiters.java
diff --git a/codec/src/main/java/io/netty/handler/codec/EmptyHeaders.java b/codec-base/src/main/java/io/netty/handler/codec/EmptyHeaders.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/EmptyHeaders.java
rename to codec-base/src/main/java/io/netty/handler/codec/EmptyHeaders.java
diff --git a/codec/src/main/java/io/netty/handler/codec/EncoderException.java b/codec-base/src/main/java/io/netty/handler/codec/EncoderException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/EncoderException.java
rename to codec-base/src/main/java/io/netty/handler/codec/EncoderException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/FixedLengthFrameDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/FixedLengthFrameDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/FixedLengthFrameDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/FixedLengthFrameDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/Headers.java b/codec-base/src/main/java/io/netty/handler/codec/Headers.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/Headers.java
rename to codec-base/src/main/java/io/netty/handler/codec/Headers.java
diff --git a/codec/src/main/java/io/netty/handler/codec/HeadersUtils.java b/codec-base/src/main/java/io/netty/handler/codec/HeadersUtils.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/HeadersUtils.java
rename to codec-base/src/main/java/io/netty/handler/codec/HeadersUtils.java
diff --git a/codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/LengthFieldBasedFrameDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java b/codec-base/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java
rename to codec-base/src/main/java/io/netty/handler/codec/LengthFieldPrepender.java
diff --git a/codec/src/main/java/io/netty/handler/codec/LineBasedFrameDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/LineBasedFrameDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/LineBasedFrameDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/LineBasedFrameDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageAggregationException.java b/codec-base/src/main/java/io/netty/handler/codec/MessageAggregationException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageAggregationException.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageAggregationException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageAggregator.java b/codec-base/src/main/java/io/netty/handler/codec/MessageAggregator.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageAggregator.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageAggregator.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageToByteEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageToMessageCodec.java b/codec-base/src/main/java/io/netty/handler/codec/MessageToMessageCodec.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageToMessageCodec.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageToMessageCodec.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageToMessageDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/MessageToMessageDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageToMessageDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageToMessageDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/MessageToMessageEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/MessageToMessageEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/MessageToMessageEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/MessageToMessageEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/PrematureChannelClosureException.java b/codec-base/src/main/java/io/netty/handler/codec/PrematureChannelClosureException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/PrematureChannelClosureException.java
rename to codec-base/src/main/java/io/netty/handler/codec/PrematureChannelClosureException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ProtocolDetectionResult.java b/codec-base/src/main/java/io/netty/handler/codec/ProtocolDetectionResult.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ProtocolDetectionResult.java
rename to codec-base/src/main/java/io/netty/handler/codec/ProtocolDetectionResult.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ProtocolDetectionState.java b/codec-base/src/main/java/io/netty/handler/codec/ProtocolDetectionState.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ProtocolDetectionState.java
rename to codec-base/src/main/java/io/netty/handler/codec/ProtocolDetectionState.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ReplayingDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/ReplayingDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ReplayingDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/ReplayingDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ReplayingDecoderByteBuf.java b/codec-base/src/main/java/io/netty/handler/codec/ReplayingDecoderByteBuf.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ReplayingDecoderByteBuf.java
rename to codec-base/src/main/java/io/netty/handler/codec/ReplayingDecoderByteBuf.java
diff --git a/codec/src/main/java/io/netty/handler/codec/TooLongFrameException.java b/codec-base/src/main/java/io/netty/handler/codec/TooLongFrameException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/TooLongFrameException.java
rename to codec-base/src/main/java/io/netty/handler/codec/TooLongFrameException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/UnsupportedMessageTypeException.java b/codec-base/src/main/java/io/netty/handler/codec/UnsupportedMessageTypeException.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/UnsupportedMessageTypeException.java
rename to codec-base/src/main/java/io/netty/handler/codec/UnsupportedMessageTypeException.java
diff --git a/codec/src/main/java/io/netty/handler/codec/UnsupportedValueConverter.java b/codec-base/src/main/java/io/netty/handler/codec/UnsupportedValueConverter.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/UnsupportedValueConverter.java
rename to codec-base/src/main/java/io/netty/handler/codec/UnsupportedValueConverter.java
diff --git a/codec/src/main/java/io/netty/handler/codec/ValueConverter.java b/codec-base/src/main/java/io/netty/handler/codec/ValueConverter.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/ValueConverter.java
rename to codec-base/src/main/java/io/netty/handler/codec/ValueConverter.java
diff --git a/codec/src/main/java/io/netty/handler/codec/base64/Base64.java b/codec-base/src/main/java/io/netty/handler/codec/base64/Base64.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/base64/Base64.java
rename to codec-base/src/main/java/io/netty/handler/codec/base64/Base64.java
diff --git a/codec/src/main/java/io/netty/handler/codec/base64/Base64Decoder.java b/codec-base/src/main/java/io/netty/handler/codec/base64/Base64Decoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/base64/Base64Decoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/base64/Base64Decoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/base64/Base64Dialect.java b/codec-base/src/main/java/io/netty/handler/codec/base64/Base64Dialect.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/base64/Base64Dialect.java
rename to codec-base/src/main/java/io/netty/handler/codec/base64/Base64Dialect.java
diff --git a/codec/src/main/java/io/netty/handler/codec/base64/Base64Encoder.java b/codec-base/src/main/java/io/netty/handler/codec/base64/Base64Encoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/base64/Base64Encoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/base64/Base64Encoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/base64/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/base64/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/base64/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/base64/package-info.java
diff --git a/codec/src/main/java/io/netty/handler/codec/bytes/ByteArrayDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/bytes/ByteArrayDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/bytes/ByteArrayDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/bytes/ByteArrayDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/bytes/ByteArrayEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/bytes/ByteArrayEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/bytes/ByteArrayEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/bytes/ByteArrayEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/bytes/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/bytes/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/bytes/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/bytes/package-info.java
diff --git a/codec/src/main/java/io/netty/handler/codec/json/JsonObjectDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/json/JsonObjectDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/json/JsonObjectDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/json/JsonObjectDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/json/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/json/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/json/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/json/package-info.java
diff --git a/codec/src/main/java/io/netty/handler/codec/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/package-info.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/CachingClassResolver.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/CachingClassResolver.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/CachingClassResolver.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/CachingClassResolver.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ClassLoaderClassResolver.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ClassLoaderClassResolver.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ClassLoaderClassResolver.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ClassLoaderClassResolver.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ClassResolver.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ClassResolver.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ClassResolver.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ClassResolver.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ClassResolvers.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ClassResolvers.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ClassResolvers.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ClassResolvers.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/CompactObjectInputStream.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/CompactObjectInputStream.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/CompactObjectInputStream.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/CompactObjectInputStream.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/CompactObjectOutputStream.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/CompactObjectOutputStream.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/CompactObjectOutputStream.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/CompactObjectOutputStream.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/CompatibleObjectEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/CompatibleObjectEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/CompatibleObjectEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/CompatibleObjectEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ObjectDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ObjectDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ObjectDecoderInputStream.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectDecoderInputStream.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ObjectDecoderInputStream.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectDecoderInputStream.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ObjectEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ObjectEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ObjectEncoderOutputStream.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/ReferenceMap.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/ReferenceMap.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/ReferenceMap.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/ReferenceMap.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/SoftReferenceMap.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/SoftReferenceMap.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/SoftReferenceMap.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/SoftReferenceMap.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/WeakReferenceMap.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/WeakReferenceMap.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/WeakReferenceMap.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/WeakReferenceMap.java
diff --git a/codec/src/main/java/io/netty/handler/codec/serialization/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/serialization/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/serialization/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/serialization/package-info.java
diff --git a/codec/src/main/java/io/netty/handler/codec/string/LineEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/string/LineEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/string/LineEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/string/LineEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/string/LineSeparator.java b/codec-base/src/main/java/io/netty/handler/codec/string/LineSeparator.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/string/LineSeparator.java
rename to codec-base/src/main/java/io/netty/handler/codec/string/LineSeparator.java
diff --git a/codec/src/main/java/io/netty/handler/codec/string/StringDecoder.java b/codec-base/src/main/java/io/netty/handler/codec/string/StringDecoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/string/StringDecoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/string/StringDecoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/string/StringEncoder.java b/codec-base/src/main/java/io/netty/handler/codec/string/StringEncoder.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/string/StringEncoder.java
rename to codec-base/src/main/java/io/netty/handler/codec/string/StringEncoder.java
diff --git a/codec/src/main/java/io/netty/handler/codec/string/package-info.java b/codec-base/src/main/java/io/netty/handler/codec/string/package-info.java
similarity index 100%
rename from codec/src/main/java/io/netty/handler/codec/string/package-info.java
rename to codec-base/src/main/java/io/netty/handler/codec/string/package-info.java
diff --git a/codec/src/main/java/module-info.yml b/codec-base/src/main/java/module-info.yml
similarity index 100%
rename from codec/src/main/java/module-info.yml
rename to codec-base/src/main/java/module-info.yml
diff --git a/codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/generated/handlers/reflect-config.json b/codec-base/src/main/resources/META-INF/native-image/io.netty/netty-codec-base/generated/handlers/reflect-config.json
similarity index 100%
rename from codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/generated/handlers/reflect-config.json
rename to codec-base/src/main/resources/META-INF/native-image/io.netty/netty-codec-base/generated/handlers/reflect-config.json
diff --git a/codec/src/test/java/io/netty/handler/codec/ByteToMessageCodecTest.java b/codec-base/src/test/java/io/netty/handler/codec/ByteToMessageCodecTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/ByteToMessageCodecTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/ByteToMessageCodecTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/ByteToMessageDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/CharSequenceValueConverterTest.java b/codec-base/src/test/java/io/netty/handler/codec/CharSequenceValueConverterTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/CharSequenceValueConverterTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/CharSequenceValueConverterTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/CodecOutputListTest.java b/codec-base/src/test/java/io/netty/handler/codec/CodecOutputListTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/CodecOutputListTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/CodecOutputListTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/DatagramPacketDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/DatagramPacketDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/DatagramPacketDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/DatagramPacketDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/DatagramPacketEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/DatagramPacketEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/DatagramPacketEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/DatagramPacketEncoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/DateFormatterTest.java b/codec-base/src/test/java/io/netty/handler/codec/DateFormatterTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/DateFormatterTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/DateFormatterTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/DefaultHeadersTest.java b/codec-base/src/test/java/io/netty/handler/codec/DefaultHeadersTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/DefaultHeadersTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/DefaultHeadersTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/DelimiterBasedFrameDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/DelimiterBasedFrameDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/DelimiterBasedFrameDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/DelimiterBasedFrameDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/EmptyHeadersTest.java b/codec-base/src/test/java/io/netty/handler/codec/EmptyHeadersTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/EmptyHeadersTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/EmptyHeadersTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/LengthFieldBasedFrameDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/LengthFieldBasedFrameDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/LengthFieldBasedFrameDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/LengthFieldBasedFrameDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/LineBasedFrameDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/LineBasedFrameDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/LineBasedFrameDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/LineBasedFrameDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/MessageAggregatorTest.java b/codec-base/src/test/java/io/netty/handler/codec/MessageAggregatorTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/MessageAggregatorTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/MessageAggregatorTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/MessageToMessageEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/MessageToMessageEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/MessageToMessageEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/MessageToMessageEncoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java b/codec-base/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/ReplayingDecoderByteBufTest.java b/codec-base/src/test/java/io/netty/handler/codec/ReplayingDecoderByteBufTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/ReplayingDecoderByteBufTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/ReplayingDecoderByteBufTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/ReplayingDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/ReplayingDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/ReplayingDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/ReplayingDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/base64/Base64Test.java b/codec-base/src/test/java/io/netty/handler/codec/base64/Base64Test.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/base64/Base64Test.java
rename to codec-base/src/test/java/io/netty/handler/codec/base64/Base64Test.java
diff --git a/codec/src/test/java/io/netty/handler/codec/bytes/ByteArrayDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/bytes/ByteArrayDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/bytes/ByteArrayDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/bytes/ByteArrayDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/bytes/ByteArrayEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/bytes/ByteArrayEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/bytes/ByteArrayEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/bytes/ByteArrayEncoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/frame/DelimiterBasedFrameDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/frame/DelimiterBasedFrameDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/frame/DelimiterBasedFrameDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/frame/DelimiterBasedFrameDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/frame/LengthFieldBasedFrameDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/frame/LengthFieldBasedFrameDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/frame/LengthFieldBasedFrameDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/frame/LengthFieldBasedFrameDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/frame/LengthFieldPrependerTest.java b/codec-base/src/test/java/io/netty/handler/codec/frame/LengthFieldPrependerTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/frame/LengthFieldPrependerTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/frame/LengthFieldPrependerTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/frame/package-info.java b/codec-base/src/test/java/io/netty/handler/codec/frame/package-info.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/frame/package-info.java
rename to codec-base/src/test/java/io/netty/handler/codec/frame/package-info.java
diff --git a/codec/src/test/java/io/netty/handler/codec/json/JsonObjectDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/json/JsonObjectDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/json/JsonObjectDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/json/JsonObjectDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/serialization/CompactObjectSerializationTest.java b/codec-base/src/test/java/io/netty/handler/codec/serialization/CompactObjectSerializationTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/serialization/CompactObjectSerializationTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/serialization/CompactObjectSerializationTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/serialization/CompatibleObjectEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/serialization/CompatibleObjectEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/serialization/CompatibleObjectEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/serialization/CompatibleObjectEncoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/string/LineEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/string/LineEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/string/LineEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/string/LineEncoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/string/StringDecoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/string/StringDecoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/string/StringDecoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/string/StringDecoderTest.java
diff --git a/codec/src/test/java/io/netty/handler/codec/string/StringEncoderTest.java b/codec-base/src/test/java/io/netty/handler/codec/string/StringEncoderTest.java
similarity index 100%
rename from codec/src/test/java/io/netty/handler/codec/string/StringEncoderTest.java
rename to codec-base/src/test/java/io/netty/handler/codec/string/StringEncoderTest.java
diff --git a/codec-compression/pom.xml b/codec-compression/pom.xml
index dc40c3dc1e..0e589e36dc 100644
--- a/codec-compression/pom.xml
+++ b/codec-compression/pom.xml
@@ -50,7 +50,7 @@
     </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
-      <artifactId>netty-codec</artifactId>
+      <artifactId>netty-codec-base</artifactId>
       <version>${project.version}</version>
     </dependency>
     <dependency>
diff --git a/codec-http/pom.xml b/codec-http/pom.xml
index 53a858eee0..f96d3ef83a 100644
--- a/codec-http/pom.xml
+++ b/codec-http/pom.xml
@@ -53,12 +53,6 @@
       <artifactId>netty-codec</artifactId>
       <version>${project.version}</version>
     </dependency>
-    <dependency>
-      <groupId>${project.groupId}</groupId>
-      <artifactId>netty-codec-compression</artifactId>
-      <version>${project.version}</version>
-      <optional>true</optional>
-    </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
       <artifactId>netty-handler</artifactId>
diff --git a/codec-marshalling/pom.xml b/codec-marshalling/pom.xml
index 2cc4ceb4c9..2209248f29 100644
--- a/codec-marshalling/pom.xml
+++ b/codec-marshalling/pom.xml
@@ -50,7 +50,7 @@
     </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
-      <artifactId>netty-codec</artifactId>
+      <artifactId>netty-codec-base</artifactId>
       <version>${project.version}</version>
     </dependency>
     <dependency>
diff --git a/codec-protobuf/pom.xml b/codec-protobuf/pom.xml
index f15ef08b09..ddb4ed3a6a 100644
--- a/codec-protobuf/pom.xml
+++ b/codec-protobuf/pom.xml
@@ -50,7 +50,7 @@
     </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
-      <artifactId>netty-codec</artifactId>
+      <artifactId>netty-codec-base</artifactId>
       <version>${project.version}</version>
     </dependency>
     <dependency>
diff --git a/codec/pom.xml b/codec/pom.xml
index 66abc22894..a4e1872a06 100644
--- a/codec/pom.xml
+++ b/codec/pom.xml
@@ -29,7 +29,7 @@
   <name>Netty/Codec</name>
 
   <properties>
-    <javaModuleName>io.netty.codec</javaModuleName>
+    <javaModuleName>io.netty.codec.unused</javaModuleName>
   </properties>
 
   <dependencies>
@@ -48,39 +48,64 @@
       <artifactId>netty-transport</artifactId>
       <version>${project.version}</version>
     </dependency>
-
     <dependency>
-      <groupId>org.mockito</groupId>
-      <artifactId>mockito-core</artifactId>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-codec-base</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-codec-compression</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-codec-protobuf</artifactId>
+      <version>${project.version}</version>
+      <exclusions>
+        <exclusion>
+          <groupId>com.google.protobuf</groupId>
+          <artifactId>protobuf-java</artifactId>
+        </exclusion>
+        <exclusion>
+          <groupId>com.google.protobuf.nano</groupId>
+          <artifactId>protobuf-javanano</artifactId>
+        </exclusion>
+      </exclusions>
     </dependency>
-
-    <!-- Test dependency for Bzip2 compression codec -->
     <dependency>
-      <groupId>org.apache.commons</groupId>
-      <artifactId>commons-compress</artifactId>
-      <scope>test</scope>
+      <groupId>${project.groupId}</groupId>
+      <artifactId>netty-codec-marshalling</artifactId>
+      <version>${project.version}</version>
+      <exclusions>
+        <exclusion>
+          <groupId>org.jboss.marshalling</groupId>
+          <artifactId>jboss-marshalling</artifactId>
+        </exclusion>
+      </exclusions>
     </dependency>
 
-    <!-- Automatic native-image reflection metadata generation for handlers dependencies -->
     <dependency>
-      <groupId>org.reflections</groupId>
-      <artifactId>reflections</artifactId>
+      <groupId>com.google.protobuf</groupId>
+      <artifactId>protobuf-java</artifactId>
+      <optional>true</optional>
     </dependency>
     <dependency>
-      <groupId>com.google.code.gson</groupId>
-      <artifactId>gson</artifactId>
+      <groupId>com.google.protobuf.nano</groupId>
+      <artifactId>protobuf-javanano</artifactId>
+      <optional>true</optional>
     </dependency>
     <dependency>
-      <groupId>${project.groupId}</groupId>
-      <artifactId>netty-transport</artifactId>
-      <version>${project.version}</version>
-      <type>test-jar</type>
-      <scope>test</scope>
+      <groupId>org.jboss.marshalling</groupId>
+      <artifactId>jboss-marshalling</artifactId>
+      <optional>true</optional>
     </dependency>
+
   </dependencies>
 
   <build>
     <plugins>
+      <!-- Empty module -->
       <plugin>
         <groupId>io.github.dmlloyd.module-info</groupId>
         <artifactId>module-info</artifactId>
diff --git a/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json b/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json
index 7feacd1efd..56c8ba4a96 100644
--- a/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json
+++ b/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json
@@ -384,6 +384,860 @@
     },
     "queryAllPublicMethods": true
   },
+  {
+    "name": "io.netty.handler.traffic.GlobalTrafficShapingHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.traffic.GlobalTrafficShapingHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.BrotliDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.BrotliDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.BrotliEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.BrotliEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Bzip2Decoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Bzip2Decoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Bzip2Encoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Bzip2Encoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.FastLzFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.FastLzFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.FastLzFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.FastLzFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JdkZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JdkZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JdkZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JdkZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Lz4FrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Lz4FrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Lz4FrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Lz4FrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzfDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzfDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzfEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzfEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzmaFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzmaFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFramedDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFramedDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFramedEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFramedEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZstdDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZstdDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZstdEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZstdEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.MarshallingDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.MarshallingDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.MarshallingEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.MarshallingEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufDecoderNano",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufDecoderNano"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufEncoderNano",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufEncoderNano"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.address.DynamicAddressConnectHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.address.DynamicAddressConnectHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.address.ResolveAddressHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.address.ResolveAddressHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.base64.Base64Decoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.base64.Base64Decoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.base64.Base64Encoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.base64.Base64Encoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.bytes.ByteArrayDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.bytes.ByteArrayDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.bytes.ByteArrayEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.bytes.ByteArrayEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.ByteToMessageCodec",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.ByteToMessageCodec"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.ByteToMessageCodec$1",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.ByteToMessageCodec$1"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.ByteToMessageCodec$Encoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.ByteToMessageCodec$Encoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.ByteToMessageDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.ByteToMessageDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.BrotliDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.BrotliDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.BrotliEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.BrotliEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Bzip2Decoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Bzip2Decoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Bzip2Encoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Bzip2Encoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.FastLzFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.FastLzFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.FastLzFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.FastLzFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JdkZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JdkZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JdkZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JdkZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.JZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.JZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Lz4FrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Lz4FrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.Lz4FrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.Lz4FrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzfDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzfDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzfEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzfEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.LzmaFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.LzmaFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFramedDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFramedDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFramedEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFramedEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.SnappyFrameEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.SnappyFrameEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZlibDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZlibDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZlibEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZlibEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZstdDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZstdDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.compression.ZstdEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.compression.ZstdEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.DatagramPacketDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.DatagramPacketDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.DatagramPacketEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.DatagramPacketEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.DelimiterBasedFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.DelimiterBasedFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.FixedLengthFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.FixedLengthFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.json.JsonObjectDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.json.JsonObjectDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.LengthFieldBasedFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.LengthFieldBasedFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.LengthFieldPrepender",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.LengthFieldPrepender"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.LineBasedFrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.LineBasedFrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.MarshallingDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.MarshallingDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.marshalling.MarshallingEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.marshalling.MarshallingEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageAggregator",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageAggregator"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToByteEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToByteEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToMessageCodec",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToMessageCodec"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToMessageCodec$1",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToMessageCodec$1"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToMessageCodec$2",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToMessageCodec$2"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToMessageDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToMessageDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.MessageToMessageEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.MessageToMessageEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufDecoderNano",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufDecoderNano"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufEncoderNano",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufEncoderNano"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.ReplayingDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.ReplayingDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.serialization.CompatibleObjectEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.serialization.CompatibleObjectEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.serialization.ObjectDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.serialization.ObjectDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.serialization.ObjectEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.serialization.ObjectEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.string.LineEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.string.LineEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.string.StringDecoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.string.StringDecoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.codec.string.StringEncoder",
+    "condition": {
+      "typeReachable": "io.netty.handler.codec.string.StringEncoder"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.flow.FlowControlHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.flow.FlowControlHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.flush.FlushConsolidationHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.flush.FlushConsolidationHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ipfilter.AbstractRemoteAddressFilter",
+    "condition": {
+      "typeReachable": "io.netty.handler.ipfilter.AbstractRemoteAddressFilter"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ipfilter.IpSubnetFilter",
+    "condition": {
+      "typeReachable": "io.netty.handler.ipfilter.IpSubnetFilter"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ipfilter.RuleBasedIpFilter",
+    "condition": {
+      "typeReachable": "io.netty.handler.ipfilter.RuleBasedIpFilter"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ipfilter.UniqueIpFilter",
+    "condition": {
+      "typeReachable": "io.netty.handler.ipfilter.UniqueIpFilter"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.logging.LoggingHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.logging.LoggingHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.pcap.PcapWriteHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.pcap.PcapWriteHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.AbstractSniHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.AbstractSniHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.ApplicationProtocolNegotiationHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.ApplicationProtocolNegotiationHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.OptionalSslHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.OptionalSslHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.SniHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.SniHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.SslClientHelloHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.SslClientHelloHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.SslHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.SslHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.SslMasterKeyHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.SslMasterKeyHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.ssl.SslMasterKeyHandler$WiresharkSslMasterKeyHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.ssl.SslMasterKeyHandler$WiresharkSslMasterKeyHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.stream.ChunkedWriteHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.stream.ChunkedWriteHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.timeout.IdleStateHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.timeout.IdleStateHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.timeout.ReadTimeoutHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.timeout.ReadTimeoutHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.timeout.WriteTimeoutHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.timeout.WriteTimeoutHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.traffic.AbstractTrafficShapingHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.traffic.AbstractTrafficShapingHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.traffic.ChannelTrafficShapingHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.traffic.ChannelTrafficShapingHandler"
+    },
+    "queryAllPublicMethods": true
+  },
+  {
+    "name": "io.netty.handler.traffic.GlobalChannelTrafficShapingHandler",
+    "condition": {
+      "typeReachable": "io.netty.handler.traffic.GlobalChannelTrafficShapingHandler"
+    },
+    "queryAllPublicMethods": true
+  },
   {
     "name": "io.netty.handler.traffic.GlobalTrafficShapingHandler",
     "condition": {
diff --git a/pom.xml b/pom.xml
index a4658d3098..b7a8809ec4 100644
--- a/pom.xml
+++ b/pom.xml
@@ -680,6 +680,10 @@
     <module>dev-tools</module>
     <module>common</module>
     <module>buffer</module>
+    <module>codec-base</module>
+    <module>codec-compression</module>
+    <module>codec-protobuf</module>
+    <module>codec-marshalling</module>
     <module>codec</module>
     <module>codec-dns</module>
     <module>codec-haproxy</module>
@@ -692,9 +696,6 @@
     <module>codec-socks</module>
     <module>codec-stomp</module>
     <module>codec-xml</module>
-    <module>codec-compression</module>
-    <module>codec-protobuf</module>
-    <module>codec-marshalling</module>
     <module>resolver</module>
     <module>resolver-dns</module>
     <module>resolver-dns-classes-macos</module>
@@ -7166,6 +7167,362 @@
                   <old>method io.netty.channel.ChannelFactory&lt;&amp; extends io.netty.channel.socket.DatagramChannel&gt; io.netty.resolver.dns.DnsNameResolverBuilder::channelFactory()</old>
                   <justification>Protected methods of a final class.</justification>
                 </item>
+
+                <!-- Move netty-codec classes to netty-codec-base -->
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.AsciiHeadersEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.ByteToMessageCodec&lt;I&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.ByteToMessageDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.CharSequenceValueConverter</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.CodecException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.CorruptedFrameException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DatagramPacketDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DatagramPacketEncoder&lt;M&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DateFormatter</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DecoderException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DecoderResult</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>interface io.netty.handler.codec.DecoderResultProvider</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class </old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DefaultHeaders&lt;K, V, T extends io.netty.handler.codec.Headers&lt;K, V, T&gt;&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class </old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DefaultHeadersImpl&lt;K, V&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.DelimiterBasedFrameDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class </old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.Delimiters</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.EmptyHeaders&lt;K, V, T extends io.netty.handler.codec.Headers&lt;K, V, T&gt;&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.EncoderException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.FixedLengthFrameDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>interface io.netty.handler.codec.Headers&lt;K, V, T extends io.netty.handler.codec.Headers&lt;K, V, T&gt;&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.HeadersUtils</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.LengthFieldBasedFrameDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.LengthFieldPrepender</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.LineBasedFrameDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageAggregationException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageAggregator&lt;I, S, C extends io.netty.buffer.ByteBufHolder, O extends io.netty.buffer.ByteBufHolder&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageToByteEncoder&lt;I&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageToMessageCodec&lt;INBOUND_IN, OUTBOUND_IN&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageToMessageDecoder&lt;I&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.MessageToMessageEncoder&lt;I&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.PrematureChannelClosureException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.ProtocolDetectionResult&lt;T&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>enum io.netty.handler.codec.ProtocolDetectionState</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.ReplayingDecoder&lt;S&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.TooLongFrameException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.UnsupportedMessageTypeException</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.UnsupportedValueConverter&lt;V&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>interface io.netty.handler.codec.ValueConverter&lt;T&gt;</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.base64.Base64</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.base64.Base64Decoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>enum io.netty.handler.codec.base64.Base64Dialect</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.base64.Base64Encoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.bytes.ByteArrayDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.bytes.ByteArrayEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.json.JsonObjectDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>interface io.netty.handler.codec.serialization.ClassResolver</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.ClassResolvers</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.CompatibleObjectEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.ObjectDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.ObjectDecoderInputStream</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.ObjectEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.serialization.ObjectEncoderOutputStream</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.string.LineEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.string.LineSeparator</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.string.StringDecoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
+                <item>
+                  <ignore>true</ignore>
+                  <code>java.class.removed</code>
+                  <old>class io.netty.handler.codec.string.StringEncoder</old>
+                  <justification>Move netty-codec classes to netty-codec-base</justification>
+                </item>
               </differences>
             </revapi.differences>
           </analysisConfiguration>
diff --git a/testsuite-jpms/README.md b/testsuite-jpms/README.md
index fa8f681221..1a91dbb94f 100644
--- a/testsuite-jpms/README.md
+++ b/testsuite-jpms/README.md
@@ -74,6 +74,40 @@ are optional, here is a recap:
 | `io.netty.handler`           | `org.bouncycastle.provider`  | explicit  | yes      |
 | `io.netty.handler`           | `org.conscrypt`              | automatic | yes      |
 
+### The case of io.netty.codec
+
+The `io-netty-codec` Maven module is split into 4 modules in Netty 4.2:
+
+- `io-netty-codec-base`
+  - declares the `io.netty.codec` Java module
+  - contains the `io.netty.handler.codec` Java package
+  - and a few built-in codecs that do not require dependencies `io.netty.handler.codec.(base64|bytes|json|serialization|string)` 
+- `io-netty-codec-compression`
+  - declares the `io.netty.codec.compression` Java module
+  - contains the `io.netty.handler.codec.compression` Java package
+  - depends on optional compression libraries, e.g. Brotli4j.
+- `io-netty-codec-protobuf`
+  - declares the `io.netty.codec.protobuf` Java module
+  - contains the `io.netty.handler.codec.protobuf` Java package
+  - depends on the Google Protobuf library
+- `io-netty-codec-marshalling`
+  - declare the `io.netty.codec.marshalling` Java module
+  - contains the `io.netty.handler.codec.marshalling` Java package
+  - depends on the JBoss Marshalling  library
+
+In order to preserve backward compatibility the `io-netty-codec` Maven module depends on 
+
+- `io-netty-codec-base`
+- `io-netty-codec-compression`
+- `io-netty-codec-protobuf`
+- `io-netty-codec-marshalling`
+
+This module also declares the `io.netty.codec.unused` JPMS module that is empty in order to comply to tools expecting
+modular jars such as jlink.
+
+Depending on `io-netty-codec` therefore brings `io-netty-compression`/`io-netty-protobuf`/`io-netty-marshalling`, you
+can still exclude one of these dependencies if you don't need it. Alternatively you can depend on `io-netty-codec-base`.
+
 ### Native transports
 
 Native transports are supported.
@@ -126,7 +160,7 @@ Boot layer:
 - io.netty.buffer 
 - io.netty.codec.http 
 - java.logging 
-- io.netty.codec 
+- io.netty.codec
 - io.netty.transport 
 - io.netty.handler 
 - io.netty.common 
diff --git a/testsuite-jpms/pom.xml b/testsuite-jpms/pom.xml
index 22d2432fb0..d44d2bfc97 100644
--- a/testsuite-jpms/pom.xml
+++ b/testsuite-jpms/pom.xml
@@ -47,7 +47,7 @@
     </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
-      <artifactId>netty-codec</artifactId>
+      <artifactId>netty-codec-base</artifactId>
       <version>${project.version}</version>
     </dependency>
     <dependency>
