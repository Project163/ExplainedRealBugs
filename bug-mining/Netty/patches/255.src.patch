diff --git a/buffer/src/main/resources/META-INF/native-image/io.netty/buffer/native-image.properties b/buffer/src/main/resources/META-INF/native-image/io.netty/netty-buffer/native-image.properties
similarity index 100%
rename from buffer/src/main/resources/META-INF/native-image/io.netty/buffer/native-image.properties
rename to buffer/src/main/resources/META-INF/native-image/io.netty/netty-buffer/native-image.properties
diff --git a/codec-dns/src/main/resources/META-INF/native-image/codec-dns-handlers/reflect-config.json b/codec-dns/src/main/resources/META-INF/native-image/io.netty/netty-codec-dns/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-dns/src/main/resources/META-INF/native-image/codec-dns-handlers/reflect-config.json
rename to codec-dns/src/main/resources/META-INF/native-image/io.netty/netty-codec-dns/generated/handlers/reflect-config.json
diff --git a/codec-dns/src/test/java/io/netty/handler/codec/dns/NativeImageHandlerMetadataTest.java b/codec-dns/src/test/java/io/netty/handler/codec/dns/NativeImageHandlerMetadataTest.java
index dda2775e5b..644e268415 100644
--- a/codec-dns/src/test/java/io/netty/handler/codec/dns/NativeImageHandlerMetadataTest.java
+++ b/codec-dns/src/test/java/io/netty/handler/codec/dns/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-dns-handlers/reflect-config.json",
-                "io.netty.handler.codec.dns");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.dns");
     }
 
 }
diff --git a/codec-haproxy/src/main/resources/META-INF/native-image/haproxy-handlers/reflect-config.json b/codec-haproxy/src/main/resources/META-INF/native-image/io.netty/netty-codec-haproxy/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-haproxy/src/main/resources/META-INF/native-image/haproxy-handlers/reflect-config.json
rename to codec-haproxy/src/main/resources/META-INF/native-image/io.netty/netty-codec-haproxy/generated/handlers/reflect-config.json
diff --git a/codec-haproxy/src/test/java/io/netty/handler/codec/haproxy/NativeImageHandlerMetadataTest.java b/codec-haproxy/src/test/java/io/netty/handler/codec/haproxy/NativeImageHandlerMetadataTest.java
index 557e92f77b..6a4335aa7e 100644
--- a/codec-haproxy/src/test/java/io/netty/handler/codec/haproxy/NativeImageHandlerMetadataTest.java
+++ b/codec-haproxy/src/test/java/io/netty/handler/codec/haproxy/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "haproxy-handlers/reflect-config.json",
-                "io.netty.handler.codec.haproxy");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.haproxy");
     }
 
 }
diff --git a/codec-http/src/main/resources/META-INF/native-image/codec-http-handlers/reflect-config.json b/codec-http/src/main/resources/META-INF/native-image/io.netty/netty-codec-http/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-http/src/main/resources/META-INF/native-image/codec-http-handlers/reflect-config.json
rename to codec-http/src/main/resources/META-INF/native-image/io.netty/netty-codec-http/generated/handlers/reflect-config.json
diff --git a/codec-http/src/main/resources/META-INF/native-image/io.netty/codec-http/native-image.properties b/codec-http/src/main/resources/META-INF/native-image/io.netty/netty-codec-http/native-image.properties
similarity index 100%
rename from codec-http/src/main/resources/META-INF/native-image/io.netty/codec-http/native-image.properties
rename to codec-http/src/main/resources/META-INF/native-image/io.netty/netty-codec-http/native-image.properties
diff --git a/codec-http/src/test/java/io/netty/handler/codec/http/NativeImageHandlerMetadataTest.java b/codec-http/src/test/java/io/netty/handler/codec/http/NativeImageHandlerMetadataTest.java
index f399f30dd9..b897ecf666 100644
--- a/codec-http/src/test/java/io/netty/handler/codec/http/NativeImageHandlerMetadataTest.java
+++ b/codec-http/src/test/java/io/netty/handler/codec/http/NativeImageHandlerMetadataTest.java
@@ -23,7 +23,6 @@ public class NativeImageHandlerMetadataTest {
     @Test
     public void collectAndCompareMetadata() {
         ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-http-handlers/reflect-config.json",
                 "io.netty.handler.codec.http",
                 "io.netty.handler.codec.rtsp",
                 "io.netty.handler.codec.spdy");
diff --git a/codec-http2/src/main/resources/META-INF/native-image/codec-http2-handlers/reflect-config.json b/codec-http2/src/main/resources/META-INF/native-image/io.netty/netty-codec-http2/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-http2/src/main/resources/META-INF/native-image/codec-http2-handlers/reflect-config.json
rename to codec-http2/src/main/resources/META-INF/native-image/io.netty/netty-codec-http2/generated/handlers/reflect-config.json
diff --git a/codec-http2/src/main/resources/META-INF/native-image/io.netty/codec-http2/native-image.properties b/codec-http2/src/main/resources/META-INF/native-image/io.netty/netty-codec-http2/native-image.properties
similarity index 100%
rename from codec-http2/src/main/resources/META-INF/native-image/io.netty/codec-http2/native-image.properties
rename to codec-http2/src/main/resources/META-INF/native-image/io.netty/netty-codec-http2/native-image.properties
diff --git a/codec-http2/src/test/java/io/netty/handler/codec/http2/NativeImageHandlerMetadataTest.java b/codec-http2/src/test/java/io/netty/handler/codec/http2/NativeImageHandlerMetadataTest.java
index 0c6aa4235e..3bacb2b591 100644
--- a/codec-http2/src/test/java/io/netty/handler/codec/http2/NativeImageHandlerMetadataTest.java
+++ b/codec-http2/src/test/java/io/netty/handler/codec/http2/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-http2-handlers/reflect-config.json",
-                "io.netty.handler.codec.http2");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.http2");
     }
 
 }
diff --git a/codec-memcache/src/main/resources/META-INF/native-image/memcache-handlers/reflect-config.json b/codec-memcache/src/main/resources/META-INF/native-image/io.netty/netty-codec-memcache/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-memcache/src/main/resources/META-INF/native-image/memcache-handlers/reflect-config.json
rename to codec-memcache/src/main/resources/META-INF/native-image/io.netty/netty-codec-memcache/generated/handlers/reflect-config.json
diff --git a/codec-memcache/src/test/java/io/netty/handler/codec/memcache/binary/NativeImageHandlerMetadataTest.java b/codec-memcache/src/test/java/io/netty/handler/codec/memcache/binary/NativeImageHandlerMetadataTest.java
index 4e23fb3002..da8622ed29 100644
--- a/codec-memcache/src/test/java/io/netty/handler/codec/memcache/binary/NativeImageHandlerMetadataTest.java
+++ b/codec-memcache/src/test/java/io/netty/handler/codec/memcache/binary/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "memcache-handlers/reflect-config.json",
-                "io.netty.handler.codec.memcache");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.memcache");
     }
 
 }
diff --git a/codec-mqtt/src/main/resources/META-INF/native-image/codec-mqtt-handlers/reflect-config.json b/codec-mqtt/src/main/resources/META-INF/native-image/io.netty/netty-codec-mqtt/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-mqtt/src/main/resources/META-INF/native-image/codec-mqtt-handlers/reflect-config.json
rename to codec-mqtt/src/main/resources/META-INF/native-image/io.netty/netty-codec-mqtt/generated/handlers/reflect-config.json
diff --git a/codec-mqtt/src/test/java/io/netty/handler/codec/mqtt/NativeImageHandlerMetadataTest.java b/codec-mqtt/src/test/java/io/netty/handler/codec/mqtt/NativeImageHandlerMetadataTest.java
index 935ef9b470..1ed97af7f6 100644
--- a/codec-mqtt/src/test/java/io/netty/handler/codec/mqtt/NativeImageHandlerMetadataTest.java
+++ b/codec-mqtt/src/test/java/io/netty/handler/codec/mqtt/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-mqtt-handlers/reflect-config.json",
-                "io.netty.handler.codec.mqtt");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.mqtt");
     }
 
 }
diff --git a/codec-redis/src/main/resources/META-INF/native-image/codec-redis-handlers/reflect-config.json b/codec-redis/src/main/resources/META-INF/native-image/io.netty/netty-codec-redis/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-redis/src/main/resources/META-INF/native-image/codec-redis-handlers/reflect-config.json
rename to codec-redis/src/main/resources/META-INF/native-image/io.netty/netty-codec-redis/generated/handlers/reflect-config.json
diff --git a/codec-redis/src/test/java/io/netty/handler/codec/redis/NativeImageHandlerMetadataTest.java b/codec-redis/src/test/java/io/netty/handler/codec/redis/NativeImageHandlerMetadataTest.java
index 90adba83e7..78ce3fca4f 100644
--- a/codec-redis/src/test/java/io/netty/handler/codec/redis/NativeImageHandlerMetadataTest.java
+++ b/codec-redis/src/test/java/io/netty/handler/codec/redis/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-redis-handlers/reflect-config.json",
-                "io.netty.handler.codec.redis");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.redis");
     }
 
 }
diff --git a/codec-smtp/src/main/resources/META-INF/native-image/codec-smtp-handlers/reflect-config.json b/codec-smtp/src/main/resources/META-INF/native-image/io.netty/netty-codec-smtp/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-smtp/src/main/resources/META-INF/native-image/codec-smtp-handlers/reflect-config.json
rename to codec-smtp/src/main/resources/META-INF/native-image/io.netty/netty-codec-smtp/generated/handlers/reflect-config.json
diff --git a/codec-smtp/src/test/java/io/netty/handler/codec/smtp/NativeImageHandlerMetadataTest.java b/codec-smtp/src/test/java/io/netty/handler/codec/smtp/NativeImageHandlerMetadataTest.java
index 4a62d52824..296e1b4fd6 100644
--- a/codec-smtp/src/test/java/io/netty/handler/codec/smtp/NativeImageHandlerMetadataTest.java
+++ b/codec-smtp/src/test/java/io/netty/handler/codec/smtp/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-smtp-handlers/reflect-config.json",
-                "io.netty.handler.codec.smtp");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.smtp");
     }
 
 }
diff --git a/codec-socks/src/main/resources/META-INF/native-image/codec-socks-handlers/reflect-config.json b/codec-socks/src/main/resources/META-INF/native-image/io.netty/netty-codec-socks/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-socks/src/main/resources/META-INF/native-image/codec-socks-handlers/reflect-config.json
rename to codec-socks/src/main/resources/META-INF/native-image/io.netty/netty-codec-socks/generated/handlers/reflect-config.json
diff --git a/codec-socks/src/test/java/io/netty/handler/codec/socks/NativeImageHandlerMetadataTest.java b/codec-socks/src/test/java/io/netty/handler/codec/socks/NativeImageHandlerMetadataTest.java
index e72fc1bdd5..2e78322096 100644
--- a/codec-socks/src/test/java/io/netty/handler/codec/socks/NativeImageHandlerMetadataTest.java
+++ b/codec-socks/src/test/java/io/netty/handler/codec/socks/NativeImageHandlerMetadataTest.java
@@ -23,8 +23,8 @@ public class NativeImageHandlerMetadataTest {
     @Test
     public void collectAndCompareMetadata() {
         ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-socks-handlers/reflect-config.json",
-                "io.netty.handler.codec.socks", "io.netty.handler.codec.socksx");
+                "io.netty.handler.codec.socks",
+                "io.netty.handler.codec.socksx");
     }
 
 }
diff --git a/codec-stomp/src/main/resources/META-INF/native-image/stomp-handlers/reflect-config.json b/codec-stomp/src/main/resources/META-INF/native-image/io.netty/netty-codec-stomp/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-stomp/src/main/resources/META-INF/native-image/stomp-handlers/reflect-config.json
rename to codec-stomp/src/main/resources/META-INF/native-image/io.netty/netty-codec-stomp/generated/handlers/reflect-config.json
diff --git a/codec-stomp/src/test/java/io/netty/handler/codec/stomp/NativeImageHandlerMetadataTest.java b/codec-stomp/src/test/java/io/netty/handler/codec/stomp/NativeImageHandlerMetadataTest.java
index b25a1a1e5f..c9b77852f7 100644
--- a/codec-stomp/src/test/java/io/netty/handler/codec/stomp/NativeImageHandlerMetadataTest.java
+++ b/codec-stomp/src/test/java/io/netty/handler/codec/stomp/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "stomp-handlers/reflect-config.json",
-                "io.netty.handler.codec.stomp");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.stomp");
     }
 
 }
diff --git a/codec-xml/src/main/resources/META-INF/native-image/codec-xml-handlers/reflect-config.json b/codec-xml/src/main/resources/META-INF/native-image/io.netty/netty-codec-xml/generated/handlers/reflect-config.json
similarity index 100%
rename from codec-xml/src/main/resources/META-INF/native-image/codec-xml-handlers/reflect-config.json
rename to codec-xml/src/main/resources/META-INF/native-image/io.netty/netty-codec-xml/generated/handlers/reflect-config.json
diff --git a/codec-xml/src/test/java/io/netty/handler/codec/xml/NativeImageHandlerMetadataTest.java b/codec-xml/src/test/java/io/netty/handler/codec/xml/NativeImageHandlerMetadataTest.java
index 26006bdaef..627c7d3003 100644
--- a/codec-xml/src/test/java/io/netty/handler/codec/xml/NativeImageHandlerMetadataTest.java
+++ b/codec-xml/src/test/java/io/netty/handler/codec/xml/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-xml-handlers/reflect-config.json",
-                "io.netty.handler.codec.xml");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.xml");
     }
 
 }
diff --git a/codec/src/main/resources/META-INF/native-image/codec-handlers/reflect-config.json b/codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/generated/handlers/reflect-config.json
similarity index 100%
rename from codec/src/main/resources/META-INF/native-image/codec-handlers/reflect-config.json
rename to codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/generated/handlers/reflect-config.json
diff --git a/codec/src/main/resources/META-INF/native-image/codec-handlers/native-image.properties b/codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/native-image.properties
similarity index 100%
rename from codec/src/main/resources/META-INF/native-image/codec-handlers/native-image.properties
rename to codec/src/main/resources/META-INF/native-image/io.netty/netty-codec/native-image.properties
diff --git a/codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java b/codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
index 952b720ddf..d3e7b612f0 100644
--- a/codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
+++ b/codec/src/test/java/io/netty/handler/codec/NativeImageHandlerMetadataTest.java
@@ -23,9 +23,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "codec-handlers/reflect-config.json",
-                "io.netty.handler.codec");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec");
     }
 
 }
diff --git a/common/src/main/resources/META-INF/native-image/io.netty/common/native-image.properties b/common/src/main/resources/META-INF/native-image/io.netty/netty-common/native-image.properties
similarity index 100%
rename from common/src/main/resources/META-INF/native-image/io.netty/common/native-image.properties
rename to common/src/main/resources/META-INF/native-image/io.netty/netty-common/native-image.properties
diff --git a/handler-proxy/src/main/resources/META-INF/native-image/handler-proxy-handlers/reflect-config.json b/handler-proxy/src/main/resources/META-INF/native-image/io.netty/netty-handler-proxy/generated/handlers/reflect-config.json
similarity index 100%
rename from handler-proxy/src/main/resources/META-INF/native-image/handler-proxy-handlers/reflect-config.json
rename to handler-proxy/src/main/resources/META-INF/native-image/io.netty/netty-handler-proxy/generated/handlers/reflect-config.json
diff --git a/handler-proxy/src/test/java/io/netty/handler/proxy/NativeImageHandlerMetadataTest.java b/handler-proxy/src/test/java/io/netty/handler/proxy/NativeImageHandlerMetadataTest.java
index ccaaca7933..e15cf71670 100644
--- a/handler-proxy/src/test/java/io/netty/handler/proxy/NativeImageHandlerMetadataTest.java
+++ b/handler-proxy/src/test/java/io/netty/handler/proxy/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "handler-proxy-handlers/reflect-config.json",
-                "io.netty.handler.proxy");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.proxy");
     }
 
 }
diff --git a/handler/src/main/resources/META-INF/native-image/handler-handlers/reflect-config.json b/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json
similarity index 100%
rename from handler/src/main/resources/META-INF/native-image/handler-handlers/reflect-config.json
rename to handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/generated/handlers/reflect-config.json
diff --git a/handler/src/main/resources/META-INF/native-image/io.netty/handler/native-image.properties b/handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/native-image.properties
similarity index 100%
rename from handler/src/main/resources/META-INF/native-image/io.netty/handler/native-image.properties
rename to handler/src/main/resources/META-INF/native-image/io.netty/netty-handler/native-image.properties
diff --git a/handler/src/test/java/io/netty/handler/NativeImageHandlerMetadataTest.java b/handler/src/test/java/io/netty/handler/NativeImageHandlerMetadataTest.java
index 0a9e005b3a..fa135f0f50 100644
--- a/handler/src/test/java/io/netty/handler/NativeImageHandlerMetadataTest.java
+++ b/handler/src/test/java/io/netty/handler/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "handler-handlers/reflect-config.json",
-                "io.netty.handler");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler");
     }
 
 }
diff --git a/pom.xml b/pom.xml
index 0449ff5e5c..cad10bcb0b 100644
--- a/pom.xml
+++ b/pom.xml
@@ -1455,6 +1455,9 @@
           <systemPropertyVariables>
             <logback.configurationFile>${logging.config}</logback.configurationFile>
             <logLevel>${logging.logLevel}</logLevel>
+            <!-- Used by ChannelHandlerMetadataUtil to create the recommended directory layout for native-image metadata -->
+            <nativeImage.handlerMetadataGroupId>${project.groupId}</nativeImage.handlerMetadataGroupId>
+            <nativeimage.handlerMetadataArtifactId>${project.artifactId}</nativeimage.handlerMetadataArtifactId>
           </systemPropertyVariables>
           <argLine>${argLine.common} ${argLine.printGC} ${argLine.alpnAgent} ${argLine.leak} ${argLine.coverage} ${argLine.noUnsafe} ${argLine.java9} ${argLine.javaProperties}</argLine>
           <properties>
diff --git a/resolver-dns/src/main/resources/META-INF/native-image/resolver-dns-handlers/reflect-config.json b/resolver-dns/src/main/resources/META-INF/native-image/io.netty/netty-resolver-dns/generated/handlers/reflect-config.json
similarity index 100%
rename from resolver-dns/src/main/resources/META-INF/native-image/resolver-dns-handlers/reflect-config.json
rename to resolver-dns/src/main/resources/META-INF/native-image/io.netty/netty-resolver-dns/generated/handlers/reflect-config.json
diff --git a/resolver-dns/src/main/resources/META-INF/native-image/io.netty/resolver-dns/native-image.properties b/resolver-dns/src/main/resources/META-INF/native-image/io.netty/netty-resolver-dns/native-image.properties
similarity index 100%
rename from resolver-dns/src/main/resources/META-INF/native-image/io.netty/resolver-dns/native-image.properties
rename to resolver-dns/src/main/resources/META-INF/native-image/io.netty/netty-resolver-dns/native-image.properties
diff --git a/resolver-dns/src/test/java/io/netty/resolver/dns/NativeImageHandlerMetadataTest.java b/resolver-dns/src/test/java/io/netty/resolver/dns/NativeImageHandlerMetadataTest.java
index a170a74976..be27ee3092 100644
--- a/resolver-dns/src/test/java/io/netty/resolver/dns/NativeImageHandlerMetadataTest.java
+++ b/resolver-dns/src/test/java/io/netty/resolver/dns/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "resolver-dns-handlers/reflect-config.json",
-                "io.netty.resolver.dns");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.resolver.dns");
     }
 
 }
diff --git a/transport-sctp/src/main/resources/META-INF/native-image/transport-sctp-handlers/reflect-config.json b/transport-sctp/src/main/resources/META-INF/native-image/io.netty/netty-transport-sctp/generated/handlers/reflect-config.json
similarity index 100%
rename from transport-sctp/src/main/resources/META-INF/native-image/transport-sctp-handlers/reflect-config.json
rename to transport-sctp/src/main/resources/META-INF/native-image/io.netty/netty-transport-sctp/generated/handlers/reflect-config.json
diff --git a/transport-sctp/src/test/java/io/netty/handler/codec/sctp/NativeImageHandlerMetadataTest.java b/transport-sctp/src/test/java/io/netty/handler/codec/sctp/NativeImageHandlerMetadataTest.java
index 84cc2baadd..c76e5f2c81 100644
--- a/transport-sctp/src/test/java/io/netty/handler/codec/sctp/NativeImageHandlerMetadataTest.java
+++ b/transport-sctp/src/test/java/io/netty/handler/codec/sctp/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "transport-sctp-handlers/reflect-config.json",
-                "io.netty.handler.codec.sctp");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.handler.codec.sctp");
     }
 
 }
diff --git a/transport/src/main/resources/META-INF/native-image/transport-handlers/reflect-config.json b/transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/generated/handlers/reflect-config.json
similarity index 100%
rename from transport/src/main/resources/META-INF/native-image/transport-handlers/reflect-config.json
rename to transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/generated/handlers/reflect-config.json
diff --git a/transport/src/main/resources/META-INF/native-image/io.netty/transport/native-image.properties b/transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/native-image.properties
similarity index 100%
rename from transport/src/main/resources/META-INF/native-image/io.netty/transport/native-image.properties
rename to transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/native-image.properties
diff --git a/transport/src/main/resources/META-INF/native-image/io.netty/transport/reflection-config.json b/transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/reflection-config.json
similarity index 100%
rename from transport/src/main/resources/META-INF/native-image/io.netty/transport/reflection-config.json
rename to transport/src/main/resources/META-INF/native-image/io.netty/netty-transport/reflection-config.json
diff --git a/transport/src/test/java/io/netty/channel/NativeImageHandlerMetadataTest.java b/transport/src/test/java/io/netty/channel/NativeImageHandlerMetadataTest.java
index 127f452a48..77e9ed2a96 100644
--- a/transport/src/test/java/io/netty/channel/NativeImageHandlerMetadataTest.java
+++ b/transport/src/test/java/io/netty/channel/NativeImageHandlerMetadataTest.java
@@ -22,9 +22,7 @@ public class NativeImageHandlerMetadataTest {
 
     @Test
     public void collectAndCompareMetadata() {
-        ChannelHandlerMetadataUtil.generateMetadata(
-                "transport-handlers/reflect-config.json",
-                "io.netty.bootstrap", "io.netty.channel");
+        ChannelHandlerMetadataUtil.generateMetadata("io.netty.bootstrap", "io.netty.channel");
     }
 
 }
diff --git a/transport/src/test/java/io/netty/nativeimage/ChannelHandlerMetadataUtil.java b/transport/src/test/java/io/netty/nativeimage/ChannelHandlerMetadataUtil.java
index 4dd3581ec8..c157d6b84b 100644
--- a/transport/src/test/java/io/netty/nativeimage/ChannelHandlerMetadataUtil.java
+++ b/transport/src/test/java/io/netty/nativeimage/ChannelHandlerMetadataUtil.java
@@ -41,10 +41,8 @@ import java.util.Set;
 /**
  * Generates native-image reflection metadata for subtypes of {@link io.netty.channel.ChannelHandler}.
  * <p>
- * To use, create a JUnit test in the desired Netty module and invoke {@link #generateMetadata(String, String...)} with:
- * 1. The relative path to the native-image handler reflection metadata file in the Netty module.
- * This path is relative to the root of the target Netty module.
- * 2. A list of packages present in the target Netty module that may contain subtypes of the ChannelHandler.
+ * To use, create a JUnit test in the desired Netty module and invoke {@link #generateMetadata(String...)} with a list
+ * of packages present in the target Netty module that may contain subtypes of the ChannelHandler.
  * <p>
  * See {@link NativeImageHandlerMetadataTest}
  */
@@ -58,7 +56,10 @@ public final class ChannelHandlerMetadataUtil {
     private ChannelHandlerMetadataUtil() {
     }
 
-    public static void generateMetadata(String resourcePath, String... packageNames) {
+    public static void generateMetadata(String... packageNames) {
+        String projectGroupId = System.getProperty("nativeImage.handlerMetadataGroupId");
+        String projectArtifactId = System.getProperty("nativeimage.handlerMetadataArtifactId");
+
         Set<Class<? extends ChannelHandler>> subtypes = findChannelHandlerSubclasses(packageNames);
 
         if (Arrays.asList(packageNames).contains("io.netty.channel")) {
@@ -71,7 +72,8 @@ public final class ChannelHandlerMetadataUtil {
             handlerMetadata.add(new HandlerMetadata(subtype.getName(), new Condition(subtype.getName()), true));
         }
 
-        String projectRelativeResourcePath = "src/main/resources/META-INF/native-image/" + resourcePath;
+        String projectRelativeResourcePath = "src/main/resources/META-INF/native-image/" + projectGroupId + "/" +
+                projectArtifactId + "/generated/handlers/reflect-config.json";
         File existingMetadataFile = new File(projectRelativeResourcePath);
         String existingMetadataPath = existingMetadataFile.getAbsolutePath();
         if (!existingMetadataFile.exists()) {
