diff --git a/testsuite/src/main/java/io/netty/testsuite/transport/socket/SocketAddressesTest.java b/testsuite/src/main/java/io/netty/testsuite/transport/socket/SocketAddressesTest.java
index ecab824f88..dce8c082bd 100644
--- a/testsuite/src/main/java/io/netty/testsuite/transport/socket/SocketAddressesTest.java
+++ b/testsuite/src/main/java/io/netty/testsuite/transport/socket/SocketAddressesTest.java
@@ -39,14 +39,25 @@ public abstract class SocketAddressesTest extends AbstractSocketTest {
         run(testInfo, new Runner<ServerBootstrap, Bootstrap>() {
             @Override
             public void run(ServerBootstrap serverBootstrap, Bootstrap bootstrap) throws Throwable {
-                testAddresses(serverBootstrap, bootstrap);
+                testAddresses(serverBootstrap, bootstrap, true);
+            }
+        });
+    }
+
+    @Test
+    @Timeout(value = 30000, unit = TimeUnit.MILLISECONDS)
+    public void testAddressesConnectWithoutLocalAddress(TestInfo testInfo) throws Throwable {
+        run(testInfo, new Runner<ServerBootstrap, Bootstrap>() {
+            @Override
+            public void run(ServerBootstrap serverBootstrap, Bootstrap bootstrap) throws Throwable {
+                testAddresses(serverBootstrap, bootstrap, false);
             }
         });
     }
 
     protected abstract void assertAddress(SocketAddress address);
 
-    private void testAddresses(ServerBootstrap sb, Bootstrap cb) throws Throwable {
+    private void testAddresses(ServerBootstrap sb, Bootstrap cb, boolean withLocalAddress) throws Throwable {
         Channel serverChannel = null;
         Channel clientChannel = null;
         try {
@@ -65,7 +76,11 @@ public abstract class SocketAddressesTest extends AbstractSocketTest {
             assertNull(clientChannel.localAddress());
             assertNull(clientChannel.remoteAddress());
 
-            clientChannel.connect(serverChannel.localAddress(), newSocketAddress()).syncUninterruptibly().channel();
+            if (withLocalAddress) {
+                clientChannel.connect(serverChannel.localAddress(), newSocketAddress()).syncUninterruptibly().channel();
+            } else {
+                clientChannel.connect(serverChannel.localAddress()).syncUninterruptibly().channel();
+            }
 
             assertAddress(clientChannel.localAddress());
             assertAddress(clientChannel.remoteAddress());
diff --git a/transport-classes-epoll/src/main/java/io/netty/channel/epoll/EpollDomainSocketChannel.java b/transport-classes-epoll/src/main/java/io/netty/channel/epoll/EpollDomainSocketChannel.java
index 0773e39133..b72dd69fa5 100644
--- a/transport-classes-epoll/src/main/java/io/netty/channel/epoll/EpollDomainSocketChannel.java
+++ b/transport-classes-epoll/src/main/java/io/netty/channel/epoll/EpollDomainSocketChannel.java
@@ -87,7 +87,7 @@ public final class EpollDomainSocketChannel extends AbstractEpollStreamChannel i
     @Override
     protected boolean doConnect(SocketAddress remoteAddress, SocketAddress localAddress) throws Exception {
         if (super.doConnect(remoteAddress, localAddress)) {
-            local = (DomainSocketAddress) localAddress;
+            local = localAddress != null ? (DomainSocketAddress) localAddress : socket.localDomainSocketAddress();
             remote = (DomainSocketAddress) remoteAddress;
             return true;
         }
diff --git a/transport-classes-kqueue/src/main/java/io/netty/channel/kqueue/KQueueDomainSocketChannel.java b/transport-classes-kqueue/src/main/java/io/netty/channel/kqueue/KQueueDomainSocketChannel.java
index 6e99e9c3e6..6b5ee22900 100644
--- a/transport-classes-kqueue/src/main/java/io/netty/channel/kqueue/KQueueDomainSocketChannel.java
+++ b/transport-classes-kqueue/src/main/java/io/netty/channel/kqueue/KQueueDomainSocketChannel.java
@@ -80,7 +80,7 @@ public final class KQueueDomainSocketChannel extends AbstractKQueueStreamChannel
     @Override
     protected boolean doConnect(SocketAddress remoteAddress, SocketAddress localAddress) throws Exception {
         if (super.doConnect(remoteAddress, localAddress)) {
-            local = (DomainSocketAddress) localAddress;
+            local = localAddress != null ? (DomainSocketAddress) localAddress : socket.localDomainSocketAddress();
             remote = (DomainSocketAddress) remoteAddress;
             return true;
         }
