diff --git a/common/src/test/java/io/netty/util/internal/logging/Log4J2LoggerTest.java b/common/src/test/java/io/netty/util/internal/logging/Log4J2LoggerTest.java
index 879f87cd3f..515398048d 100644
--- a/common/src/test/java/io/netty/util/internal/logging/Log4J2LoggerTest.java
+++ b/common/src/test/java/io/netty/util/internal/logging/Log4J2LoggerTest.java
@@ -17,8 +17,7 @@ package io.netty.util.internal.logging;
 
 import static org.junit.jupiter.api.Assertions.assertEquals;
 
-import java.lang.reflect.Method;
-import java.util.Arrays;
+import java.util.EnumMap;
 
 import org.apache.logging.log4j.Level;
 import org.apache.logging.log4j.LogManager;
@@ -27,9 +26,6 @@ import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.message.Message;
 import org.apache.logging.log4j.spi.ExtendedLoggerWrapper;
 
-import io.netty.util.internal.ReflectionUtil;
-import org.junit.jupiter.api.Assumptions;
-
 /**
  * {@linkplain Log4J2Logger} extends {@linkplain ExtendedLoggerWrapper} implements {@linkplain InternalLogger}.<br>
  * {@linkplain ExtendedLoggerWrapper} is Log4j2 wrapper class to support wrapped loggers,
@@ -53,21 +49,24 @@ public class Log4J2LoggerTest extends AbstractInternalLoggerTest<Logger> {
         };
     }
 
+    private static final EnumMap<InternalLogLevel, Level> DISABLING_LEVEL = new EnumMap<>(InternalLogLevel.class);
+
+    static {
+        DISABLING_LEVEL.put(InternalLogLevel.TRACE, Level.DEBUG);
+        DISABLING_LEVEL.put(InternalLogLevel.DEBUG, Level.INFO);
+        DISABLING_LEVEL.put(InternalLogLevel.INFO, Level.WARN);
+        DISABLING_LEVEL.put(InternalLogLevel.WARN, Level.ERROR);
+        DISABLING_LEVEL.put(InternalLogLevel.ERROR, Level.FATAL);
+    }
+
     @Override
-    protected void setLevelEnable(InternalLogLevel level, boolean enable) throws Exception {
+    protected void setLevelEnable(InternalLogLevel level, boolean enable) {
         Level targetLevel = Level.valueOf(level.name());
         if (!enable) {
-            Level[] levels = Level.values();
-            Arrays.sort(levels);
-            int pos = Arrays.binarySearch(levels, targetLevel);
-            targetLevel = levels[pos - 1];
+            targetLevel = DISABLING_LEVEL.get(level);
         }
 
-        Method method = mockLog.getClass().getDeclaredMethod("setLevel", Level.class);
-        if (!method.isAccessible()) {
-            Assumptions.assumeTrue(ReflectionUtil.trySetAccessible(method, true) == null);
-        }
-        method.invoke(mockLog, targetLevel);
+        ((org.apache.logging.log4j.core.Logger) mockLog).setLevel(targetLevel);
     }
 
     @Override
diff --git a/pom.xml b/pom.xml
index 251584611c..4aafb30006 100644
--- a/pom.xml
+++ b/pom.xml
@@ -646,7 +646,7 @@
     <jni.classifier>${os.detected.name}-${os.detected.arch}</jni.classifier>
     <logging.config>${project.basedir}/../common/src/test/resources/logback-test.xml</logging.config>
     <logging.logLevel>debug</logging.logLevel>
-    <log4j2.version>2.17.2</log4j2.version>
+    <log4j2.version>2.23.1</log4j2.version>
     <enforcer.plugin.version>3.0.0</enforcer.plugin.version>
     <junit.version>5.9.0</junit.version>
     <skipTests>false</skipTests>
@@ -945,7 +945,7 @@
       <dependency>
         <groupId>commons-logging</groupId>
         <artifactId>commons-logging</artifactId>
-        <version>1.2</version>
+        <version>1.3.4</version>
       </dependency>
       <dependency>
         <groupId>org.apache.logging.log4j</groupId>
