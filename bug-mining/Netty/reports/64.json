{"url":"https://api.github.com/repos/netty/netty/issues/8217","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/8217/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/8217/comments","events_url":"https://api.github.com/repos/netty/netty/issues/8217/events","html_url":"https://github.com/netty/netty/issues/8217","id":353454103,"node_id":"MDU6SXNzdWUzNTM0NTQxMDM=","number":8217,"title":"Log4J2LoggerFactory depends on a log4j2 version which does not work on Java 6","user":{"login":"jerrinot","id":158619,"node_id":"MDQ6VXNlcjE1ODYxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/158619?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrinot","html_url":"https://github.com/jerrinot","followers_url":"https://api.github.com/users/jerrinot/followers","following_url":"https://api.github.com/users/jerrinot/following{/other_user}","gists_url":"https://api.github.com/users/jerrinot/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrinot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrinot/subscriptions","organizations_url":"https://api.github.com/users/jerrinot/orgs","repos_url":"https://api.github.com/users/jerrinot/repos","events_url":"https://api.github.com/users/jerrinot/events{/privacy}","received_events_url":"https://api.github.com/users/jerrinot/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-08-23T16:15:14Z","updated_at":"2018-09-03T16:07:54Z","closed_at":"2018-09-03T16:07:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Expected behavior\r\nNetty logging works via log4j2 while on Java 6\r\n\r\n### Actual behavior\r\nLog4j2 2.4+ depends on Java 7. Netty depends on log4j2 methods which are present only in newer versions. When older log4j2 version is on a classpath then Netty fails to initialize itself due `AbstractMethodError` while logging. \r\n\r\n### Steps to reproduce\r\nHave Netty 4.1.27 and log4j2 on a classpath and run `InternalLoggerFactory.getInstance(\"foo\").debug(\"bar\", new Object));`\r\n\r\n### Minimal yet complete reproducer code (or URL to code)\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n\r\n    <groupId>info.jerrinot</groupId>\r\n    <artifactId>netty-logging-issue-reproducer</artifactId>\r\n    <version>1.0-SNAPSHOT</version>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>io.netty</groupId>\r\n            <artifactId>netty-common</artifactId>\r\n            <version>4.1.27.Final</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.logging.log4j</groupId>\r\n            <artifactId>log4j-core</artifactId>\r\n            <version>2.3</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>junit</groupId>\r\n            <artifactId>junit</artifactId>\r\n            <version>4.12</version>\r\n        </dependency>\r\n    </dependencies>\r\n</project>\r\n```\r\n\r\n```java\r\npackage info.jerrinot.nettyloggingissue;\r\n\r\nimport io.netty.util.internal.logging.InternalLoggerFactory;\r\nimport org.junit.Test;\r\n\r\npublic class ReproducerTest {\r\n\r\n    @Test\r\n    public void testNettyLogging() {\r\n        InternalLoggerFactory.getInstance(\"foo\").debug(\"bar\", new Object());\r\n    }\r\n}\r\n```\r\n\r\n### Netty version\r\n4.1.27\r\n\r\n### JVM version (e.g. `java -version`)\r\nirrelevant\r\n### OS version (e.g. `uname -a`)\r\nirrelevant","closed_by":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netty/netty/issues/8217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/8217/timeline","performed_via_github_app":null,"state_reason":"completed"}