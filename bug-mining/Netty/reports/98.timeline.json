[{"url":"https://api.github.com/repos/netty/netty/issues/comments/509641083","html_url":"https://github.com/netty/netty/issues/9345#issuecomment-509641083","issue_url":"https://api.github.com/repos/netty/netty/issues/9345","id":509641083,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTY0MTA4Mw==","user":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-09T13:25:36Z","updated_at":"2019-07-09T13:25:36Z","body":"@doom369 I think using `Unpooled.EMPTY_BUFFER` would break a lot of apps as people expect that they can just call `content().writeBytes(...)` etc.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/509641083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2469359093,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ2OTM1OTA5Mw==","url":"https://api.github.com/repos/netty/netty/issues/events/2469359093","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-09T13:25:36Z","performed_via_github_app":null},{"id":2469359095,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0NjkzNTkwOTU=","url":"https://api.github.com/repos/netty/netty/issues/events/2469359095","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-09T13:25:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/509663681","html_url":"https://github.com/netty/netty/issues/9345#issuecomment-509663681","issue_url":"https://api.github.com/repos/netty/netty/issues/9345","id":509663681,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTY2MzY4MQ==","user":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-09T14:23:32Z","updated_at":"2019-07-09T14:24:16Z","body":"@normanmaurer Hm. Ok. What about `Unpooled`? Shouldn't default `ByteBufAllocator.DEFAULT` be used here instead of `Unpooled`?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/509663681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2469556272,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ2OTU1NjI3Mg==","url":"https://api.github.com/repos/netty/netty/issues/events/2469556272","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-09T14:23:32Z","performed_via_github_app":null},{"id":2469556274,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0Njk1NTYyNzQ=","url":"https://api.github.com/repos/netty/netty/issues/events/2469556274","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-09T14:23:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000333","html_url":"https://github.com/netty/netty/issues/9345#issuecomment-510000333","issue_url":"https://api.github.com/repos/netty/netty/issues/9345","id":510000333,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDAwMDMzMw==","user":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T10:09:32Z","updated_at":"2019-07-10T10:10:47Z","body":"I investigated a bit further. In our particular use case heap byte buffer is allocated when websocket handshake is performed. Where `DefaultFullHttpRequest` is created with:\r\n\r\n```\r\n    public DefaultFullHttpRequest(HttpVersion httpVersion, HttpMethod method, String uri) {\r\n        this(httpVersion, method, uri, Unpooled.buffer(0));\r\n    }\r\n\r\n//just perform 1 request and we have\r\n\r\n  \"memoryStat\" : {\r\n    \"heapBytes\" : 33554432,\r\n    \"directBytes\" : 33554432\r\n  }\r\n```\r\n\r\nSo it seems to me like a bug. I understand that we can't change it to `Unpooled.EMPTY_BUFFER` due to back compatibility, however we can at least replace `Unpooled.buffer(0)` with `ByteBufAllocator.DEFAULT.buffer(0)` so at least we will avoid heap allocation.\r\n\r\n@normanmaurer WDYT?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2472050778,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ3MjA1MDc3OA==","url":"https://api.github.com/repos/netty/netty/issues/events/2472050778","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-10T10:09:32Z","performed_via_github_app":null},{"id":2472050780,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0NzIwNTA3ODA=","url":"https://api.github.com/repos/netty/netty/issues/events/2472050780","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-10T10:09:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000774","html_url":"https://github.com/netty/netty/issues/9345#issuecomment-510000774","issue_url":"https://api.github.com/repos/netty/netty/issues/9345","id":510000774,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDAwMDc3NA==","user":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T10:11:05Z","updated_at":"2019-07-10T10:11:05Z","body":"@doom369 this sound ok to me... that said can you point me to the code where the `DefaultFullHttpRequest` is created ?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2472054828,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ3MjA1NDgyOA==","url":"https://api.github.com/repos/netty/netty/issues/events/2472054828","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-10T10:11:05Z","performed_via_github_app":null},{"id":2472054829,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0NzIwNTQ4Mjk=","url":"https://api.github.com/repos/netty/netty/issues/events/2472054829","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-10T10:11:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000988","html_url":"https://github.com/netty/netty/issues/9345#issuecomment-510000988","issue_url":"https://api.github.com/repos/netty/netty/issues/9345","id":510000988,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDAwMDk4OA==","user":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T10:11:47Z","updated_at":"2019-07-10T10:16:07Z","body":"`WebSocketClientHandshaker13.newHandshakeRequest()`, line 217\r\n\r\nThis is just first place where it is occurs. There are other places that should be changed as well - constructors of PingWebSocketFrame, TextWebSocketFrame, etc...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/510000988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T09:24:56Z","updated_at":"2019-07-12T09:24:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/netty/netty/issues/9359","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/9359/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/9359/comments","events_url":"https://api.github.com/repos/netty/netty/issues/9359/events","html_url":"https://github.com/netty/netty/pull/9359","id":467312721,"node_id":"MDExOlB1bGxSZXF1ZXN0Mjk2OTg4Nzgw","number":9359,"title":"#9345 use default allocator when possible to avoid heap allocations","user":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2019-07-12T09:24:56Z","updated_at":"2019-07-13T10:07:01Z","closed_at":"2019-07-13T10:07:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":1064563,"node_id":"MDEwOlJlcG9zaXRvcnkxMDY0NTYz","name":"netty","full_name":"netty/netty","private":false,"owner":{"login":"netty","id":473791,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3Mzc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/473791?v=4","gravatar_id":"","url":"https://api.github.com/users/netty","html_url":"https://github.com/netty","followers_url":"https://api.github.com/users/netty/followers","following_url":"https://api.github.com/users/netty/following{/other_user}","gists_url":"https://api.github.com/users/netty/gists{/gist_id}","starred_url":"https://api.github.com/users/netty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netty/subscriptions","organizations_url":"https://api.github.com/users/netty/orgs","repos_url":"https://api.github.com/users/netty/repos","events_url":"https://api.github.com/users/netty/events{/privacy}","received_events_url":"https://api.github.com/users/netty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/netty/netty","description":"Netty project - an event-driven asynchronous network application framework","fork":false,"url":"https://api.github.com/repos/netty/netty","forks_url":"https://api.github.com/repos/netty/netty/forks","keys_url":"https://api.github.com/repos/netty/netty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/netty/netty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/netty/netty/teams","hooks_url":"https://api.github.com/repos/netty/netty/hooks","issue_events_url":"https://api.github.com/repos/netty/netty/issues/events{/number}","events_url":"https://api.github.com/repos/netty/netty/events","assignees_url":"https://api.github.com/repos/netty/netty/assignees{/user}","branches_url":"https://api.github.com/repos/netty/netty/branches{/branch}","tags_url":"https://api.github.com/repos/netty/netty/tags","blobs_url":"https://api.github.com/repos/netty/netty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/netty/netty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/netty/netty/git/refs{/sha}","trees_url":"https://api.github.com/repos/netty/netty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/netty/netty/statuses/{sha}","languages_url":"https://api.github.com/repos/netty/netty/languages","stargazers_url":"https://api.github.com/repos/netty/netty/stargazers","contributors_url":"https://api.github.com/repos/netty/netty/contributors","subscribers_url":"https://api.github.com/repos/netty/netty/subscribers","subscription_url":"https://api.github.com/repos/netty/netty/subscription","commits_url":"https://api.github.com/repos/netty/netty/commits{/sha}","git_commits_url":"https://api.github.com/repos/netty/netty/git/commits{/sha}","comments_url":"https://api.github.com/repos/netty/netty/comments{/number}","issue_comment_url":"https://api.github.com/repos/netty/netty/issues/comments{/number}","contents_url":"https://api.github.com/repos/netty/netty/contents/{+path}","compare_url":"https://api.github.com/repos/netty/netty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/netty/netty/merges","archive_url":"https://api.github.com/repos/netty/netty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/netty/netty/downloads","issues_url":"https://api.github.com/repos/netty/netty/issues{/number}","pulls_url":"https://api.github.com/repos/netty/netty/pulls{/number}","milestones_url":"https://api.github.com/repos/netty/netty/milestones{/number}","notifications_url":"https://api.github.com/repos/netty/netty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/netty/netty/labels{/name}","releases_url":"https://api.github.com/repos/netty/netty/releases{/id}","deployments_url":"https://api.github.com/repos/netty/netty/deployments","created_at":"2010-11-09T09:22:21Z","updated_at":"2025-11-10T05:10:03Z","pushed_at":"2025-11-08T09:13:35Z","git_url":"git://github.com/netty/netty.git","ssh_url":"git@github.com:netty/netty.git","clone_url":"https://github.com/netty/netty.git","svn_url":"https://github.com/netty/netty","homepage":"http://netty.io","size":102527,"stargazers_count":34575,"watchers_count":34575,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":16233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":670,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":16233,"open_issues":670,"watchers":34575,"default_branch":"4.2","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/netty/netty/pulls/9359","html_url":"https://github.com/netty/netty/pull/9359","diff_url":"https://github.com/netty/netty/pull/9359.diff","patch_url":"https://github.com/netty/netty/pull/9359.patch","merged_at":null},"body":"Motivation:\r\n\r\nIn many places Netty uses `Unpooled.buffer(0)` while should use `EMPTY_BUFFER`. We can't change this due to back compatibility, however we can at least replace `Unpooled.buffer(0)` with `ByteBufAllocator.DEFAULT.buffer(0)` so in evns. with `preferDirect=true` heap will not be used.\r\nThis change affects mostly http and websockets users.\r\n\r\nModification:\r\n\r\n- Repalced `Unpooled.buffer(0)` with `ByteBufAllocator.DEFAULT.buffer(0)`;\r\n- Replaced  `Unpooled.copiedBuffer(text, CharsetUtil.UTF_8)` with \r\n`ByteBufUtil.encodeString(ByteBufAllocator.DEFAULT, CharBuffer.wrap(text), CharsetUtil.UTF_8)`;\r\n\r\nResult:\r\n\r\nFixes https://github.com/netty/netty/issues/9345\r\n","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/9359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/9359/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T10:00:47Z","updated_at":"2019-07-13T10:00:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/netty/netty/issues/9363","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/9363/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/9363/comments","events_url":"https://api.github.com/repos/netty/netty/issues/9363/events","html_url":"https://github.com/netty/netty/pull/9363","id":467700331,"node_id":"MDExOlB1bGxSZXF1ZXN0Mjk3MzAwODM4","number":9363,"title":"#9345 always prefer default byte buf allocator in websockets flow","user":{"login":"doom369","id":1536494,"node_id":"MDQ6VXNlcjE1MzY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1536494?v=4","gravatar_id":"","url":"https://api.github.com/users/doom369","html_url":"https://github.com/doom369","followers_url":"https://api.github.com/users/doom369/followers","following_url":"https://api.github.com/users/doom369/following{/other_user}","gists_url":"https://api.github.com/users/doom369/gists{/gist_id}","starred_url":"https://api.github.com/users/doom369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doom369/subscriptions","organizations_url":"https://api.github.com/users/doom369/orgs","repos_url":"https://api.github.com/users/doom369/repos","events_url":"https://api.github.com/users/doom369/events{/privacy}","received_events_url":"https://api.github.com/users/doom369/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-07-13T10:00:47Z","updated_at":"2019-07-19T07:36:05Z","closed_at":"2019-07-19T07:36:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":1064563,"node_id":"MDEwOlJlcG9zaXRvcnkxMDY0NTYz","name":"netty","full_name":"netty/netty","private":false,"owner":{"login":"netty","id":473791,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3Mzc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/473791?v=4","gravatar_id":"","url":"https://api.github.com/users/netty","html_url":"https://github.com/netty","followers_url":"https://api.github.com/users/netty/followers","following_url":"https://api.github.com/users/netty/following{/other_user}","gists_url":"https://api.github.com/users/netty/gists{/gist_id}","starred_url":"https://api.github.com/users/netty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netty/subscriptions","organizations_url":"https://api.github.com/users/netty/orgs","repos_url":"https://api.github.com/users/netty/repos","events_url":"https://api.github.com/users/netty/events{/privacy}","received_events_url":"https://api.github.com/users/netty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/netty/netty","description":"Netty project - an event-driven asynchronous network application framework","fork":false,"url":"https://api.github.com/repos/netty/netty","forks_url":"https://api.github.com/repos/netty/netty/forks","keys_url":"https://api.github.com/repos/netty/netty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/netty/netty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/netty/netty/teams","hooks_url":"https://api.github.com/repos/netty/netty/hooks","issue_events_url":"https://api.github.com/repos/netty/netty/issues/events{/number}","events_url":"https://api.github.com/repos/netty/netty/events","assignees_url":"https://api.github.com/repos/netty/netty/assignees{/user}","branches_url":"https://api.github.com/repos/netty/netty/branches{/branch}","tags_url":"https://api.github.com/repos/netty/netty/tags","blobs_url":"https://api.github.com/repos/netty/netty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/netty/netty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/netty/netty/git/refs{/sha}","trees_url":"https://api.github.com/repos/netty/netty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/netty/netty/statuses/{sha}","languages_url":"https://api.github.com/repos/netty/netty/languages","stargazers_url":"https://api.github.com/repos/netty/netty/stargazers","contributors_url":"https://api.github.com/repos/netty/netty/contributors","subscribers_url":"https://api.github.com/repos/netty/netty/subscribers","subscription_url":"https://api.github.com/repos/netty/netty/subscription","commits_url":"https://api.github.com/repos/netty/netty/commits{/sha}","git_commits_url":"https://api.github.com/repos/netty/netty/git/commits{/sha}","comments_url":"https://api.github.com/repos/netty/netty/comments{/number}","issue_comment_url":"https://api.github.com/repos/netty/netty/issues/comments{/number}","contents_url":"https://api.github.com/repos/netty/netty/contents/{+path}","compare_url":"https://api.github.com/repos/netty/netty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/netty/netty/merges","archive_url":"https://api.github.com/repos/netty/netty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/netty/netty/downloads","issues_url":"https://api.github.com/repos/netty/netty/issues{/number}","pulls_url":"https://api.github.com/repos/netty/netty/pulls{/number}","milestones_url":"https://api.github.com/repos/netty/netty/milestones{/number}","notifications_url":"https://api.github.com/repos/netty/netty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/netty/netty/labels{/name}","releases_url":"https://api.github.com/repos/netty/netty/releases{/id}","deployments_url":"https://api.github.com/repos/netty/netty/deployments","created_at":"2010-11-09T09:22:21Z","updated_at":"2025-11-10T05:10:03Z","pushed_at":"2025-11-08T09:13:35Z","git_url":"git://github.com/netty/netty.git","ssh_url":"git@github.com:netty/netty.git","clone_url":"https://github.com/netty/netty.git","svn_url":"https://github.com/netty/netty","homepage":"http://netty.io","size":102527,"stargazers_count":34575,"watchers_count":34575,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":16233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":670,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":16233,"open_issues":670,"watchers":34575,"default_branch":"4.2","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/netty/netty/pulls/9363","html_url":"https://github.com/netty/netty/pull/9363","diff_url":"https://github.com/netty/netty/pull/9363.diff","patch_url":"https://github.com/netty/netty/pull/9363.patch","merged_at":null},"body":"Motivation:\r\n\r\nIn many places Netty uses `Unpooled.buffer(0)` while should use `EMPTY_BUFFER`. We can't change this due to back compatibility, however we can at least replace `Unpooled.buffer(0)` with `ByteBufAllocator.DEFAULT.buffer(0)` so in evns. with preferDirect=true heap will not be used.\r\n\r\nModification:\r\n\r\n- Repalced `Unpooled.buffer(0)` with `ByteBufAllocator.DEFAULT.buffer(0)` for web sockets frames and HttpRequest, HttpResponse;\r\n- `Unpooled.copiedBuffer(text, CharsetUtil.UTF_8)` ->\r\n`ByteBufUtil.encodeString(ByteBufAllocator.DEFAULT, CharBuffer.wrap(text), CharsetUtil.UTF_8)`;\r\n- `Unpooled.wrappedBuffer(bytes)` -> `ctx.alloc().buffer(bytes.length).writeBytes(bytes)`\r\n\r\nResult:\r\nFixes #9345 for websockets package.","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/9363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/9363/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2487237037,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0ODcyMzcwMzc=","url":"https://api.github.com/repos/netty/netty/issues/events/2487237037","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"aa5a18efd2adc85b20d5ce2cedf56433bfb13350","commit_url":"https://api.github.com/repos/netty/netty/commits/aa5a18efd2adc85b20d5ce2cedf56433bfb13350","created_at":"2019-07-16T19:23:54Z","performed_via_github_app":null},{"id":2487237824,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0ODcyMzc4MjQ=","url":"https://api.github.com/repos/netty/netty/issues/events/2487237824","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d29ee8918a48734c6c8fedeffa7dc120c1eeb5d5","commit_url":"https://api.github.com/repos/netty/netty/commits/d29ee8918a48734c6c8fedeffa7dc120c1eeb5d5","created_at":"2019-07-16T19:24:12Z","performed_via_github_app":null},{"actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T19:24:25Z","updated_at":"2019-07-16T19:24:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/netty/netty/issues/9377","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/9377/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/9377/comments","events_url":"https://api.github.com/repos/netty/netty/issues/9377/events","html_url":"https://github.com/netty/netty/pull/9377","id":468823354,"node_id":"MDExOlB1bGxSZXF1ZXN0Mjk4MTc4MzQx","number":9377,"title":"Use allocator when constructing ByteBufHolder sub-types or use Unpoolâ€¦","user":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/netty/netty/milestones/212","html_url":"https://github.com/netty/netty/milestone/212","labels_url":"https://api.github.com/repos/netty/netty/milestones/212/labels","id":4448236,"node_id":"MDk6TWlsZXN0b25lNDQ0ODIzNg==","number":212,"title":"4.1.38.Final","description":"","creator":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":54,"state":"closed","created_at":"2019-06-28T08:02:27Z","updated_at":"2019-07-24T19:09:13Z","due_on":null,"closed_at":"2019-07-24T17:15:23Z"},"comments":8,"created_at":"2019-07-16T19:24:25Z","updated_at":"2019-07-18T11:07:44Z","closed_at":"2019-07-18T08:29:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":1064563,"node_id":"MDEwOlJlcG9zaXRvcnkxMDY0NTYz","name":"netty","full_name":"netty/netty","private":false,"owner":{"login":"netty","id":473791,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3Mzc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/473791?v=4","gravatar_id":"","url":"https://api.github.com/users/netty","html_url":"https://github.com/netty","followers_url":"https://api.github.com/users/netty/followers","following_url":"https://api.github.com/users/netty/following{/other_user}","gists_url":"https://api.github.com/users/netty/gists{/gist_id}","starred_url":"https://api.github.com/users/netty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netty/subscriptions","organizations_url":"https://api.github.com/users/netty/orgs","repos_url":"https://api.github.com/users/netty/repos","events_url":"https://api.github.com/users/netty/events{/privacy}","received_events_url":"https://api.github.com/users/netty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/netty/netty","description":"Netty project - an event-driven asynchronous network application framework","fork":false,"url":"https://api.github.com/repos/netty/netty","forks_url":"https://api.github.com/repos/netty/netty/forks","keys_url":"https://api.github.com/repos/netty/netty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/netty/netty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/netty/netty/teams","hooks_url":"https://api.github.com/repos/netty/netty/hooks","issue_events_url":"https://api.github.com/repos/netty/netty/issues/events{/number}","events_url":"https://api.github.com/repos/netty/netty/events","assignees_url":"https://api.github.com/repos/netty/netty/assignees{/user}","branches_url":"https://api.github.com/repos/netty/netty/branches{/branch}","tags_url":"https://api.github.com/repos/netty/netty/tags","blobs_url":"https://api.github.com/repos/netty/netty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/netty/netty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/netty/netty/git/refs{/sha}","trees_url":"https://api.github.com/repos/netty/netty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/netty/netty/statuses/{sha}","languages_url":"https://api.github.com/repos/netty/netty/languages","stargazers_url":"https://api.github.com/repos/netty/netty/stargazers","contributors_url":"https://api.github.com/repos/netty/netty/contributors","subscribers_url":"https://api.github.com/repos/netty/netty/subscribers","subscription_url":"https://api.github.com/repos/netty/netty/subscription","commits_url":"https://api.github.com/repos/netty/netty/commits{/sha}","git_commits_url":"https://api.github.com/repos/netty/netty/git/commits{/sha}","comments_url":"https://api.github.com/repos/netty/netty/comments{/number}","issue_comment_url":"https://api.github.com/repos/netty/netty/issues/comments{/number}","contents_url":"https://api.github.com/repos/netty/netty/contents/{+path}","compare_url":"https://api.github.com/repos/netty/netty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/netty/netty/merges","archive_url":"https://api.github.com/repos/netty/netty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/netty/netty/downloads","issues_url":"https://api.github.com/repos/netty/netty/issues{/number}","pulls_url":"https://api.github.com/repos/netty/netty/pulls{/number}","milestones_url":"https://api.github.com/repos/netty/netty/milestones{/number}","notifications_url":"https://api.github.com/repos/netty/netty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/netty/netty/labels{/name}","releases_url":"https://api.github.com/repos/netty/netty/releases{/id}","deployments_url":"https://api.github.com/repos/netty/netty/deployments","created_at":"2010-11-09T09:22:21Z","updated_at":"2025-11-10T05:10:03Z","pushed_at":"2025-11-08T09:13:35Z","git_url":"git://github.com/netty/netty.git","ssh_url":"git@github.com:netty/netty.git","clone_url":"https://github.com/netty/netty.git","svn_url":"https://github.com/netty/netty","homepage":"http://netty.io","size":102527,"stargazers_count":34575,"watchers_count":34575,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":16233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":670,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":16233,"open_issues":670,"watchers":34575,"default_branch":"4.2","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/netty/netty/pulls/9377","html_url":"https://github.com/netty/netty/pull/9377","diff_url":"https://github.com/netty/netty/pull/9377.diff","patch_url":"https://github.com/netty/netty/pull/9377.patch","merged_at":"2019-07-18T08:29:50Z"},"body":"â€¦ed.EMPTY_BUFFER where possible\r\n\r\nMotivation:\r\n\r\nIn many places Netty uses Unpooled.buffer(0) while should use EMPTY_BUFFER. We can't change this due to back compatibility in the constructors but can use Unpooled.EMPTY_BUFFER in some cases to ensure we not allocate at all. In others we can directly use the allocator either from the Channel / ChannelHandlerContext or the request / response.\r\n\r\nModification:\r\n\r\n- Use Unpooled.EMPTY_BUFFER where possible\r\n- Use allocator where possible\r\n\r\nResult:\r\n\r\nFixes #9345 for websockets and http package","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/9377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/9377/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2491933926,"node_id":"MDExOkNsb3NlZEV2ZW50MjQ5MTkzMzkyNg==","url":"https://api.github.com/repos/netty/netty/issues/events/2491933926","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-07-18T08:29:50Z","state_reason":null,"performed_via_github_app":null},{"id":2491934604,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0OTE5MzQ2MDQ=","url":"https://api.github.com/repos/netty/netty/issues/events/2491934604","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1e8c0c59f1b80e315b2baeda2d3d4c7d077a0c5a","commit_url":"https://api.github.com/repos/netty/netty/commits/1e8c0c59f1b80e315b2baeda2d3d4c7d077a0c5a","created_at":"2019-07-18T08:30:05Z","performed_via_github_app":null},{"id":2491951139,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0OTE5NTExMzk=","url":"https://api.github.com/repos/netty/netty/issues/events/2491951139","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e4995be33cd2483fe9f0271483a64d8a07d0e1d4","commit_url":"https://api.github.com/repos/netty/netty/commits/e4995be33cd2483fe9f0271483a64d8a07d0e1d4","created_at":"2019-07-18T08:36:15Z","performed_via_github_app":null}]