{"url":"https://api.github.com/repos/netty/netty/issues/14997","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/14997/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/14997/comments","events_url":"https://api.github.com/repos/netty/netty/issues/14997/events","html_url":"https://github.com/netty/netty/issues/14997","id":2972006519,"node_id":"I_kwDOABA-c86xJTh3","number":14997,"title":"netty-handler-4.2.0 requires org.bouncycastle.jsse in OSGi","user":{"login":"rovarga","id":3847030,"node_id":"MDQ6VXNlcjM4NDcwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/3847030?v=4","gravatar_id":"","url":"https://api.github.com/users/rovarga","html_url":"https://github.com/rovarga","followers_url":"https://api.github.com/users/rovarga/followers","following_url":"https://api.github.com/users/rovarga/following{/other_user}","gists_url":"https://api.github.com/users/rovarga/gists{/gist_id}","starred_url":"https://api.github.com/users/rovarga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rovarga/subscriptions","organizations_url":"https://api.github.com/users/rovarga/orgs","repos_url":"https://api.github.com/users/rovarga/repos","events_url":"https://api.github.com/users/rovarga/events{/privacy}","received_events_url":"https://api.github.com/users/rovarga/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-04-04T10:52:16Z","updated_at":"2025-04-17T09:17:52Z","closed_at":"2025-04-17T09:17:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Attempting to load netty-handler in OSGi leads to a splat:\n\n```\n2025-04-04T12:10:37,579 | ERROR | RMI TCP Connection(4)-127.0.0.1 | TestProbe                        | 98 - PAXEXAM-PROBE-87e2d067-0d99-4ecc-a39e-4af212af1b13 - 0.0.0 | Exception executing feature test\norg.apache.felix.resolver.reason.ReasonException: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=odl-netty-4; type=karaf.feature; version=\"[14.0.9.SNAPSHOT,14.0.9.SNAPSHOT]\"; filter:=\"(&(osgi.identity=odl-netty-4)(type=karaf.feature)(version>=14.0.9.SNAPSHOT)(version<=14.0.9.SNAPSHOT))\" [caused by: Unable to resolve odl-netty-4/14.0.9.SNAPSHOT: missing requirement [odl-netty-4/14.0.9.SNAPSHOT] osgi.identity; osgi.identity=io.netty.handler; type=osgi.bundle; version=\"[4.2.0.Final,4.2.0.Final]\"; resolution:=mandatory [caused by: Unable to resolve io.netty.handler/4.2.0.Final: missing requirement [io.netty.handler/4.2.0.Final] osgi.wiring.package; filter:=\"(osgi.wiring.package=org.bouncycastle.jsse)\"]]\n        at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~[?:?]\n        at org.apache.felix.resolver.ResolverImpl.doResolve(ResolverImpl.java:433) ~[?:?]\n        at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:420) ~[?:?]\n        at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:374) ~[?:?]\n        at org.apache.karaf.features.internal.region.SubsystemResolver.resolve(SubsystemResolver.java:256) ~[?:?]\n        at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:399) ~[?:?]\n        at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1069) ~[?:?]\n        at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:1004) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]\n        at java.lang.Thread.run(Thread.java:1583) [?:?]\nCaused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve odl-netty-4/14.0.9.SNAPSHOT: missing requirement [odl-netty-4/14.0.9.SNAPSHOT] osgi.identity; osgi.identity=io.netty.handler; type=osgi.bundle; version=\"[4.2.0.Final,4.2.0.Final]\"; resolution:=mandatory [caused by: Unable to resolve io.netty.handler/4.2.0.Final: missing requirement [io.netty.handler/4.2.0.Final] osgi.wiring.package; filter:=\"(osgi.wiring.package=org.bouncycastle.jsse)\"]\n        at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~[?:?]\n        ... 12 more\nCaused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve io.netty.handler/4.2.0.Final: missing requirement [io.netty.handler/4.2.0.Final] osgi.wiring.package; filter:=\"(osgi.wiring.package=org.bouncycastle.jsse)\"\n        at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~[?:?]\n        at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~[?:?]\n        ... 12 more\n```\n\nThis is due to `maven-bundle-plugin` deriving this requirement from Class.forName() invocations.","closed_by":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netty/netty/issues/14997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/14997/timeline","performed_via_github_app":null,"state_reason":"completed"}