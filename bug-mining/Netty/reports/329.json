{"url":"https://api.github.com/repos/netty/netty/issues/14694","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/14694/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/14694/comments","events_url":"https://api.github.com/repos/netty/netty/issues/14694/events","html_url":"https://github.com/netty/netty/issues/14694","id":2796860603,"node_id":"I_kwDOABA-c86mtLS7","number":14694,"title":"StreamBufferingEncoder writeHeaders method always send an header frame with a priority","user":{"login":"Akshay-Sundarraj","id":124070065,"node_id":"U_kgDOB2UosQ","avatar_url":"https://avatars.githubusercontent.com/u/124070065?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshay-Sundarraj","html_url":"https://github.com/Akshay-Sundarraj","followers_url":"https://api.github.com/users/Akshay-Sundarraj/followers","following_url":"https://api.github.com/users/Akshay-Sundarraj/following{/other_user}","gists_url":"https://api.github.com/users/Akshay-Sundarraj/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshay-Sundarraj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshay-Sundarraj/subscriptions","organizations_url":"https://api.github.com/users/Akshay-Sundarraj/orgs","repos_url":"https://api.github.com/users/Akshay-Sundarraj/repos","events_url":"https://api.github.com/users/Akshay-Sundarraj/events{/privacy}","received_events_url":"https://api.github.com/users/Akshay-Sundarraj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/netty/netty/milestones/306","html_url":"https://github.com/netty/netty/milestone/306","labels_url":"https://api.github.com/repos/netty/netty/milestones/306/labels","id":12161681,"node_id":"MI_kwDOABA-c84AuZKR","number":306,"title":"4.1.118.Final","description":"","creator":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2025-01-14T08:16:06Z","updated_at":"2025-02-13T11:23:51Z","due_on":null,"closed_at":"2025-02-13T11:23:51Z"},"comments":0,"created_at":"2025-01-18T08:46:48Z","updated_at":"2025-01-28T07:11:48Z","closed_at":"2025-01-28T07:10:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Expected behavior\n\nThe StreamBufferingEncoder should send header frame without priority when the writeHeaders(ChannelHandlerContext ctx, int streamId, Http2Headers headers, int padding, boolean endStream, ChannelPromise promise) method is used.\n\nThis issue is similar to https://github.com/netty/netty/issues/9842\n\n### Actual behavior\n\nThe StreamBufferingEncoder instead calls writeHeader with priority.\n\n ```\n@Override\n    public ChannelFuture writeHeaders(ChannelHandlerContext ctx, int streamId, Http2Headers headers,\n                                      int padding, boolean endStream, ChannelPromise promise) {\n        return writeHeaders(ctx, streamId, headers, 0, Http2CodecUtil.DEFAULT_PRIORITY_WEIGHT,\n                false, padding, endStream, promise);\n    }\n```\n\n### Netty version\n4.1.115\n\n### JVM version (e.g. java -version)\nDoes not matter\n\n### OS version (e.g. uname -a)\nDoes not matter","closed_by":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netty/netty/issues/14694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/14694/timeline","performed_via_github_app":null,"state_reason":"completed"}