{"url":"https://api.github.com/repos/netty/netty/issues/15305","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/15305/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/15305/comments","events_url":"https://api.github.com/repos/netty/netty/issues/15305/events","html_url":"https://github.com/netty/netty/issues/15305","id":3111887663,"node_id":"I_kwDOABA-c865e6Mv","number":15305,"title":"ByteBufInputStream#readByte(); should use checkAvailable(); method","user":{"login":"d-william","id":22540750,"node_id":"MDQ6VXNlcjIyNTQwNzUw","avatar_url":"https://avatars.githubusercontent.com/u/22540750?v=4","gravatar_id":"","url":"https://api.github.com/users/d-william","html_url":"https://github.com/d-william","followers_url":"https://api.github.com/users/d-william/followers","following_url":"https://api.github.com/users/d-william/following{/other_user}","gists_url":"https://api.github.com/users/d-william/gists{/gist_id}","starred_url":"https://api.github.com/users/d-william/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-william/subscriptions","organizations_url":"https://api.github.com/users/d-william/orgs","repos_url":"https://api.github.com/users/d-william/repos","events_url":"https://api.github.com/users/d-william/events{/privacy}","received_events_url":"https://api.github.com/users/d-william/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/netty/netty/milestones/317","html_url":"https://github.com/netty/netty/milestone/317","labels_url":"https://api.github.com/repos/netty/netty/milestones/317/labels","id":13030942,"node_id":"MI_kwDOABA-c84AxtYe","number":317,"title":"4.2.3.Final","description":"","creator":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":87,"state":"closed","created_at":"2025-06-05T09:21:13Z","updated_at":"2025-07-15T15:43:49Z","due_on":null,"closed_at":"2025-07-14T19:19:34Z"},"comments":1,"created_at":"2025-06-02T23:05:33Z","updated_at":"2025-06-05T15:40:58Z","closed_at":"2025-06-05T15:39:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Is there any particular reason not to use the [checkAvailable();](https://github.com/netty/netty/blob/0503b50a32ebdb576e3064f67b01081665f0f15e/buffer/src/main/java/io/netty/buffer/ByteBufInputStream.java) method in the [#readByte();](https://github.com/netty/netty/blob/0503b50a32ebdb576e3064f67b01081665f0f15e/buffer/src/main/java/io/netty/buffer/ByteBufInputStream.java#L209) method ?\nWhile in all other #read\\[...](); method (of DataInput interface), the checkAvailable(); method is used.\n\nIt makes inconsistenty in error messages : \n```java\nByteBufInputStream in = new ByteBufInputStream(Unpooled.buffer());\n\ntry {\n    in.readByte();\n}\ncatch (IOException e) {\n    System.out.println(\"Message: \" + e.getMessage()); // null\n}\n\ntry {\n    in.readShort();\n}\ncatch (IOException e) {\n    System.out.println(\"Message: \" + e.getMessage()); // \"fieldSize is too long! Length is 2, but maximum is 0\"\n}\n```\n\nCan the metod look like : \n```java\n@Override\npublic byte readByte() throws IOException {\n    checkAvailable(1);\n    return buffer.readByte();\n}\n```\nor : \n```java\n@Override\npublic byte readByte() throws IOException {\n    int available = available();\n    if (available == 0) {\n        throw new EOFException(\"fieldSize is too long! Length is 1, but maximum is 0\");\n    }\n    return buffer.readByte();\n}\n```","closed_by":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netty/netty/issues/15305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/15305/timeline","performed_via_github_app":null,"state_reason":"completed"}