[{"id":11734452260,"node_id":"LE_lADOABA-c85-j8rnzwAAAAK7bYgk","url":"https://api.github.com/repos/netty/netty/issues/events/11734452260","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-07T15:57:27Z","label":{"name":"improvement","color":"0052cc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1932356132","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1932356132","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1932356132,"node_id":"IC_kwDOABA-c85zLWok","user":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-07T15:58:58Z","updated_at":"2024-02-07T15:58:58Z","body":"I'm taking a look at https://github.com/netty/netty/issues/13226 which is related, I can work on this as well","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1932356132/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1932408659","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1932408659","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1932408659,"node_id":"IC_kwDOABA-c85zLjdT","user":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-07T16:22:51Z","updated_at":"2024-02-07T16:22:51Z","body":"Another option could be to allow users to specify an allocator and make use a `ByteBuf` instead of a `short[]`, but TBH this won't be super nice, because acquire/releasing `ByteBuf`s isn't free nor manipulating them (due to accessibility checks)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1932408659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1948218954","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1948218954","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1948218954,"node_id":"IC_kwDOABA-c850H3ZK","user":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-16T11:27:07Z","updated_at":"2024-02-16T11:27:07Z","body":"@franz1981 another option would be to just save it in the `Snappy` instance if its not too big and reuse ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1948218954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11827715095,"node_id":"MEE_lADOABA-c85-j8rnzwAAAALA_JwX","url":"https://api.github.com/repos/netty/netty/issues/events/11827715095","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-02-16T11:27:08Z","performed_via_github_app":null},{"id":11827715104,"node_id":"SE_lADOABA-c85-j8rnzwAAAALA_Jwg","url":"https://api.github.com/repos/netty/netty/issues/events/11827715104","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-02-16T11:27:08Z","performed_via_github_app":null},{"id":12001299431,"node_id":"REFE_lADOABA-c85-j8rnzwAAAALLVUvn","url":"https://api.github.com/repos/netty/netty/issues/events/12001299431","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c839b891fae028b97c0c93409424a330002d3a5f","commit_url":"https://api.github.com/repos/lucamolteni/netty/commits/c839b891fae028b97c0c93409424a330002d3a5f","created_at":"2024-03-04T15:59:05Z","performed_via_github_app":null},{"actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T16:00:38Z","updated_at":"2024-03-04T16:00:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/netty/netty/issues/13885","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/13885/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/13885/comments","events_url":"https://api.github.com/repos/netty/netty/issues/13885/events","html_url":"https://github.com/netty/netty/pull/13885","id":2167189384,"node_id":"PR_kwDOABA-c85om810","number":13885,"title":"Save Snappy's encode tmp table allocation #13826","user":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/netty/netty/milestones/289","html_url":"https://github.com/netty/netty/milestone/289","labels_url":"https://api.github.com/repos/netty/netty/milestones/289/labels","id":10715114,"node_id":"MI_kwDOABA-c84Ao3_q","number":289,"title":"4.1.109.Final","description":"","creator":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":24,"state":"closed","created_at":"2024-03-21T15:51:56Z","updated_at":"2024-04-16T15:02:13Z","due_on":null,"closed_at":"2024-04-16T15:02:13Z"},"comments":3,"created_at":"2024-03-04T16:00:37Z","updated_at":"2024-03-28T17:53:27Z","closed_at":"2024-03-28T12:40:04Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":1064563,"node_id":"MDEwOlJlcG9zaXRvcnkxMDY0NTYz","name":"netty","full_name":"netty/netty","private":false,"owner":{"login":"netty","id":473791,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3Mzc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/473791?v=4","gravatar_id":"","url":"https://api.github.com/users/netty","html_url":"https://github.com/netty","followers_url":"https://api.github.com/users/netty/followers","following_url":"https://api.github.com/users/netty/following{/other_user}","gists_url":"https://api.github.com/users/netty/gists{/gist_id}","starred_url":"https://api.github.com/users/netty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netty/subscriptions","organizations_url":"https://api.github.com/users/netty/orgs","repos_url":"https://api.github.com/users/netty/repos","events_url":"https://api.github.com/users/netty/events{/privacy}","received_events_url":"https://api.github.com/users/netty/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/netty/netty","description":"Netty project - an event-driven asynchronous network application framework","fork":false,"url":"https://api.github.com/repos/netty/netty","forks_url":"https://api.github.com/repos/netty/netty/forks","keys_url":"https://api.github.com/repos/netty/netty/keys{/key_id}","collaborators_url":"https://api.github.com/repos/netty/netty/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/netty/netty/teams","hooks_url":"https://api.github.com/repos/netty/netty/hooks","issue_events_url":"https://api.github.com/repos/netty/netty/issues/events{/number}","events_url":"https://api.github.com/repos/netty/netty/events","assignees_url":"https://api.github.com/repos/netty/netty/assignees{/user}","branches_url":"https://api.github.com/repos/netty/netty/branches{/branch}","tags_url":"https://api.github.com/repos/netty/netty/tags","blobs_url":"https://api.github.com/repos/netty/netty/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/netty/netty/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/netty/netty/git/refs{/sha}","trees_url":"https://api.github.com/repos/netty/netty/git/trees{/sha}","statuses_url":"https://api.github.com/repos/netty/netty/statuses/{sha}","languages_url":"https://api.github.com/repos/netty/netty/languages","stargazers_url":"https://api.github.com/repos/netty/netty/stargazers","contributors_url":"https://api.github.com/repos/netty/netty/contributors","subscribers_url":"https://api.github.com/repos/netty/netty/subscribers","subscription_url":"https://api.github.com/repos/netty/netty/subscription","commits_url":"https://api.github.com/repos/netty/netty/commits{/sha}","git_commits_url":"https://api.github.com/repos/netty/netty/git/commits{/sha}","comments_url":"https://api.github.com/repos/netty/netty/comments{/number}","issue_comment_url":"https://api.github.com/repos/netty/netty/issues/comments{/number}","contents_url":"https://api.github.com/repos/netty/netty/contents/{+path}","compare_url":"https://api.github.com/repos/netty/netty/compare/{base}...{head}","merges_url":"https://api.github.com/repos/netty/netty/merges","archive_url":"https://api.github.com/repos/netty/netty/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/netty/netty/downloads","issues_url":"https://api.github.com/repos/netty/netty/issues{/number}","pulls_url":"https://api.github.com/repos/netty/netty/pulls{/number}","milestones_url":"https://api.github.com/repos/netty/netty/milestones{/number}","notifications_url":"https://api.github.com/repos/netty/netty/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/netty/netty/labels{/name}","releases_url":"https://api.github.com/repos/netty/netty/releases{/id}","deployments_url":"https://api.github.com/repos/netty/netty/deployments","created_at":"2010-11-09T09:22:21Z","updated_at":"2025-11-10T05:10:03Z","pushed_at":"2025-11-08T09:13:35Z","git_url":"git://github.com/netty/netty.git","ssh_url":"git@github.com:netty/netty.git","clone_url":"https://github.com/netty/netty.git","svn_url":"https://github.com/netty/netty","homepage":"http://netty.io","size":102527,"stargazers_count":34575,"watchers_count":34575,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":16233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":670,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":16233,"open_issues":670,"watchers":34575,"default_branch":"4.2","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/netty/netty/pulls/13885","html_url":"https://github.com/netty/netty/pull/13885","diff_url":"https://github.com/netty/netty/pull/13885.diff","patch_url":"https://github.com/netty/netty/pull/13885.patch","merged_at":"2024-03-28T12:40:04Z"},"body":"Motivation:\r\n\r\nAllocating a new byte[] on the hot path is expensive\r\n\r\nModifications:\r\n\r\n- Use FastThreadLocal to recycle the byte[] when it's the same size\r\n- Fill the array with 0 to ensure correctness of compression\r\n- Created a Benchmark in the microbench module\r\n- New system property `io.netty.handler.codec.compression.snappy.hashTableType` with possible value `newarray` (default) or `reuse` to use a single buffer\r\n\r\nResult:\r\n\r\nFixes #13826\r\nBenchmarks results on #13826\r\n","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/13885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/13885/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1976922825","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1976922825","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1976922825,"node_id":"IC_kwDOABA-c8511XLJ","user":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T16:03:45Z","updated_at":"2024-03-04T16:03:45Z","body":"Here the results with the \"normal\" execution on my machine \r\n\r\n```\r\nBenchmark                                         (bufferSizeInBytes)                    (hashType)   Mode  Cnt         Score         Error   Units\r\nSnappyDirectBenchmark.encode                                     4096                     NEW_ARRAY  thrpt    3    593566.692 ±   76913.257   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     4096                     NEW_ARRAY  thrpt    3         1.999 ±       0.008   ops/s\r\nSnappyDirectBenchmark.encode                                     4096  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3    632241.984 ±   31584.847   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     4096  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.999 ±       0.001   ops/s\r\nSnappyDirectBenchmark.encode                                     2048                     NEW_ARRAY  thrpt    3   1105703.665 ±  180889.589   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     2048                     NEW_ARRAY  thrpt    3         2.000 ±       0.009   ops/s\r\nSnappyDirectBenchmark.encode                                     2048  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   1240283.412 ±   23526.154   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     2048  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.999 ±       0.004   ops/s\r\nSnappyDirectBenchmark.encode                                     1024                     NEW_ARRAY  thrpt    3   1891780.721 ±  201614.887   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     1024                     NEW_ARRAY  thrpt    3         1.899 ±       0.007   ops/s\r\nSnappyDirectBenchmark.encode                                     1024  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   2404584.135 ±   95665.279   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                     1024  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.899 ±       0.009   ops/s\r\nSnappyDirectBenchmark.encode                                      512                     NEW_ARRAY  thrpt    3   2951070.746 ±  180055.758   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      512                     NEW_ARRAY  thrpt    3         1.799 ±       0.007   ops/s\r\nSnappyDirectBenchmark.encode                                      512  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   4700612.902 ±  104919.274   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      512  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.799 ±       0.001   ops/s\r\nSnappyDirectBenchmark.encode                                      256                     NEW_ARRAY  thrpt    3   8348209.803 ±  587891.640   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      256                     NEW_ARRAY  thrpt    3         1.599 ±       0.008   ops/s\r\nSnappyDirectBenchmark.encode                                      256  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   8717241.738 ± 2841145.484   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      256  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.600 ±       0.007   ops/s\r\nSnappyDirectBenchmark.encode                                      128                     NEW_ARRAY  thrpt    3  15383331.321 ±  117478.564   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      128                     NEW_ARRAY  thrpt    3         1.199 ±       0.001   ops/s\r\nSnappyDirectBenchmark.encode                                      128  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3  15137715.154 ±  128345.567   ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                      128  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.199 ±       0.001   ops/s\r\n```\r\n\r\nAnd using FastThreads\r\n\r\n```\r\nBenchmark                                     (bufferSizeInBytes)                    (hashType)   Mode  Cnt         Score          Error  Units\r\nSnappyDirectBenchmark.encode                                 4096                     NEW_ARRAY  thrpt    3    566358.838 ±     7532.810  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 4096                     NEW_ARRAY  thrpt    3         1.999 ±        0.010  ops/s\r\nSnappyDirectBenchmark.encode                                 4096  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3    611757.306 ±     1450.606  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 4096  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.999 ±        0.010  ops/s\r\nSnappyDirectBenchmark.encode                                 2048                     NEW_ARRAY  thrpt    3   1070361.595 ±    46964.258  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 2048                     NEW_ARRAY  thrpt    3         1.999 ±        0.009  ops/s\r\nSnappyDirectBenchmark.encode                                 2048  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   1195206.203 ±    62937.510  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 2048  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.999 ±        0.011  ops/s\r\nSnappyDirectBenchmark.encode                                 1024                     NEW_ARRAY  thrpt    3   1792458.611 ±   155324.629  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 1024                     NEW_ARRAY  thrpt    3         1.899 ±        0.002  ops/s\r\nSnappyDirectBenchmark.encode                                 1024  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   2287621.703 ±   215238.310  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                 1024  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.899 ±        0.004  ops/s\r\nSnappyDirectBenchmark.encode                                  512                     NEW_ARRAY  thrpt    3   3039307.093 ±    54345.718  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  512                     NEW_ARRAY  thrpt    3         1.799 ±        0.001  ops/s\r\nSnappyDirectBenchmark.encode                                  512  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   4321904.402 ±   295391.220  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  512  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.799 ±        0.007  ops/s\r\nSnappyDirectBenchmark.encode                                  256                     NEW_ARRAY  thrpt    3   7610669.300 ±   983826.483  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  256                     NEW_ARRAY  thrpt    3         1.599 ±        0.001  ops/s\r\nSnappyDirectBenchmark.encode                                  256  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3   6392198.197 ± 14266003.360  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  256  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.599 ±        0.001  ops/s\r\nSnappyDirectBenchmark.encode                                  128                     NEW_ARRAY  thrpt    3  14527503.788 ±   118455.934  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  128                     NEW_ARRAY  thrpt    3         1.199 ±        0.001  ops/s\r\nSnappyDirectBenchmark.encode                                  128  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3  14551592.183 ±   158079.530  ops/s\r\nSnappyDirectBenchmark.encode:compressedRatio                  128  FAST_THREAD_LOCAL_ARRAY_FILL  thrpt    3         1.199 ±        0.001  ops/s\r\n```\r\n\r\nI thought of using a system property because there seems to be a slight regression (between the error margin) when `bufferSizeInBytes` = 256. I need to investigate it further but I thought it was a good idea to open a PR to trigger the discussion about the implementation. In general it seems to be a good improvement but it's safer to put it behind a system property in order for the users to test it first\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1976922825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1976953922","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1976953922","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1976953922,"node_id":"IC_kwDOABA-c8511exC","user":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T16:18:15Z","updated_at":"2024-03-04T17:02:41Z","body":"Please @lucamolteni can you share something using https://jmh.morethan.io/ charts to compare the 2 runs? \r\nIt would help to visualize what's going on and where :pray:\r\n\r\nAdditionally, I would just report the `fast thread local` ones given that is the most common use case we optimize for, which would reduce the numbers to look at\r\n\r\n> thought of using a system property because there seems to be a slight regression (between the error margin) when bufferSizeInBytes = 256. I need to investigate it further\r\n\r\nI suggest to look at https://www.opsian.com/blog/jvms-allocateprefetch-options/\r\nwhich show that 4 (`AllocatePrefetchLines`) * 64 bytes (`AllocatePrefetchStepSize`) = 256 `bytes` are prefetched - and this would impact the table allocation, mostly (if no thread local is used)\r\n\r\n*NOTE*: search for `AllocatePrefetch` at https://chriswhocodes.com/oracle_jdk17_options.html as well\r\n\r\n![image](https://github.com/netty/netty/assets/13125299/bfa531b9-2d8f-44a1-b7c3-683bf11c4634)\r\n\r\nYou can both `-prof perfasm -prof perfnorm` and compare cache misses by disabling prefetching (`-XX:AllocatePrefetchStyle=0`) or playing with `AllocatePrefetchLines` to extend it beyond 4 cache-lines (or reduce it).\r\n\r\nWith x86 the math is easy, with ARM i have no idea...\r\n\r\n\r\n\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1976953922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12001562606,"node_id":"MEE_lADOABA-c85-j8rnzwAAAALLWU_u","url":"https://api.github.com/repos/netty/netty/issues/events/12001562606","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-03-04T16:18:16Z","performed_via_github_app":null},{"id":12001562621,"node_id":"SE_lADOABA-c85-j8rnzwAAAALLWU_9","url":"https://api.github.com/repos/netty/netty/issues/events/12001562621","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-03-04T16:18:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1977057390","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1977057390","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1977057390,"node_id":"IC_kwDOABA-c85114Bu","user":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T17:02:56Z","updated_at":"2024-03-04T17:02:56Z","body":"<img width=\"1150\" alt=\"Screenshot 2024-03-04 at 18 01 49\" src=\"https://github.com/netty/netty/assets/454752/2c4daf4c-c0aa-418c-96d5-5e76917e9cc5\">\r\n\r\nThis time the regression was on `128`, but I'm not using FastThreads here. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1977057390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/netty/netty/issues/comments/1977058813","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-1977058813","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":1977058813,"node_id":"IC_kwDOABA-c85114X9","user":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T17:03:37Z","updated_at":"2024-03-04T17:04:23Z","body":"> This time the regression was on 128, but I'm not using FastThreads here\r\n\r\nWhich table size would have been? consider that a `short` is 2 bytes.\r\nWhich translates that something between 0 ->  256 bytes benefit from prefetching, on x86","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/1977058813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"franz1981","id":13125299,"node_id":"MDQ6VXNlcjEzMTI1Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/13125299?v=4","gravatar_id":"","url":"https://api.github.com/users/franz1981","html_url":"https://github.com/franz1981","followers_url":"https://api.github.com/users/franz1981/followers","following_url":"https://api.github.com/users/franz1981/following{/other_user}","gists_url":"https://api.github.com/users/franz1981/gists{/gist_id}","starred_url":"https://api.github.com/users/franz1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/franz1981/subscriptions","organizations_url":"https://api.github.com/users/franz1981/orgs","repos_url":"https://api.github.com/users/franz1981/repos","events_url":"https://api.github.com/users/franz1981/events{/privacy}","received_events_url":"https://api.github.com/users/franz1981/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/netty/netty/issues/comments/2007292591","html_url":"https://github.com/netty/netty/issues/13826#issuecomment-2007292591","issue_url":"https://api.github.com/repos/netty/netty/issues/13826","id":2007292591,"node_id":"IC_kwDOABA-c853pNqv","user":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-19T14:13:01Z","updated_at":"2024-03-19T14:13:01Z","body":"> > This time the regression was on 128, but I'm not using FastThreads here\r\n> \r\n> Which table size would have been? consider that a `short` is 2 bytes. Which translates that something between 0 -> 256 bytes benefit from prefetching, on x86\r\n\r\nwith bufferSizeInBytes=128 the hash table size will be 128","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/netty/netty/issues/comments/2007292591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12170316177,"node_id":"REFE_lADOABA-c85-j8rnzwAAAALVaEmR","url":"https://api.github.com/repos/netty/netty/issues/events/12170316177","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"02800e0c54910c54d4ab52f2d25fda29fc4200c4","commit_url":"https://api.github.com/repos/lucamolteni/netty/commits/02800e0c54910c54d4ab52f2d25fda29fc4200c4","created_at":"2024-03-19T14:18:37Z","performed_via_github_app":null},{"id":12202102318,"node_id":"REFE_lADOABA-c85-j8rnzwAAAALXTU4u","url":"https://api.github.com/repos/netty/netty/issues/events/12202102318","actor":{"login":"lucamolteni","id":454752,"node_id":"MDQ6VXNlcjQ1NDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/454752?v=4","gravatar_id":"","url":"https://api.github.com/users/lucamolteni","html_url":"https://github.com/lucamolteni","followers_url":"https://api.github.com/users/lucamolteni/followers","following_url":"https://api.github.com/users/lucamolteni/following{/other_user}","gists_url":"https://api.github.com/users/lucamolteni/gists{/gist_id}","starred_url":"https://api.github.com/users/lucamolteni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucamolteni/subscriptions","organizations_url":"https://api.github.com/users/lucamolteni/orgs","repos_url":"https://api.github.com/users/lucamolteni/repos","events_url":"https://api.github.com/users/lucamolteni/events{/privacy}","received_events_url":"https://api.github.com/users/lucamolteni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"17c6b0155cd6860e55e66b708c6d9c00bdb600d5","commit_url":"https://api.github.com/repos/lucamolteni/netty/commits/17c6b0155cd6860e55e66b708c6d9c00bdb600d5","created_at":"2024-03-21T14:48:13Z","performed_via_github_app":null},{"id":12280884405,"node_id":"CE_lADOABA-c85-j8rnzwAAAALb_2y1","url":"https://api.github.com/repos/netty/netty/issues/events/12280884405","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-28T12:40:05Z","state_reason":null,"performed_via_github_app":null},{"id":12280884549,"node_id":"REFE_lADOABA-c85-j8rnzwAAAALb_21F","url":"https://api.github.com/repos/netty/netty/issues/events/12280884549","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"314d59b07ff028feef540bc532c1fe00f09ce8e9","commit_url":"https://api.github.com/repos/netty/netty/commits/314d59b07ff028feef540bc532c1fe00f09ce8e9","created_at":"2024-03-28T12:40:06Z","performed_via_github_app":null},{"id":12281000137,"node_id":"REFE_lADOABA-c85-j8rnzwAAAALcATDJ","url":"https://api.github.com/repos/netty/netty/issues/events/12281000137","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"735b39b2c0df79573b76e5d14b8677306d46fe53","commit_url":"https://api.github.com/repos/netty/netty/commits/735b39b2c0df79573b76e5d14b8677306d46fe53","created_at":"2024-03-28T12:47:56Z","performed_via_github_app":null},{"id":12281002687,"node_id":"MIE_lADOABA-c85-j8rnzwAAAALcATq_","url":"https://api.github.com/repos/netty/netty/issues/events/12281002687","actor":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-03-28T12:48:09Z","milestone":{"title":"4.1.109.Final"},"performed_via_github_app":null}]