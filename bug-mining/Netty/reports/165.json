{"url":"https://api.github.com/repos/netty/netty/issues/10837","repository_url":"https://api.github.com/repos/netty/netty","labels_url":"https://api.github.com/repos/netty/netty/issues/10837/labels{/name}","comments_url":"https://api.github.com/repos/netty/netty/issues/10837/comments","events_url":"https://api.github.com/repos/netty/netty/issues/10837/events","html_url":"https://github.com/netty/netty/issues/10837","id":756262154,"node_id":"MDU6SXNzdWU3NTYyNjIxNTQ=","number":10837,"title":"Blocking call found with Spring Webflux and r2dbc-mysql driver.","user":{"login":"theakshaypilania","id":28848612,"node_id":"MDQ6VXNlcjI4ODQ4NjEy","avatar_url":"https://avatars.githubusercontent.com/u/28848612?v=4","gravatar_id":"","url":"https://api.github.com/users/theakshaypilania","html_url":"https://github.com/theakshaypilania","followers_url":"https://api.github.com/users/theakshaypilania/followers","following_url":"https://api.github.com/users/theakshaypilania/following{/other_user}","gists_url":"https://api.github.com/users/theakshaypilania/gists{/gist_id}","starred_url":"https://api.github.com/users/theakshaypilania/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/theakshaypilania/subscriptions","organizations_url":"https://api.github.com/users/theakshaypilania/orgs","repos_url":"https://api.github.com/users/theakshaypilania/repos","events_url":"https://api.github.com/users/theakshaypilania/events{/privacy}","received_events_url":"https://api.github.com/users/theakshaypilania/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-12-03T14:49:02Z","updated_at":"2020-12-07T07:06:22Z","closed_at":"2020-12-07T07:06:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Overview\r\nHi, \r\nSo I am using Spring Webflux 5.3.1(which internally uses Netty) and I am integrating it with a MySql R2DBC driver(r2dbc-mysql) to make a reactive application. \r\nIt works fine and everything looks good.\r\nBut when I tried to use BlockHound(a tool created by the Spring team to detect blocking calls), to make sure that my API is non-blocking end-to-end but it shows that there is a blocking call when I installed BlockHound.\r\n\r\n### Expected behavior\r\nIt should have run smoothly with/without BlockHound.\r\n\r\n### Actual behavior\r\nBlockHound says that there is a blocking call. PFB the full stack trace and below it the part of stack trace where block hound tells the blocking call is.\r\n```\r\n2020-12-03 15:24:23,442 INFO  [main] o.s.b.w.e.n.NettyWebServer:109:[, ] - Netty started on port(s): 8080\r\n2020-12-03 15:24:23,461 INFO  [main] c.m.d.DdReactiveApplication:61:[, ] - Started DdReactiveApplication in 3.946 seconds (JVM running for 4.569)\r\n2020-12-03 15:24:35,151 ERROR [reactor-tcp-epoll-2] o.s.b.a.w.r.e.AbstractErrorWebExceptionHandler:122:[, ] - [f05df953-2]  500 Server Error for HTTP GET \"/getAllExpFromDB\"\r\norg.springframework.dao.DataAccessResourceFailureException: executeMany; SQL [SELECT dd_reactive.* FROM dd_reactive]; null; nested exception is dev.miku.r2dbc.mysql.client.MySqlConnectionException\r\n\tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:226)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Handler com.mmt.ddreactive.controller.DDController#getAllExperimentsFromDB(String) [DispatcherHandler]\r\n\t|_ checkpoint ⇢ HTTP GET \"/getAllExpFromDB\" [ExceptionHandlingWebHandler]\r\nStack trace:\r\n\t\tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:226)\r\n\t\tat org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:147)\r\n\t\tat reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:6579)\r\n\t\tat reactor.core.publisher.Flux.lambda$onErrorResume$29(Flux.java:6632)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\t\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:411)\r\n\t\tat reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:488)\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2018)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:259)\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2018)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.onComplete(Operators.java:1826)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenAcceptInner.onComplete(MonoIgnoreThen.java:323)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.onComplete(Operators.java:1826)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenAcceptInner.onComplete(MonoIgnoreThen.java:323)\r\n\t\tat reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:624)\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:135)\r\n\t\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\t\tat reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:736)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:154)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:154)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:83)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132)\r\n\t\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\r\n\t\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:259)\r\n\t\tat reactor.core.publisher.Operators.error(Operators.java:196)\r\n\t\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:52)\r\n\t\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\t\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:377)\r\n\t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:841)\r\n\t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:607)\r\n\t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:587)\r\n\t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onError(FluxFlatMap.java:450)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132)\r\n\t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.signalAsyncError(FluxWindowPredicate.java:341)\r\n\t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.checkTerminated(FluxWindowPredicate.java:523)\r\n\t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drainLoop(FluxWindowPredicate.java:475)\r\n\t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drain(FluxWindowPredicate.java:419)\r\n\t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onError(FluxWindowPredicate.java:278)\r\n\t\tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onError(FluxHandleFuseable.java:219)\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\r\n\t\tat dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onError(DiscardOnCancelSubscriber.java:87)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:202)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903)\r\n\t\tat reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:535)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:402)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitError(EmitterProcessor.java:238)\r\n\t\tat reactor.core.publisher.InternalManySink.emitError(InternalManySink.java:98)\r\n\t\tat reactor.core.publisher.EmitterProcessor.onError(EmitterProcessor.java:227)\r\n\t\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.drainError(ReactorNettyClient.java:254)\r\n\t\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.resumeError(ReactorNettyClient.java:214)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:447)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:256)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:435)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:467)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1151)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:752)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\t\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\t\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\t\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\t\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: dev.miku.r2dbc.mysql.client.MySqlConnectionException: null\r\n\tat dev.miku.r2dbc.mysql.client.ClientExceptions.wrap(ClientExceptions.java:47)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ SQL \"SELECT dd_reactive.* FROM dd_reactive\" [DatabaseClient]\r\nStack trace:\r\n\t\tat dev.miku.r2dbc.mysql.client.ClientExceptions.wrap(ClientExceptions.java:47)\r\n\t\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.resumeError(ReactorNettyClient.java:214)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:447)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:256)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:435)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:467)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1151)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:752)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\t\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\t\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\t\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\t\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\t\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n\tat java.io.FileInputStream.readBytes(FileInputStream.java)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:255)\r\n\tat sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:424)\r\n\tat sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:526)\r\n\tat sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:545)\r\n\tat sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\r\n\tat sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\r\n\tat java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\n\tat sun.security.ssl.CipherBox.createExplicitNonce(CipherBox.java:1025)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:287)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:225)\r\n\tat sun.security.ssl.EngineWriter.writeRecord(EngineWriter.java:186)\r\n\tat sun.security.ssl.SSLEngineImpl.writeRecord(SSLEngineImpl.java:1281)\r\n\tat sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1252)\r\n\tat sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1165)\r\n\tat javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1086)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:843)\r\n\tat io.netty.handler.ssl.SslHandler.wrapAndFlush(SslHandler.java:811)\r\n\tat io.netty.handler.ssl.SslHandler.flush(SslHandler.java:792)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2020-12-03 15:24:35,195 WARN  [reactor-tcp-epoll-2] d.m.r.m.c.ReactorNettyClient:259:[, ] - Connection has been closed by peer\r\n2020-12-03 15:24:35,196 ERROR [reactor-tcp-epoll-2] r.c.p.Operators:319:[, ] - Operator called default onErrorDropped\r\ndev.miku.r2dbc.mysql.client.MySqlConnectionClosedException: Connection unexpectedly closed\r\n\tat dev.miku.r2dbc.mysql.client.ClientExceptions.unexpectedClosed(ClientExceptions.java:32)\r\n\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:260)\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:264)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2018)\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:366)\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onComplete(FluxConcatMap.java:275)\r\n\tat reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:541)\r\n\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:402)\r\n\tat reactor.core.publisher.EmitterProcessor.tryEmitComplete(EmitterProcessor.java:221)\r\n\tat reactor.core.publisher.EmitterProcessor.onComplete(EmitterProcessor.java:212)\r\n\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.resumeError(ReactorNettyClient.java:215)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:447)\r\n\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:256)\r\n\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:435)\r\n\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:467)\r\n\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1151)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:752)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2020-12-03 15:24:35,197 ERROR [reactor-tcp-epoll-2] d.m.r.m.c.ReactorNettyClient:217:[, ] - Error: Blocking call! java.io.FileInputStream#readBytes\r\nreactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n\tat java.io.FileInputStream.readBytes(FileInputStream.java)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:255)\r\n\tat sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:424)\r\n\tat sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:526)\r\n\tat sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:545)\r\n\tat sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\r\n\tat sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\r\n\tat java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\n\tat sun.security.ssl.CipherBox.createExplicitNonce(CipherBox.java:1025)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:287)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:225)\r\n\tat sun.security.ssl.EngineWriter.writeRecord(EngineWriter.java:186)\r\n\tat sun.security.ssl.SSLEngineImpl.writeRecord(SSLEngineImpl.java:1281)\r\n\tat sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1252)\r\n\tat sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1165)\r\n\tat javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1086)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:843)\r\n\tat io.netty.handler.ssl.SslHandler.wrapAndFlush(SslHandler.java:811)\r\n\tat io.netty.handler.ssl.SslHandler.flush(SslHandler.java:792)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2020-12-03 15:24:35,207 ERROR [reactor-tcp-epoll-2] r.c.p.Operators:319:[, ] - Operator called default onErrorDropped\r\ndev.miku.r2dbc.mysql.client.MySqlConnectionClosedException: Connection closed\r\n\tat dev.miku.r2dbc.mysql.client.ClientExceptions.expectedClosed(ClientExceptions.java:36)\r\n\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:262)\r\n\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.access$400(ReactorNettyClient.java:53)\r\n\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSubscriber.onComplete(ReactorNettyClient.java:306)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2018)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.onComplete(Operators.java:1826)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenAcceptInner.onComplete(MonoIgnoreThen.java:323)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:135)\r\n\tat reactor.netty.FutureMono$DeferredFutureMono.subscribe(FutureMono.java:131)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:154)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:447)\r\n\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:256)\r\n\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:435)\r\n\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:467)\r\n\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1151)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:752)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:439)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:784)\r\n\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:732)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:240)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:206)\r\n\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:197)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onComplete(LargeMessageSlicer.java:99)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2348)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeMessageSlicer.onSubscribe(LargeMessageSlicer.java:48)\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n\tat dev.miku.r2dbc.mysql.message.client.LargeClientMessage.lambda$encode$0(LargeClientMessage.java:52)\r\n\tat reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:94)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8095)\r\n\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.write(MessageDuplexCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nPart of stack trace where blockhound found the blocking call:\r\n\r\n```\r\n2020-12-03 15:24:35,197 ERROR [reactor-tcp-epoll-2] d.m.r.m.c.ReactorNettyClient:217:[, ] - Error: Blocking call! java.io.FileInputStream#readBytes\r\nreactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n\tat java.io.FileInputStream.readBytes(FileInputStream.java)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:255)\r\n\tat sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:424)\r\n\tat sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:526)\r\n\tat sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:545)\r\n\tat sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\r\n\tat sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\r\n\tat java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\n\tat sun.security.ssl.CipherBox.createExplicitNonce(CipherBox.java:1025)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:287)\r\n\tat sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:225)\r\n\tat sun.security.ssl.EngineWriter.writeRecord(EngineWriter.java:186)\r\n\tat sun.security.ssl.SSLEngineImpl.writeRecord(SSLEngineImpl.java:1281)\r\n\tat sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1252)\r\n\tat sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1165)\r\n\tat javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1086)\r\n\tat io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:843)\r\n\tat io.netty.handler.ssl.SslHandler.wrapAndFlush(SslHandler.java:811)\r\n\tat io.netty.handler.ssl.SslHandler.flush(SslHandler.java:792)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat dev.miku.r2dbc.mysql.client.WriteSubscriber.onComplete(WriteSubscriber.java:72)\r\n```\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI made a few DB calls here and there and was able to produce the blockhound exception, an overview of what I did was, first I hit an API which fetched few rows from a table from DB using the @Query(\"select * from dd_reactive where id in (:listOfIds)\") (without blockhound) this works fine, then I hit another API which made another call to DB to fetch all the rows of the table (with blockhound), it breaks here with the stack trace pasted above.\r\n\r\n### Minimal yet complete reproducer code (or URL to code)\r\nIf needed I can provide the code later on.\r\n\r\n### Netty version\r\n4.1.54.Final\r\n### JVM version (e.g. `java -version`)\r\nOracle JDK\r\njava version \"1.8.0_231\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_231-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)\r\n\r\n### OS version (e.g. `uname -a`)\r\nLinux mmt-ubt-8341 5.4.0-53-generic #59~18.04.1-Ubuntu SMP Wed Oct 21 12:14:56 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**P.S.: First I thought it was due to the R2DBC MySQL driver(r2dbc-mysql) I was using and I raised it in their github issues, but they suggested me that it isn't on their side but on Netty's side. Issue Link: https://github.com/mirromutth/r2dbc-mysql/issues/153**","closed_by":{"login":"normanmaurer","id":439362,"node_id":"MDQ6VXNlcjQzOTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/439362?v=4","gravatar_id":"","url":"https://api.github.com/users/normanmaurer","html_url":"https://github.com/normanmaurer","followers_url":"https://api.github.com/users/normanmaurer/followers","following_url":"https://api.github.com/users/normanmaurer/following{/other_user}","gists_url":"https://api.github.com/users/normanmaurer/gists{/gist_id}","starred_url":"https://api.github.com/users/normanmaurer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/normanmaurer/subscriptions","organizations_url":"https://api.github.com/users/normanmaurer/orgs","repos_url":"https://api.github.com/users/normanmaurer/repos","events_url":"https://api.github.com/users/normanmaurer/events{/privacy}","received_events_url":"https://api.github.com/users/normanmaurer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/netty/netty/issues/10837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/netty/netty/issues/10837/timeline","performed_via_github_app":null,"state_reason":"completed"}