<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:44:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-266] FTPClient.listFiles() corrupts file name in certain circumstances</title>
                <link>https://issues.apache.org/jira/browse/NET-266</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;A directory on the FTP server contains the following files:&lt;br/&gt;
abc def ghi.csv&lt;br/&gt;
123 abc ghi.csv&lt;br/&gt;
123 abc 456.csv&lt;br/&gt;
123 456 abc.csv&lt;/p&gt;

&lt;p&gt;When calling FTPClient.listFiles on the above directory the filenames returned in the FTPFile[] are as follows:&lt;br/&gt;
abc def ghi.csv&lt;br/&gt;
123 abc ghi.csv&lt;br/&gt;
123 abc 456.csv&lt;br/&gt;
abc.csv&lt;/p&gt;

&lt;p&gt;As this shows, the filename 123 456 abc.csv is being truncated and returned as abc.csv.  This appears to be the case for all filenames that follow a pattern of &apos;number group&apos; &apos;space&apos; &apos;number group&apos; &apos;space&apos; &apos;character group&apos;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista client running JDK 1.6.0_12&lt;br/&gt;
FTP server on Solaris 10&lt;/p&gt;</environment>
        <key id="12417286">NET-266</key>
            <summary>FTPClient.listFiles() corrupts file name in certain circumstances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="soarsi">Iain Soars</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Mar 2009 14:42:01 +0000</created>
                <updated>Fri, 15 Oct 2010 09:20:19 +0000</updated>
                            <resolved>Fri, 3 Apr 2009 20:38:05 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12683647" author="rwinston@eircom.net" created="Thu, 19 Mar 2009 22:09:20 +0000"  >&lt;p&gt;Hi Iain&lt;/p&gt;

&lt;p&gt;Can you give me a full FTP listing? This seems to work for me, however it may be some unlikely combination of group names or other fields which gives this result. For instance:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFilenamesWithEmbeddedNumbers() {
		FTPFile f = getParser().parseFTPEntry(&lt;span class=&quot;code-quote&quot;&gt;&quot;-rw-r--r--   1 root     root       111325 Apr 27  2001 123 456 abc.csv&quot;&lt;/span&gt;);
		assertEquals(f.getName(), &lt;span class=&quot;code-quote&quot;&gt;&quot;123 456 abc.csv&quot;&lt;/span&gt;);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;works as expected.&lt;/p&gt;</comment>
                            <comment id="12683904" author="soarsi" created="Fri, 20 Mar 2009 15:10:28 +0000"  >&lt;p&gt;The parsing of the raw listing seems to be a bit odd.  This code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FTPFile[] files = ftp.listFiles(&lt;span class=&quot;code-quote&quot;&gt;&quot;123 456 abc.csv&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FTPFile file : files) {
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getRawListing());
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getName());
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getUser());
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getGroup());
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getSize());
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file.getTimestamp());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;produces this output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-rw-rw-rw-   1 user group 5840 Mar 19 09:34 123 456 abc.csv
abc.csv
user
group 5840 Mar
19
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12688165" author="rwinston@eircom.net" created="Sun, 22 Mar 2009 19:40:20 +0000"  >&lt;p&gt;This is strange - using the exact pattern that you provided, I get correct results, at least using the Unix FTPEntryParser. The difference may be in the fact that you are calling &lt;em&gt;listFiles()&lt;/em&gt; on the filename directly, which may be invoking an incorrect parser type based on the system name.&lt;/p&gt;

&lt;p&gt;Can you try with the 2.1 snapshot? You&apos;ll find it here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/~rwinston/commons-net-2.1-RC/commons-net-ftp-2.1-SNAPSHOT.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~rwinston/commons-net-2.1-RC/commons-net-ftp-2.1-SNAPSHOT.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If that doesnt work, then if you could attach a full command log - I can show you how to do this, if youre not sure (Its in the Commons::Net FAQ).&lt;/p&gt;

&lt;p&gt;Thanks Iain.&lt;/p&gt;</comment>
                            <comment id="12695350" author="soarsi" created="Fri, 3 Apr 2009 12:05:40 +0000"  >&lt;p&gt;OK, using exactly the same code as above but with the 2.1 snapshot I now get the following output:&lt;/p&gt;

&lt;p&gt;&lt;del&gt;rw-rw-rw&lt;/del&gt;   1 user group 5840 Mar 19 09:34 123 456 abc.csv&lt;br/&gt;
123 456 abc.csv&lt;br/&gt;
user&lt;br/&gt;
group&lt;br/&gt;
5840&lt;br/&gt;
java.util.GregorianCalendar[time=?,areFieldsSet=false,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Europe/London&quot;,offset=0,dstSavings=3600000,useDaylight=true,transitions=242,lastRule=java.util.SimpleTimeZone&lt;span class=&quot;error&quot;&gt;&amp;#91;id=Europe/London,offset=0,dstSavings=3600000,useDaylight=true,startYear=0,startMode=2,startMonth=2,startDay=-1,startDayOfWeek=1,startTime=3600000,startTimeMode=2,endMode=2,endMonth=9,endDay=-1,endDayOfWeek=1,endTime=3600000,endTimeMode=2&amp;#93;&lt;/span&gt;],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2009,MONTH=2,WEEK_OF_YEAR=12,WEEK_OF_MONTH=3,DAY_OF_MONTH=19,DAY_OF_YEAR=78,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=9,HOUR_OF_DAY=9,MINUTE=34,SECOND=0,MILLISECOND=0,ZONE_OFFSET=3600000,DST_OFFSET=0]&lt;/p&gt;</comment>
                            <comment id="12695564" author="rwinston@eircom.net" created="Fri, 3 Apr 2009 20:37:56 +0000"  >&lt;p&gt;Iain&lt;/p&gt;

&lt;p&gt;thanks for checking this with 2.1. That looks a lot better. Unless there are aby objections, I&apos;m marking as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>154576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l5q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>