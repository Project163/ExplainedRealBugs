<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:44:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-397] FTPSClient does not handle AUTH or ADAT and only partially handles PBSZ. FTPSCommand should be deprecated </title>
                <link>https://issues.apache.org/jira/browse/NET-397</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;FTPSClient does not provide any code to handle AUTH or ADAT, and does not provide support for handling a reduced buffer size provided by the server.&lt;/p&gt;

&lt;p&gt;FTPSCommand defines int values for AUTH and ADAT, but if the integer values are used by client code, the value will be passed to FTPClient, which uses its own array of command strings, and FTPSCommand.AUTH will translate to &quot;USER&quot; and ADAT =&amp;gt; &quot;PASS&quot;, similarly for PBSZ, PROT and CCC.&lt;/p&gt;

&lt;p&gt;These commands all need special handling, so should be dealt with by FTPSClient only.&lt;br/&gt;
FTPSClient can override the sendCommand(int) and sendCommand(int, String) methods in FTPClient which will help prevent problems.&lt;br/&gt;
Since most of these commands need additional special handling, there should be execNAME() methods for each.&lt;br/&gt;
FTPSCommand should be deprecated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502796">NET-397</key>
            <summary>FTPSClient does not handle AUTH or ADAT and only partially handles PBSZ. FTPSCommand should be deprecated </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Mar 2011 03:15:32 +0000</created>
                <updated>Sat, 4 Jun 2011 19:26:29 +0000</updated>
                            <resolved>Thu, 31 Mar 2011 23:38:40 +0000</resolved>
                                                    <fixVersion>3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13014024" author="bogdro" created="Thu, 31 Mar 2011 15:36:36 +0000"  >&lt;p&gt;This patch adds the support for 5 missing commands from RFC2228: AUTH, ADAT, MIC, ENC and CONF. PROT, CCC and PBSZ were already supported. The patch also adds a convenience method for CCC, so that the overridden sendCommand (which looks for CCC) can probably be removed.&lt;/p&gt;

&lt;p&gt;The user still has to provide the data and potentially browse the replies if necessary, but base64-encoding is done automatically. There also is a method for getting ADAT data from the response.&lt;/p&gt;

&lt;p&gt;FTPSCommand could be removed or a new method, say sendFTPSCommand(), added to FTPSClient. This patch does not provide sendFTPSCommand() or other overridden versions of sendCommand() in case FTPSCommand is removed.&lt;/p&gt;

&lt;p&gt;Don&apos;t know how to fix PBSZ. Setting the buffer size in the Socket is probably not enough?&lt;/p&gt;</comment>
                            <comment id="13014051" author="sebb@apache.org" created="Thu, 31 Mar 2011 16:16:32 +0000"  >&lt;p&gt;Thanks again!&lt;/p&gt;

&lt;p&gt;Cannot remove FTPSCommand without breaking binary compat. and I don&apos;t want to do that.&lt;/p&gt;

&lt;p&gt;I&apos;ve just realised that overriding sendCommand(int) and sendCommand(int, String) cannot be made to work properly, as it cannot distinguish between int values from FTPCommand and int values from FTPSCommand. For the values that overlap, there&apos;s no way to know what the caller intended. I suppose the method could reject all duplicate values, but that might break existing code (which uses the FTPCommand strings). &lt;span class=&quot;error&quot;&gt;&amp;#91;Had enums been used, this would not have been an issue&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Good suggestion re sendFTPSCommand(); that would solve the problem of differentiating the different int ranges. &lt;br/&gt;
However I think it might make the API more confusing, so I think deprecation is better. If FTPSClient provides exec() methods for all the FTPS commands there is then no need to use the integers (and anyway, FTPSCommand.getCommand() can be used to convert the int to String)&lt;/p&gt;

&lt;p&gt;I&apos;ve no idea about PBSZ either, beyond extracting the minimum value for use by client code. Could start with that.&lt;/p&gt;</comment>
                            <comment id="13014292" author="sebb@apache.org" created="Thu, 31 Mar 2011 23:38:40 +0000"  >&lt;p&gt;Applied patch with a few changes. Moved isProtectedReplyCode() to FTPReply class; made public constants private as users should not be encouraged to issue the commands directly.&lt;br/&gt;
Had to keep sendCommand() override for backward compat, which means execCCC now delegates to it (via FTP class)&lt;br/&gt;
Added parsePBSZ method to handle PBSZ reply.&lt;/p&gt;</comment>
                            <comment id="13014783" author="bogdro" created="Fri, 1 Apr 2011 18:26:32 +0000"  >&lt;p&gt;Deprecating FTPSCommand is probably a good idea, because commands shouldn&apos;t be spread among many files. But before the file gets removed, how about increasing the integer constants somewhere over the number of commands in FTPCOmmand? Like AUTH=100, ADAT=101 and so on. This would no more make conflicts. Then change the command array in FTPSCommand to have the right number of null entries before the right commands (static initializer block). And if the index given to getCommand() is too low, FTPSCommand could even delegate the call to FTPCommand.&lt;/p&gt;

&lt;p&gt;You&apos;re right about sendCommand() not being able to distinguish what to use, but the new indices in FTPSCommand would fix this. Yes, if had been an enum from the beginning, there wouldn&apos;t be problems like this, because the sendCommand() methods would have different signatures. But still either the commands would be spread among 2 files or all would be in FTPCommand and the plain FTPClient would now have to accept FTP-only commands and FTPSClient - FTPS commands (and delegate the rest to FTPClient).&lt;/p&gt;

&lt;p&gt;Now that we have execXXX() methods, FTPSCommand is unused.&lt;/p&gt;

&lt;p&gt;Just parsing the PBSZ reply is still a good idea - the user can call setSendBufferSize()/setReceiveBufferSize() if this is the right thing to do.&lt;/p&gt;

&lt;p&gt;Although isProtectedReplyCode() is FTPS-specific, it&apos;s a good idea that it&apos;s now in FTPReply - everything in one place.&lt;/p&gt;

&lt;p&gt;I keep command names public, so the users can send them manually, if they want (like when they think Base64 or something else is buggy), but otherwise there are no other reasons to do this.&lt;/p&gt;

&lt;p&gt;No other issues right now. If I find something about PBSZ that would be worth implementing separately, I&apos;ll let you know.&lt;/p&gt;</comment>
                            <comment id="13014827" author="sebb@apache.org" created="Fri, 1 Apr 2011 21:11:52 +0000"  >&lt;p&gt;Cannot change the values for the FTPSCommand entries now, as that&apos;s not backwards compatible, though that would have been a possible &quot;solution&quot; originally.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12475111" name="ftps-rfc2228.diff" size="6291" author="bogdro" created="Thu, 31 Mar 2011 15:36:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kvdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>