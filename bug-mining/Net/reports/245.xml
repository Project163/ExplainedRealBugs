<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-641] SubnetUtils.SubnetInfo.isInRange(&quot;0.0.0.0&quot;) returns true for CIDR/31, 32</title>
                <link>https://issues.apache.org/jira/browse/NET-641</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;Code:&lt;br/&gt;
import org.apache.commons.net.util.SubnetUtils;&lt;/p&gt;

&lt;p&gt;public class A {&lt;br/&gt;
  public static void main(String[] args) &lt;/p&gt;
{
    System.out.println(new SubnetUtils(&quot;192.168.1.0/30&quot;).getInfo().isInRange(&quot;0.0.0.0&quot;));
    System.out.println(new SubnetUtils(&quot;192.168.1.0/31&quot;).getInfo().isInRange(&quot;0.0.0.0&quot;));
    System.out.println(new SubnetUtils(&quot;192.168.1.0/32&quot;).getInfo().isInRange(&quot;0.0.0.0&quot;));
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Result:&lt;br/&gt;
false&lt;br/&gt;
true&lt;br/&gt;
true&lt;/p&gt;

&lt;p&gt;Expected:&lt;br/&gt;
false&lt;br/&gt;
false&lt;br/&gt;
false&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows; JDK8; common-net 3.6&lt;/p&gt;</environment>
        <key id="13085780">NET-641</key>
            <summary>SubnetUtils.SubnetInfo.isInRange(&quot;0.0.0.0&quot;) returns true for CIDR/31, 32</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pin_ptr">pin_ptr</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Jul 2017 16:55:28 +0000</created>
                <updated>Thu, 6 Aug 2020 12:27:34 +0000</updated>
                            <resolved>Fri, 4 Aug 2017 11:39:12 +0000</resolved>
                                    <version>3.6</version>
                                    <fixVersion>3.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16112902" author="sebb@apache.org" created="Thu, 3 Aug 2017 15:14:34 +0000"  >&lt;p&gt;I agree; 0.0.0.0 cannot be in range for any address spec.&lt;/p&gt;</comment>
                            <comment id="16112914" author="sebb@apache.org" created="Thu, 3 Aug 2017 15:19:58 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1804012&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1804012&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-641&quot; title=&quot;SubnetUtils.SubnetInfo.isInRange(&amp;quot;0.0.0.0&amp;quot;) returns true for CIDR/31, 32&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-641&quot;&gt;&lt;del&gt;NET-641&lt;/del&gt;&lt;/a&gt; SubnetUtils.SubnetInfo.isInRange(&quot;0.0.0.0&quot;) returns true for CIDR/31, 32&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/util/SubnetUtils.java&lt;br/&gt;
    commons/proper/net/trunk/src/test/java/org/apache/commons/net/SubnetUtilsTest.java&lt;/p&gt;</comment>
                            <comment id="16113147" author="pin_ptr" created="Thu, 3 Aug 2017 17:32:14 +0000"  >&lt;p&gt;It seems to return false to follwing code, it should be true.&lt;/p&gt;

&lt;p&gt;SubnetUtils su = new SubnetUtils(&quot;0.0.0.0/8&quot;);&lt;br/&gt;
su.setInclusiveHostCount(true);&lt;br/&gt;
su.getInfo().isInRange(&quot;0.0.0.0&quot;);&lt;/p&gt;</comment>
                            <comment id="16113157" author="pin_ptr" created="Thu, 3 Aug 2017 17:40:35 +0000"  >&lt;p&gt;My idea:&lt;/p&gt;

&lt;p&gt;public boolean isInRange(int address) { &lt;br/&gt;
    long addLong = address &amp;amp; UNSIGNED_INT_MASK;&lt;br/&gt;
    if (inclusiveHostCount) &lt;/p&gt;
{
        return networkLong() &amp;lt;= addLong &amp;amp;&amp;amp; addLong &amp;lt;= broadcastLong();
    }
&lt;p&gt; else &lt;/p&gt;
{
        return networkLong() &amp;lt; addLong &amp;amp;&amp;amp; addLong &amp;lt; broadcastLong();
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="16114271" author="sebb@apache.org" created="Fri, 4 Aug 2017 11:38:47 +0000"  >&lt;p&gt;No.&lt;/p&gt;

&lt;p&gt;If you look at the Javadoc for isInRange(String), which calls isInRange(integer), you will see that 0.0.0.0 can never be in the range because it always excludes the broadcast and network addresses.&lt;/p&gt;

&lt;p&gt;Changing that would be a change to the published API.&lt;/p&gt;</comment>
                            <comment id="16114382" author="pin_ptr" created="Fri, 4 Aug 2017 13:47:26 +0000"  >&lt;p&gt;How about 255.255.255.255 for /0 or x.x.x.0/x.x.x.255 for /24 if isInclusiveHostCount is true?&lt;/p&gt;</comment>
                            <comment id="16114393" author="sebb@apache.org" created="Fri, 4 Aug 2017 13:55:10 +0000"  >&lt;p&gt;isInRange ignores isInclusiveHostCount in order to do what the Javadoc says it will do.&lt;/p&gt;

&lt;p&gt;If there is a use-case for a new method that takes this into account then please raise an enhancement request.&lt;br/&gt;
Ideally with test cases.&lt;/p&gt;</comment>
                            <comment id="16114426" author="pin_ptr" created="Fri, 4 Aug 2017 14:23:16 +0000"  >&lt;p&gt;import org.apache.commons.net.util.SubnetUtils;&lt;/p&gt;

&lt;p&gt;public class B {&lt;br/&gt;
  public static void main(String[] args) &lt;/p&gt;
{
    SubnetUtils c = new SubnetUtils(&quot;192.168.1.0/24&quot;);
    System.out.println(c.getInfo().isInRange(&quot;192.168.1.0&quot;));
    System.out.println(c.getInfo().isInRange(&quot;192.168.1.255&quot;));

    c.setInclusiveHostCount(true);
    System.out.println(c.getInfo().isInRange(&quot;192.168.1.0&quot;));
    System.out.println(c.getInfo().isInRange(&quot;192.168.1.255&quot;));
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Javadoc says this code output 4x false, but commons-net 3.6&apos;s actual output is false, false, true and true.&lt;/p&gt;

&lt;p&gt;I looked through SVN log and found isInclusiveHostCount was added in r920235 (Mar 2008),&lt;br/&gt;
and then low(), high() and isInRange() changed their behavior. (because isInRange() uses low() and high())&lt;br/&gt;
In other words, isInRange never ignored isInclusiveHostCount for 9 years.&lt;/p&gt;

&lt;p&gt;I am worried that commons-net changes it&apos;s behavior only if isInclusiveHostCount is true and network address is 0.0.0.0.&lt;/p&gt;</comment>
                            <comment id="16114456" author="sebb@apache.org" created="Fri, 4 Aug 2017 14:45:31 +0000"  >&lt;p&gt;Then either the Javadoc is wrong or the code is wrong&lt;/p&gt;</comment>
                            <comment id="16114477" author="pin_ptr" created="Fri, 4 Aug 2017 15:03:55 +0000"  >&lt;p&gt;In my opinion, javadoc is wrong.&lt;/p&gt;

&lt;p&gt;It does not cause confusion if number of IP addresses that returns true when passed to isInRange() and number of IP addresses returned from getAddressCount() is always the same.&lt;br/&gt;
(Javadoc says they are differ if isInclusiveHostCount is true)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hahb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>