<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-449] listFiles bug with folder that begins with &quot;-&quot;</title>
                <link>https://issues.apache.org/jira/browse/NET-449</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;FTP Server status:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;root@xxx-srv:/data/Library# tree -A
.
&#9500;&#9472;&#9472; -dash
&#9474;   &#9500;&#9472;&#9472; -dash.txt
&#9474;   &#9500;&#9472;&#9472; file1.txt
&#9474;   &#9492;&#9472;&#9472; file2.txt
&#9492;&#9472;&#9472; test
    &#9500;&#9472;&#9472; file2.txt
    &#9492;&#9472;&#9472; file.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FTPClient ftp = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPClient();
ftp.connect(host, port);
ftp.login(login, pwd);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;PWD: &quot;&lt;/span&gt; + ftp.printWorkingDirectory());
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FTPFile[] listFiles = ftp.listFiles();
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; listFiles.length; i++) {
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;[&quot;&lt;/span&gt; + i + &lt;span class=&quot;code-quote&quot;&gt;&quot;] &quot;&lt;/span&gt; + listFiles[i]);
}

&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Files in /-dash&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FTPFile[] listFiles2 = ftp.listFiles(&lt;span class=&quot;code-quote&quot;&gt;&quot;/-dash&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; listFiles2.length; i++) {
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;[&quot;&lt;/span&gt; + i + &lt;span class=&quot;code-quote&quot;&gt;&quot;] &quot;&lt;/span&gt; + listFiles2[i]);
}

&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Files in -dash&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FTPFile[] listFiles3 = ftp.listFiles(&lt;span class=&quot;code-quote&quot;&gt;&quot;-dash&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; listFiles3.length; i++) {
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;[&quot;&lt;/span&gt; + i + &lt;span class=&quot;code-quote&quot;&gt;&quot;] &quot;&lt;/span&gt; + listFiles3[i]);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;results:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
PWD: /
[0] -dash
[1] test
Files in /-dash
[0] -dash.txt
[1] file1.txt
[2] file2.txt
Files in -dash
[0] -dash
[1] .
[2] ..
[3] test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;When listing &quot;-dash&quot;, it list the current directory instead of the destination one.&lt;br/&gt;
If I do the same test with the folder test, this time it works as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545204">NET-449</key>
            <summary>listFiles bug with folder that begins with &quot;-&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sverger">St&#233;phane Verger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2012 16:50:58 +0000</created>
                <updated>Wed, 17 Apr 2013 19:57:38 +0000</updated>
                            <resolved>Sat, 14 Jul 2012 13:23:06 +0000</resolved>
                                    <version>3.1</version>
                                    <fixVersion>3.2</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13222468" author="sebb@apache.org" created="Mon, 5 Mar 2012 17:43:12 +0000"  >&lt;p&gt;Not sure there&apos;s anything Net can do about this.&lt;/p&gt;

&lt;p&gt;The parameter to the LIST command is supposed to be a pathname, and it is up to the server to determine if it is a file or a directory.&lt;/p&gt;

&lt;p&gt;However, the &quot;-&quot; prefix is used by some servers for supporting qualifiers, e.g. -a, -l&lt;/p&gt;

&lt;p&gt;This obviously has the potential to be confused with a valid pathname.&lt;/p&gt;

&lt;p&gt;If the server fails to recognise &quot;-data&quot; as a pathname, then it seems to me that this is a bug in the server.&lt;br/&gt;
It ought to behave according to the RFCs.&lt;/p&gt;</comment>
                            <comment id="13402337" author="bogdro" created="Wed, 27 Jun 2012 16:35:59 +0000"  >&lt;p&gt;Some servers (most?) probably pass the argument to the &quot;ls&quot; command, hence the results. One workaround is provided in the listing above - use absolute paths. Another workaround is: if the path to be listed starts with a dash, prepend a &quot;./&quot; to it, but this will work only on Unix-like servers or those which implement TVFS. So, there would be need to call SYST and FEAT on every connect, but what if the server doesn&apos;t support FEAT, TVFS or SYST (or replies that it&apos;s not a Unix)?&lt;br/&gt;
I think it should be the user who should decide to use any of these workarounds (they can do it themselves), but the documentation (at least the Javadoc comment) should mention this case.&lt;/p&gt;</comment>
                            <comment id="13414394" author="sebb@apache.org" created="Sat, 14 Jul 2012 12:55:27 +0000"  >&lt;p&gt;Fix code alignment; simplify.&lt;/p&gt;</comment>
                            <comment id="13414398" author="sebb@apache.org" created="Sat, 14 Jul 2012 13:23:19 +0000"  >&lt;p&gt;Fixed by updating Javadoc.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1361541&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1361541&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-449&quot; title=&quot;listFiles bug with folder that begins with &amp;quot;-&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-449&quot;&gt;&lt;del&gt;NET-449&lt;/del&gt;&lt;/a&gt; listFiles bug with folder that begins with &quot;-&quot;. Clarify Javadoc.&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPClient.java&lt;/p&gt;</comment>
                            <comment id="13414418" author="sebb@apache.org" created="Sat, 14 Jul 2012 14:16:41 +0000"  >&lt;p&gt;Note: some servers interpret &quot;--&quot; to mean end of options.&lt;/p&gt;

&lt;p&gt;In which case, you can use:&lt;/p&gt;

&lt;p&gt;ftp.listFiles(&quot;-- -dash&quot;);&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;I added this to the Javadoc&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lpvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>