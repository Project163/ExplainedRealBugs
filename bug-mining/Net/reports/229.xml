<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-588] FTPClient.setPassiveNatWorkaround assumes host is outside site local range</title>
                <link>https://issues.apache.org/jira/browse/NET-588</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;We have a NAT firewall between two &quot;site local&quot; 10.x networks. The effect is that the FTP library tries to make data connections to the wrong host because the passive NAT workaround doesn&apos;t operate if the FTP connection is made to a &quot;site local&quot; private address and the host returned in the PASV reply is also &quot;site local&quot;.&lt;/p&gt;

&lt;p&gt;I see that Damon Dan references pretty much the exact issue within bug &lt;a href=&quot;https://issues.apache.org/jira/browse/NET-363&quot; title=&quot;Can&amp;#39;t connect to a server behind firewall in passive mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-363&quot;&gt;&lt;del&gt;NET-363&lt;/del&gt;&lt;/a&gt; when the workaround was originally introduced.&lt;/p&gt;

&lt;p&gt;Users with &quot;site local&quot; networks would be quite at liberty to subnet within the network, I guess, to suit their administrative needs, so this seems like a valid issue.&lt;/p&gt;

&lt;p&gt;Options I can see:&lt;br/&gt;
1) Include a way of forcing the workaround in place&lt;br/&gt;
2) Remove the selectivity around rewriting the host only if the PASV reply is &quot;site local&quot; and original host isn&apos;t... Issue here is around a server that has multiple endpoints for data connections?&lt;br/&gt;
3) Allow the user to specify their own data host via API&lt;br/&gt;
4) Check for whether the PASV reply address is in a different subnet to the original host we connected to and apply the workaround if so&lt;/p&gt;

&lt;p&gt;I haven&apos;t yet identified a workaround within the current code!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12945508">NET-588</key>
            <summary>FTPClient.setPassiveNatWorkaround assumes host is outside site local range</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davenice">Dave Nice</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Feb 2016 16:20:21 +0000</created>
                <updated>Tue, 14 Feb 2017 22:22:37 +0000</updated>
                            <resolved>Tue, 7 Feb 2017 20:05:00 +0000</resolved>
                                    <version>3.1</version>
                    <version>3.3</version>
                    <version>3.4</version>
                                    <fixVersion>3.6</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15721254" author="nexus7tha" created="Mon, 5 Dec 2016 05:09:19 +0000"  >&lt;p&gt;I&apos;ve just created a pull request at &lt;a href=&quot;https://github.com/apache/commons-net/pull/5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-net/pull/5&lt;/a&gt;&lt;br/&gt;
The change will allow overwriting PASV reply address by implementing method  &quot;String resolve(String hostname) &quot;&lt;/p&gt;</comment>
                            <comment id="15792962" author="nexus7tha" created="Mon, 2 Jan 2017 14:34:03 +0000"  >&lt;p&gt;Can someone help to review the fix? Thanks.&lt;/p&gt;</comment>
                            <comment id="15856689" author="sebb@apache.org" created="Tue, 7 Feb 2017 20:05:00 +0000"  >&lt;p&gt;Thanks for the report and the PR.&lt;br/&gt;
Applied:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1782074&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1782074&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-588&quot; title=&quot;FTPClient.setPassiveNatWorkaround assumes host is outside site local range&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-588&quot;&gt;&lt;del&gt;NET-588&lt;/del&gt;&lt;/a&gt; FTPClient.setPassiveNatWorkaround assumes host is outside site local range&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPClient.java&lt;br/&gt;
    commons/proper/net/trunk/src/test/java/org/apache/commons/net/ftp/FTPClientTest.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2tx5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>