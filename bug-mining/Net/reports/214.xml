<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-573] CLONE - Retrieving files from AS400 FTP systems returns null timestamps in FTPFile.getTimestamp</title>
                <link>https://issues.apache.org/jira/browse/NET-573</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;We are trying to list files from AS400 systems and retrieve the timestamps from these files using the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.FileInputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.FileOutputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.InputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.OutputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.PrintWriter;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.net.InetAddress;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.net.UnknownHostException;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.PrintCommandListener;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTP;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPClient;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPHTTPClient;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPClientConfig;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPConnectionClosedException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPFile;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPReply;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.ftp.FTPSClient;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.io.CopyStreamEvent;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.io.CopyStreamListener;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.net.util.TrustManagerUtils;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FTPAccess {
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; server;
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; username;
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; password;
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path ;

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getPath() {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; path;
	}
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setPath(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
		&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.path = path;
	}
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; UnknownHostException {
		FTPAccess ftpAccess = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPAccess();
		ftpAccess.setServer(&lt;span class=&quot;code-quote&quot;&gt;&quot;X.X.X.X&quot;&lt;/span&gt;);
		ftpAccess.setUsername(&lt;span class=&quot;code-quote&quot;&gt;&quot;XXXXXX&quot;&lt;/span&gt;);
		ftpAccess.setPassword(XXXXXXX&quot;);
		ftpAccess.setPath(&lt;span class=&quot;code-quote&quot;&gt;&quot;/reports&quot;&lt;/span&gt;);
		ftpAccess.getFile();
	}
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void getFile() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; UnknownHostException {
		
		FTPClient ftpClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPClient();
		
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			InetAddress serveIPAddress = InetAddress.getByName(server);
			ftpClient.setPassiveLocalIPAddress(serveIPAddress);
			ftpClient.connect(serveIPAddress);
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connected to &quot;&lt;/span&gt; + server + &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;);

			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; reply = ftpClient.getReplyCode();
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!FTPReply.isPositiveCompletion(reply)) {
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;FTP server refused connection.&quot;&lt;/span&gt;);
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(ftpClient.getReplyString());
				ftpClient.disconnect();
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			}

			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!ftpClient.login(username, password)) {
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(ftpClient.getReplyString());
				ftpClient.logout();
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;{
				diplayContent(ftpClient, path);

			}

		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ftpClient.isConnected()) {
				&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
					ftpClient.disconnect();
				} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioException) {
					&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; nothing
&lt;/span&gt;				}
			}
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not connect to server.&quot;&lt;/span&gt;);
			&lt;span class=&quot;code-comment&quot;&gt;// e.printStackTrace();
&lt;/span&gt;			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(1);
		}

		&lt;span class=&quot;code-comment&quot;&gt;// } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FTPConnectionClosedException e) {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// error = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Server closed connection.&quot;&lt;/span&gt;);
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// e.printStackTrace();
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// error = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// e.printStackTrace();
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ftp.isConnected()) {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// ftp.disconnect();
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException f) {
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// // &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; nothing
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// }
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// }
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// }
&lt;/span&gt;
	} &lt;span class=&quot;code-comment&quot;&gt;// end main
&lt;/span&gt;
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getServer() {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; server;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setServer(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; server) {
		&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.server = server;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getUsername() {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; username;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUsername(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; username) {
		&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.username = username;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getPassword() {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; password;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setPassword(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; password) {
		&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.password = password;
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void diplayContent(FTPClient ftpClient, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(path);
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FTPFile ftpFile : ftpClient.listFiles(path)) {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(ftpFile.isDirectory() ){
				diplayContent(ftpClient, path+&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;+ftpFile.getName());
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;{
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(path+&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;+ftpFile.getName());
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(ftpFile.getTimestamp());
			}
		}
		
	}

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The LIST command which is used internally in the FTPClient retrieves the timestamps successfully. However after parsing the FTPFile has a null value for the timestamp field.&lt;/p&gt;

&lt;p&gt;The null value is returned just when a user place the file in the AS400 usint the NetServer Servivice. This is used to share foldes between windows network and the AS/400&lt;/p&gt;

&lt;p&gt;Please help us fix this problem. It is not critical to us.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Commons Net 3.2&lt;br/&gt;
FTP System: AS400 systems&lt;br/&gt;
I5/OS Version 5 Release 4 Modification 0&lt;/p&gt;</environment>
        <key id="12831590">NET-573</key>
            <summary>CLONE - Retrieving files from AS400 FTP systems returns null timestamps in FTPFile.getTimestamp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dalapple">Dale Lee</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2015 03:03:12 +0000</created>
                <updated>Wed, 8 Feb 2017 00:25:14 +0000</updated>
                            <resolved>Wed, 8 Feb 2017 00:25:14 +0000</resolved>
                                    <version>2.2</version>
                    <version>3.2</version>
                    <version>3.3</version>
                                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14553553" author="dalapple" created="Thu, 21 May 2015 03:10:35 +0000"  >&lt;p&gt;Am getting the same issue as the original cloned ticket. I have tried using both commons-net-2.2.jar and commons-net-3.3.jar with AS400 ftp.&lt;/p&gt;

&lt;p&gt;When I use the command java -jar commons-net-examples-3.3.jar FTPClientExample -l X.X.X.X &amp;lt;username&amp;gt; &amp;lt;password&amp;gt; /reports&lt;br/&gt;
Below is what I get:&lt;br/&gt;
ZFTPDEV          9069 05/20/15 15:36:52 *STMF&lt;/p&gt;

&lt;p&gt;I do see the timestamp value when using FTPFile.getRawListing() and FTPFile.toString(). But when I use FTPFile.getTimestamp(), the timestamp returns null. &lt;/p&gt;

&lt;p&gt;Is this an known issue with AS400 server? I have validated the timestamp configured matches the time listed in rawlisting.&lt;/p&gt;</comment>
                            <comment id="14553558" author="dalapple" created="Thu, 21 May 2015 03:13:56 +0000"  >&lt;p&gt;Here is snippet of the code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
        FTPClient ftpClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPClient();
        FTPClientConfig conf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPClientConfig(FTPClientConfig.SYST_AS400);
        conf.setDefaultDateFormatStr(&lt;span class=&quot;code-quote&quot;&gt;&quot;MM/dd/yy HH:mm:ss&quot;&lt;/span&gt;);
        
        ftpClient.configure(conf);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(conf.getDefaultDateFormatStr());
        
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            ftpClient.connect(server, port);
            ftpClient.login(user, pass);
 
            &lt;span class=&quot;code-comment&quot;&gt;// use local passive mode to pass firewall
&lt;/span&gt;            ftpClient.enterLocalPassiveMode();
 
            &lt;span class=&quot;code-comment&quot;&gt;// get details of a file or directory
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; remoteFilePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;/DRV/AUDWRKSHET&quot;&lt;/span&gt;;
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Num of files: &quot;&lt;/span&gt; + ftpClient.listFiles(remoteFilePath).length);
            FTPFile ftpFile = ftpClient.listFiles(remoteFilePath)[0];
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ftpFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = ftpFile.getName();
                &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; size = ftpFile.getSize();
               &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; timestamp = ftpFile.getTimestamp().getTime().toString();
&lt;/span&gt;                &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type = ftpFile.isDirectory() ? &lt;span class=&quot;code-quote&quot;&gt;&quot;Directory&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;File&quot;&lt;/span&gt;;
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(ftpFile.getRawListing());
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(ftpFile.toString());
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Name: &quot;&lt;/span&gt; + name);
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Size: &quot;&lt;/span&gt; + size);
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Type: &quot;&lt;/span&gt; + type);
                &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Timestamp: &quot;&lt;/span&gt; + timestamp);
&lt;/span&gt;                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Time: &quot;&lt;/span&gt; + ftpFile.getTimestamp());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;The specified file/directory may not exist!&quot;&lt;/span&gt;);
            }
 
            ftpClient.logout();
            ftpClient.disconnect();
 
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
            ex.printStackTrace();
        } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ftpClient.isConnected()) {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    ftpClient.disconnect();
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
                    ex.printStackTrace();
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is output:&lt;br/&gt;
MM/dd/yy HH:mm:ss&lt;br/&gt;
Num of files: 1&lt;br/&gt;
ZFTPDEV          9069 05/20/15 15:36:52 *STMF      /DRV/AUDWRKSHET/AUDWRK0204232015114625.PDF&lt;br/&gt;
ZFTPDEV          9069 05/20/15 15:36:52 *STMF      /DRV/AUDWRKSHET/AUDWRK0204232015114625.PDF&lt;br/&gt;
Name: AUDWRK0204232015114625.PDF&lt;br/&gt;
Size: 9069&lt;br/&gt;
Type: File&lt;br/&gt;
Time: null&lt;/p&gt;</comment>
                            <comment id="14592624" author="sebb@apache.org" created="Thu, 18 Jun 2015 22:07:04 +0000"  >&lt;p&gt;There  are a couple of issues here.&lt;/p&gt;

&lt;p&gt;1) FTPClientExample in 3.3 does not allow the server type or the default date format string to be defined. The server type is determined from the response to the SYST command. However the default date format for AS/400 is &quot;yy/MM/dd HH:mm:ss&quot;, which cannot be used to parse the date as MM cannot be 20. So the example is bound to fail.&lt;/p&gt;

&lt;p&gt;2) I have tried to reproduce the problem with the code snippet. However that works fine when tried with a dummy server using the StubFtpServer &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. So long as the code sets the default date string correctly, the timestamp is parsed correctly. &lt;/p&gt;

&lt;p&gt;3) The code snippet calls ftpClient.listFiles twice; this does not seem to affect the result, but should be avoided.&lt;/p&gt;

&lt;p&gt;My plan of action is to update the FTPClientExample so that the default date format can be specified. Hopefully the 3.4-SNAPSHOT code can then be used to help debug the problem.&lt;/p&gt;

&lt;p&gt;Is there a publicly accessible server that can be used for testing?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mockftpserver.sourceforge.net/stubftpserver-getting-started.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mockftpserver.sourceforge.net/stubftpserver-getting-started.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14592682" author="sebb@apache.org" created="Thu, 18 Jun 2015 22:53:25 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1686331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1686331&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Add test for &lt;a href=&quot;https://issues.apache.org/jira/browse/NET-573&quot; title=&quot;CLONE - Retrieving files from AS400 FTP systems returns null timestamps in FTPFile.getTimestamp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-573&quot;&gt;&lt;del&gt;NET-573&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/test/java/org/apache/commons/net/ftp/parser/OS400FTPEntryParserTest.java&lt;/p&gt;</comment>
                            <comment id="14592778" author="sebb@apache.org" created="Fri, 19 Jun 2015 00:18:17 +0000"  >&lt;p&gt;Note: the current code is available from the ASF SNAPSHOT repo if you want to test against the AS/400 server.&lt;/p&gt;

&lt;p&gt;Use the following FTPClientExample options to set up the correct server type and date format:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-S &quot;AS/400&quot; -y &quot;MM/dd/yy HH:mm:ss&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14596216" author="dalapple" created="Mon, 22 Jun 2015 16:53:11 +0000"  >&lt;p&gt;Thank you, Sebb. I have contacted our data center vendor to see if we can provide a public ftp access to reproduce the issue. Would send through your apache email if I am able to get it. &lt;/p&gt;

</comment>
                            <comment id="15857095" author="sebb@apache.org" created="Wed, 8 Feb 2017 00:25:14 +0000"  >&lt;p&gt;Not possible to proceed further without access to a suitable server.&lt;/p&gt;

&lt;p&gt;If the issue is still present with the current code please re-open with a suitable test case.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12630432">NET-498</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f0vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>