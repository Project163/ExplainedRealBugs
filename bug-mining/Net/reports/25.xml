<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:44:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-169] Cannot return files with listNames() function</title>
                <link>https://issues.apache.org/jira/browse/NET-169</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;Hi, &lt;br/&gt;
I am connecting to an ftp server with my username and password. When I call ftpClient.listNames();  it returns 0 length string array although i am very sure that there are files inside. &lt;/p&gt;

&lt;p&gt;I also know that when I changed the ftp server to another one this function works. So I am assuming the server that I connected has a weird ftp server. When I called the function ftpClient.getSystemName() it returns UNKNOWN Type: L8.&lt;br/&gt;
If I call ftpClient.listNames I got this exception&lt;br/&gt;
 org.apache.commons.net.ftp.parser.ParserInitializationException: Unknown parser type: UNKNOWN Type: L8&lt;br/&gt;
	at org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:125)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2362)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2145)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2192)&lt;/p&gt;

&lt;p&gt;I have to get the filenames from the server, so how can I solve the problem.&lt;br/&gt;
Thanks for the helps.&lt;br/&gt;
Burak Ulutoprak&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, Eclipse&lt;/p&gt;</environment>
        <key id="12377107">NET-169</key>
            <summary>Cannot return files with listNames() function</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bulutopra">burak ulutoprak</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Aug 2007 16:56:08 +0000</created>
                <updated>Wed, 12 Mar 2008 21:03:15 +0000</updated>
                            <resolved>Sat, 8 Mar 2008 19:48:19 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12553306" author="jodeleit" created="Wed, 19 Dec 2007 11:11:25 +0000"  >&lt;p&gt;I can reproduce the problem against a &quot;ProFTPD 1.2.10 Server&quot;.&lt;br/&gt;
I tracked and suspect the method &quot;org.apache.commons.net.ftp.FTPClient#initiateListParsing(FTPFileEntryParser, String)&quot; (is called by &quot;org.apache.commons.net.ftp.FTPClient#listFiles(String)&quot;).&lt;/p&gt;

&lt;p&gt;The suspected code is:&lt;/p&gt;

&lt;p&gt;        if ((socket = &lt;em&gt;openDataConnection&lt;/em&gt;(FTPCommand.LIST, pathname)) == null)&lt;/p&gt;
        {
            return engine; // we end up here!
        }

&lt;p&gt;(see &lt;a href=&quot;http://commons.apache.org/net/xref/org/apache/commons/net/ftp/FTPClient.html#2392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/net/xref/org/apache/commons/net/ftp/FTPClient.html#2392&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;If i set a breakpoint at this line &quot;getReplyString()&quot; delivers &quot;200 PORT command successful&quot;.&lt;/p&gt;

&lt;p&gt;The trace of my use case (delete a directory recursivly) with logging turned on:&lt;/p&gt;

&lt;p&gt;TRACE 19.12.2007 12:02:41.621 (de.espirit.firstspirit.io.FtpFileSystemOperations): SENT: LIST LIST /home/tomcat/webapps/intranet/test&lt;br/&gt;
TRACE 19.12.2007 12:02:41.621 (de.espirit.firstspirit.io.FtpFileSystemOperations): RECEIVED: 200 PORT command successful&lt;br/&gt;
DEBUG 19.12.2007 12:02:41.621 (de.espirit.firstspirit.io.FtpFileSystemOperations): no files in path /home/tomcat/webapps/intranet/test&lt;br/&gt;
TRACE 19.12.2007 12:02:41.621 (de.espirit.firstspirit.io.FtpFileSystemOperations): SENT: RMD RMD /home/tomcat/webapps/intranet/test&lt;br/&gt;
WARN  19.12.2007 12:02:41.621 (de.espirit.firstspirit.io.FtpFileSystemOperations): RECEIVED: 425 Unable to build data connection: Connection refused&lt;/p&gt;

&lt;p&gt;The same RMD command on the shell:&lt;/p&gt;

&lt;p&gt;&amp;gt;ftp XXXXX&lt;br/&gt;
Verbindung mit corona.e-spirit.de wurde hergestellt.&lt;br/&gt;
220 ProFTPD 1.2.10 Server (XXXXX) &lt;span class=&quot;error&quot;&gt;&amp;#91;XXX.XXX.XXX.XXX&amp;#93;&lt;/span&gt;&lt;br/&gt;
Benutzer (XXXXX:(none)): xxxxxx&lt;br/&gt;
331 Password required for xxxxxx.&lt;br/&gt;
Kennwort:&lt;br/&gt;
230 User xxxxxx logged in.&lt;br/&gt;
ftp&amp;gt; rmdir /home/tomcat/webapps/intranet/test&lt;br/&gt;
550 /home/tomcat/webapps/intranet/test: Directory not empty&lt;br/&gt;
ftp&amp;gt; dir /home/tomcat/webapps/intranet/test&lt;br/&gt;
200 PORT command successful&lt;br/&gt;
150 Opening ASCII mode data connection for file list&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 intranetftp intranet       86 Dec 19 11:02 test.bin&lt;br/&gt;
226 Transfer complete.&lt;br/&gt;
FTP: 64d Bytes empfangen in 0,00Sekunden 68000,00KB/s&lt;br/&gt;
ftp&amp;gt;&lt;/p&gt;

</comment>
                            <comment id="12578017" author="sebb@apache.org" created="Wed, 12 Mar 2008 21:03:15 +0000"  >&lt;p&gt;Also applied to trunk (version 1.5) in r636508&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>154503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kumn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>