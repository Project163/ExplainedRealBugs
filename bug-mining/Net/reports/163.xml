<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-442] StringIndexOutOfBoundsException: String index out of range: -1 if server respond with root is current directory</title>
                <link>https://issues.apache.org/jira/browse/NET-442</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;I&apos;ve an ftp server that at the pwd request responds with |257  root is current directory.| without any double quotes present and the lib gives up with this exception:&lt;/p&gt;

&lt;p&gt;java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
	at java.lang.String.substring(String.java:1949)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.__parsePathname(FTPClient.java:469)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.printWorkingDirectory(FTPClient.java:2374)&lt;/p&gt;

&lt;p&gt;Probably it&apos;s only needed a check in __parsePathname&lt;/p&gt;

&lt;p&gt;private String __parsePathname(String reply)&lt;br/&gt;
    {&lt;br/&gt;
        int begin, end;&lt;/p&gt;

&lt;p&gt;        begin = reply.indexOf(&apos;&quot;&apos;) + 1;&lt;br/&gt;
        end = reply.indexOf(&apos;&quot;&apos;, begin);&lt;/p&gt;

&lt;p&gt;        if (begin == -1 &amp;amp;&amp;amp; end == -1) &lt;/p&gt;
        {
            return reply;
        }

&lt;p&gt;        return reply.substring(begin, end);&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu linux 11.04&lt;/p&gt;</environment>
        <key id="12542646">NET-442</key>
            <summary>StringIndexOutOfBoundsException: String index out of range: -1 if server respond with root is current directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andrews7up">Andrea Selva</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2012 08:08:25 +0000</created>
                <updated>Wed, 17 Apr 2013 19:57:38 +0000</updated>
                            <resolved>Fri, 2 Mar 2012 19:48:53 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.2</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13220251" author="sebb@apache.org" created="Thu, 1 Mar 2012 19:02:20 +0000"  >&lt;p&gt;That is not a valid response according to RFC959, however it might be worth adding the check.&lt;/p&gt;

&lt;p&gt;What is your server type?&lt;/p&gt;

&lt;p&gt;Also, if your FTP server supports directory names with spaces in them, how does it report PWD for them?&lt;/p&gt;

&lt;p&gt;Note: according to RFC959, embedded quotes need to be doubled-up; this is not done either.&lt;br/&gt;
For example:&lt;br/&gt;
    MKD foo&quot;bar&lt;br/&gt;
    257 &quot;/usr/dm/foo&quot;&quot;bar&quot; directory created&lt;/p&gt;

&lt;p&gt;If we assume that the trailing comment never contains a double-quote, then the code can handle embedded quotes by looking for the last quote, and then de-duplicating the double-quotes.&lt;/p&gt;</comment>
                            <comment id="13220415" author="andrews7up" created="Thu, 1 Mar 2012 22:05:08 +0000"  >&lt;p&gt;The FTP server I use, is an embedded custom server, that has got many many problems to be defined FTP compliant. But I think that FTP client should gracefully say that a message is not well formatted instead of a bad IndexOutOfBounds, but I completely agree that the FTP server that raised up this behaviour is completely broken.&lt;/p&gt;

&lt;p&gt;The issue could be closed as not applicable.&lt;br/&gt;
  Andrea&lt;/p&gt;</comment>
                            <comment id="13575937" author="sebb@apache.org" created="Mon, 11 Feb 2013 18:00:19 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1296413&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1296413&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-442&quot; title=&quot;StringIndexOutOfBoundsException: String index out of range: -1 if server respond with root is current directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-442&quot;&gt;&lt;del&gt;NET-442&lt;/del&gt;&lt;/a&gt; StringIndexOutOfBoundsException: String index out of range: -1 if server respond with&lt;br/&gt;
root is current directory&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPClient.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lpw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>