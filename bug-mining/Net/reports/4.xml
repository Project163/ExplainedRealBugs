<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:43:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-24] [net] Commons RLogin timeout</title>
                <link>https://issues.apache.org/jira/browse/NET-24</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;When calling the connect method on org.apache.commons.net.bsd.RLoginClient,&lt;br/&gt;
timeout can take 10 minutes +.&lt;/p&gt;

&lt;p&gt;I have found that this is down to the RCommandClient connect method.&lt;/p&gt;

&lt;p&gt;The exception to catch should be a BindException.  The logic here is that so&lt;br/&gt;
long as we have got a valid local port and address (no BindException) then we&lt;br/&gt;
shouldn&apos;t bother trying all of the other local ports.  If this is adopted, then&lt;br/&gt;
a connect exception is thrown from the connect method indicating that the remote&lt;br/&gt;
server is not present or responding.&lt;/p&gt;

&lt;p&gt;Please see snippet from the corrected connect method below.&lt;/p&gt;

&lt;p&gt;        for (localPort = MAX_CLIENT_PORT; localPort &amp;gt;= MIN_CLIENT_PORT; --localPort)&lt;br/&gt;
        {&lt;br/&gt;
            try&lt;/p&gt;
            {
                _socket_ =
                    _socketFactory_.createSocket(host, port, localAddr, localPort);
            }
&lt;p&gt;//            catch (SocketException e)&lt;br/&gt;
            catch (BindException e)&lt;/p&gt;
            {
                continue;
            }
&lt;p&gt;            break;&lt;br/&gt;
        }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341515">NET-24</key>
            <summary>[net] Commons RLogin timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mattparker@uk2.net">Matt Parker</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jun 2004 22:17:29 +0000</created>
                <updated>Sat, 4 Jun 2011 19:24:32 +0000</updated>
                            <resolved>Sun, 17 Feb 2008 23:07:59 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406852" author="scohen@apache.org" created="Sat, 26 Jun 2004 12:06:50 +0000"  >&lt;p&gt;reopen after 1.2.2 release&lt;/p&gt;</comment>
                            <comment id="12627981" author="ivaylo.m.ivanov" created="Wed, 3 Sep 2008 12:17:06 +0000"  >&lt;p&gt;I don&apos;t think the bug is fixed in 2.0. The following code is from Revision 658518:&lt;/p&gt;

&lt;p&gt;        for (localPort = MAX_CLIENT_PORT; localPort &amp;gt;= MIN_CLIENT_PORT; --localPort)&lt;br/&gt;
        {&lt;br/&gt;
            try&lt;/p&gt;
            {
                _socket_ =
                    _socketFactory_.createSocket(host, port, localAddr, localPort);
            }
&lt;p&gt;            catch (BindException be) &lt;/p&gt;
{
                continue;
            }&lt;br/&gt;
            catch (SocketException e)&lt;br/&gt;
            {                continue;            }
&lt;p&gt;            break;&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        if (localPort &amp;lt; MIN_CLIENT_PORT)&lt;br/&gt;
            throw new BindException(&quot;All ports in use or insufficient permssion.&quot;);&lt;/p&gt;

&lt;p&gt;        &lt;em&gt;connectAction&lt;/em&gt;();&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;To fix the bug the &quot;catch (SocketException e)&quot; has to be removed completely.&lt;/p&gt;</comment>
                            <comment id="12863404" author="wdtj" created="Mon, 3 May 2010 16:52:30 +0000"  >&lt;p&gt;I ran into the same issue and implemented the bypass listed in &lt;a href=&quot;https://issues.apache.org/jira/browse/NET-141&quot; title=&quot;Add connection timeout support to SocketClient and/or SocketFactory/DefaultSocketFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-141&quot;&gt;&lt;del&gt;NET-141&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;1) RCommandClient will automatically retry a connect on another port pair on a ConnectException in the socket.connect. To get around this I added a catch to Christian&apos;s code to catch a ConnectException and rethrow it as a IOException.  Here&apos;s a code snippet for my modification:&lt;/p&gt;

&lt;p&gt;	        socket.bind(localaddr);&lt;br/&gt;
	        try&lt;/p&gt;
	        {
	            socket.connect(remoteaddr, connectionTimeout);
	        }
&lt;p&gt;	        /* RCommandClient intercepts SocketExceptions and blindly retries on &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;another socket pair.  A ConnectException is more permanent that just&lt;/li&gt;
	&lt;li&gt;having a busy socket pair and we rethrow it as an IOException to get&lt;/li&gt;
	&lt;li&gt;by the intercept.&lt;br/&gt;
	         */&lt;br/&gt;
	        catch (ConnectException e)
	        {
	            throw new IOException(e);
	        }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2) There is a typo in Christian&apos;s code in the method when using InetAddress to createSocket(). The code should be&lt;/p&gt;

&lt;p&gt;       public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException&lt;/p&gt;
{ return createSocket(address.getHostName(), port, localAddress, localPort); }

&lt;p&gt;Note that the original code passed 0 for the localPort when the user had specified a localPort.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kutr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>