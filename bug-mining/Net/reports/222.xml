<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-592] plainSocket in FTPSClient is never closed</title>
                <link>https://issues.apache.org/jira/browse/NET-592</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;The plainSocket field in the FTPSClient is never closed. Over time, this will lead to an IOException with &quot;too many open files&quot;.&lt;/p&gt;

&lt;p&gt;To recreate this, try the following in a loop:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create an FTPSClient&lt;/li&gt;
	&lt;li&gt;call the login&lt;/li&gt;
	&lt;li&gt;upload a file&lt;/li&gt;
	&lt;li&gt;download the file&lt;/li&gt;
	&lt;li&gt;call logout&lt;/li&gt;
	&lt;li&gt;disconnect within a finally block&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I would expect the disconnect call would release all of the file descriptors but if you set a breakpoint you&apos;ll notice that this socket remains open.&lt;/p&gt;

&lt;p&gt;In my test driver, this eventually fails after 8,000 iterations until it hits the max file descriptors for the test process. &lt;/p&gt;

&lt;p&gt;If I use some reflection code and force FTPSClient.plainSocket to be accessible so I can close it, then everything works. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12973826">NET-592</key>
            <summary>plainSocket in FTPSClient is never closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="massfords">Mark Ford</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 May 2016 19:12:40 +0000</created>
                <updated>Tue, 14 Feb 2017 22:22:37 +0000</updated>
                            <resolved>Thu, 14 Jul 2016 14:03:06 +0000</resolved>
                                    <version>3.4</version>
                    <version>3.5</version>
                                    <fixVersion>3.6</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15325579" author="sebb@apache.org" created="Sat, 11 Jun 2016 00:58:42 +0000"  >&lt;p&gt;Thanks for the report.&lt;/p&gt;

&lt;p&gt;Hopefully fixed in the following commit:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1747829&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1747829&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-592&quot; title=&quot;plainSocket in FTPSClient is never closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-592&quot;&gt;&lt;del&gt;NET-592&lt;/del&gt;&lt;/a&gt; plainSocket in FTPSClient is never closed&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPSClient.java&lt;/p&gt;


&lt;p&gt;Would you be able to confirm whether or not this has worked OK?&lt;/p&gt;</comment>
                            <comment id="15333021" author="massfords" created="Thu, 16 Jun 2016 03:56:36 +0000"  >&lt;p&gt;This is pretty much what I&apos;m doing through reflection right now and it fixes my problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yo5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>