<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-480] Wrong passivHost when using FTPHTTPClient with EPSV</title>
                <link>https://issues.apache.org/jira/browse/NET-480</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;At the FTPHTTPClient Class in line 99 the Answer from the EPSV Command will parse to receive the Data port and the passiv Host.&lt;br/&gt;
&amp;#95;parsePassiveModeReply(&amp;#95;replyLines.get(0))&lt;br/&gt;
In this function the &amp;#95;&amp;#95;passivHost is set to the remoteAddress, but this address is determine by &quot;this.&amp;#95;socket&amp;#95;.getInetAddress();&quot; and the socket is the socket of the proxy Server and NOT of the ftp Server.&lt;/p&gt;

</description>
                <environment>&lt;p&gt;All Systems with ftp Access over http&lt;/p&gt;</environment>
        <key id="12607037">NET-480</key>
            <summary>Wrong passivHost when using FTPHTTPClient with EPSV</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="triumvir">Peter Naber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Sep 2012 11:08:11 +0000</created>
                <updated>Wed, 12 Jun 2013 21:09:52 +0000</updated>
                            <resolved>Wed, 23 Jan 2013 00:36:07 +0000</resolved>
                                    <version>3.1</version>
                    <version>3.2</version>
                                    <fixVersion>3.3</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13453626" author="sebb@apache.org" created="Wed, 12 Sep 2012 01:32:00 +0000"  >&lt;p&gt;Are you referring to the condition in the &amp;#95;parsePassiveModeReply() method where the response is overwritten if the parsed reply is a siteLocalAddress but the target address is not? i.e. where a NAT box has changed the PASV reply?&lt;/p&gt;

&lt;p&gt;Have you got a (tested) patch you can provide?&lt;/p&gt;</comment>
                            <comment id="13453822" author="triumvir" created="Wed, 12 Sep 2012 08:11:25 +0000"  >&lt;p&gt;Oh sorry, it&apos;s my mistake.&lt;br/&gt;
I mean the methode _parseExtendedPassiveModeReply() (EPSV not PASV).&lt;br/&gt;
No, I haven&apos;t a patch for it, only a dirty workaround for me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I will look today, if I found a clean solution for it.&lt;/p&gt;</comment>
                            <comment id="13453884" author="sebb@apache.org" created="Wed, 12 Sep 2012 10:17:37 +0000"  >&lt;p&gt;Can you attach a copy of the work-round?&lt;br/&gt;
That would at least show what works for you.&lt;/p&gt;</comment>
                            <comment id="13454810" author="triumvir" created="Thu, 13 Sep 2012 11:13:27 +0000"  >&lt;p&gt;Own testet SquidProxy Class with working EPSV Protocol.&lt;br/&gt;
A new class variable is add : host&lt;br/&gt;
This variable contain the original destination Address.&lt;br/&gt;
At &lt;em&gt;openDataConnection&lt;/em&gt; the variable __passivHost will set to the destination address.&lt;br/&gt;
By using PASV the variable is set to &quot;this.getPassiveHost()&quot;, by using EPSV to this.host&lt;/p&gt;</comment>
                            <comment id="13560234" author="sebb@apache.org" created="Wed, 23 Jan 2013 00:36:07 +0000"  >&lt;p&gt;Finally got around to looking at this again.&lt;br/&gt;
It looks like the work-round you used is necessary, so committed it:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1437243&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1437243&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-480&quot; title=&quot;Wrong passivHost when using FTPHTTPClient with EPSV&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-480&quot;&gt;&lt;del&gt;NET-480&lt;/del&gt;&lt;/a&gt; Wrong passivHost when using FTPHTTPClient with EPSV&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPHTTPClient.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12544970" name="FTPSquidProxyClient.java" size="7024" author="triumvir" created="Thu, 13 Sep 2012 11:13:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05fjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>