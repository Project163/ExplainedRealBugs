<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-639] Bug in MVSFTPEntryParser.preParse - MVS, z/OS</title>
                <link>https://issues.apache.org/jira/browse/NET-639</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;Some PS-files couldn&apos;t be retrieved from ftp host (during FTPClient.listFiles(&quot;xxx&quot;)). After investigation we&apos;ve noticed, that the file has an unusual large allocation info (reading &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Volume Unit    Referred Ext Used Recfm Lrecl BlkSz Dsorg Dsname
   :     :          :     :   :    :      :    :    :      :
PEZ320 3390   2017/07/03  215807  FB   29600 29600  PS  &lt;span class=&quot;code-quote&quot;&gt;&apos;LBP.TX.FTP.LAZAGDOM.WORK.HILF&apos;&lt;/span&gt;
   :     :          :     :   :    :      :    :    :      :

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so the values of ext and used column merged. As a result, the pattern FILE_LIST_REGEX in MVSFTPEntryParser doesn&apos;t match -&amp;gt; the file is ignored.&lt;/p&gt;

&lt;p&gt;Quick Fix in Comments described ...&lt;/p&gt;</description>
                <environment>&lt;p&gt;different clients running Windows 7, AIX, Ubuntu 16.04&lt;br/&gt;
IBM FTP CS V2R1 as ftp host running z/OS 02.01.00&lt;/p&gt;</environment>
        <key id="13084251">NET-639</key>
            <summary>Bug in MVSFTPEntryParser.preParse - MVS, z/OS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="baloo66">Alexander Eller</reporter>
                        <labels>
                            <label>MVS</label>
                            <label>z/OS</label>
                    </labels>
                <created>Mon, 3 Jul 2017 13:33:02 +0000</created>
                <updated>Thu, 6 Aug 2020 12:27:22 +0000</updated>
                            <resolved>Mon, 3 Jul 2017 15:40:52 +0000</resolved>
                                    <version>3.6</version>
                                    <fixVersion>3.7</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16072470" author="baloo66" created="Mon, 3 Jul 2017 13:56:05 +0000"  >&lt;p&gt;After further examination of the pattern, I changed the pattern FILE_LIST_REGEX as a first fix. As - despite the long pattern - only the &quot;recfm&quot; (via pattern) and the &quot;dataset organisation&quot; and &quot;dataset name&quot; (via group) are used, I changed the pattern part concerning the &quot;used&quot; column to be optional (from &quot;\\S+&lt;br class=&quot;atl-forced-newline&quot; /&gt;s+&quot; to &quot;\\S*&lt;br class=&quot;atl-forced-newline&quot; /&gt;s+&quot;) - now the above line  matches and the line is part of the result.&lt;/p&gt;

&lt;p&gt;First of all (breaking test first &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;in  MVSFTPEntryParserTest.java added at the end of goodsamplesDatasetList &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;PEX26F 3390   2017/07/03  115807  FB   29600 29600  PS    INCOMING.FIN.D170630.T160630&quot;&lt;/span&gt;, 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;voila - test is breaking. Now make it green again: In MVSFTPEntryParser.java line 64ff&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; FILE_LIST_REGEX = &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// volume
&lt;/span&gt;                                                                &lt;span class=&quot;code-comment&quot;&gt;// ignored
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// unit - ignored
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// access date - ignored
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// extents -ignored
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// ellera: &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; replaced ...
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// change respects too large used values and therefor missing delimiter between extents and used
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S*\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// used - ignored 
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;[FV]\\S*\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// recfm - must start with F or V
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// logical record length -ignored
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;\\S+\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// block size - ignored
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;(PS|PO|PO-E)\\s+&quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// Dataset organisation. Many exist
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// but only support: PS, PO, PO-E
&lt;/span&gt;            &lt;span class=&quot;code-quote&quot;&gt;&quot;(\\S+)\\s*&quot;&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// Dataset Name (file name)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;voila, tests are green - hope this helps ...&lt;/p&gt;</comment>
                            <comment id="16072614" author="sebb@apache.org" created="Mon, 3 Jul 2017 15:17:02 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Seems like a bug in the OS - once the fields are merged, it&apos;s presumably impossible to know where the change occurs&lt;/p&gt;</comment>
                            <comment id="16072653" author="sebb@apache.org" created="Mon, 3 Jul 2017 15:40:37 +0000"  >&lt;p&gt;Thanks for the report and patches. Applied with minor tweaks:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1800686&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1800686&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-639&quot; title=&quot;Bug in MVSFTPEntryParser.preParse - MVS, z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-639&quot;&gt;&lt;del&gt;NET-639&lt;/del&gt;&lt;/a&gt; - MVSFTPEntryParser.preParse - MVS, z/OS - allow for merged Ext/Used fields&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/parser/MVSFTPEntryParser.java&lt;br/&gt;
    commons/proper/net/trunk/src/test/java/org/apache/commons/net/ftp/parser/MVSFTPEntryParserTest.java&lt;/p&gt;

&lt;p&gt;BTW, the patches were reversed so did not work initially (had to use reverse option).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12875515" name="MVSFTPEntryParser.patch" size="1039" author="baloo66" created="Mon, 3 Jul 2017 14:06:10 +0000"/>
                            <attachment id="12875514" name="MVSFTPEntryParserTest.patch" size="2469" author="baloo66" created="Mon, 3 Jul 2017 14:06:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3h13j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>