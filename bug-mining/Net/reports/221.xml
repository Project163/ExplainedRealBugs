<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NET-583] FTPClient.getReplyString() returns wrong value after connect()</title>
                <link>https://issues.apache.org/jira/browse/NET-583</link>
                <project id="12310487" key="NET">Commons Net</project>
                    <description>&lt;p&gt;If the FTPClient&apos;s automatic server encoding detection is enabled, a FEAT command is issued in method &lt;em&gt;connectAction&lt;/em&gt;() &lt;span class=&quot;error&quot;&gt;&amp;#91;indirectly via hasFeature(String)&amp;#93;&lt;/span&gt;. After that, the &lt;em&gt;replyCode and _replyLines fields are stored back to their previous values in _connectAction&lt;/em&gt;(), but the _newReplyString flag isn&apos;t set to true. Because of that, you will then get back the reply to the FEAT command from getReplyString(), instead of the server&apos;s welcome message. Furthermore, you may get back a reply code that doesn&apos;t match that reply string. We have encountered a case when we got back reply code 220 after FTPClient.connect(), but reply string was &quot;530 Not logged in.&quot;.&lt;/p&gt;

&lt;p&gt;This error can easily be fixed by adding the following line to FTPClient.java around line 944:&lt;br/&gt;
_newReplyString = true;&lt;/p&gt;

&lt;p&gt;Patch:&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/org/apache/commons/net/ftp/FTPClient.java&lt;br/&gt;
+++ src/org/apache/commons/net/ftp/FTPClient.java	(working copy)&lt;br/&gt;
@@ -941,6 +941,7 @@&lt;br/&gt;
            _replyLines.clear();&lt;br/&gt;
            _replyLines.addAll(oldReplyLines);&lt;br/&gt;
            _replyCode = oldReplyCode;&lt;br/&gt;
+           _newReplyString = true;&lt;br/&gt;
        }&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12916576">NET-583</key>
            <summary>FTPClient.getReplyString() returns wrong value after connect()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ickzon">Holger Rehn</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Nov 2015 09:17:54 +0000</created>
                <updated>Thu, 5 May 2016 00:53:15 +0000</updated>
                            <resolved>Fri, 15 Apr 2016 19:08:28 +0000</resolved>
                                    <version>3.3</version>
                                    <fixVersion>3.5</fixVersion>
                                    <component>FTP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="15243426" author="sebb@apache.org" created="Fri, 15 Apr 2016 19:08:28 +0000"  >&lt;p&gt;Thanks for the bug report and suggested fix.&lt;br/&gt;
URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1739351&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1739351&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/NET-583&quot; title=&quot;FTPClient.getReplyString() returns wrong value after connect()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NET-583&quot;&gt;&lt;del&gt;NET-583&lt;/del&gt;&lt;/a&gt; FTPClient.getReplyString() returns wrong value after connect()&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/net/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/net/trunk/src/main/java/org/apache/commons/net/ftp/FTPClient.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2p01b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>