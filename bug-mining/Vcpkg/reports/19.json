{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305","repository_url":"https://api.github.com/repos/microsoft/vcpkg","labels_url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305/comments","events_url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305/events","html_url":"https://github.com/microsoft/vcpkg/issues/38305","id":2255303613,"node_id":"I_kwDOBBJcqc6GbTO9","number":38305,"title":"Linking to arrow in a static x64-windows-static-md build incorrectly links ws2_32.dll.lib","user":{"login":"robambalu","id":28680700,"node_id":"MDQ6VXNlcjI4NjgwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/28680700?v=4","gravatar_id":"","url":"https://api.github.com/users/robambalu","html_url":"https://github.com/robambalu","followers_url":"https://api.github.com/users/robambalu/followers","following_url":"https://api.github.com/users/robambalu/following{/other_user}","gists_url":"https://api.github.com/users/robambalu/gists{/gist_id}","starred_url":"https://api.github.com/users/robambalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robambalu/subscriptions","organizations_url":"https://api.github.com/users/robambalu/orgs","repos_url":"https://api.github.com/users/robambalu/repos","events_url":"https://api.github.com/users/robambalu/events{/privacy}","received_events_url":"https://api.github.com/users/robambalu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":453053701,"node_id":"MDU6TGFiZWw0NTMwNTM3MDE=","url":"https://api.github.com/repos/microsoft/vcpkg/labels/category:port-bug","name":"category:port-bug","color":"f58c8c","default":false,"description":"The issue is with a library, which is something the port should already support"}],"state":"closed","locked":false,"assignee":{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":6,"created_at":"2024-04-21T22:40:00Z","updated_at":"2024-05-03T17:47:43Z","closed_at":"2024-04-24T12:29:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nI'm trying to build my vcpkg as fully static ( less runtime libs, so x64-windows-static-md ).\r\nEverything builds / links fine except one part of my project that links against arrow.  When linking Arrow I hit this error:\r\n`LINK : fatal error LNK1181: cannot open input file 'ws2_32.dll.lib' [C:\\Users\\robam\\csp\\_skbuild\\win-amd64-3.11\\cmake-build\\cpp\\csp\\python\\adapters\\parquetadapterimpl.vcxproj]`\r\n\r\nWhich looks odd on its face ( \".dll.lib\" ? ).\r\nWhen I looked a bit further I found this in the arrow cmake ( under vcpkg_installed\\x64-windows-static-md\\share\\arrow\\ArrowTargets.cmake:64 ):\r\n`INTERFACE_LINK_LIBRARIES \"OpenSSL::Crypto;OpenSSL::SSL;unofficial::brotli::brotlienc;unofficial::brotli::brotlidec;unofficial::brotli::brotlicommon;BZip2::BZip2;lz4::lz4;Snappy::snappy-static;ZLIB::ZLIB;zstd::libzstd_static;Threads::Threads;**ws2_32.dll**\"`\r\n\r\nSure enough if I remove the .dll my build works fine.\r\nI'm not sure if I'm doing something wrong or if that is some typo in the arrow cmake file ( forgive any ignorance on my part, its my first time using vcpkg )\r\n\r\n**Environment**\r\n- OS: Windows\r\n- Compiler: MSVC 2019\r\n- - Triplet: x64-windows-static-md\r\n\r\n**To Reproduce**\r\nDont have an easy repro as my project is somewhat large, but if \"ws2_32.dll\" looks like its correct in that cmake file I can try to put one together.\r\n\r\n**Expected behavior**\r\nSince this is a static -md build I dont think ws2_32 should be placed with a .dll extension there )\r\n","closed_by":{"login":"JavierMatosD","id":44559473,"node_id":"MDQ6VXNlcjQ0NTU5NDcz","avatar_url":"https://avatars.githubusercontent.com/u/44559473?v=4","gravatar_id":"","url":"https://api.github.com/users/JavierMatosD","html_url":"https://github.com/JavierMatosD","followers_url":"https://api.github.com/users/JavierMatosD/followers","following_url":"https://api.github.com/users/JavierMatosD/following{/other_user}","gists_url":"https://api.github.com/users/JavierMatosD/gists{/gist_id}","starred_url":"https://api.github.com/users/JavierMatosD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavierMatosD/subscriptions","organizations_url":"https://api.github.com/users/JavierMatosD/orgs","repos_url":"https://api.github.com/users/JavierMatosD/repos","events_url":"https://api.github.com/users/JavierMatosD/events{/privacy}","received_events_url":"https://api.github.com/users/JavierMatosD/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/vcpkg/issues/38305/timeline","performed_via_github_app":null,"state_reason":"completed"}