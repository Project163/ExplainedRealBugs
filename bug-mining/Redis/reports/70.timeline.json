[{"url":"https://api.github.com/repos/redis/redis/issues/comments/1118641256","html_url":"https://github.com/redis/redis/issues/10680#issuecomment-1118641256","issue_url":"https://api.github.com/repos/redis/redis/issues/10680","id":1118641256,"node_id":"IC_kwDOAAJhcs5CrRxo","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T14:43:25Z","updated_at":"2022-05-05T16:05:30Z","body":"https://github.com/redis/redis/blob/ff3a3577f29a07e965b3b38d07894410d28da499/src/cluster.c#L5067-L5078\r\n\r\nyes.. look like we should use `addReplyLongLong`, introduced in https://github.com/redis/redis/pull/10293#pullrequestreview-963484288\r\nthis will be a breaking change, but i think we should fix it if not intentional, otherwise we fix the doc\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1118641256/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T14:45:29Z","updated_at":"2022-05-05T14:45:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/redis/issues/10293","repository_url":"https://api.github.com/repos/redis/redis","labels_url":"https://api.github.com/repos/redis/redis/issues/10293/labels{/name}","comments_url":"https://api.github.com/repos/redis/redis/issues/10293/comments","events_url":"https://api.github.com/repos/redis/redis/issues/10293/events","html_url":"https://github.com/redis/redis/pull/10293","id":1136110818,"node_id":"PR_kwDOAAJhcs4yuK1q","number":10293,"title":"Add cluster shards support.","user":{"login":"hpatro","id":30795839,"node_id":"MDQ6VXNlcjMwNzk1ODM5","avatar_url":"https://avatars.githubusercontent.com/u/30795839?v=4","gravatar_id":"","url":"https://api.github.com/users/hpatro","html_url":"https://github.com/hpatro","followers_url":"https://api.github.com/users/hpatro/followers","following_url":"https://api.github.com/users/hpatro/following{/other_user}","gists_url":"https://api.github.com/users/hpatro/gists{/gist_id}","starred_url":"https://api.github.com/users/hpatro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hpatro/subscriptions","organizations_url":"https://api.github.com/users/hpatro/orgs","repos_url":"https://api.github.com/users/hpatro/repos","events_url":"https://api.github.com/users/hpatro/events{/privacy}","received_events_url":"https://api.github.com/users/hpatro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2215206194,"node_id":"MDU6TGFiZWwyMjE1MjA2MTk0","url":"https://api.github.com/repos/redis/redis/labels/state:needs-doc-pr","name":"state:needs-doc-pr","color":"d8bc31","default":false,"description":"requires a PR to redis-doc repository"},{"id":2215208801,"node_id":"MDU6TGFiZWwyMjE1MjA4ODAx","url":"https://api.github.com/repos/redis/redis/labels/state:major-decision","name":"state:major-decision","color":"44f221","default":false,"description":"Requires core team consensus"},{"id":2219859425,"node_id":"MDU6TGFiZWwyMjE5ODU5NDI1","url":"https://api.github.com/repos/redis/redis/labels/release-notes","name":"release-notes","color":"b60205","default":false,"description":"indication that this issue needs to be mentioned in the release notes"},{"id":2572777300,"node_id":"MDU6TGFiZWwyNTcyNzc3MzAw","url":"https://api.github.com/repos/redis/redis/labels/approval-needed","name":"approval-needed","color":"ef1a33","default":false,"description":"Waiting for core team approval to be merged"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":38,"created_at":"2022-02-13T16:39:45Z","updated_at":"2022-05-05T16:01:55Z","closed_at":"2022-03-16T01:24:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":156018,"node_id":"MDEwOlJlcG9zaXRvcnkxNTYwMTg=","name":"redis","full_name":"redis/redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/redis","description":"For developers, who are building real-time data-driven applications, Redis is the preferred, fastest, and most feature-rich cache, data structure server, and document and vector query engine.","fork":false,"url":"https://api.github.com/repos/redis/redis","forks_url":"https://api.github.com/repos/redis/redis/forks","keys_url":"https://api.github.com/repos/redis/redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/redis/teams","hooks_url":"https://api.github.com/repos/redis/redis/hooks","issue_events_url":"https://api.github.com/repos/redis/redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/redis/events","assignees_url":"https://api.github.com/repos/redis/redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/redis/tags","blobs_url":"https://api.github.com/repos/redis/redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/redis/languages","stargazers_url":"https://api.github.com/repos/redis/redis/stargazers","contributors_url":"https://api.github.com/repos/redis/redis/contributors","subscribers_url":"https://api.github.com/repos/redis/redis/subscribers","subscription_url":"https://api.github.com/repos/redis/redis/subscription","commits_url":"https://api.github.com/repos/redis/redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/redis/merges","archive_url":"https://api.github.com/repos/redis/redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/redis/downloads","issues_url":"https://api.github.com/repos/redis/redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/redis/deployments","created_at":"2009-03-21T22:32:25Z","updated_at":"2025-11-10T01:47:26Z","pushed_at":"2025-11-09T07:49:54Z","git_url":"git://github.com/redis/redis.git","ssh_url":"git@github.com:redis/redis.git","clone_url":"https://github.com/redis/redis.git","svn_url":"https://github.com/redis/redis","homepage":"http://redis.io","size":204997,"stargazers_count":71629,"watchers_count":71629,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":24316,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2706,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","caching","database","distributed-systems","in-memory","in-memory-database","json","key-value","key-value-store","message-broker","message-queue","no-sql","nosql","open-source","real-time","realtime","redis","time-series","vector-databases","vector-search"],"visibility":"public","forks":24316,"open_issues":2706,"watchers":71629,"default_branch":"unstable","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/redis/redis/pulls/10293","html_url":"https://github.com/redis/redis/pull/10293","diff_url":"https://github.com/redis/redis/pull/10293.diff","patch_url":"https://github.com/redis/redis/pull/10293.patch","merged_at":"2022-03-16T01:24:41Z"},"body":"Ref #10168 \r\n\r\nImplement a new `CLUSTER SHARDS` command which provides more information to clients in an extensible format. This intended to be an alternative to `CLUSTER SLOTS` that provides more information and is more efficient for clusters with disjoint slot assignment. It is also to help migrate some clients currently using `CLUSTER NODES`.\r\n\r\nThe cluster slot command is a map of \"shards\", where a shard is a collection of nodes serving the same set of slots. If a node is serving no slots, it is said to exist in its own shard. Each shard contains a dictionary with two properties, \"slots\" and \"nodes\". Slots are a list of two value integer which indicate start and stop slot ranges. Nodes is a dictionary that contains the following attributres:\r\n* ID: The unique ID for this node.\r\n* port: The TCP port for this node, if available.\r\n* tls-port: The TLS port for this node, if available.\r\n* hostname: The propagated hostname for this node, if available. \r\n* endpoint: The preferred endpoint for the node. See https://redis.io/commands/cluster-slots for what the value of this represents.\r\n* role: Either master or replica. Please consider the alternative where we say the \"first\" node in the list is the master. \r\n* replication-offset: Reported for masters and replicas. This field can be used to read from the most \"up-to date\" replica, or checking how far behind replicas are from the master.\r\n* health: The reported health of this node to clients, one of three values:\r\n* * online: The node is online and healthy.\r\n* * fail: The node is confirmed dead.\r\n* * loading: The node is currently doing a full sync, so don't try to connect to it.\r\n\r\n(Note, I think endpoint is missing, also replication-offset is missing from masters)\r\n\r\nSample request/response:\r\n```\r\n127.0.0.1:6379> CLUSTER SHARDS\r\n1) 1) \"slots\"\r\n   2) 1) (integer) 10923\r\n      2) (integer) 11110\r\n      3) (integer) 11113\r\n      4) (integer) 16111\r\n      5) (integer) 16113\r\n      6) (integer) 16383\r\n   3) \"nodes\"\r\n   4) 1)  1) \"id\"\r\n          2) \"71f058078c142a73b94767a4e78e9033d195dfb4\"\r\n          3) \"port\"\r\n          4) (integer) 6381\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"role\"\r\n          8) \"primary\"\r\n          9) \"health\"\r\n         10) \"online\"\r\n      2)  1) \"id\"\r\n          2) \"1461967c62eab0e821ed54f2c98e594fccfd8736\"\r\n          3) \"port\"\r\n          4) (integer) 7381\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"role\"\r\n          8) \"replica\"\r\n          9) \"replication-offset\"\r\n         10) (integer) 0\r\n         11) \"health\"\r\n         12) \"fail\"\r\n2) 1) \"slots\"\r\n   2) 1) (integer) 5461\r\n      2) (integer) 10922\r\n   3) \"nodes\"\r\n   4) 1)  1) \"id\"\r\n          2) \"9215e30cd4a71070088778080565de6ef75fd459\"\r\n          3) \"port\"\r\n          4) (integer) 6380\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"role\"\r\n          8) \"primary\"\r\n          9) \"health\"\r\n         10) \"online\"\r\n      2)  1) \"id\"\r\n          2) \"877fa59da72cb902d0563d3d8def3437fc3a0196\"\r\n          3) \"port\"\r\n          4) (integer) 7380\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"role\"\r\n          8) \"replica\"\r\n          9) \"replication-offset\"\r\n         10) (integer) 0\r\n         11) \"health\"\r\n         12) \"loading\"\r\n3) 1) \"slots\"\r\n   2) 1) (integer) 0\r\n      2) (integer) 5460\r\n      3) (integer) 11111\r\n      4) (integer) 11112\r\n      3) (integer) 16112\r\n      4) (integer) 16112\r\n   3) \"nodes\"\r\n   4) 1)  1) \"id\"\r\n          2) \"b7e9acc0def782aabe6b596f67f06c73c2ffff93\"\r\n          3) \"port\"\r\n          4) (integer) 7379\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"role\"\r\n          8) \"primary\"\r\n          9) \"health\"\r\n         10) \"online\"\r\n      2)  1) \"id\"\r\n          2) \"e2acf1a97c055fd09dcc2c0dcc62b19a6905dbc8\"\r\n          3) \"port\"\r\n          4) (integer) 6379\r\n          5) \"ip\"\r\n          6) \"127.0.0.1\"\r\n          7) \"hostname\"\r\n          8) \"host-1.com\"\r\n          9) \"role\"\r\n         10) \"replica\"\r\n         11) \"replication-offset\"\r\n         12) (integer) 0\r\n         13) \"health\"\r\n         14) \"loading\"\r\n```\r\n\r\n### Open considerations\r\n* Should we expose cluster epoch in some capacity.\r\n* * Pros: Clients will be able to compare multiple different slot responses, and compare epochs. (Omitted for now, we can add it later)\r\n* * Cons: Epochs are not coherent except for mastership membership, so not a great indicator of anything.\r\n* Should we also expose PFAIL (or timedout) as a health indicator. (Omitted, since it's not a reliable indicator for node health and we don't want clients to use it)\r\n* * Pros: Some clients want to be able to know a node is timedout and might be in fail soon. This may also be useful in split network situations, but I'm not clear of that use case.\r\n* * Cons: The time delta between pfail and fail for a hard down node is pretty small, since it will start gossiping the failure immediately. Clients might implement extra logic to handle this case.\r\n\r\n- [x] Code changes\r\n- [x] Test cases for slot/slotrange/nodes/roles/ip/port/node_name\r\n- [x] Test cases for health as LOADING\r\n- [x] Test cases for endpoint ","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/10293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/redis/issues/10293/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6557960639,"node_id":"REFE_lADOAAJhcs5JGlkmzwAAAAGG4om_","url":"https://api.github.com/repos/redis/redis/issues/events/6557960639","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"401e679c133ffa2523408b36fc2748e5acd9e5aa","commit_url":"https://api.github.com/repos/enjoy-binbin/redis/commits/401e679c133ffa2523408b36fc2748e5acd9e5aa","created_at":"2022-05-05T16:33:15Z","performed_via_github_app":null},{"actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:33:38Z","updated_at":"2022-05-05T16:33:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/redis/issues/10683","repository_url":"https://api.github.com/repos/redis/redis","labels_url":"https://api.github.com/repos/redis/redis/issues/10683/labels{/name}","comments_url":"https://api.github.com/repos/redis/redis/issues/10683/comments","events_url":"https://api.github.com/repos/redis/redis/issues/10683/events","html_url":"https://github.com/redis/redis/pull/10683","id":1226923895,"node_id":"PR_kwDOAAJhcs43Xe81","number":10683,"title":"CLUSTER SHARDS should returns slots as integers, not strings","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2215208801,"node_id":"MDU6TGFiZWwyMjE1MjA4ODAx","url":"https://api.github.com/repos/redis/redis/labels/state:major-decision","name":"state:major-decision","color":"44f221","default":false,"description":"Requires core team consensus"},{"id":2219859425,"node_id":"MDU6TGFiZWwyMjE5ODU5NDI1","url":"https://api.github.com/repos/redis/redis/labels/release-notes","name":"release-notes","color":"b60205","default":false,"description":"indication that this issue needs to be mentioned in the release notes"},{"id":3184203450,"node_id":"MDU6TGFiZWwzMTg0MjAzNDUw","url":"https://api.github.com/repos/redis/redis/labels/breaking-change","name":"breaking-change","color":"D33E0D","default":false,"description":"This change can potentially break existing application"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-05-05T16:33:38Z","updated_at":"2022-05-10T11:52:53Z","closed_at":"2022-05-10T11:22:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":156018,"node_id":"MDEwOlJlcG9zaXRvcnkxNTYwMTg=","name":"redis","full_name":"redis/redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/redis","description":"For developers, who are building real-time data-driven applications, Redis is the preferred, fastest, and most feature-rich cache, data structure server, and document and vector query engine.","fork":false,"url":"https://api.github.com/repos/redis/redis","forks_url":"https://api.github.com/repos/redis/redis/forks","keys_url":"https://api.github.com/repos/redis/redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/redis/teams","hooks_url":"https://api.github.com/repos/redis/redis/hooks","issue_events_url":"https://api.github.com/repos/redis/redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/redis/events","assignees_url":"https://api.github.com/repos/redis/redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/redis/tags","blobs_url":"https://api.github.com/repos/redis/redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/redis/languages","stargazers_url":"https://api.github.com/repos/redis/redis/stargazers","contributors_url":"https://api.github.com/repos/redis/redis/contributors","subscribers_url":"https://api.github.com/repos/redis/redis/subscribers","subscription_url":"https://api.github.com/repos/redis/redis/subscription","commits_url":"https://api.github.com/repos/redis/redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/redis/merges","archive_url":"https://api.github.com/repos/redis/redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/redis/downloads","issues_url":"https://api.github.com/repos/redis/redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/redis/deployments","created_at":"2009-03-21T22:32:25Z","updated_at":"2025-11-10T01:47:26Z","pushed_at":"2025-11-09T07:49:54Z","git_url":"git://github.com/redis/redis.git","ssh_url":"git@github.com:redis/redis.git","clone_url":"https://github.com/redis/redis.git","svn_url":"https://github.com/redis/redis","homepage":"http://redis.io","size":204997,"stargazers_count":71629,"watchers_count":71629,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":24316,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2706,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","caching","database","distributed-systems","in-memory","in-memory-database","json","key-value","key-value-store","message-broker","message-queue","no-sql","nosql","open-source","real-time","realtime","redis","time-series","vector-databases","vector-search"],"visibility":"public","forks":24316,"open_issues":2706,"watchers":71629,"default_branch":"unstable","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/redis/redis/pulls/10683","html_url":"https://github.com/redis/redis/pull/10683","diff_url":"https://github.com/redis/redis/pull/10683.diff","patch_url":"https://github.com/redis/redis/pull/10683.patch","merged_at":"2022-05-10T11:22:01Z"},"body":"It used to returns slots as strings, like:\r\n```\r\nredis> cluster shards\r\n1) 1) \"slots\"\r\n   2) 1) \"10923\"\r\n      2) \"16383\"\r\n```\r\n\r\nCLUSTER SHARDS docs and the top comment of #10293 says that it returns integers.\r\nNote other commands like CLUSTER SLOTS, it returns slots as integers.\r\nUse addReplyLongLong instead of addReplyBulkLongLong, now it returns slots as integers:\r\n```\r\nredis> cluster shards\r\n1) 1) \"slots\"\r\n   2) 1) (integer) 10923\r\n      2) (integer) 16383\r\n```\r\n\r\nThis is a small breaking change, introduced in 7.0.0 (7.0 RC3, #10293)\r\n\r\nFixes #10680","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/10683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/redis/issues/10683/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6581080557,"node_id":"CE_lADOAAJhcs5JGlkmzwAAAAGIQ1Ht","url":"https://api.github.com/repos/redis/redis/issues/events/6581080557","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-05-10T11:22:01Z","state_reason":null,"performed_via_github_app":null},{"id":6581082558,"node_id":"REFE_lADOAAJhcs5JGlkmzwAAAAGIQ1m-","url":"https://api.github.com/repos/redis/redis/issues/events/6581082558","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2a1ea8c7d811cb4461cd42a0c7b811910c80fcb2","commit_url":"https://api.github.com/repos/redis/redis/commits/2a1ea8c7d811cb4461cd42a0c7b811910c80fcb2","created_at":"2022-05-10T11:22:20Z","performed_via_github_app":null},{"id":6636658109,"node_id":"REFE_lADOAAJhcs5JGlkmzwAAAAGLk129","url":"https://api.github.com/repos/redis/redis/issues/events/6636658109","actor":{"login":"jhelbaum","id":33225905,"node_id":"MDQ6VXNlcjMzMjI1OTA1","avatar_url":"https://avatars.githubusercontent.com/u/33225905?v=4","gravatar_id":"","url":"https://api.github.com/users/jhelbaum","html_url":"https://github.com/jhelbaum","followers_url":"https://api.github.com/users/jhelbaum/followers","following_url":"https://api.github.com/users/jhelbaum/following{/other_user}","gists_url":"https://api.github.com/users/jhelbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/jhelbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhelbaum/subscriptions","organizations_url":"https://api.github.com/users/jhelbaum/orgs","repos_url":"https://api.github.com/users/jhelbaum/repos","events_url":"https://api.github.com/users/jhelbaum/events{/privacy}","received_events_url":"https://api.github.com/users/jhelbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fd1f74f7dd42299405c5f9da17e416b594378bfd","commit_url":"https://api.github.com/repos/jhelbaum/redis/commits/fd1f74f7dd42299405c5f9da17e416b594378bfd","created_at":"2022-05-18T23:21:49Z","performed_via_github_app":null},{"id":6646044570,"node_id":"REFE_lADOAAJhcs5JGlkmzwAAAAGMIpea","url":"https://api.github.com/repos/redis/redis/issues/events/6646044570","actor":{"login":"jhelbaum","id":33225905,"node_id":"MDQ6VXNlcjMzMjI1OTA1","avatar_url":"https://avatars.githubusercontent.com/u/33225905?v=4","gravatar_id":"","url":"https://api.github.com/users/jhelbaum","html_url":"https://github.com/jhelbaum","followers_url":"https://api.github.com/users/jhelbaum/followers","following_url":"https://api.github.com/users/jhelbaum/following{/other_user}","gists_url":"https://api.github.com/users/jhelbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/jhelbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhelbaum/subscriptions","organizations_url":"https://api.github.com/users/jhelbaum/orgs","repos_url":"https://api.github.com/users/jhelbaum/repos","events_url":"https://api.github.com/users/jhelbaum/events{/privacy}","received_events_url":"https://api.github.com/users/jhelbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"24064cff295c870d41c93a0387f14a7aa52b661c","commit_url":"https://api.github.com/repos/jhelbaum/redis/commits/24064cff295c870d41c93a0387f14a7aa52b661c","created_at":"2022-05-19T21:33:59Z","performed_via_github_app":null},{"id":9966086252,"node_id":"REFE_lADOAAJhcs5JGlkmzwAAAAJSBmhs","url":"https://api.github.com/repos/redis/redis/issues/events/9966086252","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fb5df5fc45893af196183fe0abc841760554c35c","commit_url":"https://api.github.com/repos/enjoy-binbin/redis/commits/fb5df5fc45893af196183fe0abc841760554c35c","created_at":"2023-07-31T16:15:30Z","performed_via_github_app":null}]