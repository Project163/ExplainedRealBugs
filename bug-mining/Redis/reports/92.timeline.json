[{"url":"https://api.github.com/repos/redis/redis/issues/comments/1888612355","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1888612355","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1888612355,"node_id":"IC_kwDOAAJhcs5wkfAD","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-12T08:04:11Z","updated_at":"2024-01-12T08:04:11Z","body":"this look right, do you want to issue a fix?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1888612355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11471241587,"node_id":"REFE_lADOAAJhcs5731v3zwAAAAKrvUFz","url":"https://api.github.com/repos/redis/redis/issues/events/11471241587","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"67326dfc74c2b83aa337a7dea8fc166a4b163cb8","commit_url":"https://api.github.com/repos/enjoy-binbin/redis/commits/67326dfc74c2b83aa337a7dea8fc166a4b163cb8","created_at":"2024-01-12T16:21:11Z","performed_via_github_app":null},{"actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-12T16:21:36Z","updated_at":"2024-01-12T16:21:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/redis/issues/12943","repository_url":"https://api.github.com/repos/redis/redis","labels_url":"https://api.github.com/repos/redis/redis/issues/12943/labels{/name}","comments_url":"https://api.github.com/repos/redis/redis/issues/12943/comments","events_url":"https://api.github.com/repos/redis/redis/issues/12943/events","html_url":"https://github.com/redis/redis/pull/12943","id":2079218975,"node_id":"PR_kwDOAAJhcs5j8gB1","number":12943,"title":"Fix fd check in memtest_test_linux_anonymous_maps","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-01-12T16:21:35Z","updated_at":"2024-01-14T15:02:19Z","closed_at":"2024-01-14T09:18:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":156018,"node_id":"MDEwOlJlcG9zaXRvcnkxNTYwMTg=","name":"redis","full_name":"redis/redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/redis","description":"For developers, who are building real-time data-driven applications, Redis is the preferred, fastest, and most feature-rich cache, data structure server, and document and vector query engine.","fork":false,"url":"https://api.github.com/repos/redis/redis","forks_url":"https://api.github.com/repos/redis/redis/forks","keys_url":"https://api.github.com/repos/redis/redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/redis/teams","hooks_url":"https://api.github.com/repos/redis/redis/hooks","issue_events_url":"https://api.github.com/repos/redis/redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/redis/events","assignees_url":"https://api.github.com/repos/redis/redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/redis/tags","blobs_url":"https://api.github.com/repos/redis/redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/redis/languages","stargazers_url":"https://api.github.com/repos/redis/redis/stargazers","contributors_url":"https://api.github.com/repos/redis/redis/contributors","subscribers_url":"https://api.github.com/repos/redis/redis/subscribers","subscription_url":"https://api.github.com/repos/redis/redis/subscription","commits_url":"https://api.github.com/repos/redis/redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/redis/merges","archive_url":"https://api.github.com/repos/redis/redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/redis/downloads","issues_url":"https://api.github.com/repos/redis/redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/redis/deployments","created_at":"2009-03-21T22:32:25Z","updated_at":"2025-11-10T01:47:26Z","pushed_at":"2025-11-09T07:49:54Z","git_url":"git://github.com/redis/redis.git","ssh_url":"git@github.com:redis/redis.git","clone_url":"https://github.com/redis/redis.git","svn_url":"https://github.com/redis/redis","homepage":"http://redis.io","size":204997,"stargazers_count":71629,"watchers_count":71629,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":24316,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2706,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","caching","database","distributed-systems","in-memory","in-memory-database","json","key-value","key-value-store","message-broker","message-queue","no-sql","nosql","open-source","real-time","realtime","redis","time-series","vector-databases","vector-search"],"visibility":"public","forks":24316,"open_issues":2706,"watchers":71629,"default_branch":"unstable","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/redis/redis/pulls/12943","html_url":"https://github.com/redis/redis/pull/12943","diff_url":"https://github.com/redis/redis/pull/12943.diff","patch_url":"https://github.com/redis/redis/pull/12943.patch","merged_at":"2024-01-14T09:18:18Z"},"body":"The open function returns a fd on success or -1 on failure,\r\nhere we should check fd != -1, otherwise -1 will be judged\r\nas success.\r\n\r\nThis closes #12938.","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/12943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/redis/issues/12943/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1890687114","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1890687114","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1890687114,"node_id":"IC_kwDOAAJhcs5wsZiK","user":{"login":"shahsb","id":20738488,"node_id":"MDQ6VXNlcjIwNzM4NDg4","avatar_url":"https://avatars.githubusercontent.com/u/20738488?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsb","html_url":"https://github.com/shahsb","followers_url":"https://api.github.com/users/shahsb/followers","following_url":"https://api.github.com/users/shahsb/following{/other_user}","gists_url":"https://api.github.com/users/shahsb/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsb/subscriptions","organizations_url":"https://api.github.com/users/shahsb/orgs","repos_url":"https://api.github.com/users/shahsb/repos","events_url":"https://api.github.com/users/shahsb/events{/privacy}","received_events_url":"https://api.github.com/users/shahsb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-13T18:40:17Z","updated_at":"2024-01-13T18:40:17Z","body":"> **Describe the bug**\r\n> \r\n> The open() function returns a file descriptor on success or -1 on failure. In the given code snippet, the condition if (!fd) is used to check if open() failed. However, this condition will evaluate to true if the file descriptor is 0, which could be a valid value.\r\n> \r\n> redis/src/debug.c.\r\n> \r\n> To fix this, you should check if open() returned -1 specifically to determine if it failed. The correct condition would be if (fd == -1).\r\n> \r\n> ![image](https://private-user-images.githubusercontent.com/73597061/296159375-4d379e0c-db38-451e-ba6e-7474c020cd8b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDUxNzE0MzksIm5iZiI6MTcwNTE3MTEzOSwicGF0aCI6Ii83MzU5NzA2MS8yOTYxNTkzNzUtNGQzNzllMGMtZGIzOC00NTFlLWJhNmUtNzQ3NGMwMjBjZDhiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTEzVDE4Mzg1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThkZjU5NzQ5MDk5ZGVlZjIzNDlmZDM4YWY3OTVhY2Q5OTgzMDZmOWRmNDdhZGVhMjg1ZDdhYjRhODIxMGQ4ZDYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.3CPevXrxVdcNII2VLhJRC2CSJKfq5qNdgZfjhgS3Zlg)\r\n\r\n\r\nThis is a good catch - @Chaoshuai-Li . Could you please elaborate how did you catch this?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1890687114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shahsb","id":20738488,"node_id":"MDQ6VXNlcjIwNzM4NDg4","avatar_url":"https://avatars.githubusercontent.com/u/20738488?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsb","html_url":"https://github.com/shahsb","followers_url":"https://api.github.com/users/shahsb/followers","following_url":"https://api.github.com/users/shahsb/following{/other_user}","gists_url":"https://api.github.com/users/shahsb/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsb/subscriptions","organizations_url":"https://api.github.com/users/shahsb/orgs","repos_url":"https://api.github.com/users/shahsb/repos","events_url":"https://api.github.com/users/shahsb/events{/privacy}","received_events_url":"https://api.github.com/users/shahsb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11478629507,"node_id":"MEE_lADOAAJhcs5731v3zwAAAAKsLfyD","url":"https://api.github.com/repos/redis/redis/issues/events/11478629507","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-13T18:40:17Z","performed_via_github_app":null},{"id":11478629509,"node_id":"SE_lADOAAJhcs5731v3zwAAAAKsLfyF","url":"https://api.github.com/repos/redis/redis/issues/events/11478629509","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-13T18:40:17Z","performed_via_github_app":null},{"id":11480585734,"node_id":"CE_lADOAAJhcs5731v3zwAAAAKsS9YG","url":"https://api.github.com/repos/redis/redis/issues/events/11480585734","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-01-14T09:18:19Z","state_reason":null,"performed_via_github_app":null},{"id":11480585740,"node_id":"REFE_lADOAAJhcs5731v3zwAAAAKsS9YM","url":"https://api.github.com/repos/redis/redis/issues/events/11480585740","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"284ef21ea000f18d1eaac374679e0d0561f7bef8","commit_url":"https://api.github.com/repos/redis/redis/commits/284ef21ea000f18d1eaac374679e0d0561f7bef8","created_at":"2024-01-14T09:18:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891202041","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1891202041","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1891202041,"node_id":"IC_kwDOAAJhcs5wuXP5","user":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-15T02:20:52Z","updated_at":"2024-01-15T02:20:52Z","body":"> > **Describe the bug**\r\n> > The open() function returns a file descriptor on success or -1 on failure. In the given code snippet, the condition if (!fd) is used to check if open() failed. However, this condition will evaluate to true if the file descriptor is 0, which could be a valid value.\r\n> > redis/src/debug.c.\r\n> > To fix this, you should check if open() returned -1 specifically to determine if it failed. The correct condition would be if (fd == -1).\r\n> > ![image](https://private-user-images.githubusercontent.com/73597061/296159375-4d379e0c-db38-451e-ba6e-7474c020cd8b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDUxNzE0MzksIm5iZiI6MTcwNTE3MTEzOSwicGF0aCI6Ii83MzU5NzA2MS8yOTYxNTkzNzUtNGQzNzllMGMtZGIzOC00NTFlLWJhNmUtNzQ3NGMwMjBjZDhiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTEzVDE4Mzg1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThkZjU5NzQ5MDk5ZGVlZjIzNDlmZDM4YWY3OTVhY2Q5OTgzMDZmOWRmNDdhZGVhMjg1ZDdhYjRhODIxMGQ4ZDYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.3CPevXrxVdcNII2VLhJRC2CSJKfq5qNdgZfjhgS3Zlg)\r\n> \r\n> This is a good catch - @Chaoshuai-Li . Could you please elaborate how did you catch this?\r\n\r\nWe only discovered it while using our self-developed static analysis tool to analyze Redis. There are also other resource leak vulnerabilities that we found during our audit, which seem to be triggered as well. Could you please perform an audit?\r\n\r\nWe only discovered it while using our self-developed static analysis tool to analyze Redis. There are also other resource leak vulnerabilities that we found during our audit, which seem to be triggered as well. Could you please perform an audit?\r\n\r\n![image](https://github.com/redis/redis/assets/73597061/37ed64d8-a1ee-4601-b2d1-a7b9e899fa6d)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891202041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11482958329,"node_id":"MEE_lADOAAJhcs5731v3zwAAAAKscAn5","url":"https://api.github.com/repos/redis/redis/issues/events/11482958329","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-15T02:20:53Z","performed_via_github_app":null},{"id":11482958339,"node_id":"SE_lADOAAJhcs5731v3zwAAAAKscAoD","url":"https://api.github.com/repos/redis/redis/issues/events/11482958339","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-15T02:20:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891202940","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1891202940","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1891202940,"node_id":"IC_kwDOAAJhcs5wuXd8","user":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-15T02:22:10Z","updated_at":"2024-01-15T02:22:10Z","body":"> this look right, do you want to issue a fix?\r\n\r\nSorry for the delayed response. Your fix is correct and straightforward.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891202940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891218880","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1891218880","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1891218880,"node_id":"IC_kwDOAAJhcs5wubXA","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-15T02:45:21Z","updated_at":"2024-01-15T02:45:21Z","body":"> We only discovered it while using our self-developed static analysis tool to analyze Redis. There are also other resource leak vulnerabilities that we found during our audit, which seem to be triggered as well. Could you please perform an audit?\r\n\r\nthanks, i scanned the parts you mentioned. Some have been fixed in unstable, and the rest are actually false positives. Can you scan for the unstable branch? i can deal with them all at once.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891218880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891357456","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1891357456","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1891357456,"node_id":"IC_kwDOAAJhcs5wu9MQ","user":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-15T06:10:31Z","updated_at":"2024-01-15T06:10:31Z","body":"> > We only discovered it while using our self-developed static analysis tool to analyze Redis. There are also other resource leak vulnerabilities that we found during our audit, which seem to be triggered as well. Could you please perform an audit?\r\n> \r\n> thanks, i scanned the parts you mentioned. Some have been fixed in unstable, and the rest are actually false positives. Can you scan for the unstable branch? i can deal with them all at once.\r\n\r\n![image](https://github.com/redis/redis/assets/73597061/2d098f88-e001-437d-b7fd-e57e5ed17557)\r\n![image](https://github.com/redis/redis/assets/73597061/58b02978-2383-410e-b146-c63cfec745ec)\r\n![image](https://github.com/redis/redis/assets/73597061/191825c0-0c29-489f-b2e0-401a88fcf788)\r\n\r\nIs the usage of fstat() function in lines 235, 346, and 382 of the src/redis-check-aof.c file in the unstable branch correct? Please confirm if it is a false positive. The inconsistent code style in Redis regarding the usage of fstat() does not ensure that the opened file resources do not need to be released. It should follow the consistent code style as shown in src/util.c.\r\n\r\n![image](https://github.com/redis/redis/assets/73597061/b204f602-f13b-4917-b752-67457e382b9c)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1891357456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1895317694","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1895317694","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1895317694,"node_id":"IC_kwDOAAJhcs5w-EC-","user":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-17T08:27:03Z","updated_at":"2024-01-17T08:27:03Z","body":"> > > We only discovered it while using our self-developed static analysis tool to analyze Redis. There are also other resource leak vulnerabilities that we found during our audit, which seem to be triggered as well. Could you please perform an audit?\r\n> > \r\n> > \r\n> > thanks, i scanned the parts you mentioned. Some have been fixed in unstable, and the rest are actually false positives. Can you scan for the unstable branch? i can deal with them all at once.\r\n> \r\n> ![image](https://private-user-images.githubusercontent.com/73597061/296667189-2d098f88-e001-437d-b7fd-e57e5ed17557.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDU0ODAxNzIsIm5iZiI6MTcwNTQ3OTg3MiwicGF0aCI6Ii83MzU5NzA2MS8yOTY2NjcxODktMmQwOThmODgtZTAwMS00MzdkLWI3ZmQtZTU3ZTVlZDE3NTU3LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTE3VDA4MjQzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZiODE0OGUxM2U4ZGFjMGRmOTIxOWFlNGFkYjAwMjEzNDNiZjJkZmEzZjZlYjZiYmUwNjg3OWRkYzU4YjcxN2UmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.ZZ-YpDhZY117MiiXMlI3D80-bFLxNm6Bqq0RnyFtc1Y) ![image](https://private-user-images.githubusercontent.com/73597061/296667244-58b02978-2383-410e-b146-c63cfec745ec.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDU0ODAxNzIsIm5iZiI6MTcwNTQ3OTg3MiwicGF0aCI6Ii83MzU5NzA2MS8yOTY2NjcyNDQtNThiMDI5NzgtMjM4My00MTBlLWIxNDYtYzYzY2ZlYzc0NWVjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTE3VDA4MjQzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQ3YTIxOTdjYmE3MmQwYmJlZjMxN2JmYWZhOTIxNzY3NDAxM2U4NDEwZDIyNzFjZmUxZDQ0MjBmMWJmMDEzMTQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.hWJP-kJMEzFWJRt5yeQij37-qLMoODXz3cVBSdGZjoo) ![image](https://private-user-images.githubusercontent.com/73597061/296667290-191825c0-0c29-489f-b2e0-401a88fcf788.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDU0ODAxNzIsIm5iZiI6MTcwNTQ3OTg3MiwicGF0aCI6Ii83MzU5NzA2MS8yOTY2NjcyOTAtMTkxODI1YzAtMGMyOS00ODlmLWIyZTAtNDAxYTg4ZmNmNzg4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTE3VDA4MjQzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQ2OTY5YzU2OTI0NTY3ZTRiNDhlNzc5MTZiYTk5YjIzM2MyMDVkZjc3MmNiYjk3Yzc5YTIwNTViZjM5YjhlOTEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.Hjh7By6HTbr93D0PXnCwRign5gQbwvvJ5poaZu45BJI)\r\n> \r\n> Is the usage of fstat() function in lines 235, 346, and 382 of the src/redis-check-aof.c file in the unstable branch correct? Please confirm if it is a false positive. The inconsistent code style in Redis regarding the usage of fstat() does not ensure that the opened file resources do not need to be released. It should follow the consistent code style as shown in src/util.c.\r\n> \r\n> ![image](https://private-user-images.githubusercontent.com/73597061/296666336-b204f602-f13b-4917-b752-67457e382b9c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDU0ODAxNzIsIm5iZiI6MTcwNTQ3OTg3MiwicGF0aCI6Ii83MzU5NzA2MS8yOTY2NjYzMzYtYjIwNGY2MDItZjEzYi00OTE3LWI3NTItNjc0NTdlMzgyYjljLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMTclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTE3VDA4MjQzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWEyYWM3NmFmYjBjYWZkNGQ1OWQ1YzdkYWEyYzQ5N2I5OWVhYjFiNmE3YWYxN2IxNTQ0ZjE4NDMwYzU2NjU4YjAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.QbG9jUm2YjsKUAlwg5Qvbh85LqXIl90pZUQJOwDEpvk)\r\n\r\n@enjoy-binbin Sorry to bother you. What are your opinions on these three inspection results?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1895317694/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Chaoshuai-Li","id":73597061,"node_id":"MDQ6VXNlcjczNTk3MDYx","avatar_url":"https://avatars.githubusercontent.com/u/73597061?v=4","gravatar_id":"","url":"https://api.github.com/users/Chaoshuai-Li","html_url":"https://github.com/Chaoshuai-Li","followers_url":"https://api.github.com/users/Chaoshuai-Li/followers","following_url":"https://api.github.com/users/Chaoshuai-Li/following{/other_user}","gists_url":"https://api.github.com/users/Chaoshuai-Li/gists{/gist_id}","starred_url":"https://api.github.com/users/Chaoshuai-Li/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chaoshuai-Li/subscriptions","organizations_url":"https://api.github.com/users/Chaoshuai-Li/orgs","repos_url":"https://api.github.com/users/Chaoshuai-Li/repos","events_url":"https://api.github.com/users/Chaoshuai-Li/events{/privacy}","received_events_url":"https://api.github.com/users/Chaoshuai-Li/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11508122938,"node_id":"MEE_lADOAAJhcs5731v3zwAAAAKt8AU6","url":"https://api.github.com/repos/redis/redis/issues/events/11508122938","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-17T08:27:03Z","performed_via_github_app":null},{"id":11508122946,"node_id":"SE_lADOAAJhcs5731v3zwAAAAKt8AVC","url":"https://api.github.com/repos/redis/redis/issues/events/11508122946","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-17T08:27:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1897684949","html_url":"https://github.com/redis/redis/issues/12938#issuecomment-1897684949","issue_url":"https://api.github.com/repos/redis/redis/issues/12938","id":1897684949,"node_id":"IC_kwDOAAJhcs5xHF_V","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-18T02:48:51Z","updated_at":"2024-01-18T02:48:51Z","body":"they are false positive since we will do a exit after the check, but i do agree we should cleanup the resource. \r\n\r\nI noticed them while working on #12958 and planned to fix the issues in redis-check-aof.c there","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1897684949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11765972793,"node_id":"REFE_lADOAAJhcs5731v3zwAAAAK9Tn85","url":"https://api.github.com/repos/redis/redis/issues/events/11765972793","actor":{"login":"roggervalf","id":14021523,"node_id":"MDQ6VXNlcjE0MDIxNTIz","avatar_url":"https://avatars.githubusercontent.com/u/14021523?v=4","gravatar_id":"","url":"https://api.github.com/users/roggervalf","html_url":"https://github.com/roggervalf","followers_url":"https://api.github.com/users/roggervalf/followers","following_url":"https://api.github.com/users/roggervalf/following{/other_user}","gists_url":"https://api.github.com/users/roggervalf/gists{/gist_id}","starred_url":"https://api.github.com/users/roggervalf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roggervalf/subscriptions","organizations_url":"https://api.github.com/users/roggervalf/orgs","repos_url":"https://api.github.com/users/roggervalf/repos","events_url":"https://api.github.com/users/roggervalf/events{/privacy}","received_events_url":"https://api.github.com/users/roggervalf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"55dabb7bb9a6bbe9b258d4dd9d4ab89fc9a4272a","commit_url":"https://api.github.com/repos/roggervalf/redis/commits/55dabb7bb9a6bbe9b258d4dd9d4ab89fc9a4272a","created_at":"2024-02-11T00:33:44Z","performed_via_github_app":null},{"id":19751511879,"node_id":"REFE_lADOAAJhcs5731v3zwAAAASZSCdH","url":"https://api.github.com/repos/redis/redis/issues/events/19751511879","actor":{"login":"funny-dog","id":65377729,"node_id":"MDQ6VXNlcjY1Mzc3NzI5","avatar_url":"https://avatars.githubusercontent.com/u/65377729?v=4","gravatar_id":"","url":"https://api.github.com/users/funny-dog","html_url":"https://github.com/funny-dog","followers_url":"https://api.github.com/users/funny-dog/followers","following_url":"https://api.github.com/users/funny-dog/following{/other_user}","gists_url":"https://api.github.com/users/funny-dog/gists{/gist_id}","starred_url":"https://api.github.com/users/funny-dog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/funny-dog/subscriptions","organizations_url":"https://api.github.com/users/funny-dog/orgs","repos_url":"https://api.github.com/users/funny-dog/repos","events_url":"https://api.github.com/users/funny-dog/events{/privacy}","received_events_url":"https://api.github.com/users/funny-dog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b2dbc78f6299a86085e691695e24536724a7f330","commit_url":"https://api.github.com/repos/funny-dog/redis/commits/b2dbc78f6299a86085e691695e24536724a7f330","created_at":"2025-09-17T14:04:39Z","performed_via_github_app":null}]