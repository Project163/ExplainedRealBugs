[{"url":"https://api.github.com/repos/redis/redis/issues/comments/607971315","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-607971315","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":607971315,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzk3MTMxNQ==","user":{"login":"antirez","id":65632,"node_id":"MDQ6VXNlcjY1NjMy","avatar_url":"https://avatars.githubusercontent.com/u/65632?v=4","gravatar_id":"","url":"https://api.github.com/users/antirez","html_url":"https://github.com/antirez","followers_url":"https://api.github.com/users/antirez/followers","following_url":"https://api.github.com/users/antirez/following{/other_user}","gists_url":"https://api.github.com/users/antirez/gists{/gist_id}","starred_url":"https://api.github.com/users/antirez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antirez/subscriptions","organizations_url":"https://api.github.com/users/antirez/orgs","repos_url":"https://api.github.com/users/antirez/repos","events_url":"https://api.github.com/users/antirez/events{/privacy}","received_events_url":"https://api.github.com/users/antirez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T17:03:14Z","updated_at":"2020-04-02T17:03:14Z","body":"Hi @guybe7, yeah, basically the idea here is that this behavior is both simple, and clear for the user: in this way the caller can understand that entries it is trying to fetch were deleted by someone, and can ignore them, at the same time we don't have to do any cleanup in the PEL, that may be in many many consumer groups. That's ll. So it's by design. Maybe we should document this better?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/607971315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"antirez","id":65632,"node_id":"MDQ6VXNlcjY1NjMy","avatar_url":"https://avatars.githubusercontent.com/u/65632?v=4","gravatar_id":"","url":"https://api.github.com/users/antirez","html_url":"https://github.com/antirez","followers_url":"https://api.github.com/users/antirez/followers","following_url":"https://api.github.com/users/antirez/following{/other_user}","gists_url":"https://api.github.com/users/antirez/gists{/gist_id}","starred_url":"https://api.github.com/users/antirez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antirez/subscriptions","organizations_url":"https://api.github.com/users/antirez/orgs","repos_url":"https://api.github.com/users/antirez/repos","events_url":"https://api.github.com/users/antirez/events{/privacy}","received_events_url":"https://api.github.com/users/antirez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3193139578,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE5MzEzOTU3OA==","url":"https://api.github.com/repos/redis/redis/issues/events/3193139578","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-02T17:03:14Z","performed_via_github_app":null},{"id":3193139582,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxOTMxMzk1ODI=","url":"https://api.github.com/repos/redis/redis/issues/events/3193139582","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-02T17:03:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/686787343","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-686787343","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":686787343,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njc4NzM0Mw==","user":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T22:04:11Z","updated_at":"2020-09-03T22:04:11Z","body":"@guybe7 I think the more confusing behavior here is that XPENDING still returns the IDs\r\n```\r\n127.0.0.1:6379> XPENDING x grp\r\n1) (integer) 2\r\n2) \"1-0\"\r\n3) \"2-0\"\r\n4) 1) 1) \"Alice\"\r\n      2) \"2\"\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/686787343/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3726946659,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzcyNjk0NjY1OQ==","url":"https://api.github.com/repos/redis/redis/issues/events/3726946659","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-03T22:04:11Z","performed_via_github_app":null},{"id":3726946661,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3MjY5NDY2NjE=","url":"https://api.github.com/repos/redis/redis/issues/events/3726946661","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-03T22:04:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/688774004","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-688774004","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":688774004,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODc3NDAwNA==","user":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T10:21:58Z","updated_at":"2020-09-08T10:21:58Z","body":"@gkorland yes... just don't know if it's worth fixing... i'm guessing not a lot of people use XDEL (i wonder if it happens also with XTRIM... then maybe we have some justification)","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/688774004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3740219904,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc0MDIxOTkwNA==","url":"https://api.github.com/repos/redis/redis/issues/events/3740219904","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-08T10:21:58Z","performed_via_github_app":null},{"id":3740219912,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3NDAyMTk5MTI=","url":"https://api.github.com/repos/redis/redis/issues/events/3740219912","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-08T10:21:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/716809085","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-716809085","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":716809085,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjgwOTA4NQ==","user":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T20:37:56Z","updated_at":"2020-10-26T20:37:56Z","body":"Have the same unexpected behavior with XPENDING\r\n```\r\n127.0.0.1:6379> XRANGE product_action_attribute.update - +\r\n(empty list or set)\r\n127.0.0.1:6379> XPENDING product_action_attribute.update test\r\n1) (integer) 1\r\n2) \"1603691795580-0\"\r\n3) \"1603691795580-0\"\r\n4) 1) 1) \"app-xdebug:c:597\"\r\n      2) \"1\"\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/716809085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/717134199","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-717134199","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":717134199,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzEzNDE5OQ==","user":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T10:12:16Z","updated_at":"2020-10-27T10:12:16Z","body":"if we want to fix this strange behavior we will have to pay in complexity: every time we trim or delete an entry from a stream we will have to scan each PEL of each cgroup and mark the NACK as \"invalid\" and make sure we don't account \"invalid\" NACKs in XPENDING, XCLAIM etc. \r\notherwise we can scan each PEL of each cgroup + each PEL of each consumer and just delete NACKs of a certain range.\r\nanyway, it seems like it's not worth it... unless it really bothers people and they have some good reasoning... @gkorland @kandy is this more than an annoying cosmetic issue?\r\n\r\nin theory there should be a GC mechanism for streams (to actually free memory of XDELeted entries), maybe it can also do some CG-related house cleaning? not sure it's a good idea because it's a bit weird a cron task will affect the result of a command","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/717134199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3925060638,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzkyNTA2MDYzOA==","url":"https://api.github.com/repos/redis/redis/issues/events/3925060638","actor":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-10-27T10:12:16Z","performed_via_github_app":null},{"id":3925060646,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5MjUwNjA2NDY=","url":"https://api.github.com/repos/redis/redis/issues/events/3925060646","actor":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-10-27T10:12:16Z","performed_via_github_app":null},{"id":3925060657,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzkyNTA2MDY1Nw==","url":"https://api.github.com/repos/redis/redis/issues/events/3925060657","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-10-27T10:12:16Z","performed_via_github_app":null},{"id":3925060661,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5MjUwNjA2NjE=","url":"https://api.github.com/repos/redis/redis/issues/events/3925060661","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-10-27T10:12:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/764655671","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-764655671","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":764655671,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDY1NTY3MQ==","user":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T13:50:56Z","updated_at":"2021-01-21T13:50:56Z","body":"Mailing list related: https://groups.google.com/g/redis-db/c/wT8MUKQ-ehg/m/r5ffTv7yBgAJ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/764655671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/764677193","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-764677193","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":764677193,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDY3NzE5Mw==","user":{"login":"asalabaev","id":1402675,"node_id":"MDQ6VXNlcjE0MDI2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1402675?v=4","gravatar_id":"","url":"https://api.github.com/users/asalabaev","html_url":"https://github.com/asalabaev","followers_url":"https://api.github.com/users/asalabaev/followers","following_url":"https://api.github.com/users/asalabaev/following{/other_user}","gists_url":"https://api.github.com/users/asalabaev/gists{/gist_id}","starred_url":"https://api.github.com/users/asalabaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asalabaev/subscriptions","organizations_url":"https://api.github.com/users/asalabaev/orgs","repos_url":"https://api.github.com/users/asalabaev/repos","events_url":"https://api.github.com/users/asalabaev/events{/privacy}","received_events_url":"https://api.github.com/users/asalabaev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T14:25:01Z","updated_at":"2021-01-21T14:25:01Z","body":"I agree the existing behavior makes sense in some scenarios, e.g. the consumer seeing a NULL body may fire an alert about the message/information got lost, you may need to be re-submitted to the queue, etc. On the other hand the client can ignore NULL message body. A documentation would help preventing sudden NullPointerExceptions when processing message body of a missing entry","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/764677193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"asalabaev","id":1402675,"node_id":"MDQ6VXNlcjE0MDI2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1402675?v=4","gravatar_id":"","url":"https://api.github.com/users/asalabaev","html_url":"https://github.com/asalabaev","followers_url":"https://api.github.com/users/asalabaev/followers","following_url":"https://api.github.com/users/asalabaev/following{/other_user}","gists_url":"https://api.github.com/users/asalabaev/gists{/gist_id}","starred_url":"https://api.github.com/users/asalabaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asalabaev/subscriptions","organizations_url":"https://api.github.com/users/asalabaev/orgs","repos_url":"https://api.github.com/users/asalabaev/repos","events_url":"https://api.github.com/users/asalabaev/events{/privacy}","received_events_url":"https://api.github.com/users/asalabaev/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/919394024","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-919394024","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":919394024,"node_id":"IC_kwDOAAJhcs42zNbo","user":{"login":"monotykamary","id":1130103,"node_id":"MDQ6VXNlcjExMzAxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1130103?v=4","gravatar_id":"","url":"https://api.github.com/users/monotykamary","html_url":"https://github.com/monotykamary","followers_url":"https://api.github.com/users/monotykamary/followers","following_url":"https://api.github.com/users/monotykamary/following{/other_user}","gists_url":"https://api.github.com/users/monotykamary/gists{/gist_id}","starred_url":"https://api.github.com/users/monotykamary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monotykamary/subscriptions","organizations_url":"https://api.github.com/users/monotykamary/orgs","repos_url":"https://api.github.com/users/monotykamary/repos","events_url":"https://api.github.com/users/monotykamary/events{/privacy}","received_events_url":"https://api.github.com/users/monotykamary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-14T18:08:34Z","updated_at":"2021-09-14T18:08:34Z","body":"> @gkorland yes... just don't know if it's worth fixing... i'm guessing not a lot of people use XDEL (i wonder if it happens also with XTRIM... then maybe we have some justification)\r\n\r\nI've found that this also happens with XTRIM and with XADD at a fixed threshold with tons of writes and it accumulates a lot of garbage entries. With XADD threshold at ~1,000 and an ingestion rate of 10,000+ and XACK failing 0.1% of the time leads to about 20 null entries every minute with occasional spikes. At the very least, it's definitely not a cosmetic issue if consumers are unexpectedly able to consume null entries or loop through trash.\r\n\r\nTo avoid this, I just call XPENDING and XCLAIM: if an XCLAIM item returns null, XACK it and throw an error and essentially clean it from the pending list.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/919394024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"monotykamary","id":1130103,"node_id":"MDQ6VXNlcjExMzAxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1130103?v=4","gravatar_id":"","url":"https://api.github.com/users/monotykamary","html_url":"https://github.com/monotykamary","followers_url":"https://api.github.com/users/monotykamary/followers","following_url":"https://api.github.com/users/monotykamary/following{/other_user}","gists_url":"https://api.github.com/users/monotykamary/gists{/gist_id}","starred_url":"https://api.github.com/users/monotykamary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monotykamary/subscriptions","organizations_url":"https://api.github.com/users/monotykamary/orgs","repos_url":"https://api.github.com/users/monotykamary/repos","events_url":"https://api.github.com/users/monotykamary/events{/privacy}","received_events_url":"https://api.github.com/users/monotykamary/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5301339464,"node_id":"MEE_lADOAAJhcs4i8Tt8zwAAAAE7_AVI","url":"https://api.github.com/repos/redis/redis/issues/events/5301339464","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-09-14T18:08:35Z","performed_via_github_app":null},{"id":5301339472,"node_id":"SE_lADOAAJhcs4i8Tt8zwAAAAE7_AVQ","url":"https://api.github.com/repos/redis/redis/issues/events/5301339472","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-09-14T18:08:35Z","performed_via_github_app":null},{"id":5993847332,"node_id":"AE_lADOAAJhcs4i8Tt8zwAAAAFlQtok","url":"https://api.github.com/repos/redis/redis/issues/events/5993847332","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-02-02T07:52:48Z","assignee":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":5995520687,"node_id":"REFE_lADOAAJhcs4i8Tt8zwAAAAFlXGKv","url":"https://api.github.com/repos/redis/redis/issues/events/5995520687","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5a3628b1a50f0edaa52da01fd53b22eb312952d6","commit_url":"https://api.github.com/repos/guybe7/redis/commits/5a3628b1a50f0edaa52da01fd53b22eb312952d6","created_at":"2022-02-02T12:49:31Z","performed_via_github_app":null},{"id":5995537721,"node_id":"REFE_lADOAAJhcs4i8Tt8zwAAAAFlXKU5","url":"https://api.github.com/repos/redis/redis/issues/events/5995537721","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d58292a2ad74f4538603edcf6c5c112e69bd96a8","commit_url":"https://api.github.com/repos/guybe7/redis/commits/d58292a2ad74f4538603edcf6c5c112e69bd96a8","created_at":"2022-02-02T12:52:33Z","performed_via_github_app":null},{"actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-02T12:53:38Z","updated_at":"2022-02-02T12:53:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/redis/issues/10227","repository_url":"https://api.github.com/repos/redis/redis","labels_url":"https://api.github.com/repos/redis/redis/issues/10227/labels{/name}","comments_url":"https://api.github.com/repos/redis/redis/issues/10227/comments","events_url":"https://api.github.com/repos/redis/redis/issues/10227/events","html_url":"https://github.com/redis/redis/pull/10227","id":1121891719,"node_id":"PR_kwDOAAJhcs4x9w77","number":10227,"title":"X[AUTO]CLAIM should skip deleted entries","user":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2215208801,"node_id":"MDU6TGFiZWwyMjE1MjA4ODAx","url":"https://api.github.com/repos/redis/redis/labels/state:major-decision","name":"state:major-decision","color":"44f221","default":false,"description":"Requires core team consensus"},{"id":2219859425,"node_id":"MDU6TGFiZWwyMjE5ODU5NDI1","url":"https://api.github.com/repos/redis/redis/labels/release-notes","name":"release-notes","color":"b60205","default":false,"description":"indication that this issue needs to be mentioned in the release notes"},{"id":3184203450,"node_id":"MDU6TGFiZWwzMTg0MjAzNDUw","url":"https://api.github.com/repos/redis/redis/labels/breaking-change","name":"breaking-change","color":"D33E0D","default":false,"description":"This change can potentially break existing application"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-02-02T12:53:37Z","updated_at":"2022-02-08T08:20:10Z","closed_at":"2022-02-08T08:20:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":156018,"node_id":"MDEwOlJlcG9zaXRvcnkxNTYwMTg=","name":"redis","full_name":"redis/redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/redis","description":"For developers, who are building real-time data-driven applications, Redis is the preferred, fastest, and most feature-rich cache, data structure server, and document and vector query engine.","fork":false,"url":"https://api.github.com/repos/redis/redis","forks_url":"https://api.github.com/repos/redis/redis/forks","keys_url":"https://api.github.com/repos/redis/redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/redis/teams","hooks_url":"https://api.github.com/repos/redis/redis/hooks","issue_events_url":"https://api.github.com/repos/redis/redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/redis/events","assignees_url":"https://api.github.com/repos/redis/redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/redis/tags","blobs_url":"https://api.github.com/repos/redis/redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/redis/languages","stargazers_url":"https://api.github.com/repos/redis/redis/stargazers","contributors_url":"https://api.github.com/repos/redis/redis/contributors","subscribers_url":"https://api.github.com/repos/redis/redis/subscribers","subscription_url":"https://api.github.com/repos/redis/redis/subscription","commits_url":"https://api.github.com/repos/redis/redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/redis/merges","archive_url":"https://api.github.com/repos/redis/redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/redis/downloads","issues_url":"https://api.github.com/repos/redis/redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/redis/deployments","created_at":"2009-03-21T22:32:25Z","updated_at":"2025-11-10T01:47:26Z","pushed_at":"2025-11-09T07:49:54Z","git_url":"git://github.com/redis/redis.git","ssh_url":"git@github.com:redis/redis.git","clone_url":"https://github.com/redis/redis.git","svn_url":"https://github.com/redis/redis","homepage":"http://redis.io","size":204997,"stargazers_count":71629,"watchers_count":71629,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":24316,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2706,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","caching","database","distributed-systems","in-memory","in-memory-database","json","key-value","key-value-store","message-broker","message-queue","no-sql","nosql","open-source","real-time","realtime","redis","time-series","vector-databases","vector-search"],"visibility":"public","forks":24316,"open_issues":2706,"watchers":71629,"default_branch":"unstable","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/redis/redis/pulls/10227","html_url":"https://github.com/redis/redis/pull/10227","diff_url":"https://github.com/redis/redis/pull/10227.diff","patch_url":"https://github.com/redis/redis/pull/10227.patch","merged_at":"2022-02-08T08:20:09Z"},"body":"Fix #7021 #8924 #10198\r\n\r\n# Intro\r\nBefore this commit X[AUTO]CLAIM used to transfer deleted entries from one PEL to another, but reply with \"nil\" for every such entry (instead of the entry id).\r\nThe idea (for XCLAIM) was that the caller could see this \"nil\", realize the entry no longer exists, and XACK it in order to remove it from PEL.\r\nThe main problem with that approach is that it assumes there's a correlation between the index of the \"id\" arguments and the array indices, which there isn't (in case some of the input IDs to XCLAIM never existed/read):\r\n```\r\n127.0.0.1:6379> XADD x 1 f1 v1\r\n\"1-0\"\r\n127.0.0.1:6379> XADD x 2 f1 v1\r\n\"2-0\"\r\n127.0.0.1:6379> XADD x 3 f1 v1\r\n\"3-0\"\r\n127.0.0.1:6379> XGROUP CREATE x grp 0\r\nOK\r\n127.0.0.1:6379> XREADGROUP GROUP grp Alice COUNT 2 STREAMS x >\r\n1) 1) \"x\"\r\n   2) 1) 1) \"1-0\"\r\n         2) 1) \"f1\"\r\n            2) \"v1\"\r\n      2) 1) \"2-0\"\r\n         2) 1) \"f1\"\r\n            2) \"v1\"\r\n127.0.0.1:6379> XDEL x 1 2\r\n(integer) 2\r\n127.0.0.1:6379> XCLAIM x grp Bob 0 0-99 1-0 1-99 2-0\r\n1) (nil)\r\n2) (nil)\r\n```\r\n\r\n# Changes\r\nNow,  X[AUTO]CLAIM acts in the following way:\r\n1. If one tries to claim a deleted entry, we delete it from the PEL we found it in (and the group PEL too). So de facto, such entry is not claimed, just cleared from PEL (since anyway it doesn't exist in the stream)\r\n2. since we never claim deleted entries, X[AUTO]CLAIM will never return \"nil\" instead of an entry.\r\n3. add a new element to XAUTOCLAIM's response (see below)\r\n\r\n# Knowing which entries were cleared from the PEL\r\nThe caller may want to log any entries that were found in a PEL but deleted from the stream itself (it would suggest that there might be a bug in the application: trimming the stream while some entries were still no processed by the consumers)\r\n\r\n## XCLAIM\r\nthe set {XCLAIM input ids} - {XCLAIM returned ids} contains all the entry ids that were not claimed which means they were deleted (assuming the input contains only entries from some PEL). The user doesn't need to XACK them because XCLAIM had already deleted them from the source PEL.\r\n\r\n## XAUTOCLAIM\r\nXAUTOCLAIM has a new element added to its reply: it's an array of all the deleted stream IDs it stumbled upon.\r\n\r\nThis is somewhat of a breaking change since X[AUTO]CLAIM used to be able to reply with \"nil\" and now it can't... But since it was undocumented (and generally a bad idea to rely on it, as explained above) the breakage is not that bad.","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/10227/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/redis/issues/10227/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1027939792","html_url":"https://github.com/redis/redis/issues/7021#issuecomment-1027939792","issue_url":"https://api.github.com/repos/redis/redis/issues/7021","id":1027939792,"node_id":"IC_kwDOAAJhcs49RR3Q","user":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-02T13:26:47Z","updated_at":"2022-02-02T14:39:56Z","body":"@gkorland @kandy @asalabaev @monotykamary this issue was partly fixed in https://github.com/redis/redis/pull/10227\r\n\r\n# Intro\r\n\r\nthe main problem with using XACK on all ids for which \"nil\" was returned is that there's no guarantee for any correlation between the index of the \"id\" arguments and the array indices.\r\nfor example:\r\n```\r\n127.0.0.1:6379> XADD x 1 f1 v1\r\n\"1-0\"\r\n127.0.0.1:6379> XADD x 2 f1 v1\r\n\"2-0\"\r\n127.0.0.1:6379> XADD x 3 f1 v1\r\n\"3-0\"\r\n127.0.0.1:6379> XGROUP CREATE x grp 0\r\nOK\r\n127.0.0.1:6379> XREADGROUP GROUP grp Alice COUNT 2 STREAMS x >\r\n1) 1) \"x\"\r\n   2) 1) 1) \"1-0\"\r\n         2) 1) \"f1\"\r\n            2) \"v1\"\r\n      2) 1) \"2-0\"\r\n         2) 1) \"f1\"\r\n            2) \"v1\"\r\n127.0.0.1:6379> XDEL x 1 2\r\n(integer) 2\r\n127.0.0.1:6379> XCLAIM x grp Bob 0 0-99 1-0 1-99 2-0\r\n1) (nil)\r\n2) (nil)\r\n```\r\n\r\nthe PR mentioned above makes X[AUTO]CLAIM clear the NACK of a deleted entry from wherever it found it. So it will never reply with \"nil\" for any entry.\r\n\r\n# Knowing which entries were cleared from the PEL\r\n\r\n## XCLAIM\r\nthe set {XCLAIM input ids} - {XCLAIM returned ids} contains all the entry ids that were not claimed which means they were deleted (assuming the input contains only entries from some PEL). The user doesn't need to XACK them because XCLAIM had already deleted them from the source PEL.\r\n\r\n## XAUTOCLAIM\r\nXAUTOCLAIM has a new element added to its reply: it's an array of all the deleted stream IDs it stumbled upon.\r\n\r\nplease LMK if you see an issue with that approach\r\n\r\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1027939792/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"guybe7","id":19590683,"node_id":"MDQ6VXNlcjE5NTkwNjgz","avatar_url":"https://avatars.githubusercontent.com/u/19590683?v=4","gravatar_id":"","url":"https://api.github.com/users/guybe7","html_url":"https://github.com/guybe7","followers_url":"https://api.github.com/users/guybe7/followers","following_url":"https://api.github.com/users/guybe7/following{/other_user}","gists_url":"https://api.github.com/users/guybe7/gists{/gist_id}","starred_url":"https://api.github.com/users/guybe7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guybe7/subscriptions","organizations_url":"https://api.github.com/users/guybe7/orgs","repos_url":"https://api.github.com/users/guybe7/repos","events_url":"https://api.github.com/users/guybe7/events{/privacy}","received_events_url":"https://api.github.com/users/guybe7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5995754515,"node_id":"MEE_lADOAAJhcs4i8Tt8zwAAAAFlX_QT","url":"https://api.github.com/repos/redis/redis/issues/events/5995754515","actor":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-02T13:26:47Z","performed_via_github_app":null},{"id":5995754519,"node_id":"SE_lADOAAJhcs4i8Tt8zwAAAAFlX_QX","url":"https://api.github.com/repos/redis/redis/issues/events/5995754519","actor":{"login":"kandy","id":100289,"node_id":"MDQ6VXNlcjEwMDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/100289?v=4","gravatar_id":"","url":"https://api.github.com/users/kandy","html_url":"https://github.com/kandy","followers_url":"https://api.github.com/users/kandy/followers","following_url":"https://api.github.com/users/kandy/following{/other_user}","gists_url":"https://api.github.com/users/kandy/gists{/gist_id}","starred_url":"https://api.github.com/users/kandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kandy/subscriptions","organizations_url":"https://api.github.com/users/kandy/orgs","repos_url":"https://api.github.com/users/kandy/repos","events_url":"https://api.github.com/users/kandy/events{/privacy}","received_events_url":"https://api.github.com/users/kandy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-02T13:26:47Z","performed_via_github_app":null},{"id":5995754530,"node_id":"MEE_lADOAAJhcs4i8Tt8zwAAAAFlX_Qi","url":"https://api.github.com/repos/redis/redis/issues/events/5995754530","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-02T13:26:47Z","performed_via_github_app":null},{"id":5995754533,"node_id":"SE_lADOAAJhcs4i8Tt8zwAAAAFlX_Ql","url":"https://api.github.com/repos/redis/redis/issues/events/5995754533","actor":{"login":"gkorland","id":753206,"node_id":"MDQ6VXNlcjc1MzIwNg==","avatar_url":"https://avatars.githubusercontent.com/u/753206?v=4","gravatar_id":"","url":"https://api.github.com/users/gkorland","html_url":"https://github.com/gkorland","followers_url":"https://api.github.com/users/gkorland/followers","following_url":"https://api.github.com/users/gkorland/following{/other_user}","gists_url":"https://api.github.com/users/gkorland/gists{/gist_id}","starred_url":"https://api.github.com/users/gkorland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkorland/subscriptions","organizations_url":"https://api.github.com/users/gkorland/orgs","repos_url":"https://api.github.com/users/gkorland/repos","events_url":"https://api.github.com/users/gkorland/events{/privacy}","received_events_url":"https://api.github.com/users/gkorland/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-02-02T13:26:47Z","performed_via_github_app":null},{"id":5995754544,"node_id":"MEE_lADOAAJhcs4i8Tt8zwAAAAFlX_Qw","url":"https://api.github.com/repos/redis/redis/issues/events/5995754544","actor":{"login":"monotykamary","id":1130103,"node_id":"MDQ6VXNlcjExMzAxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1130103?v=4","gravatar_id":"","url":"https://api.github.com/users/monotykamary","html_url":"https://github.com/monotykamary","followers_url":"https://api.github.com/users/monotykamary/followers","following_url":"https://api.github.com/users/monotykamary/following{/other_user}","gists_url":"https://api.github.com/users/monotykamary/gists{/gist_id}","starred_url":"https://api.github.com/users/monotykamary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monotykamary/subscriptions","organizations_url":"https://api.github.com/users/monotykamary/orgs","repos_url":"https://api.github.com/users/monotykamary/repos","events_url":"https://api.github.com/users/monotykamary/events{/privacy}","received_events_url":"https://api.github.com/users/monotykamary/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-02-02T13:26:48Z","performed_via_github_app":null}]