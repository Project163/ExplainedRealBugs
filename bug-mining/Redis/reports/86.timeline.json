[{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196531949","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1196531949","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1196531949,"node_id":"IC_kwDOAAJhcs5HUaDt","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T10:08:51Z","updated_at":"2022-07-27T10:16:03Z","body":"thanks for reporting, indeed a bug (redis-cli bug), i tested in unstable branch","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196531949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196561969","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1196561969","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1196561969,"node_id":"IC_kwDOAAJhcs5HUhYx","user":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T10:39:37Z","updated_at":"2022-07-27T10:42:11Z","body":"it seems like the protocol is broken by the UNSUBSCRIBE command (returning multiple RESP replies).\r\nand it seems to have existed in previous versions as well.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196561969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196568437","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1196568437","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1196568437,"node_id":"IC_kwDOAAJhcs5HUi91","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T10:46:39Z","updated_at":"2022-07-27T10:46:39Z","body":"> it seems like the protocol is broken by the UNSUBSCRIBE command (returning multiple RESP replies).\r\nand it seems to have existed in previous versions as well.\r\n\r\nyes and yes, i suppose we need to read the specified number of replies according to the number of parameters.\r\ni am testing it. have a demo fix, didn't test in cluster mode..\r\n\r\nIt's just that the code's special handling of SUBSCRIBE related commands... i will make a PR and see how it will work","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196568437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T10:53:02Z","updated_at":"2022-07-27T10:53:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/redis/issues/11047","repository_url":"https://api.github.com/repos/redis/redis","labels_url":"https://api.github.com/repos/redis/redis/issues/11047/labels{/name}","comments_url":"https://api.github.com/repos/redis/redis/issues/11047/comments","events_url":"https://api.github.com/repos/redis/redis/issues/11047/events","html_url":"https://github.com/redis/redis/pull/11047","id":1319379064,"node_id":"PR_kwDOAAJhcs48K9hq","number":11047,"title":"redis-cli reads specified number of replies for UNSUBSCRIBE/PUNSUBSCRIBE/SUNSUBSCRIBE","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-27T10:53:02Z","updated_at":"2023-03-12T16:08:46Z","closed_at":"2023-03-12T16:08:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":156018,"node_id":"MDEwOlJlcG9zaXRvcnkxNTYwMTg=","name":"redis","full_name":"redis/redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/redis","description":"For developers, who are building real-time data-driven applications, Redis is the preferred, fastest, and most feature-rich cache, data structure server, and document and vector query engine.","fork":false,"url":"https://api.github.com/repos/redis/redis","forks_url":"https://api.github.com/repos/redis/redis/forks","keys_url":"https://api.github.com/repos/redis/redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/redis/teams","hooks_url":"https://api.github.com/repos/redis/redis/hooks","issue_events_url":"https://api.github.com/repos/redis/redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/redis/events","assignees_url":"https://api.github.com/repos/redis/redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/redis/tags","blobs_url":"https://api.github.com/repos/redis/redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/redis/languages","stargazers_url":"https://api.github.com/repos/redis/redis/stargazers","contributors_url":"https://api.github.com/repos/redis/redis/contributors","subscribers_url":"https://api.github.com/repos/redis/redis/subscribers","subscription_url":"https://api.github.com/repos/redis/redis/subscription","commits_url":"https://api.github.com/repos/redis/redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/redis/merges","archive_url":"https://api.github.com/repos/redis/redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/redis/downloads","issues_url":"https://api.github.com/repos/redis/redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/redis/deployments","created_at":"2009-03-21T22:32:25Z","updated_at":"2025-11-10T01:47:26Z","pushed_at":"2025-11-09T07:49:54Z","git_url":"git://github.com/redis/redis.git","ssh_url":"git@github.com:redis/redis.git","clone_url":"https://github.com/redis/redis.git","svn_url":"https://github.com/redis/redis","homepage":"http://redis.io","size":204997,"stargazers_count":71629,"watchers_count":71629,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":24316,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2706,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","caching","database","distributed-systems","in-memory","in-memory-database","json","key-value","key-value-store","message-broker","message-queue","no-sql","nosql","open-source","real-time","realtime","redis","time-series","vector-databases","vector-search"],"visibility":"public","forks":24316,"open_issues":2706,"watchers":71629,"default_branch":"unstable","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/redis/redis/pulls/11047","html_url":"https://github.com/redis/redis/pull/11047","diff_url":"https://github.com/redis/redis/pull/11047.diff","patch_url":"https://github.com/redis/redis/pull/11047.patch","merged_at":"2023-03-12T16:08:03Z"},"body":"In unsubscribe related commands, we need to read the specified\r\nnumber of replies according to the number of parameters.\r\n\r\nThese commands may return multiple RESP replies, and currently\r\nredis-cli only tries to read only one reply.\r\n\r\nFixes #11046, this redis-cli bug seems to be there forever.\r\nNote that the [UN]SUBSCRIBE command response is a bit awkward\r\nsee: https://github.com/redis/redis-doc/pull/2327","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/11047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/redis/issues/11047/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196594604","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1196594604","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1196594604,"node_id":"IC_kwDOAAJhcs5HUpWs","user":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T11:14:57Z","updated_at":"2022-07-27T11:14:57Z","body":"i'm not a pubsub expert, but all other commands reply with a RESP array when they have multiple replies (even if they got multiple inputs).\r\nmaybe it's different when the connection is in pubsub mode, but in this case it isn't.\r\nmaybe it should just reply with an error?\r\n\r\n@itamarhaber please keep me honest.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196594604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7072025257,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAGlhoqp","url":"https://api.github.com/repos/redis/redis/issues/events/7072025257","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-27T11:14:57Z","performed_via_github_app":null},{"id":7072025270,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAGlhoq2","url":"https://api.github.com/repos/redis/redis/issues/events/7072025270","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-27T11:14:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196826012","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1196826012","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1196826012,"node_id":"IC_kwDOAAJhcs5HVh2c","user":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T14:21:08Z","updated_at":"2022-07-27T14:21:08Z","body":"Bringing in clients to gain clarity - @chayim @leibale please opine","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1196826012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7073461111,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAGlnHN3","url":"https://api.github.com/repos/redis/redis/issues/events/7073461111","actor":{"login":"chayim","id":1333958,"node_id":"MDQ6VXNlcjEzMzM5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/1333958?v=4","gravatar_id":"","url":"https://api.github.com/users/chayim","html_url":"https://github.com/chayim","followers_url":"https://api.github.com/users/chayim/followers","following_url":"https://api.github.com/users/chayim/following{/other_user}","gists_url":"https://api.github.com/users/chayim/gists{/gist_id}","starred_url":"https://api.github.com/users/chayim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chayim/subscriptions","organizations_url":"https://api.github.com/users/chayim/orgs","repos_url":"https://api.github.com/users/chayim/repos","events_url":"https://api.github.com/users/chayim/events{/privacy}","received_events_url":"https://api.github.com/users/chayim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-27T14:21:08Z","performed_via_github_app":null},{"id":7073461118,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAGlnHN-","url":"https://api.github.com/repos/redis/redis/issues/events/7073461118","actor":{"login":"chayim","id":1333958,"node_id":"MDQ6VXNlcjEzMzM5NTg=","avatar_url":"https://avatars.githubusercontent.com/u/1333958?v=4","gravatar_id":"","url":"https://api.github.com/users/chayim","html_url":"https://github.com/chayim","followers_url":"https://api.github.com/users/chayim/followers","following_url":"https://api.github.com/users/chayim/following{/other_user}","gists_url":"https://api.github.com/users/chayim/gists{/gist_id}","starred_url":"https://api.github.com/users/chayim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chayim/subscriptions","organizations_url":"https://api.github.com/users/chayim/orgs","repos_url":"https://api.github.com/users/chayim/repos","events_url":"https://api.github.com/users/chayim/events{/privacy}","received_events_url":"https://api.github.com/users/chayim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-27T14:21:08Z","performed_via_github_app":null},{"id":7073461128,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAGlnHOI","url":"https://api.github.com/repos/redis/redis/issues/events/7073461128","actor":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-27T14:21:08Z","performed_via_github_app":null},{"id":7073461136,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAGlnHOQ","url":"https://api.github.com/repos/redis/redis/issues/events/7073461136","actor":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-27T14:21:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209018306","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1209018306","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1209018306,"node_id":"IC_kwDOAAJhcs5IECfC","user":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T07:33:11Z","updated_at":"2022-08-09T07:33:11Z","body":"trying to pick this up again, i still think it's a bug in redis (not the CLI).\r\nthe connection is not in a pubsub mode, so it should reply with a plain error, and not with a pubsub type message.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209018306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209026844","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1209026844","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1209026844,"node_id":"IC_kwDOAAJhcs5IEEkc","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T07:40:54Z","updated_at":"2022-08-09T07:40:54Z","body":"yes, think again now, i agree with oran.\r\nthe connection is not in pubsub mode, and i guess reject these command is the better way to go","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209026844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209179151","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1209179151","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1209179151,"node_id":"IC_kwDOAAJhcs5IEpwP","user":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T10:06:15Z","updated_at":"2022-08-09T10:06:15Z","body":"so you are suggesting that\r\n```\r\nUNSUBSCRIBE channel\r\n```\r\nwill throw an error, but\r\n```\r\nSUBSCRIBE channel\r\nUNSUBSCRIBE another-channel\r\n```\r\nwill \"work\"?\r\nand what about `UNSUBSCRIBE` without arguments (which normally unsubscribes from all channels) when the client is not in pubsub mode?\r\n\r\nIMO we should leave it as is and fix the bug in redis-cli","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209179151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209204991","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1209204991","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1209204991,"node_id":"IC_kwDOAAJhcs5IEwD_","user":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T10:31:07Z","updated_at":"2022-08-09T10:31:07Z","body":"yes, i think an UNSUBSCUBE that arrives to a connection that's in pubsub mode should speak the \"pubsub protocol\", but it if arrives on a connection that's not in pubsub mode it should speak a \"normal\" redis protocol.\r\n\r\nsame about UNSUBSCRIBE without argument, if it arrives on a connection that's not in pubsub mode it should respond with a \"normal\" redis protocol response.\r\nhowever, it seems that in this case we don't have a problem since the subscribed channel list is expected to be empty, and redis will respond with a single array response.\r\n\r\nI don't think the bug is in redis-cli, so we can't fix it there, it's redis that breaks it's own protocol.\r\n\r\n@leibale are you aware of any client library that issues an UNSUBSCRIBE on a connection that's not in pubsub mode and will get broken by such a change?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1209204991/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7154246467,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAGqbSND","url":"https://api.github.com/repos/redis/redis/issues/events/7154246467","actor":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-09T10:31:08Z","performed_via_github_app":null},{"id":7154246476,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAGqbSNM","url":"https://api.github.com/repos/redis/redis/issues/events/7154246476","actor":{"login":"leibale","id":7086055,"node_id":"MDQ6VXNlcjcwODYwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7086055?v=4","gravatar_id":"","url":"https://api.github.com/users/leibale","html_url":"https://github.com/leibale","followers_url":"https://api.github.com/users/leibale/followers","following_url":"https://api.github.com/users/leibale/following{/other_user}","gists_url":"https://api.github.com/users/leibale/gists{/gist_id}","starred_url":"https://api.github.com/users/leibale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leibale/subscriptions","organizations_url":"https://api.github.com/users/leibale/orgs","repos_url":"https://api.github.com/users/leibale/repos","events_url":"https://api.github.com/users/leibale/events{/privacy}","received_events_url":"https://api.github.com/users/leibale/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-09T10:31:08Z","performed_via_github_app":null},{"id":15229226132,"node_id":"ATPVTE_lADOAAJhcs5Oor6BzwAAAAOLu4yU","url":"https://api.github.com/repos/redis/redis/issues/events/15229226132","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2022-10-02T11:08:58Z","performed_via_github_app":null},{"id":15193497907,"node_id":"PVTISC_lADOAAJhcs5Oor6BzwAAAAOJmmEz","url":"https://api.github.com/repos/redis/redis/issues/events/15193497907","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2022-10-02T11:09:00Z","performed_via_github_app":null},{"id":15165279197,"node_id":"PVTISC_lADOAAJhcs5Oor6BzwAAAAOH68vd","url":"https://api.github.com/repos/redis/redis/issues/events/15165279197","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2022-10-02T11:09:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1422364884","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1422364884","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1422364884,"node_id":"IC_kwDOAAJhcs5Ux5DU","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T10:22:26Z","updated_at":"2023-02-08T10:22:26Z","body":"> the connection is not in a pubsub mode, so it should reply with a plain error, and not with a pubsub type message.\r\n\r\ntrying to pick this up, it's a breaking change, but it doesn't seem to matter much, maybe we can do it in 7.2? @oranagra WDYT","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1422364884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8467145015,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAH4rmE3","url":"https://api.github.com/repos/redis/redis/issues/events/8467145015","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-08T10:22:27Z","performed_via_github_app":null},{"id":8467145029,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAH4rmFF","url":"https://api.github.com/repos/redis/redis/issues/events/8467145029","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-08T10:22:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1423600625","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1423600625","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1423600625,"node_id":"IC_kwDOAAJhcs5U2mvx","user":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T04:07:56Z","updated_at":"2023-02-09T04:07:56Z","body":"It appears to be a known situation, breaking change\r\n```\r\n    test \"UNSUBSCRIBE from non-subscribed channels\" {\r\n        set rd1 [redis_deferring_client]\r\n        assert_equal {0 0 0} [unsubscribe $rd1 {foo bar quux}]\r\n\r\n        # clean up clients\r\n        $rd1 close\r\n    }\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1423600625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"enjoy-binbin","id":22811481,"node_id":"MDQ6VXNlcjIyODExNDgx","avatar_url":"https://avatars.githubusercontent.com/u/22811481?v=4","gravatar_id":"","url":"https://api.github.com/users/enjoy-binbin","html_url":"https://github.com/enjoy-binbin","followers_url":"https://api.github.com/users/enjoy-binbin/followers","following_url":"https://api.github.com/users/enjoy-binbin/following{/other_user}","gists_url":"https://api.github.com/users/enjoy-binbin/gists{/gist_id}","starred_url":"https://api.github.com/users/enjoy-binbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enjoy-binbin/subscriptions","organizations_url":"https://api.github.com/users/enjoy-binbin/orgs","repos_url":"https://api.github.com/users/enjoy-binbin/repos","events_url":"https://api.github.com/users/enjoy-binbin/events{/privacy}","received_events_url":"https://api.github.com/users/enjoy-binbin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1423856459","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1423856459","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1423856459,"node_id":"IC_kwDOAAJhcs5U3lNL","user":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T09:08:02Z","updated_at":"2023-02-09T09:08:02Z","body":"i no longer remember all the details, i suppose that considering it's a non-common edge case it doesn't worth fixing and breaking something.\r\nbut on the other hand, if we decide not to fix it in redis, we should fix redis-cli, despite the fact the bug is in redis, and i'm very much uncomfortable with it.\r\nmaybe somehow we can get a reassurance that this breaking change is very unlikely to be noticed by anyone?\r\n@itamarhaber can you help here?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1423856459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8477040732,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAH5RWBc","url":"https://api.github.com/repos/redis/redis/issues/events/8477040732","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-09T09:08:02Z","performed_via_github_app":null},{"id":8477040752,"node_id":"SE_lADOAAJhcs5Oor6BzwAAAAH5RWBw","url":"https://api.github.com/repos/redis/redis/issues/events/8477040752","actor":{"login":"itamarhaber","id":6059516,"node_id":"MDQ6VXNlcjYwNTk1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6059516?v=4","gravatar_id":"","url":"https://api.github.com/users/itamarhaber","html_url":"https://github.com/itamarhaber","followers_url":"https://api.github.com/users/itamarhaber/followers","following_url":"https://api.github.com/users/itamarhaber/following{/other_user}","gists_url":"https://api.github.com/users/itamarhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/itamarhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itamarhaber/subscriptions","organizations_url":"https://api.github.com/users/itamarhaber/orgs","repos_url":"https://api.github.com/users/itamarhaber/repos","events_url":"https://api.github.com/users/itamarhaber/events{/privacy}","received_events_url":"https://api.github.com/users/itamarhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-09T09:08:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/redis/issues/comments/1424901718","html_url":"https://github.com/redis/redis/issues/11046#issuecomment-1424901718","issue_url":"https://api.github.com/repos/redis/redis/issues/11046","id":1424901718,"node_id":"IC_kwDOAAJhcs5U7kZW","user":{"login":"hpatro","id":30795839,"node_id":"MDQ6VXNlcjMwNzk1ODM5","avatar_url":"https://avatars.githubusercontent.com/u/30795839?v=4","gravatar_id":"","url":"https://api.github.com/users/hpatro","html_url":"https://github.com/hpatro","followers_url":"https://api.github.com/users/hpatro/followers","following_url":"https://api.github.com/users/hpatro/following{/other_user}","gists_url":"https://api.github.com/users/hpatro/gists{/gist_id}","starred_url":"https://api.github.com/users/hpatro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hpatro/subscriptions","organizations_url":"https://api.github.com/users/hpatro/orgs","repos_url":"https://api.github.com/users/hpatro/repos","events_url":"https://api.github.com/users/hpatro/events{/privacy}","received_events_url":"https://api.github.com/users/hpatro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T22:10:21Z","updated_at":"2023-02-09T22:10:21Z","body":"@oranagra @enjoy-binbin Wouldn't it be fine to introduce a breaking change to reject `UNSUBSCRIBE`/`SUNSUBSCRIBE` /`PUNSUBSCRIBE` command done outside pubsub mode. I think this adds guardrails to avoid issues further in the future.\r\n\r\nWe currently do the inverse of rejecting most of the commands inside pubsub mode. https://github.com/redis/redis/blob/unstable/src/server.c#L3997-L4011","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/redis/redis/issues/comments/1424901718/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hpatro","id":30795839,"node_id":"MDQ6VXNlcjMwNzk1ODM5","avatar_url":"https://avatars.githubusercontent.com/u/30795839?v=4","gravatar_id":"","url":"https://api.github.com/users/hpatro","html_url":"https://github.com/hpatro","followers_url":"https://api.github.com/users/hpatro/followers","following_url":"https://api.github.com/users/hpatro/following{/other_user}","gists_url":"https://api.github.com/users/hpatro/gists{/gist_id}","starred_url":"https://api.github.com/users/hpatro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hpatro/subscriptions","organizations_url":"https://api.github.com/users/hpatro/orgs","repos_url":"https://api.github.com/users/hpatro/repos","events_url":"https://api.github.com/users/hpatro/events{/privacy}","received_events_url":"https://api.github.com/users/hpatro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8484275435,"node_id":"MEE_lADOAAJhcs5Oor6BzwAAAAH5s8Tr","url":"https://api.github.com/repos/redis/redis/issues/events/8484275435","actor":{"login":"oranagra","id":7045099,"node_id":"MDQ6VXNlcjcwNDUwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/7045099?v=4","gravatar_id":"","url":"https://api.github.com/users/oranagra","html_url":"https://github.com/oranagra","followers_url":"https://api.github.com/users/oranagra/followers","following_url":"https://api.github.com/users/oranagra/following{/other_user}","gists_url":"https://api.github.com/users/oranagra/gists{/gist_id}","starred_url":"https://api.github.com/users/oranagra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oranagra/subscriptions","organizations_url":"https://api.github.com/users/oranagra/orgs","repos_url":"https://api.github.com/users/oranagra/repos","events_url":"https://api.github.com/users/oranagra/events{/privacy}","received_events_url":"https://api.github.com/users/oranagra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-09T22:10:21Z","performed_via_github_app":null}]