<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5426] Page not recognized as stateless although stateful component is hidden in #onConfigure()</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5426</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Page#stateless gets cached. If Page#isStateless() is called before rendering, a page might not be considered stateless although in #onConfigure() all stateful components are hidden.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681249">WICKET-5426</key>
            <summary>Page not recognized as stateless although stateful component is hidden in #onConfigure()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="svenmeier">Sven Meier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2013 12:17:52 +0000</created>
                <updated>Thu, 19 Dec 2013 14:18:05 +0000</updated>
                            <resolved>Thu, 19 Dec 2013 14:18:05 +0000</resolved>
                                    <version>6.12.0</version>
                    <version>7.0.0-M1</version>
                                    <fixVersion>6.13.0</fixVersion>
                    <fixVersion>7.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13832532" author="svenmeier" created="Tue, 26 Nov 2013 12:19:35 +0000"  >&lt;p&gt;related bug in BaseWicketTester&lt;/p&gt;</comment>
                            <comment id="13832817" author="svenmeier" created="Tue, 26 Nov 2013 18:09:07 +0000"  >&lt;p&gt;See WicketTesterLazyIsPageStatelessBase and subclasses.&lt;/p&gt;</comment>
                            <comment id="13834770" author="svenmeier" created="Thu, 28 Nov 2013 12:22:09 +0000"  >&lt;p&gt;The regression of ONE_PASS_RENDER is caused by commit 22f1e04:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3347&quot; title=&quot;Simplify somehow the code in org.apache.wicket.request.handler.render.WebPageRenderer.respond(RequestCycle)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3347&quot;&gt;&lt;del&gt;WICKET-3347&lt;/del&gt;&lt;/a&gt; Simplify ... WebPageRenderer.respond()&lt;/p&gt;

&lt;p&gt;Now #isPageStateless() is called prematurely in line #215 of WebPageRenderer.&lt;/p&gt;

&lt;p&gt;Even worse, for a PageProvider with a pageClass only, the page instance gets created unnecessarily in case of a redirect &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13851712" author="svenmeier" created="Wed, 18 Dec 2013 13:24:49 +0000"  >&lt;p&gt;I&apos;ve changed WebPageRenderer so that #isPageStateless() is no longer called if not needed.&lt;/p&gt;

&lt;p&gt;Thus we now have the same situation as in Wicket 6.x.&lt;/p&gt;</comment>
                            <comment id="13851717" author="mgrigorov" created="Wed, 18 Dec 2013 13:27:21 +0000"  >&lt;p&gt;Thanks, Sven !&lt;/p&gt;</comment>
                            <comment id="13852840" author="svenmeier" created="Thu, 19 Dec 2013 12:04:15 +0000"  >&lt;p&gt;Now as to the actual problem...&lt;/p&gt;

&lt;p&gt;Page#onBeforeRender() resets the cached stateless already:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;     @Override
     &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onBeforeRender()
     {
          ...
          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the page is stateless, reset the flag so that it is tested again
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE.equals(stateless))
          {
               stateless = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
          }
          ...
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why don&apos;t we do this for FALSE too? This would fix this issue.&lt;/p&gt;</comment>
                            <comment id="13852889" author="mgrigorov" created="Thu, 19 Dec 2013 13:32:13 +0000"  >&lt;p&gt;That is, remove the check completely and always set stateless to null.&lt;br/&gt;
I think this will be more correct behavior.&lt;/p&gt;</comment>
                            <comment id="13852916" author="svenmeier" created="Thu, 19 Dec 2013 14:18:05 +0000"  >&lt;p&gt;stateless cache is now cleared in Page#onBeforeRender() regardless of its previous value&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12680977">WICKET-5424</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q5b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>