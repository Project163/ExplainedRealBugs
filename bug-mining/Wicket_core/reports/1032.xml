<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5553] When using an Ajax request to display initially hidden components inside inline enclosures, only the first one appears.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5553</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Consider a simple page with an Ajax link and two initially hidden labels, each of which is inside its own inline enclosure.  Clicking the link makes the labels visible and adds each to the AjaxRequestTarget. &lt;/p&gt;

&lt;p&gt;Here is the behavior I see:  Upon initial page render, each of the two labels is rendered as a hidden inline enclosure div.  This is correct.  But upon clicking the Ajax link, only the first label appears, and I get an AJAX DEBUG error indicating that the second label couldn&apos;t be found.&lt;/p&gt;

&lt;p&gt;I&apos;ve isolated the issue.  In the class org.apache.wicket.protocol.http.AjaxEnclosureListener, there is a call to &quot;visit.stop(key)&quot;.  This halts the entire visitation, and therefore only the first inline enclosure is added to the AjaxRequestTarget.&lt;/p&gt;

&lt;p&gt;The fix, IMO, would be to simply remove the current key from the map once an enclosure is added to the target.  Don&apos;t call stop, and get rid of the local variable &quot;key&quot; which limits the logic of AjaxEnclosureListener to a single enclosure.&lt;/p&gt;

&lt;p&gt;It was working for multiple enclosures prior to the checkin of 2013-08-06.&lt;/p&gt;</description>
                <environment>Windows, Java 7</environment>
        <key id="12707270">WICKET-5553</key>
            <summary>When using an Ajax request to display initially hidden components inside inline enclosures, only the first one appears.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="jamesflagg">James Flagg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2014 21:54:14 +0000</created>
                <updated>Fri, 25 Apr 2014 09:04:30 +0000</updated>
                            <resolved>Fri, 25 Apr 2014 09:04:30 +0000</resolved>
                                    <version>6.14.0</version>
                                    <fixVersion>7.0.0-M1</fixVersion>
                    <fixVersion>6.16.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13963501" author="jamesflagg" created="Tue, 8 Apr 2014 21:57:27 +0000"  >&lt;p&gt;Files to reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="13963867" author="mgrigorov" created="Wed, 9 Apr 2014 06:30:46 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;What do you mean with &quot;prior to the checkin of 2013-08-06&quot; ? Any particular commit ?&lt;/p&gt;

&lt;p&gt;Please package the attached files in a proper Maven based application (wicket.apache.org/start/quickstart.html), so it is easier for us to test and debug it. Thanks !&lt;/p&gt;</comment>
                            <comment id="13964293" author="jamesflagg" created="Wed, 9 Apr 2014 15:42:55 +0000"  >&lt;p&gt;Maven Quckstart to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="13964302" author="jamesflagg" created="Wed, 9 Apr 2014 15:50:36 +0000"  >&lt;p&gt;Commit fa01402233fb56abc0709bcdc6f6a6c008a1abc7 adds the call to visit.stop on line 87 of AjaxEnclosureListener.  This stops visitation of any additional InlineEnclosure after the first match is found.  Thus, when multiple initially hidden components are inside inline enclosures, and more than one of these components becomes visible during a single Ajax Request, only one will actually become visible in the browser, and others will generate errors in the Ajax console.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639274" name="TestAjaxWithMultipleInlineEnclosures.html" size="380" author="jamesflagg" created="Tue, 8 Apr 2014 21:57:27 +0000"/>
                            <attachment id="12639275" name="TestAjaxWithMultipleInlineEnclosures.java" size="1422" author="jamesflagg" created="Tue, 8 Apr 2014 21:57:27 +0000"/>
                            <attachment id="12639420" name="wicket5553.zip" size="23506" author="jamesflagg" created="Wed, 9 Apr 2014 15:42:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ufdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>