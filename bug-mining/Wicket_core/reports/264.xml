<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3820] New Chrome merges text in replaceOuterHtml, breaking wicket-ajax</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3820</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Chrome 13.0.782.24 beta changes the way &quot;element.outerHTML = text&quot; is handled in a way that breaks Wicket&apos;s AJAX rendering compared to Chrome 12.0.782.100 (stable).&lt;/p&gt;

&lt;p&gt;Before the outerHTML assignment that replaces the DOM content, Wicket.replaceOuterHtmlSafari() grabs element.nextSibling. After the outerHTML assignment, it iterates through the new element siblings until the previous &quot;next&quot; is encountered. However, when the new text contains trailing whitespace, and the &quot;previous next&quot; is a text node, the new version of Chrome merges the two text nodes into a single text node, invalidating the iteration&apos;s termination condition. This eventually leads to a null reference, breaking subsequent Javascript/AJAX functionality.&lt;/p&gt;

&lt;p&gt;Is it a good idea to simply add &quot;while (next.nodeType == 3) next = next.nextSibling;&quot; after the next assignment in Wicket.replaceOuterHtmlSafari? This just makes the &quot;previous next&quot; reference something other than a text node.&lt;/p&gt;</description>
                <environment>Chrome 13.0.782.24</environment>
        <key id="12511023">WICKET-3820</key>
            <summary>New Chrome merges text in replaceOuterHtml, breaking wicket-ajax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="dretzlaff">Dan Retzlaff</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jun 2011 02:01:38 +0000</created>
                <updated>Fri, 26 Aug 2011 14:22:57 +0000</updated>
                            <resolved>Thu, 23 Jun 2011 13:45:45 +0000</resolved>
                                    <version>1.4.17</version>
                    <version>1.5-RC5.1</version>
                                    <fixVersion>1.4.18</fixVersion>
                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13052357" author="mgrigorov" created="Tue, 21 Jun 2011 05:50:41 +0000"  >&lt;p&gt;Since recently Chrome is treated as Gecko in replaceOuterHtml(), not as Safari, so this shouldn&apos;t be a problem in RC5.&lt;br/&gt;
Can you test whether Safari fails with this problem ?&lt;/p&gt;</comment>
                            <comment id="13052358" author="ivaynberg" created="Tue, 21 Jun 2011 06:13:42 +0000"  >&lt;p&gt;it bit me earlier today. this is something we will need to fix in 1.4.18&lt;/p&gt;</comment>
                            <comment id="13052361" author="dretzlaff" created="Tue, 21 Jun 2011 06:25:10 +0000"  >&lt;p&gt;It traces to this WebKit change: &lt;a href=&quot;https://bugs.webkit.org/show_bug.cgi?id=52686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.webkit.org/show_bug.cgi?id=52686&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can test in Safari tomorrow, but I think it&apos;s only a matter of time until Safari upgrades its WebKit as well.&lt;/p&gt;</comment>
                            <comment id="13052659" author="dretzlaff" created="Tue, 21 Jun 2011 17:05:04 +0000"  >&lt;p&gt;Safari 5.0.5 (current) has WebKit 533.21.1 and is OK.&lt;br/&gt;
Chrome 12.x (stable) has WebKit 534.3 and is OK.&lt;br/&gt;
Chrome 13.x (beta) has WebKit 535.1 and is broken.&lt;/p&gt;

&lt;p&gt;Since Chrome 12.x was released 2011-06-07, and they release to stable about every 6 weeks, we probably have about 4 weeks before the change hits Chrome stable.&lt;/p&gt;

&lt;p&gt;The Safari 5.1 developer preview uses WebKit 534.42 which does NOT contain the text-merge behavior, so Safari looks good for a while.&lt;/p&gt;</comment>
                            <comment id="13072620" author="david.shepherdson" created="Fri, 29 Jul 2011 00:32:20 +0000"  >&lt;p&gt;The release version of Safari 5.1 (on both Snow Leopard/10.6 and Lion/10.7) appears to include this text-merge change, meaning that Wicket&apos;s AJAX functionality breaks there too.&lt;/p&gt;

&lt;p&gt;We&apos;ll patch our local Wicket accordingly, but for everybody else, how far away is 1.4.18 from release? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12515901">WICKET-3943</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12519776">WICKET-3985</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483234" name="chromeajax.patch" size="520" author="dretzlaff" created="Tue, 21 Jun 2011 02:13:09 +0000"/>
                            <attachment id="12483231" name="chromeajax.zip" size="9637" author="dretzlaff" created="Tue, 21 Jun 2011 02:03:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ka0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>