<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5989] BaseWicketTester#startComponentInPage fails for pages with &lt;wicket:header-items&gt;&lt;/wicket:header&gt; placeholder</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5989</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I am using the &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#startComponentInPage(C)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#startComponentInPage(C)&lt;/a&gt;&lt;/tt&gt; to validate individual components/panels.&lt;/p&gt;

&lt;p&gt;I am overriding the &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#createPage()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#createPage()&lt;/a&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#createPageMarkup(java.lang.String)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#createPageMarkup(java.lang.String)&lt;/a&gt;&lt;/tt&gt; methods to return a dummy page that contains a placeholder for components-to-be-tested. The dummy page extends my base page class.&lt;/p&gt;

&lt;p&gt;My base page class makes use of the &lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/Wicket&amp;#39;s+XHTML+tags#Wicket&amp;#39;sXHTMLtags-Elementwicket:header-items&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&amp;lt;wicket:header-items/&amp;gt;&lt;/a&gt; placeholder tag.&lt;/p&gt;

&lt;p&gt;When attempting to use &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#createPage()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#createPage()&lt;/a&gt;&lt;/tt&gt; method, the method fails with the following error message:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Error while parsing the markup for the autogenerated page: More than one &amp;lt;wicket:header-items/&amp;gt; detected in the &amp;lt;head&amp;gt; element. Only one is allowed.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;If I remove the &lt;tt&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/Wicket&amp;#39;s+XHTML+tags#Wicket&amp;#39;sXHTMLtags-Elementwicket:header-items&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&amp;lt;wicket:header-items/&amp;gt;&lt;/a&gt;&lt;/tt&gt; placeholder tag from my base page class, the test runs successfully.&lt;/p&gt;

&lt;p&gt;The test only fails when using the &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#startComponentInPage(C)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#startComponentInPage(C)&lt;/a&gt;&lt;/tt&gt;, which only accepts one argument. If I use the &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/util/tester/BaseWicketTester.html#startComponentInPage(C, org.apache.wicket.markup.IMarkupFragment)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BaseWicketTester.html#startComponentInPage(C, org.apache.wicket.markup.IMarkupFragment)&lt;/a&gt;&lt;/tt&gt; and pass in the &lt;tt&gt;MarkupFragment&lt;/tt&gt; of the test class as the second argument, then the test runs successfully, e.g. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;tester.startComponentInPage(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyPanel(DummyPanelPage.TEST_PANEL_ID),  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyDummyPanelPage(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PageParameters()).getMarkup());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It would seem that the &lt;tt&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/Wicket&amp;#39;s+XHTML+tags#Wicket&amp;#39;sXHTMLtags-Elementwicket:header-items&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&amp;lt;wicket:header-items/&amp;gt;&lt;/a&gt;&lt;/tt&gt; placeholder tag clashes with the &lt;tt&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/markup/ContainerInfo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ContainerInfo&lt;/a&gt;&lt;/tt&gt; class used by the testing framework, but this is by no means my area of expertise.&lt;/p&gt;

&lt;p&gt;I am attaching a quick-start app with a &lt;tt&gt;TestHomePage&lt;/tt&gt; test class that reproduces the issue.&lt;/p&gt;

&lt;p&gt;Thank you in advance!&lt;/p&gt;</description>
                <environment>Windows 7, Java 7</environment>
        <key id="12901933">WICKET-5989</key>
            <summary>BaseWicketTester#startComponentInPage fails for pages with &lt;wicket:header-items&gt;&lt;/wicket:header&gt; placeholder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="ephraimrosenfeld">Ephraim Rosenfeld</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Oct 2015 16:30:40 +0000</created>
                <updated>Sat, 3 Oct 2015 11:08:24 +0000</updated>
                            <resolved>Sat, 3 Oct 2015 11:08:24 +0000</resolved>
                                    <version>6.20.0</version>
                                    <fixVersion>6.21.0</fixVersion>
                    <fixVersion>7.1.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14942227" author="jira-bot" created="Sat, 3 Oct 2015 11:06:37 +0000"  >&lt;p&gt;Commit d50e18c7334dbc26ce5180fa3bbdba4e16cec463 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d50e18c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d50e18c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5989&quot; title=&quot;BaseWicketTester#startComponentInPage fails for pages with &amp;lt;wicket:header-items&amp;gt;&amp;lt;/wicket:header&amp;gt; placeholder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5989&quot;&gt;&lt;del&gt;WICKET-5989&lt;/del&gt;&lt;/a&gt; BaseWicketTester#startComponentInPage fails for pages with &amp;lt;wicket:header-items&amp;gt;&amp;lt;/wicket:header&amp;gt; placeholder&lt;/p&gt;

&lt;p&gt;Ignore closing tags when checking for &apos;foundHeaderItemsTag&apos;&lt;/p&gt;</comment>
                            <comment id="14942228" author="jira-bot" created="Sat, 3 Oct 2015 11:07:56 +0000"  >&lt;p&gt;Commit a255bbca2066588cc65947bbbc6ccb52e977bdcc in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a255bbc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a255bbc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5989&quot; title=&quot;BaseWicketTester#startComponentInPage fails for pages with &amp;lt;wicket:header-items&amp;gt;&amp;lt;/wicket:header&amp;gt; placeholder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5989&quot;&gt;&lt;del&gt;WICKET-5989&lt;/del&gt;&lt;/a&gt; BaseWicketTester#startComponentInPage fails for pages with &amp;lt;wicket:header-items&amp;gt;&amp;lt;/wicket:header&amp;gt; placeholder&lt;/p&gt;

&lt;p&gt;Ignore closing tags when checking for &apos;foundHeaderItemsTag&apos;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12764634" name="myproject.zip" size="64133" author="ephraimrosenfeld" created="Thu, 1 Oct 2015 16:31:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2miaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>