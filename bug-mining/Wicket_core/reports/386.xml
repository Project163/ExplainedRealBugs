<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4058] RadioGroup WicktTester with a AjaxSubmitLink fails</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4058</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;After migrating to Wicket 1.5.0 some of our WicketTester unit-tests fail, they involve a RadioGroup component with a Enum as model. The setup works correctly at runtime. The problem is as follows:&lt;/p&gt;

&lt;p&gt;The enum (simplified enum, for demonstration purposes): public enum ValEnum &lt;/p&gt;
{ VAL_A, VAL_B; }

&lt;p&gt;A form containing a RadioGroup, the individual Radio components are based on the Enum values. When submiting the form (using a AjaxSubmitLink) containing the RadioGroup in a WicktTester situation a WicketRuntimeException is thrown containing:&lt;br/&gt;
org.apache.wicket.WicketRuntimeException: submitted http post value &lt;span class=&quot;error&quot;&gt;&amp;#91;VAL_A&amp;#93;&lt;/span&gt; for RadioGroup component &lt;span class=&quot;error&quot;&gt;&amp;#91;1:form:group&amp;#93;&lt;/span&gt; is illegal because it does not contain relative path to a Radio component. Due to this the RadioGroup component cannot resolve the selected Radio component pointed to by the illegal value. A possible reason is that component hierarchy changed between rendering and form submission.&lt;/p&gt;

&lt;p&gt;It works correctly when submitting the form using a normal SubmitLink.&lt;/p&gt;

&lt;p&gt;Debugging the select function of the FormTester shows te correct value being placed in the PostParameters (&quot;radio1&quot; is the value being set).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12523232">WICKET-4058</key>
            <summary>RadioGroup WicktTester with a AjaxSubmitLink fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivaynberg">Igor Vaynberg</assignee>
                                    <reporter username="dries.schulten">Dries Schulten</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Sep 2011 18:30:46 +0000</created>
                <updated>Tue, 20 Sep 2011 16:43:16 +0000</updated>
                            <resolved>Sat, 17 Sep 2011 20:08:01 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.5.1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13105580" author="dries.schulten" created="Thu, 15 Sep 2011 18:33:46 +0000"  >&lt;p&gt;Attaching 1.5.0 quickstart showing the problem.&lt;/p&gt;</comment>
                            <comment id="13105603" author="mgrigorov" created="Thu, 15 Sep 2011 18:58:35 +0000"  >&lt;p&gt;Please attach a test case. Thanks!&lt;/p&gt;</comment>
                            <comment id="13105606" author="dries.schulten" created="Thu, 15 Sep 2011 19:02:16 +0000"  >&lt;p&gt;See the attached quickstart, the TestHomePage class contains a unit-test showing the problem.&lt;/p&gt;</comment>
                            <comment id="13106078" author="bitstorm" created="Fri, 16 Sep 2011 13:58:49 +0000"  >&lt;p&gt;Hi Dries,&lt;/p&gt;

&lt;p&gt;I&apos;ve looked at your test case but I don&apos;t understand why you double submit form, once calling submit() and once clicking on submit link:&lt;/p&gt;

&lt;p&gt;formTester.submit();&lt;br/&gt;
tester.clickLink(&quot;form:submit&quot;);&lt;/p&gt;

&lt;p&gt;Btw, if you invert these two line of code, test passes without any problem.&lt;/p&gt;</comment>
                            <comment id="13106087" author="dries.schulten" created="Fri, 16 Sep 2011 14:17:34 +0000"  >&lt;p&gt;My bad, the formTester.submit() step is not needed. I changed my testcase, using the WicketTester to:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Render the page, then using clickLink on the AjaxSubmitLink -&amp;gt; error&lt;/li&gt;
	&lt;li&gt;Render the page, create a formTester, clickLink on the AjaxSubmitLink -&amp;gt; pass&lt;/li&gt;
	&lt;li&gt;Render the page, create a formTester, select a value, clickLink on the AjaxSubmitLink -&amp;gt; pass&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So it seems that the error occurs when directly submitting a form using a AjaxSubmitLink without the creation of a FormTester on the form. Not sure if this is a bug then... This construction used to work in the 1.4.x versions.&lt;/p&gt;

&lt;p&gt;Updated test-case in the attached quickstart.&lt;/p&gt;</comment>
                            <comment id="13107229" author="bitstorm" created="Sat, 17 Sep 2011 19:54:30 +0000"  >&lt;p&gt;The bug is inside &apos;BaseWicketTester.serializeFormToRequest&apos;. This method is called before form is submitted and  checks if   each form field has a corresponding post parameter. If such parameter is missing a new parameter is added and its value is get calling &apos;FormComponent.getValue()&apos; .&lt;br/&gt;
This method for RadioGroup returns the model value (ex: VAL_A), but should return the value of selected Radio (ex:radio4).  Everything works fine if we build a FormTester because it performs the right parameters initialization inside its constructor (see form visitor).&lt;/p&gt;

&lt;p&gt;I&apos;m working on a patch but it needs a little refactoring to avoid code replication.&lt;/p&gt;</comment>
                            <comment id="13107230" author="ivaynberg" created="Sat, 17 Sep 2011 19:56:15 +0000"  >&lt;p&gt;i am too working on a patch already...almost done&lt;/p&gt;</comment>
                            <comment id="13107232" author="bitstorm" created="Sat, 17 Sep 2011 20:11:09 +0000"  >&lt;p&gt;Ok thank you Igor!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12523706">WICKET-4069</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12494797" name="myproject.zip" size="25811" author="dries.schulten" created="Fri, 16 Sep 2011 14:20:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>