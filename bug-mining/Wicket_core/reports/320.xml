<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3909] Encoding problem with JavaScriptRefrences</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3909</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Let we have a javascript which contains some strings (which eventually should be appended to DOM), and let we have a page in different encoding from UTF-8, like ISO-8859-2. The anomaly is the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;If the encoding of the JS is UTF-8, then the Ajax query which injects the JS is working OK. The injected string looks like it should be, no magic chars. But if we don&apos;t use the JS from Ajax, but plain request, then the string is ugly because JS is in UTF-8, but the page is in ISO-8859-2.&lt;/li&gt;
	&lt;li&gt;If the encoding of the JS is the same as the Page then the response of the Ajax request will be ugly, but the plain non-ajax will be OK.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12514264">WICKET-3909</key>
            <summary>Encoding problem with JavaScriptRefrences</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="balintkrivan">B&#225;lint Kriv&#225;n</reporter>
                        <labels>
                            <label>ajax</label>
                            <label>encoding</label>
                            <label>javascript</label>
                    </labels>
                <created>Fri, 15 Jul 2011 18:44:40 +0000</created>
                <updated>Mon, 18 Jul 2011 08:00:31 +0000</updated>
                            <resolved>Mon, 18 Jul 2011 08:00:31 +0000</resolved>
                                    <version>1.5-RC5.1</version>
                                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13066127" author="balintkrivan" created="Fri, 15 Jul 2011 18:47:09 +0000"  >&lt;p&gt;The attached quickstart project shows the problem.&lt;br/&gt;
Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Click the Show button. You should see &#193;rv&#237;zt&#369;r&#337; t&#252;k&#246;rf&#250;r&#243;g&#233;p.&lt;/li&gt;
	&lt;li&gt;If you now refresh the browser you get doubled ugly chars.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you change the sample.js encoding to ISO-8859-2, then:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Click the Show button. You should see &#65533;rv&#65533;zt&#65533;r&#65533; t&#65533;k&#65533;rf&#65533;r&#65533;g&#65533;p.&lt;/li&gt;
	&lt;li&gt;If you now refresh you should see &#193;rv&#237;zt&#369;r&#337; t&#252;k&#246;rf&#250;r&#243;g&#233;p.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13066243" author="akiraly" created="Fri, 15 Jul 2011 22:02:07 +0000"  >&lt;p&gt;You have to specify the character encoding of the script file in the script tag with the charset attribute &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; if it differs from the page encoding. For example if I modify wicket to render all script tags with charset=&quot;UTF-8&quot; attribute sour quickstart starts working.&lt;/p&gt;

&lt;p&gt;Imho wicket has no way to figure out the encoding of js files but maybe o.a.w.markup.html.IHeaderResponse.renderJavaScript* methods could be enhanced with an optionl charset attribute to handle cases like this.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; W3School script@charset: &lt;a href=&quot;http://www.w3schools.com/tags/att_script_charset.asp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3schools.com/tags/att_script_charset.asp&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13066381" author="balintkrivan" created="Sat, 16 Jul 2011 07:53:08 +0000"  >&lt;p&gt;Thanks for pointing it out, could you throw some light on how to add charset to the tag?&lt;br/&gt;
Currently I&apos;m having this:&lt;br/&gt;
response.renderJavaScriptReference(new JavaScriptResourceReference(TimeagoBehavior.class, &quot;jquery.timeago.js&quot;));&lt;br/&gt;
I&apos;ve digged myself into code and I didn&apos;t find any method or arg for this.&lt;/p&gt;</comment>
                            <comment id="13066404" author="akiraly" created="Sat, 16 Jul 2011 11:19:25 +0000"  >&lt;p&gt;Attaching patch that adds new renderJavaScriptReference() method variants so the charset can be specified. 2 tests for the new feature also included.&lt;/p&gt;</comment>
                            <comment id="13066424" author="balintkrivan" created="Sat, 16 Jul 2011 12:51:36 +0000"  >&lt;p&gt;I can confirm it solves the bug. Thanks for providing the patch!&lt;/p&gt;</comment>
                            <comment id="13066836" author="mgrigorov" created="Mon, 18 Jul 2011 08:00:31 +0000"  >&lt;p&gt;The patch is applied.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486716" name="WICKET-3909.patch" size="8577" author="akiraly" created="Sat, 16 Jul 2011 11:19:25 +0000"/>
                            <attachment id="12486658" name="myproject.tar.gz" size="18226" author="balintkrivan" created="Fri, 15 Jul 2011 18:47:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>