<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5987] StringLengthValidator does not validate, but cuts off input</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5987</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I have a change-password-page with a PasswordField with a StringValidator.lengthBetween( 3, 20 ).&lt;/p&gt;

&lt;p&gt;I ran into an error where I could paste a long password (&amp;gt;20 chars), and Wicket not throwing errors, but cutting the password to length 20.&lt;/p&gt;

&lt;p&gt;Wicket version: 7.0&lt;br/&gt;
Chrome: 45&lt;/p&gt;

&lt;p&gt;The maxlength is rendered as attribute on the element.&lt;/p&gt;

&lt;p&gt;&amp;lt;input id=&quot;password&quot; type=&quot;password&quot; name=&quot;password&quot; value=&quot;&quot; maxlength=&quot;20&quot; minlength=&quot;3&quot;&amp;gt;&lt;/p&gt;</description>
                <environment>ubuntu 14.04 LTS, Chrome 45, Java 8</environment>
        <key id="12898597">WICKET-5987</key>
            <summary>StringLengthValidator does not validate, but cuts off input</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="robau">Rob Audenaerde</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Sep 2015 09:18:30 +0000</created>
                <updated>Sat, 3 Oct 2015 11:21:44 +0000</updated>
                            <resolved>Sat, 3 Oct 2015 11:21:21 +0000</resolved>
                                    <version>7.0.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14933893" author="mgrigorov" created="Mon, 28 Sep 2015 20:00:49 +0000"  >&lt;p&gt;How do you manage to send the longer value to the server?&lt;br/&gt;
I guess you paste something longer than 20 chars but the browser accepts only the first 20 chars in the text field and thus sends just them.&lt;br/&gt;
Please verify with DevTools/Firebug.&lt;/p&gt;</comment>
                            <comment id="14933896" author="mgrigorov" created="Mon, 28 Sep 2015 20:03:15 +0000"  >&lt;p&gt;If you change the form method to GET and then paste something like &quot;http://localhost:8080/?f1_hf_0=&amp;amp;0-1.IFormSubmitListener-f=&amp;amp;p=qwertyuiopasdfghjklzxcvbnm1234567890&quot; then you&apos;ll see that the error is there.&lt;/p&gt;</comment>
                            <comment id="14934789" author="robau" created="Tue, 29 Sep 2015 07:27:02 +0000"  >&lt;p&gt;Ah I see. &lt;/p&gt;

&lt;p&gt;I think I made a mistake during pasting in the PasswordField; I could not see it because it renders only password-characters. &lt;/p&gt;

&lt;p&gt;The issue is less of a problem now, but I think it is still a good idea to remove the &lt;tt&gt;maxLengh&lt;/tt&gt; from the &lt;tt&gt;input&lt;/tt&gt; if &lt;tt&gt;type&lt;/tt&gt; is &lt;tt&gt;password&lt;/tt&gt;, because the user has no visual feedback on what he did wrong. In my case: could not log in, because the last characters got chopped off. &lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;
</comment>
                            <comment id="14936891" author="gnikolaus" created="Wed, 30 Sep 2015 14:26:26 +0000"  >&lt;p&gt;Well, the cleaner sollution would probably be if the webbrowser would give the user a warning (or some kind of &quot;heads up&quot;) if he pasted or tried to paste something into an input field thats bigger than the maxlength.&lt;br/&gt;
So maybe you should open a ticket for firefox, chrome etc. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;But i do think it would make sense if the adding of minlength/maxlength could at least be turned of for the StringValidator.&lt;/p&gt;


&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;German ibans are allways 22 digits, so you obviously want to validate the length.&lt;br/&gt;
However they are often written with spaces inbetween to make them more readably for humans.&lt;br/&gt;
e.G: &quot;DE89 3704 0044 0532 0130 00&quot;&lt;/p&gt;


&lt;p&gt;An input with a maxlength of 22 would have the effect that pasting the above iban would result in &quot;DE89 3704 0044 0532 01&quot; and most users don&apos;t immediatly realize that thats just 18 digits and not 22.&lt;br/&gt;
The way I allways handled this until now was to &lt;em&gt;not&lt;/em&gt; give the input a maxlength and then remove possible spaces from the user input with javascript/ajax (on Blur / Change).&lt;br/&gt;
(User pastes &quot;DE89 3704 0044 0532 0130 00&quot; gets turned into -&amp;gt; &quot;DE89370400440532013000&quot;)&lt;/p&gt;

&lt;p&gt;Thats one example where I wanted to validate the String length on a form submit, but did not want a maxlength attribute.&lt;/p&gt;</comment>
                            <comment id="14936920" author="svenmeier" created="Wed, 30 Sep 2015 14:44:24 +0000"  >&lt;p&gt;You can easily write a converter, that removes whitespace and validates the iban too.&lt;/p&gt;

&lt;p&gt;No need for StringValidator to handle all special cases.&lt;/p&gt;</comment>
                            <comment id="14936961" author="gnikolaus" created="Wed, 30 Sep 2015 15:08:50 +0000"  >&lt;p&gt;I think you misunderstood me.&lt;/p&gt;

&lt;p&gt;A converter would not help in this case as the cutting of by maxlength happens in the client / browser.&lt;/p&gt;



&lt;p&gt;I also never said I want the StringValidator to handle anything in this case, just an option to turn of the automatic adding of the maxlength attribute.&lt;/p&gt;


&lt;p&gt;Basicly all I wanted was the Option to say:&lt;/p&gt;

&lt;p&gt;StringValidator sVal = new StringValidator(22, 22);&lt;br/&gt;
sVal.setAddLengthAttributesToTag(false);&lt;/p&gt;

&lt;p&gt;And then the Validator doesn&apos;t add the maxlength attribute to the tag (Default should of course be old behaviour = true).&lt;/p&gt;


&lt;p&gt;Also, please note that this was just an example where I tried to show that sometimes you do indeed want to validate the Length of a String on Submit but don&apos;t want a maxlength attribute in the html.&lt;/p&gt;</comment>
                            <comment id="14936973" author="svenmeier" created="Wed, 30 Sep 2015 15:11:40 +0000"  >&lt;p&gt;&amp;gt;A converter would not help in this case as the cutting of by maxlength happens in the client&lt;/p&gt;

&lt;p&gt;Your choice.&lt;/p&gt;

&lt;p&gt;&amp;gt; sVal.setAddLengthAttributesToTag(false);&lt;/p&gt;

&lt;p&gt;That method name sounds like handling special cases to me.&lt;/p&gt;</comment>
                            <comment id="14936986" author="gnikolaus" created="Wed, 30 Sep 2015 15:21:00 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;A converter would not help in this case as the cutting of by maxlength happens in the client&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;Your choice.&lt;/p&gt;

&lt;p&gt;What? How is it my choice how browsers implement and handle the maxlength attribute on input fields?&lt;/p&gt;
</comment>
                            <comment id="14936988" author="robau" created="Wed, 30 Sep 2015 15:22:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;So maybe you should open a ticket for firefox, chrome etc. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Well actually, I agree that it is a browser UX problem, because they just &apos;chop-off&apos; characters.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;sVal.setAddLengthAttributesToTag(false);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;An option for turning off the HTML attributes would work fine. The annoying part is that you will not find out what is happening if you forget to call this method. There seem to be more problems associated with the &lt;tt&gt;maxlength&lt;/tt&gt; attribute:  &lt;a href=&quot;http://tjvantoll.com/2012/10/17/maxlength-constraint-validation-oddities/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tjvantoll.com/2012/10/17/maxlength-constraint-validation-oddities/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Because of the undefined/unexpected effects, I would prefer a default &lt;tt&gt;setAddLengthAttributesToTag(false);&lt;/tt&gt;, but I can live with just the method &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14937027" author="gnikolaus" created="Wed, 30 Sep 2015 15:47:18 +0000"  >&lt;p&gt;&amp;gt; Because of the undefined/unexpected effects, I would prefer a default setAddLengthAttributesToTag(false);&lt;/p&gt;

&lt;p&gt;I actually agree and the maxlength attribute caused me enough trouble that I basicly don&apos;t use it anymore.&lt;/p&gt;

&lt;p&gt;And I lost count how often some customer would blindly look at his keyboard typing away while not realizing that none of his keypresses were making it into the input field because he already reached the maxlength and then later make an angry bugreport how our programm ignored half of his input.&lt;br/&gt;
Or the already mentioned pasting problem where we would get angry calls that &quot;It tells me input x is wrong, but that can&apos;t be because I copy and pasted it into the textfield!&quot; while only half of what the user copied really gut pasted because of maxlength.&lt;/p&gt;

&lt;p&gt;In the end I found out that letting the user enter a text of whatever-length he wants and later giving him an error message that his input is invalid because its too long works out better for everyone involved. &lt;/p&gt;


&lt;p&gt;But it seems like we are in the minority in this case and furthermore I can understand beeing hesitant when changing previous default behaviours.&lt;br/&gt;
Hence my idea to keep the old default behaviour but giving an option to turn it of.&lt;/p&gt;</comment>
                            <comment id="14937462" author="svenmeier" created="Wed, 30 Sep 2015 16:19:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gnikolaus&quot; class=&quot;user-hover&quot; rel=&quot;gnikolaus&quot;&gt;gnikolaus&lt;/a&gt; &amp;gt;What? How is it my choice&lt;/p&gt;

&lt;p&gt;It&apos;s your choice to use a &lt;b&gt;client-side&lt;/b&gt; solution to remove whitespace in your example.&lt;br/&gt;
IMHO a better solution would be to write a converter from string to iban, removing whitespace and  checking the checksum on the server-side. No need to use a StringValidator here.&lt;/p&gt;

&lt;p&gt;Regarding maxLength: I don&apos;t like this attribute either - it&apos;s especially annoying on date inputs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="14937694" author="gnikolaus" created="Wed, 30 Sep 2015 16:44:21 +0000"  >&lt;p&gt;&amp;gt; It&apos;s your choice to use a client-side solution to remove whitespace in your example.&lt;br/&gt;
&amp;gt; IMHO a better solution would be to write a converter from string to iban, removing whitespace and checking the checksum on the server-side. No need to use a StringValidator here.&lt;/p&gt;

&lt;p&gt;Ah, now i get. Just to clarify: I do of course use an extra IBAN validator here checking for checksums etc. and not the StringValidator &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;p&gt;I was just trying to give an (somewhat real-life) example of one instance where despite having a max length for an input setting the maxLength as an html attribute might not be desirable and IBANs was the first thing that came to my mind. &lt;/p&gt;


&lt;p&gt;&amp;gt; Regarding maxLength: I don&apos;t like this attribute either - it&apos;s especially annoying on date inputs&lt;/p&gt;

&lt;p&gt;FTR: I would be okay with having StringValidator not add the minlegth and maxlength attributes at all. Just completly removing that part and call this &quot;resolved&quot; would be my preferred solution.&lt;br/&gt;
My proposal was thought of as a compromise for those wanting to keep it, hence I wrote &quot;could at least be turned of&quot; in my first post.  (emphasis on &quot;at least&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="14942234" author="mgrigorov" created="Sat, 3 Oct 2015 11:17:15 +0000"  >&lt;p&gt;I was going to add protected method that the application developer could override and suppress this behavior, but I see I&apos;ll have to the same for &apos;minlength&apos;...&lt;br/&gt;
I see no reason to make it so configurable/complex - the application developer could just override #onComponentTag(). &lt;br/&gt;
Just use the constructors, e.g. &apos;new StringValidator(min, max)&apos;, instead of the static factory methods.&lt;/p&gt;

&lt;p&gt;Changing StringValidator to not write these attributes is a rather big behavior change that may break applications in production. We can do it for Wicket 8.x if you think this is the better default.&lt;/p&gt;</comment>
                            <comment id="14942237" author="jira-bot" created="Sat, 3 Oct 2015 11:21:44 +0000"  >&lt;p&gt;Commit 65e15beb4c83508363d79bdd82b7523426affec7 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=65e15be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=65e15be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5987&quot; title=&quot;StringLengthValidator does not validate, but cuts off input&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5987&quot;&gt;&lt;del&gt;WICKET-5987&lt;/del&gt;&lt;/a&gt; StringLengthValidator does not validate, but cuts off input&lt;/p&gt;

&lt;p&gt;Make #hasLengthAttribute() visible/overrideable&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12763203" name="stringlenghttest.zip" size="46169" author="robau" created="Mon, 28 Sep 2015 09:19:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lxv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>