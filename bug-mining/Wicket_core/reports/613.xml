<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:20:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4610] WicketTester.assertRedirectUrl always fails because it always thinks the redirect was null</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4610</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I have a page which always redirects.&lt;/p&gt;

&lt;p&gt;When I write a test for this page, tester.assertRedirectUrl(...) always fails with the assertion failure showing that the redirect URL was null.&lt;/p&gt;

&lt;p&gt;The page does redirect when running the application for real and I have stepped through in the debugger when running the test and it goes all the way to the HttpServletResponse.sendRedirect call.&lt;/p&gt;

&lt;p&gt;However, in the same debugging session, tester.getLastResponse().getRedirectLocation() == null&lt;/p&gt;

&lt;p&gt;Cut-down example follows.&lt;/p&gt;


&lt;p&gt;public class AlwaysRedirectPage extends WebPage&lt;br/&gt;
{&lt;br/&gt;
    public AlwaysRedirectPage()&lt;/p&gt;
    {
        // redirects to another web server on the same computer
        throw new RedirectToUrlException(&quot;http://localhost:4333/&quot;);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestAlwaysRedirectPage&lt;br/&gt;
{&lt;br/&gt;
    @Test&lt;br/&gt;
    public void test()&lt;/p&gt;
    {
        WicketTester tester = new WicketTester();
        tester.startPage(AlwaysRedirectPage.class);
        tester.assertRedirectUrl(&quot;http://localhost:4333/&quot;);
    }
&lt;p&gt;}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12595032">WICKET-4610</key>
            <summary>WicketTester.assertRedirectUrl always fails because it always thinks the redirect was null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="trejkaz">Trejkaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jun 2012 23:39:42 +0000</created>
                <updated>Thu, 21 Jun 2012 09:43:33 +0000</updated>
                            <resolved>Thu, 21 Jun 2012 09:43:33 +0000</resolved>
                                    <version>1.5.7</version>
                                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>6.0.0-beta3</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13396371" author="trejkaz" created="Mon, 18 Jun 2012 23:42:27 +0000"  >&lt;p&gt;Additionally, tester.getLastResponse().getStatus() == 200 instead of 302. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13396893" author="bitstorm" created="Tue, 19 Jun 2012 16:14:09 +0000"  >&lt;p&gt;Method isExternalRedirect of BaseWicketTester does not consider the URL&apos;s port comparing the original url and the new one, hence it considers &lt;a href=&quot;http://localhost:4333/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4333/&lt;/a&gt; an internal url. See attached patch.&lt;/p&gt;

</comment>
                            <comment id="13397358" author="bitstorm" created="Wed, 20 Jun 2012 08:33:18 +0000"  >&lt;p&gt;Regarding to the second issue related to response status, I&apos;ve modified method sendRedirect of class MockHttpServletResponse in order to change its status to 302 when it is invoked. I&apos;ve updated the patch file.&lt;/p&gt;</comment>
                            <comment id="13398317" author="mgrigorov" created="Thu, 21 Jun 2012 09:43:33 +0000"  >&lt;p&gt;Thanks, Andrea!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12532671" name="WICKET-4610.diff" size="2572" author="bitstorm" created="Wed, 20 Jun 2012 08:33:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k8g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>