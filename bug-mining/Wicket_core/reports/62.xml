<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:17:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3439] org.apache.wicket.markup.html.form.AbstractChoice renderer cast in method appendOptionHtml</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3439</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;In class org.apache.wicket.markup.html.form.AbstractChoice&amp;lt;T, E&amp;gt; the renderer instance &lt;br/&gt;
variable has signature:&lt;br/&gt;
  private IChoiceRenderer&amp;lt;? super E&amp;gt; renderer;&lt;br/&gt;
In the method appendOptionHtml the renderer&apos;s getDisplayValue method is called as follows:&lt;br/&gt;
  T objectValue = (T)renderer.getDisplayValue(choice); &lt;br/&gt;
where the signature for the IChoiceRenderer&amp;lt;E&amp;gt; getDisplayValue method is:&lt;br/&gt;
  Object getDisplayValue(E object);&lt;/p&gt;

&lt;p&gt;So, is it a fact that for all usages of AbstractChoice that the display value returned by a&lt;br/&gt;
renderer of type E will always be of type T (not Object)??? If not, then one should expect cast &lt;br/&gt;
exceptions.&lt;/p&gt;</description>
                <environment>all</environment>
        <key id="12498152">WICKET-3439</key>
            <summary>org.apache.wicket.markup.html.form.AbstractChoice renderer cast in method appendOptionHtml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivaynberg">Igor Vaynberg</assignee>
                                    <reporter username="emberson">Richard Emberson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 18:05:32 +0000</created>
                <updated>Thu, 17 Feb 2011 07:34:56 +0000</updated>
                            <resolved>Thu, 17 Feb 2011 07:34:56 +0000</resolved>
                                    <version>1.5-RC1</version>
                                    <fixVersion>1.5-RC2</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12992630" author="emberson" created="Wed, 9 Feb 2011 18:18:07 +0000"  >&lt;p&gt;Also, in CheckBoxMultipleChoice appendOptionHtml method there is:&lt;br/&gt;
  Object displayValue = getChoiceRenderer().getDisplayValue(choice);&lt;br/&gt;
Should this also be:&lt;br/&gt;
  T displayValue = (T)getChoiceRenderer().getDisplayValue(choice); &lt;/p&gt;</comment>
                            <comment id="12992637" author="emberson" created="Wed, 9 Feb 2011 18:23:55 +0000"  >&lt;p&gt;As a follow up to the previous comment, the CheckBoxMultipleChoice appendOptionHtml method is:&lt;br/&gt;
    Object displayValue = getChoiceRenderer().getDisplayValue(choice);        &lt;br/&gt;
    Class&amp;lt;?&amp;gt; objectClass = displayValue == null ? null : displayValue.getClass();&lt;br/&gt;
    // Get label for choice&lt;br/&gt;
    String label = &quot;&quot;;&lt;br/&gt;
    if (objectClass != null &amp;amp;&amp;amp; objectClass != String.class)                   &lt;/p&gt;
    {     
      IConverter converter = getConverter(objectClass);                       
      label = converter.convertToString(displayValue, getLocale());           
    }     
&lt;p&gt;    else if (displayValue != null)                                            &lt;/p&gt;
    {     
      label = displayValue.toString();                                        
    }     
&lt;p&gt;....&lt;/p&gt;

&lt;p&gt;But the IConverter should really be:&lt;br/&gt;
      IConverter&amp;lt;T&amp;gt; converter = getConverter(objectClass);     &lt;br/&gt;
and, therefore, the displayValue really has to be of type T.                  &lt;/p&gt;</comment>
                            <comment id="12995698" author="ivaynberg" created="Thu, 17 Feb 2011 07:34:56 +0000"  >&lt;p&gt;CheckBoxMultipleChoice had the most correct implementation.&lt;/p&gt;

&lt;p&gt;the renderer can really return Object of class that is not tied to any type parameters of the choice component. it is wicket&apos;s job then to take this Object and convert it into its String representation using a converter. the getConverter() method is also not tied to the parameter type of the choice component, and so should not be iconverter&amp;lt;t&amp;gt; but rather raw converter since we do not know at compile time which one it will actually be.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kayv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>