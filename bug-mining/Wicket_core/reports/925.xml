<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5319] CryptoMapper encrypts external URLs in ResourceReferences making the resources inaccessible</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5319</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Short Description: &lt;/p&gt;

&lt;p&gt;CryptoMapper encrypts links to resources with URLs of the form:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;http://domain/path/script.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://domain/path/script.js&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;/local/absolute/path/script.js&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Additionally there might be some inconsistencies in handling URLs in instances of ResourceReference.&lt;/p&gt;

&lt;p&gt;The problem occurs when JavaScript resources are included in the following way:&lt;/p&gt;

&lt;p&gt;@Override&lt;br/&gt;
public void renderHead(IHeaderResponse response)&lt;br/&gt;
{&lt;br/&gt;
	super.renderHead(response);&lt;/p&gt;

&lt;p&gt;	UrlResourceReference reference = new UrlResourceReference(Url.parse(&quot;http://domain/path/script.js&quot;));&lt;br/&gt;
	response.render(reference);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The resulting JavaScript links can&apos;t be loaded (404 is returned) when CryptoMapper is used.&lt;/p&gt;

&lt;p&gt;This is a minor problem, because the following always works for JavaScript files not served by Wicket (&quot;external JavaScript files&quot;):&lt;/p&gt;

&lt;p&gt;response.render(new StringHeaderItem(&quot;&amp;lt;script type=\&quot;text/javascript\&quot; src=\&quot;//domain/myPath/manual.js\&quot;&amp;gt;&amp;lt;/script&amp;gt;&quot;);&lt;/p&gt;


&lt;p&gt;Ways to reproduce: &lt;/p&gt;

&lt;p&gt;  A code example for wicket-examples is attached (example.zip)&lt;br/&gt;
  Local URLs:&lt;br/&gt;
     &lt;a href=&quot;http://localhost:8080/enc/index&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/enc/index&lt;/a&gt;&lt;br/&gt;
     &lt;a href=&quot;http://localhost:8080/unenc/index&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/unenc/index&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Possible fix: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;disable encryption for URLs beginning with &apos;/&apos;, &apos;&amp;lt;schema&amp;gt;://&apos; and &apos;//&apos; and not served/filtered by Wicket&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; (&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;define different reference classes for external files and files served/filtered by Wicket, issue warnings when a wrong URL type is supplied by the user or treat URLs beginning with &apos;/&apos;, &apos;&amp;lt;schema&amp;gt;://&apos; and &apos;//&apos; differently&lt;br/&gt;
 )&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thank you&lt;/p&gt;</description>
                <environment>Linux</environment>
        <key id="12664048">WICKET-5319</key>
            <summary>CryptoMapper encrypts external URLs in ResourceReferences making the resources inaccessible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="wicket.x.ttp">Walter B. Rasmann</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 12:07:25 +0000</created>
                <updated>Fri, 23 Aug 2013 16:38:28 +0000</updated>
                            <resolved>Wed, 21 Aug 2013 21:24:19 +0000</resolved>
                                    <version>6.9.1</version>
                                    <fixVersion>6.11.0</fixVersion>
                    <fixVersion>7.0.0-M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13742152" author="wicket.x.ttp" created="Fri, 16 Aug 2013 12:13:51 +0000"  >&lt;p&gt;code example (runable in wicket-examples)&lt;/p&gt;</comment>
                            <comment id="13743591" author="svenmeier" created="Mon, 19 Aug 2013 07:12:50 +0000"  >&lt;p&gt;Please attach a runnable quickstart, thanks!&lt;/p&gt;</comment>
                            <comment id="13743694" author="wicket.x.ttp" created="Mon, 19 Aug 2013 10:12:56 +0000"  >&lt;p&gt;Quickstart added&lt;/p&gt;</comment>
                            <comment id="13746860" author="svenmeier" created="Wed, 21 Aug 2013 21:24:19 +0000"  >&lt;p&gt;I&apos;ve changed CryptoMapper to not touch full Urls.&lt;/p&gt;

&lt;p&gt;There might be other cases still failing with UrlResourceReference pointing to resources on the same server but outside of Wicket.&lt;br/&gt;
But the supplied quickstart works fine now.&lt;/p&gt;</comment>
                            <comment id="13748688" author="wicket.x.ttp" created="Fri, 23 Aug 2013 16:38:28 +0000"  >&lt;p&gt;Thank you very much. I will test my code with a snapshot as soon as possible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598731" name="5319.tar.gz" size="19328" author="wicket.x.ttp" created="Mon, 19 Aug 2013 10:12:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nbyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>