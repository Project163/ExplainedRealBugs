<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:26:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-7076] JavaScriptReferenceType newly created is not serializable</title>
                <link>https://issues.apache.org/jira/browse/WICKET-7076</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;After upgrading 9.14 =&amp;gt; 9.15&lt;/p&gt;

&lt;p&gt;1 enum was swicthed to class and this class is used in header&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.wicket.markup.head&lt;/tt&gt;&lt;tt&gt;.JavaScriptReferenceType.java&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;but this class is not serializable, for instance we are using hazelcast to store classes or panel in a map (body and headers), with version 9.14 and previous it was working, now as this class is not serializable it create an exception and the cache storing is not working.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.wicket.markup.head;
   18 
   19 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.wicket.util.lang.Args;
   20 
   21 /**
   22  * To be used to define the &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; attribute of the script tag written
   23  * by a {@link AbstractJavaScriptReferenceHeaderItem}.
   24  */
   25 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JavaScriptReferenceType {
   26 
   27     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JavaScriptReferenceType TEXT_JAVASCRIPT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JavaScriptReferenceType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;);
   28     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JavaScriptReferenceType MODULE = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JavaScriptReferenceType(&lt;span class=&quot;code-quote&quot;&gt;&quot;module&quot;&lt;/span&gt;);
   29 
   30     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type;
   31 
   32     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; JavaScriptReferenceType(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) {
   33         &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.type = Args.notEmpty(type, &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;);
   34     }
   35 
   36     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getType() {
   37         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type;
   38     }
   39 }
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt&gt;To reproduce, just create a panel with javascript file set in java with ajax link or ajax behaviour&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;and in the render method try to add item in header attribute (to be stored) here this code is working&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void render(HeaderItem item) {
&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is just a test to see &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; code works
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!(item &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; JavaScriptReferenceHeaderItem)){
headerItems.add( item );
}
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Not the previous one&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void render(HeaderItem item) {
headerItems.add( item );
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt&gt;then put this panel or component in a map like hazecast&lt;/tt&gt;{&lt;tt&gt;}&lt;/tt&gt;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Cache&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,Panel&amp;gt; cache = cacheManager.getCache( cacheName );  cache.put( getCacheKey(), panel ); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Pull request : &lt;a href=&quot;https://github.com/apache/wicket/pull/664&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/664&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552114">WICKET-7076</key>
            <summary>JavaScriptReferenceType newly created is not serializable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="abuzouzou">leclerc cyril</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Sep 2023 03:52:33 +0000</created>
                <updated>Wed, 27 Sep 2023 10:37:23 +0000</updated>
                            <resolved>Wed, 27 Sep 2023 10:37:23 +0000</resolved>
                                    <version>9.15.0</version>
                                    <fixVersion>10.0.0-M2</fixVersion>
                    <fixVersion>9.16.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17769531" author="jira-bot" created="Wed, 27 Sep 2023 10:35:57 +0000"  >&lt;p&gt;Commit 15e8ba2078f69ffd722d67abda9bdd1245ef19ec in wicket&apos;s branch refs/heads/master from leccyril&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=15e8ba2078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=15e8ba2078&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;JavascriptReferenceType: Implement Serializable (#664)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;JavascriptReferenceType: Implement Serializable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Implement classes newly added as Serializable to be able to store in cache or to be serialized.&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;JavaScriptReferenceType.java: Change from Serializable to Iclusterable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Following discussion, it is better to use IClusterable as it is used in other classes like this.&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17769533" author="jira-bot" created="Wed, 27 Sep 2023 10:37:02 +0000"  >&lt;p&gt;Commit a4098817e34abfd38caedfe314019acb440a7866 in wicket&apos;s branch refs/heads/wicket-9.x from leccyril&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a4098817e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a4098817e3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;JavascriptReferenceType: Implement Serializable (#664)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;JavascriptReferenceType: Implement Serializable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Implement classes newly added as Serializable to be able to store in cache or to be serialized.&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;JavaScriptReferenceType.java: Change from Serializable to Iclusterable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Following discussion, it is better to use IClusterable as it is used in other classes like this.&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-7076?filter=allissues&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 15e8ba2078f69ffd722d67abda9bdd1245ef19ec)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1klsw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>