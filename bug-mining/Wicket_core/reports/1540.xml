<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:26:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6863] Method Component.setVisibilityAllowed should call onVisibleStateChanged()</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6863</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Problem is in cache of Component visibility introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6839&quot; title=&quot;Component visible-in-hierarchy cache not used but cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6839&quot;&gt;&lt;del&gt;WICKET-6839&lt;/del&gt;&lt;/a&gt;.&#160;&lt;br/&gt;
RFLAG_VISIBLE_IN_HIERARCHY_SET&lt;/p&gt;

&lt;p&gt;If we use &lt;tt&gt;setVisibilityAllowed&lt;/tt&gt;&#160;instead of &lt;tt&gt;setVisible&lt;/tt&gt; exception is thrown.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.wicket.WicketRuntimeException: The component(s) below failed to render. Possible reasons could be that:
        1) you have added a component in code but forgot to reference it in the markup (thus the component will never be rendered),
        2) &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; your components were added in a parent container then make sure the markup &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the child container includes them in &amp;lt;wicket:extend&amp;gt;.
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One posible solution is to call cleaning visibility cache in method &lt;tt&gt;Component.setVisibilityAllowed&lt;/tt&gt;.&lt;br/&gt;
e.g.&lt;br/&gt;
Method&#160;&lt;tt&gt;Component.setVisibilityAllowed&lt;/tt&gt;&#160;should call&#160;&lt;tt&gt;onVisibleStateChanged()&lt;/tt&gt;&#160;as method&#160;&lt;tt&gt;Component.setVisible&lt;/tt&gt;&#160;does.&lt;/p&gt;

&lt;p&gt;All is demonstrated in github project&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/fafejtao/wicket9.2_visibility_bug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fafejtao/wicket9.2_visibility_bug&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/fafejtao/wicket9.2_visibility_bug/blob/master/src/main/java/com/mycompany/MyPanel.java#L22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/fafejtao/wicket9.2_visibility_bug/blob/master/src/main/java/com/mycompany/MyPanel.java#L22&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13354645">WICKET-6863</key>
            <summary>Method Component.setVisibilityAllowed should call onVisibleStateChanged()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="fafi">Ondrej Fafejta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2021 11:06:18 +0000</created>
                <updated>Fri, 19 Feb 2021 23:21:31 +0000</updated>
                            <resolved>Wed, 27 Jan 2021 17:41:55 +0000</resolved>
                                    <version>9.2.0</version>
                    <version>8.11.0</version>
                                    <fixVersion>9.3.0</fixVersion>
                    <fixVersion>8.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17273041" author="jira-bot" created="Wed, 27 Jan 2021 17:40:31 +0000"  >&lt;p&gt;Commit bb5900dcafe639c55e90f3341c99352a3632b6c0 in wicket&apos;s branch refs/heads/wicket-8.x from Sven Meier&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=bb5900d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=bb5900d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6863&quot; title=&quot;Method Component.setVisibilityAllowed should call onVisibleStateChanged()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6863&quot;&gt;&lt;del&gt;WICKET-6863&lt;/del&gt;&lt;/a&gt; clear visibileInHierarchy&lt;/p&gt;

&lt;p&gt;when visibilityAllowed changes&lt;/p&gt;</comment>
                            <comment id="17273042" author="jira-bot" created="Wed, 27 Jan 2021 17:41:11 +0000"  >&lt;p&gt;Commit 11dc8f94b93216bd72c61cd5ba94946a8f89af1c in wicket&apos;s branch refs/heads/master from Sven Meier&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=11dc8f9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=11dc8f9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6863&quot; title=&quot;Method Component.setVisibilityAllowed should call onVisibleStateChanged()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6863&quot;&gt;&lt;del&gt;WICKET-6863&lt;/del&gt;&lt;/a&gt; clear visibileInHierarchy&lt;/p&gt;

&lt;p&gt;when visibilityAllowed changes&lt;/p&gt;</comment>
                            <comment id="17273045" author="svenmeier" created="Wed, 27 Jan 2021 17:41:56 +0000"  >&lt;p&gt;Thank you very much for the detailed bug report!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13359702">WICKET-6870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13333894">WICKET-6839</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mzw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>