<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6036] Failure to process markup with nested tags inside a Label</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6036</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5730&quot; title=&quot;Dequeue auto component can&amp;#39;t resolve components if they are nested in child markup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5730&quot;&gt;&lt;del&gt;WICKET-5730&lt;/del&gt;&lt;/a&gt; causes previously accepted markup to be rejected under some circumstances. In our case, we have a Label, which renders some markup (text and an image), and expressed this in the markup for the panel:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;wicket:panel&amp;gt;
	&amp;lt;span wicket:id=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;&amp;gt; test &amp;lt;img src=&lt;span class=&quot;code-quote&quot;&gt;&quot;img.png&quot;&lt;/span&gt; /&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;/wicket:panel&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you add this Label to the panel, the following Exception is triggered:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalStateException: Tag &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;img src=&lt;span class=&quot;code-quote&quot;&gt;&quot;img.png&quot;&lt;/span&gt;/&amp;gt;&apos;&lt;/span&gt; should be the closing one &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;span wicket:id=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;&amp;gt;&apos;&lt;/span&gt;
	at org.apache.wicket.MarkupContainer.dequeueChild(MarkupContainer.java:2163)
	at org.apache.wicket.MarkupContainer.dequeue(MarkupContainer.java:2120)
	at org.apache.wicket.MarkupContainer.dequeuePreamble(MarkupContainer.java:2075)
	at org.apache.wicket.MarkupContainer.dequeue(MarkupContainer.java:1993)
	at org.apache.wicket.MarkupContainer.addedComponent(MarkupContainer.java:1049)
	at org.apache.wicket.MarkupContainer.add(MarkupContainer.java:239)
	at org.apache.wicket.util.tester.BaseWicketTester.startComponentInPage(BaseWicketTester.java:1460)
	at org.apache.wicket.util.tester.BaseWicketTester.startComponentInPage(BaseWicketTester.java:1386)
	at org.apache.wicket.queueing.ComponentQueueingCompatibilityTest.nestedTags(ComponentQueueingCompatibilityTest.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a regression since 6.x, introduced by commit db5be6ab05545e1bb95f566c3aeb23e05cf93437. I&apos;ve added a disabled testcase to demonstrate the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12913572">WICKET-6036</key>
            <summary>Failure to process markup with nested tags inside a Label</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="papegaaij">Emond Papegaaij</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 07:36:21 +0000</created>
                <updated>Wed, 18 Nov 2015 22:32:13 +0000</updated>
                            <resolved>Wed, 18 Nov 2015 22:32:13 +0000</resolved>
                                    <version>7.0.0</version>
                    <version>7.1.0</version>
                                    <fixVersion>7.2.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15008203" author="jira-bot" created="Tue, 17 Nov 2015 07:38:16 +0000"  >&lt;p&gt;Commit 2224450fa70606e7a3ddabc1e44a9d30f7960658 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=papegaaij&quot; class=&quot;user-hover&quot; rel=&quot;papegaaij&quot;&gt;papegaaij&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2224450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2224450&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt;: testcase demonstrating the problem&lt;/p&gt;</comment>
                            <comment id="15008204" author="jira-bot" created="Tue, 17 Nov 2015 07:39:14 +0000"  >&lt;p&gt;Commit 95cb76329a5fe1665e65b9f2dfa9af3a45f50769 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=papegaaij&quot; class=&quot;user-hover&quot; rel=&quot;papegaaij&quot;&gt;papegaaij&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=95cb763&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=95cb763&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt;: testcase demonstrating the problem&lt;/p&gt;</comment>
                            <comment id="15009587" author="jira-bot" created="Tue, 17 Nov 2015 21:40:46 +0000"  >&lt;p&gt;Commit 497a5d629b609d2e6039b2df6c35bc1035077984 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=497a5d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=497a5d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt; Failure to process markup with nested tags inside a Label&lt;/p&gt;

&lt;p&gt;Take tags from the &apos;dequeue&apos; until the closing one is found.&lt;br/&gt;
Throw an exception iff it cannot be found&lt;/p&gt;</comment>
                            <comment id="15009589" author="mgrigorov" created="Tue, 17 Nov 2015 21:41:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt; Please review the improvement. Thanks!&lt;/p&gt;</comment>
                            <comment id="15009591" author="jira-bot" created="Tue, 17 Nov 2015 21:41:51 +0000"  >&lt;p&gt;Commit 23cf287700a62ac77224478f1ab29feee2129159 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=23cf287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=23cf287&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt; Failure to process markup with nested tags inside a Label&lt;/p&gt;

&lt;p&gt;Take tags from the &apos;dequeue&apos; until the closing one is found.&lt;br/&gt;
Throw an exception iff it cannot be found&lt;/p&gt;</comment>
                            <comment id="15010397" author="papegaaij" created="Wed, 18 Nov 2015 07:28:01 +0000"  >&lt;p&gt;The change looks correct to me. Thanks for taking care of this, I only had time to create a testcase and ticket. One minor comment: the error message is missing the word &apos;tag&apos;: &quot;Could not find the closing &lt;em&gt;tag&lt;/em&gt; for &apos;%s&apos;&quot;&lt;/p&gt;</comment>
                            <comment id="15011262" author="bitstorm" created="Wed, 18 Nov 2015 16:01:04 +0000"  >&lt;p&gt;It&apos;s ok also for me. Just one thing. I&apos;d prefer to add a test method to the existing ComponentQueueingTest class rather than creating a new one just for it.  &lt;/p&gt;</comment>
                            <comment id="15012197" author="jira-bot" created="Wed, 18 Nov 2015 22:29:39 +0000"  >&lt;p&gt;Commit 6970a4dadb5d1b3b73b8be63d1f321e61967ff13 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=6970a4d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=6970a4d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt; Failure to process markup with nested tags inside a Label&lt;/p&gt;

&lt;p&gt;Move the new test from ComponentQueueingCompatibilityTest to ComponentQueueingTest.&lt;br/&gt;
Fix the exception message.&lt;br/&gt;
Remove some trailing spaces.&lt;/p&gt;</comment>
                            <comment id="15012202" author="jira-bot" created="Wed, 18 Nov 2015 22:32:07 +0000"  >&lt;p&gt;Commit 89c285a1520e9d008fff9f4452fab6ba611b17da in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=89c285a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=89c285a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6036&quot; title=&quot;Failure to process markup with nested tags inside a Label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6036&quot;&gt;&lt;del&gt;WICKET-6036&lt;/del&gt;&lt;/a&gt; Failure to process markup with nested tags inside a Label&lt;/p&gt;

&lt;p&gt;Move the new test from ComponentQueueingCompatibilityTest to ComponentQueueingTest.&lt;br/&gt;
Fix the exception message.&lt;br/&gt;
Remove some trailing spaces.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ohjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>