<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3827] Component loses state after replace another one</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3827</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3197&quot; title=&quot;getMarkupId() can be used only if the component&amp;#39;s markup is attached&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3197&quot;&gt;&lt;del&gt;WICKET-3197&lt;/del&gt;&lt;/a&gt; we set the replacement component &apos;output markup id&apos; flag to be the same as the replaced component &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. IMO we can&apos;t change the component state set by users in benefit of the component being replaced as it can lead to unexpected behaviors like AJAX links or buttons not working. I&apos;m sending a quickstart to exemplify.&lt;/p&gt;

&lt;p&gt;1- Component#setMarkupId(Component comp)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511251">WICKET-3827</key>
            <summary>Component loses state after replace another one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivaynberg">Igor Vaynberg</assignee>
                                    <reporter username="pedrosans">Pedro Santos</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jun 2011 15:54:16 +0000</created>
                <updated>Fri, 24 Jun 2011 13:51:55 +0000</updated>
                            <resolved>Thu, 23 Jun 2011 18:37:44 +0000</resolved>
                                    <version>1.5-RC4</version>
                                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13053871" author="mgrigorov" created="Thu, 23 Jun 2011 14:07:59 +0000"  >&lt;p&gt;&amp;#8212; wicket-core/src/main/java/org/apache/wicket/Component.java	(revision 1138875)&lt;br/&gt;
+++ wicket-core/src/main/java/org/apache/wicket/Component.java	(working copy)&lt;br/&gt;
@@ -2812,7 +2812,6 @@&lt;/p&gt;

&lt;p&gt; 		generatedMarkupId = comp.generatedMarkupId;&lt;br/&gt;
 		setMetaData(MARKUP_ID_KEY, comp.getMetaData(MARKUP_ID_KEY));&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;setOutputMarkupId(comp.getOutputMarkupId());&lt;br/&gt;
 	}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;solve it.&lt;br/&gt;
All tests pass.&lt;br/&gt;
I think it is safe.&lt;/p&gt;</comment>
                            <comment id="13053976" author="ivaynberg" created="Thu, 23 Jun 2011 17:10:18 +0000"  >&lt;p&gt;i do not think it is safe&lt;/p&gt;

&lt;p&gt;suppose&lt;/p&gt;

&lt;p&gt;class Page {&lt;br/&gt;
  Component foo;&lt;/p&gt;

&lt;p&gt;  public Page() {&lt;br/&gt;
    add(foo=new Label(&quot;foo&quot;).setOutputMarkupId(true);&lt;br/&gt;
    add(new ajaxlink(&quot;link&quot;) { onclick(target) { Label bar=new Label(foo.getid()).setOutputMarkupId(true); foo.replaceWith(bar); foo=bar; target.add(foo);  }}&lt;/p&gt;

&lt;p&gt;this simple case will fail to work&lt;/p&gt;

&lt;p&gt;first foo is created with an autogenerated unique id ID0, it is rendered &amp;lt;div id=&quot;ID0&quot;&amp;gt;&lt;br/&gt;
next we create bar which gets a newly generated id ID6. we replace foo with bar and add bar to the ajax request target. this will fail because wicket will be looking for a node with ID6 and will not find it. this is why the code is there - to keep this from happening.&lt;/p&gt;</comment>
                            <comment id="13054018" author="mgrigorov" created="Thu, 23 Jun 2011 18:25:50 +0000"  >&lt;p&gt;Why ID6 ? The markupId is transferred with the previous two lines. Just the &apos;outputMarkup&apos; flag is not transferred, but trying to add it to ART will tell you immediately that you need to set it explicitly.&lt;br/&gt;
In 1.4 it behaves the same way.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12483455" name="WICKET-3827-markup-id.zip" size="22204" author="pedrosans" created="Wed, 22 Jun 2011 15:56:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>70108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>