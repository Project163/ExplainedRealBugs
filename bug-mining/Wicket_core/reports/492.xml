<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4298] FormTester doesn&apos;t handle nested forms correctly</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4298</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4295&quot; title=&quot;Allow outer forms to optionally participate in a nested form&amp;#39;s submit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4295&quot;&gt;&lt;del&gt;WICKET-4295&lt;/del&gt;&lt;/a&gt;, I discovered that FormTester doesn&apos;t handle nested form submits correctly.&lt;/p&gt;

&lt;p&gt;The browser will always submit the outermost form, because that is the only form it sees. Wicket will then determine the correct form by looking at the submitting component. If you create a FormTester on an inner form, however, the test request will point directly at that inner form. This is a problem for the new feature in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4295&quot; title=&quot;Allow outer forms to optionally participate in a nested form&amp;#39;s submit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4295&quot;&gt;&lt;del&gt;WICKET-4295&lt;/del&gt;&lt;/a&gt;, but also in general since it does not correctly model the actual interaction. Also the submitting component is not found due to the wrong form being looked at. (form.getRootForm() == Form.this in Form#findSubmittingButton()) This means that for a nested form, the submitting component could &lt;b&gt;never&lt;/b&gt; be found! I think it&apos;s mostly luck that this is not a bigger issue in tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;It is possible to have the correct handling in a test, if you do newFormTester(outerForm) and then submit with a submit button in the inner form (formtester.submit(&quot;inner:submitButton&quot;)).&lt;/p&gt;

&lt;p&gt;I think FormTester should do the correct thing on its own though. The fix is trivial: in submit() don&apos;t just use the form it&apos;s pointing at, but use form.getRootForm(). This fixes both the correct request handling, as well as the issue with not finding the submitting component.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the appropriate patches.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12535314">WICKET-4298</key>
            <summary>FormTester doesn&apos;t handle nested forms correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="cmenzel">Carl-Eric Menzel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Dec 2011 14:10:13 +0000</created>
                <updated>Fri, 23 Dec 2011 10:56:09 +0000</updated>
                            <resolved>Fri, 23 Dec 2011 10:56:09 +0000</resolved>
                                    <version>1.4.19</version>
                    <version>1.5.3</version>
                    <version>6.0.0-beta1</version>
                                    <fixVersion>1.4.20</fixVersion>
                    <fixVersion>1.5.4</fixVersion>
                    <fixVersion>6.0.0-beta1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                                                            <comments>
                            <comment id="13170231" author="cmenzel" created="Thu, 15 Dec 2011 14:12:56 +0000"  >&lt;p&gt;A set of patches against 1.4, 1.5 and trunk. An appropriate test is included. The build did not break, so I assume the fix is safe.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507525" name="WICKET-4298-1.4-fix-nested-form-handling-in-FormTester.patch" size="6513" author="cmenzel" created="Thu, 15 Dec 2011 14:12:56 +0000"/>
                            <attachment id="12507526" name="WICKET-4298-1.5-fix-nested-form-handling-in-FormTester.patch" size="6205" author="cmenzel" created="Thu, 15 Dec 2011 14:12:56 +0000"/>
                            <attachment id="12507527" name="WICKET-4298-6.0-fix-nested-form-handling-in-FormTester.patch" size="6205" author="cmenzel" created="Thu, 15 Dec 2011 14:12:56 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12535318">WICKET-4299</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00w7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>