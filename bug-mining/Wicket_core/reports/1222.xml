<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6003] ClientProperties.getTimeZone() is not correctly calculated from client&apos;s time zone offset</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6003</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Hello, my first issue here, so I apologize for any false alarms.&lt;/p&gt;

&lt;p&gt;In org.apache.wicket.protocol.http.ClientProperties.getTimeZone() a timeZone is calculated from getUtcOffset() method.&lt;/p&gt;

&lt;p&gt;The getUtcOffset() method in javadoc specifies, that the returned offset is in minutes. In my case, it returns &quot;120&quot; which corresponds to 2hrs shift from UTC (CET).&lt;/p&gt;

&lt;p&gt;The getTimeZone() then calculates the timeZone in two ways, based on the offset containing a dot.&lt;/p&gt;

&lt;p&gt;The &quot;else&quot; branch applies in my case since the offset does not contains a dot.&lt;/p&gt;

&lt;p&gt;There the timeZone is calculated on this line:&lt;/p&gt;

&lt;p&gt;timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + ((offset &amp;gt; 0) ? &quot;+&quot; : &quot;-&quot;) + utc);&lt;br/&gt;
In my case it creates: &quot;GMT+120&quot;.&lt;br/&gt;
Which creates a following timeZone object:&lt;br/&gt;
sun.util.calendar.ZoneInfo&lt;span class=&quot;error&quot;&gt;&amp;#91;id=&amp;quot;GMT+01:20&amp;quot;,offset=4800000,dstSavings=0,useDaylight=false,transitions=0,lastRule=null&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This is obviously wrong, since it should be GMT+2:00, offset=7200000.&lt;/p&gt;

&lt;p&gt;I think the code in both cases of the &quot;if&quot; block does not correspond to the contract of getUtcOffset().&lt;/p&gt;

&lt;p&gt;I checked later versions of wicket for fix, but did not find any change in versions 6.20 and 7.&lt;/p&gt;

&lt;p&gt;Is this observation correct?&lt;/p&gt;

&lt;p&gt;Thank you for a great framework.&lt;/p&gt;</description>
                <environment>Java 8, Tomcat 8</environment>
        <key id="12905497">WICKET-6003</key>
            <summary>ClientProperties.getTimeZone() is not correctly calculated from client&apos;s time zone offset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="jbodnar">Josef Bodn&#225;r</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Oct 2015 11:44:06 +0000</created>
                <updated>Fri, 16 Oct 2015 17:42:30 +0000</updated>
                            <resolved>Fri, 16 Oct 2015 17:42:30 +0000</resolved>
                                    <version>6.5.0</version>
                                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14960641" author="svenmeier" created="Fri, 16 Oct 2015 13:03:22 +0000"  >&lt;p&gt;The javadoc is wrong, getUtcOffset() returns the offset in hours.&lt;/p&gt;

&lt;p&gt;&amp;gt; In my case, it returns &quot;120&quot;&lt;/p&gt;

&lt;p&gt;Strange. Please take a look at wicket-browser-info.js - here the offset is divided by 60.&lt;/p&gt;
</comment>
                            <comment id="14960708" author="jbodnar" created="Fri, 16 Oct 2015 13:40:05 +0000"  >&lt;p&gt;Ah, I see. So the problem lies in our custom javascript code then.&lt;br/&gt;
We use: -new Date().getTimezoneOffset();&lt;/p&gt;

&lt;p&gt;In that case the bug is only in javadoc and the code works ok.&lt;br/&gt;
Sorry for the extra bug report and thank you.&lt;br/&gt;
Josef&lt;/p&gt;</comment>
                            <comment id="14961073" author="jira-bot" created="Fri, 16 Oct 2015 17:41:19 +0000"  >&lt;p&gt;Commit 4e7a60577af0da01c843f92067bc1ca8ad712633 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=4e7a605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=4e7a605&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6003&quot; title=&quot;ClientProperties.getTimeZone() is not correctly calculated from client&amp;#39;s time zone offset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6003&quot;&gt;&lt;del&gt;WICKET-6003&lt;/del&gt;&lt;/a&gt; utc offsets are in hours&lt;/p&gt;</comment>
                            <comment id="14961074" author="svenmeier" created="Fri, 16 Oct 2015 17:42:30 +0000"  >&lt;p&gt;Javadoc is updated to hours now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n433:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>