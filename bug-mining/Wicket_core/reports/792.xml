<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5040] Session.exists() returns false when ThreadContext#session is not set to current session</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5040</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;There are several places in Wicket which check for the existence of a Session before actually getting a reference to it, e.g. FeedbackCollector:&lt;/p&gt;

&lt;p&gt;	public final List&amp;lt;FeedbackMessage&amp;gt; collect(final IFeedbackMessageFilter filter)&lt;br/&gt;
	{&lt;br/&gt;
		...&lt;br/&gt;
		if (includeSession &amp;amp;&amp;amp; Session.exists())&lt;/p&gt;
		{
			messages.addAll(Session.get().getFeedbackMessages().messages(filter));
		}
&lt;p&gt;	}&lt;/p&gt;

&lt;p&gt;If no one has called Session#get(), all calls to Session#exists() return false although a session might exist in the session store, i.e. it might just not be set to ThreadContext#session already.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632348">WICKET-5040</key>
            <summary>Session.exists() returns false when ThreadContext#session is not set to current session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="svenmeier">Sven Meier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Feb 2013 10:41:15 +0000</created>
                <updated>Thu, 14 Feb 2013 14:44:54 +0000</updated>
                            <resolved>Thu, 14 Feb 2013 14:44:54 +0000</resolved>
                                    <version>6.5.0</version>
                                    <fixVersion>6.6.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13578390" author="svenmeier" created="Thu, 14 Feb 2013 14:11:13 +0000"  >&lt;p&gt;With commit:80adc54 RestartResponseAtInterceptPageException.InterceptData#get() checks for existence of a session with Session#exists() before calling Session#get():&lt;/p&gt;

&lt;p&gt;			if (Session.exists())&lt;/p&gt;
			{
				return Session.get().getMetaData(key);
			}
&lt;p&gt;			return null;&lt;/p&gt;

&lt;p&gt;This was changed so that RestartResponseAtInterceptPageException#MAPPER doesn&apos;t create a (temporary) session if not needed (e.g. when a resource is requested).&lt;/p&gt;

&lt;p&gt;Note that Session#exists()&apos;s javadoc is ambiguous about this detail:&lt;/p&gt;

&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Checks if the &amp;lt;code&amp;gt;Session&amp;lt;/code&amp;gt; threadlocal is set in this thread&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@return true if 
{@link Session#get()}
&lt;p&gt; can return the instance of session, false otherwise&lt;br/&gt;
	 */&lt;br/&gt;
	public static boolean exists()&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It claims to return true if #get() can return the session. If there&apos;s a current session but it is not set on the ThreadContext yet, #exists() will return false, but #get() will return the session from the session store.&lt;/p&gt;</comment>
                            <comment id="13578408" author="svenmeier" created="Thu, 14 Feb 2013 14:44:54 +0000"  >&lt;p&gt;Session#exists() now check session store too&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12631963">WICKET-5036</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hzkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>