<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5748] StackOverflowError while trying to get the Markup of WicketHeadContainer</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5748</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I&apos;m migrating our main app to Wicket 7.x&lt;br/&gt;
One of the tests fail with StackOverflowError.&lt;br/&gt;
Attaching a debugger shows that there are multiple instances of HtmlHeaderResolver$WicketHeadContainer with the same id.&lt;/p&gt;

&lt;p&gt;See the attached screenshot.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12752755">WICKET-5748</key>
            <summary>StackOverflowError while trying to get the Markup of WicketHeadContainer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bitstorm">Andrea Del Bene</assignee>
                                    <reporter username="mgrigorov">Martin Tzvetanov Grigorov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Nov 2014 16:09:43 +0000</created>
                <updated>Thu, 13 Nov 2014 11:54:29 +0000</updated>
                            <resolved>Thu, 13 Nov 2014 11:54:29 +0000</resolved>
                                    <version>7.0.0-M4</version>
                                    <fixVersion>7.0.0-M5</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14196292" author="mgrigorov" created="Tue, 4 Nov 2014 16:10:51 +0000"  >&lt;p&gt;A screenshot showing the problem.&lt;br/&gt;
org.apache.wicket.markup.html.panel.DefaultMarkupSourcingStrategy#getMarkup() is called with &apos;container&apos; and &apos;child&apos; being the same component instance.&lt;/p&gt;</comment>
                            <comment id="14196297" author="mgrigorov" created="Tue, 4 Nov 2014 16:14:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesselong&quot; class=&quot;user-hover&quot; rel=&quot;jesselong&quot;&gt;jesselong&lt;/a&gt; You have worked in this area recently (&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5569&quot; title=&quot;Unable to find markup for children of deeply nested IComponentResolvers during Ajax response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5569&quot;&gt;&lt;del&gt;WICKET-5569&lt;/del&gt;&lt;/a&gt;). Do you have an idea why this may happen ?&lt;/p&gt;</comment>
                            <comment id="14196395" author="bitstorm" created="Tue, 4 Nov 2014 17:27:17 +0000"  >&lt;p&gt;Could you reproduce with a quickstart?&lt;/p&gt;</comment>
                            <comment id="14198466" author="mgrigorov" created="Wed, 5 Nov 2014 14:56:21 +0000"  >&lt;p&gt;It turned out to be a problem in the test.&lt;br/&gt;
It uses tester.startComponentInPage(aLinkWithSomeId, Markup.of(&quot;&amp;lt;wicket:head&amp;gt;&amp;lt;/wicket:head&amp;gt;&amp;lt;a wicket:id=&apos;wrongId&apos;&amp;gt;Blah&amp;lt;/a&amp;gt;&quot;));&lt;/p&gt;

&lt;p&gt;The &amp;lt;wicket:head&amp;gt; thingy is there to allow collecting the Ajax bindings (Wicket.Ajax.ajax()) and later assert on them. This causes the need of WicketHeadContainer.&lt;br/&gt;
But the problem goes away once fixing the &apos;wrongId&apos; !&lt;br/&gt;
So Wicket confuses itself somehow due to the different id of the link and the one in the provided markup. If &amp;lt;wicket:head&amp;gt; is not there then Wicket properly reports &quot;Cannot find a component with id &apos;wrongId&apos;. Similar: ...&quot; But when &amp;lt;wicket:head&amp;gt; is there it fails with StackOverflowError...&lt;/p&gt;

&lt;p&gt;I&apos;ll try to isolate it in a small test case and attach it later.&lt;/p&gt;</comment>
                            <comment id="14199122" author="bitstorm" created="Wed, 5 Nov 2014 21:28:08 +0000"  >&lt;p&gt;I&apos;ve created a quickstart following your indications. The problem is present since M2. With M1 looks good.&lt;/p&gt;</comment>
                            <comment id="14200253" author="bitstorm" created="Thu, 6 Nov 2014 14:55:46 +0000"  >&lt;p&gt;Component HtmlHeaderResolver#WicketHeadContainer is used to add a placeholder for &amp;lt;wicket:head&amp;gt;. We could change it from to TransparentWebMarkupContainer to simply WebMarkupContainer. Could be this a problem? Sounds safe to me...&lt;br/&gt;
Tried and all tests pass.&lt;/p&gt;</comment>
                            <comment id="14209652" author="jira-bot" created="Thu, 13 Nov 2014 11:53:13 +0000"  >&lt;p&gt;Commit 82fbbad78973b900d84def5eebebb4986c412401 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=82fbbad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=82fbbad&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5748&quot; title=&quot;StackOverflowError while trying to get the Markup of WicketHeadContainer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5748&quot;&gt;&lt;del&gt;WICKET-5748&lt;/del&gt;&lt;/a&gt; StackOverflowError while trying to get the Markup of&lt;br/&gt;
WicketHeadContainer&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12679633" name="WICKET-5748.zip" size="37611" author="bitstorm" created="Wed, 5 Nov 2014 21:27:02 +0000"/>
                            <attachment id="12679244" name="stackoverflow-getMarkup.png" size="172740" author="mgrigorov" created="Tue, 4 Nov 2014 16:10:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21y6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>