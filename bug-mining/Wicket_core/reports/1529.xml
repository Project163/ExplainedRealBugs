<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:26:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6841] Evaluation order of dependent JS in Ajax request</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6841</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Starting in Wicket 9, an issue cropped up with how JS is evaluated when loaded through Ajax. It appears as though JS in the component is evaluated before the references in &amp;lt;wicket:head&amp;gt; or #renderHead() are resolved. This leads to initialization and reference errors in the first rendering if said JS in the component references the libraries in the header. Subsequent usages are fine as the referenced libraries are then cached.&lt;/p&gt;

&lt;p&gt;I&apos;m not familiar with Wicket internals, but this to me seems related to what Martin brought up in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6840&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;WICKET-6840&lt;/a&gt;. The comment reads:&lt;/p&gt;

&lt;p&gt;&quot;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6703&quot; title=&quot;Eliminate window.eval from wicket-ajax-jquery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6703&quot;&gt;&lt;del&gt;WICKET-6703&lt;/del&gt;&lt;/a&gt; Wicket was using &amp;lt;prepend-evaluation&amp;gt; elements in the Ajax XML response, which were processed before any component replacement. After &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6703&quot; title=&quot;Eliminate window.eval from wicket-ajax-jquery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6703&quot;&gt;&lt;del&gt;WICKET-6703&lt;/del&gt;&lt;/a&gt; we use &amp;lt;header-contribution&amp;gt; for both prepend and append JS. With the change above the issue is worked around but the prepend JS contributed by AjaxIndicatorAppender is executed &lt;b&gt;after&lt;/b&gt; the component replacements.&quot;&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a sample quickstart that is a simplified version of the charting issue I mentioned having in that ticket. It is a custom component that pulls a simple JS library in the header and calls it inline. The issue can be observed through the browser JS console when clicking the link.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Linux - Ubuntu 19.1, JDK 14</environment>
        <key id="13335507">WICKET-6841</key>
            <summary>Evaluation order of dependent JS in Ajax request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="roncruz">Ronald Cruz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Oct 2020 23:18:45 +0000</created>
                <updated>Fri, 16 Oct 2020 20:47:38 +0000</updated>
                            <resolved>Thu, 15 Oct 2020 21:09:55 +0000</resolved>
                                    <version>9.0.0</version>
                    <version>9.1.0</version>
                                    <fixVersion>9.2.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17214521" author="svenmeier" created="Thu, 15 Oct 2020 08:46:47 +0000"  >&lt;p&gt;Confirmed, that is a regression.&lt;/p&gt;</comment>
                            <comment id="17215000" author="jira-bot" created="Thu, 15 Oct 2020 20:48:47 +0000"  >&lt;p&gt;Commit 1ee7b1d3f464651593d1c26aa177ff01aa6765b1 in wicket&apos;s branch refs/heads/master from Sven Meier&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=1ee7b1d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=1ee7b1d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6841&quot; title=&quot;Evaluation order of dependent JS in Ajax request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6841&quot;&gt;&lt;del&gt;WICKET-6841&lt;/del&gt;&lt;/a&gt; reintroduce evaluate and priority-evaluate&lt;/p&gt;</comment>
                            <comment id="17215006" author="svenmeier" created="Thu, 15 Oct 2020 21:09:55 +0000"  >&lt;p&gt;I went to far in the CSP restructuring with the result that evaluation was in wrong order.&lt;/p&gt;

&lt;p&gt;So &amp;lt;priority-evaluation&amp;gt; and &amp;lt;evaluation&amp;gt; are back now and evaluated in wicket-ajax-jquery.js as in Wicket 8.x.&lt;/p&gt;</comment>
                            <comment id="17215010" author="mgrigorov" created="Thu, 15 Oct 2020 21:10:49 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17215072" author="roncruz" created="Thu, 15 Oct 2020 23:28:51 +0000"  >&lt;p&gt;Quick turnaround, thanks!&lt;/p&gt;</comment>
                            <comment id="17215647" author="svenmeier" created="Fri, 16 Oct 2020 20:47:38 +0000"  >&lt;p&gt;&quot;You break it, you fix it!&quot;&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roncruz&quot; class=&quot;user-hover&quot; rel=&quot;roncruz&quot;&gt;roncruz&lt;/a&gt;&#160; for reporting these issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13335299">WICKET-6840</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13013600" name="wicket-js-order.zip" size="7384743" author="roncruz" created="Wed, 14 Oct 2020 23:17:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jpq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>