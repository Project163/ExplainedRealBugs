<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4038] MountedMapper.mapHandler ruins Links inside mounted pages appending parameters wicket-ajax and wicket-ajax-baseurl</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4038</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;With the last commit n&#176; 1166194 method mapHandler has been added to MountedMapper class in order to solve &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4014&quot; title=&quot;Wicket 1.5 Form Post Action and Link Get discard Page Class Information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4014&quot;&gt;&lt;del&gt;WICKET-4014&lt;/del&gt;&lt;/a&gt;. Unfortunately this method seems to ruin Link url inside mounted page (for example home page) if this page uses AJAX.&lt;br/&gt;
mapHandler modifies Link url appending parameters &apos;wicket-ajax&apos; and &apos;wicket-ajax-baseur&apos;l to it. In this way when we click Link we get an error from browser like this:&lt;/p&gt;

&lt;p&gt;       &quot; This XML file does not appear to have any style information associated with it. The document tree is shown below.&lt;br/&gt;
      &amp;lt;ajax-response&amp;gt;&amp;lt;redirect&amp;gt;wicket/page?41&amp;lt;/redirect&amp;gt;&amp;lt;/ajax-response&amp;gt; &quot;&lt;/p&gt;

&lt;p&gt;The error message is the same for Firefox and Chromium.&lt;br/&gt;
See attached quickstart.&lt;/p&gt;

&lt;p&gt;Warning: as I&apos;m writing this issue, Wicket snapshot is not affected yet by this bug, so you have to run quickstart with the last source from repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12522440">WICKET-4038</key>
            <summary>MountedMapper.mapHandler ruins Links inside mounted pages appending parameters wicket-ajax and wicket-ajax-baseurl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="bitstorm">Andrea Del Bene</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2011 15:34:24 +0000</created>
                <updated>Mon, 12 Sep 2011 13:54:36 +0000</updated>
                            <resolved>Mon, 12 Sep 2011 13:54:35 +0000</resolved>
                                    <version>1.5-RC7</version>
                                    <fixVersion>1.5.1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13101279" author="bitstorm" created="Fri, 9 Sep 2011 15:39:21 +0000"  >&lt;p&gt;To run quickstart click on &quot;Show results&quot; and then on a link below.&lt;/p&gt;</comment>
                            <comment id="13101539" author="pedrosans" created="Fri, 9 Sep 2011 20:25:21 +0000"  >&lt;p&gt;My first impression debugging the quickstart is that all request parameters encoded to carry framework specific information should not be propagated across all the request cycle after get consumed by framework internals.&lt;br/&gt;
Goes attached a patch with this solution.&lt;/p&gt;

&lt;p&gt;A simpler solution would be:&lt;br/&gt;
1 - tweak AbstractMapper to not encode internal flags in the URL. At encodePageParameters method for instance.&lt;br/&gt;
2 - simple not add them to PageParameter objects.&lt;/p&gt;

&lt;p&gt;I don&apos;t know which is the best alternative of those.&lt;/p&gt;</comment>
                            <comment id="13102084" author="bitstorm" created="Sat, 10 Sep 2011 17:11:34 +0000"  >&lt;p&gt;Hi Pedro,&lt;/p&gt;

&lt;p&gt;your patch solve problem and is conceptually right, but it breaks 4 test cases:&lt;br/&gt;
-InternalErrorCallsAjaxOnFailureTest&lt;br/&gt;
-PageProviderTest&lt;br/&gt;
-PageVersioningTest&lt;br/&gt;
-MultiRequestCycleListenerCallOrderTest&lt;/p&gt;

&lt;p&gt;Why not simply remove ajax parameters directly inside MountedMapper (see attached patch)? &lt;/p&gt;</comment>
                            <comment id="13102663" author="mgrigorov" created="Mon, 12 Sep 2011 13:54:35 +0000"  >&lt;p&gt;I like Pedro&apos;s approach. I&apos;m just not sure whether something else can break. That&apos;s why I put the check in UrlInfo to prevent the leakage of Ajax related parameters in the produced Urls.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493849" name="WICKET-4038.patch" size="4247" author="pedrosans" created="Fri, 9 Sep 2011 20:25:21 +0000"/>
                            <attachment id="12493915" name="ajaxParametersCopyFix.txt" size="2514" author="bitstorm" created="Sat, 10 Sep 2011 17:12:16 +0000"/>
                            <attachment id="12493789" name="issue.zip" size="29836" author="bitstorm" created="Fri, 9 Sep 2011 15:35:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>