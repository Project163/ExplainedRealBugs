<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:17:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3438] 2xStatelessForm growing url when there is error validation </title>
                <link>https://issues.apache.org/jira/browse/WICKET-3438</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I have a strange problem with 2xStatelessForm :&lt;/p&gt;

&lt;p&gt;I would like a stateless application with 2 StatelessForm and with somes required validators on form :&lt;/p&gt;

&lt;p&gt;public class HomePage extends WebPage {&lt;/p&gt;

&lt;p&gt;        private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;p&gt;    public HomePage(final PageParameters parameters) {&lt;br/&gt;
        super(parameters);&lt;br/&gt;
        setVersioned(false);&lt;br/&gt;
        Form form1 = new StatelessForm(&quot;form1&quot;) {&lt;br/&gt;
            @Override&lt;br/&gt;
            protected void onSubmit() &lt;/p&gt;
{
                setResponsePage(ResultPage.class);
            }&lt;br/&gt;
        };&lt;br/&gt;
        form1.add(new TextField&amp;lt;String&amp;gt;(&quot;input1&quot;).setRequired(true));&lt;br/&gt;
        add(form1);&lt;br/&gt;
&lt;br/&gt;
        Form form2 = new StatelessForm(&quot;form2&quot;) {&lt;br/&gt;
            @Override&lt;br/&gt;
            protected void onSubmit() {                setResponsePage(ResultPage.class);            }
&lt;p&gt;        };&lt;br/&gt;
        form2.add(new TextField&amp;lt;String&amp;gt;(&quot;input1&quot;).setRequired(true));&lt;br/&gt;
        add(form2);&lt;br/&gt;
    }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The problem is when I submit alternatively each form (I don&apos;t fill the Textfield required intentionally), the url growing like this :&lt;/p&gt;

&lt;p&gt;1st submit : &lt;a href=&quot;http://localhost:8080/Wicket-Test/HomePage.html?wicket:interface=:0:form2::IFormSubmitListener::&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/Wicket-Test/HomePage.html?wicket:interface=:0:form2::IFormSubmitListener::&lt;/a&gt;&lt;br/&gt;
2nd submit : &lt;a href=&quot;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;wicket:interface=:0:form1::IFormSubmitListener::&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;wicket:interface=:0:form1::IFormSubmitListener::&lt;/a&gt;&lt;br/&gt;
3th submit : &lt;a href=&quot;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;form12_hf_0=&amp;amp;wicket:interface=:0:form2::IFormSubmitListener::&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;form12_hf_0=&amp;amp;wicket:interface=:0:form2::IFormSubmitListener::&lt;/a&gt;&lt;br/&gt;
4th submit : &lt;a href=&quot;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;form22_hf_0=&amp;amp;form12_hf_0=&amp;amp;wicket:interface=:0:form1::IFormSubmitListener::&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/Wicket-Test/HomePage.html?form22_hf_0=&amp;amp;form22_hf_0=&amp;amp;form12_hf_0=&amp;amp;wicket:interface=:0:form1::IFormSubmitListener::&lt;/a&gt;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Is there a solution to solve this problem ?&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;

&lt;p&gt;Duto&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498121">WICKET-3438</key>
            <summary>2xStatelessForm growing url when there is error validation </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivaynberg">Igor Vaynberg</assignee>
                                    <reporter username="dutrieux">Duto</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 13:26:31 +0000</created>
                <updated>Sun, 6 Mar 2011 10:21:05 +0000</updated>
                            <resolved>Fri, 18 Feb 2011 16:30:32 +0000</resolved>
                                    <version>1.4.15</version>
                                    <fixVersion>1.4.16</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                                                            <comments>
                            <comment id="12992544" author="pedrosans" created="Wed, 9 Feb 2011 16:04:37 +0000"  >&lt;p&gt;we need to remove the input name parameter from page parameters before render the response&lt;/p&gt;</comment>
                            <comment id="12992560" author="dutrieux" created="Wed, 9 Feb 2011 16:40:49 +0000"  >&lt;p&gt;I think I can&apos;t do that because the PageParameter is final.&lt;/p&gt;

&lt;p&gt;Could you please give sample code of solution Pedro ?&lt;/p&gt;</comment>
                            <comment id="12992570" author="pedrosans" created="Wed, 9 Feb 2011 16:53:50 +0000"  >&lt;p&gt;Hi Olivier, the last comment was to other devs. The problem is that Wicket is giving an statefull id tho the hidden field, and stateless pages get recreated all the time. The form processing is already removing request parameters avoiding them from get encoded in the form action, so the fix for this ticket is just use an stateless id for the hidden field. I&apos;m sending an patch, if I&apos;m not missing anything we can commit.&lt;/p&gt;</comment>
                            <comment id="12992988" author="dutrieux" created="Thu, 10 Feb 2011 10:38:37 +0000"  >&lt;p&gt;I test your patch Pedro and that&apos;s work perfectly.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                            <comment id="12993083" author="pedrosans" created="Thu, 10 Feb 2011 15:08:45 +0000"  >&lt;p&gt;This problems only happens at 1.4 because it is considering post parameters as page parameters, 1.5 does not:&lt;br/&gt;
At AbstractBookmarkableMapper#mapRequest --&amp;gt; PageParameters pageParameters = urlInfo.getPageParameters();&lt;/p&gt;</comment>
                            <comment id="12993188" author="ivaynberg" created="Thu, 10 Feb 2011 19:47:43 +0000"  >&lt;p&gt;there is a small problem with the patch. form id may not be unique for embedded forms. however, this is highly unlikely - two forms where one is embedded in another or both are embedded sharing the same id. still, a better approach may be to use the page-relative path to the form as the id. committing the patch for now, pedro if you have time can you tweak it?&lt;/p&gt;</comment>
                            <comment id="12993280" author="hudson" created="Fri, 11 Feb 2011 00:14:32 +0000"  >&lt;p&gt;Integrated in Apache Wicket 1.4.x #426 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/426/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/426/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="12993300" author="pedrosans" created="Fri, 11 Feb 2011 01:59:51 +0000"  >&lt;p&gt;Sure, I will have time tomorrow, then it can go to RC2&lt;/p&gt;</comment>
                            <comment id="12993704" author="pedrosans" created="Fri, 11 Feb 2011 21:19:22 +0000"  >&lt;p&gt;I tried without success to reproduce this possible problem with nested forms, then I just realise that only the root form write the hidden field on response, so the committed fix should be just fine.&lt;/p&gt;</comment>
                            <comment id="12993711" author="pedrosans" created="Fri, 11 Feb 2011 21:30:39 +0000"  >&lt;p&gt;Ok, but getHiddenFieldId is an public method, maybe someone or some component is relying on distinct ids for different nesting levels. Sending the tweak.&lt;/p&gt;</comment>
                            <comment id="12996171" author="pedrosans" created="Fri, 18 Feb 2011 00:40:01 +0000"  >&lt;p&gt;The related bug happens on nested forms when you click alternately on their submit links. I&apos;m sending the quickstart showing the problem, I&apos;m working to fix it&lt;/p&gt;</comment>
                            <comment id="12996205" author="pedrosans" created="Fri, 18 Feb 2011 02:06:23 +0000"  >&lt;p&gt;The refactored code needs to be merged into 1.5, it is late here, I will do it tomorow&lt;/p&gt;</comment>
                            <comment id="12996230" author="hudson" created="Fri, 18 Feb 2011 03:17:52 +0000"  >&lt;p&gt;Integrated in Apache Wicket 1.4.x #447 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/447/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/447/&lt;/a&gt;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;preventing the submit link input name from being encoded in form action&lt;/li&gt;
	&lt;li&gt;removing duplicated code in AbstractSubmitLink&lt;/li&gt;
	&lt;li&gt;hidden input name changed to be root form relative&lt;br/&gt;
Issue: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3438&quot; title=&quot;2xStatelessForm growing url when there is error validation &quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3438&quot;&gt;&lt;del&gt;WICKET-3438&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12407771">WICKET-1912</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12500488">WICKET-3507</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12470903" name="WICKET-3438-nested-forms.patch" size="5942" author="pedrosans" created="Fri, 11 Feb 2011 21:30:39 +0000"/>
                            <attachment id="12470689" name="WICKET-3438.patch" size="11308" author="pedrosans" created="Wed, 9 Feb 2011 16:53:50 +0000"/>
                            <attachment id="12471349" name="WICKET-3438.zip" size="13503" author="pedrosans" created="Fri, 18 Feb 2011 00:40:01 +0000"/>
                            <attachment id="12470674" name="Wicket-test.rar" size="5743" author="dutrieux" created="Wed, 9 Feb 2011 13:27:20 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12500051">WICKET-3488</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kaz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>