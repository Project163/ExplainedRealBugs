<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6704] JavaSerializer.serialize causes the JVM crash !</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6704</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;when trying to serialize my custom object with a non-serializable field by&#160;JavaSerializer.serialize the JVM crashes instead of throwing the regular&#160;NotSerializableException !&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;when trying to serialize THE SAME object by java&#160;ObjectOutputStream then it&apos;s handled correctly and&#160;NotSerializableException is thrown&lt;/li&gt;
	&lt;li&gt;I&apos;m attaching the very simple source code (Maven project), 1st test simulates the wicket issue (JVM crash) and 2nd test simulates the correct handling by&#160;java&#160;ObjectOutputStream&lt;/li&gt;
	&lt;li&gt;the attached example is just the simplification of very large project which is massively used by the users, so in fact it&apos;s critical for us&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;java: 1.8 (probably doesn&apos;t matter, tested on 1.8.0_162 and 1.8.0_221)&lt;/li&gt;
	&lt;li&gt;wicket: 8.5.0 (probably the problem is also in other versions)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Windows 7, but probably it&amp;#39;s NOT OS dependant</environment>
        <key id="13259218">WICKET-6704</key>
            <summary>JavaSerializer.serialize causes the JVM crash !</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="joek">Joe K</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2019 09:16:04 +0000</created>
                <updated>Wed, 9 Oct 2019 13:11:25 +0000</updated>
                            <resolved>Wed, 9 Oct 2019 13:07:57 +0000</resolved>
                                    <version>8.5.0</version>
                                    <fixVersion>8.7.0</fixVersion>
                    <fixVersion>9.0.0-M4</fixVersion>
                    <fixVersion>7.16.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16939733" author="svenmeier" created="Fri, 27 Sep 2019 20:09:35 +0000"  >&lt;p&gt;You&apos;ve written it in your code comments already: This is weird!&lt;/p&gt;

&lt;p&gt;I don&apos;t have a clue why this special combination of fields (Future, PropertyChangeSupport subclass in superclass) fails this way, let alone why this should result in a JVM crash.&lt;/p&gt;

&lt;p&gt;If this is critical for you, I suggest you skip the magic and do with a standard ObjectOutputStream instead:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
frameworkSettings.setSerializer(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JavaSerializer(application.getApplicationKey()) {
  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; ObjectOutputStream newObjectOutputStream(OutputStream out) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
  {
     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ObjectOutputStream(out);
  }
});

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16939972" author="joek" created="Sat, 28 Sep 2019 11:38:54 +0000"  >&lt;p&gt;Thank you Sven ! Yes, this is what I plan to do if this bug will remain unresolved. I just wonder why such magic is done by the Wikcet Serializer, and asking myself what could be the consequence of using the simple java&#160;ObjectOutputStream.&lt;/p&gt;</comment>
                            <comment id="16940057" author="svenmeier" created="Sat, 28 Sep 2019 15:54:35 +0000"  >&lt;p&gt;Wicket&apos;s magic serializer makes it easier for you to identify the offending non-serializable field. Without it your application will work just as fine.&lt;/p&gt;</comment>
                            <comment id="16940262" author="joek" created="Sun, 29 Sep 2019 07:03:48 +0000"  >&lt;p&gt;Thank you again Sven, in this case lowering the priority and I guess wicket community decides if fix or won&apos;t fix.&lt;/p&gt;</comment>
                            <comment id="16940922" author="mgrigorov" created="Mon, 30 Sep 2019 12:24:57 +0000"  >&lt;p&gt;The problem is in `java.beans.PropertyChangeSupport#writeObject(ObjectOutputStream)`. It does:&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ObjectOutputStream.PutField fields = s.putFields();
fields.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;children&quot;&lt;/span&gt;, children);
fields.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.source);
fields.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;propertyChangeSupportSerializedDataVersion&quot;&lt;/span&gt;, 2);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and this later confuses `org.apache.wicket.core.util.objects.checker.CheckingObjectOutputStream#GET_NUM_OBJ_FIELDS_METHOD`.&lt;/p&gt;

&lt;p&gt;FutureTask is not special. Any non-serializable class would lead to the same.&lt;/p&gt;

&lt;p&gt;Here is what happens:&lt;br/&gt;
1) normal Java serialization is executed&lt;br/&gt;
2) PropertyChangeSupport#writeObject() is executed and the new fields are added&lt;br/&gt;
3) normal Java serialization fails with NotSerializableException&lt;br/&gt;
4) Wicket tries to find the problem with  CheckingObjectOutputStream to construct the exception debug messages&lt;br/&gt;
5) `vals[offsets&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;] = unsafe.getObject(obj, readKeys&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);` at `java.io.ObjectStreamClass.FieldReflector#getObjFieldValues(Object, Object[])` fails in native code because `readKeys&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;` is `-1`.&lt;/p&gt;</comment>
                            <comment id="16940931" author="jira-bot" created="Mon, 30 Sep 2019 12:47:16 +0000"  >&lt;p&gt;Commit 8c89c0138d050baa179c349beee5d1f088adc760 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt;-PropertyChangeSupport-serialization-problem from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=8c89c01&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=8c89c01&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/p&gt;

&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;</comment>
                            <comment id="16940934" author="mgrigorov" created="Mon, 30 Sep 2019 12:49:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/wicket/pull/385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/385&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16941621" author="joek" created="Tue, 1 Oct 2019 08:15:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;, Sven I realized that setting custom serializer on application startup will not work, because wicket re-create&apos;s the JavaSerializer again, due to fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6334&quot; title=&quot;WicketObjects#sizeof() and #cloneObject() should not use IObjectCheckers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6334&quot;&gt;&lt;del&gt;WICKET-6334&lt;/del&gt;&lt;/a&gt;&#160; in&#160;WicketObjects class&lt;/p&gt;

&lt;p&gt;The solution would be that Wicket would use some override-able method instead of direct instantiation.&lt;/p&gt;</comment>
                            <comment id="16941630" author="mgrigorov" created="Tue, 1 Oct 2019 08:29:40 +0000"  >&lt;p&gt;WicketObjects&apos; methods are static, so it is not possible to override them.&lt;/p&gt;

&lt;p&gt;What is the actual stack trace that leads to WicketObjects in your case ?&lt;/p&gt;</comment>
                            <comment id="16941645" author="joek" created="Tue, 1 Oct 2019 08:53:13 +0000"  >&lt;p&gt;Hi Martin, the new instance of JavaSerializer in&#160;WicketObjects class is created due to this ST.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12981874/12981874_WicketObjects_stacktrace_1.jpg&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16941650" author="mgrigorov" created="Tue, 1 Oct 2019 09:00:11 +0000"  >&lt;p&gt;It seems you use wicket-devutils DebugPanel. In your case I&apos;d recommend to not use it until we decide what to do with my proposed fix.&lt;/p&gt;</comment>
                            <comment id="16947639" author="jira-bot" created="Wed, 9 Oct 2019 13:05:41 +0000"  >&lt;p&gt;Commit dde1050626238c35f071c236b9f382467f44a5e8 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt;-PropertyChangeSupport-serialization-problem from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=dde1050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=dde1050&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/p&gt;</comment>
                            <comment id="16947641" author="jira-bot" created="Wed, 9 Oct 2019 13:06:24 +0000"  >&lt;p&gt;Commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a in wicket&apos;s branch refs/heads/wicket-8.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16947642" author="jira-bot" created="Wed, 9 Oct 2019 13:06:25 +0000"  >&lt;p&gt;Commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a in wicket&apos;s branch refs/heads/wicket-8.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16947643" author="jira-bot" created="Wed, 9 Oct 2019 13:06:27 +0000"  >&lt;p&gt;Commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a in wicket&apos;s branch refs/heads/wicket-8.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4ff101f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16947645" author="jira-bot" created="Wed, 9 Oct 2019 13:07:23 +0000"  >&lt;p&gt;Commit 0fc1b2ad814ad360cf0ca13ead225110fb10131b in wicket&apos;s branch refs/heads/wicket-7.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947646" author="jira-bot" created="Wed, 9 Oct 2019 13:07:25 +0000"  >&lt;p&gt;Commit 0fc1b2ad814ad360cf0ca13ead225110fb10131b in wicket&apos;s branch refs/heads/wicket-7.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947647" author="jira-bot" created="Wed, 9 Oct 2019 13:07:27 +0000"  >&lt;p&gt;Commit 0fc1b2ad814ad360cf0ca13ead225110fb10131b in wicket&apos;s branch refs/heads/wicket-7.x from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0fc1b2a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947648" author="jira-bot" created="Wed, 9 Oct 2019 13:07:33 +0000"  >&lt;p&gt;Commit 9e0201c0505e9c2c4369b8e14c1caa0be46e61a7 in wicket&apos;s branch refs/heads/master from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947649" author="jira-bot" created="Wed, 9 Oct 2019 13:07:35 +0000"  >&lt;p&gt;Commit 9e0201c0505e9c2c4369b8e14c1caa0be46e61a7 in wicket&apos;s branch refs/heads/master from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947651" author="jira-bot" created="Wed, 9 Oct 2019 13:07:37 +0000"  >&lt;p&gt;Commit 9e0201c0505e9c2c4369b8e14c1caa0be46e61a7 in wicket&apos;s branch refs/heads/master from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9e0201c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash ! (#385)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JavaSerializer.serialize causes the JVM crash !&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do not check instances of PropertyChangeSupport whether they are Serializable because PropertyChangeSupport#writeObject() adds extra fields which confuse CheckingObjectOutputStream&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; Add more special types which use ObjectOutputStream.PutField in their writeObject() method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(cherry picked from commit 4ff101fca5fac22dfab9dda4dcfe9075247ee46a)&lt;/p&gt;</comment>
                            <comment id="16947652" author="jira-bot" created="Wed, 9 Oct 2019 13:11:25 +0000"  >&lt;p&gt;Commit a4bd8f1dc8ca3d98db3f78b415a8f5de17a5fc7f in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a4bd8f1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a4bd8f1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6704&quot; title=&quot;JavaSerializer.serialize causes the JVM crash !&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6704&quot;&gt;&lt;del&gt;WICKET-6704&lt;/del&gt;&lt;/a&gt; JUnit 5.x&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13136691">WICKET-6531</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12981874" name="WicketObjects_stacktrace_1.jpg" size="696870" author="joek" created="Tue, 1 Oct 2019 08:52:29 +0000"/>
                            <attachment id="12981532" name="jvm-crash_from_wicket.zip" size="3542" author="joek" created="Fri, 27 Sep 2019 09:10:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z072so:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>