<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:17:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3470] Can&apos;t write session to disk with tomcat : Servlet is destroyed before serialization</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3470</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;When I stop my tomcat, I have the following error :&lt;br/&gt;
GRAVE: Exception au d&#233;chargement des sessions vers le stockage persistant (persistent storage)&lt;br/&gt;
java.lang.IllegalStateException: PageManager for application wicket not registered.&lt;br/&gt;
	at lm.lbx.application.PersistentPageManager$SessionEntry.getPageStore(PersistentPageManager.java:86)&lt;br/&gt;
	at lm.lbx.application.PersistentPageManager$SessionEntry.writeObject(PersistentPageManager.java:197)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at java.io.ObjectStreamClass.invokeWriteObject(Unknown Source)&lt;br/&gt;
	at java.io.ObjectOutputStream.writeSerialData(Unknown Source)&lt;br/&gt;
	at java.io.ObjectOutputStream.writeOrdinaryObject(Unknown Source)&lt;br/&gt;
	at java.io.ObjectOutputStream.writeObject0(Unknown Source)&lt;br/&gt;
	at java.io.ObjectOutputStream.writeObject(Unknown Source)&lt;br/&gt;
	at org.apache.catalina.session.StandardSession.writeObject(StandardSession.java:1561)&lt;br/&gt;
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1004)&lt;br/&gt;
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:528)&lt;br/&gt;
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:469)&lt;br/&gt;
	at org.apache.catalina.session.StandardManager.stop(StandardManager.java:678)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4875)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1106)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1106)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:468)&lt;br/&gt;
	at org.apache.catalina.core.StandardService.stop(StandardService.java:604)&lt;br/&gt;
	at org.apache.catalina.core.StandardServer.stop(StandardServer.java:788)&lt;br/&gt;
	at org.apache.catalina.startup.Catalina.stop(Catalina.java:662)&lt;br/&gt;
	at org.apache.catalina.startup.Catalina.start(Catalina.java:629)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)&lt;br/&gt;
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)&lt;/p&gt;

&lt;p&gt;After a little digging, it&apos;s because tomcat first unload the servlet mapping and destroy the servlet, and then, ask for serialization. I&apos;m not sure it&apos;s a wiket bug, tell me if i have to report it against tomcat.&lt;br/&gt;
Here is the trace of the destroy :&lt;/p&gt;

&lt;p&gt;Thread &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Suspended (breakpoint at line 357 in PersistentPageManager))	&lt;br/&gt;
	PersistentPageManager.destroy() line: 357	&lt;br/&gt;
	PageAccessSynchronizer$1(PageManagerDecorator).destroy() line: 86	&lt;br/&gt;
	LibellexApplication(Application).internalDestroy() line: 658	&lt;br/&gt;
	LibellexApplication(WebApplication).internalDestroy() line: 470	&lt;br/&gt;
	WicketFilter.destroy() line: 456	&lt;br/&gt;
	ApplicationFilterConfig.release() line: 357	&lt;br/&gt;
	StandardContext.filterStop() line: 4106	&lt;br/&gt;
	StandardContext.stop() line: 4869	&lt;br/&gt;
	StandardHost(ContainerBase).stop() line: 1106	&lt;br/&gt;
	StandardEngine(ContainerBase).stop() line: 1106	&lt;br/&gt;
	StandardEngine.stop() line: 468	&lt;br/&gt;
	StandardService.stop() line: 604	&lt;br/&gt;
	StandardServer.stop() line: 788	&lt;br/&gt;
	Catalina.stop() line: 662	&lt;br/&gt;
	Catalina.start() line: 629	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	Method.invoke(Object, Object...) line: not available	&lt;br/&gt;
	Bootstrap.start() line: 289	&lt;br/&gt;
	Bootstrap.main(String[]) line: 414	&lt;/p&gt;

&lt;p&gt;And the trace requesting serialization :&lt;/p&gt;

&lt;p&gt;Thread &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; (Suspended (breakpoint at line 83 in PersistentPageManager$SessionEntry))	&lt;br/&gt;
	PersistentPageManager$SessionEntry.getPageStore() line: 83	&lt;br/&gt;
	PersistentPageManager$SessionEntry.writeObject(ObjectOutputStream) line: 197	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	Method.invoke(Object, Object...) line: not available	&lt;br/&gt;
	ObjectStreamClass.invokeWriteObject(Object, ObjectOutputStream) line: not available	&lt;br/&gt;
	ObjectOutputStream.writeSerialData(Object, ObjectStreamClass) line: not available	&lt;br/&gt;
	ObjectOutputStream.writeOrdinaryObject(Object, ObjectStreamClass, boolean) line: not available	&lt;br/&gt;
	ObjectOutputStream.writeObject0(Object, boolean) line: not available	&lt;br/&gt;
	ObjectOutputStream.writeObject(Object) line: not available	&lt;br/&gt;
	StandardSession.writeObject(ObjectOutputStream) line: 1561	&lt;br/&gt;
	StandardSession.writeObjectData(ObjectOutputStream) line: 1004	&lt;br/&gt;
	StandardManager.doUnload() line: 528	&lt;br/&gt;
	StandardManager.unload() line: 469	&lt;br/&gt;
	StandardManager.stop() line: 678	&lt;br/&gt;
	StandardContext.stop() line: 4875	&lt;br/&gt;
	StandardHost(ContainerBase).stop() line: 1106	&lt;br/&gt;
	StandardEngine(ContainerBase).stop() line: 1106	&lt;br/&gt;
	StandardEngine.stop() line: 468	&lt;br/&gt;
	StandardService.stop() line: 604	&lt;br/&gt;
	StandardServer.stop() line: 788	&lt;br/&gt;
	Catalina.stop() line: 662	&lt;br/&gt;
	Catalina.start() line: 629	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;	&lt;br/&gt;
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not available	&lt;br/&gt;
	Method.invoke(Object, Object...) line: not available	&lt;br/&gt;
	Bootstrap.start() line: 289	&lt;br/&gt;
	Bootstrap.main(String[]) line: 414	&lt;/p&gt;

&lt;p&gt;Well at this time, a simple dirty hack is to bypass destroy chain to avoid  removal of app from managers properties of class PersistentPageManager. But I would like to have a real clean solution.&lt;/p&gt;</description>
                <environment>Windows 7 x64&lt;br/&gt;
apache-tomcat-6.0.32-windows-x86&lt;br/&gt;
(Running from Eclipse view, Faceted project)</environment>
        <key id="12499428">WICKET-3470</key>
            <summary>Can&apos;t write session to disk with tomcat : Servlet is destroyed before serialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="segfaultmaker">SegFault</reporter>
                        <labels>
                            <label>persistent</label>
                            <label>session</label>
                            <label>storage</label>
                            <label>tomcat</label>
                    </labels>
                <created>Wed, 23 Feb 2011 00:26:16 +0000</created>
                <updated>Tue, 19 Apr 2011 07:33:06 +0000</updated>
                            <resolved>Fri, 18 Mar 2011 20:59:07 +0000</resolved>
                                    <version>1.5-RC1</version>
                                    <fixVersion>1.5-RC3</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="12998252" author="mgrigorov" created="Wed, 23 Feb 2011 08:58:08 +0000"  >&lt;p&gt;Yes, I&apos;m interested to hear what Tomcat developers think about this.&lt;br/&gt;
The problem is in StandardContext.stop() - it destroys the filter at line 4869 and later at line 4875 it tries to serialize the data.&lt;/p&gt;

&lt;p&gt;I remember Peter Ertl reported similar bug for Jetty which has been fixed in their 7.1.x series - &lt;a href=&quot;http://jira.codehaus.org/browse/JETTY-1266&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/JETTY-1266&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12998269" author="segfaultmaker" created="Wed, 23 Feb 2011 09:43:04 +0000"  >&lt;p&gt;I submitted it to tomcat team : &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=50819&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=50819&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12998419" author="markt" created="Wed, 23 Feb 2011 15:47:20 +0000"  >&lt;p&gt;The Tomcat developers think this is a Wicket bug. Sessions should not be expired in the Servlet.destroy() method. See section SRV.2.3.4 of the Servlet 2.5 specification for the reason why.&lt;/p&gt;</comment>
                            <comment id="12998428" author="markt" created="Wed, 23 Feb 2011 16:08:18 +0000"  >&lt;p&gt;Re-reading this, I see the Tomcat bug referred to a Servlet whereas Wicket is actually using a Filter. That does change things since the the Servlet specification is less clear on the Filter lifecycle. However, having re-read the section SRV.6 of both the Servlet 2.5 and Servlet 3.0 specifications it appears that containers have a fair amount of leeway in how they initialise and destroy filters. For example, from reading the spec it appears to be specification compliant (although performance would be truly awful) to create and destroy filters per request.&lt;/p&gt;

&lt;p&gt;Since the specification offers no guidance on the correct ordering then I am not inclined to change the order for the benefit of a single application. There may well be other applications that depend on the current ordering. Regardless of what applications exist or don&apos;t exist that depend on a particular order, if the specification does not define an order then an application should not depend on an order.&lt;/p&gt;

&lt;p&gt;I think Wicket would be better off using a ServletContextListener. From section 11.3.4 of the Servlet 3.0. spec &quot;On application shutdown, listeners are notified in reverse order to their declarations with notifications to session listeners preceding notifications to context listeners. Session listeners must be notified of session invalidations prior to context listeners being notified of application shutdown.&quot;. That should ensure the ordering that Wicket requires.&lt;/p&gt;</comment>
                            <comment id="12998514" author="mgrigorov" created="Wed, 23 Feb 2011 19:32:56 +0000"  >&lt;p&gt;SefFault can you please create a quickstart application that reproduces the problem and describe the steps to reproduce it.&lt;/p&gt;</comment>
                            <comment id="12998518" author="segfaultmaker" created="Wed, 23 Feb 2011 19:46:06 +0000"  >&lt;p&gt;Basically starting from maven quickstart archetype, make the application inherit from AuthenticatedWebApplication with a dumb session implementation which inherit AuthenticatedWebSession and have a member field.&lt;/p&gt;

&lt;p&gt;Start Tomcat&lt;br/&gt;
Login on wicket app&lt;br/&gt;
Stop Tomcat&lt;/p&gt;

&lt;p&gt;I&apos;ll made the quickstart application tomorrow, but it&apos;s probably reproducible on a wicket session example.&lt;/p&gt;</comment>
                            <comment id="12999057" author="segfaultmaker" created="Thu, 24 Feb 2011 21:18:26 +0000"  >&lt;p&gt;Ok, well, my simple test app with session don&apos;t raise this bug.... I&apos;ll do more investigation this weekend to provide you a test case, sorry not much time before&lt;/p&gt;</comment>
                            <comment id="12999322" author="bitstorm" created="Fri, 25 Feb 2011 12:06:34 +0000"  >&lt;p&gt;I&apos;ve got the same problem after migrating my project from Wicket 1.4.x to 1.5. rc2. When tomcat restart inside Eclipse I get &quot;: PageManager for application wicket not registered. &quot;.&lt;br/&gt;
My dev. environment is: Eclispe 3.6, tomcat 6.0.32 on Ubuntu 10.04 64 bit.&lt;/p&gt;</comment>
                            <comment id="12999971" author="mgrigorov" created="Sun, 27 Feb 2011 15:05:54 +0000"  >&lt;p&gt;The problem is easy reproducible with wicket-examples.war.&lt;br/&gt;
1. Deploy it at Tomcat (I used Tomcat 7.0.8)&lt;br/&gt;
2. Play a bit with &quot;authorization&quot; example&lt;br/&gt;
3. Stop Tomcat&lt;br/&gt;
4. The exception is logged in logs/catalina.out&lt;/p&gt;

&lt;p&gt;Using ServletContextListener will solve the problem but this would mean that each user application should add this &amp;lt;listener&amp;gt;.&lt;br/&gt;
With Servlet API 3.0 it is possible to do it in code with ServletContext.addListener() but this is only for 3.0.&lt;/p&gt;

&lt;p&gt;I remember Matej didn&apos;t call pageManager.destroy() in Application.internalDestroy() and I added this at one point (Maybe he knew about this problem). If we remove this call again then the only problem I see is that there is no one to clean the static org.apache.wicket.page.PersistentPageManager.managers without using a listener.&lt;br/&gt;
Other ideas ?&lt;/p&gt;</comment>
                            <comment id="12999990" author="segfaultmaker" created="Sun, 27 Feb 2011 16:40:12 +0000"  >&lt;p&gt;Thanks for reproduction case.&lt;/p&gt;

&lt;p&gt;First, I don&apos;t know much about servlet api, no more about wicket init mechanism, so I might say stupid things.&lt;/p&gt;

&lt;p&gt;To my mind, it&apos;s a good idea to map Wicket-App lifecyle to a Servlet lifecycle, not only at destroying time, but at loading time too, because there is no clue about when it will be instantiate, and this make wicket very &quot;container implementation dependent&quot;. I can&apos;t think about concrete case by now to support this idea, but it make sense to me.&lt;/p&gt;

&lt;p&gt;I don&apos;t see what is the problem with the need to add a &amp;lt;listener&amp;gt; for each app. There is no other way which maintain compatibility with Servlet2.5 ; wicket is just before a brand new release, good time to add this in migration guide, no ? &lt;/p&gt;

&lt;p&gt;&quot; the only problem I see is that there is no one to clean the static org.apache.wicket.page.PersistentPageManager.managers&quot; &amp;lt;= maybe a stupid question, but how does this behave in case of many context reloading (for example in developpement mode), is this cleaned up by container ? or this will end up with a PermGen space error ?&lt;/p&gt;</comment>
                            <comment id="13000356" author="mgrigorov" created="Mon, 28 Feb 2011 16:01:07 +0000"  >&lt;p&gt;Set &quot;Fix Version&quot; to 1.5.0 because we need to solve that before releasing 1.5 final.&lt;/p&gt;</comment>
                            <comment id="13000359" author="mgrigorov" created="Mon, 28 Feb 2011 16:04:40 +0000"  >&lt;p&gt;See also &lt;a href=&quot;http://apache-wicket.1842946.n4.nabble.com/Re-Null-pointer-exception-on-GAE-with-your-initializer-demo-td3328173.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-wicket.1842946.n4.nabble.com/Re-Null-pointer-exception-on-GAE-with-your-initializer-demo-td3328173.html&lt;/a&gt; for similar problem in GAE environment (Jetty 6.x).&lt;/p&gt;</comment>
                            <comment id="13008166" author="mgrigorov" created="Thu, 17 Mar 2011 21:44:48 +0000"  >&lt;p&gt;In a brainstorm session in IRC between me and ivaynberg here is our proposal for this problem:&lt;/p&gt;

&lt;p&gt;Background:&lt;/p&gt;

&lt;p&gt;Servlet containers deserialize persisted sessions before initializing the Servlet Filters (there is a problem reported that GAE (Jetty 6.x) fails to deserialize persisted session because there is no org.apache.wicket.page.PersistentPageManager for an application with name &quot;XYZ&quot;).&lt;br/&gt;
The problem described in this ticket is similar but in the opposite direction: Tomcat destroys WicketFilter and then tries to persist the sessions and PersistentPageManager is no more available. &lt;br/&gt;
Also by Servlet specification the container can destroy a Servlet (it is not clear for Filter but Tomcat manages them the same way) at any time without stopping the whole application and later re-initialize them again. &lt;/p&gt;


&lt;p&gt;Proposed solution:&lt;/p&gt;

&lt;p&gt;We need a ServletContextListener (SCL) that will setup the PageManager before the start of WicketFilter and stop it after its destroy.&lt;br/&gt;
This SCL will be put in web-fragment.xml in wicket-core.jar and will be used for free for all users which use Servlet 3.0 complaint web containers. Servlet 2.x users will have to add it manually in their web.xml files.&lt;/p&gt;

&lt;p&gt;We would like to avoid parsing of web.xml so the SCL to be able to find the name of the Filter and the name of the Application class the setup will look like:&lt;/p&gt;

&lt;p&gt;for Application:&lt;br/&gt;
        &amp;lt;context-param&amp;gt;&lt;br/&gt;
		&amp;lt;param-name&amp;gt;wicket-app-filterName1&amp;lt;/param-name&amp;gt;&lt;br/&gt;
		&amp;lt;param-value&amp;gt;com.mycompany.MyApp&amp;lt;/param-value&amp;gt;&lt;br/&gt;
	&amp;lt;/context-param&amp;gt;&lt;/p&gt;

&lt;p&gt;       &amp;lt;filter&amp;gt;&lt;br/&gt;
		&amp;lt;filter-name&amp;gt;wicket-app-filterName1&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
		&amp;lt;filter-class&amp;gt;org.apache.wicket.protocol.http.WicketFilter&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
	&amp;lt;/filter&amp;gt;&lt;/p&gt;


&lt;p&gt;for ApplicationFactory:&lt;br/&gt;
        &amp;lt;context-param&amp;gt;&lt;br/&gt;
		&amp;lt;param-name&amp;gt;wicket-app-factory-filterName2&amp;lt;/param-name&amp;gt;&lt;br/&gt;
		&amp;lt;param-value&amp;gt;com.mycompany.MyAppFactory&amp;lt;/param-value&amp;gt;&lt;br/&gt;
	&amp;lt;/context-param&amp;gt;&lt;/p&gt;

&lt;p&gt;       &amp;lt;filter&amp;gt;&lt;br/&gt;
		&amp;lt;filter-name&amp;gt;wicket-app-factory-filterName2&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
		&amp;lt;filter-class&amp;gt;org.apache.wicket.protocol.http.WicketFilter&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
	&amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;Here &apos;wicket-app-&apos; and &apos;wicket-app-factory-&apos; are special prefixes! SCL will iterate over all context parameters and all starting with these special prefixes will be processed.&lt;br/&gt;
Later when WicketFilter is being initialized it will parse its filterName like it does it currently and will find its application/applicationFactory class from the servlet context parameters. &lt;/p&gt;

&lt;p&gt;The same logic will be applied for WicketServlet.&lt;/p&gt;

&lt;p&gt;Specific parameters like wicket.configuration, or Guice module names, etc. will still be in filter&apos;s &amp;lt;init-param&amp;gt;.&lt;/p&gt;

&lt;p&gt;Opinions?&lt;/p&gt;</comment>
                            <comment id="13008626" author="mgrigorov" created="Fri, 18 Mar 2011 20:58:42 +0000"  >&lt;p&gt;Cross link the ticket with the discussion in dev@:&lt;br/&gt;
&lt;a href=&quot;http://apache-wicket.1842946.n4.nabble.com/HEADS-UP-A-change-in-web-xml-setup-is-required-td3385721.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-wicket.1842946.n4.nabble.com/HEADS-UP-A-change-in-web-xml-setup-is-required-td3385721.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The outcome is that there is no need to create new ServletContextListener. The Page serialization don&apos;t need to convert to/from SerializedPage when the Application stops/starts. See the link above for more details.&lt;/p&gt;</comment>
                            <comment id="13008627" author="mgrigorov" created="Fri, 18 Mar 2011 20:59:07 +0000"  >&lt;p&gt;Fixed with r1083061&lt;/p&gt;</comment>
                            <comment id="13008814" author="pedrosans" created="Sat, 19 Mar 2011 19:52:09 +0000"  >&lt;p&gt;I&apos;m working on a test case for this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kavr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>