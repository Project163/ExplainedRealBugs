<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5023] Page store process is broken if an exception occurs at commit request phase.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5023</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Wicket generates non-working links on custom error page if an exception occurs at commit request phase. Click on any link causes PageExpiredException.&lt;/p&gt;

&lt;p&gt;This happens because page is not stored during request processing.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add RequestCycleListener handling all exceptions and redirecting to custom error page (see. WicketApplication.init)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add security check (see. WicketApplication.init). This example contains simplified security check.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create error page (ErrorPage)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create login page (LoginPage)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create secured page (HomePage) containing:
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;Point 5. A component causing an exception at render phase&lt;/li&gt;
		&lt;li&gt;Point 6. Another component causing an exception at stateless check&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Start application. LoginPage appears.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LoginPage: Click &quot;Login&quot;. ErrorPage appears.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ErrorPage: Click &quot;Back to Main&quot;. PageExpiredException occurs and ErrorPage appears again.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;see attached test case.&lt;/p&gt;</description>
                <environment>ubuntu 12.10&lt;br/&gt;
jdk 1.6.0_30</environment>
        <key id="12630353">WICKET-5023</key>
            <summary>Page store process is broken if an exception occurs at commit request phase.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apechinsky">Anton</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2013 10:55:03 +0000</created>
                <updated>Thu, 20 Jun 2013 09:58:04 +0000</updated>
                            <resolved>Thu, 20 Jun 2013 09:58:04 +0000</resolved>
                                    <version>1.5.9</version>
                    <version>6.5.0</version>
                                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13588395" author="mgrigorov" created="Wed, 27 Feb 2013 14:46:18 +0000"  >&lt;p&gt;There is not much can be done at that phase. The response is already written to the client when the page is being stored.&lt;br/&gt;
The best can be done in this case is to write a log message and assume that the page is stateful and store it.&lt;br/&gt;
An error can occur later too, for example if the disk is full, but I see no way to do something in this case. The developer will see the logs and the user will experience PageExpiredException.&lt;/p&gt;</comment>
                            <comment id="13588398" author="mgrigorov" created="Wed, 27 Feb 2013 14:47:28 +0000"  >&lt;p&gt;I&apos;ve added try/catch for the #isPageStateless() check in 6.x branch.&lt;br/&gt;
If this is useful for you I can downport it to 1.5.x.&lt;/p&gt;</comment>
                            <comment id="13689078" author="mgrigorov" created="Thu, 20 Jun 2013 09:58:04 +0000"  >&lt;p&gt;Wicket produces correct urls. They will work if the page is stored.&lt;br/&gt;
In case there is a problem in the final phase (when the response is already written to the browser) the best we can do is to log the problem. The application developer should fix the problem in the application.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567561" name="brokenPageStoringTestCase.zip" size="25488" author="apechinsky" created="Fri, 1 Feb 2013 10:55:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hn93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>