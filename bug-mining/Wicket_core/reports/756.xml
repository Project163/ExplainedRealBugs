<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4881] IE 8 : error when handling Wicket Ajax Response</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4881</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I have a problem with Wicket 6.2.0/6.3.0 and IE (this works perfectly with Chrome or Firefox). I have a list of items, with Ajax links in the list. The response to the Ajax link modifies a panel from the page, and redraws the list (its container).&lt;/p&gt;

&lt;p&gt;IE does at least some of the changes correctly, but outputs an error, and it seems that subsequent Ajax request fail:&lt;/p&gt;


&lt;p&gt;       (... some UI code ...)&lt;br/&gt;
   (... Jquery and Wicket ajax references ...)&lt;br/&gt;
&amp;lt;script type=&quot;text/javascript&quot; id=&quot;wicket-ajax-base-url&quot;&amp;gt;&lt;br/&gt;
/&lt;b&gt;&amp;lt;![CDATA[&lt;/b&gt;/&lt;br/&gt;
Wicket.Ajax.baseUrl=&quot;other/bictables/list&quot;;&lt;br/&gt;
/&lt;b&gt;]&lt;sup&gt;]&lt;/sup&gt;&amp;gt;&lt;/b&gt;/&lt;br/&gt;
&amp;lt;/script&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;]]&amp;gt;&amp;lt;/header-contribution&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-interaction-view-toolbar-AMEND&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;AMENDea&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-interaction-view-toolbar-RETURN&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;RETURNec&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-0-actions-view&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;viewf2&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-0-actions-edit&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;editf3&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-0-reorder-down&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;downf4&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-1-actions-view&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;viewf5&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-1-actions-edit&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;editf6&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-1-reorder-up&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;upf7&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-1-reorder-down&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;downf8&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-2-actions-view&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;viewf9&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-2-actions-edit&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;editfa&quot;}
&lt;p&gt;);]]&amp;gt;&lt;br/&gt;
   (... lots of similar code from the table ...)&lt;br/&gt;
&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-17-actions-edit&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;edit136&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;evaluate&amp;gt;&amp;lt;![CDATA[Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-17-reorder-up&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;up137&quot;}
&lt;p&gt;);]]&amp;gt;&amp;lt;/evaluate&amp;gt;&amp;lt;/ajax-response&amp;gt;&lt;br/&gt;
INFO: returned focused element: &lt;a href=&quot;http://localhost:8080/payments/app/other/bictables/list?3#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/payments/app/other/bictables/list?3#&lt;/a&gt;&lt;br/&gt;
INFO: returned focused element: null&lt;br/&gt;
ERROR: Wicket.Ajax.Call.processEvaluation: Exception evaluating javascript: &lt;span class=&quot;error&quot;&gt;&amp;#91;object Error&amp;#93;&lt;/span&gt;, text: Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?3-1.IBehaviorListener.0-entities-entitiesList-bictables-7-actions-view&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;view10d&quot;}
&lt;p&gt;);&lt;br/&gt;
ERROR: FunctionsExecuter.processNext: &lt;span class=&quot;error&quot;&gt;&amp;#91;object Error&amp;#93;&lt;/span&gt;&lt;br/&gt;
    ERROR: Wicket.Ajax.Call.processEvaluation: Exception evaluating javascript: &lt;span class=&quot;error&quot;&gt;&amp;#91;object Error&amp;#93;&lt;/span&gt;, text: Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./list?2-4.IBehaviorListener.0-entities-entitiesList-bictables-7-actions-  view&quot;,&quot;e&quot;:&quot;click&quot;,&quot;c&quot;:&quot;view2cb&quot;}
&lt;p&gt;);&lt;br/&gt;
    ERROR: FunctionsExecuter.processNext: &lt;span class=&quot;error&quot;&gt;&amp;#91;object Error&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;all subsequent Ajax requests lead to :&lt;/p&gt;

&lt;p&gt;INFO: Channel &apos;0&apos; is busy - scheduling the callback to be executed when the previous request finish&lt;/p&gt;

&lt;p&gt;Is this a bug in Wicket, in IE? Any way to circumvent it if it&apos;s in IE?&lt;/p&gt;</description>
                <environment>Internet Explorer 8, Windows 7 64 bits</environment>
        <key id="12617398">WICKET-4881</key>
            <summary>IE 8 : error when handling Wicket Ajax Response</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="fdonckels">Fr&#233;d&#233;ric Donckels</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Nov 2012 09:18:41 +0000</created>
                <updated>Thu, 20 Jun 2013 07:53:34 +0000</updated>
                            <resolved>Wed, 12 Dec 2012 08:06:25 +0000</resolved>
                                    <version>6.2.0</version>
                    <version>6.3.0</version>
                                    <fixVersion>6.4.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13503122" author="mgrigorov" created="Fri, 23 Nov 2012 09:27:00 +0000"  >&lt;p&gt;Can you provide a quickstart application that reproduces the problem ?&lt;br/&gt;
Or can you reproduce it at &lt;a href=&quot;http://www.wicket-library.com/wicket-examples-6.0.x/ajax/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.wicket-library.com/wicket-examples-6.0.x/ajax/&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13503209" author="fdonckels" created="Fri, 23 Nov 2012 14:34:19 +0000"  >&lt;p&gt;Maven project&lt;/p&gt;</comment>
                            <comment id="13503211" author="fdonckels" created="Fri, 23 Nov 2012 14:39:09 +0000"  >&lt;p&gt;This project can be run using maven; the produced war file can be dropped in a Jboss 6 (probably 7 too).&lt;/p&gt;

&lt;p&gt;To reproduce the issue:&lt;br/&gt;
once jboss has started the app: navigate using IE8 to : &lt;a href=&quot;http://localhost:8080/wicket.bug.report-web-1.0.0-SNAPSHOT/app/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/wicket.bug.report-web-1.0.0-SNAPSHOT/app/&lt;/a&gt;&lt;br/&gt;
after that, click on one of the magnifying glass icons.&lt;br/&gt;
the &quot;view panel&quot; appears, but all subsequent Ajax requests fail. (and the wicket debug panel shows the error)&lt;/p&gt;

&lt;p&gt;Notice that the error doesn&apos;t happen if in the wicket.bug.report.web.base.AbstractListPanel.ActionsFragment class, you disable the EditAjaxLink. (even though it&apos;s not clicked)&lt;/p&gt;
</comment>
                            <comment id="13503243" author="bitstorm" created="Fri, 23 Nov 2012 16:28:23 +0000"  >&lt;p&gt;I&apos;ve modified the maven project in order to run it by just typing &quot;maven jetty:run&quot;. Anyway, I couldn&apos;t get any error message with IE 8, everything works fine running the project with Jetty.&lt;/p&gt;</comment>
                            <comment id="13503663" author="fdonckels" created="Mon, 26 Nov 2012 08:21:52 +0000"  >&lt;p&gt;I downloaded your project and reproduced the issue (using mvn jetty:run).&lt;br/&gt;
See here: &lt;a href=&quot;http://www.screenr.com/GbU7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.screenr.com/GbU7&lt;/a&gt;&lt;br/&gt;
(sorry about the sound, I turned the microphone off, but that didn&apos;t prevent it from recording some noise)&lt;/p&gt;</comment>
                            <comment id="13503684" author="mgrigorov" created="Mon, 26 Nov 2012 09:11:58 +0000"  >&lt;p&gt;I cannot reproduce the problem here as well.&lt;br/&gt;
I use IE9 in compatibility modes and it didn&apos;t break with any of them. I cannot install IE8 here.&lt;br/&gt;
The source code of the demo application is too big to make a full code review. A brief look at it didn&apos;t show anything suspicious.&lt;/p&gt;</comment>
                            <comment id="13503705" author="bitstorm" created="Mon, 26 Nov 2012 10:04:24 +0000"  >&lt;p&gt;I suspect you may have a more general problem with AJAX and IE. Does the rest of the application work fine with AJAX? Does data pagination return any error?&lt;/p&gt;</comment>
                            <comment id="13503749" author="fdonckels" created="Mon, 26 Nov 2012 12:09:59 +0000"  >&lt;p&gt;Copy-pasted from the ##wicket IRC channel :&lt;br/&gt;
inside the catch block of FunctionsExecuter, the exception message is &quot;Out of stack space&quot;&lt;br/&gt;
depth is 41 / current is 41&lt;br/&gt;
of course ,  I have no idea how this is supposed to work...&lt;br/&gt;
the call stack is just a pretty large bunch of anonymous JScript functions&lt;/p&gt;

&lt;p&gt;actually, the issue happens in the processEvaluation function, of Wicket.Ajax.Call when calling eval on the Javascript provided in the Ajax response&lt;br/&gt;
It&apos;s odd though: if I change the number of items per page in the pagination, everything is ok until itemsPerPage = 8 (lower is ok)&lt;/p&gt;</comment>
                            <comment id="13503751" author="mgrigorov" created="Mon, 26 Nov 2012 12:14:17 +0000"  >&lt;p&gt;Can you try the JavaScript from this comment&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4675?focusedCommentId=13426609&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13426609&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-4675?focusedCommentId=13426609&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13426609&lt;/a&gt;&lt;br/&gt;
in your IE8 instance ?&lt;br/&gt;
What is the number that it gives ?&lt;/p&gt;</comment>
                            <comment id="13503753" author="fdonckels" created="Mon, 26 Nov 2012 12:22:56 +0000"  >&lt;p&gt;LOG: 272 and then it outputs &quot;Out of memory&quot; (which is pretty odd and a different message). That seems quite low to run out of stack space in a Win7 64 bit environment and 8gb of memory...&lt;/p&gt;</comment>
                            <comment id="13503757" author="mgrigorov" created="Mon, 26 Nov 2012 12:32:02 +0000"  >&lt;p&gt;Each browser has different capabilities.&lt;br/&gt;
See &lt;a href=&quot;http://stackoverflow.com/questions/7826992/browser-javascript-stack-size-limit&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/7826992/browser-javascript-stack-size-limit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It depends on how much memory you use in each stack frame.&lt;br/&gt;
The test that you ran is very simple and I&apos;m not sure why 272 is the max for you. It could be some configuration property of IE ...&lt;/p&gt;

&lt;p&gt;The only solution that I see is to use setTimeout() when the depth is lower. The current threshold is 1000 recursive calls. Pre-Wicket-4675 it was 50. But it fails for you at 41 which indeed is very low.&lt;/p&gt;</comment>
                            <comment id="13508696" author="dondimon" created="Mon, 3 Dec 2012 12:48:16 +0000"  >&lt;p&gt;I have the same issue on page with ~200 AjaxCheckBox components in IE7. IE9 in compatibility mode works fine.&lt;/p&gt;</comment>
                            <comment id="13508700" author="mgrigorov" created="Mon, 3 Dec 2012 12:59:49 +0000"  >&lt;p&gt;Here is a possible solution.&lt;br/&gt;
If the &amp;lt;evaluation&amp;gt; elements in &amp;lt;ajax-response&amp;gt; are more than X then combine them into one.&lt;/p&gt;

&lt;p&gt;You can clone Wicket sources and apply the patch locally to test it.&lt;/p&gt;</comment>
                            <comment id="13508834" author="dondimon" created="Mon, 3 Dec 2012 16:30:21 +0000"  >&lt;p&gt;I&apos;ve tried this - doesn&apos;t help.&lt;/p&gt;</comment>
                            <comment id="13508838" author="mgrigorov" created="Mon, 3 Dec 2012 16:36:20 +0000"  >&lt;p&gt;Can you attach the Ajax response that leads to this problem ?&lt;/p&gt;</comment>
                            <comment id="13509598" author="dondimon" created="Tue, 4 Dec 2012 09:01:04 +0000"  >&lt;p&gt;Sorry, it was my fault with an incorrect build. Provided patch fixed the problem. Thank you.&lt;/p&gt;</comment>
                            <comment id="13509606" author="fdonckels" created="Tue, 4 Dec 2012 09:07:20 +0000"  >&lt;p&gt;I&apos;ll try that patch too ASAP&lt;/p&gt;</comment>
                            <comment id="13511247" author="fdonckels" created="Thu, 6 Dec 2012 08:49:37 +0000"  >&lt;p&gt;In my specific case, I had to change the value from 50 to 30 (probably because my IE is nuts), but that does solve the issue.&lt;/p&gt;</comment>
                            <comment id="13529735" author="mgrigorov" created="Wed, 12 Dec 2012 08:06:25 +0000"  >&lt;p&gt;Since 6.4.0 all prepend scripts will be combined in one &amp;lt;priority-evaluate&amp;gt; and all append scripts in one &amp;lt;evaluate&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="13580614" author="ptitjes" created="Mon, 18 Feb 2013 14:02:17 +0000"  >&lt;p&gt;I&apos;m a bit annoyed by the commit that fixes this bug: &lt;a href=&quot;https://github.com/apache/wicket/commit/cbf76d0e8c355876e302699c0975971773941ae9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/commit/cbf76d0e8c355876e302699c0975971773941ae9&lt;/a&gt;&lt;br/&gt;
I understand that this is needed for IE compatibility but, indeed, it does completely removes the possibility to use the notify callback in the evaluated Javascript code. (see: &lt;a href=&quot;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js#L1045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js#L1045&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I would need that to defer DOM replacements after a modal window close animation.&lt;/p&gt;

&lt;p&gt;We can keep the IE-needed concatenation of evaluations by adding some Java APIs to:&lt;br/&gt;
1) Explicitly ask for a particular script to be in its own &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;priority-&amp;#93;&lt;/span&gt;evaluate&quot; element (just like IJavascriptResponse does for appended-scripts)&lt;br/&gt;
2) Pass an additional string to name the notify callback name&lt;/p&gt;

&lt;p&gt;May I open a feature request issue for that, or should I use this bug as its fix broke an existing feature ? I can provide patches.&lt;/p&gt;</comment>
                            <comment id="13580615" author="mgrigorov" created="Mon, 18 Feb 2013 14:07:47 +0000"  >&lt;p&gt;Hi Didier,&lt;/p&gt;

&lt;p&gt;Very good timing!&lt;br/&gt;
We are discussing this issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5039&quot; title=&quot;Manual invocation of FunctionsExecutor#notify() is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5039&quot;&gt;&lt;del&gt;WICKET-5039&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Can you please add a quickstart with your requirement to it.&lt;/p&gt;</comment>
                            <comment id="13580628" author="reiern70" created="Mon, 18 Feb 2013 14:31:06 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;Maybe it is just changing the regular expression pattern at&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js#L1045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js#L1045&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;so that it covers case function()&lt;/p&gt;
{A|...}
</comment>
                            <comment id="13688026" author="tobiashaupt" created="Wed, 19 Jun 2013 14:17:18 +0000"  >&lt;p&gt;Patch added that avoids recursion in most of the default evaluations&lt;/p&gt;</comment>
                            <comment id="13688030" author="tobiashaupt" created="Wed, 19 Jun 2013 14:21:59 +0000"  >&lt;p&gt;I still have heavy performance problems with the deep recursion / deep stack problem. In my case I append javascript that does a lot of jquery stuff so that it builds a big stack itself. I get the too much recursion message in firefox pretty soon or the page freezes.&lt;/p&gt;

&lt;p&gt;I understand that recursion is necessary through the notify call if the execution of the next step needs to be deferred until something long running (like downloading scripts etc.) has happened. Most of the calls of notify do not need a deferred execution so I introduced a second callback: notifyContinue that will be called whenever it is possible to avoid recursion.&lt;/p&gt;

&lt;p&gt;Please see the attached patch and verify if everything is correctly adapted. In my case it avoids the Exception and speeds up the evaluation a lot.&lt;/p&gt;</comment>
                            <comment id="13688036" author="mgrigorov" created="Wed, 19 Jun 2013 14:26:52 +0000"  >&lt;p&gt;Please create a new ticket.&lt;br/&gt;
Also please add information why you think some calls do not need to wait for the previous.&lt;br/&gt;
A quickstart app will really help to improve this code faster.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="13688063" author="tobiashaupt" created="Wed, 19 Jun 2013 15:12:35 +0000"  >&lt;p&gt;I understand it like that: all tasks need to wait but some finish instantly / synchronously - they don&apos;t need the deferred callback to be called at some future time. &lt;br/&gt;
So they don&apos;t need further recursion and can continue with the next step in a simple loop.&lt;/p&gt;

&lt;p&gt;I know that there was a quickstart to check the recursion depth and stack size allready. This should be sufficient. It&apos;s hard to simulate the problem. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12653881">WICKET-5243</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12632195">WICKET-5039</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12588600" name="WICKET-4881-avoid-recursion.patch" size="4947" author="tobiashaupt" created="Wed, 19 Jun 2013 14:17:18 +0000"/>
                            <attachment id="12555753" name="WICKET-4881.patch" size="1041" author="mgrigorov" created="Mon, 3 Dec 2012 12:59:49 +0000"/>
                            <attachment id="12554730" name="wicket_bug_report.7z" size="35654" author="fdonckels" created="Fri, 23 Nov 2012 14:34:19 +0000"/>
                            <attachment id="12554739" name="wicket_bug_report.zip" size="57371" author="bitstorm" created="Fri, 23 Nov 2012 16:26:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rfsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>