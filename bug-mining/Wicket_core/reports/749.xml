<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4894] Internet Explorer fails fails to properly include conditional stylesheet links added via AjaxRequestTarget</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4894</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;CSS references added like this&lt;/p&gt;

&lt;p&gt;  @Override&lt;br/&gt;
  public void renderHead( IHeaderResponse response ) &lt;/p&gt;
{
    super.renderHead( response );
    response.renderCSSReference( 
        new PackageResourceReference( getClass(), &quot;TestLabel.css&quot; ));
    response.renderCSSReference( 
        new PackageResourceReference( getClass(), &quot;TestLabel-conditional.css&quot; ), null, null, &quot;gte IE 8&quot; );
  }

&lt;p&gt;will not be taken into account by Internet Explorer (tested with 8 and 9) at when rendering the document.&lt;br/&gt;
I stepped though wicket-ajax.js and saw that the function added in Wicket.Head.Contributor.processComment will actually be executed and a new child node will be appended to the head node of the document. Unfortunately it seems IE disregards conditional comments added in this way.&lt;/p&gt;

&lt;p&gt;I encountered this using Wicket 1.5.4.&lt;br/&gt;
I&apos;ll upload a quickstart.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12617823">WICKET-4894</key>
            <summary>Internet Explorer fails fails to properly include conditional stylesheet links added via AjaxRequestTarget</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="pohlandt">Jonas Pohlandt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Nov 2012 16:50:50 +0000</created>
                <updated>Wed, 16 Jan 2013 13:10:18 +0000</updated>
                            <resolved>Mon, 3 Dec 2012 09:55:28 +0000</resolved>
                                    <version>1.5.4</version>
                                    <fixVersion>6.4.0</fixVersion>
                    <fixVersion>1.5.10</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13504755" author="pohlandt" created="Tue, 27 Nov 2012 16:53:56 +0000"  >&lt;p&gt;Quickstart&lt;/p&gt;</comment>
                            <comment id="13506428" author="mgrigorov" created="Thu, 29 Nov 2012 12:12:23 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;ve experimented with this and it seems IE CSS engine doesn&apos;t check for dynamically injected links in conditional comments.&lt;br/&gt;
One solution is wicket-ajax.js to parse the condition before injectiing the element in the &amp;lt;head&amp;gt; and inject it only when necessary. But this doesn&apos;t look nice at all.&lt;/p&gt;

&lt;p&gt;A much better solution is to check this at the server side:&lt;br/&gt;
 WebClientInfo clientInfo = (WebClientInfo) getSession().getClientInfo();&lt;br/&gt;
	  ClientProperties properties = clientInfo.getProperties();&lt;br/&gt;
	  if (properties.isBrowserInternetExplorer() &amp;amp;&amp;amp; properties.getBrowserVersionMajor() &amp;gt;= 8)&lt;/p&gt;
	  {
		  response.renderCSSReference(
				  new PackageResourceReference( getClass(), &quot;TestLabel-conditional.css&quot; ));
	  }

&lt;p&gt;Nice and clean.&lt;/p&gt;</comment>
                            <comment id="13506450" author="pohlandt" created="Thu, 29 Nov 2012 13:07:04 +0000"  >&lt;p&gt;Hi Martin, &lt;/p&gt;

&lt;p&gt;thanks for the quick reply and the solution. It took me a while to figure out the cause of this (and might take other people a while as well), so I suppose a warning when using the response.renderCSSReference overload with the &quot;condition&quot; parameter during an ajax request would be very helpful. Do you accept patches or pull requests on GitHub?&lt;/p&gt;

&lt;p&gt;Another thing: is getSession().getClientInfo() going to work during an ajax request if called for the first time in the lifetime of the session?&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Jonas&lt;/p&gt;</comment>
                            <comment id="13506460" author="mgrigorov" created="Thu, 29 Nov 2012 13:11:00 +0000"  >&lt;p&gt;Patches are always welcome!&lt;br/&gt;
We prefer patch files attached in the ticket though. By attaching it you grant Apache the permissions to use your code.&lt;/p&gt;</comment>
                            <comment id="13506467" author="mgrigorov" created="Thu, 29 Nov 2012 13:29:17 +0000"  >&lt;p&gt;Q: Another thing: is getSession().getClientInfo() going to work during an ajax request if called for the first time in the lifetime of the session? &lt;br/&gt;
A: this logic uses the User-Agent request header so it should work.&lt;/p&gt;</comment>
                            <comment id="13506796" author="pohlandt" created="Thu, 29 Nov 2012 21:12:28 +0000"  >&lt;p&gt;diff for 1.5.9 HeaderResponse (do you even still accept patches for 1.5?). Have not used 6.x yet...&lt;/p&gt;</comment>
                            <comment id="13508615" author="mgrigorov" created="Mon, 3 Dec 2012 09:55:28 +0000"  >&lt;p&gt;The log warning + updates to the javadoc has been added for 1.5.10 and 6.4.0.&lt;/p&gt;</comment>
                            <comment id="13555011" author="davidvdd" created="Wed, 16 Jan 2013 12:56:40 +0000"  >&lt;p&gt;The log warning always appears even if you use Chrome. Is there a way to change this? Or add it to a higher loglevel since it only gives info. There&apos;s also no info about the warning in 6.x.x docs  &lt;a href=&quot;http://ci.apache.org/projects/wicket/apidocs/6.0.x/org/apache/wicket/markup/head/IHeaderResponse.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/projects/wicket/apidocs/6.0.x/org/apache/wicket/markup/head/IHeaderResponse.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13555013" author="mgrigorov" created="Wed, 16 Jan 2013 13:10:18 +0000"  >&lt;p&gt;The log statement tells you that you try to make the user experience for IE users better but IE wont appreciate it. So you can either rework it as suggested above or remove it completely.&lt;/p&gt;

&lt;p&gt;We can make the log INFO or even DEBUG but then more people wont see it at all and will file tickets here when they realize that their code doesn&apos;t work for IE at all.&lt;br/&gt;
You can always set ERROR level as minimum for this class in your logging configuration.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12555401" name="HeaderResponse.java.diff" size="351" author="pohlandt" created="Thu, 29 Nov 2012 21:12:28 +0000"/>
                            <attachment id="12555031" name="quickstart.zip" size="22136" author="pohlandt" created="Tue, 27 Nov 2012 16:53:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rxm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>