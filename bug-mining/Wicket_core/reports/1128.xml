<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5864] Multipart Ajax form submit does not release the channel in case of connection failure</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5864</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://apache-wicket.1842946.n4.nabble.com/wicket-abort-ajax-handling-of-multipart-form-when-the-server-is-stopped-td4670076.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-wicket.1842946.n4.nabble.com/wicket-abort-ajax-handling-of-multipart-form-when-the-server-is-stopped-td4670076.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If the server is down when trying to submit a multipart form then Wicket doesn&apos;t call failure handler and doesn&apos;t unlock the channel.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785336">WICKET-5864</key>
            <summary>Multipart Ajax form submit does not release the channel in case of connection failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="mgrigorov">Martin Tzvetanov Grigorov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 22:35:09 +0000</created>
                <updated>Fri, 27 Mar 2015 21:21:06 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 22:52:45 +0000</resolved>
                                    <version>6.19.0</version>
                                    <fixVersion>6.20.0</fixVersion>
                    <fixVersion>7.0.0-M6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14378832" author="jira-bot" created="Tue, 24 Mar 2015 22:50:23 +0000"  >&lt;p&gt;Commit f1683074e6d349262e24dfdcb121c326acf5b806 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=f168307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=f168307&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5864&quot; title=&quot;Multipart Ajax form submit does not release the channel in case of connection failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5864&quot;&gt;&lt;del&gt;WICKET-5864&lt;/del&gt;&lt;/a&gt; Multipart Ajax form submit does not release the channel in case of connection failure&lt;/p&gt;</comment>
                            <comment id="14378841" author="jira-bot" created="Tue, 24 Mar 2015 22:52:38 +0000"  >&lt;p&gt;Commit 51cd2e56b2771919f3a231f2bdc5137c0bf99945 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=51cd2e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=51cd2e5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5864&quot; title=&quot;Multipart Ajax form submit does not release the channel in case of connection failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5864&quot;&gt;&lt;del&gt;WICKET-5864&lt;/del&gt;&lt;/a&gt; Multipart Ajax form submit does not release the channel in case of connection failure&lt;/p&gt;

&lt;p&gt;(cherry picked from commit f1683074e6d349262e24dfdcb121c326acf5b806)&lt;/p&gt;</comment>
                            <comment id="14379524" author="svenmeier" created="Wed, 25 Mar 2015 09:01:46 +0000"  >&lt;p&gt;Hi Martin,&lt;/p&gt;

&lt;p&gt;&amp;gt; attrs.rt || 5000&lt;/p&gt;

&lt;p&gt;AFAIKS Wicket doesn&apos;t have a default request timeout set. With the line above you&apos;re forcing a 5 seconds timeout on all multipart ajax uploads, don&apos;t you?&lt;/p&gt;

&lt;p&gt;Sven&lt;/p&gt;</comment>
                            <comment id="14379548" author="mgrigorov" created="Wed, 25 Mar 2015 09:26:13 +0000"  >&lt;p&gt;Hi Sven,&lt;/p&gt;

&lt;p&gt;By default jQuery#ajax() uses 0 as a request timeout, so the timeout depends on the browser. That&apos;s why Wicket doesn&apos;t set a default request timeout too.&lt;/p&gt;

&lt;p&gt;In the current case we need to fire the error handler at some point.&lt;br/&gt;
5000 is just a random number, yes. The application may tune it with AjaxRequestAttributes to whatever value it find appropriate for its needs. Globally or per form submitter.&lt;/p&gt;

&lt;p&gt;The best would be if iframe supported onerror for notifying when there is a problem with the normal load of the page, but unfortunately this seems to be not supported.&lt;/p&gt;

&lt;p&gt;Ideas for better handling of this are welcome!&lt;/p&gt;</comment>
                            <comment id="14379589" author="svenmeier" created="Wed, 25 Mar 2015 09:44:14 +0000"  >&lt;p&gt;&amp;gt;if iframe supported onerror ... but unfortunately this seems to be not supported.&lt;/p&gt;

&lt;p&gt;Yes, regretfully this seems to be the case.&lt;/p&gt;

&lt;p&gt;&amp;gt;Ideas for better handling of this are welcome&lt;/p&gt;

&lt;p&gt;Since we can&apos;t know the appropriate timeout, the user should have to set it explicitly:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (attrs.rt) {
  &lt;span class=&quot;code-comment&quot;&gt;// an error handler that is used when the connection to the server fails &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; any reason
&lt;/span&gt;  context.errorHandle = setTimeout(jQuery.proxy(function() {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.failure(context, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;No XML response in the IFrame document&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Failure&quot;&lt;/span&gt;);

    context.steps.push(context.endStep);
    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; executer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FunctionsExecuter(context.steps);
    executer.start();
  }, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;), attrs.rt);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14379615" author="mgrigorov" created="Wed, 25 Mar 2015 09:57:51 +0000"  >&lt;p&gt;I think it&apos;d be better to have a default timeout. It could be bigger, e.g. 10000, and we can log an INFO/ERROR when it is fired with explanation why it has fired.&lt;br/&gt;
This way it will be easier for the developer to debug what happens and increase the timeout if needed.&lt;br/&gt;
Without the error handling the application will just hang as explained at users@ and the developer will have to debug all this by her/himself to find the &apos;if&apos; statement and understand what it actually means.&lt;/p&gt;</comment>
                            <comment id="14379659" author="svenmeier" created="Wed, 25 Mar 2015 10:34:06 +0000"  >&lt;p&gt;I disagree: A timeout will always be too low. Someone will do heavy uploads through &apos;ajax&apos; and require not to have any timeout.&lt;/p&gt;

&lt;p&gt;Normal Ajax requests don&apos;t have a default timeout, why should it be different for multipart &apos;ajax&apos; uploads? IMHO this issue is a rare case: if you&apos;re server isn&apos;t responding at all, you have worse problems.&lt;/p&gt;</comment>
                            <comment id="14380199" author="jira-bot" created="Wed, 25 Mar 2015 16:45:09 +0000"  >&lt;p&gt;Commit 02568ddbf2d067ec20d334d1904153b73ec1e333 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=02568dd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=02568dd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5864&quot; title=&quot;Multipart Ajax form submit does not release the channel in case of connection failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5864&quot;&gt;&lt;del&gt;WICKET-5864&lt;/del&gt;&lt;/a&gt; Multipart Ajax form submit does not release the channel in case of connection failure&lt;/p&gt;</comment>
                            <comment id="14380204" author="mgrigorov" created="Wed, 25 Mar 2015 16:48:01 +0000"  >&lt;p&gt;&quot;worse problems&quot; could be a temporary network problem on the client side.&lt;/p&gt;

&lt;p&gt;I&apos;ve applied your suggestion. Also added &apos;else Wicket.Log.info()&apos; with suggestion to use AjaxRequestAttributes#setRequestTimeout() if error handling is needed.&lt;/p&gt;</comment>
                            <comment id="14380208" author="jira-bot" created="Wed, 25 Mar 2015 16:48:53 +0000"  >&lt;p&gt;Commit 183a6fd78fe02df205c66660a22b0c6ec3ea4829 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=183a6fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=183a6fd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5864&quot; title=&quot;Multipart Ajax form submit does not release the channel in case of connection failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5864&quot;&gt;&lt;del&gt;WICKET-5864&lt;/del&gt;&lt;/a&gt; Multipart Ajax form submit does not release the channel in case of connection failure&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 3bb7c251854a7b83235241a28c26f229a447f703)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27b0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>