<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:16:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-1973] Messages lost upon session failover with redirect_to_buffer</title>
                <link>https://issues.apache.org/jira/browse/WICKET-1973</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Using the redirect_to_buffer render strategy, messages in the session get cleared after the render.&lt;/p&gt;

&lt;p&gt;If the redirected request comes in at another node, the buffer is not found and the page is re-rendered. In this case the messages are no longer available.&lt;/p&gt;

&lt;p&gt;See the javadoc of WebApplication#popBufferedResponse(String,String).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410254">WICKET-1973</key>
            <summary>Messages lost upon session failover with redirect_to_buffer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="erikvanoosten">Erik van Oosten</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 08:08:32 +0000</created>
                <updated>Sat, 1 Jan 2011 00:22:10 +0000</updated>
                            <resolved>Fri, 31 Dec 2010 12:33:37 +0000</resolved>
                                    <version>1.4-RC1</version>
                                    <fixVersion>1.4.16</fixVersion>
                    <fixVersion>1.5-RC1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912731" author="pete" created="Mon, 20 Sep 2010 21:48:30 +0000"  >&lt;p&gt;Is this issue still existant. The affected version was a release candidate so it&apos;s pretty much possible the problem is already gone. Also, does this exist in 1.5?&lt;/p&gt;</comment>
                            <comment id="12975267" author="mgrigorov" created="Mon, 27 Dec 2010 15:02:43 +0000"  >&lt;p&gt;I think this issue is still relevant for Wicket 1.5.&lt;br/&gt;
The buffered responses (only for stateful pages) are stored in the Application and thus are not replicated to the other nodes.&lt;/p&gt;

&lt;p&gt;Recently we had discussion about this behavior when trying to store the buffered response for stateless pages (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3239&quot; title=&quot;for stateless pages wicket complains with &amp;quot;The Buffered response should be handled by BufferedResponseRequestHandler&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3239&quot;&gt;&lt;del&gt;WICKET-3239&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
If I don&apos;t miss something important then I think the storage for buffered responses for stateful pages can be moved to the user&apos;s Session.&lt;br/&gt;
Currently the storing for stateless pages is disabled by default but if someone needs this functionality then the storage for them should be in Application.&lt;/p&gt;</comment>
                            <comment id="12975273" author="ivaynberg" created="Mon, 27 Dec 2010 15:52:54 +0000"  >&lt;p&gt;storing the buffer in session is a big nono. we do not want the buffer replicated across the cluster as it can be quiet big.&lt;/p&gt;</comment>
                            <comment id="12975279" author="jcompagner" created="Mon, 27 Dec 2010 16:24:00 +0000"  >&lt;p&gt;you really should use sticky sessions,&lt;br/&gt;
I dont see any reason not to use that, and it is way better for performance.&lt;br/&gt;
A browser can do many request at the same time to the server, those should hit the same node, else you have multithreaded access to pages over multiply computers. What is then the final page that you want to have?&lt;/p&gt;</comment>
                            <comment id="12975281" author="ivaynberg" created="Mon, 27 Dec 2010 16:28:11 +0000"  >&lt;p&gt;the usecase is when a node fails and session fails over to another one.&lt;/p&gt;</comment>
                            <comment id="12975285" author="erikvanoosten" created="Mon, 27 Dec 2010 16:39:49 +0000"  >&lt;p&gt;The other use case is the odd-client that insists on using a round robin load balancer.&lt;/p&gt;</comment>
                            <comment id="12975288" author="ivaynberg" created="Mon, 27 Dec 2010 16:49:18 +0000"  >&lt;p&gt;that odd client would have to use a strategy other then redirect to buffer&lt;/p&gt;</comment>
                            <comment id="12975289" author="jcompagner" created="Mon, 27 Dec 2010 16:52:02 +0000"  >&lt;p&gt;How many times does it happens that a node fails and at the same time you would have just between the real and the redirect request you that would have had messages??&lt;/p&gt;

&lt;p&gt;you have to use a round robin load balancer but for new sessions.&lt;br/&gt;
Not for existing sessions.. That really can jus screw things up...&lt;/p&gt;</comment>
                            <comment id="12975303" author="mgrigorov" created="Mon, 27 Dec 2010 18:28:55 +0000"  >&lt;p&gt;Then we can document this as a known issue/limitation of this strategy and close the ticket. Objections ?&lt;/p&gt;</comment>
                            <comment id="12975442" author="erikvanoosten" created="Tue, 28 Dec 2010 07:34:20 +0000"  >&lt;p&gt;None from me.&lt;/p&gt;</comment>
                            <comment id="12976242" author="mgrigorov" created="Fri, 31 Dec 2010 12:33:37 +0000"  >&lt;p&gt;A note describing the limitation is added to IRequestCycleSettings javadoc.&lt;/p&gt;</comment>
                            <comment id="12976372" author="hudson" created="Sat, 1 Jan 2011 00:22:10 +0000"  >&lt;p&gt;Integrated in Apache Wicket 1.4.x #362 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/362/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/362/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ker3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>