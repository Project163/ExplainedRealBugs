<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3847] Modal window won&apos;t show in internet explorer document mode 8</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3847</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Plain modal window won&apos;t show after revision 1135146, &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3782&quot; title=&quot;Notifications before and after DOM node replacement &quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3782&quot;&gt;&lt;del&gt;WICKET-3782&lt;/del&gt;&lt;/a&gt; Notifications before and after DOM node replacement (...) using Internet Explorer 9 in document mode quirks, 7 and 8. Works in document mode 9, Opera 11.11, Chrome 13.0.782.32 beta-m, Firefox 3.6.18 and 5.0&lt;/p&gt;

&lt;p&gt;Seems like the lines:&lt;br/&gt;
var newElement = Wicket.$(element.id);&lt;br/&gt;
Wicket.Event.publish(&apos;/dom/node/added&apos;, newElement);&lt;br/&gt;
the 2nd time they run, element.id = &quot;&quot;, which makes Wicket.$ (document.getElementById(&quot;&quot;)) crash, and an &quot;ERROR: Wicket.Ajax.Call.processEvaluation: Exception evaluating javascript: &lt;span class=&quot;error&quot;&gt;&amp;#91;object Error&amp;#93;&lt;/span&gt;&quot; is logged to the Wicket ajax debug window.&lt;/p&gt;

&lt;p&gt;Quick workaround: Somewhere in your code, include the following script: &lt;br/&gt;
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&lt;br/&gt;
    oldFu = Wicket.$;&lt;/p&gt;

&lt;p&gt;    Wicket.$ = function(arg) {&lt;br/&gt;
        if (arg == null || typeof(arg) == &quot;undefined&quot; || arg == &quot;&quot;) &lt;/p&gt;
{
            return null;
        }
&lt;p&gt;        return oldFu(arg);&lt;br/&gt;
    }&lt;br/&gt;
&amp;lt;/script&amp;gt;&lt;/p&gt;

&lt;p&gt;Where the difference to the original $ function is the arg==&quot;&quot; check&lt;/p&gt;</description>
                <environment>Internet Explorer &amp;lt;=8</environment>
        <key id="12512300">WICKET-3847</key>
            <summary>Modal window won&apos;t show in internet explorer document mode 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="sodasmile">Sodasmile</reporter>
                        <labels>
                            <label>ajax</label>
                            <label>modal</label>
                            <label>window</label>
                    </labels>
                <created>Thu, 30 Jun 2011 09:33:10 +0000</created>
                <updated>Tue, 30 Aug 2011 06:28:56 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 13:47:20 +0000</resolved>
                                    <version>1.5-RC5.1</version>
                                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13057718" author="sodasmile" created="Thu, 30 Jun 2011 09:39:25 +0000"  >&lt;p&gt;Plain simple page with link to modal window, with javascript &quot;patch&quot; for workaround.&lt;/p&gt;</comment>
                            <comment id="13057735" author="mgrigorov" created="Thu, 30 Jun 2011 10:13:08 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for reporting!&lt;/p&gt;

&lt;p&gt;My IE (Virtual Box) is broken right now and I cannot test it.&lt;br/&gt;
Can you test this fix:&lt;/p&gt;


&lt;p&gt;&amp;#8212; wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js	(revision 1141410)&lt;br/&gt;
+++ wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js	(working copy)&lt;br/&gt;
@@ -359,6 +359,7 @@&lt;br/&gt;
  */&lt;br/&gt;
 Wicket.replaceOuterHtml = function(element, text) {	&lt;/p&gt;

&lt;p&gt;+    var elementId = element.id;&lt;br/&gt;
     Wicket.Event.publish(&apos;/dom/node/removing&apos;, element);&lt;/p&gt;

&lt;p&gt; 	if (Wicket.Browser.isIE() || Wicket.Browser.isOpera()) &lt;/p&gt;
{		
@@ -374,7 +375,7 @@
         element.parentNode.replaceChild(fragment, element);
     }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;var newElement = Wicket.$(element.id);&lt;br/&gt;
+    var newElement = Wicket.$(elementId);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13057766" author="sodasmile" created="Thu, 30 Jun 2011 11:37:48 +0000"  >&lt;p&gt;Thanks for quick reply. The problem is not in the function itself. The element id is already &quot;&quot; when the element is passed in to the function. I&apos;ll dig a little deeper in the callstack and see what I can find.&lt;/p&gt;

&lt;p&gt;What I can&apos;t quite seem to figure out is that where the call crashes is in wicket-ajax.js:51 where it does the &quot;document.getElementById(arg)&quot; in the Wicket.$ function, and arg is set to &quot;&quot;. Stepping over this line in the IE debugger sends the control right back to wicket-ajax.js:1407 &quot;} catch (exception) {&quot;, in the processEvaluation function, with exception set to &quot;Invalid procedure call or argument&quot;.&lt;/p&gt;

&lt;p&gt;However, when I try a plain html page with a javascript document.getElementById(&quot;&quot;) it returns null and no exception.&lt;/p&gt;

&lt;p&gt;I&apos;ll see what I can find.&lt;/p&gt;</comment>
                            <comment id="13057771" author="sodasmile" created="Thu, 30 Jun 2011 11:51:41 +0000"  >&lt;p&gt;The callstack leading up to the exception is:&lt;/p&gt;

&lt;p&gt;wicket-ajax.js:378 replaceOuterHtml(element, text)&lt;br/&gt;
modal.js:356 createDom()&lt;br/&gt;
modal.js:646 show()&lt;br/&gt;
JScript global code: &quot;Wicket.Window.create(settings).show();&lt;br/&gt;
(... anonymous functions ...)&lt;br/&gt;
wicket-ajax.js:158 processNext()&lt;br/&gt;
wicket-ajax.js:168 notify()&lt;br/&gt;
(... anonymous functions ...)&lt;br/&gt;
wicket-ajax.js:158 processNext()&lt;br/&gt;
wicket-ajax.js:168 notify()&lt;br/&gt;
(... anonymous functions ...)&lt;br/&gt;
wicket-ajax.js:158 processNext()&lt;br/&gt;
wicket-ajax.js:168 notify()&lt;br/&gt;
(... anonymous functions ...)&lt;br/&gt;
wicket-ajax.js:158 processNext()&lt;br/&gt;
wicket-ajax.js:168 notify()&lt;br/&gt;
(...)&lt;/p&gt;

&lt;p&gt;Running the same code in e.g. Chrome, the document.getElementById(&quot;&quot;) returns null, which passes null as newElement into Wicket.Event.publish(&apos;/dom/node/added&apos;, newElement) which seems to handle the null newElement properly.&lt;/p&gt;</comment>
                            <comment id="13057776" author="mgrigorov" created="Thu, 30 Jun 2011 12:05:07 +0000"  >&lt;p&gt;It is new for me that modal.js uses Wicket.replaceOuterHtml().&lt;br/&gt;
I&apos;ll improve it soon.&lt;/p&gt;</comment>
                            <comment id="13057822" author="mgrigorov" created="Thu, 30 Jun 2011 13:47:20 +0000"  >&lt;p&gt;Fixed by adding &apos;id&apos; attribute to the element that modal.js creates.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13058264" author="papegaaij" created="Fri, 1 Jul 2011 09:00:43 +0000"  >&lt;p&gt;The workaround mentioned earlier did not work for us, so we came up with an alternative (just include this javascript somewhere after wicket-ajax):&lt;/p&gt;

&lt;p&gt;// FIX voor &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3847&quot; title=&quot;Modal window won&amp;#39;t show in internet explorer document mode 8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3847&quot;&gt;&lt;del&gt;WICKET-3847&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
var oldReplaceOuterHtmlIE;&lt;br/&gt;
if (!oldReplaceOuterHtmlIE) {&lt;br/&gt;
	oldReplaceOuterHtmlIE = Wicket.replaceOuterHtmlIE;&lt;br/&gt;
	var counter = 0;&lt;br/&gt;
	Wicket.replaceOuterHtmlIE = function(element, text) {&lt;br/&gt;
		if (!element.id) &lt;/p&gt;
{
			element.id = &apos;blamijnid&apos; + (counter++);
		}
&lt;p&gt;		return oldReplaceOuterHtmlIE(element, text);&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;</comment>
                            <comment id="13058265" author="sodasmile" created="Fri, 1 Jul 2011 09:07:45 +0000"  >&lt;p&gt;Just a sidenote: &lt;/p&gt;

&lt;p&gt;What puzzled me was that when I did document.getElementById(&quot;&quot;); in IE8 in a &quot;controlled environment&quot;, it returned null, no exception, but when the same line ran as part of the wicket-ajax.js it threw an exception. &lt;/p&gt;

&lt;p&gt;Doing a document.getElementById in javascript console in IE debugger returned something like: &lt;/p&gt;
{ native code }
&lt;p&gt;, whereas when I did the same call while in the wicket-ajax.js, it returned &quot; &lt;/p&gt;
{ ... }
&lt;p&gt; &quot; (literally three dots), although it sounds very strange, can it be that something redefines the getElementById?? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12519666">WICKET-3982</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12484750" name="mowi.zip" size="1656" author="sodasmile" created="Thu, 30 Jun 2011 09:39:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>