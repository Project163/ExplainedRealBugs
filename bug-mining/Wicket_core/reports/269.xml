<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3836] regression on strategy to integrate cas authentication</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3836</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;yes, It happens in org.apache.wicket.request.handler.PageProvider.getPageInstance() ,&lt;br/&gt;
but not for the WelcomePage, but the redirection page (RedirectPage).&lt;br/&gt;
the CASPageAuthorizationStrategy as we are not authentified a org.apache.wicket.RestartResponseAtInterceptPageException with in parameter an instance of RedirectPage.&lt;br/&gt;
On the second call of PageProvider.getPageInstance, the pageId is of 0, an all other parameters are nulls.&lt;/p&gt;

&lt;p&gt;The run seems quite different on 1.5-RC4.2 version - There is only one call of the method PageProvider.getPageInstance() and it come after the CASPageAuthorizationStrategy.isPageAuthorized&lt;/p&gt;

&lt;p&gt;Le 27/06/2011 11:24, Martin Grigorov a &#233;crit :&lt;br/&gt;
&amp;gt; Put a breakpoint in&lt;br/&gt;
&amp;gt; org.apache.wicket.request.handler.PageProvider.getPageInstance() and&lt;br/&gt;
&amp;gt; see what happens.&lt;br/&gt;
&amp;gt; It seems the test tries to retrieve a page from the page store by id&lt;br/&gt;
&amp;gt; but there is no such.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; On Mon, Jun 27, 2011 at 12:20 PM, Thomas Franconville&lt;br/&gt;
&amp;gt; &amp;lt;tfranconville@tetraedge.com&amp;gt;  wrote:&lt;br/&gt;
&amp;gt;&amp;gt; Hi,&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; Upgrading wicket from 1.5-RC4.2 to 1.5-RC5.1  make my Junit Test down with&lt;br/&gt;
&amp;gt;&amp;gt; the error &apos;Page expired&apos;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; /**&lt;br/&gt;
&amp;gt;&amp;gt;   * Simple test using the WicketTester&lt;br/&gt;
&amp;gt;&amp;gt;   */&lt;br/&gt;
&amp;gt;&amp;gt; public class TestHomePage&lt;br/&gt;
&amp;gt;&amp;gt; {&lt;br/&gt;
&amp;gt;&amp;gt;     private WicketTester tester;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;     @Before&lt;br/&gt;
&amp;gt;&amp;gt;     public void setUp()&lt;br/&gt;
&amp;gt;&amp;gt;     &lt;/p&gt;
{
&amp;gt;&amp;gt;         tester = new WicketTester(new MyApplication());
&amp;gt;&amp;gt;     }
&lt;p&gt;&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;     @Test&lt;br/&gt;
&amp;gt;&amp;gt;     public void homepageRendersSuccessfully()&lt;br/&gt;
&amp;gt;&amp;gt;     &lt;/p&gt;
{
&amp;gt;&amp;gt;         //start and render the test page
&amp;gt;&amp;gt;         tester.startPage(WelcomePage.class);
&amp;gt;&amp;gt;
&amp;gt;&amp;gt;         //assert rendered page class
&amp;gt;&amp;gt;         tester.assertRenderedPage(RedirectPage.class);
&amp;gt;&amp;gt;     }
&lt;p&gt;&amp;gt;&amp;gt; }&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; My application use a CASPageAuthorizationStrategy inspired of&lt;br/&gt;
&amp;gt;&amp;gt; &lt;a href=&quot;http://www.lunikon.net/2009/11/24/integrating-cas-and-wicket/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.lunikon.net/2009/11/24/integrating-cas-and-wicket/&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; Kind Regards&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; Thomas&lt;/p&gt;</description>
                <environment>jdk1.6&lt;br/&gt;
cas&lt;br/&gt;
unit test</environment>
        <key id="12511649">WICKET-3836</key>
            <summary>regression on strategy to integrate cas authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="thomasfr">Thomas Franconville</reporter>
                        <labels>
                            <label>cas</label>
                            <label>strategy</label>
                            <label>wicket</label>
                    </labels>
                <created>Mon, 27 Jun 2011 13:48:06 +0000</created>
                <updated>Mon, 27 Jun 2011 16:18:03 +0000</updated>
                            <resolved>Mon, 27 Jun 2011 15:32:07 +0000</resolved>
                                    <version>1.5-RC5.1</version>
                                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket-auth-roles</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13055547" author="thomasfr" created="Mon, 27 Jun 2011 13:49:20 +0000"  >&lt;p&gt;quickstart maven app - version to change into the pom&lt;/p&gt;</comment>
                            <comment id="13055552" author="mgrigorov" created="Mon, 27 Jun 2011 13:53:57 +0000"  >&lt;p&gt;Failing unit test is not that critical.&lt;/p&gt;</comment>
                            <comment id="13055600" author="mgrigorov" created="Mon, 27 Jun 2011 15:22:29 +0000"  >&lt;p&gt;The problem is that RedirectPage is not versioned, and thus never goes to the page stores.&lt;br/&gt;
I improved similar problem with Error pages in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3759&quot; title=&quot;Touch the page only when it is just read from the page store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3759&quot;&gt;&lt;del&gt;WICKET-3759&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Explanation: since the page is not versioned it is never stored. By using RedirectPolicy.ALWAYS_REDIRECT we instruct WebPageRenderer to use Redirect_To_RENDER strategy, but this strategy expects that the page is stored. The solution is to use AUTO_REDIRECT policy and let WebPageRenderer decide which render strategy to use. This way it will use the recommended redirect_to_buffer strategy and render the page markup from StoredResponsesMap (BufferedResponseMapper).&lt;/p&gt;

&lt;p&gt;The fix is coming.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12509020">WICKET-3759</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483952" name="CasWicket.zip" size="7986" author="thomasfr" created="Mon, 27 Jun 2011 13:49:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>