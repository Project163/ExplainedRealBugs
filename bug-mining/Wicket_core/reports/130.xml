<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:17:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3606] wicket-ajax.js replaceOuterhtmlIE() fails when the page title has to be updated with Ajax</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3606</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;If the page title is a component in the hierarchy, i.e.&lt;br/&gt;
.html:&lt;br/&gt;
&amp;lt;title wicket:id=&quot;title&quot;&amp;gt;...&amp;lt;/title&amp;gt;&lt;br/&gt;
.java:&lt;br/&gt;
final Label title = new Label(&quot;title&quot;, someModel);&lt;/p&gt;

&lt;p&gt;and we try to update the &apos;title&apos; with Ajax then replaceOuterhtmlIE() will fail when trying to set title&apos;s element outerHTML to &quot;&quot; (line 284) because outerHTML is read-only for title and several other elements (&lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa752326(v=vs.85).aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://msdn.microsoft.com/en-us/library/aa752326(v=vs.85).aspx&lt;/a&gt;).&lt;/p&gt;</description>
                <environment>IE</environment>
        <key id="12503903">WICKET-3606</key>
            <summary>wicket-ajax.js replaceOuterhtmlIE() fails when the page title has to be updated with Ajax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="mgrigorov">Martin Tzvetanov Grigorov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2011 08:00:53 +0000</created>
                <updated>Tue, 12 Apr 2011 17:11:31 +0000</updated>
                            <resolved>Tue, 12 Apr 2011 15:19:10 +0000</resolved>
                                    <version>1.5-RC3</version>
                                    <fixVersion>1.4.18</fixVersion>
                    <fixVersion>1.5-RC4</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13018298" author="pedrosans" created="Mon, 11 Apr 2011 11:39:02 +0000"  >&lt;p&gt;Hi Martin, some times removing the component from DOM, recreate it, add in DOM again works. If it is not the case, Wicket can warn on console a message explaining that the title component will not be replaced.&lt;/p&gt;</comment>
                            <comment id="13018299" author="mgrigorov" created="Mon, 11 Apr 2011 11:41:49 +0000"  >&lt;p&gt;Hi Pedro.&lt;/p&gt;

&lt;p&gt;I use locally this patch:&lt;/p&gt;


&lt;p&gt;Index: wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js	(revision 1090954)&lt;br/&gt;
+++ wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js	(working copy)&lt;br/&gt;
@@ -206,7 +206,12 @@&lt;br/&gt;
 			Wicket.Log.error(&quot;Wicket.replaceOuterHtmlIE: &quot; + e + &quot;: eval -&amp;gt; &quot; + script);&lt;br/&gt;
 		}&lt;br/&gt;
 		return;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;}&lt;br/&gt;
+	} else if (element.tagName == &quot;TITLE&quot;) 
{
+		// match the text between the tags 
+		var titleText = /&amp;gt;(.*?)&amp;lt;/.exec(text)[1];
+		document.title = titleText;
+		return;
+	}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	var parent = element.parentNode;&lt;br/&gt;
 	var tn = element.tagName;&lt;br/&gt;
@@ -276,7 +281,9 @@&lt;br/&gt;
 	if(element.style.backgroundImage)&lt;br/&gt;
 		element.style.backgroundImage = &quot;&quot;;&lt;br/&gt;
 	parent.removeChild(element);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;element.outerHTML = &quot;&quot;;&lt;br/&gt;
+	try 
{
+		element.outerHTML = &quot;&quot;;
+	}
&lt;p&gt; catch (ignore) {}&lt;br/&gt;
 	element = &quot;&quot;;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and it solves the problem.&lt;br/&gt;
I welcome for better solutions!&lt;/p&gt;</comment>
                            <comment id="13018306" author="pedrosans" created="Mon, 11 Apr 2011 11:54:42 +0000"  >&lt;p&gt;And if Wicket provided a title component, improving framework abstraction of HTML?&lt;/p&gt;

&lt;p&gt;class Title extends WebComponent{&lt;br/&gt;
public void updateAsynchronously(target)&lt;/p&gt;
{
target.appendJavaScript(&quot;document.title = &apos;&quot;+getModelValue()+&quot;&apos;;&quot;);
}}</comment>
                            <comment id="13018307" author="isammoc" created="Mon, 11 Apr 2011 11:55:07 +0000"  >&lt;p&gt;Is using &quot;==&quot; ok ?&lt;br/&gt;
Don&apos;t we have to use equals method instead ?&lt;/p&gt;

&lt;p&gt;More with the subject, is it allways in upper case ?&lt;/p&gt;</comment>
                            <comment id="13018308" author="mgrigorov" created="Mon, 11 Apr 2011 11:59:19 +0000"  >&lt;p&gt;@Pedro: this is OK, but what to do when the user does like I pasted above? currently wicket-ajax.js just breaks for IE.&lt;br/&gt;
We will have to explain in the mailing lists or close tickets here with: use Title component instead of &amp;lt;title wicket:id&amp;gt;&lt;/p&gt;

&lt;p&gt;@Isammoc: this is Javascript, not Java.&lt;/p&gt;</comment>
                            <comment id="13018324" author="pedrosans" created="Mon, 11 Apr 2011 12:45:26 +0000"  >&lt;p&gt;User can always extend Wicket and ignore its abstractions in benefit of his own style. But isn&apos;t his responsibility to address possible problems in this case?&lt;/p&gt;</comment>
                            <comment id="13018327" author="mgrigorov" created="Mon, 11 Apr 2011 12:52:02 +0000"  >&lt;p&gt;I am not sure you understood me.&lt;/p&gt;

&lt;p&gt;What will happen if the user uses:&lt;br/&gt;
.html: &lt;br/&gt;
&amp;lt;title wicket:id=&quot;title&quot;&amp;gt;...&amp;lt;/title&amp;gt; &lt;br/&gt;
.java: &lt;br/&gt;
final Label title = new Label(&quot;title&quot;, someModel); &lt;/p&gt;

&lt;p&gt;instead of o.a.w.markup.html.Title, the new component that you suggest (e.g. because she doesn&apos;t know about it)&lt;br/&gt;
?&lt;/p&gt;

&lt;p&gt;Answer: she will face the problem this ticket is about.&lt;/p&gt;</comment>
                            <comment id="13018331" author="isammoc" created="Mon, 11 Apr 2011 12:59:06 +0000"  >&lt;p&gt;Perhaps put in javadoc what kind of tag Label can handle ?&lt;br/&gt;
Like span, div, input, etc... but not title.&lt;/p&gt;

&lt;p&gt;Why not redirect with a @see tag to the new Title component ?&lt;/p&gt;

&lt;p&gt;2011/4/11 Martin Grigorov (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="13018342" author="pedrosans" created="Mon, 11 Apr 2011 13:28:09 +0000"  >&lt;p&gt;Yes, I&apos;m not against maintain this error followed by a warning explaining that title tag can&apos;t be touched in DOM, and rather than try to re-render the title component by adding it in AJAX request target, user needs to respond the javascript line changing the title text.&lt;/p&gt;</comment>
                            <comment id="13018731" author="ivaynberg" created="Tue, 12 Apr 2011 05:34:23 +0000"  >&lt;p&gt;i like martin&apos;s patch that checks if the dom elementis &amp;lt;title&amp;gt; and uses js to update it. its clean and transparent.&lt;/p&gt;</comment>
                            <comment id="13018862" author="mgrigorov" created="Tue, 12 Apr 2011 15:19:10 +0000"  >&lt;p&gt;Improved with r1091451 (trunk) and r1091458 (1.4.x).&lt;/p&gt;</comment>
                            <comment id="13018869" author="pedrosans" created="Tue, 12 Apr 2011 15:24:57 +0000"  >&lt;p&gt;Transparency is good, tweak the replaceOuterHtmlIE to do other than &apos;replace outer html&apos; gave me the impression of &apos;protecting&apos; user from the HTML world, rather than provide a correspondent abstraction.&lt;br/&gt;
Thinking better, we are already doing it: making third complexity transparent to Wicket users. In the checkbox#setRequerid thread on ML, community voted forward a behavior that makes transparent the HTTP weirdness.&lt;/p&gt;</comment>
                            <comment id="13018911" author="ivaynberg" created="Tue, 12 Apr 2011 17:11:31 +0000"  >&lt;p&gt;it is still replacing the other html. its just that it needs to do it in a special way when it comes to the &lt;span class=&quot;error&quot;&gt;&amp;#91;title&amp;#93;&lt;/span&gt; tag. it is already handling other special cases such as replacing &lt;span class=&quot;error&quot;&gt;&amp;#91;tr&amp;#93;&lt;/span&gt;s, etc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kain:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>