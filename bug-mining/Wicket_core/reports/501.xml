<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4330] Non standard (&quot;wicket&quot;) namespace causes incorrect relative URL in certain cases</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4330</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;The problem is related to non standard (i.e. &quot;wicket&quot;) namespaces.&lt;/p&gt;

&lt;p&gt;In my quickstart if I change the namespace in all markup from &quot;wicket&quot;&lt;br/&gt;
to &quot;foobar&quot; then the BPL which has only the last segment differing from the current page ends up producing an incorrect link to another page in the same path.&lt;/p&gt;

&lt;p&gt;i.e.&lt;/p&gt;

&lt;p&gt;Browser is at this page:&lt;br/&gt;
&lt;a href=&quot;http://127.0.0.1/content/other/o/1234/aspect/fred&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1/content/other/o/1234/aspect/fred&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;p&amp;gt;&lt;br/&gt;
	Here&apos;s a relative link to another page in the same &apos;path&apos;&lt;br/&gt;
	&amp;lt;div&amp;gt;&lt;br/&gt;
		&amp;lt;a foobar:id=&quot;janeLink&quot; href=&quot;../../../../../jane&quot;&lt;br/&gt;
style=&quot;outline: 0;&quot;&amp;gt;&lt;br/&gt;
			jane&lt;br/&gt;
		&amp;lt;/a&amp;gt;&lt;br/&gt;
	&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;&lt;br/&gt;
	A link to the current page&lt;br/&gt;
	&amp;lt;a foobar:id=&quot;fredLink&quot; href=&quot;fred&quot;&amp;gt;fred&amp;lt;/a&amp;gt; &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;The above BPL href of ../../../../../jane is wrong.&lt;/p&gt;

&lt;p&gt;With &apos;wicket&apos; set as the namespace the &apos;jane&apos; BPL outputs &apos;jane&apos; which is correct.&lt;/p&gt;

&lt;p&gt;This same code worked with the non standard namespace under 1.4.x&lt;/p&gt;

&lt;p&gt;Attached quickstart demonstrates the issue.&lt;/p&gt;</description>
                <environment>Win XP, 4GB RAM, Tomcat 6, Java 6</environment>
        <key id="12537877">WICKET-4330</key>
            <summary>Non standard (&quot;wicket&quot;) namespace causes incorrect relative URL in certain cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="chrisc">Chris Colman</reporter>
                        <labels>
                            <label>wicket</label>
                    </labels>
                <created>Tue, 10 Jan 2012 09:45:54 +0000</created>
                <updated>Sun, 21 Oct 2012 19:50:11 +0000</updated>
                            <resolved>Wed, 11 Jan 2012 13:01:46 +0000</resolved>
                                    <version>1.5.3</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>6.0.0-beta1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13183168" author="chrisc" created="Tue, 10 Jan 2012 09:46:43 +0000"  >&lt;p&gt;Quickstart - uses port 80, not 8080!&lt;/p&gt;</comment>
                            <comment id="13183169" author="chrisc" created="Tue, 10 Jan 2012 09:51:08 +0000"  >&lt;p&gt;The cause of the issue seems to be that the BPL tag is incorrectly having the RelativePathPrefixHandler invoked on it. With the non standard namespace Wicket confuses this BPL for a non wicket tag and so applies that filter which causes the damage to the href when it attempts to make an already relative link relative ... again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13183304" author="mgrigorov" created="Tue, 10 Jan 2012 14:57:35 +0000"  >&lt;p&gt;How this application even works ?&lt;br/&gt;
You don&apos;t specify anywhere that &apos;foobar&apos; is a replacement for &apos;wicket&apos; namespace. Or at least I don&apos;t see it.&lt;/p&gt;</comment>
                            <comment id="13183309" author="mgrigorov" created="Tue, 10 Jan 2012 15:03:16 +0000"  >&lt;p&gt;Otherwise the problem seems to be the check for &quot;wicket:id&quot; in org.apache.wicket.markup.parser.filter.RelativePathPrefixHandler#onComponentTag().&lt;br/&gt;
It doesn&apos;t honor changed namespaces for MarkupParser (I still don&apos;t see you doing this anyway).&lt;/p&gt;</comment>
                            <comment id="13183322" author="mgrigorov" created="Tue, 10 Jan 2012 15:17:04 +0000"  >&lt;p&gt;wicket:message wont work as well with changed namespace:&lt;/p&gt;

&lt;p&gt;/** TODO Post 1.2: General: Namespace should not be a constant */&lt;br/&gt;
	private final static String WICKET_MESSAGE_ATTRIBUTE_NAME = &quot;wicket:message&quot;;&lt;/p&gt;</comment>
                            <comment id="13183328" author="mgrigorov" created="Tue, 10 Jan 2012 15:21:24 +0000"  >&lt;p&gt;org.apache.wicket.markup.html.form.AutoLabelTextResolver.TextLabel#findLabelContent has:&lt;/p&gt;

&lt;p&gt;String text = formComponent.getDefaultLabel(&quot;wicket:unknown&quot;);&lt;br/&gt;
				if (!&quot;wicket:unknown&quot;.equals(text) &amp;amp;&amp;amp; !Strings.isEmpty(text))&lt;/p&gt;

&lt;p&gt;I&apos;m not sure wicket:unknown is even documented anywhere... :-/&lt;/p&gt;</comment>
                            <comment id="13183440" author="chrisc" created="Tue, 10 Jan 2012 18:20:22 +0000"  >&lt;p&gt;&amp;gt; You don&apos;t specify anywhere that &apos;foobar&apos; is a replacement for &apos;wicket&apos; namespace. Or at least I don&apos;t see it. &lt;/p&gt;

&lt;p&gt;It&apos;s specified in the html tag of each markup file. That was all that was required to change the namespace in 1.4.x. In fact in 1.4.x we even had some markup specified with &quot;wicket&quot; namespace and others specified with &quot;foobar&quot; namespace and it worked perfectly - even markup inheritance worked with markups in the hierarchy having &lt;b&gt;different&lt;/b&gt; namespaces.&lt;/p&gt;

&lt;p&gt;Are you saying that in 1.5.x we need to specify a namespace change in the java code somewhere?&lt;/p&gt;

&lt;p&gt;&amp;gt; General: Namespace should not be a constant&lt;/p&gt;

&lt;p&gt;I had a hunch that some hard coded &quot;wicket&quot; namespace references in 1.5.x might be related or the cause of the issue.&lt;/p&gt;</comment>
                            <comment id="13183963" author="mgrigorov" created="Wed, 11 Jan 2012 10:24:42 +0000"  >&lt;p&gt;AFAIK you need to configure the namespace with org.apache.wicket.markup.AbstractMarkupParser#setWicketNamespace().&lt;br/&gt;
I haven&apos;t had time to debug how now &amp;lt;foobar:panel&amp;gt; actually works.&lt;br/&gt;
But even with #setWicketNamespace(&quot;foobar&quot;) the problems in my previous comment will break your application.&lt;/p&gt;</comment>
                            <comment id="13183967" author="chrisc" created="Wed, 11 Jan 2012 10:28:56 +0000"  >&lt;p&gt;That must be a change since 1.4.x where we&apos;ve been using different namespaces that were specified purely at the markup level with no Java code to specify them.&lt;/p&gt;</comment>
                            <comment id="13184009" author="mgrigorov" created="Wed, 11 Jan 2012 12:06:19 +0000"  >&lt;p&gt;All is fine.&lt;br/&gt;
It appears that org.apache.wicket.markup.parser.filter.WicketNamespaceHandler is responsible to extract the namespace from &amp;lt;html xmlns:...&amp;gt; and set it for the MarkupResourceStream.&lt;br/&gt;
I&apos;ll fix the issues in the comments above.&lt;/p&gt;</comment>
                            <comment id="13184374" author="chrisc" created="Wed, 11 Jan 2012 20:44:35 +0000"  >&lt;p&gt;Thanks Martin! That works really well now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510025" name="nonStdNamespaceBug.zip" size="26097" author="chrisc" created="Tue, 10 Jan 2012 09:46:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00w3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3132</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>