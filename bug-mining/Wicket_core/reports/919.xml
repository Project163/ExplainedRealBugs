<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5309] No page id appended to some stateful pages using repeaters</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5309</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;My test case is a page containing a ListView with a single stateful child. In that case, there is no redirect done to append a pageId to the url because the page&apos;s statefulness check is erroneous.&lt;/p&gt;

&lt;p&gt;Analysis:&lt;br/&gt;
This calls page.isPageStateless() to dertermine whether a pageId should be added&lt;/p&gt;

&lt;p&gt;BookmarkableMapper(AbstractBookmarkableMapper).getPageInfo(IPageRequestHandler) line: 440&lt;br/&gt;
BookmarkableMapper(AbstractBookmarkableMapper).mapHandler(IRequestHandler) line: 387&lt;br/&gt;
SystemMapper(CompoundRequestMapper).mapHandler(IRequestHandler) line: 215&lt;br/&gt;
RequestCycle.mapUrlFor(IRequestHandler) line: 429&lt;br/&gt;
WebPageRenderer.respond(RequestCycle) line: 268&lt;br/&gt;
RenderPageRequestHandler.respond(IRequestCycle) line: 165&lt;br/&gt;
RequestCycle$HandlerExecutor.respond(IRequestHandler) line: 861&lt;br/&gt;
RequestCycle$HandlerExecutor(RequestHandlerStack).execute(IRequestHandler) line: 64&lt;br/&gt;
RequestCycle.execute(IRequestHandler) line: 261&lt;/p&gt;

&lt;p&gt;The problem I see is that AbstractRepeater&apos;s onPopulate() is called during onBeforeRender() and this is not done when the stateless status of the page is first checked. Therefore, no pageId is added unless other components not located inside repeaters are also stateful. &lt;/p&gt;

&lt;p&gt;See thread &lt;a href=&quot;http://wicket-users.markmail.org/thread/6q2dmns7lqjgkok7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wicket-users.markmail.org/thread/6q2dmns7lqjgkok7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will add a quickstart.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662487">WICKET-5309</key>
            <summary>No page id appended to some stateful pages using repeaters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="berniegp">Bertrand Guay-Paquet</reporter>
                        <labels>
                            <label>stateful</label>
                    </labels>
                <created>Wed, 7 Aug 2013 20:30:21 +0000</created>
                <updated>Thu, 8 Aug 2013 10:37:18 +0000</updated>
                            <resolved>Thu, 8 Aug 2013 10:37:18 +0000</resolved>
                                    <version>6.9.1</version>
                                    <fixVersion>6.10.0</fixVersion>
                    <fixVersion>7.0.0-M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13732699" author="berniegp" created="Wed, 7 Aug 2013 20:30:47 +0000"  >&lt;p&gt;According to Sven Meier, probably caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4995&quot; title=&quot;Using CryptoMapper causes page to render twice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4995&quot;&gt;&lt;del&gt;WICKET-4995&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13732726" author="berniegp" created="Wed, 7 Aug 2013 20:55:38 +0000"  >&lt;p&gt;Quickstart&lt;/p&gt;</comment>
                            <comment id="13733341" author="svenmeier" created="Thu, 8 Aug 2013 10:27:35 +0000"  >&lt;p&gt;page url &lt;b&gt;can&lt;/b&gt; change after render&lt;/p&gt;</comment>
                            <comment id="13733351" author="svenmeier" created="Thu, 8 Aug 2013 10:37:18 +0000"  >&lt;p&gt;The page url is now checked again after rendering (as before &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4995&quot; title=&quot;Using CryptoMapper causes page to render twice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4995&quot;&gt;&lt;del&gt;WICKET-4995&lt;/del&gt;&lt;/a&gt;). Note that the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4995&quot; title=&quot;Using CryptoMapper causes page to render twice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4995&quot;&gt;&lt;del&gt;WICKET-4995&lt;/del&gt;&lt;/a&gt; is still in place, i.e. the page is acquired first to prevent a stateful page to be rendered twice.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12628531">WICKET-4995</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12596702" name="WICKET-5309.zip" size="27911" author="berniegp" created="Wed, 7 Aug 2013 20:55:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n2db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>