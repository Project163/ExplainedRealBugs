<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:26:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6945] MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6945</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;MultipartFormComponentListener is tasked with updating the form &apos;enctype&apos; property in the browser when components&apos; visibility change.&lt;br/&gt;
This is required in some cases because a form could become url-encoded or multi-part, depending on the fields present.&lt;br/&gt;
The feature was introduced in response to &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6914&quot; title=&quot;Visibility change of &amp;quot;File Upload&amp;quot; via ajax causes &amp;quot;missing&amp;quot; form-data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6914&quot;&gt;&lt;del&gt;WICKET-6914&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A subsequent fix was made to the (enabled by default in all Wicket applications) listener to support hidden forms.&lt;br/&gt;
Trying to set the enctype property of invisible forms in the browser resulted in javascript errors.&lt;br/&gt;
The fix was submitted to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6921&quot; title=&quot;MultipartFormComponentListener breaks on hidden components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6921&quot;&gt;&lt;del&gt;WICKET-6921&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The form visibility problem still occurs in a specific scenario. When a form visibility is modified during the onConfigure phase,&lt;br/&gt;
the listener emits statements related to forms that have just been made invisible.&lt;br/&gt;
This happens because the code in the listener is hooked to the onBeforeRespond phase.&lt;/p&gt;

&lt;p&gt;Evaluating the forms visibility in onAfterRespond allows the listener to visit all visible children and allows visibility modification during the onConfigure phase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13423064">WICKET-6945</key>
            <summary>MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="mat128">Mathieu Mitchell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jan 2022 13:28:49 +0000</created>
                <updated>Tue, 18 Jan 2022 10:17:43 +0000</updated>
                            <resolved>Tue, 18 Jan 2022 10:16:37 +0000</resolved>
                                                    <fixVersion>10.0.0-M1</fixVersion>
                    <fixVersion>8.14.0</fixVersion>
                    <fixVersion>9.8.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17477216" author="githubbot" created="Mon, 17 Jan 2022 13:41:16 +0000"  >&lt;p&gt;mat128 opened a new pull request #492:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/492&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Currently, MultipartFormComponentListener evaluates form visibility&lt;br/&gt;
   before the configuration phase. This prevents code in onConfigure from&lt;br/&gt;
   modifying the visibility of forms.&lt;/p&gt;

&lt;p&gt;   This ensures the listener evaluates the visibility during&lt;br/&gt;
   onAfterRespond, which happens after the configuration phase.&lt;/p&gt;

&lt;p&gt;   The existing test case was modified to ensure modifications to the&lt;br/&gt;
   visibility during the onConfigure phase is properly evaluated.&lt;/p&gt;

&lt;p&gt;   Closes: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&amp;#8211; &lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;To unsubscribe, e-mail: commits-unsubscribe@wicket.apache.org&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17477725" author="githubbot" created="Tue, 18 Jan 2022 09:58:34 +0000"  >&lt;p&gt;martin-g merged pull request #492:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/492&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;&amp;#8211; &lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;To unsubscribe, e-mail: commits-unsubscribe@wicket.apache.org&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17477726" author="jira-bot" created="Tue, 18 Jan 2022 10:00:51 +0000"  >&lt;p&gt;Commit 54a9c8a2162b3c06f9cdae152f79411b74c5ca87 in wicket&apos;s branch refs/heads/master from Mathieu Mitchell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=54a9c8a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=54a9c8a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt; Allow onConfigure to hide forms (#492)&lt;/p&gt;

&lt;p&gt;Currently, MultipartFormComponentListener evaluates form visibility&lt;br/&gt;
before the configuration phase. This prevents code in onConfigure from&lt;br/&gt;
modifying the visibility of forms.&lt;/p&gt;

&lt;p&gt;This ensures the listener evaluates the visibility during&lt;br/&gt;
onAfterRespond, which happens after the configuration phase.&lt;/p&gt;

&lt;p&gt;The existing test case was modified to ensure modifications to the&lt;br/&gt;
visibility during the onConfigure phase is properly evaluated.&lt;/p&gt;

&lt;p&gt;Closes: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17477727" author="jira-bot" created="Tue, 18 Jan 2022 10:00:54 +0000"  >&lt;p&gt;Commit 0d5487b4d7b28c4c105be1a8ff0f1db4533d1150 in wicket&apos;s branch refs/heads/wicket-9.x from Mathieu Mitchell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0d5487b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=0d5487b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt; Allow onConfigure to hide forms (#492)&lt;/p&gt;

&lt;p&gt;Currently, MultipartFormComponentListener evaluates form visibility&lt;br/&gt;
before the configuration phase. This prevents code in onConfigure from&lt;br/&gt;
modifying the visibility of forms.&lt;/p&gt;

&lt;p&gt;This ensures the listener evaluates the visibility during&lt;br/&gt;
onAfterRespond, which happens after the configuration phase.&lt;/p&gt;

&lt;p&gt;The existing test case was modified to ensure modifications to the&lt;br/&gt;
visibility during the onConfigure phase is properly evaluated.&lt;/p&gt;

&lt;p&gt;Closes: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(cherry picked from commit 54a9c8a2162b3c06f9cdae152f79411b74c5ca87)&lt;/p&gt;</comment>
                            <comment id="17477736" author="githubbot" created="Tue, 18 Jan 2022 10:16:26 +0000"  >&lt;p&gt;martin-g commented on pull request #492:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/492#issuecomment-1015264296&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/492#issuecomment-1015264296&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thank you, @mat128 !&lt;/p&gt;


&lt;p&gt;&amp;#8211; &lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;To unsubscribe, e-mail: commits-unsubscribe@wicket.apache.org&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17477737" author="jira-bot" created="Tue, 18 Jan 2022 10:17:43 +0000"  >&lt;p&gt;Commit b709568b14502e914df739d46b382d17f881fb3c in wicket&apos;s branch refs/heads/wicket-8.x from Mathieu Mitchell&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b709568&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b709568&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt; Allow onConfigure to hide forms (#492)&lt;/p&gt;

&lt;p&gt;Currently, MultipartFormComponentListener evaluates form visibility&lt;br/&gt;
before the configuration phase. This prevents code in onConfigure from&lt;br/&gt;
modifying the visibility of forms.&lt;/p&gt;

&lt;p&gt;This ensures the listener evaluates the visibility during&lt;br/&gt;
onAfterRespond, which happens after the configuration phase.&lt;/p&gt;

&lt;p&gt;The existing test case was modified to ensure modifications to the&lt;br/&gt;
visibility during the onConfigure phase is properly evaluated.&lt;/p&gt;

&lt;p&gt;Closes: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6945&quot; title=&quot;MultipartFormComponentListener modifies enctype on invisible forms, leading to javascript errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6945&quot;&gt;&lt;del&gt;WICKET-6945&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(cherry picked from commit 54a9c8a2162b3c06f9cdae152f79411b74c5ca87)&lt;br/&gt;
Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ynjk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>