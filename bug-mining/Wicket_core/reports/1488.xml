<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6651] Redirecting with ResetResponseException does not work anymore</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6651</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;After upgrading from 8.3.0 to 8.4.0 redirecting with &lt;tt&gt;ResetResponseException&lt;/tt&gt; does not work anymore.&lt;/p&gt;

&lt;p&gt;I&apos;m using the following exception&#160;to redirect on some of my pages:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RestartResponseWithStatusCodeException &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ResetResponseException {
   
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RestartResponseWithStatusCodeException(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; url, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; statusCode) {
      &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RedirectRequestHandler(url, statusCode));
   }

}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is most definitely caused by&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6638&quot; title=&quot;RedirectRequestHandler does not support Ajax&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6638&quot;&gt;&lt;del&gt;WICKET-6638&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I don&apos;t have time to prepare a quickstart right now, but maybe someone knows what&apos;s going on? We discovered the issue on our stateless public pages, so it might also be related to statelessness.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13226663">WICKET-6651</key>
            <summary>Redirecting with ResetResponseException does not work anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="thomas.heigl">Thomas Heigl</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Apr 2019 10:09:46 +0000</created>
                <updated>Tue, 9 Apr 2019 20:10:35 +0000</updated>
                            <resolved>Tue, 9 Apr 2019 20:10:20 +0000</resolved>
                                    <version>8.4.0</version>
                                    <fixVersion>9.0.0-M1</fixVersion>
                    <fixVersion>8.5.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16812307" author="mgrigorov" created="Mon, 8 Apr 2019 10:15:51 +0000"  >&lt;p&gt;What do you mean exactly with &quot;does not work anymore&quot; ?&lt;br/&gt;
How it behaves now ? What was the old behavior that does not happen anymore ?&lt;/p&gt;</comment>
                            <comment id="16812336" author="thomas.heigl" created="Mon, 8 Apr 2019 10:52:54 +0000"  >&lt;p&gt;Sorry for the very imprecise ticket description. I was in a hurry before.&lt;/p&gt;

&lt;p&gt;Wicket now returns an &lt;tt&gt;Ajax-Location&lt;/tt&gt; header but&#160;no client-side redirect happens.&lt;/p&gt;

&lt;p&gt;8.3.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Redirect Response
301
Location: /verify-mail&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;8.4.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Response 
301 
Ajax-Location: /verify-mail&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looking at the code in &lt;tt&gt;RedirectRequestHandler&lt;/tt&gt; this probably affects only the &lt;tt&gt;SC_MOVED_PERMANENTLY&lt;/tt&gt;&#160;and &lt;tt&gt;SC_SEE_OTHER&#160;&lt;/tt&gt; status codes. I can probably switch to &lt;tt&gt;SC_MOVED_TEMPORARILY&lt;/tt&gt; to work around this issue for now.&lt;/p&gt;</comment>
                            <comment id="16812337" author="thomas.heigl" created="Mon, 8 Apr 2019 10:57:58 +0000"  >&lt;p&gt;I&apos;ll try to create a quickstart for this in the next days.&lt;/p&gt;</comment>
                            <comment id="16812458" author="thomas.heigl" created="Mon, 8 Apr 2019 14:12:51 +0000"  >&lt;p&gt;Ok this was much easier to reproduce than I thought. Start the attached quickstart (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12965203/12965203_ajax-redirect.zip&quot; title=&quot;ajax-redirect.zip attached to WICKET-6651&quot;&gt;ajax-redirect.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) and open it via &lt;a href=&quot;https://localhost:8443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8443&lt;/a&gt;, then click on &quot;Redirect Me&quot;.&lt;/p&gt;

&lt;p&gt;The response has the following headers:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HTTP/1.1 301 Moved Permanently
Date: Mon, 08 Apr 2019 14:07:05 GMT
Transfer-Encoding: Identity
Server: Jetty(9.4.15.v20190215)
Ajax-Location: https:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8443/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Wicket logs the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Wicket.Ajax:  &#8211; &lt;span class=&quot;code-quote&quot;&gt;&quot;Wicket.Ajax.Call.failure: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; parsing response: Moved Permanently&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same code works on 8.3.0.&lt;/p&gt;</comment>
                            <comment id="16813763" author="jira-bot" created="Tue, 9 Apr 2019 19:58:32 +0000"  >&lt;p&gt;Commit 98643143c94da76af78df619f0282e49fb313816 in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9864314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9864314&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6651&quot; title=&quot;Redirecting with ResetResponseException does not work anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6651&quot;&gt;&lt;del&gt;WICKET-6651&lt;/del&gt;&lt;/a&gt; Redirecting with ResetResponseException does not work anymore&lt;/p&gt;

&lt;p&gt;Handle 301 response status in jQuery#error() handler&lt;/p&gt;</comment>
                            <comment id="16813768" author="jira-bot" created="Tue, 9 Apr 2019 20:08:11 +0000"  >&lt;p&gt;Commit 4441ddf3f8c6f957937011bd2a43fbc8f53353f7 in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4441ddf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4441ddf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6651&quot; title=&quot;Redirecting with ResetResponseException does not work anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6651&quot;&gt;&lt;del&gt;WICKET-6651&lt;/del&gt;&lt;/a&gt; Redirecting with ResetResponseException does not work anymore&lt;/p&gt;

&lt;p&gt;Do not use ES6 syntax in JS tests (yet)&lt;/p&gt;</comment>
                            <comment id="16813772" author="mgrigorov" created="Tue, 9 Apr 2019 20:10:20 +0000"  >&lt;p&gt;Added support to handle Ajax response with status 301, which jQuery treats as an error.&lt;/p&gt;</comment>
                            <comment id="16813773" author="jira-bot" created="Tue, 9 Apr 2019 20:10:34 +0000"  >&lt;p&gt;Commit 13461607f0e6745adf99ff0b8f400348aecb9883 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=1346160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=1346160&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6651&quot; title=&quot;Redirecting with ResetResponseException does not work anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6651&quot;&gt;&lt;del&gt;WICKET-6651&lt;/del&gt;&lt;/a&gt; Redirecting with ResetResponseException does not work anymore&lt;/p&gt;

&lt;p&gt;Handle 301 response status in jQuery#error() handler&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 98643143c94da76af78df619f0282e49fb313816)&lt;/p&gt;</comment>
                            <comment id="16813774" author="jira-bot" created="Tue, 9 Apr 2019 20:10:35 +0000"  >&lt;p&gt;Commit cb59bc87d4ed930f83574e9cd0a4d866fc08d611 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=cb59bc8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=cb59bc8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6651&quot; title=&quot;Redirecting with ResetResponseException does not work anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6651&quot;&gt;&lt;del&gt;WICKET-6651&lt;/del&gt;&lt;/a&gt; Redirecting with ResetResponseException does not work anymore&lt;/p&gt;

&lt;p&gt;Do not use ES6 syntax in JS tests (yet)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4441ddf3f8c6f957937011bd2a43fbc8f53353f7)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13218430">WICKET-6638</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12965203" name="ajax-redirect.zip" size="33812" author="thomas.heigl" created="Mon, 8 Apr 2019 14:10:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01juo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>