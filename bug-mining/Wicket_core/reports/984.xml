<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4697] Autolinking not working as soon as component gets a wicket:id</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4697</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;While migrating from 1.4.X, we encounter a lot of pages having an image with a relative URL set in the HTML, for example &amp;lt;img src=&quot;img/logo.gif&quot;/&amp;gt;.&lt;br/&gt;
Now on some pages, those images need to be references, mainly to alter the visibility logic or add an attribute modifier of some kind. Now as soon as we do&lt;br/&gt;
&amp;lt;img wicket:id=&quot;logo&quot; src=&quot;img/logo.gif&quot;/&amp;gt;&lt;br/&gt;
and add it using  add(new WebMarkupContainer(&quot;logo&quot;)) , autolinking does not work anymore and the src is left as-is.&lt;br/&gt;
Moving all sources to the java files and use ContextImage etc is no real option as this would be a &lt;b&gt;lot&lt;/b&gt; of work and wouldn&apos;t make the html readable anymore as it would become hard to find all references to the images and also isn&apos;t logical to have the URL in the java files even though it&apos;s static and doesn&apos;t change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601506">WICKET-4697</key>
            <summary>Autolinking not working as soon as component gets a wicket:id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="tapter">Matthias Keller</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Aug 2012 18:45:41 +0000</created>
                <updated>Thu, 16 Jan 2014 14:32:35 +0000</updated>
                            <resolved>Thu, 16 Jan 2014 14:32:35 +0000</resolved>
                                    <version>1.5.7</version>
                                    <fixVersion>6.14.0</fixVersion>
                    <fixVersion>7.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13429046" author="mgrigorov" created="Mon, 6 Aug 2012 09:35:05 +0000"  >&lt;p&gt;Did this work in 1.4.x ?&lt;br/&gt;
Autolinking works by creating an auto component. Using wicket:id makes it an explicit (non-auto) component and your component is responsible for managing the element attributes and body.&lt;/p&gt;

&lt;p&gt;Can you please create a quickstart for 1.4.x that shows that it worked ?&lt;/p&gt;</comment>
                            <comment id="13429050" author="cmenzel" created="Mon, 6 Aug 2012 09:45:42 +0000"  >&lt;p&gt;I can&apos;t imagine this worked in 1.4. However, I think this would be a nice feature specifically for &amp;lt;img&amp;gt; tags. No generic autolinking, but the Image component could recognize the src tag and automatically use a PackageResourceReference if the file exists.&lt;/p&gt;</comment>
                            <comment id="13429054" author="mgrigorov" created="Mon, 6 Aug 2012 10:02:05 +0000"  >&lt;p&gt;Carl-Eric: the description says it is attached to a WebMarkupContainer, not to an Image.&lt;/p&gt;</comment>
                            <comment id="13429057" author="cmenzel" created="Mon, 6 Aug 2012 10:07:09 +0000"  >&lt;p&gt;Yes, but I don&apos;t think it would make sense for a WebMarkupContainer to start autolinking based on its attributes. Since you can&apos;t add any children to an &amp;lt;img&amp;gt; tag anyway I think it would make perfect sense to use Image instead of WMC here. And then Image could be improved to handle the src attribute.&lt;/p&gt;</comment>
                            <comment id="13429064" author="tapter" created="Mon, 6 Aug 2012 10:33:32 +0000"  >&lt;p&gt;Yes, this was working in 1.4 and from a user&apos;s point of view I don&apos;t see why it should stop working just because I need a reference to that component...&lt;br/&gt;
Will see if I find the time to create a quickstart for you in the next days.&lt;br/&gt;
Meanwhile, is there any other possibility other than using ContextImage with the URL being in the java code? Can I mark the WebmarkupContainer somehow as an auto-component? I really would prefer having the src in the HTML as for all other images too...&lt;/p&gt;</comment>
                            <comment id="13429136" author="cmenzel" created="Mon, 6 Aug 2012 13:24:37 +0000"  >&lt;p&gt;ContextImage won&apos;t help you a lot here since that expects the src attribute to be relative to the webapp root, so you&apos;d have to change everything. What you need for now is new Image(&quot;id&quot;, new PackageResourceReference(YourPage.class, &quot;relative/path.gif&quot;)).&lt;/p&gt;

&lt;p&gt;My proposal was that we could possibly automate the creation of the PackageResourceReference.&lt;/p&gt;</comment>
                            <comment id="13429138" author="mgrigorov" created="Mon, 6 Aug 2012 13:29:33 +0000"  >&lt;p&gt;It is quite simple to create your own PackageImage that extends from image and uses getMarkupAttributes() to read the value of &apos;src&apos; and set the resource.&lt;/p&gt;</comment>
                            <comment id="13429140" author="tapter" created="Mon, 6 Aug 2012 13:33:26 +0000"  >&lt;p&gt;Nope, I dont use PackageResources, in fact I really need context-relative image URLs. All our images are placed in &quot;img/...&quot; in the context root, so it would be ContextImage then....&lt;/p&gt;</comment>
                            <comment id="13429163" author="cmenzel" created="Mon, 6 Aug 2012 14:32:26 +0000"  >&lt;p&gt;@Matthias: Autolinking always works relative to the component you are in. How did you get context-relative URLs like that?&lt;/p&gt;

&lt;p&gt;@Martin: That&apos;s true. Simple enough, I think, that we could provide one. I may do that later.&lt;/p&gt;</comment>
                            <comment id="13429179" author="tapter" created="Mon, 6 Aug 2012 15:04:09 +0000"  >&lt;p&gt;Autolinking also works context-relative, at least this is what we&apos;re doing a hundred times by just using  &amp;lt;img src=&quot;img/blah.jpg&quot;/&amp;gt;  anywhere while wicket rewrites it (correctly) to context relative URLs like &amp;lt;img src=&quot;../../img/blah.jpg&quot;/&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13429357" author="mgrigorov" created="Mon, 6 Aug 2012 19:11:28 +0000"  >&lt;p&gt;Please provide a quickstart. It seems we use different terminology and I&apos;d like to avoid spending time on a different problem.&lt;/p&gt;</comment>
                            <comment id="13432935" author="tapter" created="Mon, 13 Aug 2012 05:51:16 +0000"  >&lt;p&gt;Here&apos;s an identical quickstart for both wicket 1.4 (where it works as expected) and for wicket 1.5 where it doesn&apos;t; illustrating my problem with resources relative to the &lt;b&gt;context root&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="13444283" author="bitstorm" created="Wed, 29 Aug 2012 18:15:39 +0000"  >&lt;p&gt;I&apos;ve tried the 2 quickstarts and I  didn&apos;t see any difference betwenn Wicket 1.4 and 1.5. They both leave unchanged the src attribute of the component. The problem seems to be related to the different URL generated by the two version of Wicket. Version 1.5 add a segment for the namespace (which is &apos;wicket&apos; by default) while the URL of version 1.4 points directly to the application&apos;s root. &lt;br/&gt;
I&apos;ve tried to run the example for 1.4 mounting the test page on a path with more than two segment (&apos;foo/bar&apos;) and the problem is same as with Wicket 1.5&lt;/p&gt;</comment>
                            <comment id="13873412" author="mgrigorov" created="Thu, 16 Jan 2014 14:03:38 +0000"  >&lt;p&gt;The commit that caused the change in the behavior is:&lt;/p&gt;

&lt;p&gt;commit 90fdfd0dedf47d2b57c122e9587053e930382221&lt;br/&gt;
Author: Juegen Donnerstag &amp;lt;jdonnerstag@apache.org&amp;gt;&lt;br/&gt;
Date:   Wed Aug 8 12:41:50 2007 +0000&lt;/p&gt;

&lt;p&gt;    Until now we identified internally created wicket id&apos;s by a leading &quot;_&quot;, e.g. _header. Since this convention is a little bit dangerous, I have extended ComponentTag to maintain an &lt;/p&gt;

&lt;p&gt;    git-svn-id: &lt;a href=&quot;https://svn.apache.org/repos/asf/wicket/trunk@563840&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/wicket/trunk@563840&lt;/a&gt; 13f79535-47bb-0310-9956-ffa450edef68&lt;/p&gt;</comment>
                            <comment id="13873435" author="mgrigorov" created="Thu, 16 Jan 2014 14:32:35 +0000"  >&lt;p&gt;Added a new constructor to ContextImage that has a single parameter - the component id.&lt;br/&gt;
The url for the &apos;src&apos; attribute is read from the markup and relativized to the context root.&lt;br/&gt;
So instead of using WebMarkupContainer you should use ContextImage(&quot;someId&quot;).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12540611" name="WICKET-4697.zip" size="42469" author="tapter" created="Mon, 13 Aug 2012 05:51:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00wnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>