<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:22:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5164] PageStoreManager.SessionEntry keeps outdated sessionId when container changes sessionId</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5164</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;PageStoreManager keeps the initial sessionId for each SessionEntry.&lt;br/&gt;
If the container changes the sessionId later (e.g. Tomcat&apos;s &quot;Session Fixation Protection&quot;), all pages continue to be stored under the the initial sessionId. This is necessary to be able to access old pages even after a change to the sessionId.&lt;/p&gt;

&lt;p&gt;However PageStoreManager#sessionExpired(String) passes the &lt;b&gt;current&lt;/b&gt; sessionId to the PageStore. If it is not longer equal the original sessionId, the PageStore will fail to remove the stored pages for the session. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12645382">WICKET-5164</key>
            <summary>PageStoreManager.SessionEntry keeps outdated sessionId when container changes sessionId</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="svenmeier">Sven Meier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2013 07:25:17 +0000</created>
                <updated>Thu, 28 Aug 2014 11:16:03 +0000</updated>
                            <resolved>Thu, 11 Jul 2013 12:11:25 +0000</resolved>
                                    <version>6.7.0</version>
                    <version>7.0.0-M1</version>
                                    <fixVersion>6.10.0</fixVersion>
                    <fixVersion>7.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13703170" author="svenmeier" created="Tue, 9 Jul 2013 11:14:59 +0000"  >&lt;p&gt;PageStoreManger.SessionEntry now implements HttpSessionBindingListener to pass the correct identifier to the PageStore.&lt;/p&gt;

&lt;p&gt;This breaks somewhat the abstraction of IPageManagerContext &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. But I didn&apos;t find another solution to access the initial sessionId which is used for all access to PageStore.&lt;/p&gt;</comment>
                            <comment id="13705734" author="mgrigorov" created="Thu, 11 Jul 2013 11:52:31 +0000"  >&lt;p&gt;I just got:&lt;/p&gt;

&lt;p&gt;2013-07-11 14:48:54.278:WARN:oejuc.AbstractLifeCycle:Thread-2: FAILED org.eclipse.jetty.maven.plugin.JettyServer@16bd02f6: java.lang.NullPointerException&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.wicket.page.PageStoreManager$SessionEntry.valueUnbound(PageStoreManager.java:303)&lt;br/&gt;
	at org.eclipse.jetty.server.session.AbstractSession.unbindValue(AbstractSession.java:581)&lt;br/&gt;
	at org.eclipse.jetty.server.session.AbstractSession.clearAttributes(AbstractSession.java:413)&lt;br/&gt;
	at org.eclipse.jetty.server.session.AbstractSession.doInvalidate(AbstractSession.java:380)&lt;br/&gt;
	at org.eclipse.jetty.server.session.HashedSession.doInvalidate(HashedSession.java:90)&lt;br/&gt;
	at org.eclipse.jetty.server.session.AbstractSession.invalidate(AbstractSession.java:370)&lt;br/&gt;
	at org.eclipse.jetty.server.session.HashSessionManager.invalidateSessions(HashSessionManager.java:411)&lt;br/&gt;
	at org.eclipse.jetty.server.session.AbstractSessionManager.doStop(AbstractSessionManager.java:274)&lt;br/&gt;
	at org.eclipse.jetty.server.session.HashSessionManager.doStop(HashSessionManager.java:139)&lt;/p&gt;

&lt;p&gt;while stopping Jetty9.&lt;/p&gt;

&lt;p&gt;org.apache.wicket.page.PageStoreManager.SessionEntry#getPageStore() returns null.&lt;/p&gt;</comment>
                            <comment id="13705743" author="svenmeier" created="Thu, 11 Jul 2013 12:10:08 +0000"  >&lt;p&gt;It seems Jetty9 destroys the filter/application before unbinding the session values, strange.&lt;/p&gt;</comment>
                            <comment id="13705744" author="svenmeier" created="Thu, 11 Jul 2013 12:11:25 +0000"  >&lt;p&gt;now checks whether pageStore is destroyed already&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12637364">WICKET-5103</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12737358">WICKET-5688</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k75b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>