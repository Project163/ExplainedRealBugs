<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6689] ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6689</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;So ClientProperties.getTimeZone() got UTC offset 11 and DST offset 10 (Australia Sydney), and it picked the wrong one (UTC +11). The issue is the way it&apos;s calculating the UTC-DST difference and looking up in the available time zone IDs.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
					&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dstTimeZone != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp;
						dstTimeZone.getRawOffset() != timeZone.getRawOffset())
					{
						&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; dstSaving = dstTimeZone.getRawOffset() - timeZone.getRawOffset();
						&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] availableIDs = TimeZone.getAvailableIDs(timeZone.getRawOffset());
						&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; availableID : availableIDs)
						{
							TimeZone zone = TimeZone.getTimeZone(availableID);
							&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (zone.getDSTSavings() == dstSaving)
							{
								&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a best guess... still the start and end of the DST should
&lt;/span&gt;								&lt;span class=&quot;code-comment&quot;&gt;// be needed to know to be completely correct, or better yet
&lt;/span&gt;								&lt;span class=&quot;code-comment&quot;&gt;// not just the GMT offset but the TimeZone ID should be transfered
&lt;/span&gt;								&lt;span class=&quot;code-comment&quot;&gt;// from the browser.
&lt;/span&gt;								timeZone = zone;
								&lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
							}
						}
					}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If &lt;em&gt;dstTimeZone.getRawOffset() &amp;lt; timeZone.getRawOffset()&lt;/em&gt; then &lt;em&gt;dstSaving&lt;/em&gt; is negative and it would never find any zone in the &lt;em&gt;availableIDs&lt;/em&gt;.&lt;/p&gt;


&lt;p&gt; I&apos;m sending a PR for this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13245637">WICKET-6689</key>
            <summary>ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="m4ns0ur">Mansour Rahimi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2019 23:53:27 +0000</created>
                <updated>Tue, 23 Jul 2019 11:04:39 +0000</updated>
                            <resolved>Mon, 22 Jul 2019 13:13:42 +0000</resolved>
                                    <version>9.0.0-M2</version>
                                    <fixVersion>8.6.1</fixVersion>
                    <fixVersion>7.15.0</fixVersion>
                    <fixVersion>9.0.0-M3</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16890149" author="jira-bot" created="Mon, 22 Jul 2019 13:12:20 +0000"  >&lt;p&gt;Commit 4851d3fda62ec84e636528bb75564b1d5c338532 in wicket&apos;s branch refs/heads/master from Mansour Rahimi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4851d3f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4851d3f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6689&quot; title=&quot;ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6689&quot;&gt;&lt;del&gt;WICKET-6689&lt;/del&gt;&lt;/a&gt; fix ClientProperties.getTimezone() UTC-DST differenc&#8230; (#377)&lt;/p&gt;

&lt;p&gt;calculation.&lt;/p&gt;</comment>
                            <comment id="16890150" author="jira-bot" created="Mon, 22 Jul 2019 13:13:17 +0000"  >&lt;p&gt;Commit 588f5d3a57d3d2d9de7a33b53f8f6fbc75dc0c62 in wicket&apos;s branch refs/heads/wicket-7.x from Mansour Rahimi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=588f5d3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=588f5d3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6689&quot; title=&quot;ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6689&quot;&gt;&lt;del&gt;WICKET-6689&lt;/del&gt;&lt;/a&gt; fix ClientProperties.getTimezone() UTC-DST differenc&#8230; (#377)&lt;/p&gt;

&lt;p&gt;calculation.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4851d3fda62ec84e636528bb75564b1d5c338532)&lt;/p&gt;</comment>
                            <comment id="16890151" author="jira-bot" created="Mon, 22 Jul 2019 13:13:24 +0000"  >&lt;p&gt;Commit eb21db2f7a0f7fb50431dc00d17bb219fba072ed in wicket&apos;s branch refs/heads/wicket-8.x from Mansour Rahimi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=eb21db2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=eb21db2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6689&quot; title=&quot;ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6689&quot;&gt;&lt;del&gt;WICKET-6689&lt;/del&gt;&lt;/a&gt; fix ClientProperties.getTimezone() UTC-DST differenc&#8230; (#377)&lt;/p&gt;

&lt;p&gt;calculation.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4851d3fda62ec84e636528bb75564b1d5c338532)&lt;/p&gt;</comment>
                            <comment id="16890152" author="mgrigorov" created="Mon, 22 Jul 2019 13:13:52 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="16890892" author="jira-bot" created="Tue, 23 Jul 2019 11:04:11 +0000"  >&lt;p&gt;Commit 3d89b2f31e83471beed30ccb6b067ec375105419 in wicket&apos;s branch refs/heads/wicket-7.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=3d89b2f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=3d89b2f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6689&quot; title=&quot;ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6689&quot;&gt;&lt;del&gt;WICKET-6689&lt;/del&gt;&lt;/a&gt; Make test method public (JUnit 4.x)&lt;/p&gt;</comment>
                            <comment id="16890893" author="jira-bot" created="Tue, 23 Jul 2019 11:04:39 +0000"  >&lt;p&gt;Commit d60bbc48a84730564b6a4484ca04bff54c51b810 in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d60bbc4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d60bbc4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6689&quot; title=&quot;ClientProperties.getTimeZone() has some issue when DST and UTC offsets are different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6689&quot;&gt;&lt;del&gt;WICKET-6689&lt;/del&gt;&lt;/a&gt; Make test method public (JUnit 4.x)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 3d89b2f31e83471beed30ccb6b067ec375105419)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z04s1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>