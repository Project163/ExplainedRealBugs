<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5816] Apps can&apos;t use Application.setName instead of WicketFilter for e.g. JMX names</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5816</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I have an application which gets deployed multiple times into a Tomcat under different folder names, by only changing the absolute minimum configuration needed per application. Especially the web.xml is generic and doesn&apos;t change normally, which leads to each instance in Tomcat has the same application name, corresponding to the filter name for the Wicket filter used in web.xml.&lt;/p&gt;

&lt;p&gt;This becomes a problem if one wants to use wicket-jmx, because &quot;org.apache.wicket.jmx.Initializer.init&quot; exposes a gerneric &quot;org.apache.wicket.app.&lt;span class=&quot;error&quot;&gt;&amp;#91;name&amp;#93;&lt;/span&gt;&quot; in such and environment and the JMX console provided with at least Java 7 doesn&apos;t show each node exposed for all the hosted applications, but only one of them. This makes one unable to distinguish to which application the exposed host ultimately belongs. If I change the names of the Wicket filter in web.xml to something unique instead, the JMX console shows all exposed applications under their unique name.&lt;/p&gt;

&lt;p&gt;So I thought of setting a unique name using Application.setName automatically by creating a ServletContextListener, which will statically set some created name using the deployment folder name, which afterwards can be used in the ctor of my derivation of Application. The problem with this approach is, that currently WicketFilter always issues a call to Application.setName as well and that will error out if I already set the name before.&lt;/p&gt;

&lt;p&gt;While I do understand that may approach may be a somewhat hacky workaround for my deployment scenario, from my understanding of how WicketFilter behaves it shouldn&apos;t harm to let applications set their own name for whatever reason. Currently it&apos;s not just possible because WicketFilter wants to do it as well.&lt;/p&gt;

&lt;p&gt;What I propose is that WicketFilter first checks using Application.getName if a name has already been set druing application construction and in that case doesn&apos;t try to set it on it&apos;s own. This way applications could set it on their own depending on different criteria and the current behaviour of only setting it once, with WicketFilter as fallback, would be preserved.&lt;/p&gt;

&lt;p&gt;The relevant code in WicketFilter is the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isServlet, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FilterConfig filterConfig)
[...]
	&lt;span class=&quot;code-comment&quot;&gt;// locate application instance unless it was already specified during construction
&lt;/span&gt;	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (application == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
	{
			applicationFactory = getApplicationFactory();
			application = applicationFactory.createApplication(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
	}

	application.setName(filterConfig.getFilterName());
	application.setWicketFilter(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This has been discussed on the users list as well:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/wicket-users/201501.mbox/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/wicket-users/201501.mbox/&lt;/a&gt;&amp;lt;121497384.20150120190546@am-soft.de&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768977">WICKET-5816</key>
            <summary>Apps can&apos;t use Application.setName instead of WicketFilter for e.g. JMX names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="tschoening">Thorsten Sch&#246;ning</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jan 2015 14:11:27 +0000</created>
                <updated>Wed, 20 Apr 2016 21:24:49 +0000</updated>
                            <resolved>Fri, 27 Mar 2015 21:27:41 +0000</resolved>
                                    <version>6.18.0</version>
                                    <fixVersion>6.20.0</fixVersion>
                    <fixVersion>7.0.0-M6</fixVersion>
                                    <component>wicket</component>
                    <component>wicket-jmx</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14384710" author="jira-bot" created="Fri, 27 Mar 2015 21:27:21 +0000"  >&lt;p&gt;Commit 792a0a4138aad61dfe63c8bace96648878767003 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=792a0a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=792a0a4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5816&quot; title=&quot;Apps can&amp;#39;t use Application.setName instead of WicketFilter for e.g. JMX names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5816&quot;&gt;&lt;del&gt;WICKET-5816&lt;/del&gt;&lt;/a&gt; Apps can&apos;t use Application.setName instead of WicketFilter for e.g. JMX names&lt;/p&gt;</comment>
                            <comment id="14384711" author="jira-bot" created="Fri, 27 Mar 2015 21:27:35 +0000"  >&lt;p&gt;Commit 2de1284a589f7862133bb2c2166bf8563268d252 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2de1284&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2de1284&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5816&quot; title=&quot;Apps can&amp;#39;t use Application.setName instead of WicketFilter for e.g. JMX names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5816&quot;&gt;&lt;del&gt;WICKET-5816&lt;/del&gt;&lt;/a&gt; Apps can&apos;t use Application.setName instead of WicketFilter for e.g. JMX names&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 792a0a4138aad61dfe63c8bace96648878767003)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12923755">WICKET-6053</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24m3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>