<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3769] WicketSessionFilter and HttpSessionStore use different attribute name for Wicket Session</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3769</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;from this topic &lt;br/&gt;
&lt;a href=&quot;http://apache-wicket.1842946.n4.nabble.com/WicketSessionFilter-and-ignorePaths-in-WicketFilter-td3570291.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-wicket.1842946.n4.nabble.com/WicketSessionFilter-and-ignorePaths-in-WicketFilter-td3570291.html&lt;/a&gt;&lt;br/&gt;
Please, look at the second post (the ignorePaths param is not linked with this issue as the title suggests).&lt;/p&gt;

&lt;p&gt;How to reproduce with the quickstart:&lt;br/&gt;
1. open localhost:8080 - a wicket test page is displayed.&lt;br/&gt;
2. open localhost:8080/external - this is the external servlet that tries to access the wicket session. An exception is thrown.&lt;/p&gt;</description>
                <environment>N/A</environment>
        <key id="12509176">WICKET-3769</key>
            <summary>WicketSessionFilter and HttpSessionStore use different attribute name for Wicket Session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="hok">Ivan Vasilev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 12:28:46 +0000</created>
                <updated>Mon, 6 Feb 2012 07:23:18 +0000</updated>
                            <resolved>Fri, 3 Jun 2011 15:17:51 +0000</resolved>
                                    <version>1.5-RC4</version>
                                    <fixVersion>1.5-RC5</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13043358" author="mgrigorov" created="Fri, 3 Jun 2011 13:49:46 +0000"  >&lt;p&gt;Your investigation in the mailing thread is wrong. The session is successfully retrieved but it fails later when you call session.getId() which tries to get the current http servlet request thru RequestCycle.get().getRequest().getContainerRequest() and fails because there is no RequestCycle in the current thread.&lt;/p&gt;

&lt;p&gt;I.e. you can use Session and Application to set/get attributes/services/etc. but any usage of RequestCycle will fail.&lt;/p&gt;

&lt;p&gt;Here is the stacktrace of your application:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.wicket.Session.getId(Session.java:375)&lt;br/&gt;
	at org.apache.wicket.ExternalServlet.doGet(ExternalServlet.java:26)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;It is clear that the session object is not null.&lt;/p&gt;

&lt;p&gt;I fixed the NPE here but who knows how many other places can fail with something like this.&lt;/p&gt;</comment>
                            <comment id="13043366" author="hok" created="Fri, 3 Jun 2011 14:22:37 +0000"  >&lt;p&gt;Martin,&lt;br/&gt;
thanks for the fast fix. After I tested the quickstart that I attached, the exception really is NPE. However I have uncommented the ignorePaths parameter from web.xml (it is in the attached quickstart2). In this case the following exception is thrown when Session.get() is called:&lt;/p&gt;

&lt;p&gt;DEBUG - WicketSessionFilter        - could not set Wicket session: key null not found in http session for ,localhost, or http session does not exist&lt;br/&gt;
DEBUG - log                        - call servlet EXTERNAL_SERVLET&lt;br/&gt;
WARN  - log                        - /external&lt;br/&gt;
java.lang.IllegalArgumentException: Argument &apos;requestCycle&apos; may not be null.&lt;br/&gt;
	at org.apache.wicket.util.lang.Args.notNull(Args.java:39)&lt;br/&gt;
	at org.apache.wicket.Application.fetchCreateAndSetSession(Application.java:1487)&lt;br/&gt;
	at org.apache.wicket.Session.get(Session.java:159)&lt;br/&gt;
	at org.apache.wicket.ExternalServlet.doGet(ExternalServlet.java:21)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)&lt;/p&gt;

&lt;p&gt;I&apos;d like to apologize for submitting a wrong quickstart the first time. The second one reproduces the problem.&lt;/p&gt;</comment>
                            <comment id="13043393" author="mgrigorov" created="Fri, 3 Jun 2011 15:17:51 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;

&lt;p&gt;You need to call Session.bind() at least once before trying to reach it in the servlet.&lt;/p&gt;</comment>
                            <comment id="13200719" author="drecute" created="Sun, 5 Feb 2012 11:08:57 +0000"  >&lt;p&gt;I added Session.bind() to the constructor of my WebSession subclass(UserSession), then I called UserSession.get() in the servlet. But I&apos;m still getting the exception: java.lang.IllegalArgumentException: Argument &apos;requestCycle&apos; may not be null. &lt;/p&gt;

&lt;p&gt;Please let me know, how do I get access to RequestCycle in the servlet. My servlet is added to a Page using the Include component. On the Page, I have getSession() overridden and in the servlet I tried to retrieve it using UserSession.get().&lt;/p&gt;

&lt;p&gt;Any suggestions please.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13201103" author="mgrigorov" created="Mon, 6 Feb 2012 07:23:18 +0000"  >&lt;p&gt;RequestCycle is not created in non-Wicket request like request to a Servlet.&lt;br/&gt;
Please ask your questions in the mailing lists.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481328" name="quickstart.rar" size="6639" author="hok" created="Fri, 3 Jun 2011 12:29:32 +0000"/>
                            <attachment id="12481346" name="quickstart2.rar" size="6633" author="hok" created="Fri, 3 Jun 2011 14:19:43 +0000"/>
                            <attachment id="12481345" name="quickstart2.rar" size="6633" author="hok" created="Fri, 3 Jun 2011 14:19:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ka33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>