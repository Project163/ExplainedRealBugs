<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4332] FileUpload: Using IE9 in IE8 compatibility mode, ajax-response cannot be parsed</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4332</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;See the quickstart project.&lt;br/&gt;
When using a simple form with multipart/form-data and an IE9 (9.0.8112.16421 here) in IE8 compatibility mode (via X-UA-Compatible meta tag),&lt;br/&gt;
the posting of the data in the hidden iframe works but the response text/xml is not handled correctly.&lt;/p&gt;

&lt;p&gt;ERROR: Wicket.Ajax.Call.failure: Error while parsing response: Could not find root &amp;lt;ajax-response&amp;gt; element&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538097">WICKET-4332</key>
            <summary>FileUpload: Using IE9 in IE8 compatibility mode, ajax-response cannot be parsed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="andi5">Andreas K&#246;hler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2012 20:29:03 +0000</created>
                <updated>Wed, 18 Jan 2012 15:43:24 +0000</updated>
                            <resolved>Mon, 16 Jan 2012 15:24:20 +0000</resolved>
                                    <version>1.5.3</version>
                                    <fixVersion>1.5.4</fixVersion>
                    <fixVersion>6.0.0-beta1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13186549" author="mgrigorov" created="Sun, 15 Jan 2012 18:14:17 +0000"  >&lt;p&gt;I see the problem is already discussed at users@ mailing list (&lt;a href=&quot;http://markmail.org/thread/o4bdtdxrxmlgnn77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/o4bdtdxrxmlgnn77&lt;/a&gt;) but none of the doctypes doesn&apos;t seem to work when&lt;br/&gt;
 &amp;lt;meta content=&quot;IE=8&quot; http-equiv=&quot;X-UA-Compatible&quot;&amp;gt; is specified in the markup.&lt;br/&gt;
So far I cannot find any solution/workaround to this problem.&lt;/p&gt;</comment>
                            <comment id="13186553" author="andi5" created="Sun, 15 Jan 2012 18:24:41 +0000"  >&lt;p&gt;Wow, that is really sad. Let us hope someone starts having an idea &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Meanwhile, shall we add a disclaimer somewhere? I.e. detect that mode in javascript and log/alert something?&lt;br/&gt;
Any sluggish workaround possible?&lt;/p&gt;</comment>
                            <comment id="13186556" author="mgrigorov" created="Sun, 15 Jan 2012 18:28:57 +0000"  >&lt;p&gt;I&apos;m trying to find a way to serialize the contents of the received DispHtmlDocument. If it is possible to get the ajax-response from the body then we can manually create the DOMDocument and continue with the normal flow..&lt;/p&gt;</comment>
                            <comment id="13186792" author="mgrigorov" created="Mon, 16 Jan 2012 09:09:09 +0000"  >&lt;p&gt;A patch that transforms HtmlDocument to DOM Document when IE is running in compatible mode and creates DispHtmlDocument from XML response.&lt;/p&gt;</comment>
                            <comment id="13186908" author="balamaci" created="Mon, 16 Jan 2012 13:11:11 +0000"  >&lt;p&gt;Hi Martin,&lt;br/&gt;
I think in the patch, in Wicket._createXmlDocument, the &quot;return xmlDocument;&quot; should go a level lower, as it returns nothing for if (window.DOMParser) branch and breaks other browsers than IE.&lt;/p&gt;

&lt;p&gt;For some reason in IE9, envelope.compatMode shows as undefined instead of &quot;BackCompat&quot;.&lt;br/&gt;
Will investigate further but just wanted to let you know about the return.&lt;/p&gt;</comment>
                            <comment id="13186911" author="mgrigorov" created="Mon, 16 Jan 2012 13:19:34 +0000"  >&lt;p&gt;Hi Serban,&lt;/p&gt;

&lt;p&gt;I&apos;ll check the case for DOMParser. Thanks!&lt;/p&gt;

&lt;p&gt;Here while running the app in IE9 with &amp;lt;meta ...IE=8&amp;gt; the compatMode is &apos;BackCompat&apos;. Without the &amp;lt;meta&amp;gt; it is &quot;Css1Compat&quot;.&lt;br/&gt;
I picked this property to be able to differentiate what is the current envelope. The best check would be something like: if (envelope instanceof DispHtmlDocument) , but this fails. If you find a better way to recognize that we need to convert from HtmlDocument to DOMDocument then modify it and update the patch.&lt;/p&gt;</comment>
                            <comment id="13186933" author="mgrigorov" created="Mon, 16 Jan 2012 14:14:37 +0000"  >&lt;p&gt;I committed the fix in 1.5 since it is quite stable here.&lt;br/&gt;
Let us know if you have any improvements.&lt;/p&gt;</comment>
                            <comment id="13187015" author="balamaci" created="Mon, 16 Jan 2012 16:47:57 +0000"  >&lt;p&gt;Martin, for me all the instantiations in _createXmlDocument like new ActiveXObject(&quot;Msxml2.DOMDocument.6.0&quot;); fail with Automation server can&apos;t create object and it reaches &quot;Cannot create DOM document&quot;.&lt;/p&gt;

&lt;p&gt;Could it be that you have enabled security settings more permissive than default?&lt;/p&gt;

&lt;p&gt;I&apos;ll try tomorrow with another IE instance, cause it may be that ours are more draconic.&lt;/p&gt;</comment>
                            <comment id="13187025" author="mgrigorov" created="Mon, 16 Jan 2012 17:01:03 +0000"  >&lt;p&gt;The last tried one is &quot;Microsoft.XMLDOM&quot; which is the one that has been in use until now.&lt;br/&gt;
The new code just tries to find the newest version of the ActiveXObject that is able to parse XML and falls back to older versions.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://blogs.msdn.com/b/xmlteam/archive/2006/10/23/using-the-right-version-of-msxml-in-internet-explorer.aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blogs.msdn.com/b/xmlteam/archive/2006/10/23/using-the-right-version-of-msxml-in-internet-explorer.aspx&lt;/a&gt; for more information.&lt;/p&gt;</comment>
                            <comment id="13188512" author="balamaci" created="Wed, 18 Jan 2012 15:43:24 +0000"  >&lt;p&gt;Hi Martin,&lt;br/&gt;
It was indeed an issue with that perticular IE9 instance and we were receiving &quot;Automation server can&apos;t create object&quot; exception for &quot;Microsoft.XMLDOM&quot; with 1.5.3 . I tested with two other IE9 instances and is working as expected. Today it was deployed our prelive env and have positive feedback from the testers. &lt;/p&gt;

&lt;p&gt;Great work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510681" name="WICKET-4332.patch" size="3644" author="mgrigorov" created="Mon, 16 Jan 2012 09:09:09 +0000"/>
                            <attachment id="12510236" name="wicket-4332.tar.bz2" size="20950" author="andi5" created="Wed, 11 Jan 2012 20:30:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00w3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>