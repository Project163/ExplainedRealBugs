<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5564] AjaxRequestTarget.focusComponent() does not work when two Ajax responses arrive next to each other</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5564</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I have an AjaxButton. Its onSubmit() handler calls AjaxRequestTarget.focusComponent(). After the Ajax response is handled, that component should get the focus, but it does not. Wicket.Focus.setFocusOnId() is called correctly and it does set the lastFocusId field, but Wicket.Focus.requestFocus() finds that Wicket.Focus.refocusLastFocusedComponentAfterResponse is false and does nothing.&lt;/p&gt;

&lt;p&gt;What happens is that, before Wicket.Focus.requestFocus() runs (it scheduled by the first response via setTimeout(0), so it is not synchronous) another Ajax response is  handled. This calls markFocusComponent(), then check checkFocusedComponentReplaced(). The latter method (correctly) determines the focused component was not replaced by the second Ajax response, so it sets Wicket.Focus.refocusLastFocusedComponentAfterResponse to false. When requestFocus() does run, later, it thinks it is just supposed to refocus the component that already has the focus.&lt;/p&gt;

&lt;p&gt;The second Ajax response is triggered by wicket-atmosphere, but  to me this issue is not caused by wicket-atmosphere. The core problem is that two Ajax responses can clobber each other&apos;s focus-related state in Wicket.Focus.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12709246">WICKET-5564</key>
            <summary>AjaxRequestTarget.focusComponent() does not work when two Ajax responses arrive next to each other</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="0xabadea">Andrei Badea</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Apr 2014 11:17:19 +0000</created>
                <updated>Tue, 17 Mar 2015 20:51:09 +0000</updated>
                            <resolved>Wed, 9 Jul 2014 13:08:00 +0000</resolved>
                                                    <fixVersion>7.0.0-M3</fixVersion>
                    <fixVersion>6.17.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14056201" author="mgrigorov" created="Wed, 9 Jul 2014 13:08:00 +0000"  >&lt;p&gt;The timeout has been done with &lt;a href=&quot;https://github.com/apache/wicket/commit/a4d7cea1c50c6640e124518af93afa2e14ca3220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/commit/a4d7cea1c50c6640e124518af93afa2e14ca3220&lt;/a&gt; at Jun 4 2007 for Internet Explorer. &lt;br/&gt;
IE8 has been released Mar 19 2009 (&lt;a href=&quot;http://en.wikipedia.org/wiki/Internet_Explorer_8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Internet_Explorer_8&lt;/a&gt;). &lt;br/&gt;
So the fix is for IE 6/7.&lt;br/&gt;
Since there is no info how to test whether the fix is still needed for IE8+ I will remove the timeout and wait for feedback from users whether it breaks in any conditions.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12754216">WICKET-5755</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12782212">WICKET-5858</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1urj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>