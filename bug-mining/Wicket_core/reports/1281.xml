<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6111] Empty redirect on redirect to home page if home page already shown</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6111</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Wicket seems to produce an empty redirect if a user already opened the home page of an app and gets redirected to the same page by e.g. clicking a link containing the following line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;RequestCycle.get().setResponsePage(Application.get().getHomePage(), ...);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my case the purpose of the link is to sign out and redirect all users to a well known page afterwards. Involved URLs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/org.example.frontend/?0
&lt;/span&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/org.example.frontend/?0-1.ILinkListener-home.signOut&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case Wicket creates an empty target URL for a redirect and sends that to my Tomcat 7, which seem to just forward it to the browser, which does nothing. The result is that the user sits on a white page and needs to refresh manually using e.g. F5. In contrast with a qucikstart containing and embedded Jetty, Wicket generates the exact same empty target URL but Jetty seem to resolve it internally to a absolut URL and therefore the requests succeeds now.&lt;/p&gt;

&lt;p&gt;Example from the browser using Tomcat 7:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Request URL:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8081/org.example.frontend/?3-1.ILinkListener-html-body-pnNav-home.signOut
&lt;/span&gt;Request Method:GET
Status Code:302 Found
Remote Address:127.0.0.1:8081
Cache-Control:no-cache, no-store
Content-Length:0
Date:Sun, 06 Mar 2016 19:34:40 GMT
Expires:Thu, 01 Jan 1970 00:00:00 GMT
Location:
Pragma:no-cache
Server:Apache-Coyote/1.1
Set-Cookie:JSESSIONID=[...]; Path=/org.example.frontend/; HttpOnly
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And from Jetty:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Request URL:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/org.example.frontend/?0-1.ILinkListener-home.signOut
&lt;/span&gt;Request Method:GET
Status Code:302 Found
Remote Address:[::1]:8080
Response Headers
view source
Cache-Control:no-cache, no-store
Content-Length:0
Date:Mon, 07 Mar 2016 15:12:40 GMT
Expires:Thu, 01 Jan 1970 00:00:00 GMT
Location:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/org.example.frontend/
&lt;/span&gt;Pragma:no-cache
Server:Jetty(9.2.13.v20150730)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Debugging lead to org.apache.wicket.protocol.http.servlet.ServletWebResponse#encodeRedirectURL and #sendRedirect:&lt;/p&gt;

&lt;p&gt;This function behaves (nearly) the same for my URLs, the only difference is the following line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Url originalUrl = Url.parse(url);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my Tomcat I get a completely empty object, NOT null though, in the quickstart with Jetty I get an object containing &quot;.&quot;. But in the end that doesn&apos;t seem to make any difference, both requests go through the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fullUrl.equals(encodedFullUrl))
{
        &lt;span class=&quot;code-comment&quot;&gt;// no encoding happened so just reuse the original url
&lt;/span&gt;        encodedUrl = url.toString();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;encodedUrl is &quot;./&quot; using Tomcat and Jetty as well, while &quot;fullUrl&quot; contains an absolute URL in both cases:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/org.example.frontend/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;./&quot; is returned to ServletWebResponse.sendRedirect and runs into the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;./&quot;&lt;/span&gt;))
{
        /*
         * WICKET-4260 Tomcat does not canonalize urls, which leads to problems with IE
         * when url is relative and starts with a dot
         */
        url = url.substring(2);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And that empties my URL and forwards it to the servlet container, where Jetty instead of Tomcat seems to provide some magic to respond with an absolute URL in the end. But my debugger says that in both cases&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;httpServletResponse.sendRedirect(url);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gets called with an empty string.&lt;/p&gt;</description>
                <environment>Windows 8.1 x86-64, Tomcat 7.0.67</environment>
        <key id="12947702">WICKET-6111</key>
            <summary>Empty redirect on redirect to home page if home page already shown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="tschoening">Thorsten Sch&#246;ning</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 15:23:53 +0000</created>
                <updated>Wed, 27 Jul 2016 22:26:34 +0000</updated>
                            <resolved>Fri, 25 Mar 2016 13:49:48 +0000</resolved>
                                    <version>7.2.0</version>
                                    <fixVersion>7.3.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                    <fixVersion>6.23.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15183134" author="tschoening" created="Mon, 7 Mar 2016 15:25:40 +0000"  >&lt;p&gt;Quickstart added&lt;/p&gt;</comment>
                            <comment id="15183427" author="tschoening" created="Mon, 7 Mar 2016 18:39:51 +0000"  >&lt;p&gt;Discussion on the users mailing list, which can&apos;t be included as web link for some reason.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/wicket-users/201603.mbox/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/wicket-users/201603.mbox/&lt;/a&gt;&amp;lt;583807698.20160306203900%40am-soft.de&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15188973" author="tschoening" created="Thu, 10 Mar 2016 09:40:16 +0000"  >&lt;p&gt;If anybody else is interested, you can easily provide a workaround by overriding WebApplication#newWebResponse and provioding a custom implementation of ServletWebResponse extending the one from Wicket and overriding encodeRedirectURL. The following example implementation resolves the problem for my use case:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encodeRedirectURL(CharSequence url)
{
	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; retVal = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.encodeRedirectURL(url);
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!retVal.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;./&quot;&lt;/span&gt;))
	{
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; retVal;
	}

	UrlRenderer			urlRenderer			= &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getUrlRenderer();
	HttpServletResponse	httpServletResponse	= &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getContainerResponse();
	Url					originalUrl			= Url.parse(url);
	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;				fullUrl				= urlRenderer.renderFullUrl(originalUrl);
						retVal				= httpServletResponse.encodeRedirectURL(fullUrl);

	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; retVal;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One needs to duplicate getUrlRenderer though, it might be a good idea to make that abstract and usable by sub classes?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/protocol/http/WebApplication.html#newWebResponse(org.apache.wicket.request.http.WebRequest,%20javax.servlet.http.HttpServletResponse&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/protocol/http/WebApplication.html#newWebResponse(org.apache.wicket.request.http.WebRequest,%20javax.servlet.http.HttpServletResponse&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15211805" author="mgrigorov" created="Fri, 25 Mar 2016 13:44:43 +0000"  >&lt;p&gt;There is no need of the special treatment of urls starting with &quot;./&quot; for Tomcat anymore.&lt;br/&gt;
Latest versions of Tomcat (7.0.68, 8.0.33, 8.5.0) handle properly such urls.&lt;br/&gt;
Now the problem is that if we remove this &quot;if&quot; statement then applications which run on old Tomcat may fail. &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4260&quot; title=&quot;UrlRenderer renders invalid relative URLs if first segment contains colon&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4260&quot;&gt;&lt;del&gt;WICKET-4260&lt;/del&gt;&lt;/a&gt; had problems with IE8 which is not supported anymore, so it may be OK with newer IE versions.&lt;/p&gt;</comment>
                            <comment id="15211807" author="jira-bot" created="Fri, 25 Mar 2016 13:48:20 +0000"  >&lt;p&gt;Commit f5526509340234e730c5e252da7c7d3cdee91294 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=f552650&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=f552650&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6111&quot; title=&quot;Empty redirect on redirect to home page if home page already shown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6111&quot;&gt;&lt;del&gt;WICKET-6111&lt;/del&gt;&lt;/a&gt; Empty redirect on redirect to home page if home page already shown&lt;/p&gt;

&lt;p&gt;Remove the workaround for the incorrect behavior in old Tomcat versions.&lt;/p&gt;</comment>
                            <comment id="15211811" author="mgrigorov" created="Fri, 25 Mar 2016 13:49:48 +0000"  >&lt;p&gt;I&apos;ve removed the workaround introduced for &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4260&quot; title=&quot;UrlRenderer renders invalid relative URLs if first segment contains colon&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4260&quot;&gt;&lt;del&gt;WICKET-4260&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Applications are recommended to upgrade to latest Tomcat if they face this problem.&lt;/p&gt;</comment>
                            <comment id="15211812" author="jira-bot" created="Fri, 25 Mar 2016 13:49:57 +0000"  >&lt;p&gt;Commit ae2d5167c66531fdb13451645e82f5063c8cf3cc in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=ae2d516&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=ae2d516&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6111&quot; title=&quot;Empty redirect on redirect to home page if home page already shown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6111&quot;&gt;&lt;del&gt;WICKET-6111&lt;/del&gt;&lt;/a&gt; Empty redirect on redirect to home page if home page already shown&lt;/p&gt;

&lt;p&gt;Remove the workaround for the incorrect behavior in old Tomcat versions.&lt;/p&gt;</comment>
                            <comment id="15211813" author="jira-bot" created="Fri, 25 Mar 2016 13:50:06 +0000"  >&lt;p&gt;Commit 77c94d57111aadf1876a35cde3a6783a2cfec6ea in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=77c94d5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=77c94d5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6111&quot; title=&quot;Empty redirect on redirect to home page if home page already shown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6111&quot;&gt;&lt;del&gt;WICKET-6111&lt;/del&gt;&lt;/a&gt; Empty redirect on redirect to home page if home page already shown&lt;/p&gt;

&lt;p&gt;Remove the workaround for the incorrect behavior in old Tomcat versions.&lt;/p&gt;</comment>
                            <comment id="15211817" author="mgrigorov" created="Fri, 25 Mar 2016 13:53:02 +0000"  >&lt;p&gt;I&apos;ve tested the new code with:&lt;br/&gt;
a) web servers: Tomcat 7.0.68, 8.0.33, 8.5.0 and Jetty 9.2.13&lt;br/&gt;
b) browsers: Google Chrome 49, Firefox 45, IE 9 &amp;amp; 11&lt;/p&gt;</comment>
                            <comment id="15211919" author="tschoening" created="Fri, 25 Mar 2016 14:57:49 +0000"  >&lt;p&gt;Just another point of view: Recommending upgrading to the latest Tomcat might be a bit to fast, even the current Ubuntu 14.04 LTS Server provides &quot;only&quot; version 7.0.52&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Regarding the original bug report&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; the URL handling issue was fixed in 7.0.28|30, so using 14.04 should be save, but 12.04 is still supported as well, e.g. I use it in production currently, and that only provides Tomcat 7.0.26, so most likely with incorrect&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; URL handling. You can&apos;t expect people to bypass their package manager IF&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; they run into the problem of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4260&quot; title=&quot;UrlRenderer renders invalid relative URLs if first segment contains colon&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4260&quot;&gt;&lt;del&gt;WICKET-4260&lt;/del&gt;&lt;/a&gt;. I wouldn&apos;t, I would need to add exactly that workaround to Wicket which you just removed. But since &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4260&quot; title=&quot;UrlRenderer renders invalid relative URLs if first segment contains colon&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4260&quot;&gt;&lt;del&gt;WICKET-4260&lt;/del&gt;&lt;/a&gt; at least a lot of IE installations should have been upgraded already, so it might be OK to remove until people really complain.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;http://packages.ubuntu.com/search?keywords=tomcat7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://packages.ubuntu.com/search?keywords=tomcat7&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=53062#c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=53062#c8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15212099" author="mgrigorov" created="Fri, 25 Mar 2016 17:10:01 +0000"  >&lt;p&gt;Such applications will have to use older version of Wicket as well.&lt;br/&gt;
I see no better solution. &lt;/p&gt;</comment>
                            <comment id="15215652" author="tschoening" created="Tue, 29 Mar 2016 08:04:51 +0000"  >&lt;p&gt;I&apos;ve tested 7.3.0.0-SNAPSHOT including your change and it does fix my mentioned problem, but in my web browser&apos;s dev tools I still get &quot;./&quot; as Location header even with a most current version of Tomcat 7. Is this the correct behavior? After reading Bug 53062 of Tomcat7 I thought it should send absolute URLs. Or do they only need to not send malformed absolute URLs, like they did in your report, and are free to send proper relative ones and do that now at least in some cases? I have the exact same case like in your bug report: &lt;a href=&quot;http://localhost:8080/de.am_soft.sm_mtg.frontend[&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/de.am_soft.sm_mtg.frontend[&lt;/a&gt;...].&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=53062#c6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=53062#c6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15215663" author="mgrigorov" created="Tue, 29 Mar 2016 08:13:57 +0000"  >&lt;p&gt;There are many improvements in this area in Tomcat in the more recent versions. Check &lt;a href=&quot;https://tomcat.apache.org/tomcat-7.0-doc/changelog.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tomcat.apache.org/tomcat-7.0-doc/changelog.html&lt;/a&gt; and search for &quot;redirect&quot;.&lt;br/&gt;
The one you look for is &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=56917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=56917&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15396516" author="mkrivan" created="Wed, 27 Jul 2016 22:24:06 +0000"  >&lt;p&gt;Unfortunately it did not resolved not in 7.3.0 and 7.4.0 as well at least working with Glassfish 3.1.2.2. Maybe the problem is a little bit different but it appeared in version 7.3.0 first. It was good with 7.1.0 and 7.0.0. With 7.2.0 was something strange as well.&lt;br/&gt;
When an application mounted at root point, all of the first try to access the root point will be failed using IE11. It works with Chrome and Firefox. I did deep investigation and I have found that the redirect location looks something like &lt;a href=&quot;http://localhost:port;jsessionid=abcd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:port;jsessionid=abcd&lt;/a&gt;. If this happens 403 status occurs. But if return with &lt;a href=&quot;http://localhost:port/;jsessionid=abcd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:port/;jsessionid=abcd&lt;/a&gt; everything works perfect. The solution is based on Thorsten Sch&#246;ning comment but a little bit modified:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;	public class WicketApplication extends WebApplication
	{
		...

		@Override
		public Class&amp;lt;? extends BasePage&amp;gt; getHomePage() {
			return IndexPage.class; // it has no mount mapping point defined because it is the root HomePage class
		}
		
		@Override
		protected WebResponse newWebResponse(WebRequest webRequest, HttpServletResponse httpServletResponse) {
			return new MyWebResponse((ServletWebRequest) webRequest, httpServletResponse);
		}
	}

	import org.apache.wicket.protocol.http.servlet.ServletWebRequest;
	import org.apache.wicket.protocol.http.servlet.ServletWebResponse;
	import org.apache.wicket.request.Url;
	import org.apache.wicket.request.UrlRenderer;

	public class MyWebResponse extends ServletWebResponse {

		private final static Pattern URL_PATTERN = Pattern.compile(&quot;^(?:(https?)://)?([A-Za-z0-9\\-\\.]+)(?::([0-9]+))?(/)?(.*)$&quot;);
		private final ServletWebRequest servletWebRequest;
		private final HttpServletResponse httpServletResponse;

		public MyWebResponse(ServletWebRequest servletWebRequest, HttpServletResponse httpServletResponse) {
			super(servletWebRequest, httpServletResponse);
			this.servletWebRequest = servletWebRequest;
			this.httpServletResponse = httpServletResponse;
		}

		private String ifNull(String o, String nullValue) {
			return o == null ? nullValue : o;
		}
		
		private String addMissingRootToUrl(String url) { // this is the correction util for missing root path (/)
			if (StringUtils.isBlank(url)) {
				return url;
			}
			Matcher m = URL_PATTERN.matcher(url);
			if (m.find()) {
				String protocol = ifNull(m.group(1), &quot;&quot;);
				String host = ifNull(m.group(2), &quot;&quot;);
				String port = ifNull(m.group(3), &quot;&quot;);
				String root = ifNull(m.group(4), &quot;/&quot;);
				String remaining = ifNull(m.group(5), &quot;&quot;);
				StringBuilder resultUrl = new StringBuilder();
				if (StringUtils.isNotBlank(protocol)) {
					resultUrl.append(protocol).append(&quot;://&quot;);
				}
				if (StringUtils.isNotBlank(host)) {
					resultUrl.append(host);
				}
				if (StringUtils.isNotBlank(port)) {
					resultUrl.append(&quot;:&quot;).append(port);
				}
				if (StringUtils.isNotBlank(root)) {
					resultUrl.append(root);
				}
				resultUrl.append(remaining);
				return resultUrl.toString();
			} else {
				return url;
			}
		}

		@Override
		public String encodeRedirectURL(CharSequence url) {
			String retVal = super.encodeRedirectURL(url); // this generates the problem for app root access in IE11
			if (!retVal.startsWith(&quot;./&quot;)) {
				return retVal;
			}
			UrlRenderer urlRenderer = new UrlRenderer(servletWebRequest);
			Url originalUrl = Url.parse(url);
			String fullUrlStr = urlRenderer.renderFullUrl(originalUrl);
			retVal = httpServletResponse.encodeRedirectURL(fullUrlStr);
			retVal = addMissingRootToUrl(retVal); // finally this is the corrected absolute path for 302 status message Location part
			return retVal; // this way IE11 works properly in Wicket 7.3.0 and 7.4.0 as well
		}
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using this approach the Wicket is working again with IE11.&lt;br/&gt;
I know that it should be nicer approach but I could only solve this way.&lt;br/&gt;
I hope this helps to you.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12532707">WICKET-4260</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12791776" name="empty_redirect.zip" size="47029" author="tschoening" created="Mon, 7 Mar 2016 15:25:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ua53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>