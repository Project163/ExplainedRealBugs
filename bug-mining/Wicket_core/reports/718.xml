<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4810] CLONE - BaseWicketTester.clickLink() does not work with a ResourceLink with ResourceReference</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4810</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;When using BaseWicketTester.clickLink() with a ResourceLink with a ResourceReference, it does not work.&lt;br/&gt;
Clicking link in server (Jetty) it works and opens the resource. See attached quickstart.&lt;/p&gt;

&lt;p&gt;When the ResourceLink is created with the Resource directly,  BaseWicketTester.clickLink() works.&lt;/p&gt;


&lt;p&gt;	@Test&lt;br/&gt;
	public void clickingLink() &lt;/p&gt;
{
              // doesn&apos;t work
		tester.clickLink(&quot;shared&quot;);
		Assert.assertEquals(tester.getContentTypeFromResponseHeader(), &quot;text/plain&quot;);
	}

&lt;p&gt;	@Test&lt;br/&gt;
	public void usingListener() &lt;/p&gt;
{
                // doesn&apos;t work either
		tester.executeListener(tester.getComponentFromLastRenderedPage(&quot;shared&quot;), IResourceListener.INTERFACE);
		Assert.assertEquals(tester.getContentTypeFromResponseHeader(), &quot;text/plain&quot;);
	}</description>
                <environment></environment>
        <key id="12611004">WICKET-4810</key>
            <summary>CLONE - BaseWicketTester.clickLink() does not work with a ResourceLink with ResourceReference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="elelay">Eric Le Lay</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2012 15:31:20 +0000</created>
                <updated>Wed, 10 Oct 2012 07:00:27 +0000</updated>
                            <resolved>Wed, 10 Oct 2012 05:29:48 +0000</resolved>
                                    <version>1.5.4</version>
                                    <fixVersion>6.2.0</fixVersion>
                    <fixVersion>1.5.9</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13472475" author="elelay" created="Tue, 9 Oct 2012 15:40:48 +0000"  >&lt;p&gt;the quickstart (2 tests fail)&lt;/p&gt;</comment>
                            <comment id="13472999" author="mgrigorov" created="Wed, 10 Oct 2012 05:29:48 +0000"  >&lt;p&gt;Improved the code for clicking a ResourceLink. Now it uses Link#getURL() to get the real url for both IResource and ResourceReference. #clickLink() test now works fine&lt;/p&gt;

&lt;p&gt;The second test (tester.executeListener(Component, IResourceListener.INTERFACE)&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; still fails because it tries to use ResourceLink with IResource while in your case it actually uses ResourceReference and this is a bug in the application.&lt;/p&gt;</comment>
                            <comment id="13473036" author="elelay" created="Wed, 10 Oct 2012 07:00:27 +0000"  >&lt;p&gt;OK, it is fine like this.&lt;br/&gt;
Using executeListener() in the 2nd test was only to show that the work-around provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4437&quot; title=&quot;BaseWicketTester.clickLink() does not work with a ResourceLink&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4437&quot;&gt;&lt;del&gt;WICKET-4437&lt;/del&gt;&lt;/a&gt; was not working in this case.&lt;/p&gt;

&lt;p&gt;Thank you very much !&lt;/p&gt;

&lt;p&gt;For somebody not wanting to wait for 6.2.0, it can be done outside BaseWicketTester :&lt;br/&gt;
                WicketTester tester;&lt;br/&gt;
		ResourceLink&amp;lt;?&amp;gt; lnk = (ResourceLink&amp;lt;?&amp;gt;)tester.getComponentFromLastRenderedPage(&quot;myresourcelink&quot;);&lt;br/&gt;
		try&lt;/p&gt;
		{
			Method getUrlMethod = ResourceLink.class.getDeclaredMethod(
				&quot;getURL&quot;, (Class&amp;lt;?&amp;gt;[])null);
			getUrlMethod.setAccessible(true);

			String url = (String)getUrlMethod.invoke(
					lnk, (Object[])null);
			tester.executeUrl(url.toString());
		}
&lt;p&gt;		catch (Exception e)&lt;/p&gt;
		{
			fail(&quot;this shouldn&apos;t fail!!&quot;);
		}</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12545165">WICKET-4437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548415" name="sharedresourcelink.zip" size="25182" author="elelay" created="Tue, 9 Oct 2012 15:40:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07hx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>