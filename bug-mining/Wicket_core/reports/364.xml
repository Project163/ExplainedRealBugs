<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4032] ComponentStringResourceLoader must not include the index of repeater items in resource lookup but still resolve properties to them</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4032</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Issue when using a StringResourceModel to lookup a resource for a component underneath a repeating view.&lt;/p&gt;

&lt;p&gt;When a StringResourceModel is used by a component under a repeating view, the ComponentStringResourceLoader doesn&apos;t find the resource.&lt;/p&gt;

&lt;p&gt;This seems to be a problem introduced by the fix for 3671.&lt;/p&gt;

&lt;p&gt;In ComponentStringResourceLoader, getResourcePath excludes all AbstractRepeaters, however getComponentStack doesn&apos;t leading to the two being out of sync for the elements of the component hierarchy under the repeating view.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12521453">WICKET-4032</key>
            <summary>ComponentStringResourceLoader must not include the index of repeater items in resource lookup but still resolve properties to them</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pete">Peter Ertl</assignee>
                                    <reporter username="nathan.messer">Nathan Messer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Sep 2011 13:54:32 +0000</created>
                <updated>Thu, 8 Sep 2011 13:58:40 +0000</updated>
                            <resolved>Thu, 8 Sep 2011 13:58:40 +0000</resolved>
                                    <version>1.4.18</version>
                    <version>1.5-RC7</version>
                                    <fixVersion>1.4.19</fixVersion>
                    <fixVersion>1.5.1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13098043" author="nathan.messer" created="Tue, 6 Sep 2011 14:39:45 +0000"  >&lt;p&gt;Quickstart that works in 1.4.17 but not in 1.4.18&lt;/p&gt;</comment>
                            <comment id="13098044" author="nathan.messer" created="Tue, 6 Sep 2011 14:40:23 +0000"  >&lt;p&gt;I&apos;ve attached a quick-start that works in 1.4.17 but not in 1.4.18 to show the problem&lt;/p&gt;</comment>
                            <comment id="13098088" author="nathan.messer" created="Tue, 6 Sep 2011 15:30:43 +0000"  >&lt;p&gt;Patch to fix the issue.&lt;br/&gt;
This excludes AbstractRepeaters from the component stack, unlike the getResourcePath method that excludes AbstractRepeaters children. This leaves the path hierachy sensible, in that it has no 0, 1 etc ids in it, but also leaves the component hierarchy so that components added as children of abstract repeaters can have property files that will be looked in for resources.&lt;/p&gt;</comment>
                            <comment id="13098094" author="nathan.messer" created="Tue, 6 Sep 2011 15:33:24 +0000"  >&lt;p&gt;Version of the patch with a license granted&lt;/p&gt;</comment>
                            <comment id="13098118" author="pete" created="Tue, 6 Sep 2011 16:00:55 +0000"  >&lt;p&gt;thanks for reporting... the problem is fixed in trunk ... please report if you still got issues&lt;/p&gt;</comment>
                            <comment id="13098146" author="nathan.messer" created="Tue, 6 Sep 2011 16:35:58 +0000"  >&lt;p&gt;Unfortunately that doesn&apos;t fix the problem. It excludes components with a parent of AbstractRepeater from the component stack, not the AbstractRepeaters themselves.&lt;/p&gt;

&lt;p&gt;This then means that if it is the child of the abstract repeater which has the associated properties file, it won&apos;t get checked.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached another quickstart showing the problem.&lt;/p&gt;

&lt;p&gt;The patch I&apos;ve submitted does handle this case as well, although it may be that there are other problems with it I&apos;m not aware of. &lt;/p&gt;

&lt;p&gt;The patch I submitted won&apos;t check if the AbstractRepeater itself has an associated properties file that may contain resources, which may be a problem.&lt;/p&gt;</comment>
                            <comment id="13098321" author="pete" created="Tue, 6 Sep 2011 20:24:41 +0000"  >
&lt;p&gt;I added a fix that resolves a resource key against AbstractRepeater and it&apos;s associated repeater items in the same manner.&lt;/p&gt;

&lt;p&gt;For example in the following hierarchy&lt;/p&gt;

&lt;p&gt;MyPage&lt;br/&gt;
  &amp;#8211; MyRepeater (id = &quot;repeater&quot;)&lt;br/&gt;
    &amp;#8211; MyRepeaterItem (id = &quot;3&quot;)&lt;br/&gt;
      &amp;#8211; MyWebMarkupContainer (id = &quot;container&quot;)&lt;/p&gt;

&lt;p&gt;the key = &apos;label&apos; resolved against base component &quot;container&quot; will cause a lookup in that order&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;MyPage.properties with key = &quot;repeater.container.label&quot;&lt;/li&gt;
	&lt;li&gt;MyRepeater.properties with key = &quot;container.label&quot;&lt;/li&gt;
	&lt;li&gt;MyRepeaterItem.properties with key = &quot;container.label&quot;&lt;/li&gt;
	&lt;li&gt;MyWebMarkupContainer.properties with key = &quot;label&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please verify the fix and let me know if something is broken or missing ...&lt;/p&gt;</comment>
                            <comment id="13098345" author="pete" created="Tue, 6 Sep 2011 20:52:48 +0000"  >&lt;p&gt;this seems to affect 1.5 also&lt;/p&gt;</comment>
                            <comment id="13098357" author="pete" created="Tue, 6 Sep 2011 21:12:44 +0000"  >&lt;p&gt;fixed for 1.5 as well, please check and report any issues... thank you!&lt;/p&gt;</comment>
                            <comment id="13098363" author="pete" created="Tue, 6 Sep 2011 21:20:48 +0000"  >&lt;p&gt;leaving this issue open for a while to gather feedback if everything is okay&lt;/p&gt;</comment>
                            <comment id="13098470" author="ivaynberg" created="Tue, 6 Sep 2011 23:32:00 +0000"  >&lt;p&gt;can you add a unit test so we dont lose this functionality please&lt;/p&gt;</comment>
                            <comment id="13098823" author="pete" created="Wed, 7 Sep 2011 10:02:48 +0000"  >&lt;p&gt;@igor: done for 1.4 and 1.5&lt;/p&gt;</comment>
                            <comment id="13100296" author="nathan.messer" created="Thu, 8 Sep 2011 13:07:47 +0000"  >&lt;p&gt;That works for our use cases, thanks Peter&lt;/p&gt;</comment>
                            <comment id="13100331" author="pete" created="Thu, 8 Sep 2011 13:58:17 +0000"  >&lt;p&gt;@Nathan: Thanks for reporting. We always want things to get better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493157" name="resource-lookup.zip" size="34568" author="nathan.messer" created="Tue, 6 Sep 2011 14:39:45 +0000"/>
                            <attachment id="12493173" name="resource-lookup2.zip" size="45478" author="nathan.messer" created="Tue, 6 Sep 2011 16:32:19 +0000"/>
                            <attachment id="12493166" name="resourceloadingissue.patch" size="543" author="nathan.messer" created="Tue, 6 Sep 2011 15:33:24 +0000"/>
                            <attachment id="12493165" name="resourceloadingissue.patch" size="543" author="nathan.messer" created="Tue, 6 Sep 2011 15:30:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a55j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>