<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5607] Wicket Ajax fires calls scheduled by AbstractAjaxTimerBehavior even after unload of the page</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5607</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;You have page with AbstractAjaxTimerBehavior, that loads slowly. Go to that page, refresh this page (F5) -&amp;gt; StalePageException.&lt;/p&gt;

&lt;p&gt;This is because timer behavior send request to old version of page. If page load is fast enough you probably won&apos;t hit the problem, but if models load for significant time, then exception is thrown on every refresh.&lt;/p&gt;

&lt;p&gt;Quickstart is included - just go to localhost:8080 and press F5.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12718370">WICKET-5607</key>
            <summary>Wicket Ajax fires calls scheduled by AbstractAjaxTimerBehavior even after unload of the page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="vlastimil.dolejs">Vlastimil</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2014 12:51:13 +0000</created>
                <updated>Thu, 29 Oct 2015 10:16:47 +0000</updated>
                            <resolved>Mon, 16 Jun 2014 15:25:54 +0000</resolved>
                                    <version>6.15.0</version>
                                    <fixVersion>7.0.0-M3</fixVersion>
                    <fixVersion>6.17.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14017672" author="mgrigorov" created="Wed, 4 Jun 2014 12:58:25 +0000"  >&lt;p&gt;Link to &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4733&quot; title=&quot;AjaxSelfUpdatingTimerBehavior on unversioned page keeps triggering StalePageException when multiple tabs open&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4733&quot;&gt;WICKET-4733&lt;/a&gt;. They look very similar.&lt;/p&gt;</comment>
                            <comment id="14976127" author="jan-krakora" created="Tue, 27 Oct 2015 10:02:10 +0000"  >&lt;p&gt;I think the problem is that some browsers (&lt;a href=&quot;http://stackoverflow.com/questions/18808376/why-does-reloading-page-in-firefox-or-chrome-cause-the-unload-event-handler-to-t&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Firefox and Chrome&lt;/a&gt;) handle the unload event AFTER the page reload itself. &lt;br/&gt;
So the page render count is already increased when processing the unload request and the StalePageException is thrown.&lt;/p&gt;</comment>
                            <comment id="14980164" author="svenmeier" created="Thu, 29 Oct 2015 09:50:56 +0000"  >&lt;p&gt;You&apos;re right, &quot;unload&quot; is fired too late probably.&lt;/p&gt;

&lt;p&gt;But you see these exceptions in the logs only - your application is still functional, right?&lt;/p&gt;</comment>
                            <comment id="14980199" author="jan-krakora" created="Thu, 29 Oct 2015 10:16:47 +0000"  >&lt;p&gt;Sorry guys. My observations are about the TimerPushBehavior from the wicketstuff-push-timer project and not the AbstractAjaxTimerBehavior itself. &lt;/p&gt;

&lt;p&gt;The TimerPushBehavior registers itself on window.unload event. When this event occurs, the behavior disconnects all registered nodes from its push service. &lt;br/&gt;
But as I wrote above, when an user refresh a page this event is fired after (only on some browsers) the browser send a request for the page.&lt;/p&gt;

&lt;p&gt;To answer your question &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;, Yes. We can see these exceptions only in the logs. But the TimerPushBehavior doesn&apos;t disconnect nodes from the push service.&lt;br/&gt;
I&apos;m not sure if its a big problem.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12605071">WICKET-4733</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12770598">WICKET-5822</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12648326" name="timer-quickstart.zip" size="21193" author="vlastimil.dolejs" created="Wed, 4 Jun 2014 12:52:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w9x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>