<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:18:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3832] RequestLogger doesn&apos;t log incoming event and outgoing page</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3832</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;The requestlogger currently doesn&apos;t log the incoming request and the outgoing page, which it did in 1.4.x (and earlier). This is due to&lt;/p&gt;

&lt;p&gt;getRequestLogger().logEventTarget(handler);&lt;br/&gt;
getRequestLogger().logResponseTarget(handler);&lt;/p&gt;

&lt;p&gt;not being called. This results in log entries like:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2011-06-22 11:43:20,836&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;TP-Processor6&amp;#93;&lt;/span&gt; RequestLogger | time=12,event=null,response=null,sessioninfo=...&lt;/p&gt;

&lt;p&gt;which isn&apos;t saying much, and making every presentation I gave on the RequestLogger, and chapter 14 from WiA look foolish &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511375">WICKET-3832</key>
            <summary>RequestLogger doesn&apos;t log incoming event and outgoing page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dashorst">Martijn Dashorst</assignee>
                                    <reporter username="dashorst">Martijn Dashorst</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jun 2011 15:48:14 +0000</created>
                <updated>Thu, 30 Jun 2011 12:58:54 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 12:58:54 +0000</resolved>
                                    <version>1.5-RC4</version>
                                    <fixVersion>1.5-RC6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13053933" author="dashorst" created="Thu, 23 Jun 2011 15:48:58 +0000"  >&lt;p&gt;I&apos;d like to solve this issue, but the handlers are a bit opaque for me as to how they relate to events and responses. Giving pointers on where to hook into Wicket would be awesome. I&apos;m currently toying with RequestCycleListener, but not sure if that will solve my issues.&lt;/p&gt;</comment>
                            <comment id="13053938" author="mgrigorov" created="Thu, 23 Jun 2011 15:58:41 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/RequestCycle+in+Wicket+1.5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/WICKET/RequestCycle+in+Wicket+1.5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13053985" author="ivaynberg" created="Thu, 23 Jun 2011 17:20:32 +0000"  >&lt;p&gt;request handlers are not that opaque. they implement interfaces that expose their underbelly. eg: IPageRequestHandler, IComponentRequestHandler.&lt;/p&gt;

&lt;p&gt;in the name of better logging why dont we create a IIntrospectableRequestHandler &lt;/p&gt;
{ Map&amp;lt;String,Object&amp;gt; introspect(); }

&lt;p&gt;the logger can then check if a request handler implements this and get the key/value pairs (or some other format) of details and log them. if the handler does not implement this interface the logger can show a warning.&lt;/p&gt;

&lt;p&gt;what would be interesting if perhaps we allowed the return data to be a tree of key/value pairs - like json. and then collect and render it in the debugbar.&lt;/p&gt;</comment>
                            <comment id="13054321" author="dashorst" created="Fri, 24 Jun 2011 09:21:35 +0000"  >&lt;p&gt;My issue is identifying the page that was the target of the incoming event, and the page that was rendered as the final response. This way we have 1.4 parity in functionality.&lt;/p&gt;

&lt;p&gt;I agree that we should strive to improve our request logging and exposing more detail. What we are more interested in rather than the guts is how long the event part took and how long the rendering part. So from the start of the request until the end of onClick for example, and from the end of onClick to the end of request. That would make identifying the slow pages/requests much easier. Now it is hard to discern whether the event handler was slow or the page construction/rendering.&lt;/p&gt;</comment>
                            <comment id="13054540" author="ivaynberg" created="Fri, 24 Jun 2011 16:49:30 +0000"  >&lt;p&gt;using a request cycle listener:&lt;/p&gt;

&lt;p&gt;the target page can be identified by examining the first handler resolved - ie the first call to onRequestHandlerResolved()&lt;/p&gt;

&lt;p&gt;the result page can be identified as the last ipagerequesthandler set - so the last call to onRequestHandlerResolved() where handler is an ipagrequesthandler&lt;/p&gt;</comment>
                            <comment id="13054798" author="mgrigorov" created="Sat, 25 Jun 2011 02:05:55 +0000"  >&lt;p&gt;This is what the wiki page I mentioned in my earlier comment does.&lt;/p&gt;</comment>
                            <comment id="13055531" author="mgrigorov" created="Mon, 27 Jun 2011 13:15:24 +0000"  >&lt;p&gt;This should get you started.&lt;/p&gt;</comment>
                            <comment id="13057137" author="dashorst" created="Wed, 29 Jun 2011 10:23:32 +0000"  >&lt;p&gt;There were a couple more issues with the request logger implementation. It used getPage() to log the page class and page id: causing page instantiations at wrong times. This has been remedied by requiring an extra method to provide the page id (if present). The page instantiation caused problems with the Swarm/Wasp security framework.&lt;/p&gt;

&lt;p&gt;Further more the request logger now logs the requested URL as well.&lt;/p&gt;</comment>
                            <comment id="13057800" author="dashorst" created="Thu, 30 Jun 2011 12:58:05 +0000"  >&lt;p&gt;Solved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12483948" name="wicket-3832.patch" size="8438" author="mgrigorov" created="Mon, 27 Jun 2011 13:15:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k9zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>