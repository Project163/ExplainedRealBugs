<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:20:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4460] Wrong string encoding in JavaScriptPackageResource</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4460</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;org.apache.wicket.request.resource.JavaScriptPackageResource.processResponse(Attributes, byte[])&lt;br/&gt;
transforms javascript using an IJavaScriptCompressor if configured - which is the case by default in deployment mode, but not in development mode.&lt;br/&gt;
The problem is that the code uses UTF-8 encoding when creating the String from bytes, but when converting the result String of IJavaScriptCompressor back to bytes, the platform&apos;s default encoding is used (e.g. Cp1252 on Windows).&lt;br/&gt;
I propose to at least use the same character encoding while converting from/to bytes:&lt;/p&gt;

&lt;p&gt;something like (JavaScriptPackageResource line 59 and following):&lt;/p&gt;

&lt;p&gt;			try&lt;/p&gt;
			{
				String nonCompressed = new String(processedResponse, &quot;UTF-8&quot;);
				return compressor.compress(nonCompressed).getBytes(&quot;UTF-8&quot;);
			}
&lt;p&gt;			catch (Exception e)&lt;/p&gt;
			{
				log.error(&quot;Error while filtering content&quot;, e);
				return processedResponse;
			}


&lt;p&gt;Of course it would be even better not to make any assumtions about the encoding of the .js file, but I&apos;m not sure how one could determine that.&lt;/p&gt;</description>
                <environment>Wicket 1.5.5, Jetty 7.6.2, Windows</environment>
        <key id="12547008">WICKET-4460</key>
            <summary>Wrong string encoding in JavaScriptPackageResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="jonas">Jonas</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Mar 2012 12:00:08 +0000</created>
                <updated>Wed, 8 Jul 2015 13:41:30 +0000</updated>
                            <resolved>Mon, 19 Mar 2012 14:52:11 +0000</resolved>
                                    <version>1.5.5</version>
                                    <fixVersion>1.5.6</fixVersion>
                    <fixVersion>6.0.0-beta1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13232648" author="mgrigorov" created="Mon, 19 Mar 2012 14:52:11 +0000"  >&lt;p&gt;Changed to .getBytes(&quot;UTF-8&quot;).&lt;br/&gt;
I&apos;m also not aware of an easy way to detect the charset encoding of a text.&lt;/p&gt;</comment>
                            <comment id="14618438" author="ostlund" created="Wed, 8 Jul 2015 11:22:38 +0000"  >&lt;p&gt;After the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5827&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-5827&lt;/a&gt; this issue is back again.&lt;/p&gt;</comment>
                            <comment id="14618500" author="mgrigorov" created="Wed, 8 Jul 2015 12:13:54 +0000"  >&lt;p&gt;It is a regression.&lt;br/&gt;
Will be fixed for the next release.&lt;br/&gt;
Sorry!&lt;/p&gt;</comment>
                            <comment id="14618562" author="ostlund" created="Wed, 8 Jul 2015 13:11:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt; - Thanks.&lt;/p&gt;</comment>
                            <comment id="14618600" author="mgrigorov" created="Wed, 8 Jul 2015 13:41:30 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5946&quot; title=&quot;JavaScript/Css PackageResource should use the same charset for compressing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5946&quot;&gt;&lt;del&gt;WICKET-5946&lt;/del&gt;&lt;/a&gt; (6.21.0, 7.0.0).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12843507">WICKET-5946</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00vo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>