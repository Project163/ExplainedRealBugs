<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6021] ConcurrentModificationException in MarkupContainer#iterator#next</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6021</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I&apos;m upgrading Apache Isis to Wicket 7.1.0 (from 6.20) and I face the following problem:&lt;/p&gt;

&lt;p&gt;java.util.ConcurrentModificationException&lt;br/&gt;
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901)&lt;br/&gt;
	at java.util.ArrayList$Itr.next(ArrayList.java:851)&lt;br/&gt;
	at org.apache.wicket.MarkupContainer$1.next(MarkupContainer.java:553)&lt;br/&gt;
	at org.apache.wicket.MarkupContainer$1.next(MarkupContainer.java:522)&lt;br/&gt;
	at org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:134)&lt;br/&gt;
	at org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:162)&lt;br/&gt;
	at org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:162)&lt;br/&gt;
	at org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:123)&lt;br/&gt;
	at org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:192)&lt;br/&gt;
	at org.apache.wicket.MarkupContainer.visitChildren(MarkupContainer.java:891)&lt;br/&gt;
	at org.apache.wicket.MarkupContainer.internalInitialize(MarkupContainer.java:995)&lt;br/&gt;
	at org.apache.wicket.Page.internalPrepareForRender(Page.java:240)&lt;br/&gt;
	at org.apache.wicket.Component.render(Component.java:2304)&lt;br/&gt;
	at org.apache.wicket.Page.renderPage(Page.java:1018)&lt;/p&gt;


&lt;p&gt;I think it is caused by the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5983&quot; title=&quot;O(n^2) complexity in MarkupContainer.add&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5983&quot;&gt;&lt;del&gt;WICKET-5983&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12909799">WICKET-6021</key>
            <summary>ConcurrentModificationException in MarkupContainer#iterator#next</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="papegaaij">Emond Papegaaij</assignee>
                                    <reporter username="mgrigorov">Martin Tzvetanov Grigorov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Nov 2015 22:01:47 +0000</created>
                <updated>Fri, 6 Nov 2015 23:37:50 +0000</updated>
                            <resolved>Fri, 6 Nov 2015 23:37:42 +0000</resolved>
                                    <version>7.1.0</version>
                                    <fixVersion>7.2.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14987239" author="danhaywood" created="Tue, 3 Nov 2015 13:13:23 +0000"  >&lt;p&gt;This is repeatable with Isis&apos; kitchensink, &lt;/p&gt;

&lt;p&gt;eg &lt;br/&gt;
Bus Rules &amp;gt; List All Bus Rules Objects.&lt;/p&gt;

&lt;p&gt;... which renders a table.&lt;/p&gt;</comment>
                            <comment id="14987950" author="mgrigorov" created="Tue, 3 Nov 2015 19:39:28 +0000"  >&lt;p&gt;Here is what happens:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Wicket calls org.apache.wicket.MarkupContainer#internalInitialize() on a MarkupContainer&lt;/li&gt;
	&lt;li&gt;there #visitChildren() is used to call #onInitialize() on the children of this container&lt;/li&gt;
	&lt;li&gt;at org.apache.wicket.util.visit.Visits#visitChildren(java.lang.Iterable&amp;lt;? super S&amp;gt;, org.apache.wicket.util.visit.IVisitor&amp;lt;S,R&amp;gt;, org.apache.wicket.util.visit.IVisitFilter, org.apache.wicket.util.visit.Visit&amp;lt;R&amp;gt;) we do: for (final Object child : container)&lt;br/&gt;
i.e. there Wicket takes an Iterator for this container&lt;/li&gt;
	&lt;li&gt;if a child (or a grandchild) adds a component to the &quot;container&quot; then the CME is being thrown&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;IMO it is valid to add components to any branch in the component tree during initialization, even somewhere up in the hierarchy.&lt;/p&gt;

&lt;p&gt;I have no fix for now.&lt;br/&gt;
Any ideas?&lt;/p&gt;</comment>
                            <comment id="14988098" author="jira-bot" created="Tue, 3 Nov 2015 20:53:46 +0000"  >&lt;p&gt;Commit 2cb9bc0ccf5f45395a3e02ab664f0f1e473c3bc6 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2cb9bc0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2cb9bc0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;</comment>
                            <comment id="14988101" author="jira-bot" created="Tue, 3 Nov 2015 20:54:41 +0000"  >&lt;p&gt;Commit 74b895514ab803dba03d9d49399f5ac6fcac7601 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=74b8955&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=74b8955&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;</comment>
                            <comment id="14988128" author="jira-bot" created="Tue, 3 Nov 2015 21:10:03 +0000"  >&lt;p&gt;Commit 7b42dd04c91950b4e4e9654153e14e8ec7caf820 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7b42dd0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7b42dd0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;

&lt;p&gt;No need to use #copyChildren() explicitly. It is used internally by #iterator() now&lt;/p&gt;</comment>
                            <comment id="14988131" author="jira-bot" created="Tue, 3 Nov 2015 21:10:24 +0000"  >&lt;p&gt;Commit 63b12267117a545ea78fc5db2b75d9abc7d56b8d in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=63b1226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=63b1226&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;

&lt;p&gt;No need to use #copyChildren() explicitly. It is used internally by #iterator() now&lt;/p&gt;</comment>
                            <comment id="14989111" author="papegaaij" created="Wed, 4 Nov 2015 08:27:14 +0000"  >&lt;p&gt;I don&apos;t really like this solution. Every iteration of the children of a component now creates a copy of that list. depending on the number of components, copying the children can be a very expensive operation. For large subtrees, it requires the creation of a large array, an ArrayList and a full iteration over a LinkedHashMap. The ArrayList (and array) need to be garbage-collected after completion.&lt;/p&gt;

&lt;p&gt;I think we should try to find a different solution. Either we do not allow modifications of the children during iteration, or we make sure the iterator can handle these cases, without copying the list prior to iteration. The current solution also has a serious problem: children added during iteration are not visited.&lt;/p&gt;</comment>
                            <comment id="14989125" author="mgrigorov" created="Wed, 4 Nov 2015 08:38:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Either we do not allow modifications of the children during iteration&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This will be 1) a regression; 2) hard to cover all cases.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The current solution also has a serious problem: children added during iteration are not visited.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;1) 7.1.0 doesn&apos;t support this too, it blows with CME&lt;br/&gt;
2) I believe 7.0.0/6.x doesn&apos;t support this use case too&lt;/p&gt;

&lt;p&gt;I&apos;ll prepare a test case.&lt;/p&gt;</comment>
                            <comment id="14989129" author="papegaaij" created="Wed, 4 Nov 2015 08:41:35 +0000"  >&lt;p&gt;As Martijn and I worked on this code in 7.1.0, we will try to fix this. More testcases are always fine &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14989178" author="jira-bot" created="Wed, 4 Nov 2015 09:18:53 +0000"  >&lt;p&gt;Commit b9ec66706ba57f27b7a849ed623915b494e5cf4d in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b9ec667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b9ec667&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;

&lt;p&gt;Add a test case that exposes the CME in 7.1.0&lt;/p&gt;</comment>
                            <comment id="14989180" author="jira-bot" created="Wed, 4 Nov 2015 09:19:19 +0000"  >&lt;p&gt;Commit 75d5b5c0f643de592f5640e8f55c5dfe158594e1 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=75d5b5c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=75d5b5c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException in MarkupContainer#iterator#next&lt;/p&gt;

&lt;p&gt;Add a test case that exposes the CME in 7.1.0&lt;/p&gt;</comment>
                            <comment id="14989186" author="mgrigorov" created="Wed, 4 Nov 2015 09:21:34 +0000"  >&lt;p&gt;The test is AddChildToParentInOnInitializeTest.&lt;/p&gt;</comment>
                            <comment id="14994642" author="jira-bot" created="Fri, 6 Nov 2015 23:03:27 +0000"  >&lt;p&gt;Commit 53608478f013899604ab986ed9fbfdd0400d9e4e in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dashorst&quot; class=&quot;user-hover&quot; rel=&quot;dashorst&quot;&gt;dashorst&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5360847&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5360847&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt;: consistent iteration even after modifications&lt;/p&gt;

&lt;p&gt;This commit fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; by implementing an improved iterator for&lt;br/&gt;
markupcontainer that is able to act on changes in the implementation of&lt;br/&gt;
the underlying data structure that stores the children without throwing&lt;br/&gt;
a ConcurrentModificationException.&lt;/p&gt;</comment>
                            <comment id="14994644" author="jira-bot" created="Fri, 6 Nov 2015 23:03:28 +0000"  >&lt;p&gt;Commit 53608478f013899604ab986ed9fbfdd0400d9e4e in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dashorst&quot; class=&quot;user-hover&quot; rel=&quot;dashorst&quot;&gt;dashorst&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5360847&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5360847&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt;: consistent iteration even after modifications&lt;/p&gt;

&lt;p&gt;This commit fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; by implementing an improved iterator for&lt;br/&gt;
markupcontainer that is able to act on changes in the implementation of&lt;br/&gt;
the underlying data structure that stores the children without throwing&lt;br/&gt;
a ConcurrentModificationException.&lt;/p&gt;</comment>
                            <comment id="14994711" author="jira-bot" created="Fri, 6 Nov 2015 23:37:16 +0000"  >&lt;p&gt;Commit 9f8f2f2f5f7df873061679c80edd151c94afdd38 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dashorst&quot; class=&quot;user-hover&quot; rel=&quot;dashorst&quot;&gt;dashorst&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=9f8f2f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=9f8f2f2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt;: consistent iteration even after modifications&lt;/p&gt;

&lt;p&gt;This commit fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; by implementing an improved iterator for&lt;br/&gt;
markupcontainer that is able to act on changes in the implementation of&lt;br/&gt;
the underlying data structure that stores the children without throwing&lt;br/&gt;
a ConcurrentModificationException.&lt;/p&gt;</comment>
                            <comment id="14994712" author="jira-bot" created="Fri, 6 Nov 2015 23:37:17 +0000"  >&lt;p&gt;Commit 9f8f2f2f5f7df873061679c80edd151c94afdd38 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dashorst&quot; class=&quot;user-hover&quot; rel=&quot;dashorst&quot;&gt;dashorst&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=9f8f2f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=9f8f2f2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt;: consistent iteration even after modifications&lt;/p&gt;

&lt;p&gt;This commit fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6021&quot; title=&quot;ConcurrentModificationException in MarkupContainer#iterator#next&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6021&quot;&gt;&lt;del&gt;WICKET-6021&lt;/del&gt;&lt;/a&gt; by implementing an improved iterator for&lt;br/&gt;
markupcontainer that is able to act on changes in the implementation of&lt;br/&gt;
the underlying data structure that stores the children without throwing&lt;br/&gt;
a ConcurrentModificationException.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nugn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>