<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6461] Default constructor is incorrectly called if optional param is not provided in parameter placeholder URL with additional required parameter</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6461</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;From the documentation here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci.apache.org/projects/wicket/guide/6.x/guide/urls.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.apache.org/projects/wicket/guide/6.x/guide/urls.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m following the section titled, &quot;Using parameter placeholders with mounted pages&quot;.&lt;/p&gt;

&lt;p&gt;In the documentation from here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/Request+mapping&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/WICKET/Request+mapping&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Named parameters - /page/${named1}/${named2}

mountPage(&lt;span class=&quot;code-quote&quot;&gt;&quot;/page/${named1}/${named2}&quot;&lt;/span&gt;, MyPage.class);
Now a request to &lt;span class=&quot;code-quote&quot;&gt;&quot;/page/a/b&quot;&lt;/span&gt; will be handled by MyPage and the parameters can be get with PageParameters.get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) (e.g. parameters.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;named1&quot;&lt;/span&gt;) will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;)

Optional named parameters - /page/${named1}/#{named2\

mountPage(&lt;span class=&quot;code-quote&quot;&gt;&quot;/page/${named1}/#{named2}&quot;&lt;/span&gt;, MyPage.class);
This means the second parameter is optional. Requests to &lt;span class=&quot;code-quote&quot;&gt;&quot;/page/a/b&quot;&lt;/span&gt; , &lt;span class=&quot;code-quote&quot;&gt;&quot;/page/a/b/&quot;&lt;/span&gt; and &lt;span class=&quot;code-quote&quot;&gt;&quot;/page/a/&quot;&lt;/span&gt; will be handled by MyPage and the parameters can be get with PageParameters.get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) (e.g. parameters.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;named2&quot;&lt;/span&gt;) will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the first &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; and &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the second).
The mapper is smart enough to handle optional named parameters in any segment, not just the last one.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it states: &quot;The mapper is smart enough to handle optional named parameters in any segment, not just the last one.&quot;&lt;/p&gt;

&lt;p&gt;I&apos;ve found it does matter IF other segments in the url are also parameter placeholders. The resulting behaviour is that if the optional parameter placeholder isn&apos;t provided in the URL, the page&apos;s default constructor gets called instead of the PageParameter constructor as expected (since there are still additional PageParameter data that may need to be processed by the page). &lt;/p&gt;

&lt;p&gt;Here is my example:&lt;/p&gt;

&lt;p&gt;From child class of AdtAuthenticatedWebApplication&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Override
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void init() 
{
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.init();

    mountPage(&lt;span class=&quot;code-quote&quot;&gt;&quot;/foo/#{optParam}/${otherParam}&quot;&lt;/span&gt;, MyPage.class);
    &lt;span class=&quot;code-comment&quot;&gt;//mountPage(&lt;span class=&quot;code-quote&quot;&gt;&quot;/foo/${otherParam}/#{optParam}&quot;&lt;/span&gt;,  MyPage.class); &amp;lt;--- NOTE: This works as expected
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In child class of WebPage&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyPage &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WebPage
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MyPage(PageParameters parameters) 
    {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(parameters);

        StringValue optParam = parameters.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;optParam&quot;&lt;/span&gt;);
        StringValue otherParam = parameters.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;otherParam&quot;&lt;/span&gt;);

       &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something...
&lt;/span&gt;    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MyPage()
    {        
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalAccessError(&lt;span class=&quot;code-quote&quot;&gt;&quot;The &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; constructor should not be instantiated&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And in a different class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; BookmarkablePageLink getBookmarkableLink(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; id, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; optParam, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; otherParam)
 {         
        PageParameters pageParam = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PageParameters();
                
        pageParam.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;otherParam&quot;&lt;/span&gt;, otherParam);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (optParam != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !optParam.isEmpty())
        {
            pageParam.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;optParam&quot;&lt;/span&gt;, optParam);
        }
                
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BookmarkablePageLink(id, MyPage.class, pageParam);             
    } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here are the result of clicking on the BookmarkablePageLinks created:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/foo/baz/bar  -- calls MyPage(PageParameters parameters) constructor
/foo/bar -- attempts to call MyPage &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; constructor (exception thrown)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception thrown is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Last cause: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; org.apache.wicket.session.DefaultPageFactory can not access a member of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ca.example.&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;.testing.MyPage with modifiers &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;&quot;&lt;/span&gt;
WicketMessage: Can&lt;span class=&quot;code-quote&quot;&gt;&apos;t instantiate page using constructor &apos;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ca.example.&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;.testing.MyPage()&apos;. This constructor is &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13099243">WICKET-6461</key>
            <summary>Default constructor is incorrectly called if optional param is not provided in parameter placeholder URL with additional required parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="mweston4">Melissa Beldman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Sep 2017 14:41:55 +0000</created>
                <updated>Mon, 2 Oct 2017 08:17:09 +0000</updated>
                            <resolved>Mon, 25 Sep 2017 19:20:25 +0000</resolved>
                                    <version>6.22.0</version>
                                    <fixVersion>8.0.0-M8</fixVersion>
                    <fixVersion>7.10.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16152492" author="svenmeier" created="Mon, 4 Sep 2017 11:28:06 +0000"  >&lt;p&gt;Please provide a quickstart. Thanks!&lt;/p&gt;</comment>
                            <comment id="16153921" author="mweston4" created="Tue, 5 Sep 2017 16:26:03 +0000"  >&lt;p&gt;Quickstart Added.&lt;/p&gt;</comment>
                            <comment id="16157437" author="svenmeier" created="Thu, 7 Sep 2017 18:53:11 +0000"  >&lt;p&gt;You&apos;re right, with a page mounted on &lt;tt&gt;&quot;/params/#&amp;#123;optional}/$&amp;#123;required}&quot;&lt;/tt&gt;, a Url &lt;tt&gt;&quot;params/required&quot;&lt;/tt&gt; will hit that page but without any parameters.&lt;br/&gt;
Either it should not hit the page at all, or preferably create an instance with the required parameter.&lt;/p&gt;

&lt;p&gt;I&apos;m working on a test case. For now you could insert a fixed segment between the optional and required parameter, e.g. &lt;tt&gt;&quot;/params/#&amp;#123;optional}/fixed/$&amp;#123;required}&quot;&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16179612" author="jira-bot" created="Mon, 25 Sep 2017 19:18:52 +0000"  >&lt;p&gt;Commit 2283dc502fca56f9e912823a4f94a629188aa63f in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2283dc5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2283dc5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6461&quot; title=&quot;Default constructor is incorrectly called if optional param is not provided in parameter placeholder URL with additional required parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6461&quot;&gt;&lt;del&gt;WICKET-6461&lt;/del&gt;&lt;/a&gt; don&apos;t consume segments for optional parameters if required parameters are following&lt;/p&gt;</comment>
                            <comment id="16179614" author="jira-bot" created="Mon, 25 Sep 2017 19:19:08 +0000"  >&lt;p&gt;Commit 03ce95252999353d048b9cc0c089550e5944edea in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=03ce952&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=03ce952&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6461&quot; title=&quot;Default constructor is incorrectly called if optional param is not provided in parameter placeholder URL with additional required parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6461&quot;&gt;&lt;del&gt;WICKET-6461&lt;/del&gt;&lt;/a&gt; don&apos;t consume segments for optional parameters if required parameters are following&lt;/p&gt;</comment>
                            <comment id="16179616" author="svenmeier" created="Mon, 25 Sep 2017 19:20:25 +0000"  >&lt;p&gt;Parsing of parameters works now for optional before required parameters.&lt;/p&gt;</comment>
                            <comment id="16179619" author="svenmeier" created="Mon, 25 Sep 2017 19:22:09 +0000"  >&lt;p&gt;Note that one of your use-cases in your example still calls the default constructor:&lt;/p&gt;

&lt;p&gt;Mounted with &quot;/&lt;/p&gt;
{#optional}
&lt;p&gt;/fixed&quot;, the URL &quot;/fixed&quot; will result in no parameters, thus the no-arg constructor will be called.&lt;/p&gt;</comment>
                            <comment id="16187747" author="jira-bot" created="Mon, 2 Oct 2017 08:17:09 +0000"  >&lt;p&gt;Commit 2283dc502fca56f9e912823a4f94a629188aa63f in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6105&quot; title=&quot;Decommission wicket-datetime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6105&quot;&gt;&lt;del&gt;WICKET-6105&lt;/del&gt;&lt;/a&gt;-java.time from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2283dc5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2283dc5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6461&quot; title=&quot;Default constructor is incorrectly called if optional param is not provided in parameter placeholder URL with additional required parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6461&quot;&gt;&lt;del&gt;WICKET-6461&lt;/del&gt;&lt;/a&gt; don&apos;t consume segments for optional parameters if required parameters are following&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12885416" name="quickstartPP.zip" size="5804339" author="mweston4" created="Tue, 5 Sep 2017 16:25:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jjyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>