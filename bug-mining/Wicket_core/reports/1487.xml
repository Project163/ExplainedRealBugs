<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6645] Concurrent web socket response message processing on the client</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6645</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;In some circumstances it is possible that the order in which WebSocketProcesses are getting processed causes trouble.&lt;/p&gt;

&lt;p&gt;In our case we have multiple items using a JS resource on a page. Each item has its own thread for WebSockets. The first arriving thread starts loading the JS, the next one may arrive before the resource has been loaded completely but will act like it is and call undefined functions. So the problem is the paralell processing where a resource is mistaken to be available.&lt;/p&gt;

&lt;p&gt;I created a quickstart to reproduce the error, overriding the default WebSocketPushMessageExecuter, WebSocketPushMessage and implemented a Runnable. The page will try to load two images, executing a JS setting the src to a base64 encoded wicket logo (to increase size of the resource). One of the images will be displayed, the other one will fail to load. After it has been loaded, refreshing the site may result in both images beeing displayed, depending on your browser settings.&lt;/p&gt;

&lt;p&gt;A workaround to make this work would be to use the Wicket.channelManager schedule to process. I provided the changed wicket-websocket-jquery.js where it is implemented. I had to pull the FunctionsExecuter into this file, because access in wicket-ajax-jquery.js is private.&lt;/p&gt;

&lt;p&gt;I reproduced it for wicket 7.12.0 but it doesn&apos;t seem like this has been touched since then, so this might (or should) affect all versions since then.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13220843">WICKET-6645</key>
            <summary>Concurrent web socket response message processing on the client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="m_johnson">Marc Johnson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Mar 2019 13:11:02 +0000</created>
                <updated>Fri, 15 Mar 2019 07:22:12 +0000</updated>
                            <resolved>Fri, 15 Mar 2019 07:21:53 +0000</resolved>
                                    <version>7.12.0</version>
                                    <fixVersion>9.0.0-M1</fixVersion>
                    <fixVersion>8.4.0</fixVersion>
                    <fixVersion>7.13.0</fixVersion>
                                    <component>wicket-native-websocket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16793374" author="jira-bot" created="Fri, 15 Mar 2019 06:52:34 +0000"  >&lt;p&gt;Commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9 in wicket&apos;s branch refs/heads/wicket-7.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=17e8451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=17e8451&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16793375" author="jira-bot" created="Fri, 15 Mar 2019 06:52:35 +0000"  >&lt;p&gt;Commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9 in wicket&apos;s branch refs/heads/wicket-7.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=17e8451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=17e8451&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16793396" author="jira-bot" created="Fri, 15 Mar 2019 07:18:29 +0000"  >&lt;p&gt;Commit 8092152b2ace0794e80366ca88c96434d9f2406e in wicket&apos;s branch refs/heads/wicket-7.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=8092152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=8092152&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Concurrent web socket response message processing on the client&lt;/p&gt;

&lt;p&gt;Execute the Wicket WebSocket messages (the ones inside &amp;lt;ajax-document&amp;gt; XML envelope) with FunctionsExecuter with AjaxChannel.QUEUE, so that they follow their order&lt;/p&gt;</comment>
                            <comment id="16793398" author="jira-bot" created="Fri, 15 Mar 2019 07:20:26 +0000"  >&lt;p&gt;Commit 59510077548215b403eaef8b60c75aea78ebf4dd in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=5951007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=5951007&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9)&lt;/p&gt;</comment>
                            <comment id="16793399" author="jira-bot" created="Fri, 15 Mar 2019 07:20:27 +0000"  >&lt;p&gt;Commit 59510077548215b403eaef8b60c75aea78ebf4dd in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=5951007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=5951007&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9)&lt;/p&gt;</comment>
                            <comment id="16793400" author="jira-bot" created="Fri, 15 Mar 2019 07:20:28 +0000"  >&lt;p&gt;Commit 4840b38f961bc959aa9bb36b5b157730936af8c1 in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4840b38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=4840b38&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Concurrent web socket response message processing on the client&lt;/p&gt;

&lt;p&gt;Execute the Wicket WebSocket messages (the ones inside &amp;lt;ajax-document&amp;gt; XML envelope) with FunctionsExecuter with AjaxChannel.QUEUE, so that they follow their order&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 8092152b2ace0794e80366ca88c96434d9f2406e)&lt;/p&gt;</comment>
                            <comment id="16793401" author="mgrigorov" created="Fri, 15 Mar 2019 07:21:54 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=m_johnson&quot; class=&quot;user-hover&quot; rel=&quot;m_johnson&quot;&gt;m_johnson&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;It seems you understand quite good Wicket Ajax and WebSocket internals! Kudos!&lt;/p&gt;</comment>
                            <comment id="16793402" author="jira-bot" created="Fri, 15 Mar 2019 07:22:10 +0000"  >&lt;p&gt;Commit 41e9eb2e36dd6b6379abf5ed54cf28c3936ff131 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=41e9eb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=41e9eb2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9)&lt;/p&gt;</comment>
                            <comment id="16793403" author="jira-bot" created="Fri, 15 Mar 2019 07:22:11 +0000"  >&lt;p&gt;Commit 41e9eb2e36dd6b6379abf5ed54cf28c3936ff131 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=41e9eb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=41e9eb2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Replace double quotes with single quotes&lt;/p&gt;

&lt;p&gt;To make their usage consistent in the file, and to make it easier to apply the next changes from the &quot;patch&quot; in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 17e8451b1440f16163dd3cf7a0a5ffefe89b9ff9)&lt;/p&gt;</comment>
                            <comment id="16793404" author="jira-bot" created="Fri, 15 Mar 2019 07:22:12 +0000"  >&lt;p&gt;Commit 69e402505a7cbe5516319cbeaa4787abea27c54a in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=69e4025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=69e4025&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6645&quot; title=&quot;Concurrent web socket response message processing on the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6645&quot;&gt;&lt;del&gt;WICKET-6645&lt;/del&gt;&lt;/a&gt; Concurrent web socket response message processing on the client&lt;/p&gt;

&lt;p&gt;Execute the Wicket WebSocket messages (the ones inside &amp;lt;ajax-document&amp;gt; XML envelope) with FunctionsExecuter with AjaxChannel.QUEUE, so that they follow their order&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 8092152b2ace0794e80366ca88c96434d9f2406e)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12961981" name="quickstart.zip" size="570347" author="m_johnson" created="Mon, 11 Mar 2019 13:08:52 +0000"/>
                            <attachment id="12961980" name="wicket-websocket-jquery.js" size="10806" author="m_johnson" created="Mon, 11 Mar 2019 13:09:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00kco:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>