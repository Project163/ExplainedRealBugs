<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:21:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5119] PopupSettings IE8 - dosen&apos;t work second time a link is clicked.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5119</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The popup functionality causes a script error in IE8, if the popup window is already open. As a result the link&apos;s default behaviour is executed instead - as &apos; return false; &apos; never is reached.&lt;/p&gt;

&lt;p&gt;Class: org.apache.wicket.markup.html.link.PopupSettings&lt;/p&gt;

&lt;p&gt;The problem exists in line: 188 //  if(w.blur) w.focus();&lt;/p&gt;

&lt;p&gt;In IE8 blur and focus isen&apos;t defined - secound time a popup link is called and therefore the logic breaks.&lt;/p&gt;

&lt;p&gt;//An alternative: (test if w.blur is defined)&lt;br/&gt;
script.append(&quot;&apos;); if( jQuery.isFunction( w.blur ) &amp;amp;&amp;amp; w.blur ) &lt;/p&gt;
{ w.focus(); }
&lt;p&gt; &quot;).append(&quot; return false;&quot;);&lt;/p&gt;

&lt;p&gt;Br,&lt;br/&gt;
Uffe.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12639350">WICKET-5119</key>
            <summary>PopupSettings IE8 - dosen&apos;t work second time a link is clicked.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="uheerfordt">Uffe Heerfordt</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Mar 2013 16:02:45 +0000</created>
                <updated>Thu, 2 May 2013 09:49:11 +0000</updated>
                            <resolved>Fri, 26 Apr 2013 14:47:18 +0000</resolved>
                                    <version>6.4.0</version>
                                    <fixVersion>6.8.0</fixVersion>
                    <fixVersion>1.5.11</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="13625871" author="mgrigorov" created="Mon, 8 Apr 2013 21:48:11 +0000"  >&lt;p&gt;I cannot reproduce the problem.&lt;br/&gt;
I don&apos;t have real IE 7/8 around so I use IE9 in IE 7/8 mode.&lt;br/&gt;
At &lt;a href=&quot;http://www.wicket-library.com/wicket-examples-6.0.x/linkomatic/home&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.wicket-library.com/wicket-examples-6.0.x/linkomatic/home&lt;/a&gt; I click on the link with text &quot;Click this link for a popup&quot; and then I click second time on the same link without closing the popup.&lt;br/&gt;
Are the steps correct ?&lt;/p&gt;

&lt;p&gt;Could it be something related to your installation of IE 8 ? Can you try from a different machine too ? Also please try with different DOCTYPE, preferably HTML5.&lt;/p&gt;</comment>
                            <comment id="13627027" author="hillj2" created="Tue, 9 Apr 2013 20:13:06 +0000"  >&lt;p&gt;I have been running into this issue recently as well.  In my case, the link is bringing up a PDF document.  Perhaps the fact that it is not an HTML document, some of the object data is being discarded so that repeated calls to window.open, using the same window name, are failing.&lt;/p&gt;

&lt;p&gt;If I override PopupSettings.getPopupJavaScript() with the following, I get an error message of &quot;Error: Member not found.&quot;:&lt;/p&gt;

&lt;p&gt;return &quot;try &lt;/p&gt;
{&quot; + super.getPopupJavaScript() + &quot;}
&lt;p&gt; catch (err) &lt;/p&gt;
{alert(err);}
&lt;p&gt;&quot;;&lt;/p&gt;

&lt;p&gt;I have found this to be a very crude workaround, which also overrides PopupSettings.getPopupJavaScript():&lt;/p&gt;

&lt;p&gt;return &quot;var win = window.open(&apos;about:blank&apos;, &apos;&quot; + WINDOW_NAME + &quot;&apos;,&apos;width=&quot;+ WIDTH +&quot;,height=&quot; + HEIGHT + &quot;&apos;); win.close(); &quot; + super.getPopupJavaScript();&lt;/p&gt;

&lt;p&gt;The big downside is the FIRST time you click the link, a temporary window pops up and quickly closes before your actual link content appears.  That is the main reason I included width and height above, so the window mostly appears similar to the final popup.  Also WINDOW_NAME must match whatever window name you&apos;re passing to PopupSettings.  The following link talks about this issue, and also links to another page where I got this crude workaround:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/987572/opening-a-popup-in-ie-member-not-found&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/987572/opening-a-popup-in-ie-member-not-found&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The solution provided at stackoverflow may be a better option, but could not be accomplished with a simple override of getPopupJavaScript().  The strange thing is this issue did not occur when I was still using wicket 1.4.  I know I had to make significant code changes when I converted to 1.5, but I have yet to see how any of those changes would suddenly cause this bug to occur.  I am still investigating this issue on my own, now that I am narrowing in on the cause.&lt;/p&gt;</comment>
                            <comment id="13627060" author="hillj2" created="Tue, 9 Apr 2013 20:30:01 +0000"  >&lt;p&gt;Also, this bug appears in IE10, so I would assume IE9 is not immune to it.&lt;/p&gt;</comment>
                            <comment id="13628736" author="mgrigorov" created="Thu, 11 Apr 2013 07:10:50 +0000"  >&lt;p&gt;Hi Joel,&lt;/p&gt;

&lt;p&gt;Can you reproduce the problem at &lt;a href=&quot;http://www.wicket-library.com/wicket-examples-6.0.x/linkomatic/home&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.wicket-library.com/wicket-examples-6.0.x/linkomatic/home&lt;/a&gt; ?&lt;br/&gt;
What steps I should follow to be able to reproduce it ?&lt;/p&gt;</comment>
                            <comment id="13628974" author="hillj2" created="Thu, 11 Apr 2013 14:33:13 +0000"  >&lt;p&gt;I cannot reproduce it at linkomatic, but there also isn&apos;t a popup that brings up a PDF file.  I don&apos;t know what the original reporter&apos;s link is bringing up, but having a PDF popup seems to be integral to my issue (I have HTML popups that work fine).  For some reason the focus() method is not defined for the javascript window object in IE.  When the call to focus fails, since the URL is defined in the HREF attribute, IE navigates the main window to the PDF document.  However, since the error occurs after the call to window.open, the PDF document loads in existing popup as well.&lt;/p&gt;

&lt;p&gt;If I had time, I would try and add a PDF popup to the linkomatic example.  Unfortunately I have to move on to a different task for now.  I don&apos;t know if or when I&apos;ll be able to swing back around to this problem and see if I can recreate it by modifying linkomatic.&lt;/p&gt;

&lt;p&gt;For now I have to drop in a partial workaround in our app and move on.&lt;/p&gt;</comment>
                            <comment id="13628977" author="mgrigorov" created="Thu, 11 Apr 2013 14:35:28 +0000"  >&lt;p&gt;Please attach a quickstart demonstrating the problem and we will fix it for the next version of Wicket.&lt;/p&gt;</comment>
                            <comment id="13631001" author="uheerfordt" created="Sat, 13 Apr 2013 10:01:38 +0000"  >&lt;p&gt;Quickstart project that shows the problem in IE.&lt;/p&gt;</comment>
                            <comment id="13631004" author="uheerfordt" created="Sat, 13 Apr 2013 10:10:08 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;My first report was maybe a bit vague so I have now added a Quickstart project that can recreate the issue.  The issue is only visible in Internet Explorer and I have been able to reproduce it in IE8,IE9 and IE10.&lt;/p&gt;

&lt;p&gt;Steps to reproduce the problem:&lt;/p&gt;

&lt;p&gt;1. Start the attached quickstart project&lt;br/&gt;
2. Click one first link on the default page. (popup shows nicely and has the focus) &lt;br/&gt;
3. Now click on secound link without closing the popupwindow.  (script error occurs and content is shown in main window)&lt;/p&gt;

&lt;p&gt;Script Error:  &apos;Member not found&apos; is thrown when focus() is called on the popup window.&lt;/p&gt;

&lt;p&gt;Br,&lt;br/&gt;
Uffe&lt;/p&gt;</comment>
                            <comment id="13637955" author="mgrigorov" created="Mon, 22 Apr 2013 12:15:34 +0000"  >&lt;p&gt;Hi Uffe,&lt;/p&gt;

&lt;p&gt;I was not able to reproduce the problem with your application because my IE9 was downloading the .pdf instead of showing it in a popup window.&lt;/p&gt;

&lt;p&gt;Can you try with &quot;pages-in-popup.tgz&quot; ? &lt;br/&gt;
It works fine for me. IE9 v.9.0.8 on Windows 7&lt;/p&gt;</comment>
                            <comment id="13637965" author="mgrigorov" created="Mon, 22 Apr 2013 12:27:44 +0000"  >&lt;p&gt;I&apos;m able to reproduce the problem now.&lt;/p&gt;</comment>
                            <comment id="13637985" author="mgrigorov" created="Mon, 22 Apr 2013 13:10:23 +0000"  >&lt;p&gt;The suggested solution:&lt;/p&gt;

&lt;p&gt;    script.append(&quot;&apos;); if( jQuery.isFunction( w.blur ) &amp;amp;&amp;amp; w.blur ) &lt;/p&gt;
{ w.focus(); }
&lt;p&gt; &quot;).append(&quot; return false;&quot;); &lt;/p&gt;

&lt;p&gt;doesn&apos;t work for me. It fails with an error in the dev tools&apos; console.&lt;/p&gt;

&lt;p&gt;According to &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ms536425%28VS.85%29.aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://msdn.microsoft.com/en-us/library/ms536425%28VS.85%29.aspx&lt;/a&gt; :&lt;/p&gt;

&lt;p&gt;    Windows Internet Explorer 8 and later. The focus method no longer brings child windows (such as those created with the open method) to the foreground. Child windows now request focus from the user, usually by flashing the title bar. To directly bring the window to the foreground, add script to the child window that calls the focus method of its window object.&lt;/p&gt;

&lt;p&gt;So it seems there is no way to bring to the foreground a popup with a PDF content. If the content is HTML then you should use OnDomReadyHeaderItem.forScript(&quot;self.focus()&quot;).&lt;/p&gt;

&lt;p&gt;Removing the problematic &quot;if (w.blur) w.focus()&quot; doesn&apos;t break the current behavior in Chrome browser, but breaks it in Firefox, i.e. the popup window is not focused after loading the new content - as in IE.&lt;br/&gt;
At the moment I don&apos;t have a better solution.&lt;/p&gt;</comment>
                            <comment id="13639412" author="uheerfordt" created="Tue, 23 Apr 2013 18:56:19 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The first proposed solution wasen&apos;t very thought through by me -  I have afterwards attempted different solutions like doing an explict close() on the popup... attempting to to store the window in a global variable to reuse it... and doing a document write... to get IE to unload the plugin.  However none of the attempts fully worked,  I guess the two options are to either remove the focus logic or to supress the exception by adding try{}catch(ignore){} around the statement.. When testing in IE without the logic, it seems to auto focus the popup automaticly.  There dosen&apos;t seem to be a perfect fix for this atm, only a workaround.&lt;/p&gt;

&lt;p&gt;Br,&lt;br/&gt;
Uffe&lt;/p&gt;</comment>
                            <comment id="13642905" author="mgrigorov" created="Fri, 26 Apr 2013 14:47:18 +0000"  >&lt;p&gt;I&apos;ve tried many things and none of them made IE9 focusing the popup when the second link is clicked.&lt;br/&gt;
So I&apos;ve try/catched the focusing code as you suggested.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579827" name="pages-in-popup.tgz" size="260349" author="mgrigorov" created="Mon, 22 Apr 2013 12:15:34 +0000"/>
                            <attachment id="12578594" name="quickstart-onissue.zip" size="262618" author="uheerfordt" created="Sat, 13 Apr 2013 10:01:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j6lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>