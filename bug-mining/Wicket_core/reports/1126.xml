<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5858] AjaxRequestTarget.focusComponent does not work in modal window</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5858</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Opening modal window and focusing a field in it does not work anymore.&lt;/p&gt;

&lt;p&gt;This worked in Wicket 6.16.0 and older versions, but does not work in 6.17.0, 6.18.0 and 6.19.0.&lt;/p&gt;

&lt;p&gt;This is basically same issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5781&quot; title=&quot;AjaxRequestTarget#.focusComponent  does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5781&quot;&gt;&lt;del&gt;WICKET-5781&lt;/del&gt;&lt;/a&gt; but it was wrongly marked as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5755&quot; title=&quot;Restoring focus after Ajax replace no longer works in IE8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5755&quot;&gt;&lt;del&gt;WICKET-5755&lt;/del&gt;&lt;/a&gt; and resolved in 6.19.0. They are actually different problems and this problem is still not fixed in 6.19.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782212">WICKET-5858</key>
            <summary>AjaxRequestTarget.focusComponent does not work in modal window</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klopfdreh">Tobias Soloschenko</assignee>
                                    <reporter username="mikulka">Mikk Lauringson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2015 14:27:43 +0000</created>
                <updated>Tue, 19 Jul 2016 22:14:42 +0000</updated>
                            <resolved>Wed, 18 Mar 2015 09:59:21 +0000</resolved>
                                    <version>6.19.0</version>
                                    <fixVersion>6.20.0</fixVersion>
                    <fixVersion>7.0.0-M6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14363259" author="mikulka" created="Mon, 16 Mar 2015 14:31:11 +0000"  >&lt;p&gt;QuickStart example project. Clicking link opens modal window and field in modal window gets focused with Wicket 6.16.0, but no with Wicket 6.19.0.&lt;/p&gt;</comment>
                            <comment id="14365381" author="jira-bot" created="Tue, 17 Mar 2015 15:57:49 +0000"  >&lt;p&gt;Commit 95d65069ba45d611182afc8332614f128ad7ea36 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=klopfdreh&quot; class=&quot;user-hover&quot; rel=&quot;klopfdreh&quot;&gt;klopfdreh&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=95d6506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=95d6506&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14365389" author="jira-bot" created="Tue, 17 Mar 2015 16:01:21 +0000"  >&lt;p&gt;Commit a9ddabc70f5c0de656475c74710163fee9ba6c12 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=klopfdreh&quot; class=&quot;user-hover&quot; rel=&quot;klopfdreh&quot;&gt;klopfdreh&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a9ddabc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a9ddabc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14365397" author="klopfdreh" created="Tue, 17 Mar 2015 16:06:31 +0000"  >&lt;p&gt;Fixed in 6.20.0 / 7.0.0&lt;/p&gt;</comment>
                            <comment id="14365411" author="klopfdreh" created="Tue, 17 Mar 2015 16:11:15 +0000"  >&lt;p&gt;Can you test it by using the current SNAPSHOT? I tested it with current versions of Safari / FF / Chrome and it seems to work on every platform, now.&lt;/p&gt;</comment>
                            <comment id="14366059" author="mgrigorov" created="Tue, 17 Mar 2015 20:50:54 +0000"  >&lt;p&gt;Is &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5564&quot; title=&quot;AjaxRequestTarget.focusComponent() does not work when two Ajax responses arrive next to each other&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5564&quot;&gt;&lt;del&gt;WICKET-5564&lt;/del&gt;&lt;/a&gt; still working ?&lt;/p&gt;</comment>
                            <comment id="14366074" author="klopfdreh" created="Tue, 17 Mar 2015 21:00:21 +0000"  >&lt;p&gt;You can wrap setTimeout in setTimeout, so this should continue working.&lt;/p&gt;</comment>
                            <comment id="14366087" author="mgrigorov" created="Tue, 17 Mar 2015 21:06:53 +0000"  >&lt;p&gt;Actually with &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5564&quot; title=&quot;AjaxRequestTarget.focusComponent() does not work when two Ajax responses arrive next to each other&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5564&quot;&gt;&lt;del&gt;WICKET-5564&lt;/del&gt;&lt;/a&gt; we have removed the setTimeout() because it was causing issues.&lt;br/&gt;
Now I see more code is being put back in setTimeout().&lt;/p&gt;</comment>
                            <comment id="14366105" author="klopfdreh" created="Tue, 17 Mar 2015 21:15:42 +0000"  >&lt;p&gt;This is a different place. You said that you removed the timeout in &quot;steps.push(function(notify)&quot;, but the setTimeout I applied is in the function &quot;requestFocus: function()&quot;. &lt;/p&gt;

&lt;p&gt;The reason why I applied it is that if a modal window is opened it is done within a setTimeout - the call to request the focus is simply added behind that. So the focus is requested before the modal window is opened and the field is not receiving the focus:&lt;/p&gt;

&lt;p&gt;&amp;lt;![CDATA[(function(){var element = document.getElementById(&quot;content3&quot;);&lt;br/&gt;
var settings = new Object();&lt;br/&gt;
settings.minWidth=200;&lt;br/&gt;
settings.minHeight=200;&lt;br/&gt;
settings.className=&quot;w_blue&quot;;&lt;br/&gt;
settings.width=600;&lt;br/&gt;
settings.height=400;&lt;br/&gt;
settings.resizable=true;&lt;br/&gt;
settings.element=element;&lt;br/&gt;
settings.mask=&quot;semi-transparent&quot;;&lt;br/&gt;
settings.autoSize=false;&lt;br/&gt;
settings.unloadConfirmation=true;&lt;br/&gt;
settings.onClose = function() { Wicket.Ajax.ajax(&lt;/p&gt;
{&quot;u&quot;:&quot;./?0-1.IBehaviorListener.1-window&quot;,&quot;c&quot;:&quot;window2&quot;}
&lt;p&gt;); };&lt;br/&gt;
window.setTimeout(function(){&lt;br/&gt;
  Wicket.Window.create(settings).show();&lt;br/&gt;
}, 0);&lt;br/&gt;
})();(function()&lt;/p&gt;
{Wicket.Focus.setFocusOnId(&apos;field4&apos;);}
&lt;p&gt;)();]]&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14366110" author="klopfdreh" created="Tue, 17 Mar 2015 21:19:29 +0000"  >&lt;p&gt;Further information: &lt;a href=&quot;http://stackoverflow.com/questions/1096436/document-getelementbyidid-focus-is-not-working-for-firefox-or-chrome&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/1096436/document-getelementbyidid-focus-is-not-working-for-firefox-or-chrome&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14366130" author="mgrigorov" created="Tue, 17 Mar 2015 21:34:52 +0000"  >&lt;p&gt;OK. Hopefully there won&apos;t be more regressions!&lt;br/&gt;
Thanks, Tobias!&lt;/p&gt;</comment>
                            <comment id="14366148" author="klopfdreh" created="Tue, 17 Mar 2015 21:44:30 +0000"  >&lt;p&gt;That you removed the timeout of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5564&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-5564&lt;/a&gt; is perfectly ok, because the whole code of requesting the focus is done async and this might cause issues if two focus requests within ajax calls are made.&lt;/p&gt;

&lt;p&gt;I only set the focus request of the field to setTimeout, which will be delegated to the native component. All other code is done sync:&lt;/p&gt;

&lt;p&gt;var WF = Wicket.Focus;&lt;br/&gt;
if (WF.refocusLastFocusedComponentAfterResponse &amp;amp;&amp;amp; WF.lastFocusId) {&lt;br/&gt;
......&lt;/p&gt;

&lt;p&gt;I don&apos;t see issues with this change, but you got lot more experience with this topic, so may we can discuss it.&lt;/p&gt;</comment>
                            <comment id="14366845" author="mikulka" created="Wed, 18 Mar 2015 08:56:16 +0000"  >&lt;p&gt;Tested current SNAPSHOT and focus in modal window works now (tested Firefox 36, Chrome 41, Opera 28, IE 11).&lt;/p&gt;</comment>
                            <comment id="15384899" author="jira-bot" created="Tue, 19 Jul 2016 21:32:41 +0000"  >&lt;p&gt;Commit 7fe591fa301f4e7da65141643c428ea9a3f01aa6 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7fe591f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7fe591f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6209&quot; title=&quot;requesting focus on disabled field fails with error in IE8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6209&quot;&gt;&lt;del&gt;WICKET-6209&lt;/del&gt;&lt;/a&gt; move try-catch into function which is invoked via #setTimeout(), so IE errors get caught&lt;/p&gt;

&lt;p&gt;;removed workaround for WicketWICKET-5755, i.e. directly call #requestFocus() since it now always uses #setTimeout() to request focus (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15384902" author="jira-bot" created="Tue, 19 Jul 2016 21:32:55 +0000"  >&lt;p&gt;Commit 294de69449850b761f647a57fd13a46265aa4cb9 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=294de69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=294de69&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6209&quot; title=&quot;requesting focus on disabled field fails with error in IE8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6209&quot;&gt;&lt;del&gt;WICKET-6209&lt;/del&gt;&lt;/a&gt; move try-catch into function which is invoked via #setTimeout(), so IE errors get caught&lt;/p&gt;

&lt;p&gt;;removed workaround for WicketWICKET-5755, i.e. directly call #requestFocus() since it now always uses #setTimeout() to request focus (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15384905" author="jira-bot" created="Tue, 19 Jul 2016 21:33:18 +0000"  >&lt;p&gt;Commit 4d10d11a7894617364d23ac3a4f3068a60f7ec62 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=4d10d11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=4d10d11&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6209&quot; title=&quot;requesting focus on disabled field fails with error in IE8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6209&quot;&gt;&lt;del&gt;WICKET-6209&lt;/del&gt;&lt;/a&gt; move try-catch into function which is invoked via #setTimeout(), so IE errors get caught&lt;/p&gt;

&lt;p&gt;;removed workaround for WicketWICKET-5755, i.e. directly call #requestFocus() since it now always uses #setTimeout() to request focus (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15384971" author="jira-bot" created="Tue, 19 Jul 2016 22:14:42 +0000"  >&lt;p&gt;Commit b93e1ba557f85cdbf77fd44a14721918feb23910 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b93e1ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b93e1ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6209&quot; title=&quot;requesting focus on disabled field fails with error in IE8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6209&quot;&gt;&lt;del&gt;WICKET-6209&lt;/del&gt;&lt;/a&gt; move try-catch into function which is invoked via #setTimeout(), so IE errors get caught&lt;/p&gt;

&lt;p&gt;;removed workaround for WicketWICKET-5755, i.e. directly call #requestFocus() since it now always uses #setTimeout() to request focus (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5858&quot; title=&quot;AjaxRequestTarget.focusComponent does not work in modal window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5858&quot;&gt;&lt;del&gt;WICKET-5858&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12990567">WICKET-6209</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12709246">WICKET-5564</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12704781" name="WICKET-5858.zip" size="25294" author="mikulka" created="Mon, 16 Mar 2015 14:31:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26t47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>