<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:20:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4643] AjaxFormChoiceComponentUpdatingBehavior not set model object</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4643</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;AjaxFormChoiceComponentUpdatingBehavior cause ajax request but model object is not set. Quickstart is attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597895">WICKET-4643</key>
            <summary>AjaxFormChoiceComponentUpdatingBehavior not set model object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="wickeria">dan simko</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Jul 2012 11:13:35 +0000</created>
                <updated>Mon, 9 Jul 2012 12:06:31 +0000</updated>
                            <resolved>Mon, 9 Jul 2012 12:06:31 +0000</resolved>
                                    <version>6.0.0</version>
                                    <fixVersion>6.0.0-beta3</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13408889" author="svenmeier" created="Sun, 8 Jul 2012 10:21:43 +0000"  >&lt;p&gt;When wicket-ajax-jquery calls jQuery.ajax(), it passes the serialized field as the settings&apos; data. But since the choice is not actually a form component, data is empty.&lt;/p&gt;

&lt;p&gt;Since data is empty, jQuery doesn&apos;t set the default content-type (would be application/x-www-form-urlencoded):&lt;/p&gt;

&lt;p&gt;	if ( s.data &amp;amp;&amp;amp; s.hasContent &amp;amp;&amp;amp; s.contentType !== false || options.contentType ) &lt;/p&gt;
{
		jqXHR.setRequestHeader( &quot;Content-Type&quot;, s.contentType );
	}

&lt;p&gt;settings.data &lt;b&gt;is&lt;/b&gt; changed in beforeSend() via AjaxFormChoiceComponentUpdatingBehavior&apos;s attrs.dep (dynamic extra parameters), but this is too late for the content-type.&lt;/p&gt;

&lt;p&gt;Without &quot;application/x-www-form-urlencoded&quot; contentType, Wicket doesn&apos;t get hold on the post parameters via request#getParameter().&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed the problem by using a GET instead of a POST. I&apos;m not sure whether it would be better to evaluate attrs.dep &lt;b&gt;before&lt;/b&gt; invoking jQuery&apos;s ajax() though.&lt;/p&gt;</comment>
                            <comment id="13408905" author="svenmeier" created="Sun, 8 Jul 2012 12:16:41 +0000"  >&lt;p&gt;switched from post to get, since without data jQuery will not set contentType&lt;/p&gt;</comment>
                            <comment id="13409372" author="mgrigorov" created="Mon, 9 Jul 2012 12:06:20 +0000"  >&lt;p&gt;I reverted to use POST method again for FormChoiceComponentUpdatingBehavior.&lt;br/&gt;
If POST data is added dynamically then set the content type to jqXHR manually.&lt;/p&gt;

&lt;p&gt;Dynamic extra parameters are added in #beforeSend() since &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4606&quot; title=&quot;dynamic extra parameter gets used/executed even when ajaxcallistener is preconditioned to false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4606&quot;&gt;&lt;del&gt;WICKET-4606&lt;/del&gt;&lt;/a&gt; as an optimization to not calculate them if a precondition disallows the Ajax call.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12535517" name="quickstart1.zip" size="24066" author="wickeria" created="Sat, 7 Jul 2012 11:14:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k8e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>