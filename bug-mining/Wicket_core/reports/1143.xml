<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5883] Feedback messages not cleared for invisible/disabled form components on submit.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5883</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Having: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;IFeedbackMessageFilter.NONE used as the default application&apos;s feedback message cleanup filter (in order to make feedback messages not to disappear after page refresh, i.e. persistent)&lt;/li&gt;
	&lt;li&gt;form with validatable component whose enabled/visible state may be dynamically changed by user (e.g. checkbox &quot;send me email&quot; and text field &quot;email&quot;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;First, user tries to submit form having invalid value - as the result validation error occurs. &lt;br/&gt;
Then user makes that component invisible and retries form submitting - as the result no validation errors, but form wasn&apos;t submitted.&lt;/p&gt;

&lt;p&gt;This happens because that component still has error feedback message got from first submit. Note that when using default application&apos;s feedback message cleanup filter, form is successfully submitted.&lt;/p&gt;

&lt;p&gt;Probably, feedback messages should be cleared for invisible/disabled form components on submit, as it done for visible/enabled components in FormComponent.validate()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821167">WICKET-5883</key>
            <summary>Feedback messages not cleared for invisible/disabled form components on submit.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="denis.shok">Denis Shokhalevich</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Apr 2015 14:05:48 +0000</created>
                <updated>Sun, 19 Apr 2015 21:26:16 +0000</updated>
                            <resolved>Sun, 19 Apr 2015 21:26:16 +0000</resolved>
                                    <version>6.19.0</version>
                                    <fixVersion>6.20.0</fixVersion>
                    <fixVersion>7.0.0-M6</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14496211" author="denis.shok" created="Wed, 15 Apr 2015 14:06:19 +0000"  >&lt;p&gt;Quickstart attached.&lt;/p&gt;</comment>
                            <comment id="14499722" author="svenmeier" created="Fri, 17 Apr 2015 12:17:33 +0000"  >&lt;p&gt;You could just use a custom IFeedbackMessageFilter which cleans up all messages of invisible or disabled components. Can&apos;t you?&lt;/p&gt;</comment>
                            <comment id="14499762" author="mgrigorov" created="Fri, 17 Apr 2015 12:48:21 +0000"  >&lt;p&gt;I&apos;d argue that messages for invisible components should be preserved because they are not rendered.&lt;br/&gt;
I&apos;m not sure why the messages for the disabled components are not cleaned up.&lt;/p&gt;</comment>
                            <comment id="14501835" author="mgrigorov" created="Sun, 19 Apr 2015 12:53:48 +0000"  >&lt;p&gt;OK. I see what happens.&lt;br/&gt;
The error feedback message is rendered but preserved for the next request because of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// make feedback messages not to disappear after page refresh
&lt;/span&gt;getApplicationSettings().setFeedbackMessageCleanupFilter(IFeedbackMessageFilter.NONE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt; What do you think about adding checks for component.isVisibileInHierarchy() and #isEnabledInHierarchy() at org.apache.wicket.markup.html.form.Form#anyFormComponentError()?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git i/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java w/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
index 789a804..c7fea42 100644
--- i/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
+++ w/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
@@ -1141,7 +1141,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Form&amp;lt;T&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WebMarkupContainer &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; IFormSubmitListener,
                        @Override
                        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void component(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Component component, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IVisit&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt; visit)
                        {
-                               &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (component.hasErrorMessage())
+                               &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (component.isVisibleInHierarchy() &amp;amp;&amp;amp; component.isEnabledInHierarchy() &amp;amp;&amp;amp; component.hasErrorMessage())
                                {
                                        visit.stop(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14501994" author="svenmeier" created="Sun, 19 Apr 2015 16:19:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=martin-g&quot; class=&quot;user-hover&quot; rel=&quot;martin-g&quot;&gt;martin-g&lt;/a&gt; +1 that looks like a good solution&lt;/p&gt;</comment>
                            <comment id="14502141" author="jira-bot" created="Sun, 19 Apr 2015 21:22:11 +0000"  >&lt;p&gt;Commit b980efc3ad60928d10b5a30e7aac067b2a8b508e in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b980efc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b980efc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5883&quot; title=&quot;Feedback messages not cleared for invisible/disabled form components on submit.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5883&quot;&gt;&lt;del&gt;WICKET-5883&lt;/del&gt;&lt;/a&gt; Feedback messages not cleared for invisible/disabled form components on submit.&lt;/p&gt;</comment>
                            <comment id="14502144" author="jira-bot" created="Sun, 19 Apr 2015 21:26:07 +0000"  >&lt;p&gt;Commit cd3b92346b33b38c451434a1cabb7cf79d7188f0 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=cd3b923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=cd3b923&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5883&quot; title=&quot;Feedback messages not cleared for invisible/disabled form components on submit.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5883&quot;&gt;&lt;del&gt;WICKET-5883&lt;/del&gt;&lt;/a&gt; Feedback messages not cleared for invisible/disabled form components on submit.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit b980efc3ad60928d10b5a30e7aac067b2a8b508e)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12725577" name="quickstart.zip" size="24100" author="denis.shok" created="Wed, 15 Apr 2015 14:06:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2da9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>