<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:26:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6878] Rendering of relative Urls does not take into account filterpath for absolute Urls</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6878</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Assume, there is an WicketApplication with mounted Page &quot;error&quot; running on &lt;a href=&quot;https://localhost:8443/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8443/&#160;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The page &quot;error&quot; renders an reference for resource &quot;https://localhost:8443/webjars/uilib/5.6.0/javascripts/bundle.all.js&quot;. The rendered Url is created by Url.parse(&quot;https://localhost:8443/webjars/uilib/5.6.0/javascripts/bundle.all.js&quot;).&lt;/p&gt;

&lt;p&gt;In this case everything is fine:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://localhost:8443/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8443/error&lt;/a&gt;&#160;renders tag&#160;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;&lt;a href=&quot;https://localhost:8443/webjars/uilib/5.6.0/javascripts/bundle.all.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;./webjars/uilib/5.6.0/javascripts/bundle.all.js&lt;/a&gt;&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/p&gt;

&lt;p&gt;But if I change the filterpath of the application to &quot;recovery&quot;, the following happens:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://localhost:8443/recovery/error&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8443/recovery/error&lt;/a&gt;&#160;renders tag&#160;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;&lt;a href=&quot;https://localhost:8443/recovery//webjars/uilib/5.6.0/javascripts/bundle.all.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;.//webjars/uilib/5.6.0/javascripts/bundle.all.js&lt;/a&gt;&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/p&gt;

&lt;p&gt;This is not the expected value &quot;../webjars/uilib/5.6.0/javascripts/bundle.all.js&quot; of the src-Attribute.&lt;/p&gt;

&lt;p&gt;I tried to break it down: The rendered Url in the script tag is created by the UrlRenderer. The UrlRenderer decides to render a relative url as scheme, host and port match the corresponding properties of the clientUrl and the Url is not &quot;contextabsolute&quot; (as it contains an hostname). I think, this is absolutly fine. But during rendering the relative url the UrlRenderer does not detect, that it has to handle this url separatly. The segments of the Url contain a leading &quot;&quot; (for /) which is not followed by the filterpath. I assume, this should be resolved to &quot;..&quot; for every part of the filterpath.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13372186">WICKET-6878</key>
            <summary>Rendering of relative Urls does not take into account filterpath for absolute Urls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="hosea">Hans Sch&#228;fer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Apr 2021 05:38:33 +0000</created>
                <updated>Tue, 20 Apr 2021 12:25:23 +0000</updated>
                            <resolved>Tue, 20 Apr 2021 12:13:33 +0000</resolved>
                                    <version>8.11.0</version>
                                    <fixVersion>9.4.0</fixVersion>
                    <fixVersion>8.13.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17320750" author="mgrigorov" created="Wed, 14 Apr 2021 06:50:01 +0000"  >&lt;p&gt;Why do you think it should be &apos;../webjars/...&apos; ?&lt;/p&gt;

&lt;p&gt;If WicketFilter is set to &quot;recovery&quot; then this is the &quot;entry&quot; path for anything Wicket related, i.e. even the WebjarsResourceReference responsible for `./webjars/...&apos;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We will need a demo application for further investigation.&lt;/p&gt;</comment>
                            <comment id="17321016" author="hosea" created="Wed, 14 Apr 2021 13:56:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;,&#160;&lt;/p&gt;

&lt;p&gt;I have attached an Example. Its a Spring Boot - Application, so you can just open it in your IDE and exeute StartMe. The Wicket-Application is hosted 2 times: with filterpath &quot;/&quot; and filterpath &quot;/recovery&quot;. The Page is displayed different on /recovery. I think this example makes it more clear.&lt;/p&gt;

&lt;p&gt;Kind regards&lt;/p&gt;

&lt;p&gt;Hans&lt;/p&gt;</comment>
                            <comment id="17321018" author="hosea" created="Wed, 14 Apr 2021 13:58:06 +0000"  >&lt;p&gt;Just seen: Uploading does not work. How can I provide the example-Application?&lt;/p&gt;</comment>
                            <comment id="17321058" author="solomax" created="Wed, 14 Apr 2021 14:43:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hosea&quot; class=&quot;user-hover&quot; rel=&quot;hosea&quot;&gt;hosea&lt;/a&gt; attach the quickstart to JIRA, or provide the link to github or similar service &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17321092" author="hosea" created="Wed, 14 Apr 2021 15:28:35 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thank you. Attaching the file using the Attachment-Area &quot;Drop files to attach or browse&quot; did not work. Still does not work for me.&lt;/p&gt;

&lt;p&gt;But choosing More-Attach Files worked.&lt;/p&gt;

&lt;p&gt;The Example-Application is now available.&lt;/p&gt;

&lt;p&gt;Kind regards&lt;/p&gt;

&lt;p&gt;Hans&lt;/p&gt;</comment>
                            <comment id="17325734" author="jira-bot" created="Tue, 20 Apr 2021 11:59:51 +0000"  >&lt;p&gt;Commit 50eb3c78cddd1918f4db2bd3bd7d2a67406c51ab in wicket&apos;s branch refs/heads/wicket-8.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=50eb3c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=50eb3c7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6878&quot; title=&quot;Rendering of relative Urls does not take into account filterpath for absolute Urls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6878&quot;&gt;&lt;del&gt;WICKET-6878&lt;/del&gt;&lt;/a&gt; Rendering of relative Urls does not take into account filterpath for absolute Urls&lt;/p&gt;

&lt;p&gt;Urls created by Url#parse(fullUrlAsString) should be rendered as full url by UrlRenderer#rendered(url), no matter whether it has the same scheme/host/port as the base url.&lt;br/&gt;
Wicket usually works with relative urls, but if the user uses full url for some reason then respect this and render it as full.&lt;/p&gt;

&lt;p&gt;At the moment UrlRenderer#renderRelativeUrl(url) will render it as relative to the current base url ignoring the scheme/host/port completely. This might be correct or not but too at the moment there is no need to change this behavior.&lt;/p&gt;</comment>
                            <comment id="17325742" author="jira-bot" created="Tue, 20 Apr 2021 12:12:58 +0000"  >&lt;p&gt;Commit d63af387f2750cb0e11ad58da870ca33ded85553 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d63af38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d63af38&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6878&quot; title=&quot;Rendering of relative Urls does not take into account filterpath for absolute Urls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6878&quot;&gt;&lt;del&gt;WICKET-6878&lt;/del&gt;&lt;/a&gt; Rendering of relative Urls does not take into account filterpath for absolute Urls&lt;/p&gt;

&lt;p&gt;Urls created by Url#parse(fullUrlAsString) should be rendered as full url by UrlRenderer#rendered(url), no matter whether it has the same scheme/host/port as the base url.&lt;br/&gt;
Wicket usually works with relative urls, but if the user uses full url for some reason then respect this and render it as full.&lt;/p&gt;

&lt;p&gt;At the moment UrlRenderer#renderRelativeUrl(url) will render it as relative to the current base url ignoring the scheme/host/port completely. This might be correct or not but too at the moment there is no need to change this behavior.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 50eb3c78cddd1918f4db2bd3bd7d2a67406c51ab)&lt;/p&gt;</comment>
                            <comment id="17325750" author="jira-bot" created="Tue, 20 Apr 2021 12:25:23 +0000"  >&lt;p&gt;Commit d63af387f2750cb0e11ad58da870ca33ded85553 in wicket&apos;s branch refs/heads/wicket-9.x from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d63af38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=d63af38&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6878&quot; title=&quot;Rendering of relative Urls does not take into account filterpath for absolute Urls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6878&quot;&gt;&lt;del&gt;WICKET-6878&lt;/del&gt;&lt;/a&gt; Rendering of relative Urls does not take into account filterpath for absolute Urls&lt;/p&gt;

&lt;p&gt;Urls created by Url#parse(fullUrlAsString) should be rendered as full url by UrlRenderer#rendered(url), no matter whether it has the same scheme/host/port as the base url.&lt;br/&gt;
Wicket usually works with relative urls, but if the user uses full url for some reason then respect this and render it as full.&lt;/p&gt;

&lt;p&gt;At the moment UrlRenderer#renderRelativeUrl(url) will render it as relative to the current base url ignoring the scheme/host/port completely. This might be correct or not but too at the moment there is no need to change this behavior.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 50eb3c78cddd1918f4db2bd3bd7d2a67406c51ab)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13023863" name="wicket-6878.tgz" size="4744" author="hosea" created="Wed, 14 Apr 2021 15:26:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pyl4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>