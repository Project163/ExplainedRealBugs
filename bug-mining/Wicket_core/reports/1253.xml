<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6045] ListView NullPointerException when viewSize is set explicitly</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6045</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;ListView tries to render the null list because of the beginning of method ListView.getViewSize():&lt;br/&gt;
public int getViewSize()&lt;br/&gt;
	{&lt;br/&gt;
		int size = viewSize;&lt;/p&gt;

&lt;p&gt;		final Object modelObject = getDefaultModelObject();&lt;br/&gt;
		if (modelObject == null)&lt;/p&gt;
		{
			return size == Integer.MAX_VALUE ? 0 : size;
		}
&lt;p&gt;....&lt;/p&gt;

&lt;p&gt;Let say I had 10 items in the list before a refresh to this listview. When refreshing, my getter returned null because it didn&apos;t find anything &lt;br/&gt;
-&amp;gt; modelObject is null and size != Integer.MAX_VALUE &lt;br/&gt;
-&amp;gt; previous viewSize is returned. &lt;br/&gt;
-&amp;gt; populateItem throws npe if it tries for example getDefaultModelObject() like this:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
     at org.apache.wicket.markup.html.list.ListItemModel.getObject(ListItemModel.java:61)&lt;br/&gt;
     at org.apache.wicket.Component.getDefaultModelObject(Component.java:1626)&lt;br/&gt;
     at syncrontech.common.gate.list.GateEditableListPanel$2.populateItem(GateEditableListPanel.java:264)&lt;br/&gt;
     at org.apache.wicket.markup.html.list.ListView.onPopulate(ListView.java:523)&lt;/p&gt;

&lt;p&gt;The behaviour is also inconsistent: Constructing the listview with null list is ok, because that same point in code would return the 0.&lt;/p&gt;

&lt;p&gt;This should probably always return 0 if the modelObject is null? Or am I missing something?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12916402">WICKET-6045</key>
            <summary>ListView NullPointerException when viewSize is set explicitly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="tta">Tero Tarkkala</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Nov 2015 10:21:06 +0000</created>
                <updated>Sun, 29 Nov 2015 16:05:31 +0000</updated>
                            <resolved>Sat, 28 Nov 2015 14:37:46 +0000</resolved>
                                    <version>7.1.0</version>
                                    <fixVersion>7.2.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15028666" author="svenmeier" created="Thu, 26 Nov 2015 12:25:07 +0000"  >&lt;p&gt;In my test I didn&apos;t see any difference between constructing the ListView with null vs. a model with a list which turns null on later renders:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if the list is null and no viewSize is set, the ListView will render empty&lt;/li&gt;
	&lt;li&gt;if the list is null and a viewSize is set, it takes precedence and a NullPointerException is thrown.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15028693" author="mgrigorov" created="Thu, 26 Nov 2015 12:41:40 +0000"  >&lt;p&gt;NPE like:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
at org.apache.wicket.markup.html.list.ListItemModel.getObject(ListItemModel.java:61)&lt;br/&gt;
?&lt;/p&gt;

&lt;p&gt;We should prevent this.&lt;/p&gt;</comment>
                            <comment id="15028697" author="tta" created="Thu, 26 Nov 2015 12:44:27 +0000"  >&lt;p&gt;Yes, forgot to mention we have set a viewsize. And since that is set after construction, the null list works when constructing. Yes, I could check if my list is null and replace it with an empty list (this is actually what I do now) or set the viewsize to zero, but is there a reason for this strange if-clause in the getViewSize()? If it would return zero when the modelObject is null, this would work without the extra checks for null lists. Also, having a null list and then setting a viewsize wouldn&apos;t accomplish anything useful.&lt;/p&gt;</comment>
                            <comment id="15028703" author="svenmeier" created="Thu, 26 Nov 2015 12:53:35 +0000"  >&lt;p&gt;Simplest solution:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; modelObject = getDefaultModelObject();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (modelObject == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15029569" author="mgrigorov" created="Fri, 27 Nov 2015 07:46:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15030533" author="jira-bot" created="Sat, 28 Nov 2015 14:26:02 +0000"  >&lt;p&gt;Commit d3abc0ec0432afedf11f44015cbb3170b49bab7c in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d3abc0e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d3abc0e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6045&quot; title=&quot;ListView NullPointerException when viewSize is set explicitly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6045&quot;&gt;&lt;del&gt;WICKET-6045&lt;/del&gt;&lt;/a&gt; viewSize can not be greater than available size, which is 0 for null&lt;/p&gt;</comment>
                            <comment id="15030534" author="jira-bot" created="Sat, 28 Nov 2015 14:26:56 +0000"  >&lt;p&gt;Commit a2f440ed21664440e672445e3db3495a2e953f30 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a2f440e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a2f440e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6045&quot; title=&quot;ListView NullPointerException when viewSize is set explicitly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6045&quot;&gt;&lt;del&gt;WICKET-6045&lt;/del&gt;&lt;/a&gt; viewSize can not be greater than available size, which is 0 for null&lt;/p&gt;</comment>
                            <comment id="15030536" author="svenmeier" created="Sat, 28 Nov 2015 14:37:46 +0000"  >&lt;p&gt;viewSize is 0 when model object is null now&lt;/p&gt;</comment>
                            <comment id="15031040" author="jira-bot" created="Sun, 29 Nov 2015 16:05:31 +0000"  >&lt;p&gt;Commit d3abc0ec0432afedf11f44015cbb3170b49bab7c in wicket&apos;s branch refs/heads/lambdas from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d3abc0e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=d3abc0e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6045&quot; title=&quot;ListView NullPointerException when viewSize is set explicitly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6045&quot;&gt;&lt;del&gt;WICKET-6045&lt;/del&gt;&lt;/a&gt; viewSize can not be greater than available size, which is 0 for null&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oyyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>