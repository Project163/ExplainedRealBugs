<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:24:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6001] Exception raised while refreshing a page with queued components missing in the markup</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6001</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;An exception is raised when refreshing a page or panel containing queued components which are missing in the markup.&lt;br/&gt;
We can omit queued components in the markup when the page is created the first time but we cannot refresh it&lt;/p&gt;</description>
                <environment></environment>
        <key id="12905383">WICKET-6001</key>
            <summary>Exception raised while refreshing a page with queued components missing in the markup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bitstorm">Andrea Del Bene</assignee>
                                    <reporter username="darkvadaure">Palancher aur&#233;lien</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Oct 2015 00:25:01 +0000</created>
                <updated>Mon, 26 Jul 2021 19:17:14 +0000</updated>
                            <resolved>Mon, 16 Nov 2015 16:13:47 +0000</resolved>
                                    <version>7.0.0</version>
                                    <fixVersion>7.2.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14959933" author="darkvadaure" created="Fri, 16 Oct 2015 00:30:16 +0000"  >&lt;p&gt;in myproject.war : 2 links refresh 2 containers. The first one contains a listview with 2 labels (one is missing) and the second one contains a missing label.&lt;br/&gt;
Hitting F5 or clicking on the links generate the exception&lt;/p&gt;</comment>
                            <comment id="14988103" author="bitstorm" created="Tue, 3 Nov 2015 20:56:25 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;could you provide a quickstart (with source code) that reproduces the problem?&lt;/p&gt;</comment>
                            <comment id="14995153" author="darkvadaure" created="Sat, 7 Nov 2015 10:53:19 +0000"  >&lt;p&gt;hi, what about the attachment war file ?  doesn&apos;t it reproduce the problem ?&lt;/p&gt;</comment>
                            <comment id="14995277" author="bitstorm" created="Sat, 7 Nov 2015 16:30:24 +0000"  >&lt;p&gt;I see your war contains also source files so I could build a quickstart with them. A quickstart is much more helpful to spot an issue as we can see the code.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
the problem is inside RequestHandlerStack#detach(). Every exception is caught and silently logged. I see you have changed the try/catch statement with this: &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf/wicket/repo?p=wicket.git;a=commitdiff;h=a5954823353f20a6157156704ae91d6067a1f5c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf/wicket/repo?p=wicket.git;a=commitdiff;h=a5954823353f20a6157156704ae91d6067a1f5c8&lt;/a&gt;&lt;br/&gt;
A possible solution for this current issue could be adding another catch block for RuntimeException:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
			{
				detach(handler);
			}
			&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RuntimeException exception)
			{
				&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; exception;
			}
			&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception exception)
			{
				log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error detaching RequestHandler&quot;&lt;/span&gt;, exception);
			}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Could be this a problem in your opinion?&lt;/p&gt;</comment>
                            <comment id="14995279" author="mgrigorov" created="Sat, 7 Nov 2015 16:36:46 +0000"  >&lt;p&gt;I&apos;ve changed it because it is bad practice to catch Throwable. It will catch Error too, e.g. OutOfMemoryError, ThreadDeath, VirtualMachineError, and those are not recoverable.&lt;br/&gt;
How this breaks the component queueing? &lt;br/&gt;
What happens after the re-throw of the runtime exception?&lt;/p&gt;</comment>
                            <comment id="14995360" author="bitstorm" created="Sat, 7 Nov 2015 19:08:22 +0000"  >&lt;p&gt;Well, I think the title of this issue is a little bit misleading. The problem is not about component queueing working bad. The really problem is that the exception is not re-throw and, as a result, it goes unnoticed by user.&lt;br/&gt;
If the same exception (thrown by MarkupContainer#onDetach) occurs during rendering phase, it&apos;s correctly displayed to user. I just asked you if my proposed change could break something you did in your commit.&lt;/p&gt;</comment>
                            <comment id="14996233" author="mgrigorov" created="Mon, 9 Nov 2015 09:10:14 +0000"  >&lt;p&gt;#onDetach() is called *&lt;b&gt;after&lt;/b&gt;* writing the response headers to the browser in case of disabled response buffering. &lt;br/&gt;
I guess we can check whether org.apache.wicket.settings.RequestCycleSettings#getBufferResponse() returns true and re-throw the exception in this case. Should be tested!&lt;/p&gt;</comment>
                            <comment id="15006576" author="jira-bot" created="Mon, 16 Nov 2015 11:59:39 +0000"  >&lt;p&gt;Commit 67b53cf0de66fb8f41a10831e96168b29ab240f2 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=67b53cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=67b53cf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6001&quot; title=&quot;Exception raised while refreshing a page with queued components missing in the markup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6001&quot;&gt;&lt;del&gt;WICKET-6001&lt;/del&gt;&lt;/a&gt; Exception raised while refreshing a page with queued components missing in the markup&lt;/p&gt;</comment>
                            <comment id="15006815" author="jira-bot" created="Mon, 16 Nov 2015 15:50:30 +0000"  >&lt;p&gt;Commit 8f42d7613c107581556534656f62e985f9e8a72a in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8f42d76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8f42d76&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6001&quot; title=&quot;Exception raised while refreshing a page with queued components missing in the markup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6001&quot;&gt;&lt;del&gt;WICKET-6001&lt;/del&gt;&lt;/a&gt; Exception raised while refreshing a page with queued components missing in the markup&lt;/p&gt;</comment>
                            <comment id="15012252" author="jira-bot" created="Wed, 18 Nov 2015 22:48:35 +0000"  >&lt;p&gt;Commit c6fe37d38f9d961a4227480bbee1ac2ed1d24599 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c6fe37d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c6fe37d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6001&quot; title=&quot;Exception raised while refreshing a page with queued components missing in the markup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6001&quot;&gt;&lt;del&gt;WICKET-6001&lt;/del&gt;&lt;/a&gt; Exception raised while refreshing a page with queued components missing in the markup&lt;/p&gt;

&lt;p&gt;Check that there is an Application thread local first.&lt;br/&gt;
We&apos;ve been bitten by such assumptions several times&lt;/p&gt;</comment>
                            <comment id="15012254" author="jira-bot" created="Wed, 18 Nov 2015 22:48:48 +0000"  >&lt;p&gt;Commit 525995ec9dbdbea226c370e410aaf1ad81aaf498 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=525995e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=525995e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6001&quot; title=&quot;Exception raised while refreshing a page with queued components missing in the markup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6001&quot;&gt;&lt;del&gt;WICKET-6001&lt;/del&gt;&lt;/a&gt; Exception raised while refreshing a page with queued components missing in the markup&lt;/p&gt;

&lt;p&gt;Check that there is an Application thread local first.&lt;br/&gt;
We&apos;ve been bitten by such assumptions several times&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12852966">WICKET-5962</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13391705">WICKET-6908</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12766934" name="myproject.war" size="3542909" author="darkvadaure" created="Fri, 16 Oct 2015 00:27:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n3dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>