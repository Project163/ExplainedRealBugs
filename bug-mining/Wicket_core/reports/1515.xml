<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:25:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6757] Avoid URL.getFile during mime type detection.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6757</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;This is a special case of &lt;a href=&quot;https://issues.apache.org/jira/projects/WICKET/issues/WICKET-6756&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;WICKET-6756&lt;/a&gt;: &quot;URL.getFile&quot; shouldn&apos;t be used when expecting paths, because it &lt;a href=&quot;https://stackoverflow.com/questions/2166039/java-how-to-get-a-file-from-an-escaped-url&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;doesn&apos;t properly decode&lt;/a&gt; e.g. spaces in components. Wicket provides an individual &lt;a href=&quot;https://ci.apache.org/projects/wicket/apidocs/8.x/org/apache/wicket/Application.html#getMimeType-java.lang.String-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;mime type detection&lt;/a&gt; per Application, which is documented to work on &quot;file names&quot; and in the default implementation simply &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/net/FileNameMap.html#getContentTypeFor-java.lang.String-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;forwards to what Java provides&lt;/a&gt; itself already.&lt;/p&gt;

&lt;p&gt;While that is documented to work on file names and URLs as well, the default implementation &lt;a href=&quot;https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/net/www/MimeTable.java#L169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sun.net.www.MimeTable&lt;/a&gt; is very limited regarding path separators and doesn&apos;t decode individual parts of URL at all. It simply works on strings containing slashes and makes it somewhat unreliable if someone really provides e.g. a Windows-path. OTOH, forwarding &quot;URL.getFile&quot; looks like a file system path is given and because that is documented in theory, one might want to use a given path to actually look in the header of files to get their mime type and that breaks again if e.g. a path with spaces is forwarded, because that is not properly decoded.&lt;/p&gt;

&lt;p&gt;So my suggestion is to simply forward an absolute URI itself always, because that can&apos;t be misinterpreted: It is compatible with the default implementation of Java expecting strings with slashes only and in case of a file-URI, custom implementations can easily recognize that and decide to parse it as file system path with properly decoding things like encoded spaces. This simply makes the interface and implementation of Wicket itself more robust in the end and removes a not-so-robust &quot;URL.getFile&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13291920">WICKET-6757</key>
            <summary>Avoid URL.getFile during mime type detection.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="tschoening">Thorsten Sch&#246;ning</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Mar 2020 08:43:53 +0000</created>
                <updated>Fri, 20 Mar 2020 08:09:44 +0000</updated>
                            <resolved>Thu, 19 Mar 2020 20:05:56 +0000</resolved>
                                    <version>8.7.0</version>
                                    <fixVersion>9.0.0-M5</fixVersion>
                    <fixVersion>8.8.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17062903" author="jira-bot" created="Thu, 19 Mar 2020 20:04:53 +0000"  >&lt;p&gt;Commit 2b354fd019fd2f59ca81c37a42e32b365db6daa8 in wicket&apos;s branch refs/heads/wicket-8.x from Thorsten Sch&#246;ning&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=2b354fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=2b354fd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6757&quot; title=&quot;Avoid URL.getFile during mime type detection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6757&quot;&gt;&lt;del&gt;WICKET-6757&lt;/del&gt;&lt;/a&gt; Avoid URL.getFile() for mime type detection&lt;/p&gt;

&lt;p&gt;Mime type detection is documented to work on paths or URLs, but&lt;br/&gt;
URL.getFile provides neither of both and the default implementation is&lt;br/&gt;
very limited regarding / vs. \ and such things. Forwarding an absolute&lt;br/&gt;
URI always instead is compatible with the default implementation and&lt;br/&gt;
makes absolutely clear what is available. URL.getFile for example might&lt;br/&gt;
look like some path in the file system, but would work with paths&lt;br/&gt;
containing spaces because of no decoding.&lt;/p&gt;</comment>
                            <comment id="17062904" author="jira-bot" created="Thu, 19 Mar 2020 20:04:54 +0000"  >&lt;p&gt;Commit 9ac38d26a23f7c295d4610c65c907aab2b1e9cf9 in wicket&apos;s branch refs/heads/wicket-8.x from Thorsten Sch&#246;ning&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9ac38d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=9ac38d2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6757&quot; title=&quot;Avoid URL.getFile during mime type detection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6757&quot;&gt;&lt;del&gt;WICKET-6757&lt;/del&gt;&lt;/a&gt; Avoid URL.getFile()&lt;/p&gt;

&lt;p&gt;Another place where &quot;URL.getFile()&quot; is forwarded to &quot;FileOutputStream&quot;&lt;br/&gt;
without caring about proper decoding.&lt;/p&gt;</comment>
                            <comment id="17062905" author="jira-bot" created="Thu, 19 Mar 2020 20:05:14 +0000"  >&lt;p&gt;Commit f1bd38690674be5578fc5c5e1c28cc81cdb7ae76 in wicket&apos;s branch refs/heads/master from Thorsten Sch&#246;ning&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=f1bd386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=f1bd386&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6757&quot; title=&quot;Avoid URL.getFile during mime type detection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6757&quot;&gt;&lt;del&gt;WICKET-6757&lt;/del&gt;&lt;/a&gt; Avoid URL.getFile() for mime type detection&lt;/p&gt;

&lt;p&gt;Mime type detection is documented to work on paths or URLs, but&lt;br/&gt;
URL.getFile provides neither of both and the default implementation is&lt;br/&gt;
very limited regarding / vs. \ and such things. Forwarding an absolute&lt;br/&gt;
URI always instead is compatible with the default implementation and&lt;br/&gt;
makes absolutely clear what is available. URL.getFile for example might&lt;br/&gt;
look like some path in the file system, but would work with paths&lt;br/&gt;
containing spaces because of no decoding.&lt;/p&gt;</comment>
                            <comment id="17062907" author="svenmeier" created="Thu, 19 Mar 2020 20:05:56 +0000"  >&lt;p&gt;Many thanks Thorsten!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ckds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>