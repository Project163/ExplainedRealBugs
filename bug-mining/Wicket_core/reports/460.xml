<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4203] Wicket fails to start when deployed filenames contain space characters</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4203</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;When upgrading from Wicket 1.4 to 1.5, Wicket may fail to start with an exception like:&lt;/p&gt;

&lt;p&gt;org.apache.wicket.WicketRuntimeException: java.net.URISyntaxException: Illegal character in path at index 12: &lt;a href=&quot;file:/W:/Dev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/W:/Dev&lt;/a&gt; Projects/Portal/website/web/WEB-INF/classes/wicket.properties&lt;br/&gt;
	at org.apache.wicket.application.AbstractClassResolver.getResources(AbstractClassResolver.java:156)&lt;br/&gt;
	at org.apache.wicket.Application.initializeComponents(Application.java:491)&lt;br/&gt;
	at org.apache.wicket.Application.initApplication(Application.java:808)&lt;br/&gt;
	at org.apache.wicket.protocol.http.WicketFilter.init(WicketFilter.java:346)&lt;br/&gt;
	at org.apache.wicket.protocol.http.WicketFilter.init(WicketFilter.java:286)&lt;br/&gt;
	at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:97)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:224)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:186)&lt;br/&gt;
	at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:182)&lt;br/&gt;
	at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:172)&lt;br/&gt;
	at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:164)&lt;br/&gt;
	at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)&lt;br/&gt;
	at com.google.appengine.tools.development.DevAppServerMain.&amp;lt;init&amp;gt;(DevAppServerMain.java:113)&lt;br/&gt;
	at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:89)&lt;br/&gt;
Caused by: java.net.URISyntaxException: Illegal character in path at index 12: &lt;a href=&quot;file:/W:/Dev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/W:/Dev&lt;/a&gt; Projects/Portal/website/web/WEB-INF/classes/wicket.properties&lt;br/&gt;
	at java.net.URI$Parser.fail(URI.java:2809)&lt;br/&gt;
	at java.net.URI$Parser.checkChars(URI.java:2982)&lt;br/&gt;
	at java.net.URI$Parser.parseHierarchical(URI.java:3066)&lt;br/&gt;
	at java.net.URI$Parser.parse(URI.java:3014)&lt;br/&gt;
	at java.net.URI.&amp;lt;init&amp;gt;(URI.java:578)&lt;br/&gt;
	at java.net.URL.toURI(URL.java:918)&lt;br/&gt;
	at org.apache.wicket.application.AbstractClassResolver.loadResources(AbstractClassResolver.java:177)&lt;br/&gt;
	at org.apache.wicket.application.AbstractClassResolver.getResources(AbstractClassResolver.java:139)&lt;br/&gt;
	... 24 more&lt;/p&gt;

&lt;p&gt;This issue was not present in Wicket 1.4.&lt;/p&gt;

&lt;p&gt;The problem could be corrected by moving the deployment path for the application to a folder that contains no space characters in the absolute path name. However, finding and changing the appropriate configuration settings throughout the framework and IDE can be somewhat cumbersome.&lt;/p&gt;

&lt;p&gt;After some investigation, it appears the cause is a change made for &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3867&quot; title=&quot;URIs should be used instead of URLs as Set or Map keys.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3867&quot;&gt;&lt;del&gt;WICKET-3867&lt;/del&gt;&lt;/a&gt;, which relies on URL.toURI(). The javadocs for this method state that:&lt;br/&gt;
&quot;Note, any URL instance that complies with RFC 2396 can be converted to a URI. However, some URLs that are not strictly in compliance can not be converted to a URI.&quot;. It appears that wicket may not be able to rely on ClassLoader.getResources to return a URL which is safe to convert to a URI using this method.&lt;/p&gt;

&lt;p&gt;I am humbly supplying a proposed patch, which selects a URI constructor to invoke instead of using URL.toURI. The constructors for URI are designed to accept paths that are not strictly compliant, and canonicalize them to a compliant form. I believe this will correctly construct URIs for equality checks, even when the ClassLoader does not return RFC-2396 compliant URLs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530631">WICKET-4203</key>
            <summary>Wicket fails to start when deployed filenames contain space characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="fziglar">Frank Ziglar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Nov 2011 21:00:18 +0000</created>
                <updated>Wed, 9 Nov 2011 08:34:07 +0000</updated>
                            <resolved>Wed, 9 Nov 2011 08:34:07 +0000</resolved>
                                    <version>1.5.2</version>
                                    <fixVersion>1.5.3</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13145801" author="fziglar" created="Mon, 7 Nov 2011 21:04:50 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;

&lt;p&gt;Please review this patch: I&apos;m afraid I haven&apos;t been able to load the entire unit test framework to fully test it. However, the patch seems to pass the testing framework I have loaded, as well as correcting the problem noted.&lt;/p&gt;</comment>
                            <comment id="13145809" author="fziglar" created="Mon, 7 Nov 2011 21:10:51 +0000"  >&lt;p&gt;Sorry for the typo!&lt;/p&gt;</comment>
                            <comment id="13146387" author="mgrigorov" created="Tue, 8 Nov 2011 16:29:14 +0000"  >&lt;p&gt;Isn&apos;t it better to use URL.toExternalForm() instead of transforming the URL back and forth to URI ?&lt;br/&gt;
We just need to return all unique URLs in all asked ClassLoaders. &lt;/p&gt;</comment>
                            <comment id="13146392" author="mgrigorov" created="Tue, 8 Nov 2011 16:40:06 +0000"  >&lt;p&gt;Please try with this patch.&lt;/p&gt;</comment>
                            <comment id="13146574" author="fziglar" created="Tue, 8 Nov 2011 21:17:36 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Your patch works like a champ for me!&lt;/p&gt;

&lt;p&gt;I was concerned from the linked issue that URIs might have been selected to provide an extra degree of canonicalization. If the more flexible equality check of URI is not required, then I agree that toExternalForm() seems ideal here. And since the URLs all come from ClassLoader.getResources, it does seem unlikely that this class will encounter equal URLs with different strings (like different case letters for the schemes).&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502928" name="WICKET-4203-externalForm.patch" size="1947" author="mgrigorov" created="Tue, 8 Nov 2011 16:40:06 +0000"/>
                            <attachment id="12502805" name="WICKET-4203-loadResources.patch" size="3763" author="fziglar" created="Mon, 7 Nov 2011 21:04:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k91b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>