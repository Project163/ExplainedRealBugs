<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:19:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4140] Make CryptoMapper easier to extend</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4140</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;The links for changing tabs are not encoded by CryptoMapper when using an AjaxTabbedPanel (see attached QuickStart). Haven&apos;t tested this in other AJAX components yet.&lt;/p&gt;</description>
                <environment>Mac OSX 10.7.2&lt;br/&gt;
java version &amp;quot;1.6.0_26&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)</environment>
        <key id="12527499">WICKET-4140</key>
            <summary>Make CryptoMapper easier to extend</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="thomas.goetz">Tom G&#246;tz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Oct 2011 21:07:56 +0000</created>
                <updated>Thu, 10 Nov 2011 12:50:22 +0000</updated>
                            <resolved>Thu, 10 Nov 2011 12:50:22 +0000</resolved>
                                                    <fixVersion>1.5.4</fixVersion>
                                    <component>wicket</component>
                    <component>wicket-extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13129515" author="svenmeier" created="Tue, 18 Oct 2011 05:44:30 +0000"  >&lt;p&gt;You&apos;ve mounted the home page &lt;b&gt;after&lt;/b&gt; setting the cryptomapper as root, thus sidestepping the crypting.&lt;/p&gt;</comment>
                            <comment id="13129525" author="thomas.goetz" created="Tue, 18 Oct 2011 06:13:28 +0000"  >&lt;p&gt;CryptoMapper needs to be mounted &lt;b&gt;before&lt;/b&gt; mounting pages, else all BookmarkablePages are not accessible at their mount point (because URL is encoded). You can try it my attached QuickStart: just flip the mounting of CrytoMapper and Homepage and try to open localhost:8080/Home ---&amp;gt; 404&lt;/p&gt;</comment>
                            <comment id="13129538" author="thomas.goetz" created="Tue, 18 Oct 2011 06:29:55 +0000"  >&lt;p&gt;Ok, the problem seems to be that CryptoMapper - when mounted as last mapper - somehow &quot;overwrites&quot; the mapping of formerly mounted pages and throws an exception when trying to open them. I&apos;ll create a new ticket for that.&lt;/p&gt;</comment>
                            <comment id="13129752" author="mgrigorov" created="Tue, 18 Oct 2011 14:15:42 +0000"  >&lt;p&gt;Reopening the ticket for further investigation.&lt;/p&gt;</comment>
                            <comment id="13129754" author="mgrigorov" created="Tue, 18 Oct 2011 14:19:26 +0000"  >&lt;p&gt;Attaching a patch that allows to preserve the mounted paths.&lt;br/&gt;
TODO: apply encrypting for urls produced by PageInstanceMapper (i.e. starting with Application.getMapperContext().getorg.apache.wicket.request.mapper.IMapperContext.getNamespace()+getPageIdentifier())&lt;/p&gt;</comment>
                            <comment id="13129757" author="mgrigorov" created="Tue, 18 Oct 2011 14:22:44 +0000"  >&lt;p&gt;@Thomas: can you attach a quickstart for 1.4.19 that shows that the scenario worked as you want it, i.e. the mounted paths are not encrypted.&lt;br/&gt;
If you can provide such quickstart then this is a regression and we have to improve it.&lt;/p&gt;</comment>
                            <comment id="13129804" author="svenmeier" created="Tue, 18 Oct 2011 15:34:02 +0000"  >&lt;p&gt;The CrytoMapper is supposed to encrypt urls, why should part of it be preserved? IMHO it would be easier to just redirect to crypted urls:&lt;/p&gt;

&lt;p&gt;setRootRequestMapper(new CryptoMapper(getRootRequestMapper(), this));&lt;/p&gt;

&lt;p&gt;RedirectRequestMapper redirectMapper = new RedirectRequestMapper();&lt;br/&gt;
redirectMapper.redirect(&quot;foo&quot;, FooPage.class);&lt;br/&gt;
redirectMapper.redirect(&quot;bar&quot;, BarPage.class);&lt;br/&gt;
mount(redirectMapper);&lt;/p&gt;</comment>
                            <comment id="13129815" author="mgrigorov" created="Tue, 18 Oct 2011 15:59:19 +0000"  >&lt;p&gt;Yes, this is also how I understand it - CryptoMapper encrypts everything. But Thomas said in IRC that the old impl in 1.4.x behaves as he wants it. So maybe we have a regression.&lt;/p&gt;</comment>
                            <comment id="13129832" author="ivaynberg" created="Tue, 18 Oct 2011 16:23:01 +0000"  >&lt;p&gt;i wouldnt necessarily consider it a regression...it doesnt have to work 1:1&lt;/p&gt;

&lt;p&gt;if you mount a page outside the crypto mapper then why should urls generated back to that page should be crypted?&lt;br/&gt;
perhaps what we need is what sven suggested, something that exposes a bookmarkable url and redirects to a crypted version when its hit.&lt;/p&gt;</comment>
                            <comment id="13129837" author="mgrigorov" created="Tue, 18 Oct 2011 16:29:55 +0000"  >&lt;p&gt;It is all about &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4014&quot; title=&quot;Wicket 1.5 Form Post Action and Link Get discard Page Class Information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4014&quot;&gt;&lt;del&gt;WICKET-4014&lt;/del&gt;&lt;/a&gt;...&lt;br/&gt;
Thomas wants his mounted points visible, i.e. hitting &quot;/Home&quot; should work. But he also wants the Ajax links to be encrypted.&lt;br/&gt;
Since &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-4014&quot; title=&quot;Wicket 1.5 Form Post Action and Link Get discard Page Class Information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-4014&quot;&gt;&lt;del&gt;WICKET-4014&lt;/del&gt;&lt;/a&gt; the Ajax links use the mount point to be able to recreate an expired page and thus the Ajax urls are not encrypted.&lt;/p&gt;</comment>
                            <comment id="13129932" author="thomas.goetz" created="Tue, 18 Oct 2011 18:44:35 +0000"  >&lt;p&gt;Attached a Wicket 1.4.19 QuickStart, demonstrating the favoured behavior: mounted pages (accessible via their mount path) and encrypted ajax links. &lt;/p&gt;</comment>
                            <comment id="13130547" author="mgrigorov" created="Wed, 19 Oct 2011 12:39:22 +0000"  >&lt;p&gt;Even with RedirectMapper the favoured behavior wont work.&lt;br/&gt;
First request to &quot;/Home&quot; will be OK but then CryptoMapper will create encrypted urls for the BookmarkablePageLinks in the page and from there on the url in the address bar wont be bookmarkable anymore.&lt;/p&gt;</comment>
                            <comment id="13130559" author="mgrigorov" created="Wed, 19 Oct 2011 12:54:38 +0000"  >&lt;p&gt;Uploading a version of 1.4.19 that actually uses BookmarkablePageLink (QuickStart_Wicket_1_4_19.tgz).&lt;/p&gt;</comment>
                            <comment id="13130608" author="mgrigorov" created="Wed, 19 Oct 2011 13:25:54 +0000"  >&lt;p&gt;In 1.4.x it was working because the encrypted data was stored in the query string (x=dfhdhywgavsag) while now in 1.5.x the whole url is encrypted. &lt;/p&gt;</comment>
                            <comment id="13147640" author="mgrigorov" created="Thu, 10 Nov 2011 12:50:09 +0000"  >&lt;p&gt;Here is an example that by extending CryptoMapper you can preserve the mount paths.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12527491">WICKET-4139</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503198" name="BookmarkableCryptoMapper.java" size="4429" author="mgrigorov" created="Thu, 10 Nov 2011 12:50:09 +0000"/>
                            <attachment id="12499442" name="QuickStart.zip" size="22206" author="thomas.goetz" created="Mon, 17 Oct 2011 21:08:16 +0000"/>
                            <attachment id="12499674" name="QuickStart_Wicket_1_4_19.tgz" size="4704" author="mgrigorov" created="Wed, 19 Oct 2011 12:54:38 +0000"/>
                            <attachment id="12499578" name="QuickStart_Wicket_1_4_19.zip" size="8185" author="thomas.goetz" created="Tue, 18 Oct 2011 18:44:35 +0000"/>
                            <attachment id="12499543" name="WICKET-4140.patch" size="1758" author="mgrigorov" created="Tue, 18 Oct 2011 14:19:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>88691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k96v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>