<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:23:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-5835] InlineEnclosure doesn&apos;t call child.configure() before updating its visilbity</title>
                <link>https://issues.apache.org/jira/browse/WICKET-5835</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;org.apache.wicket.markup.html.internal.InlineEnclosure.updateVisibility()&lt;/p&gt;

&lt;p&gt;should propably call child.configure() before the visibility of the InlineEnclosure is set to the visibility of the child.&lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12774243">WICKET-5835</key>
            <summary>InlineEnclosure doesn&apos;t call child.configure() before updating its visilbity</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bitstorm">Andrea Del Bene</assignee>
                                    <reporter username="rza">Raoul Zander</reporter>
                        <labels>
                            <label>enclosure</label>
                    </labels>
                <created>Wed, 11 Feb 2015 15:53:55 +0000</created>
                <updated>Tue, 17 Feb 2015 13:03:05 +0000</updated>
                            <resolved>Mon, 16 Feb 2015 21:18:50 +0000</resolved>
                                    <version>7.0.0-M5</version>
                    <version>6.19.0</version>
                                    <fixVersion>6.20.0</fixVersion>
                    <fixVersion>7.0.0-M6</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14320322" author="bitstorm" created="Fri, 13 Feb 2015 15:57:46 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;could you provide a quickstart or some code that shows how this can create a problem or a wrong behavior?&lt;/p&gt;</comment>
                            <comment id="14322639" author="rza" created="Mon, 16 Feb 2015 10:46:11 +0000"  >&lt;p&gt;Here&apos;s a quickstart to show the problem.&lt;/p&gt;</comment>
                            <comment id="14322968" author="bitstorm" created="Mon, 16 Feb 2015 16:39:22 +0000"  >&lt;p&gt;Thank you for the quickstart. To me this is not a problem with Wicket but with the way you use to decide the visibility for the inline internal component. Variable &apos;visible1&apos; is used to determinate component&apos;s visibility but it is set only when onConfigure is called, hence the component is always invisible to the inline container.&lt;br/&gt;
Just replace the onconfigure method with this version of isVisible:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isVisible() {
 	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; visible1;
 };
&lt;span class=&quot;code-comment&quot;&gt;//            @Override
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//            &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onConfigure() {
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//                &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.onConfigure();
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//                setVisible(visible1);
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//            }&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in this way the internal component&apos;s visibility reflects the visible1 flag.&lt;/p&gt;</comment>
                            <comment id="14323009" author="rza" created="Mon, 16 Feb 2015 17:04:31 +0000"  >&lt;p&gt;The &quot;visible1&quot; flag is only used for representation in this quickstart. I found the issue in my project when trying to inherit the visibility of a whole component hierarchy with some rules over multiple levels, i.e some complex logic I wouldn&apos;t want to calculate every time in isVisible(). And of course I could calculate it one time and cache it in an own flag - but why not use the existing infrastructure that exists for exactly this purpose?&lt;/p&gt;

&lt;p&gt;To quote from &lt;a href=&quot;http://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/Component.html#onConfigure()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Component#onConfigure()&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Why this method is preferrable to directly overriding isVisible() and isEnabled()? Because those methods are called multiple times even for processing of a single request. If they contain expensive logic they can slow down the response time of the entire page. Further, overriding those methods directly on form components may lead to inconsistent or unexpected state depending on when those methods are called in the form processing workflow. It is a better practice to push changes to state rather than pull.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14323139" author="bitstorm" created="Mon, 16 Feb 2015 18:51:33 +0000"  >&lt;p&gt;Thank you for your clarification, I think now I get the picture...&lt;/p&gt;</comment>
                            <comment id="14323268" author="bitstorm" created="Mon, 16 Feb 2015 20:48:34 +0000"  >&lt;p&gt;An the answer is in the next javadoc line &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; NOTE: If component&apos;s visibility or another property depends on another component you may call other.configure() &lt;br/&gt;
&amp;gt; followed by other.isVisible() as mentioned in configure() javadoc.  &lt;/p&gt;</comment>
                            <comment id="14323276" author="jira-bot" created="Mon, 16 Feb 2015 20:53:53 +0000"  >&lt;p&gt;Commit c97e3f4b0e7c7300c41d4608547d8bd16f37498f in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c97e3f4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c97e3f4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5835&quot; title=&quot;InlineEnclosure doesn&amp;#39;t call child.configure() before updating its visilbity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5835&quot;&gt;&lt;del&gt;WICKET-5835&lt;/del&gt;&lt;/a&gt; InlineEnclosure doesn&apos;t call child.configure() before updating its visilbity&lt;/p&gt;</comment>
                            <comment id="14323287" author="jira-bot" created="Mon, 16 Feb 2015 21:01:05 +0000"  >&lt;p&gt;Commit 3d5b261577d79afd74a274d7cffb20c031b4dac1 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3d5b261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3d5b261&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5835&quot; title=&quot;InlineEnclosure doesn&amp;#39;t call child.configure() before updating its visilbity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5835&quot;&gt;&lt;del&gt;WICKET-5835&lt;/del&gt;&lt;/a&gt; InlineEnclosure doesn&apos;t call child.configure() before updating its visilbity&lt;/p&gt;</comment>
                            <comment id="14323979" author="rza" created="Tue, 17 Feb 2015 09:15:54 +0000"  >&lt;p&gt;I&apos;m afraid you fixed the wrong class ... or at least InlineEnclosure has to be fixed as well.&lt;br/&gt;
But now you&apos;re setting the visiblity flag on Enclosure but at the same time isVisible is overriden, so that the flag is never queried - or am I missing something?&lt;/p&gt;</comment>
                            <comment id="14324067" author="bitstorm" created="Tue, 17 Feb 2015 11:19:42 +0000"  >&lt;p&gt;Right. But to be more precise, with this solution both Enclouser#isVisible() and InlineEnclosure#updateVisibility() are no more useful and I&apos;m considering to remove them from master branch. To me InlineEnclosure#updateVisibility() looks like an hack while we can (and should) rely on standard component lifecycle hooks.&lt;br/&gt;
For 6.x branch I cannot remove public method such as updateVisibility for backward compatibility. What I could do is to slightly modify onConfigure like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Override
	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onConfigure()
	{
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.onConfigure();
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Component child = getChild();
		
		child.configure();
&lt;span class=&quot;code-comment&quot;&gt;//		&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; childVisible = child.determineVisibility();
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//		
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//		setVisible(childVisible);
&lt;/span&gt;	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but I don&apos;t see a huge benefit...&lt;/p&gt;</comment>
                            <comment id="14324155" author="jira-bot" created="Tue, 17 Feb 2015 13:03:05 +0000"  >&lt;p&gt;Commit 3693d070bd824a791bcdc2a69e7f8c0fea408f38 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3693d07&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3693d07&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Refactoring for InlineEnclosure and Enclosure to remove legacy code (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-5835&quot; title=&quot;InlineEnclosure doesn&amp;#39;t call child.configure() before updating its visilbity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-5835&quot;&gt;&lt;del&gt;WICKET-5835&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12699069" name="enclosure-quickstart.zip" size="28142" author="rza" created="Mon, 16 Feb 2015 10:46:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25hlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>