diff --git a/wicket-core/src/main/java/org/apache/wicket/AttributeModifier.java b/wicket-core/src/main/java/org/apache/wicket/AttributeModifier.java
index b78398c095..37607a602f 100644
--- a/wicket-core/src/main/java/org/apache/wicket/AttributeModifier.java
+++ b/wicket-core/src/main/java/org/apache/wicket/AttributeModifier.java
@@ -29,8 +29,6 @@ import org.apache.wicket.model.Model;
 import org.apache.wicket.util.io.IClusterable;
 import org.apache.wicket.util.lang.Args;
 import org.apache.wicket.util.value.IValueMap;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
 
 /**
  * This class allows a tag attribute of a component to be modified dynamically with a value obtained
@@ -69,13 +67,22 @@ import org.slf4j.LoggerFactory;
  */
 public class AttributeModifier extends Behavior implements IClusterable
 {
-	private static final Logger LOG = LoggerFactory.getLogger(AttributeModifier.class);
+	/**
+	 * Special attribute value markers.
+	 */
+	public enum MarkerValue {
+		/** Marker value to have an attribute without a value added. */
+		VALUELESS_ATTRIBUTE_ADD,
+
+		/** Marker value to have an attribute without a value removed. */
+		VALUELESS_ATTRIBUTE_REMOVE
+	}
 
 	/** Marker value to have an attribute without a value added. */
-	public static final String VALUELESS_ATTRIBUTE_ADD = new String("VA_ADD");
+	public static final MarkerValue VALUELESS_ATTRIBUTE_ADD = MarkerValue.VALUELESS_ATTRIBUTE_ADD;
 
 	/** Marker value to have an attribute without a value removed. */
-	public static final String VALUELESS_ATTRIBUTE_REMOVE = new String("VA_REMOVE");
+	public static final MarkerValue VALUELESS_ATTRIBUTE_REMOVE = MarkerValue.VALUELESS_ATTRIBUTE_REMOVE;
 
 	private static final long serialVersionUID = 1L;
 
@@ -176,7 +183,7 @@ public class AttributeModifier extends Behavior implements IClusterable
 			else
 			{
 				final String value = toStringOrNull(attributes.get(attribute));
-				final String newValue = newValue(value, toStringOrNull(replacementValue));
+				final Serializable newValue = newValue(value, toStringOrNull(replacementValue));
 				if (newValue == VALUELESS_ATTRIBUTE_REMOVE)
 				{
 					attributes.remove(attribute);
@@ -189,9 +196,6 @@ public class AttributeModifier extends Behavior implements IClusterable
 		}
 	}
 
-	/**
-	 * @see java.lang.Object#toString()
-	 */
 	@Override
 	public String toString()
 	{
@@ -247,7 +251,7 @@ public class AttributeModifier extends Behavior implements IClusterable
 	 *            The replacement value. This value might be null!
 	 * @return The value that should replace the current attribute value
 	 */
-	protected String newValue(final String currentValue, final String replacementValue)
+	protected Serializable newValue(final String currentValue, final String replacementValue)
 	{
 		return replacementValue;
 	}
@@ -335,7 +339,7 @@ public class AttributeModifier extends Behavior implements IClusterable
 			private static final long serialVersionUID = 1L;
 
 			@Override
-			protected String newValue(String currentValue, String replacementValue)
+			protected Serializable newValue(String currentValue, String replacementValue)
 			{
 				// swap currentValue and replacementValue in the call to the concatenator
 				return super.newValue(replacementValue, currentValue);
@@ -374,33 +378,4 @@ public class AttributeModifier extends Behavior implements IClusterable
 
 		return replace(attributeName, Model.of(VALUELESS_ATTRIBUTE_REMOVE));
 	}
-
-	private void readObject(java.io.ObjectInputStream s) throws java.io.IOException,
-			ClassNotFoundException
-	{
-		s.defaultReadObject();
-
-		try
-		{
-			if (replaceModel instanceof Model)
-			{
-				Model<Serializable> model = (Model<Serializable>) replaceModel;
-
-				final Object replacement = replaceModel.getObject();
-				if (VALUELESS_ATTRIBUTE_ADD.equals(replacement))
-				{
-					model.setObject(VALUELESS_ATTRIBUTE_ADD);
-				}
-				else if (VALUELESS_ATTRIBUTE_REMOVE.equals(replacement))
-				{
-					model.setObject(VALUELESS_ATTRIBUTE_REMOVE);
-				}
-			}
-		}
-		catch (Exception x)
-		{
-			LOG.debug("Cannot reset the value of replaceModel to 'VALUELESS_ATTRIBUTE_ADD/REMOVE': {}",
-					x.getMessage(), x);
-		}
-	}
 }
diff --git a/wicket-core/src/main/java/org/apache/wicket/ClassAttributeModifier.java b/wicket-core/src/main/java/org/apache/wicket/ClassAttributeModifier.java
index 3f6e1ef9a4..e9b56df6c6 100644
--- a/wicket-core/src/main/java/org/apache/wicket/ClassAttributeModifier.java
+++ b/wicket-core/src/main/java/org/apache/wicket/ClassAttributeModifier.java
@@ -16,6 +16,7 @@
  */
 package org.apache.wicket;
 
+import java.io.Serializable;
 import java.util.Collections;
 import java.util.Set;
 import java.util.TreeSet;
@@ -41,7 +42,7 @@ public abstract class ClassAttributeModifier extends AttributeAppender
 	}
 
 	@Override
-	protected String newValue(String currentValue, String appendValue)
+	protected Serializable newValue(String currentValue, String appendValue)
 	{
 		String[] classes;
 		if (Strings.isEmpty(currentValue))
diff --git a/wicket-core/src/main/java/org/apache/wicket/StyleAttributeModifier.java b/wicket-core/src/main/java/org/apache/wicket/StyleAttributeModifier.java
index 70fa8d62f3..176404b0b2 100644
--- a/wicket-core/src/main/java/org/apache/wicket/StyleAttributeModifier.java
+++ b/wicket-core/src/main/java/org/apache/wicket/StyleAttributeModifier.java
@@ -16,6 +16,7 @@
  */
 package org.apache.wicket;
 
+import java.io.Serializable;
 import java.util.LinkedHashMap;
 import java.util.Map;
 import java.util.regex.Pattern;
@@ -41,7 +42,7 @@ public abstract class StyleAttributeModifier extends AttributeAppender
 	}
 
 	@Override
-	protected String newValue(String currentValue, String appendValue)
+	protected Serializable newValue(String currentValue, String appendValue)
 	{
 		String[] styles;
 		if (Strings.isEmpty(currentValue))
diff --git a/wicket-core/src/main/java/org/apache/wicket/behavior/AttributeAppender.java b/wicket-core/src/main/java/org/apache/wicket/behavior/AttributeAppender.java
index 8d59b87ef3..055cf62b20 100644
--- a/wicket-core/src/main/java/org/apache/wicket/behavior/AttributeAppender.java
+++ b/wicket-core/src/main/java/org/apache/wicket/behavior/AttributeAppender.java
@@ -144,14 +144,17 @@ public class AttributeAppender extends AttributeModifier
 	}
 
 	@Override
-	protected String newValue(String currentValue, String appendValue)
+	protected Serializable newValue(String currentValue, String appendValue)
 	{
 		// Short circuit when one of the values is empty: return the other value.
 		if (Strings.isEmpty(currentValue))
+		{
 			return appendValue != null ? appendValue : null;
+		}
 		else if (Strings.isEmpty(appendValue))
-			return currentValue != null ? currentValue : null;
-
+		{
+			return currentValue;
+		}
 		StringBuilder sb = new StringBuilder(currentValue);
 		sb.append((getSeparator() == null ? "" : getSeparator()));
 		sb.append(appendValue);
diff --git a/wicket-core/src/test/java/org/apache/wicket/AttributeModifierTest.java b/wicket-core/src/test/java/org/apache/wicket/AttributeModifierTest.java
index db7052ed0a..c0b5f3e44d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/AttributeModifierTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/AttributeModifierTest.java
@@ -16,7 +16,6 @@
  */
 package org.apache.wicket;
 
-import static org.hamcrest.Matchers.equalTo;
 import static org.hamcrest.Matchers.is;
 import static org.hamcrest.Matchers.sameInstance;
 
@@ -337,11 +336,24 @@ public class AttributeModifierTest extends Assert
 	 * https://issues.apache.org/jira/browse/WICKET-6279
 	 */
 	@Test
-	public void deserialize()
+	public void deserializeAdd()
 	{
 		AttributeModifier appender = AttributeModifier.append("class", AttributeModifier.VALUELESS_ATTRIBUTE_ADD);
 		final AttributeModifier copy = WicketObjects.cloneObject(appender);
 		final IModel<?> replaceModel = copy.getReplaceModel();
-		assertThat(replaceModel.getObject().toString(), is(sameInstance(AttributeModifier.VALUELESS_ATTRIBUTE_ADD)));
+		assertThat(replaceModel.getObject(), is(sameInstance(AttributeModifier.VALUELESS_ATTRIBUTE_ADD)));
+	}
+
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-6279
+	 */
+	@Test
+	public void deserializeRemove()
+	{
+		AttributeModifier appender = AttributeModifier.append("class", AttributeModifier.VALUELESS_ATTRIBUTE_REMOVE);
+		final AttributeModifier copy = WicketObjects.cloneObject(appender);
+		final IModel<?> replaceModel = copy.getReplaceModel();
+		assertThat(replaceModel.getObject(), is(sameInstance(AttributeModifier.VALUELESS_ATTRIBUTE_REMOVE)));
 	}
 }
