diff --git a/wicket-core/src/main/java/org/apache/wicket/core/util/objects/checker/CheckingObjectOutputStream.java b/wicket-core/src/main/java/org/apache/wicket/core/util/objects/checker/CheckingObjectOutputStream.java
index 6eef7d9cee..4978c0e18b 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/util/objects/checker/CheckingObjectOutputStream.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/util/objects/checker/CheckingObjectOutputStream.java
@@ -343,11 +343,7 @@ public class CheckingObjectOutputStream extends ObjectOutputStream
 
 	private void internalCheck(Object obj)
 	{
-		if (obj == null)
-		{
-			return;
-		}
-
+		final Object original = obj;
 		Class<?> cls = obj.getClass();
 		nameStack.add(simpleName);
 		traceStack.add(new TraceSlot(obj, fieldDescription));
@@ -390,7 +386,7 @@ public class CheckingObjectOutputStream extends ObjectOutputStream
 		}
 		else if (cls.isArray())
 		{
-			checked.put(obj, null);
+			checked.put(original, null);
 			Class<?> ccl = cls.getComponentType();
 			if (!(ccl.isPrimitive()))
 			{
@@ -448,22 +444,15 @@ public class CheckingObjectOutputStream extends ObjectOutputStream
 			{
 				try
 				{
-					writeObjectMethod = cls.getDeclaredMethod("writeObject",
-							new Class[] { java.io.ObjectOutputStream.class });
+					writeObjectMethod = cls.getDeclaredMethod("writeObject", java.io.ObjectOutputStream.class);
 				}
-				catch (SecurityException e)
+				catch (SecurityException | NoSuchMethodException e)
 				{
 					// we can't access / set accessible to true
 					writeObjectMethodMissing.add(cls);
 				}
-				catch (NoSuchMethodException e)
-				{
-					// cls doesn't have that method
-					writeObjectMethodMissing.add(cls);
-				}
 			}
 
-			final Object original = obj;
 			if (writeObjectMethod != null)
 			{
 				class InterceptingObjectOutputStream extends ObjectOutputStream
@@ -537,7 +526,7 @@ public class CheckingObjectOutputStream extends ObjectOutputStream
 					{
 						throw new RuntimeException(e);
 					}
-					checked.put(obj, null);
+					checked.put(original, null);
 					checkFields(obj, slotDesc);
 				}
 			}
