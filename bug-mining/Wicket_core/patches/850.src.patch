diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/link/PopupSettings.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/link/PopupSettings.java
index b446034a9b..82dc08f82f 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/link/PopupSettings.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/link/PopupSettings.java
@@ -155,7 +155,7 @@ public class PopupSettings implements IClusterable
 			windowTitle = windowTitle.replaceAll("\\W", "_");
 		}
 
-	 StringBuilder script = new StringBuilder("var w = window.open(" + target + ", '").append(
+	    StringBuilder script = new StringBuilder("var w = window.open(" + target + ", '").append(
 			windowTitle).append("', '");
 
 		script.append("scrollbars=").append(flagToString(SCROLLBARS));
@@ -185,7 +185,7 @@ public class PopupSettings implements IClusterable
 			script.append(",top=").append(top);
 		}
 
-		script.append("'); if(w.blur) w.focus();").append(" return false;");
+		script.append("'); try {if (w.blur) w.focus();}catch(ignore){}; return false;");
 
 		return script.toString();
 	}
