diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
index 94f93a5c2d..7eeb1e17c4 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
@@ -774,10 +774,10 @@ public class Form<T> extends WebMarkupContainer implements IFormSubmitListener,
 			callOnError(submitter);
 		}
 
-
-		if (((WebRequest)getRequest()).isAjax())
+		// update auto labels if we are inside an ajax request
+		final AjaxRequestTarget target = getRequestCycle().find(AjaxRequestTarget.class);
+		if (target != null)
 		{
-			final AjaxRequestTarget target = getRequestCycle().find(AjaxRequestTarget.class);
 			visitChildren(FormComponent.class, new IVisitor<FormComponent<?>, Void>()
 			{
 				@Override
