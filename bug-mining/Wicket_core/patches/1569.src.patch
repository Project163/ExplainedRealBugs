diff --git a/wicket-core/src/main/java/org/apache/wicket/core/util/crypt/AbstractKeyInSessionCryptFactory.java b/wicket-core/src/main/java/org/apache/wicket/core/util/crypt/AbstractKeyInSessionCryptFactory.java
index b4065824d9..f1cc2b2ae0 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/util/crypt/AbstractKeyInSessionCryptFactory.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/util/crypt/AbstractKeyInSessionCryptFactory.java
@@ -16,6 +16,8 @@
  */
 package org.apache.wicket.core.util.crypt;
 
+import java.io.Serializable;
+
 import org.apache.wicket.MetaDataKey;
 import org.apache.wicket.Session;
 import org.apache.wicket.util.crypt.ICrypt;
@@ -37,7 +39,7 @@ public abstract class AbstractKeyInSessionCryptFactory<T extends IClusterable>
 		ICryptFactory
 {
 	/** metadata-key used to store crypto-key in session metadata */
-	private final MetaDataKey<T> KEY = new MetaDataKey<T>()
+	private static final MetaDataKey<Serializable> KEY = new MetaDataKey<>()
 	{
 		private static final long serialVersionUID = 1L;
 	};
@@ -55,7 +57,7 @@ public abstract class AbstractKeyInSessionCryptFactory<T extends IClusterable>
 		session.bind();
 
 		// retrieve or generate encryption key from session
-		T key = session.getMetaData(KEY);
+		T key = (T) session.getMetaData(KEY);
 		if (key == null)
 		{
 			// generate new key
@@ -81,4 +83,4 @@ public abstract class AbstractKeyInSessionCryptFactory<T extends IClusterable>
 	 * @return the {@link org.apache.wicket.util.crypt.ICrypt} to use
 	 */
 	protected abstract ICrypt createCrypt(T key);
-}
\ No newline at end of file
+}
