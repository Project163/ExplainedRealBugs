diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/include/Include.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/include/Include.java
index 03c40a712a..bfc52d953a 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/include/Include.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/include/Include.java
@@ -20,7 +20,7 @@ import java.net.MalformedURLException;
 import java.net.URL;
 import java.nio.charset.Charset;
 
-import javax.servlet.http.HttpServletRequest;
+import javax.servlet.ServletContext;
 
 import org.apache.wicket.WicketRuntimeException;
 import org.apache.wicket.core.util.resource.UrlResourceStream;
@@ -31,6 +31,7 @@ import org.apache.wicket.model.IModel;
 import org.apache.wicket.model.Model;
 import org.apache.wicket.request.UrlUtils;
 import org.apache.wicket.resource.ResourceUtil;
+import org.apache.wicket.util.lang.Args;
 
 
 /**
@@ -154,23 +155,24 @@ public class Include extends WebComponent
 	 *            the url to import
 	 * @return the imported url's contents
 	 */
-	private String importRelativeUrl(CharSequence url)
+	private String importRelativeUrl(String url)
 	{
-		// make the url absolute
-		HttpServletRequest req = (HttpServletRequest)getRequest().getContainerRequest();
-		StringBuilder buildUrl = new StringBuilder(url.length());
-		String scheme = req.getScheme();
-		int port = req.getServerPort();
-		buildUrl.append(scheme); // http, https
-		buildUrl.append("://");
-		buildUrl.append(req.getServerName());
-		if ((scheme.equals("http") && port != 80) || (scheme.equals("https") && port != 443))
+		Args.notEmpty(url, "url");
+
+		if (url.charAt(0) != '/')
+		{
+			url = '/' + url;
+		}
+
+		try
+		{
+			ServletContext servletContext = getWebApplication().getServletContext();
+			URL resource = servletContext.getResource(url);
+			return importUrl(resource);
+		} catch (MalformedURLException mux)
 		{
-			buildUrl.append(':');
-			buildUrl.append(req.getServerPort());
+			throw new WicketRuntimeException(mux);
 		}
-		buildUrl.append(req.getContextPath()).append('/').append(url);
-		return importAbsoluteUrl(buildUrl);
 	}
 
 	/**
