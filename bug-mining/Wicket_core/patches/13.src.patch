diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/AbstractTextComponent.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/AbstractTextComponent.java
index 845187ca08..b9a424485f 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/AbstractTextComponent.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/AbstractTextComponent.java
@@ -21,7 +21,6 @@ import java.text.SimpleDateFormat;
 import org.apache.wicket.Component;
 import org.apache.wicket.model.IModel;
 import org.apache.wicket.model.IObjectClassAwareModel;
-import org.apache.wicket.util.convert.ConversionException;
 import org.apache.wicket.util.string.Strings;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
@@ -109,6 +108,8 @@ public abstract class AbstractTextComponent<T> extends FormComponent<T>
 	}
 
 	/**
+	 * Convert the input respecting the flag convertEmptyInputStringToNull. Subclasses that override
+	 * this method should test this flag also.
 	 * 
 	 * @see org.apache.wicket.markup.html.form.FormComponent#convertInput()
 	 */
@@ -118,7 +119,16 @@ public abstract class AbstractTextComponent<T> extends FormComponent<T>
 		// Stateless forms don't have to be rendered first, convertInput could be called before
 		// onBeforeRender calling resolve type here again to check if the type is correctly set.
 		resolveType();
-		super.convertInput();
+		String[] value = getInputAsArray();
+		String tmp = value != null && value.length > 0 ? value[0] : null;
+		if (getConvertEmptyInputStringToNull() && Strings.isEmpty(tmp))
+		{
+			setConvertedInput(null);
+		}
+		else
+		{
+			super.convertInput();
+		}
 	}
 
 	/**
@@ -140,13 +150,8 @@ public abstract class AbstractTextComponent<T> extends FormComponent<T>
 	{
 		if (!getFlag(TYPE_RESOLVED) && getType() == null)
 		{
-			// Set the type, but only if it's not a String (see WICKET-606).
-			// Otherwise, getConvertEmptyInputStringToNull() won't work.
 			Class<?> type = getModelType(getDefaultModel());
-			if (!String.class.equals(type))
-			{
-				setType(type);
-			}
+			setType(type);
 			setFlag(TYPE_RESOLVED, true);
 		}
 	}
@@ -186,18 +191,4 @@ public abstract class AbstractTextComponent<T> extends FormComponent<T>
 		setFlag(FLAG_CONVERT_EMPTY_INPUT_STRING_TO_NULL, flag);
 		return this;
 	}
-
-	/**
-	 * @see org.apache.wicket.markup.html.form.FormComponent#convertValue(String[])
-	 */
-	@Override
-	protected T convertValue(String[] value) throws ConversionException
-	{
-		String tmp = value != null && value.length > 0 ? value[0] : null;
-		if (getConvertEmptyInputStringToNull() && Strings.isEmpty(tmp))
-		{
-			return null;
-		}
-		return super.convertValue(value);
-	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/TextFieldTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/TextFieldTest.java
new file mode 100644
index 0000000000..cbc32fcad7
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/TextFieldTest.java
@@ -0,0 +1,60 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.markup.html.form;
+
+import org.apache.wicket.MarkupContainer;
+import org.apache.wicket.WicketTestCase;
+import org.apache.wicket.markup.IMarkupResourceStreamProvider;
+import org.apache.wicket.markup.html.WebPage;
+import org.apache.wicket.model.Model;
+import org.apache.wicket.util.resource.IResourceStream;
+import org.apache.wicket.util.resource.StringResourceStream;
+import org.apache.wicket.util.tester.FormTester;
+
+public class TextFieldTest extends WicketTestCase
+{
+	public void testEmptyInputConvertedToNull()
+	{
+		TestPage testPage = new TestPage();
+		testPage.textField.setType(String.class);
+		testPage.textField.setConvertEmptyInputStringToNull(true);
+		tester.startPage(testPage);
+		FormTester formTester = tester.newFormTester(testPage.form.getId());
+		formTester.setValue(testPage.textField.getId(), "");
+		formTester.submit();
+		assertEquals(null, testPage.textField.getDefaultModelObject());
+	}
+
+	public static class TestPage extends WebPage implements IMarkupResourceStreamProvider
+	{
+		Form<Void> form;
+		TextField<String> textField;
+
+		public TestPage()
+		{
+			add(form = new Form<Void>("form"));
+			form.add(textField = new TextField<String>("text", Model.of((String)null)));
+		}
+
+		public IResourceStream getMarkupResourceStream(MarkupContainer container,
+			Class<?> containerClass)
+		{
+			return new StringResourceStream("<html><body>"
+				+ "<form wicket:id=\"form\"><input wicket:id=\"text\" /></form></body></html>");
+		}
+	}
+}
\ No newline at end of file
