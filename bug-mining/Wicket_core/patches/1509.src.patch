diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/https/HttpsMapper.java b/wicket-core/src/main/java/org/apache/wicket/protocol/https/HttpsMapper.java
index 411b5e9afc..c7dda45a39 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/https/HttpsMapper.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/https/HttpsMapper.java
@@ -101,6 +101,11 @@ public class HttpsMapper implements IRequestMapperDelegate
 		IRequestHandler handler = delegate.mapRequest(request);
 
 		Scheme desired = getDesiredSchemeFor(handler);
+		if (Scheme.ANY.equals(desired))
+		{
+			return handler;
+		}
+		
 		Scheme current = getSchemeOf(request);
 		if (!desired.isCompatibleWith(current))
 		{
@@ -173,6 +178,11 @@ public class HttpsMapper implements IRequestMapperDelegate
 		Url url = delegate.mapHandler(handler);
 
 		Scheme desired = getDesiredSchemeFor(handler);
+		if (Scheme.ANY.equals(desired))
+		{
+			return url;
+		}
+		
 		Scheme current = getSchemeOf(request);
 		if (!desired.isCompatibleWith(current))
 		{
