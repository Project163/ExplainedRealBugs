diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceStreamResource.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceStreamResource.java
index 4f90a73e61..a3a259d9e6 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceStreamResource.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceStreamResource.java
@@ -144,7 +144,7 @@ public class ResourceStreamResource extends AbstractResource
 		if (data.dataNeedsToBeWritten(attributes))
 		{
 			InputStream inputStream = null;
-			if (stream instanceof IResourceStreamWriter == false)
+			if (resourceStream instanceof IResourceStreamWriter == false)
 			{
 				try
 				{
