diff --git a/wicket-core/src/main/java/org/apache/wicket/core/request/mapper/BasicResourceReferenceMapper.java b/wicket-core/src/main/java/org/apache/wicket/core/request/mapper/BasicResourceReferenceMapper.java
index 40985256f0..5d52084031 100755
--- a/wicket-core/src/main/java/org/apache/wicket/core/request/mapper/BasicResourceReferenceMapper.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/request/mapper/BasicResourceReferenceMapper.java
@@ -26,6 +26,7 @@ import org.apache.wicket.request.Url;
 import org.apache.wicket.request.handler.resource.ResourceReferenceRequestHandler;
 import org.apache.wicket.request.mapper.parameter.IPageParametersEncoder;
 import org.apache.wicket.request.mapper.parameter.PageParameters;
+import org.apache.wicket.request.resource.ResourceReferenceRegistry;
 import org.apache.wicket.request.resource.UrlResourceReference;
 import org.apache.wicket.request.resource.IResource;
 import org.apache.wicket.request.resource.MetaInfStaticResourceReference;
@@ -192,6 +193,12 @@ class BasicResourceReferenceMapper extends AbstractResourceReferenceMapper
 				return url;
 			}
 
+			if (reference.canBeRegistered())
+			{
+				ResourceReferenceRegistry resourceReferenceRegistry = getContext().getResourceReferenceRegistry();
+				resourceReferenceRegistry.registerResourceReference(reference);
+			}
+
 			url = new Url();
 
 			List<String> segments = url.getSegments();
