diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/PackageResourceReference.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/PackageResourceReference.java
index cc7273173d..710eef26dc 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/PackageResourceReference.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/PackageResourceReference.java
@@ -207,7 +207,14 @@ public class PackageResourceReference extends ResourceReference
 		if (idxOfExtension > -1)
 		{
 			String extension = name.substring(idxOfExtension);
-			minifiedName = name.substring(0, name.length() - extension.length() + 1) + "min" + extension;
+            final String baseName = name.substring(0, name.length() - extension.length() + 1);
+            if (!".min".equals(extension) && !baseName.endsWith(".min."))
+            {
+                minifiedName = baseName + "min" + extension;
+            } else
+            {
+                minifiedName = name;
+            }
 		} else
 		{
 			minifiedName = name + ".min";
diff --git a/wicket-core/src/test/java/org/apache/wicket/request/resource/PackageResourceReferenceTest.java b/wicket-core/src/test/java/org/apache/wicket/request/resource/PackageResourceReferenceTest.java
index cbde900feb..63cb6eca3d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/resource/PackageResourceReferenceTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/resource/PackageResourceReferenceTest.java
@@ -22,6 +22,7 @@ import org.apache.wicket.WicketTestCase;
 import org.apache.wicket.request.resource.IResource.Attributes;
 import org.apache.wicket.request.resource.ResourceReference.UrlAttributes;
 import org.apache.wicket.response.ByteArrayResponse;
+import org.junit.Assert;
 import org.junit.Before;
 import org.junit.Test;
 
@@ -184,4 +185,23 @@ public class PackageResourceReferenceTest extends WicketTestCase
 		}
 	}
 
+    /**
+     * see WICKET-5251 : Proper detection of already minified resources
+     */
+    @Test
+    public void testMinifiedNameDetectMinInName() throws Exception 
+    {
+        final PackageResourceReference html5minjs = new PackageResourceReference("html5.min.js");
+        Assert.assertEquals("html5.min.js", html5minjs.getMinifiedName());
+
+        final PackageResourceReference html5notminjs = new PackageResourceReference("html5.notmin.js");
+        Assert.assertEquals("html5.notmin.min.js", html5notminjs.getMinifiedName());
+
+        final PackageResourceReference html5notmin = new PackageResourceReference("html5notmin");
+        Assert.assertEquals("html5notmin.min", html5notmin.getMinifiedName());
+        
+        final PackageResourceReference html5min = new PackageResourceReference("html5.min");
+        Assert.assertEquals("html5.min", html5min.getMinifiedName());
+
+    }
 }
