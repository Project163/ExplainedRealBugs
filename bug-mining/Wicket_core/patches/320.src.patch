diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/DecoratingHeaderResponse.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/DecoratingHeaderResponse.java
index 8866e3885d..f2a442544f 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/DecoratingHeaderResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/DecoratingHeaderResponse.java
@@ -79,6 +79,12 @@ public abstract class DecoratingHeaderResponse implements IHeaderResponse
 		realResponse.renderJavaScriptReference(reference, pageParameters, id, defer);
 	}
 
+	public void renderJavaScriptReference(ResourceReference reference,
+		PageParameters pageParameters, String id, boolean defer, String charset)
+	{
+		realResponse.renderJavaScriptReference(reference, pageParameters, id, defer, charset);
+	}
+
 	public void renderJavaScriptReference(String url)
 	{
 		realResponse.renderJavaScriptReference(url);
@@ -94,6 +100,11 @@ public abstract class DecoratingHeaderResponse implements IHeaderResponse
 		realResponse.renderJavaScriptReference(url, id, defer);
 	}
 
+	public void renderJavaScriptReference(String url, String id, boolean defer, String charset)
+	{
+		realResponse.renderJavaScriptReference(url, id, defer, charset);
+	}
+
 	public void renderJavaScript(CharSequence javascript, String id)
 	{
 		realResponse.renderJavaScript(javascript, id);
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/IHeaderResponse.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/IHeaderResponse.java
index bc29b3682c..8ac1f2222e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/IHeaderResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/IHeaderResponse.java
@@ -84,6 +84,26 @@ public interface IHeaderResponse extends Closeable
 	public void renderJavaScriptReference(ResourceReference reference,
 		PageParameters pageParameters, String id, boolean defer);
 
+	/**
+	 * Writes a javascript reference with query parameters, if the specified reference hasn't been
+	 * rendered yet.
+	 * 
+	 * @param reference
+	 *            resource reference pointing to the javascript resource
+	 * @param pageParameters
+	 *            the parameters for this Javascript resource reference
+	 * @param id
+	 *            id that will be used to filter duplicate reference (it's still filtered by URL
+	 *            too)
+	 * @param defer
+	 *            specifies that the execution of a script should be deferred (delayed) until after
+	 *            the page has been loaded.
+	 * @param charset
+	 *            a non null value specifies the charset attribute of the script tag
+	 */
+	public void renderJavaScriptReference(ResourceReference reference,
+		PageParameters pageParameters, String id, boolean defer, String charset);
+
 	/**
 	 * Writes a javascript reference, if the specified reference hasn't been rendered yet.
 	 * 
@@ -117,6 +137,22 @@ public interface IHeaderResponse extends Closeable
 	 */
 	public void renderJavaScriptReference(String url, String id, boolean defer);
 
+	/**
+	 * Writes a javascript reference, if the specified reference hasn't been rendered yet.
+	 * 
+	 * @param url
+	 *            context-relative url of the the javascript resource
+	 * @param id
+	 *            id that will be used to filter duplicate reference (it's still filtered by URL
+	 *            too)
+	 * @param defer
+	 *            specifies that the execution of a script should be deferred (delayed) until after
+	 *            the page has been loaded.
+	 * @param charset
+	 *            a non null value specifies the charset attribute of the script tag
+	 */
+	public void renderJavaScriptReference(String url, String id, boolean defer, String charset);
+
 	/**
 	 * Renders javascript code to the response, if the javascript has not already been rendered.
 	 * 
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/internal/HeaderResponse.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/internal/HeaderResponse.java
index ffa7cf2d9e..13733fc638 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/internal/HeaderResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/internal/HeaderResponse.java
@@ -195,6 +195,12 @@ public abstract class HeaderResponse implements IHeaderResponse
 
 	public void renderJavaScriptReference(ResourceReference reference,
 		PageParameters pageParameters, String id, boolean defer)
+	{
+		renderJavaScriptReference(reference, pageParameters, id, defer, null);
+	}
+
+	public void renderJavaScriptReference(ResourceReference reference,
+		PageParameters pageParameters, String id, boolean defer, String charset)
 	{
 		Args.notNull(reference, "reference");
 
@@ -202,7 +208,7 @@ public abstract class HeaderResponse implements IHeaderResponse
 		{
 			IRequestHandler handler = new ResourceReferenceRequestHandler(reference, pageParameters);
 			CharSequence url = RequestCycle.get().urlFor(handler);
-			internalRenderJavaScriptReference(url.toString(), id, defer);
+			internalRenderJavaScriptReference(url.toString(), id, defer, charset);
 		}
 	}
 
@@ -218,10 +224,16 @@ public abstract class HeaderResponse implements IHeaderResponse
 
 	public void renderJavaScriptReference(String url, String id, boolean defer)
 	{
-		internalRenderJavaScriptReference(relative(url), id, defer);
+		renderJavaScriptReference(url, id, defer, null);
+	}
+
+	public void renderJavaScriptReference(String url, String id, boolean defer, String charset)
+	{
+		internalRenderJavaScriptReference(relative(url), id, defer, charset);
 	}
 
-	private void internalRenderJavaScriptReference(String url, String id, boolean defer)
+	private void internalRenderJavaScriptReference(String url, String id, boolean defer,
+		String charset)
 	{
 		if (Strings.isEmpty(url))
 		{
@@ -239,7 +251,8 @@ public abstract class HeaderResponse implements IHeaderResponse
 
 			if (token1Unused && token2Unused)
 			{
-				JavaScriptUtils.writeJavaScriptUrl(getResponse(), urlWoSessionId, id, defer);
+				JavaScriptUtils.writeJavaScriptUrl(getResponse(), urlWoSessionId, id, defer,
+					charset);
 				markRendered(token1);
 				if (token2 != null)
 				{
diff --git a/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptUtils.java b/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptUtils.java
index 0785cfb62c..246837573c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptUtils.java
+++ b/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptUtils.java
@@ -105,7 +105,7 @@ public class JavaScriptUtils
 	public static void writeJavaScriptUrl(final Response response, final CharSequence url,
 		final String id)
 	{
-		writeJavaScriptUrl(response, url, id, false);
+		writeJavaScriptUrl(response, url, id, false, null);
 	}
 
 	/**
@@ -120,9 +120,11 @@ public class JavaScriptUtils
 	 * @param defer
 	 *            specifies that the execution of a script should be deferred (delayed) until after
 	 *            the page has been loaded.
+	 * @param charset
+	 *            a non null value specifies the charset attribute of the script tag
 	 */
 	public static void writeJavaScriptUrl(final Response response, final CharSequence url,
-		final String id, boolean defer)
+		final String id, boolean defer, String charset)
 	{
 		response.write("<script type=\"text/javascript\" ");
 		if (id != null)
@@ -133,6 +135,10 @@ public class JavaScriptUtils
 		{
 			response.write("defer=\"defer\" ");
 		}
+		if (charset != null)
+		{
+			response.write("charset=\"" + charset + "\" ");
+		}
 		response.write("src=\"");
 		response.write(url);
 		response.write("\"></script>");
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/HeaderResponseTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/HeaderResponseTest.java
index 56c971bdf6..c6da2c27c9 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/HeaderResponseTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/HeaderResponseTest.java
@@ -159,4 +159,35 @@ public class HeaderResponseTest
 		Assert.assertEquals(expected, actual);
 	}
 
+	/**
+	 * Tests setting of 'charset' attribute
+	 * <p>
+	 * WICKET-3909
+	 */
+	@Test
+	public void testCharsetSetJavaScriptReference()
+	{
+		String charset = "foo";
+		headerResponse.renderJavaScriptReference("js-resource.js", "some-id", false, charset);
+		String expected = "<script type=\"text/javascript\" id=\"some-id\" charset=\"" + charset +
+			"\" src=\"" + RESOURCE_NAME + "\"></script>\n";
+		String actual = headerResponse.getResponse().toString();
+		Assert.assertEquals(expected, actual);
+	}
+
+	/**
+	 * Tests non-setting of 'charset' attribute
+	 * <p>
+	 * WICKET-3909
+	 */
+	@Test
+	public void testCharsetNotSetJavaScriptReference()
+	{
+		headerResponse.renderJavaScriptReference("js-resource.js", "some-id", false, null);
+		String expected = "<script type=\"text/javascript\" id=\"some-id\" src=\"" + RESOURCE_NAME +
+			"\"></script>\n";
+		String actual = headerResponse.getResponse().toString();
+		Assert.assertEquals(expected, actual);
+	}
+
 }
