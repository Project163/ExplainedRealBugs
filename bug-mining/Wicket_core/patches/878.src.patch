diff --git a/wicket-core/src/main/java/org/apache/wicket/core/util/string/ComponentRenderer.java b/wicket-core/src/main/java/org/apache/wicket/core/util/string/ComponentRenderer.java
index 308b5487b1..41704a65c8 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/util/string/ComponentRenderer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/util/string/ComponentRenderer.java
@@ -100,6 +100,7 @@ public class ComponentRenderer
 
 			RenderPage page = new RenderPage();
 			page.add(component);
+			page.internalInitialize();
 
 			component.render();
 		}
diff --git a/wicket-core/src/test/java/org/apache/wicket/core/util/string/ComponentRendererTest.java b/wicket-core/src/test/java/org/apache/wicket/core/util/string/ComponentRendererTest.java
new file mode 100644
index 0000000000..80922f8f60
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/core/util/string/ComponentRendererTest.java
@@ -0,0 +1,39 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.core.util.string;
+
+import org.apache.wicket.WicketTestCase;
+import org.junit.Test;
+
+/**
+ * Tests for ComponentRenderer
+ */
+public class ComponentRendererTest extends WicketTestCase
+{
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-5209
+	 *
+	 * Tests that the page and the components in it are initialized.
+	 * Enclosure won't know its child component without being initialized
+	 */
+	@Test
+	public void componentsAreInitialized()
+	{
+		ComponentRenderer.renderComponent(new EnclosurePanel(ComponentRenderer.COMP_ID));
+	}
+}
diff --git a/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.html b/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.html
new file mode 100644
index 0000000000..2977d1bd73
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.html
@@ -0,0 +1,22 @@
+<!--
+    ====================================================================
+    Licensed under the Apache License, Version 2.0 (the "License");
+    you may not use this file except in compliance with the License.
+    You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<!DOCTYPE html>
+<html xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
+	<wicket:panel>
+		<wicket:enclosure child="externalLink">
+			<a wicket:id="externalLink">Google</a>
+		</wicket:enclosure>
+	</wicket:panel>
+</html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.java b/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.java
new file mode 100644
index 0000000000..d204ed4c53
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/core/util/string/EnclosurePanel.java
@@ -0,0 +1,35 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.core.util.string;
+
+import org.apache.wicket.markup.html.link.ExternalLink;
+import org.apache.wicket.markup.html.panel.Panel;
+
+class EnclosurePanel extends Panel
+{
+	
+	private static final long serialVersionUID = 1L;
+	
+	private static final String TEST_LINK = "http://google.com";
+
+	public EnclosurePanel(String id) {
+		super(id);
+		
+		ExternalLink externalLink = new ExternalLink("externalLink", TEST_LINK);
+		add(externalLink);
+	}
+}
