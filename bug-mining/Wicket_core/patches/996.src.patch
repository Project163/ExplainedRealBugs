diff --git a/wicket-core/src/main/java/org/apache/wicket/core/request/handler/RenderPageRequestHandler.java b/wicket-core/src/main/java/org/apache/wicket/core/request/handler/RenderPageRequestHandler.java
index 3cceadda81..741427c797 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/request/handler/RenderPageRequestHandler.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/request/handler/RenderPageRequestHandler.java
@@ -17,7 +17,6 @@
 package org.apache.wicket.core.request.handler;
 
 import org.apache.wicket.Application;
-import org.apache.wicket.Page;
 import org.apache.wicket.Session;
 import org.apache.wicket.core.request.handler.logger.PageLogData;
 import org.apache.wicket.request.ILoggableRequestHandler;
@@ -107,16 +106,10 @@ public class RenderPageRequestHandler
 
 		if (pageProvider.hasPageInstance())
 		{
-			IRequestablePage page = pageProvider.getPageInstance();
-			if (page instanceof Page)
-			{
-				((Page) page).setStatelessHint(false);
-			}
-
 			if (Session.exists())
 			{
 				// WICKET-5499
-				Session.get().getPageManager().touchPage(page);
+				Session.get().getPageManager().touchPage(pageProvider.getPageInstance());
 			}
 		}
 	}
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java b/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
index ba9de5c53d..e6ada70b3c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
@@ -659,6 +659,11 @@ public class RequestCycle implements IRequestCycle, IEventSink
 	 */
 	public void setResponsePage(IRequestablePage page)
 	{
+		if (page instanceof Page)
+		{
+			((Page) page).setStatelessHint(false);
+		}
+
 		scheduleRequestHandlerAfterCurrent(new RenderPageRequestHandler(new PageProvider(page),
 			RenderPageRequestHandler.RedirectPolicy.AUTO_REDIRECT));
 	}
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-2.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-2.html
index 2ad7536684..382611c3ea 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-2.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-2.html
@@ -1,5 +1,8 @@
 <html xmlns:wicket>
 <body>
-  
+  <wicket:enclosure child="input">
+    <input wicket:id="input" type="checkbox" name="input"/>
+    <span wicket:id="label"></span>
+  </wicket:enclosure>
 </body>
 </html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-3.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-3.html
index 6f82c85338..382611c3ea 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-3.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_10-3.html
@@ -2,7 +2,7 @@
 <body>
   <wicket:enclosure child="input">
     <input wicket:id="input" type="checkbox" name="input"/>
-    
+    <span wicket:id="label"></span>
   </wicket:enclosure>
 </body>
 </html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
index 43bab2da56..4150d91c8a 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
@@ -103,4 +103,29 @@ public class StatelessFormTest extends WicketTestCase
 		parameters.add("second", "bar");
 		executeTest(StatelessPageWithForm.class, parameters, "StatelessPageWithForm_expected.html");
 	}
+
+	/**
+	 * Tests that the session remains temporary (i.e. not bound) after submitting
+	 * stateless form
+	 */
+	@Test
+	public void submitStatelessFormDoesntBindSession()
+	{
+		StatelessPageWithForm.FORM_SUBMITTED.set(false);
+		try
+		{
+			tester.startPage(StatelessPageWithForm.class);
+			tester.assertRenderedPage(StatelessPageWithForm.class);
+			FormTester form = tester.newFormTester("form");
+			assertTrue(tester.getSession().isTemporary());
+			form.submit();
+			tester.assertRenderedPage(StatelessPageWithForm.class);
+			assertTrue(StatelessPageWithForm.FORM_SUBMITTED.get());
+			assertTrue(tester.getSession().isTemporary());
+		}
+		finally
+		{
+			StatelessPageWithForm.FORM_SUBMITTED.set(false);
+		}
+	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm.java b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm.java
index 5252e70ee3..3a819f1c04 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm.java
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm.java
@@ -16,6 +16,8 @@
  */
 package org.apache.wicket.stateless;
 
+import java.util.concurrent.atomic.AtomicBoolean;
+
 import org.apache.wicket.markup.html.WebPage;
 import org.apache.wicket.markup.html.form.StatelessForm;
 import org.apache.wicket.request.mapper.parameter.PageParameters;
@@ -27,6 +29,8 @@ public class StatelessPageWithForm extends WebPage
 {
 	private static final long serialVersionUID = 1L;
 
+	static final AtomicBoolean FORM_SUBMITTED = new AtomicBoolean(false);
+
 	/**
 	 * Construct.
 	 * 
@@ -35,6 +39,14 @@ public class StatelessPageWithForm extends WebPage
 	public StatelessPageWithForm(PageParameters parameters)
 	{
 		super(parameters);
-		add(new StatelessForm<Void>("form"));
+		add(new StatelessForm<Void>("form")
+		{
+			@Override
+			protected void onSubmit()
+			{
+				super.onSubmit();
+				FORM_SUBMITTED.set(true);
+			}
+		});
 	}
 }
