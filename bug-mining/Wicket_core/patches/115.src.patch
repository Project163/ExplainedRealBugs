diff --git a/wicket-core/src/test/java/org/apache/wicket/request/cycle/RequestCycleListenerTest.java b/wicket-core/src/test/java/org/apache/wicket/request/cycle/RequestCycleListenerTest.java
index 090f00c9e4..bd9c43b90e 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/cycle/RequestCycleListenerTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/cycle/RequestCycleListenerTest.java
@@ -20,6 +20,7 @@ import org.apache.wicket.Application;
 import org.apache.wicket.ThreadContext;
 import org.apache.wicket.WicketRuntimeException;
 import org.apache.wicket.mock.MockWebRequest;
+import org.apache.wicket.protocol.http.mock.MockServletContext;
 import org.apache.wicket.request.IExceptionMapper;
 import org.apache.wicket.request.IRequestCycle;
 import org.apache.wicket.request.IRequestHandler;
@@ -49,7 +50,12 @@ public class RequestCycleListenerTest extends BaseRequestHandlerStackTest
 	protected void setUp() throws Exception
 	{
 		super.setUp();
-		ThreadContext.setApplication(new DummyApplication());
+
+		DummyApplication application = new DummyApplication();
+		application.setName("dummyTestApplication");
+		ThreadContext.setApplication(application);
+		application.setServletContext(new MockServletContext(application, "/"));
+		application.initApplication();
 		errorCode = 0;
 	}
 
@@ -57,6 +63,7 @@ public class RequestCycleListenerTest extends BaseRequestHandlerStackTest
 	protected void tearDown() throws Exception
 	{
 		super.tearDown();
+		ThreadContext.getApplication().internalDestroy();
 		ThreadContext.detach();
 	}
 
