diff --git a/wicket-core/src/main/java/org/apache/wicket/mock/MockWebRequest.java b/wicket-core/src/main/java/org/apache/wicket/mock/MockWebRequest.java
index b84758a4c5..921f841065 100644
--- a/wicket-core/src/main/java/org/apache/wicket/mock/MockWebRequest.java
+++ b/wicket-core/src/main/java/org/apache/wicket/mock/MockWebRequest.java
@@ -31,7 +31,6 @@ import javax.servlet.http.Cookie;
 
 import org.apache.wicket.WicketRuntimeException;
 import org.apache.wicket.request.Url;
-import org.apache.wicket.request.Url.QueryParameter;
 import org.apache.wicket.request.UrlUtils;
 import org.apache.wicket.request.http.WebRequest;
 
@@ -43,7 +42,7 @@ import org.apache.wicket.request.http.WebRequest;
 public class MockWebRequest extends WebRequest
 {
 	private Url url;
-	private List<Cookie> cookies = new ArrayList<Cookie>();
+	private List<Cookie> cookies = new ArrayList<>();
 	private Map<String, List<Object>> headers = new HashMap<String, List<Object>>();
 	private MockRequestParameters postRequestParameters = new MockRequestParameters();
 	private Locale locale = Locale.getDefault();
@@ -283,7 +282,8 @@ public class MockWebRequest extends WebRequest
 	@Override
 	public Url getClientUrl()
 	{
-		Url baseUrl = new Url(url.getSegments(), Collections.<QueryParameter> emptyList());
+		Url baseUrl = new Url(url);
+		baseUrl.getQueryParameters().clear();
 		baseUrl.setContextRelative(url.isContextRelative());
 		return baseUrl;
 	}
diff --git a/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java b/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java
index 1addc55f69..b573a3a743 100644
--- a/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java
+++ b/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java
@@ -142,22 +142,24 @@ import org.slf4j.LoggerFactory;
  * {@link Component#getPageRelativePath()}. Since each Component has an ID/name, any Component can
  * also be referenced by its ID {@link MarkupContainer#get(String)}. And since MarkupContainer's and
  * its subclasses are containers which allow to add Components (in sync with the markup hierarchy),
- * you may not only access direct childs but also subchilds like get("myPanel:myForm:myNameField")
+ * you may not only access direct children but also grandchildren like get("myPanel:myForm:myNameField")
  * separating each ID with a ':'.
  *
- * Cookie handling:
- *
- * There are some expectations about wicket tester cookie handling which should match as best as it
- * can be with a real client server request response cycle: - all valid cookies set before a request
- * is made (tester.getRequest().addCookie()) should appear in the page request - all cookies set in
- * the response should appear in the last response (tester.getLastResponse()) after the request is
- * made (expired cookies and others) - all cookies set in the response should appear even after a
- * redirect response is made until the final response (tester.getLastResponse()) is written to the
- * client (wicket tester) - all valid cookies (maxAge!=0) from the last response should be added to
- * the next request cookies (tester.getRequest().getCookies())
- *
- *
- * TODO General: Example usage of FormTester
+ * <h2>Cookie handling</h2>
+ * <p>
+ * There are some expectations about wicket tester cookie handling which should match as best as
+ * it can be with a real client server request response cycle:
+ * <ul>
+ *  <li> all valid cookies set before a request is made (tester.getRequest().addCookie()) should
+ *   appear in the page request</li>
+ *  <li> all cookies set in the response should appear in the last response (tester.getLastResponse())
+ *   after the request is made (expired cookies and others)</li>
+ *  <li> all cookies set in the response should appear even after a redirect response is made
+ *   until the final response (tester.getLastResponse()) is written to the client (wicket tester)</li>
+ *  <li> all valid cookies (maxAge!=0) from the last response should be added to
+ *   the next request cookies (tester.getRequest().getCookies())</li>
+ * </ul>
+ * </p>
  *
  * @author Ingram Chen
  * @author Juergen Donnerstag
@@ -166,7 +168,6 @@ import org.slf4j.LoggerFactory;
  */
 public class WicketTester extends BaseWicketTester
 {
-	/** log. */
 	private static final Logger log = LoggerFactory.getLogger(WicketTester.class);
 
 	/**
diff --git a/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java b/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
index d1c6809ff8..b7df84900e 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
@@ -733,4 +733,64 @@ class UrlRendererTest
 		String renderedUrl = renderer.renderUrl(Url.parse("abc..."));
 		assertEquals("../abc...", renderedUrl);
 	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-6878
+	 *
+	 * When passing a full url to {@link UrlRenderer#renderUrl(Url)}
+	 * always render it as full, i.e. with scheme, host and port (if available)
+	 */
+	@Test
+	public void whenRenderingFullUrl_thenRenderItFull()
+	{
+		UrlRenderer renderer = new UrlRenderer(new MockWebRequest(Url.parse("http://localhost/a/b")));
+
+		String renderedUrl = renderer.renderUrl(Url.parse("http://localhost/c/d"));
+		assertEquals("http://localhost/c/d", renderedUrl);
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-6878
+	 *
+	 * When passing a full url to {@link UrlRenderer#renderUrl(Url)}
+	 * always render it as full, i.e. with scheme, host and port (if available)
+	 */
+	@Test
+	public void whenRenderingFullUrlWithDifferentScheme_thenRenderItFull()
+	{
+		UrlRenderer renderer = new UrlRenderer(new MockWebRequest(Url.parse("http://localhost/a/b")));
+
+		String renderedUrl = renderer.renderUrl(Url.parse("https://localhost/c/d"));
+		assertEquals("https://localhost/c/d", renderedUrl);
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-6878
+	 *
+	 * When passing a full url to {@link UrlRenderer#renderUrl(Url)}
+	 * always render it as full, i.e. with scheme, host and port (if available)
+	 */
+	@Test
+	public void whenRenderingFullUrlWithDifferentHost_thenRenderItFull()
+	{
+		UrlRenderer renderer = new UrlRenderer(new MockWebRequest(Url.parse("http://localhost/a/b")));
+
+		String renderedUrl = renderer.renderUrl(Url.parse("http://another.host/c/d"));
+		assertEquals("http://another.host/c/d", renderedUrl);
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-6878
+	 *
+	 * When passing a full url to {@link UrlRenderer#renderUrl(Url)}
+	 * always render it as full, i.e. with scheme, host and port (if available)
+	 */
+	@Test
+	public void whenRenderingFullUrlWithDifferentPort_thenRenderItFull()
+	{
+		UrlRenderer renderer = new UrlRenderer(new MockWebRequest(Url.parse("http://localhost/a/b")));
+
+		String renderedUrl = renderer.renderUrl(Url.parse("http://localhost:8080/c/d"));
+		assertEquals("http://localhost:8080/c/d", renderedUrl);
+	}
 }
