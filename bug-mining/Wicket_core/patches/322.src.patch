diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
index 44cddb47fd..e0d7e20d0c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
@@ -415,33 +415,37 @@ public abstract class WebApplication extends Application
 	 */
 	WebRequest createWebRequest(HttpServletRequest servletRequest, final String filterPath)
 	{
-		if (hasFilterFactoryManager())
+		if (servletRequest.getCharacterEncoding() == null)
 		{
-			for (AbstractRequestWrapperFactory factory : getFilterFactoryManager())
+			try
 			{
-				servletRequest = factory.getWrapper(servletRequest);
+				String wicketAjaxHeader = servletRequest.getHeader(WebRequest.HEADER_AJAX);
+				if (Strings.isTrue(wicketAjaxHeader))
+				{
+					// WICKET-3908, WICKET-1816: Forms submitted with Ajax are always UTF-8 encoded
+					servletRequest.setCharacterEncoding(CharEncoding.UTF_8);
+				}
+				else
+				{
+					String requestEncoding = getRequestCycleSettings().getResponseRequestEncoding();
+					servletRequest.setCharacterEncoding(requestEncoding);
+				}
+			}
+			catch (UnsupportedEncodingException e)
+			{
+				throw new WicketRuntimeException(e);
 			}
 		}
 
-		WebRequest webRequest = newWebRequest(servletRequest, filterPath);
-
-		try
+		if (hasFilterFactoryManager())
 		{
-			if (webRequest.isAjax())
-			{
-				// WICKET-3908: Forms submitted with Ajax are always UTF-8 encoded
-				servletRequest.setCharacterEncoding(CharEncoding.UTF_8);
-			}
-			else
+			for (AbstractRequestWrapperFactory factory : getFilterFactoryManager())
 			{
-				String requestEncoding = getRequestCycleSettings().getResponseRequestEncoding();
-				servletRequest.setCharacterEncoding(requestEncoding);
+				servletRequest = factory.getWrapper(servletRequest);
 			}
 		}
-		catch (UnsupportedEncodingException e)
-		{
-			throw new RuntimeException(e);
-		}
+
+		WebRequest webRequest = newWebRequest(servletRequest, filterPath);
 
 		return webRequest;
 	}
