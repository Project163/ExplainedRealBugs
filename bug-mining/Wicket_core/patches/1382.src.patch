diff --git a/wicket-core/src/main/java/org/apache/wicket/model/IModel.java b/wicket-core/src/main/java/org/apache/wicket/model/IModel.java
index d8a98000de..f34645e8f9 100644
--- a/wicket-core/src/main/java/org/apache/wicket/model/IModel.java
+++ b/wicket-core/src/main/java/org/apache/wicket/model/IModel.java
@@ -101,15 +101,26 @@ public interface IModel<T> extends IDetachable
 	default IModel<T> filter(SerializablePredicate<? super T> predicate)
 	{
 		Args.notNull(predicate, "predicate");
-		return (IModel<T>)() -> {
-			T object = IModel.this.getObject();
-			if (object != null && predicate.test(object))
+		return new IModel<T>()
+		{
+			@Override
+			public T getObject()
 			{
-				return object;
+				T object = IModel.this.getObject();
+				if (object != null && predicate.test(object))
+				{
+					return object;
+				}
+				else
+				{
+					return null;
+				}
 			}
-			else
+
+			@Override
+			public void detach()
 			{
-				return null;
+				IModel.this.detach();
 			}
 		};
 	}
@@ -126,15 +137,24 @@ public interface IModel<T> extends IDetachable
 	default <R> IModel<R> map(SerializableFunction<? super T, R> mapper)
 	{
 		Args.notNull(mapper, "mapper");
-		return (IModel<R>)() -> {
-			T object = IModel.this.getObject();
-			if (object == null)
+		return new IModel<R>() {
+			@Override
+			public R getObject()
 			{
-				return null;
+				T object = IModel.this.getObject();
+				if (object == null)
+				{
+					return null;
+				} else
+				{
+					return mapper.apply(object);
+				}
 			}
-			else
+
+			@Override
+			public void detach()
 			{
-				return mapper.apply(object);
+				IModel.this.detach();
 			}
 		};
 	}
@@ -158,16 +178,26 @@ public interface IModel<T> extends IDetachable
 	{
 		Args.notNull(combiner, "combiner");
 		Args.notNull(other, "other");
-		return (IModel<R>)() -> {
-			T t = IModel.this.getObject();
-			U u = other.getObject();
-			if (t != null && u != null)
+		return new IModel<R>() {
+			@Override
+			public R getObject()
 			{
-				return combiner.apply(t, u);
+				T t = IModel.this.getObject();
+				U u = other.getObject();
+				if (t != null && u != null)
+				{
+					return combiner.apply(t, u);
+				} else
+				{
+					return null;
+				}
 			}
-			else
+
+			@Override
+			public void detach()
 			{
-				return null;
+				other.detach();
+				IModel.this.detach();
 			}
 		};
 	}
@@ -229,6 +259,7 @@ public interface IModel<T> extends IDetachable
 			public void detach()
 			{
 				T object = IModel.this.getObject();
+				IModel.this.detach();
 				if (object != null)
 				{
 					IModel<R> model = mapper.apply(object);
@@ -251,15 +282,24 @@ public interface IModel<T> extends IDetachable
 	 */
 	default IModel<T> orElse(T other)
 	{
-		return (IModel<T>)() -> {
-			T object = IModel.this.getObject();
-			if (object == null)
+		return new IModel<T>() {
+			@Override
+			public T getObject()
 			{
-				return other;
+				T object = IModel.this.getObject();
+				if (object == null)
+				{
+					return other;
+				} else
+				{
+					return object;
+				}
 			}
-			else
+
+			@Override
+			public void detach()
 			{
-				return object;
+				IModel.this.detach();
 			}
 		};
 	}
@@ -275,15 +315,24 @@ public interface IModel<T> extends IDetachable
 	default IModel<T> orElseGet(SerializableSupplier<? extends T> other)
 	{
 		Args.notNull(other, "other");
-		return (IModel<T>)() -> {
-			T object = IModel.this.getObject();
-			if (object == null)
+		return new IModel<T>() {
+			@Override
+			public T getObject()
 			{
-				return other.get();
+				T object = IModel.this.getObject();
+				if (object == null)
+				{
+					return other.get();
+				} else
+				{
+					return object;
+				}
 			}
-			else
+
+			@Override
+			public void detach()
 			{
-				return object;
+				IModel.this.detach();
 			}
 		};
 	}
