diff --git a/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptStripper.java b/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptStripper.java
index d31ae36c90..ced463827c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptStripper.java
+++ b/wicket-core/src/main/java/org/apache/wicket/util/string/JavaScriptStripper.java
@@ -130,7 +130,7 @@ public class JavaScriptStripper
 							continue;
 						}
 						if (tmp == '=' || tmp == '(' || tmp == '{' || tmp == ':' || tmp == ',' ||
-							tmp == '[' || tmp == ';')
+							tmp == '[' || tmp == ';' || tmp == '!')
 						{
 							state = REG_EXP;
 							break;
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/string/JavaScriptStripperTest.java b/wicket-core/src/test/java/org/apache/wicket/util/string/JavaScriptStripperTest.java
index 03c5085e94..f4f7b92773 100644
--- a/wicket-core/src/test/java/org/apache/wicket/util/string/JavaScriptStripperTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/util/string/JavaScriptStripperTest.java
@@ -18,6 +18,8 @@ package org.apache.wicket.util.string;
 
 import junit.framework.TestCase;
 
+import org.junit.Assert;
+
 /**
  * Tests {@link JavaScriptStripper}
  * 
@@ -103,4 +105,32 @@ public class JavaScriptStripperTest extends TestCase
 		String expected = "return this.__unbind__(type, fn);";
 		assertEquals(expected, after);
 	}
+
+	// @formatter:off
+	public static String TESTSTRING2 =
+         "   var test = function () {\n" +
+         "   var c = \"!=\";\n" +
+         "    /* from jquery 1.5.1 */\n" +
+         "    if ( !l.match.PSEUDO.test(c) && !/!=/.test(c)) {\n" +
+         "       alert(\"/something bad will happen */* \");\n" +
+         "   }\n" +
+         "\n" +
+         "     var importantFunction = function () {alert(\"really important function \")}\n" +
+         "   /*\n" +
+         "     This code will be stripped\n" +
+         "   */\n" +
+         "\n" +
+         "}" ;
+	// @formatter:on
+
+	public void testRegExThatStartsWithExclamationMark()
+	{
+		String result = new JavaScriptStripper().stripCommentsAndWhitespace(TESTSTRING2);
+		Assert.assertFalse(result.contains("This code will be stripped"));
+		Assert.assertTrue(result.contains("something bad will happen"));
+		Assert.assertTrue(result.contains("really important function"));
+
+		System.out.println(result);
+	}
+
 }
