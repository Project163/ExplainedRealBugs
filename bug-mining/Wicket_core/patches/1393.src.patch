diff --git a/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java b/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
index 57ab1c9da0..a9ffd82a82 100644
--- a/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
@@ -1963,7 +1963,7 @@ public abstract class MarkupContainer extends Component implements Iterable<Comp
 			ComponentTag tag = dequeue.takeTag();
 	
 			// see if child is already added to parent
-			Component child = get(tag.getId());
+			Component child = findChildComponent(tag);
 
 			if (child == null)
 			{
@@ -1991,6 +1991,18 @@ public abstract class MarkupContainer extends Component implements Iterable<Comp
 		}
 
 	}
+
+	/**
+	 * Search the child component for the given tag.
+	 * 
+	 * @param tag
+	 * 				the component tag 
+	 * @return the child component for the given tag or null if no child can not be found.
+	 */
+	protected Component findChildComponent(ComponentTag tag)
+	{
+		return get(tag.getId());
+	}
 	
 	/**
 	 * Propagates dequeuing to child component.
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
index 69599143aa..fcbae865f3 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
@@ -162,4 +162,12 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 			}
 		}
 	}
+	
+	@Override
+	protected Component findChildComponent(ComponentTag tag)
+	{
+		Component childComponent = super.findChildComponent(tag);
+		
+		return childComponent != null ? childComponent : resolve(this, null, tag);
+	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java b/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
index fdce742dd7..1e34590772 100644
--- a/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
@@ -26,6 +26,7 @@ import org.apache.wicket.Component;
 import org.apache.wicket.MarkupContainer;
 import org.apache.wicket.WicketRuntimeException;
 import org.apache.wicket.markup.IMarkupResourceStreamProvider;
+import org.apache.wicket.markup.html.TransparentWebMarkupContainer;
 import org.apache.wicket.markup.html.WebMarkupContainer;
 import org.apache.wicket.markup.html.WebPage;
 import org.apache.wicket.markup.html.basic.Label;
@@ -806,6 +807,24 @@ public class ComponentQueueingTest extends WicketTestCase
 		
 		tester.startPage(page);	
 	}
+	
+	@Test
+	public void queueInsideTransparentContainer() throws Exception
+	{
+		TestPage page = new TestPage();
+		page.setPageMarkup("<div wicket:id='transparentContainer'>"
+			+ "	<div wicket:id='container'>"
+			+ "		<div wicket:id='child'>"
+			+ " 	</div>"
+			+ " </div>"
+			+ "</div>");
+		
+		page.add(new TransparentWebMarkupContainer("transparentContainer"));
+		page.add(new WebMarkupContainer("container"));
+		page.queue(new WebMarkupContainer("child"));
+		
+		tester.startPage(page);	
+	}
 
 	@Test
 	public void queueNestedEnclosure()
