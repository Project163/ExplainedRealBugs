diff --git a/wicket-core/src/main/java/org/apache/wicket/mock/MockWebResponse.java b/wicket-core/src/main/java/org/apache/wicket/mock/MockWebResponse.java
index 5c34ecba26..e4dd9bac9c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/mock/MockWebResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/mock/MockWebResponse.java
@@ -20,14 +20,13 @@ import java.io.ByteArrayOutputStream;
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Collections;
-import java.util.HashMap;
 import java.util.List;
-import java.util.Map;
 import java.util.Set;
 
 import javax.servlet.http.Cookie;
 
 import org.apache.wicket.WicketRuntimeException;
+import org.apache.wicket.request.HttpHeaderCollection;
 import org.apache.wicket.request.http.WebResponse;
 import org.apache.wicket.util.lang.Args;
 import org.apache.wicket.util.time.Time;
@@ -127,13 +126,13 @@ public class MockWebResponse extends WebResponse
 		return contentType;
 	}
 
-	private final Map<String, Object> headers = new HashMap<String, Object>();
+	private final HttpHeaderCollection headers = new HttpHeaderCollection();
 
 	@Override
 	public void setDateHeader(String name, Time date)
 	{
 		Args.notNull(date, "date");
-		headers.put(name, date);
+		headers.setDateHeader(name, date);
 	}
 
 	/**
@@ -143,31 +142,32 @@ public class MockWebResponse extends WebResponse
 	 */
 	public Time getDateHeader(String name)
 	{
-		Object value = headers.get(name);
-		if (value == null)
+		final Time time = headers.getDateHeader(name);
+
+		if (time == null)
 		{
 			throw new WicketRuntimeException("Date header '" + name + "' is not set.");
 		}
-		else if (value instanceof Time == false)
-		{
-			throw new WicketRuntimeException("Header '" + name + "' is not date type.");
-		}
-		else
-		{
-			return (Time)value;
-		}
+		return time;
 	}
 
 	@Override
 	public void setHeader(String name, String value)
 	{
-		headers.put(name, value);
+		headers.setHeader(name, value);
+		
 		if (name.equals("Content-Type"))
 		{
 			setContentType(value);
 		}
 	}
 
+	@Override
+	public void addHeader(String name, String value)
+	{
+		headers.addHeader(name, value);
+	}
+
 	/**
 	 * @param name
 	 * 
@@ -175,8 +175,7 @@ public class MockWebResponse extends WebResponse
 	 */
 	public String getHeader(String name)
 	{
-		Object value = headers.get(name);
-		return value != null ? value.toString() : null;
+		return headers.getHeader(name);
 	}
 
 	/**
@@ -186,7 +185,7 @@ public class MockWebResponse extends WebResponse
 	 */
 	public boolean hasHeader(String name)
 	{
-		return headers.containsKey(name);
+		return headers.containsHeader(name);
 	}
 
 	/**
@@ -194,7 +193,7 @@ public class MockWebResponse extends WebResponse
 	 */
 	public Set<String> getHeaderNames()
 	{
-		return Collections.unmodifiableSet(headers.keySet());
+		return headers.getHeaderNames();
 	}
 
 	Integer status;
diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/BufferedWebResponse.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/BufferedWebResponse.java
index f0fc3a7b00..6ab2ef81b3 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/BufferedWebResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/BufferedWebResponse.java
@@ -251,6 +251,24 @@ public class BufferedWebResponse extends WebResponse implements IMetaDataBufferi
 		}
 	}
 
+	private static class AddHeaderAction extends MetaDataAction
+	{
+		private final String name;
+		private final String value;
+
+		public AddHeaderAction(String name, String value)
+		{
+			this.name = name;
+			this.value = value;
+		}
+
+		@Override
+		protected void invoke(WebResponse response)
+		{
+			response.addHeader(name, value);
+		}
+	}
+
 	private static class SetDateHeaderAction extends MetaDataAction
 	{
 		private final String name;
@@ -409,6 +427,12 @@ public class BufferedWebResponse extends WebResponse implements IMetaDataBufferi
 		actions.add(new SetHeaderAction(name, value));
 	}
 
+	@Override
+	public void addHeader(String name, String value)
+	{
+		actions.add(new AddHeaderAction(name, value));
+	}
+
 	@Override
 	public void write(CharSequence sequence)
 	{
diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/HeaderBufferingWebResponse.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/HeaderBufferingWebResponse.java
index a1b160d604..91a743c484 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/HeaderBufferingWebResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/HeaderBufferingWebResponse.java
@@ -142,6 +142,13 @@ class HeaderBufferingWebResponse extends WebResponse implements IMetaDataBufferi
 		bufferedResponse.setHeader(name, value);
 	}
 
+	@Override
+	public void addHeader(String name, String value)
+	{
+		checkHeader();
+		bufferedResponse.addHeader(name, value);
+	}
+
 	@Override
 	public void setStatus(int sc)
 	{
diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletWebResponse.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletWebResponse.java
index 36c08a88b7..73fc12dfdf 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletWebResponse.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletWebResponse.java
@@ -95,6 +95,12 @@ public class ServletWebResponse extends WebResponse
 		httpServletResponse.setHeader(name, value);
 	}
 
+	@Override
+	public void addHeader(String name, String value)
+	{
+		httpServletResponse.addHeader(name, value);
+	}
+
 	@Override
 	public void write(CharSequence sequence)
 	{
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
index 8b64f27d8c..54d73c576d 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
@@ -26,7 +26,7 @@ import javax.servlet.http.HttpServletResponse;
 
 import org.apache.wicket.Application;
 import org.apache.wicket.WicketRuntimeException;
-import org.apache.wicket.request.HeaderCollection;
+import org.apache.wicket.request.HttpHeaderCollection;
 import org.apache.wicket.request.Response;
 import org.apache.wicket.request.http.WebRequest;
 import org.apache.wicket.request.http.WebResponse;
@@ -46,6 +46,24 @@ public abstract class AbstractResource implements IResource
 {
 	private static final long serialVersionUID = 1L;
 
+	/** header values that are managed internally and must not be set directly */
+	public static final Set<String> INTERNAL_HEADERS; 
+		
+	static
+	{
+		INTERNAL_HEADERS = new HashSet<String>();
+		INTERNAL_HEADERS.add("server");
+		INTERNAL_HEADERS.add("date");
+		INTERNAL_HEADERS.add("expires");
+		INTERNAL_HEADERS.add("last-modified");
+		INTERNAL_HEADERS.add("content-type");
+		INTERNAL_HEADERS.add("content-length");
+		INTERNAL_HEADERS.add("content-disposition");
+		INTERNAL_HEADERS.add("transfer-encoding");
+		INTERNAL_HEADERS.add("connection");
+		INTERNAL_HEADERS.add("content-disposition");
+	}
+	
 	/**
 	 * Construct.
 	 */
@@ -69,9 +87,6 @@ public abstract class AbstractResource implements IResource
 	 */
 	public static class ResourceResponse
 	{
-		/** header values that are managed internally and must not be set directly */
-		public static final Set<String> INTERNAL_HEADERS; 
-		
 		private Integer errorCode;
 		private String errorMessage;
 		private String fileName = null;
@@ -83,23 +98,8 @@ public abstract class AbstractResource implements IResource
 		private WriteCallback writeCallback;
 		private Duration cacheDuration;
 		private WebResponse.CacheScope cacheScope;
-		private final HeaderCollection headers;
-
-		static
-		{
-			INTERNAL_HEADERS = new HashSet<String>();
-			INTERNAL_HEADERS.add("server");
-			INTERNAL_HEADERS.add("date");
-			INTERNAL_HEADERS.add("expires");
-			INTERNAL_HEADERS.add("last-modified");
-			INTERNAL_HEADERS.add("content-type");
-			INTERNAL_HEADERS.add("content-length");
-			INTERNAL_HEADERS.add("content-disposition");
-			INTERNAL_HEADERS.add("transfer-encoding");
-			INTERNAL_HEADERS.add("connection");
-			INTERNAL_HEADERS.add("content-disposition");
-		}
-		
+		private final HttpHeaderCollection headers;
+
 		/**
 		 * Construct.
 		 */
@@ -111,7 +111,7 @@ public abstract class AbstractResource implements IResource
 			cacheScope = WebResponse.CacheScope.PRIVATE;
 			
 			// collection of directly set response headers
-			headers = new HeaderCollection();
+			headers = new HttpHeaderCollection();
 		}
 
 		/**
@@ -423,84 +423,11 @@ public abstract class AbstractResource implements IResource
 		}
 
 		/**
-		 * add a response header value
-		 * 
-		 * you can only set header values that or not already modified by
-		 * the other methods of this class like 'Content-Length', 'Last-Modified', etc.
-		 *  
-		 * @param name
-		 *          header name
-		 * @param value
-		 *          header value
-		 */
-		public void addHeader(String name, String value)
-		{
-			// check if header can be directly access
-			checkHeaderAccess(name);
-			
-			//set header value
-			headers.addHeader(name, value);
-		}
-
-		/**
-		 * get header value
-		 * <p/>
-		 * you can only get header values that or not already handled by
-		 * the other methods of this class like 'Content-Length', 'Last-Modified', etc.
-		 *  
-		 *
-		 * @param name
-		 *          header name
-		 *          
-		 * @return array of header values
+		 * get custom headers
 		 */
-		public String[] getHeaderValues(final String name)
+		public HttpHeaderCollection getHeaders()
 		{
-			// check if header can be directly access
-			checkHeaderAccess(name);
-
-			// get header value
-			return headers.getValues(name);
-		}
-
-		/**
-		 * remove header value
-		 * 
-		 * you can only access header values that or not already modified by
-		 * the other methods of this class like 'Content-Length', 'Last-Modified', etc.
-		 *  
-		 * @param name
-		 *          header name
-		 */
-		public void removeHeader(String name)
-		{
-			// check if header can be directly access
-			checkHeaderAccess(name);
-
-			// remove header value
-			headers.removeHeaderValues(name);
-		}
-
-		/**
-		 * check if header is directly modifyable 
-		 * 
-		 * @param name
-		 *         header name
-		 *
-		 * @throws IllegalArgumentException 
-		 *         if access is forbidden 
-		 */
-		private void checkHeaderAccess(String name)
-		{
-			name = Args.notEmpty(name.trim().toLowerCase(), "name");
-
-			if (INTERNAL_HEADERS.contains(name))
-			{
-				throw new IllegalArgumentException(
-					"you are not allowed to directly access header [" + name + "], " +
-					"use one of the other specialized methods of " + getClass().getSimpleName() +
-					" to get or modify its value");
-			}
+			return headers;
 		}
 	}
 
@@ -554,6 +481,28 @@ public abstract class AbstractResource implements IResource
 		data.getWriteCallback().writeData(attributes);
 	}
 
+	/**
+	 * check if header is directly modifyable 
+	 * 
+	 * @param name
+	 *         header name
+	 *
+	 * @throws IllegalArgumentException 
+	 *         if access is forbidden 
+	 */
+	private void checkHeaderAccess(String name)
+	{
+		name = Args.notEmpty(name.trim().toLowerCase(), "name");
+
+		if (INTERNAL_HEADERS.contains(name))
+		{
+			throw new IllegalArgumentException(
+				"you are not allowed to directly access header [" + name + "], " +
+				"use one of the other specialized methods of " + getClass().getSimpleName() +
+				" to get or modify its value");
+		}
+	}
+	
 	/**
 	 * @param data
 	 * @param attributes
@@ -628,15 +577,19 @@ public abstract class AbstractResource implements IResource
 				webResponse.setContentLength(contentLength);
 			}
 
-			// set additional response headers
-			for (HeaderCollection.Entry entry : data.headers)
+			// add custom headers and values
+			final HttpHeaderCollection headers = data.getHeaders();
+			
+			for (String name : headers.getHeaderNames())
 			{
-				for (String value : entry.getValues())
+				checkHeaderAccess(name);
+				
+				for (String value : headers.getHeaderValues(name))
 				{
-					webResponse.setHeader(entry.getName(), value);
+					webResponse.addHeader(name, value);
 				}
 			}
-
+			
 			// 6. Flush the response
 			// This is necessary for firefox if this resource is an image, otherwise it messes up
 			// other images on page
