diff --git a/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java b/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java
index 6e1dfcacf3..dfadad6a4c 100644
--- a/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java
+++ b/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java
@@ -42,6 +42,7 @@ import javax.servlet.http.Cookie;
 import javax.servlet.http.HttpSession;
 
 import junit.framework.AssertionFailedError;
+
 import org.apache.wicket.Application;
 import org.apache.wicket.Component;
 import org.apache.wicket.IPageManagerProvider;
@@ -63,6 +64,12 @@ import org.apache.wicket.ajax.markup.html.AjaxFallbackLink;
 import org.apache.wicket.ajax.markup.html.AjaxLink;
 import org.apache.wicket.ajax.markup.html.form.AjaxSubmitLink;
 import org.apache.wicket.behavior.AbstractAjaxBehavior;
+import org.apache.wicket.core.request.handler.BookmarkablePageRequestHandler;
+import org.apache.wicket.core.request.handler.IPageProvider;
+import org.apache.wicket.core.request.handler.ListenerInterfaceRequestHandler;
+import org.apache.wicket.core.request.handler.PageAndComponentProvider;
+import org.apache.wicket.core.request.handler.PageProvider;
+import org.apache.wicket.core.request.handler.RenderPageRequestHandler;
 import org.apache.wicket.feedback.FeedbackCollector;
 import org.apache.wicket.feedback.FeedbackMessage;
 import org.apache.wicket.feedback.IFeedbackMessageFilter;
@@ -107,12 +114,6 @@ import org.apache.wicket.request.Response;
 import org.apache.wicket.request.Url;
 import org.apache.wicket.request.cycle.RequestCycle;
 import org.apache.wicket.request.cycle.RequestCycleContext;
-import org.apache.wicket.core.request.handler.BookmarkablePageRequestHandler;
-import org.apache.wicket.core.request.handler.IPageProvider;
-import org.apache.wicket.core.request.handler.ListenerInterfaceRequestHandler;
-import org.apache.wicket.core.request.handler.PageAndComponentProvider;
-import org.apache.wicket.core.request.handler.PageProvider;
-import org.apache.wicket.core.request.handler.RenderPageRequestHandler;
 import org.apache.wicket.request.handler.render.PageRenderer;
 import org.apache.wicket.request.handler.resource.ResourceReferenceRequestHandler;
 import org.apache.wicket.request.http.WebResponse;
@@ -977,7 +978,8 @@ public class BaseWicketTester
 	{
 		Args.notNull(link, "link");
 
-		return link.urlFor(ILinkListener.INTERFACE, new PageParameters()).toString();
+		Url url = Url.parse(link.urlFor(ILinkListener.INTERFACE, new PageParameters()).toString());
+		return transform(url).toString();
 	}
 
 	/**
@@ -1887,7 +1889,8 @@ public class BaseWicketTester
 	 */
 	private Url transform(final Url url)
 	{
-		while (url.getSegments().size() > 0 && url.getSegments().get(0).equals(".."))
+		while (url.getSegments().size() > 0 &&
+			(url.getSegments().get(0).equals("..") || url.getSegments().get(0).equals(".")))
 		{
 			url.getSegments().remove(0);
 		}
diff --git a/wicket-core/src/test/java/org/apache/wicket/TestDetachPageAjaxResult.html b/wicket-core/src/test/java/org/apache/wicket/TestDetachPageAjaxResult.html
index a162940580..447b4cfa1d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/TestDetachPageAjaxResult.html
+++ b/wicket-core/src/test/java/org/apache/wicket/TestDetachPageAjaxResult.html
@@ -1,7 +1,7 @@
-<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="comp1" ><![CDATA[<span wicket:id="comp" id="comp1">body</span>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
+<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="comp1" ><![CDATA[<span wicket:id="comp" id="comp1">body</span>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="./resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
 <script type="text/javascript" id="wicket-ajax-debug-enable">
 /*<![CDATA[*/
 Wicket.Ajax.DebugWindow.enabled=true;
@@ -12,4 +12,4 @@ Wicket.Ajax.DebugWindow.enabled=true;
 Wicket.Ajax.baseUrl="wicket/page?0-1.IBehaviorListener.0-comp";
 /*]^]^>*/
 </script>
-</head>]]></header-contribution><evaluate><![CDATA[Wicket.Ajax.ajax({"u":"page?0-1.IBehaviorListener.0-comp","e":"click","c":"comp1"});]]></evaluate></ajax-response>
\ No newline at end of file
+</head>]]></header-contribution><evaluate><![CDATA[Wicket.Ajax.ajax({"u":"./page?0-1.IBehaviorListener.0-comp","e":"click","c":"comp1"});]]></evaluate></ajax-response>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage2_ajax_expected.html b/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage2_ajax_expected.html
index 97c39a718e..a2d2af0e52 100644
--- a/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage2_ajax_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage2_ajax_expected.html
@@ -13,8 +13,8 @@ test
 </wicket:panel></span>]]></component><header-contribution><![CDATA[<head xmlns:wicket="http://wicket.apache.org">
 <link href="../test"/>
 <script type="text/javascript" src="../javascripturl"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
 
 <link href="../test2"/>
 <script type="text/javascript" src="../javascripturlB"></script>
diff --git a/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage_ajax_expected.html b/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage_ajax_expected.html
index 315bc5828d..2e16f769c8 100644
--- a/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage_ajax_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/ajax/AjaxHeaderContributionPage_ajax_expected.html
@@ -7,6 +7,6 @@ test
 </wicket:panel></span>]]></component><header-contribution><![CDATA[<head xmlns:wicket="http://wicket.apache.org">
 <link href="../test"/>
 <script type="text/javascript" src="../javascripturl"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
 </head>]]></header-contribution><priority-evaluate><![CDATA[prepend();]]></priority-evaluate><evaluate><![CDATA[domReady();]]></evaluate><evaluate><![CDATA[append();]]></evaluate><evaluate><![CDATA[onLoad();]]></evaluate></ajax-response>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/ajax/DomReadyOrderPage_ajax_expected.html b/wicket-core/src/test/java/org/apache/wicket/ajax/DomReadyOrderPage_ajax_expected.html
index ef9ceec0d1..4c6836aaf9 100644
--- a/wicket-core/src/test/java/org/apache/wicket/ajax/DomReadyOrderPage_ajax_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/ajax/DomReadyOrderPage_ajax_expected.html
@@ -1,7 +1,7 @@
-<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="test1" ><![CDATA[<a href="page?0-1.ILinkListener-test" wicket:id="test" id="test1">Test</a>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
+<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="test1" ><![CDATA[<a href="./page?0-1.ILinkListener-test" wicket:id="test" id="test1">Test</a>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="./resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
 <script type="text/javascript" id="wicket-ajax-debug-enable">
 /*<![CDATA[*/
 Wicket.Ajax.DebugWindow.enabled=true;
@@ -12,4 +12,4 @@ Wicket.Ajax.DebugWindow.enabled=true;
 Wicket.Ajax.baseUrl="wicket/page?0-1.IBehaviorListener.0-test";
 /*]^]^>*/
 </script>
-</head>]]></header-contribution><evaluate><![CDATA[test1();]]></evaluate><evaluate><![CDATA[test2();]]></evaluate><evaluate><![CDATA[Wicket.Ajax.ajax({"u":"page?0-1.IBehaviorListener.0-test","e":"click","c":"test1"});]]></evaluate></ajax-response>
\ No newline at end of file
+</head>]]></header-contribution><evaluate><![CDATA[test1();]]></evaluate><evaluate><![CDATA[test2();]]></evaluate><evaluate><![CDATA[Wicket.Ajax.ajax({"u":"./page?0-1.IBehaviorListener.0-test","e":"click","c":"test1"});]]></evaluate></ajax-response>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/ajax/MockComponent3-expected.html b/wicket-core/src/test/java/org/apache/wicket/ajax/MockComponent3-expected.html
index 8b6137f216..7171a537ad 100644
--- a/wicket-core/src/test/java/org/apache/wicket/ajax/MockComponent3-expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/ajax/MockComponent3-expected.html
@@ -1,2 +1,2 @@
-<![CDATA[<head xmlns:wicket="http://wicket.apache.org"><link rel="stylesheet" type="text/css" href="resource/org.apache.wicket.ajax.MockComponent3/mockStyleSheet3.css" />
+<![CDATA[<head xmlns:wicket="http://wicket.apache.org"><link rel="stylesheet" type="text/css" href="./resource/org.apache.wicket.ajax.MockComponent3/mockStyleSheet3.css" />
 </head>]]>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/ajax/markup/html/componentMap/SimpleTestPageExpectedResult-1.html b/wicket-core/src/test/java/org/apache/wicket/ajax/markup/html/componentMap/SimpleTestPageExpectedResult-1.html
index 872ea498c6..7bbcc3464a 100644
--- a/wicket-core/src/test/java/org/apache/wicket/ajax/markup/html/componentMap/SimpleTestPageExpectedResult-1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/ajax/markup/html/componentMap/SimpleTestPageExpectedResult-1.html
@@ -1,7 +1,7 @@
-<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="linja11" ><![CDATA[<span wicket:id="linja1" id="linja11">1</span>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
-<script type="text/javascript" src="resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
+<?xml version="1.0" encoding="UTF-8"?><ajax-response><component id="linja11" ><![CDATA[<span wicket:id="linja1" id="linja11">1</span>]]></component><header-contribution encoding="wicket1" ><![CDATA[<head xmlns:wicket="http://wicket.apache.org"><script type="text/javascript" src="./resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-event-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery.js"></script>
+<script type="text/javascript" src="./resource/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/res/js/wicket-ajax-jquery-debug.js"></script>
 <script type="text/javascript" id="wicket-ajax-debug-enable">
 /*<![CDATA[*/
 Wicket.Ajax.DebugWindow.enabled=true;
@@ -12,4 +12,4 @@ Wicket.Ajax.DebugWindow.enabled=true;
 Wicket.Ajax.baseUrl="wicket/page?0-1.IBehaviorListener.0-testPanel-baseSpan-linja1";
 /*]^]^>*/
 </script>
-</head>]]></header-contribution><evaluate><![CDATA[Wicket.timerHandle_linja11 = setTimeout('Wicket.Ajax.ajax({"u":"page?0-1.IBehaviorListener.0-testPanel-baseSpan-linja1","c":"linja11"});', 2000)]]></evaluate></ajax-response>
\ No newline at end of file
+</head>]]></header-contribution><evaluate><![CDATA[Wicket.timerHandle_linja11 = setTimeout('Wicket.Ajax.ajax({"u":"./page?0-1.IBehaviorListener.0-testPanel-baseSpan-linja1","c":"linja11"});', 2000)]]></evaluate></ajax-response>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/Index_ExpectedResult.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/Index_ExpectedResult.html
index 5eebd044f7..ab47fe45f6 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/Index_ExpectedResult.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/Index_ExpectedResult.html
@@ -12,10 +12,10 @@
         <div wicket:id="linkPanel"><wicket:panel>
 	<ul>
 		<li>
-			<a href="org.apache.wicket.markup.html.autolink.Index" wicket:id="indexLink">Index</a>
+			<a href="./org.apache.wicket.markup.html.autolink.Index" wicket:id="indexLink">Index</a>
 		</li>
 		<li>
-			<a href="org.apache.wicket.markup.html.autolink.SubPage" wicket:id="subPageLink">SubPage</a>
+			<a href="./org.apache.wicket.markup.html.autolink.SubPage" wicket:id="subPageLink">SubPage</a>
 		</li>
 	</ul>
 </wicket:panel></div>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/MyPageExpectedResult.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/MyPageExpectedResult.html
index 26bdc63f34..97c05cd059 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/MyPageExpectedResult.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/MyPageExpectedResult.html
@@ -3,13 +3,13 @@
   <body>
     <wicket:link>
       <span><em>My Page</em></span>
-      <a href="org.apache.wicket.markup.html.autolink.PageA">Page A</a>
-      <a href="org.apache.wicket.markup.html.autolink.sub.PageB">Page B</a>
+      <a href="./org.apache.wicket.markup.html.autolink.PageA">Page A</a>
+      <a href="./org.apache.wicket.markup.html.autolink.sub.PageB">Page B</a>
     </wicket:link>
     START<br>
     <wicket:child><wicket:extend>
   <wicket:link>
-    <a href="org.apache.wicket.markup.html.autolink.PageA?a=1">Page A</a>
+    <a href="./org.apache.wicket.markup.html.autolink.PageA?a=1">Page A</a>
   </wicket:link>
   MyPage
 </wicket:extend></wicket:child>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/PageAExpectedResult.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/PageAExpectedResult.html
index 7dee8d7e79..056b1ad755 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/PageAExpectedResult.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/autolink/PageAExpectedResult.html
@@ -2,9 +2,9 @@
 <html>
   <body>
     <wicket:link>
-      <a href="org.apache.wicket.markup.html.autolink.MyPage">My Page</a>
+      <a href="./org.apache.wicket.markup.html.autolink.MyPage">My Page</a>
       <span><em>Page A</em></span>
-      <a href="org.apache.wicket.markup.html.autolink.sub.PageB">Page B</a>
+      <a href="./org.apache.wicket.markup.html.autolink.sub.PageB">Page B</a>
     </wicket:link>
     START<br>
     <wicket:child><wicket:extend>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_12.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_12.html
index 3d8cbf3979..137fbb6f40 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_12.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_12.html
@@ -11,23 +11,23 @@
 /*]]>*/
 </style><wicket:link>
   <!--[if IE]>
-    <a href="org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
+    <a href="./org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
   <![endif]-->
 
   <!--[if IE 6]>
-    <a href="org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
+    <a href="./org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
   <![endif]-->
 
   <!--[if gte IE 5.5]>
-    <a href="org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
+    <a href="./org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
   <![endif]-->
 
   <!--[if lte IE 5.5999]>
-    <a href="org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
+    <a href="./org.apache.wicket.markup.html.basic.SimplePage_3">Link</a>
   <![endif]-->
 
   <!--[if lt IE 5.1]>
-    <a href="org.apache.wicket.markup.html.basic.SimplePage_3" wicket:id="link">Link</a>
+    <a href="./org.apache.wicket.markup.html.basic.SimplePage_3" wicket:id="link">Link</a>
   <![endif]-->
   
   <!--[if IE]>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_7.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_7.html
index 1637ab261c..dd2009d12a 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_7.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/basic/SimplePageExpectedResult_7.html
@@ -11,7 +11,7 @@
   <input type="image" src="../../test.gif">test 2</input>
   <input type="image" src="../../test.gif" wicket:message="attr-name:i18n-key" attr-name="my i18n key">test 2</input>
   
-  <wicket:message key="myKeyBalance">Your balance is <span wicket:id="amount">$5.00</span>. Click <a wicket:id="link" href="org.apache.wicket.markup.html.basic.SimplePage_3">
+  <wicket:message key="myKeyBalance">Your balance is <span wicket:id="amount">$5.00</span>. Click <a wicket:id="link" href="./org.apache.wicket.markup.html.basic.SimplePage_3">
       <wicket:message key="linkText">here</wicket:message>
     </a> to view the details.</wicket:message>
 
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_false_expected.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_false_expected.html
index 5757c311b5..7631045c24 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_false_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_false_expected.html
@@ -1,6 +1,6 @@
 <html>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <select wicket:id="dropdown" name="dropdown">
 <option selected="selected" value="0">A</option>
 <option value="1">B</option>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_true_expected.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_true_expected.html
index a1d63307fc..ab08e2d736 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_true_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_A_true_expected.html
@@ -1,6 +1,6 @@
 <html>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <select wicket:id="dropdown" name="dropdown">
 <option value=""></option>
 <option selected="selected" value="0">A</option>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_false_expected.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_false_expected.html
index ac19e898bc..daaf8c4716 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_false_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_false_expected.html
@@ -1,6 +1,6 @@
 <html>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <select wicket:id="dropdown" name="dropdown">
 <option selected="selected" value="">Choose One</option>
 <option value="0">A</option>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_true_expected.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_true_expected.html
index 4ee898157b..7c874099cd 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_true_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/DropDownChoiceTestPage_null_true_expected.html
@@ -1,6 +1,6 @@
 <html>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <select wicket:id="dropdown" name="dropdown">
 <option selected="selected" value=""></option>
 <option value="0">A</option>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1-1.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1-1.html
index 51e4003dac..21c441d2cd 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1-1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1-1.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?2-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?2-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       <input wicket:id="input" type="checkbox" name="input"/>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1.html
index 1d142f0aab..6ae92e0d89 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-1.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?1-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?1-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     
   </form>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2-1.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2-1.html
index 2b5c68009e..baeac11b97 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2-1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2-1.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?2-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?2-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     
   </form>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2.html
index b21c8d88bf..987b223ce9 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-2.html
@@ -1,8 +1,8 @@
-<html xmlns:wicket>
-<body>
-  <form wicket:id="form" id="form1" method="post" action="page?4-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
-    <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
-    
-  </form>
-</body>
-</html>
+<html xmlns:wicket>
+<body>
+  <form wicket:id="form" id="form1" method="post" action="./page?4-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+    <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
+    
+  </form>
+</body>
+</html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-1.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-1.html
index 4b7c444669..df38e88c8e 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-1.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?5-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?5-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-2.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-2.html
index 075749f0ed..87eb79ecfe 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-2.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3-2.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?6-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?6-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       <input wicket:id="input" type="checkbox" name="input"/>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3.html
index f9bf81fd7d..3e86ff082c 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-3.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?3-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?3-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-4.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-4.html
index e27d15e829..2186bd19bc 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-4.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9-4.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?1-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?1-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       <input wicket:id="input" type="checkbox" checked="checked" name="input"/>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9.html
index 39063d3aae..638925b277 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/internal/EnclosurePageExpectedResult_9.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-  <form wicket:id="form" id="form1" method="post" action="page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
+  <form wicket:id="form" id="form1" method="post" action="./page?0-1.IFormSubmitListener-form"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div>
     <!-- does Wicket behave different if the enclosure child is a FormComponent?? Needs testing -->
     <wicket:enclosure child="label">
       <input wicket:id="input" type="checkbox" name="input"/>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_1.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_1.html
index 251018a5b8..fcf1cade81 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_1.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_1.html
@@ -3,33 +3,33 @@
 <title>Mock Page</title>
 </head>
 <body>
-<a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
 <wicket:link>
-  <a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+  <a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
 </wicket:link>
 <wicket:link autolink="false">
   <a href="../../Page1.html">Home</a>
 </wicket:link>
 <wicket:link autolink="true">
-  <a href="org.apache.wicket.markup.html.link.Page1"><span wicket:id="myLabel">Home</span></a>
+  <a href="./org.apache.wicket.markup.html.link.Page1"><span wicket:id="myLabel">Home</span></a>
 </wicket:link>
 <wicket:link autolink="false">
   <a href="../../Page1.html">Home</a>
   <wicket:link autolink="true">
-    <a href="org.apache.wicket.markup.html.link.Page1?id=123&amp;name=test">Home</a>
+    <a href="./org.apache.wicket.markup.html.link.Page1?id=123&amp;name=test">Home</a>
   </wicket:link>
 </wicket:link>
 <!-- valid till the end of the document or the next link tag -->
 <wicket:link autolink="false"/>
 <a href="../../Page1.html">Home</a>
 <wicket:link autolink="true">
-<a href="org.apache.wicket.markup.html.link.subdir.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.subdir.Page1">Home</a>
 <link href="../resource/org.apache.wicket.markup.html.link.AutolinkPage_1/test.css"/>
 <link href="../resource/org.apache.wicket.markup.html.link.AutolinkPage_1/test2.css?-myStyle"/>
 <link href="../resource/org.apache.wicket.markup.html.link.AutolinkPage_1/test3.css?de_DE"/>
 <link href="../resource/org.apache.wicket.markup.html.link.AutolinkPage_1/$up$/$up$/html/link/test2.css?-myStyle"/>
 <a href="/root/test.html">Home</a>
-<a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
   <a href="http://www.google.com">Google</a>
 </wicket:link>
 </body>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_2.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_2.html
index 5c1ea5f33e..8be45639ca 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_2.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_2.html
@@ -3,30 +3,30 @@
 <title>Mock Page</title>
 </head>
 <body>
-<a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
 
-  <a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+  <a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
 
 
   <a href="../../Page1.html">Home</a>
 
 
-  <a href="org.apache.wicket.markup.html.link.Page1"><span>Home</span></a>
+  <a href="./org.apache.wicket.markup.html.link.Page1"><span>Home</span></a>
 
 
   <a href="../../Page1.html">Home</a>
   
-    <a href="org.apache.wicket.markup.html.link.Page1?id=123&amp;name=test">Home</a>
+    <a href="./org.apache.wicket.markup.html.link.Page1?id=123&amp;name=test">Home</a>
   
 
 <!-- valid till the end of the document or the next link tag -->
 
 <a href="../../Page1.html">Home</a>
 
-<a href="org.apache.wicket.markup.html.link.subdir.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.subdir.Page1">Home</a>
 <link href="../resource/org.apache.wicket.markup.html.link.AutolinkPage_2/test.css"/>
 <a href="/root/test.html">Home</a>
-<a href="org.apache.wicket.markup.html.link.Page1">Home</a>
+<a href="./org.apache.wicket.markup.html.link.Page1">Home</a>
   <a href="http://www.google.com">Google</a>
 </body>
 </html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_3.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_3.html
index aa087f4531..537e845504 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_3.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_3.html
@@ -1,7 +1,7 @@
 <html xmlns:wicket>
 <body>
 <wicket:link autolink="true">
-  <a href="org.apache.wicket.markup.html.link.XmlPage">Home</a>
+  <a href="./org.apache.wicket.markup.html.link.XmlPage">Home</a>
 </wicket:link>
 </body>
 </html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_4.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_4.html
index 0ef9a4dc52..c5d240ac3f 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_4.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/AutolinkPageExpectedResult_4.html
@@ -7,7 +7,7 @@
   <a href="#link1">Link 1</a>
   <a href="">Link 1</a>
   <!-- Supported since 1.2 -->
-  <a href="org.apache.wicket.markup.html.link.Page1#link1">Link 1</a>
+  <a href="./org.apache.wicket.markup.html.link.Page1#link1">Link 1</a>
 </wicket:link>
 </body>
 </html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/BookmarkablePageLinkTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/BookmarkablePageLinkTest.java
index a6023b287b..f0412efc69 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/BookmarkablePageLinkTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/BookmarkablePageLinkTest.java
@@ -81,7 +81,7 @@ public class BookmarkablePageLinkTest extends WicketTestCase
 		tester.startComponentInPage(link, null);
 		String response = tester.getLastResponse().getDocument();
 		Assert.assertEquals(
-			"<html><body><span wicket:id=\"link\" onclick=\"var win = this.ownerDocument.defaultView || this.ownerDocument.parentWindow; if (win == window) { window.location.href=&#039;bookmarkable/org.apache.wicket.MockPageWithLink?urlEscapeNeeded=someone%27s+%5Eb%25a%26d+pa%22rameter&#039;; } ;return false\"></span></body></html>",
+			"<html><body><span wicket:id=\"link\" onclick=\"var win = this.ownerDocument.defaultView || this.ownerDocument.parentWindow; if (win == window) { window.location.href=&#039;./bookmarkable/org.apache.wicket.MockPageWithLink?urlEscapeNeeded=someone%27s+%5Eb%25a%26d+pa%22rameter&#039;; } ;return false\"></span></body></html>",
 			response);
 	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/MountedPageLinkTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/MountedPageLinkTest.java
index 93218afe9c..a66535205d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/link/MountedPageLinkTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/link/MountedPageLinkTest.java
@@ -85,7 +85,7 @@ public class MountedPageLinkTest extends WicketTestCase
 			new PageParameters().add("param", "value"));
 		Link<?> link = (Link<?>)page.get("link");
 		String url = link.getURL().toString();
-		assertEquals("wicket/page?0-1.ILinkListener-link", url);
+		assertEquals("./wicket/page?0-1.ILinkListener-link", url);
 		tester.executeUrl(url);
 	}
 
@@ -100,7 +100,7 @@ public class MountedPageLinkTest extends WicketTestCase
 			new PageParameters().add("param", "value"));
 		Link<?> link = (Link<?>)page.get("link");
 		String url = link.getURL().toString();
-		assertEquals("wicket/page?0-1.ILinkListener-link", url);
+		assertEquals("./wicket/page?0-1.ILinkListener-link", url);
 		// simulate a page expiry
 		url = url.replace("page?0", "page?3");
 		tester.executeUrl(url);
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2.html b/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2.html
index 50225b7004..8fc9b60da7 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2.html
@@ -1,6 +1,6 @@
 <html xmlns:wicket>
 <body>
-<wicket:message key="myKey">Your balance is $5.00. Click <a wicket:id="link" href="org.apache.wicket.markup.resolver.SimplePage_1">
+<wicket:message key="myKey">Your balance is $5.00. Click <a wicket:id="link" href="./org.apache.wicket.markup.resolver.SimplePage_1">
     <wicket:message key="linkText">here</wicket:message>
   </a> to view the details.</wicket:message>
 </body>
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2a.html b/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2a.html
index 54b8260b7f..d5821b998f 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2a.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/resolver/SimplePageExpectedResult_2a.html
@@ -1,6 +1,6 @@
 <html>
 <body>
-Your balance is $5.00. Click <a href="org.apache.wicket.markup.resolver.SimplePage_1">
+Your balance is $5.00. Click <a href="./org.apache.wicket.markup.resolver.SimplePage_1">
     here
   </a> to view the details.
 </body>
diff --git a/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java b/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
index e45486c9b5..634f647fd8 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/cycle/UrlRendererTest.java
@@ -34,8 +34,8 @@ public class UrlRendererTest extends Assert
 	public void test1()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("foo/bar/baz?a=b")));
-		assertEquals("xyz?x=y", r1.renderUrl(Url.parse("foo/bar/xyz?x=y")));
-		assertEquals("baz/xyz?x=y", r1.renderUrl(Url.parse("foo/bar/baz/xyz?x=y")));
+		assertEquals("./xyz?x=y", r1.renderUrl(Url.parse("foo/bar/xyz?x=y")));
+		assertEquals("./baz/xyz?x=y", r1.renderUrl(Url.parse("foo/bar/baz/xyz?x=y")));
 		assertEquals("../aaa/xyz?x=y", r1.renderUrl(Url.parse("foo/aaa/xyz?x=y")));
 		assertEquals("../../bbb/aaa/xyz?x=y", r1.renderUrl(Url.parse("bbb/aaa/xyz?x=y")));
 	}
@@ -58,7 +58,7 @@ public class UrlRendererTest extends Assert
 	public void test3()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("?a=b")));
-		assertEquals("a/b/c?x=y", r1.renderUrl(Url.parse("a/b/c?x=y")));
+		assertEquals("./a/b/c?x=y", r1.renderUrl(Url.parse("a/b/c?x=y")));
 	}
 
 	/**
@@ -68,7 +68,7 @@ public class UrlRendererTest extends Assert
 	public void test5()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("url")));
-		assertEquals("url?1", r1.renderUrl(Url.parse("url?1")));
+		assertEquals("./url?1", r1.renderUrl(Url.parse("url?1")));
 	}
 
 	/**
@@ -78,7 +78,7 @@ public class UrlRendererTest extends Assert
 	public void test6()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("url/")));
-		assertEquals("x?1", r1.renderUrl(Url.parse("url/x?1")));
+		assertEquals("./x?1", r1.renderUrl(Url.parse("url/x?1")));
 	}
 
 	/**
@@ -100,7 +100,7 @@ public class UrlRendererTest extends Assert
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(
 			Url.parse("en/first-test-page?16-1.ILinkListener-l1")));
-		assertEquals("first-test-page/indexed1/indexed2/indexed3?p1=v1",
+		assertEquals("./first-test-page/indexed1/indexed2/indexed3?p1=v1",
 			r1.renderUrl(Url.parse("en/first-test-page/indexed1/indexed2/indexed3?p1=v1")));
 	}
 
@@ -147,7 +147,7 @@ public class UrlRendererTest extends Assert
 	public void test11()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("a")));
-		assertEquals(".", r1.renderUrl(Url.parse("")));
+		assertEquals("./.", r1.renderUrl(Url.parse("")));
 	}
 
 	/**
@@ -157,14 +157,14 @@ public class UrlRendererTest extends Assert
 	public void test12()
 	{
 		UrlRenderer r1 = new UrlRenderer(new MockWebRequest(Url.parse("?0")));
-		assertEquals(".", r1.renderUrl(Url.parse("")));
+		assertEquals("./", r1.renderUrl(Url.parse("")));
 	}
 
 	/**
 	 * https://issues.apache.org/jira/browse/WICKET-4401
-	 *
-	 * A Url should not ends with '..' because some web containers do not handle it
-	 * properly. Using '../' works better.
+	 * 
+	 * A Url should not ends with '..' because some web containers do not handle it properly. Using
+	 * '../' works better.
 	 */
 	@Test
 	public void test13()
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_indexed_mount_result.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_indexed_mount_result.html
index 5ebc2c4b3f..9de028d038 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_indexed_mount_result.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_indexed_mount_result.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<a href="testValue2?0-1.ILinkListener-link" wicket:id="link">test</a>
+<a href="./testValue2?0-1.ILinkListener-link" wicket:id="link">test</a>
 </body>
 </html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_mount_result.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_mount_result.html
index 82019f3120..9455517b12 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_mount_result.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_mount_result.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<a href="stateless?0-1.ILinkListener-link&amp;testParam1=testValue1&amp;testParam2=testValue2" wicket:id="link">test</a>
+<a href="./stateless?0-1.ILinkListener-link&amp;testParam1=testValue1&amp;testParam2=testValue2" wicket:id="link">test</a>
 </body>
 </html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_result.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_result.html
index 64d608efa5..75f0e6a351 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_result.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPageWithParams_result.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<a href="org.apache.wicket.stateless.StatelessComponentPageWithParams?0-1.ILinkListener-link&amp;testParam1=testValue1&amp;testParam2=testValue2" wicket:id="link">test</a>
+<a href="./org.apache.wicket.stateless.StatelessComponentPageWithParams?0-1.ILinkListener-link&amp;testParam1=testValue1&amp;testParam2=testValue2" wicket:id="link">test</a>
 </body>
 </html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_mount_result.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_mount_result.html
index 382e383be9..7ba54a7f75 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_mount_result.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_mount_result.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<a href="stateless?0-1.ILinkListener-link" wicket:id="link">test</a>
+<a href="./stateless?0-1.ILinkListener-link" wicket:id="link">test</a>
 </body>
 </html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_result.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_result.html
index 94f321098b..ddd737e8a1 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_result.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessComponentPage_result.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<a href="org.apache.wicket.stateless.StatelessComponentPage?0-1.ILinkListener-link" wicket:id="link">test</a>
+<a href="./org.apache.wicket.stateless.StatelessComponentPage?0-1.ILinkListener-link" wicket:id="link">test</a>
 </body>
 </html>
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm_expected.html b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm_expected.html
index a3ab72b4bc..9992dbecf7 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm_expected.html
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessPageWithForm_expected.html
@@ -1,5 +1,5 @@
 <html>
 <body>
-<form wicket:id="form" id="form1" method="post" action="org.apache.wicket.stateless.StatelessPageWithForm?0-1.IFormSubmitListener-form&amp;first=foo&amp;second=bar"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div></form>
+<form wicket:id="form" id="form1" method="post" action="./org.apache.wicket.stateless.StatelessPageWithForm?0-1.IFormSubmitListener-form&amp;first=foo&amp;second=bar"><div style="width:0px;height:0px;position:absolute;left:-100px;top:-100px;overflow:hidden"><input type="hidden" name="form1_hf_0" id="form1_hf_0" /></div></form>
 </body>
 </html>
\ No newline at end of file
