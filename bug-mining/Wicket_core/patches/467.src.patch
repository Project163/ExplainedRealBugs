diff --git a/wicket-core/src/main/java/org/apache/wicket/request/mapper/CryptoMapper.java b/wicket-core/src/main/java/org/apache/wicket/request/mapper/CryptoMapper.java
index e433774ef0..417e9d0886 100755
--- a/wicket-core/src/main/java/org/apache/wicket/request/mapper/CryptoMapper.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/mapper/CryptoMapper.java
@@ -173,6 +173,10 @@ public class CryptoMapper implements IRequestMapper
 			}
 
 			String decryptedUrl = getCrypt().decryptUrlSafe(encryptedUrlString);
+			if (decryptedUrl == null)
+			{
+				return null;
+			}
 			Url originalUrl = Url.parse(decryptedUrl, request.getCharset());
 
 			int originalNumberOfSegments = originalUrl.getSegments().size();
