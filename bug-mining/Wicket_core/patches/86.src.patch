diff --git a/wicket-core/src/test/java/org/apache/wicket/request/cycle/BaseRequestHandlerStackTest.java b/wicket-core/src/test/java/org/apache/wicket/request/cycle/BaseRequestHandlerStackTest.java
index e59460f46d..0e834e0ed4 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/cycle/BaseRequestHandlerStackTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/cycle/BaseRequestHandlerStackTest.java
@@ -79,7 +79,9 @@ public abstract class BaseRequestHandlerStackTest extends TestCase
 
 		public Response setResponse(Response response)
 		{
-			return response;
+			Response original = this.response;
+			this.response = response;
+			return original;
 		}
 
 		public Request getRequest()
@@ -102,11 +104,18 @@ public abstract class BaseRequestHandlerStackTest extends TestCase
 	{
 		return new RequestHandlerStack()
 		{
-
 			@Override
 			protected void respond(IRequestHandler handler)
 			{
-				handler.respond(requestCycle);
+				Response originalResponse = requestCycle.getResponse();
+				try
+				{
+					handler.respond(requestCycle);
+				}
+				finally
+				{
+					requestCycle.setResponse(originalResponse);
+				}
 			}
 
 			@Override
