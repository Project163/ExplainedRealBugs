diff --git a/wicket-core/src/main/java/org/apache/wicket/Component.java b/wicket-core/src/main/java/org/apache/wicket/Component.java
index f765a86598..b186e91d71 100644
--- a/wicket-core/src/main/java/org/apache/wicket/Component.java
+++ b/wicket-core/src/main/java/org/apache/wicket/Component.java
@@ -4430,7 +4430,12 @@ public abstract class Component
 		return state;
 	}
 	
-	public boolean isRendering()
+	/**
+	 * Says if the component is rendering or not checking the corresponding flag.
+	 * 
+	 * @return true if this component is rendering, false otherwise.
+	 */
+	public final boolean isRendering()
 	{
 		return getFlag(FLAG_RENDERING);
 	}
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
index 945803e485..5add398f81 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
@@ -71,6 +71,12 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 	@Override
 	public void internalRenderHead(HtmlHeaderContainer container)
 	{
+		/*
+		 * https://issues.apache.org/jira/browse/WICKET-5941
+		 * 
+		 * if this component is updated via AJAX and is the root
+		 * one, then render head also for embedded components.
+		 */
 		if(isAjaxRequest() && !isParentRendering())
 		{
 			renderHeadForInnerSiblings(container);
@@ -79,13 +85,23 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 		super.internalRenderHead(container);
 	}
 
+	/**
+	 * Says if parent container is rendering or not.
+	 * 
+	 * @return true if parent is rendering, false otherwise.
+	 */
 	private boolean isParentRendering()
 	{
 		MarkupContainer parent = getParent();
 		
 		return parent != null ? parent.isRendering() : false;
 	}
-
+	
+	/**
+	 * Says if the current request is an AJAX one.
+	 * 
+	 * @return true if the current request is an AJAX one, false otherwise.
+	 */
 	private boolean isAjaxRequest()
 	{
 		Request request = RequestCycle.get().getRequest();
@@ -99,6 +115,13 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 		return false;
 	}
 
+	/**
+	 * Renders head for embedded component, i.e. those who are not added 
+	 * directly to this container but have the markup inside it.
+	 * 
+	 * @param container
+	 * 				The HtmlHeaderContainer
+	 */
 	private void renderHeadForInnerSiblings(HtmlHeaderContainer container)
 	{
 		MarkupStream stream = new MarkupStream(getMarkup());
@@ -127,6 +150,7 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 					component.internalRenderHead(container);
 				}		
 				
+				//consider just direct children
 				stream.skipToMatchingCloseTag(tag);
 			}			
 		}
