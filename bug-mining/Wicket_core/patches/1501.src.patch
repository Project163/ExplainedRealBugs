diff --git a/wicket-core/src/main/java/org/apache/wicket/core/util/lang/PropertyResolver.java b/wicket-core/src/main/java/org/apache/wicket/core/util/lang/PropertyResolver.java
index 3069de4206..ff9a0b0594 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/util/lang/PropertyResolver.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/util/lang/PropertyResolver.java
@@ -983,7 +983,7 @@ public final class PropertyResolver
 							"]. Can't convert value: " + value + " to class: " +
 							getMethod.getReturnType() + " for setting it on " + object);
 					}
-					else if (getMethod.getReturnType().isPrimitive())
+					else if (setMethod != null && setMethod.getParameterTypes()[0].isPrimitive())
 					{
 						throw new ConversionException("Method [" + getMethod +
 							"]. Can't convert null value to a primitive class: " +
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/lang/PropertyResolverTest.java b/wicket-core/src/test/java/org/apache/wicket/util/lang/PropertyResolverTest.java
index 074325f52f..6291557b6d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/util/lang/PropertyResolverTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/util/lang/PropertyResolverTest.java
@@ -17,11 +17,12 @@
 package org.apache.wicket.util.lang;
 
 import static org.junit.jupiter.api.Assertions.assertEquals;
-import static org.junit.jupiter.api.Assertions.assertNotNull;
+import static org.junit.jupiter.api.Assertions.assertFalse;
 import static org.junit.jupiter.api.Assertions.assertNull;
-import static org.junit.jupiter.api.Assertions.assertSame;
+import static org.junit.jupiter.api.Assertions.assertNotNull;
 import static org.junit.jupiter.api.Assertions.assertThrows;
 import static org.junit.jupiter.api.Assertions.assertTrue;
+import static org.junit.jupiter.api.Assertions.assertSame;
 import static org.junit.jupiter.api.Assertions.fail;
 
 import java.lang.reflect.Field;
@@ -782,9 +783,9 @@ public class PropertyResolverTest extends WicketTestCase
 	void booleanVsBoolean()
 	{
 		final BooleanBean bean = new BooleanBean();
-		PropertyResolver.setValue("instantPayment", bean, "false", CONVERTER);
+		PropertyResolver.setValue("instantPayment", bean, null, CONVERTER);
 		Boolean instantPayment = (Boolean) PropertyResolver.getValue("instantPayment", bean);
-		assertEquals(false, instantPayment);
+		assertFalse(instantPayment);
 	}
 
 	class CustomGetAndSetLocator implements IPropertyLocator {
