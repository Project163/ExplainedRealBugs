diff --git a/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java b/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java
index 7f36cbec83..bf451c9d52 100644
--- a/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java
+++ b/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java
@@ -18,6 +18,7 @@ package org.apache.wicket.core.util.resource;
 
 import java.io.IOException;
 import java.io.InputStream;
+import java.net.URISyntaxException;
 import java.net.URL;
 import java.net.URLConnection;
 import java.time.Instant;
@@ -118,9 +119,16 @@ public class UrlResourceStream extends AbstractResourceStream
 				streamData.connection = url.openConnection();
 				streamData.contentLength = streamData.connection.getContentLength();
 
+				// Default implementation "sun.net.www.MimeTable" works on strings with "/" only and
+				// doesn't properly parse paths nor URLs. So providing an absolute URI is compatible
+				// with the default implementation, while the string can't be misinterpreted as path
+				// like has been the case with "URL.getFile" before. That doesn't decode to paths,
+				// results only look similar sometimes.
+				String uriStr = url.toURI().toString();
+
 				if (Application.exists())
 				{
-					streamData.contentType = Application.get().getMimeType(url.getFile());
+					streamData.contentType = Application.get().getMimeType(uriStr);
 				}
 				else
 				{
@@ -130,10 +138,10 @@ public class UrlResourceStream extends AbstractResourceStream
 				if (streamData.contentType == null || streamData.contentType.contains("unknown"))
 				{
 					streamData.contentType = URLConnection.getFileNameMap().getContentTypeFor(
-						url.getFile());
+						uriStr);
 				}
 			}
-			catch (IOException ex)
+			catch (IOException | URISyntaxException ex)
 			{
 				throw new IllegalArgumentException("Invalid URL parameter " + url, ex);
 			}
