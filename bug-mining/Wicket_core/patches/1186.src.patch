diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
index ef406c2f6d..d4de194e8d 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/TransparentWebMarkupContainer.java
@@ -19,8 +19,14 @@ package org.apache.wicket.markup.html;
 import org.apache.wicket.Component;
 import org.apache.wicket.MarkupContainer;
 import org.apache.wicket.markup.ComponentTag;
+import org.apache.wicket.markup.MarkupElement;
 import org.apache.wicket.markup.MarkupStream;
+import org.apache.wicket.markup.html.internal.HtmlHeaderContainer;
+import org.apache.wicket.markup.resolver.ComponentResolvers;
 import org.apache.wicket.markup.resolver.IComponentResolver;
+import org.apache.wicket.request.Request;
+import org.apache.wicket.request.cycle.RequestCycle;
+import org.apache.wicket.request.http.WebRequest;
 
 /**
  * A simple "transparent" markup container.
@@ -61,4 +67,61 @@ public class TransparentWebMarkupContainer extends WebMarkupContainer implements
 		}
 		return resolvedComponent;
 	}
+	
+	@Override
+	public void internalRenderHead(HtmlHeaderContainer container)
+	{
+		if(isAjaxRequest())
+		{
+			renderHeadForInnerSiblings(container);
+		}
+		
+		super.internalRenderHead(container);
+	}
+
+	private boolean isAjaxRequest()
+	{
+		Request request = RequestCycle.get().getRequest();
+		
+		if( request instanceof WebRequest)
+		{	
+			WebRequest webRequest = (WebRequest)request;
+			return webRequest.isAjax();
+		}
+		
+		return false;
+	}
+
+	private void renderHeadForInnerSiblings(HtmlHeaderContainer container)
+	{
+		MarkupStream stream = new MarkupStream(getMarkup());
+		
+		while (stream.hasMore())
+		{
+			MarkupElement childOpenTag = stream.nextOpenTag();
+			
+			if ((childOpenTag instanceof ComponentTag) && !stream.atCloseTag())
+			{
+				// Get element as tag
+				final ComponentTag tag = (ComponentTag)childOpenTag;
+
+				// Get component id
+				final String id = tag.getId();
+
+				Component component = null;
+				
+				if (get(id) == null)
+				{
+					component = ComponentResolvers.resolveByComponentHierarchy(this, stream, tag);					
+				}
+				
+				if (component != null)
+				{
+					component.internalRenderHead(container);
+				}		
+				
+				stream.skipToMatchingCloseTag(tag);
+			}			
+		}
+	}
 }
\ No newline at end of file
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/resolver/ComponentResolvers.java b/wicket-core/src/main/java/org/apache/wicket/markup/resolver/ComponentResolvers.java
index 47e431f1d0..d547a9d950 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/resolver/ComponentResolvers.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/resolver/ComponentResolvers.java
@@ -75,7 +75,7 @@ public class ComponentResolvers
 	 * @param filter
 	 * @return Null, if no component was found
 	 */
-	private static Component resolveByApplication(final MarkupContainer container,
+	public static Component resolveByApplication(final MarkupContainer container,
 		final MarkupStream markupStream, final ComponentTag tag, final ResolverFilter filter)
 	{
 		for (final IComponentResolver resolver : Application.get()
@@ -103,7 +103,7 @@ public class ComponentResolvers
 	 * @param tag
 	 * @return Null, if no component was found
 	 */
-	private static Component resolveByComponentHierarchy(final MarkupContainer container,
+	public static Component resolveByComponentHierarchy(final MarkupContainer container,
 		final MarkupStream markupStream, final ComponentTag tag)
 	{
 		Component cursor = container;
