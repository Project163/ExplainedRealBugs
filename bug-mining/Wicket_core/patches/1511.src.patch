diff --git a/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java b/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
index 93c13e8c76..7f5a39e8c5 100644
--- a/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/MarkupContainer.java
@@ -2200,7 +2200,7 @@ public abstract class MarkupContainer extends Component implements Iterable<Comp
 			@Override
 			public boolean hasNext()
 			{
-				if (!currentIterator.hasNext() && !iteratorStack.isEmpty())
+				while (!currentIterator.hasNext() && !iteratorStack.isEmpty())
 				{
 					currentIterator = iteratorStack.pop();
 				}
