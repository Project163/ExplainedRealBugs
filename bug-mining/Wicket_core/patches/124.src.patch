diff --git a/wicket-core/src/main/java/org/apache/wicket/request/handler/render/WebPageRenderer.java b/wicket-core/src/main/java/org/apache/wicket/request/handler/render/WebPageRenderer.java
index dc5d6bf518..1831a5aaf5 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/handler/render/WebPageRenderer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/handler/render/WebPageRenderer.java
@@ -173,7 +173,7 @@ public class WebPageRenderer extends PageRenderer
 	{
 		WebResponse response = (WebResponse)requestCycle.getResponse();
 		String relativeUrl = requestCycle.getUrlRenderer().renderUrl(url);
-		response.reset();
+		// response.reset();
 		response.sendRedirect(relativeUrl);
 	}
 
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/CookieValuePersisterTestPage.java b/wicket-core/src/test/java/org/apache/wicket/util/cookies/CookieValuePersisterTestPage.java
index 2af19a7661..7aa134bb89 100644
--- a/wicket-core/src/test/java/org/apache/wicket/util/cookies/CookieValuePersisterTestPage.java
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/CookieValuePersisterTestPage.java
@@ -34,12 +34,9 @@ public class CookieValuePersisterTestPage extends WebPage
 
 	/**
 	 * Construct.
-	 * 
-	 * 
 	 */
 	public CookieValuePersisterTestPage()
 	{
-
 		// Create and add feedback panel to page
 		final FeedbackPanel feedback = new FeedbackPanel("feedback");
 		add(feedback);
@@ -48,7 +45,6 @@ public class CookieValuePersisterTestPage extends WebPage
 
 	/**
 	 * 
-	 * @author Juergen Donnerstag
 	 */
 	public final class TestForm extends Form<Void>
 	{
@@ -63,13 +59,9 @@ public class CookieValuePersisterTestPage extends WebPage
 		public TestForm(final String id)
 		{
 			super(id);
-
 			add(new TextField<String>("input", new Model<String>("test")));
 		}
 
-		/**
-		 * Dummy
-		 */
 		@Override
 		public final void onSubmit()
 		{
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.html b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.html
new file mode 100644
index 0000000000..2406cfbf2b
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.html
@@ -0,0 +1,26 @@
+<!--
+    $Id: CookieValuePersisterTestPage.html 527232 2007-04-10 18:15:14Z jcompagner $
+    $Revision: 527232 $
+    $Date: 2007-04-10 20:15:14 +0200 (Di, 10 Apr 2007) $
+
+    ====================================================================
+    Licensed under the Apache License, Version 2.0 (the "License");
+    you may not use this file except in compliance with the License.
+    You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<html>
+<body>
+  <form wicket:id="form">
+    <input wicket:id="input" type="text" />
+    <input type="submit" value="set cookie" />
+  </form>
+</body>
+</html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.java b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.java
new file mode 100644
index 0000000000..69c4a4854d
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatefullTestPage.java
@@ -0,0 +1,61 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.util.cookies;
+
+import org.apache.wicket.markup.html.WebPage;
+import org.apache.wicket.markup.html.form.Form;
+import org.apache.wicket.markup.html.form.TextField;
+import org.apache.wicket.model.IModel;
+import org.apache.wicket.model.Model;
+
+
+/**
+ * Statefull form page which sets a cookie and calls setResponsePage()
+ * 
+ * @author Bertrand Guay-Paquet
+ */
+public class SetCookieAndRedirectStatefullTestPage extends WebPage
+{
+	private static final long serialVersionUID = 1L;
+
+	/**	 */
+	public static final String cookieName = "CookieValuePersisterStatelessTestPage";
+
+	private IModel<String> inputModel;
+
+	/**
+	 * Construct.
+	 */
+	public SetCookieAndRedirectStatefullTestPage()
+	{
+		inputModel = new Model<String>();
+		Form<Void> form = new Form<Void>("form")
+		{
+			private static final long serialVersionUID = 1L;
+
+			@Override
+			protected void onSubmit()
+			{
+				CookieUtils utils = new CookieUtils();
+				utils.save(cookieName, inputModel.getObject());
+				setResponsePage(getApplication().getHomePage());
+			}
+		};
+		add(form);
+		form.add(new TextField<String>("input", inputModel));
+	}
+}
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.html b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.html
new file mode 100644
index 0000000000..2406cfbf2b
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.html
@@ -0,0 +1,26 @@
+<!--
+    $Id: CookieValuePersisterTestPage.html 527232 2007-04-10 18:15:14Z jcompagner $
+    $Revision: 527232 $
+    $Date: 2007-04-10 20:15:14 +0200 (Di, 10 Apr 2007) $
+
+    ====================================================================
+    Licensed under the Apache License, Version 2.0 (the "License");
+    you may not use this file except in compliance with the License.
+    You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<html>
+<body>
+  <form wicket:id="form">
+    <input wicket:id="input" type="text" />
+    <input type="submit" value="set cookie" />
+  </form>
+</body>
+</html>
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.java b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.java
new file mode 100644
index 0000000000..0b921a1cc7
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectStatelessTestPage.java
@@ -0,0 +1,62 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.util.cookies;
+
+import org.apache.wicket.markup.html.WebPage;
+import org.apache.wicket.markup.html.form.Form;
+import org.apache.wicket.markup.html.form.StatelessForm;
+import org.apache.wicket.markup.html.form.TextField;
+import org.apache.wicket.model.IModel;
+import org.apache.wicket.model.Model;
+
+
+/**
+ * Stateless form page which sets a cookie and calls setResponsePage()
+ * 
+ * @author Bertrand Guay-Paquet
+ */
+public class SetCookieAndRedirectStatelessTestPage extends WebPage
+{
+	private static final long serialVersionUID = 1L;
+
+	/**	 */
+	public static final String cookieName = "CookieValuePersisterStatelessTestPage";
+
+	private IModel<String> inputModel;
+
+	/**
+	 * Construct.
+	 */
+	public SetCookieAndRedirectStatelessTestPage()
+	{
+		inputModel = new Model<String>();
+		Form<Void> form = new StatelessForm<Void>("form")
+		{
+			private static final long serialVersionUID = 1L;
+
+			@Override
+			protected void onSubmit()
+			{
+				CookieUtils utils = new CookieUtils();
+				utils.save(cookieName, inputModel.getObject());
+				setResponsePage(getApplication().getHomePage());
+			}
+		};
+		add(form);
+		form.add(new TextField<String>("input", inputModel));
+	}
+}
\ No newline at end of file
diff --git a/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectTest.java b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectTest.java
new file mode 100644
index 0000000000..7aead2facd
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/util/cookies/SetCookieAndRedirectTest.java
@@ -0,0 +1,67 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.util.cookies;
+
+import java.util.List;
+
+import javax.servlet.http.Cookie;
+
+import org.apache.wicket.Page;
+import org.apache.wicket.WicketTestCase;
+import org.apache.wicket.util.tester.FormTester;
+
+/**
+ * Tests setting a cookie and calling setResponsePage() in the same request.
+ * 
+ * @author Bertrand Guay-Paquet
+ */
+public class SetCookieAndRedirectTest extends WicketTestCase
+{
+	private static final String cookieValue = "cookieValue";
+
+	/**
+	 * Validate proper cookie value set with statefull page
+	 */
+	public void testStatefullPage()
+	{
+		tester.startPage(SetCookieAndRedirectStatefullTestPage.class);
+		FormTester formTester = tester.newFormTester("form");
+		formTester.setValue("input", cookieValue);
+		formTester.submit();
+		Page page = tester.getLastRenderedPage();
+
+		List<Cookie> cookies = tester.getLastResponse().getCookies();
+		assertEquals(1, cookies.size());
+		assertEquals(cookieValue, cookies.get(0).getValue());
+	}
+
+	/**
+	 * Validate proper cookie value set with stateless page
+	 */
+	public void testStatelessPage()
+	{
+		tester.startPage(SetCookieAndRedirectStatelessTestPage.class);
+		FormTester formTester = tester.newFormTester("form");
+		formTester.setValue("input", cookieValue);
+		formTester.submit();
+		Page page = tester.getLastRenderedPage();
+
+		List<Cookie> cookies = tester.getLastResponse().getCookies();
+		assertEquals(1, cookies.size());
+		assertEquals(cookieValue, cookies.get(0).getValue());
+	}
+}
