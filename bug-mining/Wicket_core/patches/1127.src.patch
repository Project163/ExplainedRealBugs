diff --git a/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js b/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
index e31419e5e1..1d7bcbd080 100644
--- a/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
+++ b/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
@@ -911,10 +911,41 @@
 			this._executeHandlers(attrs.ah, attrs);
 			we.publish(topic.AJAX_CALL_AFTER, attrs);
 
+			// a step to execute in both successful and erroneous completion
+			context.endStep = jQuery.proxy(function(notify) {
+				// remove the iframe and button elements
+				setTimeout(function() {
+					jQuery('#'+iframe.id + '-btn').remove();
+					jQuery(iframe).remove();
+				}, 0);
+
+				var attrs = context.attrs;
+				if (attrs.i) {
+					// hide the indicator
+					Wicket.DOM.hideIncrementally(attrs.i);
+				}
+
+				this._executeHandlers(attrs.coh, attrs, null, null);
+				Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_COMPLETE, attrs, null, null);
+
+				this.done();
+				return FunctionsExecuter.DONE;
+			}, this);
+
+			// an error handler that is used when the connection to the server fails for any reason
+			context.errorHandle = setTimeout(jQuery.proxy(function() {
+				this.failure(context, null, "No XML response in the IFrame document", "Failure");
+
+				context.steps.push(context.endStep);
+				var executer = new FunctionsExecuter(context.steps);
+				executer.start();
+			}, this), attrs.rt || 5000);
+
 			// install handler to deal with the ajax response
 			// ... we add the onload event after form submit because chrome fires it prematurely
 			we.add(iframe, "load.handleMultipartComplete", jQuery.proxy(this.handleMultipartComplete, this), context);
 
+
 			// handled, restore state and return true
 			form.action = originalFormAction;
 			form.target = originalFormTarget;
@@ -935,6 +966,8 @@
 				iframe = event.target,
 				envelope;
 
+			clearTimeout(context.errorHandle);
+
 			// stop the event
 			event.stopPropagation();
 
@@ -959,26 +992,7 @@
 				this.loadedCallback(envelope, context);
 			}
 
-			context.steps.push(jQuery.proxy(function(notify) {
-				// remove the iframe and button elements
-				setTimeout(function() {
-					jQuery('#'+iframe.id + '-btn').remove();
-					jQuery(iframe).remove();
-				}, 0);
-
-				var attrs = context.attrs;
-				if (attrs.i) {
-					// hide the indicator
-					Wicket.DOM.hideIncrementally(attrs.i);
-				}
-
-				this._executeHandlers(attrs.coh, attrs, null, null);
-				Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_COMPLETE, attrs, null, null);
-
-				this.done();
-				return FunctionsExecuter.DONE;
-			}, this));
-
+			context.steps.push(context.endStep);
 			var executer = new FunctionsExecuter(context.steps);
 			executer.start();
 		},
diff --git a/wicket-core/src/test/js/ajax.js b/wicket-core/src/test/js/ajax.js
index 9e5aa54443..49e6e87e67 100644
--- a/wicket-core/src/test/js/ajax.js
+++ b/wicket-core/src/test/js/ajax.js
@@ -1102,6 +1102,37 @@ jQuery(document).ready(function() {
 			jQuery('#'+ attrs.c).triggerHandler("nestedFormSubmit");
 		});
 
+
+		/**
+		 * Tests that submitting a of multipart form calls failure and complete handlers
+		 * when the server is not reachable.
+		 */
+		asyncTest('Submit multipart form (server down).', function () {
+
+			expect(6);
+
+			var attrs = {
+				f:  "multipartForm", // the id of the form to submit
+				mp: true,  // multipart
+				u:  "http://non-existing.tld/some.xml", // emulate server down by using non-existing address
+				e:  "multipartFormSubmitEvent", // the event
+				c:  "multipartFormSubmit", // the component that submits the form
+				m:  "POST", // submit method,
+				rt: 100, // 100ms request timeout
+				bh: [ function(attrs) { ok(true, "Before handler executed"); } ],
+				pre: [ function(attrs) {ok(true, "Precondition executed"); return true; } ],
+				bsh: [ function(attrs) { ok(true, "BeforeSend handler executed"); } ],
+				ah: [ function(attrs) { ok(true, "After handler executed"); } ],
+				sh: [ function(attrs) { ok(false, "Success handler should not be executed"); } ],
+				fh: [ function(attrs) { start(); ok(true, "Failure handler executed"); } ],
+				coh: [ function(attrs) { ok(true, "Complete handler executed"); } ]
+			};
+
+			Wicket.Ajax.ajax(attrs);
+
+			jQuery('#'+ attrs.c).triggerHandler("multipartFormSubmitEvent");
+		});
+
 		/**
 		 * Tests that a huge response with more than 1000 evaluations is properly executed.
 		 * FunctionsExecuter can execute at most 1000 functions in one go, the rest are executed
diff --git a/wicket-core/src/test/js/all.html b/wicket-core/src/test/js/all.html
index 305c7b8c95..fcc0abc21f 100644
--- a/wicket-core/src/test/js/all.html
+++ b/wicket-core/src/test/js/all.html
@@ -160,6 +160,12 @@
 			</div>
 		</form>
 
+		<form id="multipartForm">
+			<input type="text" id="multipartFormText"/>
+			<input type="file" id="multipartFormFile"/>
+			<input type="submit" id="multipartFormSubmit">
+		</form>
+
 		<div id="usedAsContextWicket5025"></div>
 
 		<input type="text" id="inputChangeInput">
