diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/ContainerInfo.java b/wicket-core/src/main/java/org/apache/wicket/markup/ContainerInfo.java
index 6e0e12634b..8df7df2428 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/ContainerInfo.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/ContainerInfo.java
@@ -48,6 +48,20 @@ public class ContainerInfo
 			container.getVariation(), container.getMarkupType());
 	}
 
+	/**
+	 * Construct.
+	 * 
+	 * @param containerClass
+	 *            the real container class (could be a parent class)
+	 * @param container
+	 *            The container to create the information from
+	 */
+	public ContainerInfo(final Class<?> containerClass, final MarkupContainer container)
+	{
+		this(containerClass != null ? containerClass : container.getClass(), container.getLocale(), container.getStyle(),
+			container.getVariation(), container.getMarkupType());
+	}
+
 	/**
 	 * Construct.
 	 * 
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/DefaultMarkupResourceStreamProvider.java b/wicket-core/src/main/java/org/apache/wicket/markup/DefaultMarkupResourceStreamProvider.java
index 42bf66c72d..c605c06121 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/DefaultMarkupResourceStreamProvider.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/DefaultMarkupResourceStreamProvider.java
@@ -90,8 +90,7 @@ public class DefaultMarkupResourceStreamProvider implements IMarkupResourceStrea
 			// Did we find it already?
 			if (resourceStream != null)
 			{
-				return new MarkupResourceStream(resourceStream, new ContainerInfo(container),
-					containerClass);
+				return new MarkupResourceStream(resourceStream, new ContainerInfo(containerClass, container), containerClass);
 			}
 
 			// Walk up the class hierarchy one level, if markup has not
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/header/MyPageExpectedResult.html b/wicket-core/src/test/java/org/apache/wicket/markup/html/header/MyPageExpectedResult.html
index 17fef794d2..be3a42ef0d 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/header/MyPageExpectedResult.html
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/header/MyPageExpectedResult.html
@@ -2,7 +2,7 @@
 
 <html>
   <head>
-    <script id="org-apache-wicket-markup-html-header-PanelA-0">
+    <script id="org-apache-wicket-markup-html-header-BasePanel-0">
 /*<![CDATA[*/
 
         alert("BASE");
