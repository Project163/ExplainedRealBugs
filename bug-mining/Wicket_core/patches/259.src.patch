diff --git a/wicket-core/src/main/java/org/apache/wicket/request/mapper/BasicResourceReferenceMapper.java b/wicket-core/src/main/java/org/apache/wicket/request/mapper/BasicResourceReferenceMapper.java
index cdc5ac7fd1..c1530cfdd5 100755
--- a/wicket-core/src/main/java/org/apache/wicket/request/mapper/BasicResourceReferenceMapper.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/mapper/BasicResourceReferenceMapper.java
@@ -92,6 +92,13 @@ class BasicResourceReferenceMapper extends AbstractResourceReferenceMapper
 				// should be stripped of timestamps
 				if (i + 1 == segmentsSize)
 				{
+					// since we need mutable page parameters for 
+					// the caching strategy ensure they are not null 
+					if (pageParameters == null)
+					{
+						pageParameters = new PageParameters();
+					}
+					
 					// The filename + parameters eventually contain caching
 					// related information which needs to be removed
 					ResourceUrl resourceUrl = new ResourceUrl(segment, pageParameters);
