diff --git a/wicket-core/src/main/java/org/apache/wicket/Component.java b/wicket-core/src/main/java/org/apache/wicket/Component.java
index 3ac6f5984d..0e914389e8 100644
--- a/wicket-core/src/main/java/org/apache/wicket/Component.java
+++ b/wicket-core/src/main/java/org/apache/wicket/Component.java
@@ -3928,19 +3928,17 @@ public abstract class Component
 
 		DebugSettings debugSettings = getApplication().getDebugSettings();
 		String componentPathAttributeName = debugSettings.getComponentPathAttributeName();
-		if (Strings.isEmpty(componentPathAttributeName) == false)
+		if (Strings.isEmpty(componentPathAttributeName) && debugSettings.isOutputComponentPath())
 		{
-			String path = getPageRelativePath();
-			path = path.replace("_", "__");
-			path = path.replace(':', '_');
-			tag.put(componentPathAttributeName, path);
+			// fallback to the old 'wicketpath'
+			componentPathAttributeName = "wicketpath";
 		}
-		else if (debugSettings.isOutputComponentPath())
+		if (Strings.isEmpty(componentPathAttributeName) == false)
 		{
 			String path = getPageRelativePath();
 			path = path.replace("_", "__");
 			path = path.replace(':', '_');
-			tag.put("wicketpath", path);
+			tag.put(componentPathAttributeName, path);
 		}
 
 		// The markup sourcing strategy may also want to work on the tag
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/CheckBoxMultipleChoice.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/CheckBoxMultipleChoice.java
index c8ff1f60a0..bca4908aed 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/CheckBoxMultipleChoice.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/CheckBoxMultipleChoice.java
@@ -24,6 +24,7 @@ import org.apache.wicket.Page;
 import org.apache.wicket.markup.ComponentTag;
 import org.apache.wicket.markup.MarkupStream;
 import org.apache.wicket.model.IModel;
+import org.apache.wicket.settings.DebugSettings;
 import org.apache.wicket.util.convert.IConverter;
 import org.apache.wicket.util.string.AppendingStringBuffer;
 import org.apache.wicket.util.string.Strings;
@@ -428,12 +429,19 @@ public class CheckBoxMultipleChoice<T> extends ListMultipleChoice<T>
 				}
 			}
 
-			if (getApplication().getDebugSettings().isOutputComponentPath())
+			DebugSettings debugSettings = getApplication().getDebugSettings();
+			String componentPathAttributeName = debugSettings.getComponentPathAttributeName();
+			if (Strings.isEmpty(componentPathAttributeName) && debugSettings.isOutputComponentPath())
+			{
+				// fallback to the old 'wicketpath'
+				componentPathAttributeName = "wicketpath";
+			}
+			if (Strings.isEmpty(componentPathAttributeName) == false)
 			{
 				CharSequence path = getPageRelativePath();
 				path = Strings.replaceAll(path, "_", "__");
 				path = Strings.replaceAll(path, ":", "_");
-				buffer.append(" wicketpath=\"")
+				buffer.append(' ').append(componentPathAttributeName).append("=\"")
 					.append(path)
 					.append("_input_")
 					.append(index)
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/RadioChoice.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/RadioChoice.java
index 3078729f82..20a0cfb0b3 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/RadioChoice.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/RadioChoice.java
@@ -23,6 +23,7 @@ import org.apache.wicket.markup.ComponentTag;
 import org.apache.wicket.markup.MarkupStream;
 import org.apache.wicket.model.IModel;
 import org.apache.wicket.request.mapper.parameter.PageParameters;
+import org.apache.wicket.settings.DebugSettings;
 import org.apache.wicket.util.convert.IConverter;
 import org.apache.wicket.util.string.AppendingStringBuffer;
 import org.apache.wicket.util.string.Strings;
@@ -493,12 +494,19 @@ public class RadioChoice<T> extends AbstractSingleSelectChoice<T> implements IOn
 				}
 			}
 
-			if (getApplication().getDebugSettings().isOutputComponentPath())
+			DebugSettings debugSettings = getApplication().getDebugSettings();
+			String componentPathAttributeName = debugSettings.getComponentPathAttributeName();
+			if (Strings.isEmpty(componentPathAttributeName) && debugSettings.isOutputComponentPath())
+			{
+				// fallback to the old 'wicketpath'
+				componentPathAttributeName = "wicketpath";
+			}
+			if (Strings.isEmpty(componentPathAttributeName) == false)
 			{
 				CharSequence path = getPageRelativePath();
 				path = Strings.replaceAll(path, "_", "__");
 				path = Strings.replaceAll(path, ":", "_");
-				buffer.append(" wicketpath=\"")
+				buffer.append(' ').append(componentPathAttributeName).append("=\"")
 					.append(path)
 					.append("_input_")
 					.append(index)
