diff --git a/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java b/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
index 15250df60f..388e4363a9 100644
--- a/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/queueing/ComponentQueueingTest.java
@@ -30,6 +30,7 @@ import org.apache.wicket.markup.html.WebMarkupContainer;
 import org.apache.wicket.markup.html.WebPage;
 import org.apache.wicket.markup.html.basic.Label;
 import org.apache.wicket.markup.html.border.Border;
+import org.apache.wicket.markup.html.form.TextField;
 import org.apache.wicket.markup.html.internal.Enclosure;
 import org.apache.wicket.markup.html.link.Link;
 import org.apache.wicket.markup.html.list.ListItem;
@@ -756,6 +757,20 @@ public class ComponentQueueingTest extends WicketTestCase
 		
 		tester.startPage(page);	
 	}
+	
+	@Test
+	public void queueInsideLabelComponent()
+	{
+		TestPage page = new TestPage();
+		page.setPageMarkup("<label wicket:for='input'>"
+				+ "label:"
+				+ "<input wicket:id='input'/>"
+				+ "</label>");
+		
+		page.queue(new TextField<>("input", Model.of("test")));
+		
+		tester.startPage(page);	
+	}
 
 	@Test
 	public void queueNestedEnclosure()
