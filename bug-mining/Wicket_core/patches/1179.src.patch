diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpServletRequest.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpServletRequest.java
index 354d1c03c2..cf8087d33c 100755
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpServletRequest.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpServletRequest.java
@@ -170,13 +170,15 @@ public class MockHttpServletRequest implements HttpServletRequest
 
 	private final ServletContext context;
 
-	private final Map<Cookies.Key, Cookie> cookies = new LinkedHashMap<Cookies.Key, Cookie>();
+	private final Map<Cookies.Key, Cookie> cookies = new LinkedHashMap<>();
 
 	private final ValueMap headers = new ValueMap();
 
 	private String method;
 
-	private final LinkedHashMap<String, String[]> parameters = new LinkedHashMap<String, String[]>();
+	private final LinkedHashMap<String, String[]> parameters = new LinkedHashMap<>();
+
+	private final LinkedHashMap<String, Part> parts = new LinkedHashMap<>();
 
 	private String path;
 
@@ -1228,13 +1230,18 @@ public class MockHttpServletRequest implements HttpServletRequest
 	@Override
 	public Collection<Part> getParts() throws IOException, ServletException
 	{
-		return null;
+		return parts.values();
 	}
 
 	@Override
 	public Part getPart(String name) throws IOException, ServletException
 	{
-		return null;
+		return parts.get(name);
+	}
+
+	public MockHttpServletRequest setPart(String name, Part part) {
+		parts.put(name, part);
+		return this;
 	}
 
 	/**
diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletPartFileItem.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletPartFileItem.java
index 3b04102443..c38de711db 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletPartFileItem.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/servlet/ServletPartFileItem.java
@@ -29,12 +29,13 @@ import org.apache.commons.fileupload.FileItem;
 import org.apache.commons.fileupload.FileItemHeaders;
 import org.apache.commons.fileupload.util.FileItemHeadersImpl;
 import org.apache.wicket.WicketRuntimeException;
+import org.apache.wicket.request.resource.AbstractResource;
 import org.apache.wicket.util.io.IOUtils;
 import org.apache.wicket.util.lang.Args;
 import org.apache.wicket.util.string.Strings;
 
 /**
- * An adapter of {@link Part} to {@link FileItem}
+ * An adapter of Servlet 3.0 {@link Part} to Apache Commons FileUpload's {@link FileItem}
  */
 class ServletPartFileItem implements FileItem
 {
@@ -72,7 +73,7 @@ class ServletPartFileItem implements FileItem
 
 	private String getFileName(Part part)
 	{
-		String contentDisposition = part.getHeader("content-disposition");
+		String contentDisposition = part.getHeader(AbstractResource.CONTENT_DISPOSITION_HEADER_NAME);
 		for (String cd : Strings.split(contentDisposition, ';'))
 		{
 			if (cd.trim().startsWith("filename"))
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
index 5e0798d093..0d412381d4 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
@@ -66,6 +66,8 @@ public abstract class AbstractResource implements IResource
 		private static final long serialVersionUID = 1L;
 	};
 
+	public static final String CONTENT_DISPOSITION_HEADER_NAME = "content-disposition";
+
 	/**
 	 * All available content range types. The type name represents the name used in header
 	 * information.
@@ -76,7 +78,7 @@ public abstract class AbstractResource implements IResource
 
 		private final String typeName;
 
-		private ContentRangeType(String typeName)
+		ContentRangeType(String typeName)
 		{
 			this.typeName = typeName;
 		}
@@ -96,10 +98,9 @@ public abstract class AbstractResource implements IResource
 		INTERNAL_HEADERS.add("last-modified");
 		INTERNAL_HEADERS.add("content-type");
 		INTERNAL_HEADERS.add("content-length");
-		INTERNAL_HEADERS.add("content-disposition");
+		INTERNAL_HEADERS.add(CONTENT_DISPOSITION_HEADER_NAME);
 		INTERNAL_HEADERS.add("transfer-encoding");
 		INTERNAL_HEADERS.add("connection");
-		INTERNAL_HEADERS.add("content-disposition");
 		INTERNAL_HEADERS.add("content-range");
 		INTERNAL_HEADERS.add("accept-range");
 	}
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/FileUploadServletPartTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/FileUploadServletPartTest.java
new file mode 100644
index 0000000000..bd32c9ee0f
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/FileUploadServletPartTest.java
@@ -0,0 +1,150 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.markup.html.form.upload;
+
+import static org.hamcrest.Matchers.is;
+import static org.hamcrest.Matchers.notNullValue;
+import static org.hamcrest.Matchers.nullValue;
+
+import java.io.ByteArrayInputStream;
+import java.io.IOException;
+import java.io.InputStream;
+import java.util.Arrays;
+import java.util.Collection;
+import java.util.LinkedHashMap;
+import java.util.List;
+import java.util.concurrent.atomic.AtomicBoolean;
+import java.util.concurrent.atomic.AtomicReference;
+
+import javax.servlet.http.Part;
+
+import org.apache.wicket.protocol.http.mock.MockHttpServletRequest;
+import org.apache.wicket.request.resource.AbstractResource;
+import org.apache.wicket.util.io.IOUtils;
+import org.apache.wicket.util.tester.FormTester;
+import org.apache.wicket.util.tester.WicketTestCase;
+import org.junit.Test;
+
+
+/**
+ * Test of FileUpload with simulated Servlet 3.0 multipart config
+ */
+public class FileUploadServletPartTest extends WicketTestCase
+{
+	/**
+	 * Tests support for uploading files with Servlet 3.0 multipart upload
+	 * https://issues.apache.org/jira/browse/WICKET-5924
+	 *
+	 * @throws Exception
+	 */
+	@Test
+	public void uploadServlet30Multipart() throws Exception
+	{
+		MockPageWithFormAndUploadField page = tester.startPage(MockPageWithFormAndUploadField.class);
+
+		MockHttpServletRequest httpServletRequest = tester.getRequest();
+		FormTester formTester = tester.newFormTester(MockPageWithFormAndUploadField.FORM_ID);
+		Servlet3Part part = new Servlet3Part(page.fileUploadField.getInputName());
+		httpServletRequest.setPart(MockPageWithFormAndUploadField.FILE_UPLOAD_ID, part);
+		formTester.submit();
+
+		page = (MockPageWithFormAndUploadField) tester.getLastRenderedPage();
+		FileUpload fileUpload = page.getFileUpload();
+		assertArrayEquals(Servlet3Part.DATA, fileUpload.getBytes());
+		assertEquals(Servlet3Part.class.getSimpleName(), fileUpload.getClientFileName());
+		assertEquals(Servlet3Part.CONTENT_TYPE, fileUpload.getContentType());
+		assertArrayEquals(Servlet3Part.DATA, IOUtils.toByteArray(fileUpload.getInputStream()));
+
+		assertThat(part.written.get(), is(nullValue()));
+		fileUpload.writeToTempFile();
+		assertThat(part.written.get(), is(notNullValue()));
+
+		assertThat(part.deleted.get(), is(false));
+		fileUpload.delete();
+		assertThat(part.deleted.get(), is(true));
+	}
+
+	private static class Servlet3Part implements Part
+	{
+		private static final byte[] DATA = new byte[] {1, 2, 3};
+		public static final String CONTENT_TYPE = "text/plain";
+
+		private final AtomicReference<String> written = new AtomicReference<>();
+		private final AtomicBoolean deleted = new AtomicBoolean(false);
+		private final LinkedHashMap<String, List<String>> headers = new LinkedHashMap<>();
+		public final String fieldName;
+
+		private Servlet3Part(String fieldName) {
+			this.fieldName = fieldName;
+			headers.put(AbstractResource.CONTENT_DISPOSITION_HEADER_NAME, Arrays.asList("attachment;filename=" + Servlet3Part.class.getSimpleName()));
+		}
+
+		@Override
+		public InputStream getInputStream() throws IOException
+		{
+			return new ByteArrayInputStream(DATA);
+		}
+
+		@Override
+		public String getContentType()
+		{
+			return CONTENT_TYPE;
+		}
+
+		@Override
+		public String getName()
+		{
+			return fieldName;
+		}
+
+		@Override
+		public long getSize()
+		{
+			return DATA.length;
+		}
+
+		@Override
+		public void write(String fileName) throws IOException
+		{
+			written.set(fileName);
+		}
+
+		@Override
+		public void delete() throws IOException
+		{
+			deleted.set(true);
+		}
+
+		@Override
+		public String getHeader(String name)
+		{
+			return headers.containsKey(name) ? headers.get(name).get(0) : null;
+		}
+
+		@Override
+		public Collection<String> getHeaders(String name)
+		{
+			return headers.get(name);
+		}
+
+		@Override
+		public Collection<String> getHeaderNames()
+		{
+			return headers.keySet();
+		}
+	}
+}
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/MockPageWithFormAndUploadField.java b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/MockPageWithFormAndUploadField.java
index ab58b26a95..75806bade4 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/MockPageWithFormAndUploadField.java
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/html/form/upload/MockPageWithFormAndUploadField.java
@@ -30,6 +30,9 @@ public class MockPageWithFormAndUploadField extends WebPage
 {
 	private static final long serialVersionUID = 1L;
 
+	public static final String FILE_UPLOAD_ID = "upload";
+	public static final String FORM_ID = "form";
+
 	private final Form<?> form;
 	protected final FileUploadField fileUploadField;
 	private FileUpload fileUpload;
@@ -41,13 +44,8 @@ public class MockPageWithFormAndUploadField extends WebPage
 	{
 		final ListModel<FileUpload> model = new ListModel<FileUpload>();
 
-		form = new StatelessForm<Void>("form")
+		form = new StatelessForm<Void>(FORM_ID)
 		{
-			/**
-			 * 
-			 */
-			private static final long serialVersionUID = 1L;
-
 			@Override
 			protected void onSubmit()
 			{
@@ -61,7 +59,7 @@ public class MockPageWithFormAndUploadField extends WebPage
 				}
 			}
 		};
-		fileUploadField = new FileUploadField("upload", model);
+		fileUploadField = new FileUploadField(FILE_UPLOAD_ID, model);
 		form.add(fileUploadField);
 		add(form);
 	}
