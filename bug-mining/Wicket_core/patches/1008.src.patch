diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/AjaxEnclosureListener.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/AjaxEnclosureListener.java
index f07be63676..5cbbf31f9e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/AjaxEnclosureListener.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/AjaxEnclosureListener.java
@@ -107,6 +107,7 @@ public class AjaxEnclosureListener extends AjaxRequestTarget.AbstractListener
 	private boolean isControllerOfEnclosure(final Component component,
 		final InlineEnclosure enclosure)
 	{
-		return enclosure.getParent().get(enclosure.getChildId()) == component;
+		return (enclosure.get(enclosure.getChildId()) == component || // #queue()
+				enclosure.getParent().get(enclosure.getChildId()) == component); // #add()
 	}
 }
