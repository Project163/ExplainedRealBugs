diff --git a/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js b/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
index 0f8a67fcbe..aff555639e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
+++ b/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js
@@ -1182,12 +1182,11 @@
 
 			var evaluateWithManualNotify = function (parameters, body) {
 				return function(notify) {
-					var f = jQuery.noop;
-					var toExecute = "f = function(" + parameters + ") {" + body + "};";
+					var toExecute = "(function(" + parameters + ") {" + body + "})";
 
 					try {
 						// do the evaluation in global scope
-						window.eval(toExecute);
+						var f = window.eval(toExecute);
 						f(notify);
 					} catch (exception) {
 						log.error("Wicket.Ajax.Call.processEvaluation: Exception evaluating javascript: " + exception + ", text: " + text);
diff --git a/wicket-core/src/test/js/ajax.js b/wicket-core/src/test/js/ajax.js
index d36d6da4cc..c66ef6dd08 100644
--- a/wicket-core/src/test/js/ajax.js
+++ b/wicket-core/src/test/js/ajax.js
@@ -121,18 +121,11 @@ jQuery(document).ready(function() {
 		 */
 		asyncTest('processEvaluation*s* with identifier|code.', function () {
 
-			expect(7);
+			expect(6);
 
 			var attrs = {
 				u: 'data/ajax/twoEvaluationsWithIdentifier.xml',
-				c: 'twoEvaluationsWithIdentifier',
-				counter: 0,
-				coh: [
-					function(attrs) {
-						start();
-						equal(attrs.counter, 3, "The counter is incremented in both evaluations with and without manual notifying");
-					}
-				]
+				c: 'twoEvaluationsWithIdentifier'
 			};
 			execute(attrs);
 		});
diff --git a/wicket-core/src/test/js/data/ajax/twoEvaluationsWithIdentifier.xml b/wicket-core/src/test/js/data/ajax/twoEvaluationsWithIdentifier.xml
index 12706d9bf0..92847bb438 100644
--- a/wicket-core/src/test/js/data/ajax/twoEvaluationsWithIdentifier.xml
+++ b/wicket-core/src/test/js/data/ajax/twoEvaluationsWithIdentifier.xml
@@ -15,4 +15,4 @@
    See the License for the specific language governing permissions and
    limitations under the License.
 -->
-<ajax-response><evaluate>(function(){notify|context.attrs.counter++; ok(true, 'Evaluation1 with identifier must be executed!'); equal(typeof(notify), 'function', 'The passed identifier1 must be a function'); notify();})();(function(){context.attrs.counter++;ok(true, 'Evaluation2 without identifier must be executed!');})();(function(){notify|context.attrs.counter++;ok(true, 'Evaluation3 with identifier must be executed!'); equal(typeof(notify), 'function', 'The passed identifier3 must be a function'); notify();})();</evaluate></ajax-response>
\ No newline at end of file
+<ajax-response><evaluate>(function(){notify|ok(true, 'Evaluation1 with identifier must be executed!'); equal(typeof(notify), 'function', 'The passed identifier1 must be a function'); notify();})();(function(){ok(true, 'Evaluation2 without identifier must be executed!');})();(function(){notify|start();ok(true, 'Evaluation3 with identifier must be executed!'); equal(typeof(notify), 'function', 'The passed identifier3 must be a function'); notify();})();</evaluate></ajax-response>
\ No newline at end of file
