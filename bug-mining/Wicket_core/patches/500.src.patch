diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/MarkupParser.java b/wicket-core/src/main/java/org/apache/wicket/markup/MarkupParser.java
index 191a5f6223..429e0d1cc7 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/MarkupParser.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/MarkupParser.java
@@ -169,7 +169,7 @@ public class MarkupParser extends AbstractMarkupParser
 		}
 
 		filters.add(new OpenCloseTagExpander());
-		filters.add(new RelativePathPrefixHandler());
+		filters.add(new RelativePathPrefixHandler(markupResourceStream));
 		filters.add(new EnclosureHandler());
 		filters.add(new InlineEnclosureHandler());
 		filters.add(new StyleAndScriptIdentifier(markup));
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/parser/filter/RelativePathPrefixHandler.java b/wicket-core/src/main/java/org/apache/wicket/markup/parser/filter/RelativePathPrefixHandler.java
index e9ee49959b..47f9f89c98 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/parser/filter/RelativePathPrefixHandler.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/parser/filter/RelativePathPrefixHandler.java
@@ -23,6 +23,8 @@ import org.apache.wicket.MarkupContainer;
 import org.apache.wicket.behavior.Behavior;
 import org.apache.wicket.markup.ComponentTag;
 import org.apache.wicket.markup.MarkupElement;
+import org.apache.wicket.markup.MarkupParser;
+import org.apache.wicket.markup.MarkupResourceStream;
 import org.apache.wicket.markup.MarkupStream;
 import org.apache.wicket.markup.WicketTag;
 import org.apache.wicket.markup.html.TransparentWebMarkupContainer;
@@ -95,6 +97,27 @@ public final class RelativePathPrefixHandler extends AbstractMarkupFilter
 		}
 	};
 
+	/** The markup created by reading the markup file */
+	private final MarkupResourceStream markup;
+
+	/**
+	 * Constructor for the IComponentResolver role.
+	 */
+	public RelativePathPrefixHandler()
+	{
+		this(null);
+	}
+
+	/**
+	 * Constructor for the IMarkupFilter role
+	 * @param markup
+	 *      The markup created by reading the markup file
+	 */
+	public RelativePathPrefixHandler(final MarkupResourceStream markup)
+	{
+		this.markup = markup;
+	}
+
 	@Override
 	protected final MarkupElement onComponentTag(ComponentTag tag) throws ParseException
 	{
@@ -103,9 +126,11 @@ public final class RelativePathPrefixHandler extends AbstractMarkupFilter
 			return tag;
 		}
 
+		String wicketIdAttr = getWicketNamespace() + ":" + "id";
+
 		// Don't touch any wicket:id component and any auto-components
 		if ((tag instanceof WicketTag) || (tag.isAutolinkEnabled() == true) ||
-			(tag.getAttributes().get("wicket:id") != null))
+			(tag.getAttributes().get(wicketIdAttr) != null))
 		{
 			return tag;
 		}
@@ -148,4 +173,17 @@ public final class RelativePathPrefixHandler extends AbstractMarkupFilter
 		}
 		return null;
 	}
+
+	private String getWicketNamespace()
+	{
+		String wicketNamespace;
+		if (markup != null)
+		{
+			wicketNamespace = markup.getWicketNamespace();
+		}
+		else {
+			wicketNamespace = MarkupParser.WICKET;
+		}
+		return wicketNamespace;
+	}
 }
