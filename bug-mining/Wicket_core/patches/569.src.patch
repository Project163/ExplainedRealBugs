diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/parser/TagAttributes.java b/wicket-core/src/main/java/org/apache/wicket/markup/parser/TagAttributes.java
index 6f9719d185..041b0cdb95 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/parser/TagAttributes.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/parser/TagAttributes.java
@@ -54,7 +54,7 @@ public class TagAttributes extends ValueMap
 	public final Object put(String key, Object value)
 	{
 
-		return super.put(key, unescapeHtml(value));
+		return super.put(key, value);
 	}
 
 	@Override
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/parser/XmlPullParser.java b/wicket-core/src/main/java/org/apache/wicket/markup/parser/XmlPullParser.java
index 0ec91c9776..93c57d00f1 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/parser/XmlPullParser.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/parser/XmlPullParser.java
@@ -31,6 +31,7 @@ import org.apache.wicket.util.lang.Args;
 import org.apache.wicket.util.parse.metapattern.parsers.TagNameParser;
 import org.apache.wicket.util.parse.metapattern.parsers.VariableAssignmentParser;
 import org.apache.wicket.util.resource.ResourceStreamNotFoundException;
+import org.apache.wicket.util.string.Strings;
 
 /**
  * A fairly shallow markup pull parser which parses a markup string of a given type of markup (for
@@ -665,6 +666,9 @@ public final class XmlPullParser implements IXmlPullParser
 				// Trim trailing whitespace
 				value = value.trim();
 
+				// Unescape
+				value = Strings.unescapeMarkup(value).toString();
+
 				// Get key
 				final String key = attributeParser.getKey();
 
diff --git a/wicket-core/src/test/java/org/apache/wicket/markup/ComponentTagAttributeEscapingTest.java b/wicket-core/src/test/java/org/apache/wicket/markup/ComponentTagAttributeEscapingTest.java
index 8938e7b20e..f0de6cd292 100644
--- a/wicket-core/src/test/java/org/apache/wicket/markup/ComponentTagAttributeEscapingTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/markup/ComponentTagAttributeEscapingTest.java
@@ -45,8 +45,8 @@ public class ComponentTagAttributeEscapingTest extends WicketTestCase
 		assertTrue("must not be double escaped", response.contains("Watch escaped value: &gt;&gt;"));
 		assertTrue("following the last assert logic, this one would true",
 			response.contains("alerting: &amp;"));
-		assertTrue("not double escape manually add attributes",
-			response.contains("some_attribute=\"&amp;\""));
+		assertTrue("escape manually added attributes",
+			response.contains("some_attribute=\"&amp;amp;\""));
 	}
 
 	/**
