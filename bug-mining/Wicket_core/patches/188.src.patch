diff --git a/wicket-core/src/main/java/org/apache/wicket/page/PersistentPageManager.java b/wicket-core/src/main/java/org/apache/wicket/page/PersistentPageManager.java
index d5089bc35b..c9fd4731e9 100644
--- a/wicket-core/src/main/java/org/apache/wicket/page/PersistentPageManager.java
+++ b/wicket-core/src/main/java/org/apache/wicket/page/PersistentPageManager.java
@@ -218,26 +218,29 @@ public class PersistentPageManager extends AbstractPageManager
 			s.defaultWriteObject();
 
 			// prepare for serialization and store the pages
-			List<Serializable> l = new ArrayList<Serializable>();
-			IPageStore pageStore = getPageStore();
-			for (IManageablePage p : pages)
+			List<Serializable> serializedPages = new ArrayList<Serializable>();
+			if (pages != null)
 			{
-				Serializable preparedPage;
-				if (pageStore != null)
-				{
-					preparedPage = pageStore.prepareForSerialization(sessionId, p);
-				}
-				else
-				{
-					preparedPage = p;
-				}
-
-				if (preparedPage != null)
+				IPageStore pageStore = getPageStore();
+				for (IManageablePage p : pages)
 				{
-					l.add(preparedPage);
+					Serializable preparedPage;
+					if (pageStore != null)
+					{
+						preparedPage = pageStore.prepareForSerialization(sessionId, p);
+					}
+					else
+					{
+						preparedPage = p;
+					}
+
+					if (preparedPage != null)
+					{
+						serializedPages.add(preparedPage);
+					}
 				}
 			}
-			s.writeObject(l);
+			s.writeObject(serializedPages);
 		}
 
 		/**
