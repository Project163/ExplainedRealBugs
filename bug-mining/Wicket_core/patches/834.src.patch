diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/UrlResourceReference.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/UrlResourceReference.java
index 98e76c9036..8cf7586abf 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/UrlResourceReference.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/UrlResourceReference.java
@@ -45,7 +45,8 @@ public class UrlResourceReference extends ResourceReference
 		@Override
 		public String renderFullUrl(Url url, Url baseUrl)
 		{
-			return url.toString(StringMode.FULL);
+			StringMode mode = getStringMode(url);
+			return url.toString(mode);
 		}
 
 		@Override
@@ -132,8 +133,22 @@ public class UrlResourceReference extends ResourceReference
 	public String toString()
 	{
 		return "UrlResourceReference{" +
-				"url=" + url.toString(Url.StringMode.FULL) +
+				"url=" + url.toString(getStringMode(url)) +
 				", contextRelative=" + contextRelative +
 				'}';
 	}
+
+	private static Url.StringMode getStringMode(Url url)
+	{
+		final Url.StringMode mode;
+		if (url.isFull())
+		{
+			mode = Url.StringMode.FULL;
+		}
+		else
+		{
+			mode = Url.StringMode.LOCAL;
+		}
+		return mode;
+	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/request/resource/UrlResourceReferenceTest.java b/wicket-core/src/test/java/org/apache/wicket/request/resource/UrlResourceReferenceTest.java
index 62fb31a5aa..3405b22d11 100644
--- a/wicket-core/src/test/java/org/apache/wicket/request/resource/UrlResourceReferenceTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/request/resource/UrlResourceReferenceTest.java
@@ -57,6 +57,19 @@ public class UrlResourceReferenceTest extends WicketTestCase
 		assertNull(reference.getResource());
 	}
 
+	@Test
+	public void contextAbsoluteUrl()
+	{
+		Url url = Url.parse("/some/path.ext");
+		UrlResourceReference reference = new UrlResourceReference(url);
+		assertEquals(url, reference.getUrl());
+		assertNull(reference.getResource());
+
+		CharSequence _url = tester.getRequestCycle().urlFor(reference, null);
+		assertEquals(url.toString(), _url);
+		assertNull(reference.getResource());
+	}
+
 	@Test(expected = IllegalStateException.class)
 	public void cannotMakeAnAbsoluteUrlContextRelative()
 	{
