diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
index 50ef087993..fe32cab0b8 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/AbstractResource.java
@@ -733,23 +733,22 @@ public abstract class AbstractResource implements IResource
 			String range = rangeHeader.substring(rangeHeader.indexOf('=') + 1,
 					rangeHeader.length());
 			
-			// Due to WICKET-5995 it is required to check if several ranges are specified
-			// because of streams in java only the first given range can be used to read them.
-			String firstRange = range.contains(",") ? range.substring(0, range.indexOf(',')) : range;
+			// support only the first range (WICKET-5995)
+			final int idxOfComma = range.indexOf(',');
+			String firstRange = idxOfComma > -1 ? range.substring(0, idxOfComma) : range;
 
 			String[] rangeParts = Strings.split(firstRange, '-');
 
 			String startByteString = rangeParts[0];
 			String endByteString = rangeParts[1];
 
-			Long startbyte = startByteString != null && !startByteString.trim().equals("")
-					? Long.parseLong(startByteString) : 0;
-			Long endbyte = endByteString != null && !endByteString.trim().equals("")
-					? Long.parseLong(endByteString) : -1;
+			long startbyte = !Strings.isEmpty(startByteString) ? Long.parseLong(startByteString) : 0;
+			long endbyte = !Strings.isEmpty(endByteString) ? Long.parseLong(endByteString) : -1;
 
 			// Make the content range information available for the whole request cycle
-			RequestCycle.get().setMetaData(CONTENT_RANGE_STARTBYTE, startbyte);
-			RequestCycle.get().setMetaData(CONTENT_RANGE_ENDBYTE, endbyte);
+			RequestCycle requestCycle = RequestCycle.get();
+			requestCycle.setMetaData(CONTENT_RANGE_STARTBYTE, startbyte);
+			requestCycle.setMetaData(CONTENT_RANGE_ENDBYTE, endbyte);
 		}
 	}
 
