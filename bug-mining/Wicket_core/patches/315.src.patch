diff --git a/wicket-core/src/main/java/org/apache/wicket/SharedResources.java b/wicket-core/src/main/java/org/apache/wicket/SharedResources.java
index c5ea87bfbe..0173ac9399 100644
--- a/wicket-core/src/main/java/org/apache/wicket/SharedResources.java
+++ b/wicket-core/src/main/java/org/apache/wicket/SharedResources.java
@@ -20,6 +20,7 @@ import java.util.Locale;
 
 import org.apache.wicket.request.resource.IResource;
 import org.apache.wicket.request.resource.ResourceReference;
+import org.apache.wicket.request.resource.ResourceReference.Key;
 import org.apache.wicket.request.resource.ResourceReferenceRegistry;
 
 /**
@@ -46,13 +47,16 @@ public class SharedResources
 		this.registry = registry;
 	}
 
-	private static final class SharedResourceReference extends ResourceReference
+	/**
+	 * A {@link ResourceReference} that is used to register a reference to a known {@link IResource}
+	 */
+	private static final class AutoResourceReference extends ResourceReference
 	{
 		private static final long serialVersionUID = 1L;
 
 		private final IResource resource;
 
-		public SharedResourceReference(Class<?> scope, String name, Locale locale, String style,
+		private AutoResourceReference(Class<?> scope, String name, Locale locale, String style,
 			String variation, IResource resource)
 		{
 			super(scope, name, locale, style, variation);
@@ -85,7 +89,7 @@ public class SharedResources
 	public final void add(final Class<?> scope, final String name, final Locale locale,
 		final String style, final String variation, final IResource resource)
 	{
-		ResourceReference ref = new SharedResourceReference(scope, name, locale, style, variation,
+		ResourceReference ref = new AutoResourceReference(scope, name, locale, style, variation,
 			resource);
 		registry.registerResourceReference(ref);
 	}
@@ -122,16 +126,37 @@ public class SharedResources
 	 * Resolves a {@link ResourceReference} for a shared resource.
 	 * 
 	 * @param scope
+	 *            Scope of resource
 	 * @param name
+	 *            Logical name of resource
 	 * @param locale
+	 *            The locale of the resource
 	 * @param style
+	 *            The resource style (see {@link org.apache.wicket.Session})
 	 * @param variation
+	 *            The component specific variation of the style
 	 * @param strict
-	 * @return resource reference
+	 *            If true, "weaker" combination of scope, name, locale etc. are not tested
+	 * @return Either the resource reference found in the registry or, if requested, a resource
+	 *         reference automatically created based on the parameters provided. The automatically
+	 *         created resource reference will automatically be added to the registry.
 	 */
 	public ResourceReference get(Class<?> scope, String name, Locale locale, String style,
 		String variation, boolean strict)
 	{
 		return registry.getResourceReference(scope, name, locale, style, variation, strict, true);
 	}
+
+	/**
+	 * Removes a resource.
+	 * 
+	 * @param key
+	 *            the resource reference's identifier
+	 * @return the removed {@link ResourceReference}. {@code null} if there was no registration for
+	 *         this {@link Key}
+	 */
+	public final ResourceReference remove(final Key key)
+	{
+		return registry.unregisterResourceReference(key);
+	}
 }
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceReferenceRegistry.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceReferenceRegistry.java
index 6c07385e78..be5b45e3de 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceReferenceRegistry.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/ResourceReferenceRegistry.java
@@ -107,29 +107,24 @@ public class ResourceReferenceRegistry
 		if (reference.canBeRegistered())
 		{
 			Key key = reference.getKey();
-			if (map.containsKey(key) == false)
-			{
-				map.put(key, reference);
-			}
-
+			map.putIfAbsent(key, reference);
 			return key;
 		}
 
-		log.warn("Resource reference not added to registry. reference.canBeRegistered() == false");
+		log.warn("{} cannot be added to the registry.", reference.getClass().getName());
 		return null;
 	}
 
 	/**
 	 * Unregisters the given {@link ResourceReference}.
 	 * 
-	 * @param reference
+	 * @param key
+	 *            the {@link ResourceReference}'s identifier
 	 * @return Null, if the registry did not contain an entry for the resource reference.
 	 */
-	public final ResourceReference unregisterResourceReference(final ResourceReference reference)
+	public final ResourceReference unregisterResourceReference(final Key key)
 	{
-		Args.notNull(reference, "reference");
-
-		Key key = reference.getKey();
+		Args.notNull(key, "key");
 
 		// remove from registry
 		ResourceReference removed = map.remove(key);
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/resource/SharedResourceReference.java b/wicket-core/src/main/java/org/apache/wicket/request/resource/SharedResourceReference.java
index d63ec7e096..0b9258a78f 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/resource/SharedResourceReference.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/resource/SharedResourceReference.java
@@ -23,7 +23,14 @@ import javax.servlet.http.HttpServletResponse;
 import org.apache.wicket.Application;
 
 /**
- * TODO javadoc
+ * A {@link ResourceReference} which should be used to lookup a {@link IResource} from the globally
+ * registered ones (also known as application shared resources). If there is no shared resource with
+ * such {@link Key key} then it checks whether there is a {@link PackageResource} with this
+ * {@link Key key} and registers it automatically if it exists.
+ * <p>
+ * Note: Cannot be registered in {@link ResourceReferenceRegistry} because
+ * {@link SharedResourceReference} is just a shortcut to the {@link IResource resource} of another
+ * {@link ResourceReference}
  */
 public class SharedResourceReference extends ResourceReference
 {
@@ -33,15 +40,15 @@ public class SharedResourceReference extends ResourceReference
 	 * Construct.
 	 * 
 	 * @param scope
-	 *            mandatory parameter
+	 *            Scope of resource
 	 * @param name
-	 *            mandatory parameter
+	 *            Logical name of resource
 	 * @param locale
-	 *            resource locale
+	 *            The locale of the resource
 	 * @param style
-	 *            resource style
+	 *            The resource style (see {@link org.apache.wicket.Session})
 	 * @param variation
-	 *            resource variation
+	 *            The component specific variation of the style
 	 */
 	public SharedResourceReference(Class<?> scope, String name, Locale locale, String style,
 		String variation)
@@ -53,9 +60,9 @@ public class SharedResourceReference extends ResourceReference
 	 * Construct.
 	 * 
 	 * @param scope
-	 *            mandatory parameter
+	 *            Scope of resource
 	 * @param name
-	 *            mandatory parameter
+	 *            Logical name of resource
 	 */
 	public SharedResourceReference(Class<?> scope, String name)
 	{
@@ -103,7 +110,7 @@ public class SharedResourceReference extends ResourceReference
 		else
 		{
 			throw new IllegalStateException(
-				"SharedResourceReference can not be registered globally.");
+				"SharedResourceReference can not be registered globally. See the documentation of this class.");
 		}
 	}
 
diff --git a/wicket-core/src/test/java/org/apache/wicket/request/resource/ResourceReferenceRegistryTest.java b/wicket-core/src/test/java/org/apache/wicket/request/resource/ResourceReferenceRegistryTest.java
new file mode 100644
index 0000000000..6dd80881dd
--- /dev/null
+++ b/wicket-core/src/test/java/org/apache/wicket/request/resource/ResourceReferenceRegistryTest.java
@@ -0,0 +1,62 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.request.resource;
+
+import org.junit.Assert;
+import org.junit.Test;
+
+/**
+ * Tests for {@link ResourceReferenceRegistry}
+ */
+public class ResourceReferenceRegistryTest extends Assert
+{
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-3890
+	 */
+	@Test
+	public void addRemove()
+	{
+		ResourceReferenceRegistry registry = new ResourceReferenceRegistry();
+		assertEquals(0, registry.getSize());
+
+		ResourceReference reference = new PackageResourceReference(
+			ResourceReferenceRegistryTest.class, "test");
+		registry.registerResourceReference(reference);
+		assertEquals(1, registry.getSize());
+
+		registry.unregisterResourceReference(reference.getKey());
+		assertEquals(0, registry.getSize());
+	}
+
+	/**
+	 * {@link SharedResourceReference} cannot be added in {@link ResourceReferenceRegistry}. It is
+	 * just a shortcut to find already registered {@link IResource} or to create a new
+	 * {@link PackageResource} and register it
+	 */
+	@Test
+	public void addSharedResourceReference()
+	{
+		ResourceReferenceRegistry registry = new ResourceReferenceRegistry();
+		assertEquals(0, registry.getSize());
+
+		ResourceReference reference = new SharedResourceReference(
+			ResourceReferenceRegistryTest.class, "test");
+		registry.registerResourceReference(reference);
+		assertEquals(0, registry.getSize());
+	}
+}
