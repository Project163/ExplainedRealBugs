diff --git a/wicket-core/src/main/java/org/apache/wicket/Session.java b/wicket-core/src/main/java/org/apache/wicket/Session.java
index 66cb96bc4f..8c5ed5c980 100644
--- a/wicket-core/src/main/java/org/apache/wicket/Session.java
+++ b/wicket-core/src/main/java/org/apache/wicket/Session.java
@@ -33,7 +33,6 @@ import org.apache.wicket.feedback.FeedbackMessages;
 import org.apache.wicket.page.IPageManager;
 import org.apache.wicket.request.ClientInfo;
 import org.apache.wicket.request.Request;
-import org.apache.wicket.request.cycle.AbstractRequestCycleListener;
 import org.apache.wicket.request.cycle.RequestCycle;
 import org.apache.wicket.session.ISessionStore;
 import org.apache.wicket.util.lang.Objects;
@@ -458,18 +457,6 @@ public abstract class Session implements IClusterable, IEventSink
 	 */
 	public void invalidate()
 	{
-		if (sessionInvalidated == false)
-		{
-			RequestCycle.get().getListeners().add(new AbstractRequestCycleListener()
-			{
-				@Override
-				public void onDetach(final RequestCycle cycle)
-				{
-					detach();
-				}
-			});
-		}
-
 		sessionInvalidated = true;
 	}
 
@@ -633,7 +620,6 @@ public abstract class Session implements IClusterable, IEventSink
 		if (sessionInvalidated)
 		{
 			invalidateNow();
-			sessionInvalidated = false;
 		}
 	}
 
diff --git a/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java b/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
index f1208b6ac6..bca16b9692 100644
--- a/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
+++ b/wicket-core/src/main/java/org/apache/wicket/request/cycle/RequestCycle.java
@@ -513,8 +513,6 @@ public class RequestCycle implements IRequestCycle, IEventSink
 	 */
 	public void onDetach()
 	{
-
-
 		if (cleanupFeedbackMessagesOnDetach)
 		{
 			if (Session.exists())
@@ -523,11 +521,6 @@ public class RequestCycle implements IRequestCycle, IEventSink
 			}
 		}
 
-		if (Session.exists())
-		{
-			Session.get().detach();
-		}
-
 		try
 		{
 			onEndRequest();
@@ -546,6 +539,12 @@ public class RequestCycle implements IRequestCycle, IEventSink
 		{
 			listeners.onDetach(this);
 		}
+
+		if (Session.exists())
+		{
+			Session.get().detach();
+		}
+
 	}
 
 	/**
