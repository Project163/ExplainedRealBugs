diff --git a/wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js b/wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
index 26ede6b926..bfed3def2e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
+++ b/wicket-core/src/main/java/org/apache/wicket/ajax/wicket-ajax.js
@@ -323,7 +323,12 @@ Wicket.replaceOuterHtmlSafari = function(element, text) {
 	}
 	var parent = element.parentNode;
 	var next = element.nextSibling;
-	
+
+	while (next !== null && next.nodeType == 3) {
+		// ignore text nodes
+		next = next.nextSibling;
+	}
+
 	var index = 0;
 	while (parent.childNodes[index] != element) {
 		++index;
