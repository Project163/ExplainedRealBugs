diff --git a/wicket-core/src/main/java/org/apache/wicket/resource/CssUrlReplacer.java b/wicket-core/src/main/java/org/apache/wicket/resource/CssUrlReplacer.java
index ab0f45f645..a19fe2e354 100644
--- a/wicket-core/src/main/java/org/apache/wicket/resource/CssUrlReplacer.java
+++ b/wicket-core/src/main/java/org/apache/wicket/resource/CssUrlReplacer.java
@@ -108,6 +108,11 @@ public class CssUrlReplacer implements IScopeAwareTextResourceProcessor, ICssCom
 			{
 				processedUrl = imageCandidateUrl.toString();
 			}
+			else if (imageCandidateUrl.isDataUrl())
+			{
+				embedded = true;
+				processedUrl = imageCandidateUrl.toString();
+			}
 			else
 			{
 				// relativize against the url for the containing CSS file
@@ -139,6 +144,8 @@ public class CssUrlReplacer implements IScopeAwareTextResourceProcessor, ICssCom
 				}
 
 			}
+
+			// embedded data urls don't need single quotes, but regular urls do:
 			matcher.appendReplacement(output,
 				embedded ? "url(" + processedUrl + ")" : "url('" + processedUrl + "')");
 		}
diff --git a/wicket-core/src/test/java/org/apache/wicket/resource/CssUrlReplacerTest.java b/wicket-core/src/test/java/org/apache/wicket/resource/CssUrlReplacerTest.java
index 5503e4cd43..5681eaa790 100644
--- a/wicket-core/src/test/java/org/apache/wicket/resource/CssUrlReplacerTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/resource/CssUrlReplacerTest.java
@@ -35,8 +35,6 @@ import org.apache.wicket.util.tester.WicketTestCase;
 import org.junit.Before;
 import org.junit.Test;
 
-import java.util.Locale;
-
 public class CssUrlReplacerTest extends WicketTestCase
 {
 
@@ -91,6 +89,18 @@ public class CssUrlReplacerTest extends WicketTestCase
 		assertThat(processed, is(input));
 	}
 
+	@Test
+	public void doNotProcessDataUrls_WICKET_6290()
+	{
+		String input = ".class {background-image: url(data:image/gif;base64,R0lGODlhEAAQAMQAAORHH);}";
+		Class<?> scope = CssUrlReplacerTest.class;
+		String cssRelativePath = "res/css/some.css";
+		CssUrlReplacer replacer = new CssUrlReplacer();
+
+		String processed = replacer.process(input, scope, cssRelativePath);
+		assertThat(processed, is(input));
+	}
+
 	@Test
 	public void doNotProcessContextAbsoluteUrls()
 	{
