diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
index 3141ae0253..9f244905ca 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/StatelessFormTest.java
@@ -24,8 +24,6 @@ import org.apache.wicket.stateless.pages.HomePage;
 import org.apache.wicket.stateless.pages.LoginPage;
 import org.apache.wicket.util.tester.FormTester;
 import org.apache.wicket.util.tester.WicketTester;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
 
 /**
  * 
@@ -33,25 +31,28 @@ import org.slf4j.LoggerFactory;
  */
 public class StatelessFormTest extends TestCase
 {
-	private static final Logger log = LoggerFactory.getLogger(StatelessFormTest.class);
-
 	private final Class<? extends Page> HOME = HomePage.class;
 	private final Class<? extends Page> LOGIN = LoginPage.class;
 
+	private WicketTester createTester()
+	{
+		return new WicketTester(new MockApplication()
+			{
+				@Override
+				public Class<? extends Page> getHomePage()
+				{
+					return HOME;
+				}
+	
+			});
+	}
+
 	/**
 	 * Login through the login page.
 	 */
 	public void testLogin()
 	{
-		WicketTester tester = new WicketTester(new MockApplication()
-		{
-			@Override
-			public Class<? extends Page> getHomePage()
-			{
-				return HOME;
-			}
-
-		});
+		WicketTester tester = createTester();
 
 		try
 		{
@@ -69,4 +70,39 @@ public class StatelessFormTest extends TestCase
 		}
 	}
 
+	/**
+	 * test initialization of component on stateless components
+	 */
+	public void testOnInitializationForStatelessComponents()
+	{
+		WicketTester tester = createTester();
+
+		try
+		{
+			LoginPage page = new LoginPage();
+			assertFalse(page.isPageInitialized());
+			assertFalse(page.isPanelInitialized());
+
+			tester.startPage(LOGIN);
+			tester.assertRenderedPage(LOGIN);
+			page = (LoginPage)tester.getLastRenderedPage();
+			assertTrue(page.isPageInitialized());
+			assertTrue(page.isPanelInitialized());
+			
+			FormTester form = tester.newFormTester("signInPanel:signInForm");
+			form.setValue("username", "test");
+			form.setValue("password", "invalid");
+			form.submit();
+			
+			tester.assertRenderedPage(LOGIN);
+			page = (LoginPage)tester.getLastRenderedPage();
+			assertTrue(page.isPageInitialized());
+			assertTrue(page.isPanelInitialized());
+		}
+		finally
+		{
+			tester.destroy();
+		}
+	}
+
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/pages/LoginPage.java b/wicket-core/src/test/java/org/apache/wicket/stateless/pages/LoginPage.java
index 1f52d95258..a626716ed2 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/pages/LoginPage.java
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/pages/LoginPage.java
@@ -27,6 +27,9 @@ public class LoginPage extends WebPage
 
 	private static final long serialVersionUID = 1L;
 
+	private boolean pageInitialized = false;
+	private boolean panelInitialized = false;
+	
 
 	/**
 	 * Constructor.
@@ -38,15 +41,40 @@ public class LoginPage extends WebPage
 		newUserPasswordSignInPanel(panelId);
 	}
 
+	@Override
+	protected void onInitialize()
+	{
+		super.onInitialize();
+		pageInitialized = true;
+	}
+
+	public boolean isPageInitialized()
+	{
+		return pageInitialized;
+	}
+
+	public boolean isPanelInitialized()
+	{
+		return panelInitialized;
+	}
+
 	/**
 	 * Creates a sign in panel on institutions that rely solely on their authentication username /
 	 * password.
 	 * 
 	 * @param panelId
-	 * @param info
 	 */
 	private void newUserPasswordSignInPanel(String panelId)
 	{
-		add(new UsernamePasswordSignInPanel(panelId));
+		add(new UsernamePasswordSignInPanel(panelId)
+		{
+			@Override
+			protected void onInitialize()
+			{
+				super.onInitialize();
+				panelInitialized = true;
+				
+			}
+		});
 	}
 }
diff --git a/wicket-core/src/test/java/org/apache/wicket/stateless/pages/UsernamePasswordSignInPanel.java b/wicket-core/src/test/java/org/apache/wicket/stateless/pages/UsernamePasswordSignInPanel.java
index 1ec98d0645..86dec4ea61 100644
--- a/wicket-core/src/test/java/org/apache/wicket/stateless/pages/UsernamePasswordSignInPanel.java
+++ b/wicket-core/src/test/java/org/apache/wicket/stateless/pages/UsernamePasswordSignInPanel.java
@@ -29,8 +29,6 @@ import org.apache.wicket.model.CompoundPropertyModel;
 import org.apache.wicket.model.PropertyModel;
 import org.apache.wicket.util.value.IValueMap;
 import org.apache.wicket.util.value.ValueMap;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
 
 
 /**
@@ -42,9 +40,6 @@ public class UsernamePasswordSignInPanel extends Panel
 	/** */
 	private static final long serialVersionUID = 1L;
 
-	/** */
-	private static final Logger log = LoggerFactory.getLogger(UsernamePasswordSignInPanel.class);
-
 	/**
 	 * Constructor.
 	 * 
@@ -67,7 +62,7 @@ public class UsernamePasswordSignInPanel extends Panel
 	 */
 	public boolean signIn(String username, String password)
 	{
-		return true;
+		return username.equals(password);
 	}
 
 	/**
@@ -107,9 +102,6 @@ public class UsernamePasswordSignInPanel extends Panel
 				"rememberMe")));
 		}
 
-		/**
-		 * @see wicket.markup.html.form.Form#onSubmit()
-		 */
 		@Override
 		public final void onSubmit()
 		{
