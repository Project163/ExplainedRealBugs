diff --git a/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java b/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
index 988243a49f..65b42ca51e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
+++ b/wicket-core/src/main/java/org/apache/wicket/protocol/http/WebApplication.java
@@ -888,6 +888,8 @@ public abstract class WebApplication extends Application
 	}
 
 	/**
+	 * Store the buffered response at application level to use it at a later time.
+	 * NOTE: the method requires a not-null session id, otherwise it just returns.
 	 * 
 	 * @param sessionId
 	 * @param url
@@ -895,6 +897,11 @@ public abstract class WebApplication extends Application
 	 */
 	public void storeBufferedResponse(String sessionId, Url url, BufferedWebResponse response)
 	{
+		if (sessionId == null) 
+		{
+			return;
+		}
+		
 		String key = sessionId + url.toString();
 		storedResponses.put(key, response);
 	}
