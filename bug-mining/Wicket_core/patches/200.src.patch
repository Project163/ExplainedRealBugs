diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
index 34e7cba4ec..a041f52751 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java
@@ -1152,20 +1152,18 @@ public class Form<T> extends WebMarkupContainer implements IFormSubmitListener
 			processingForm = this;
 		}
 		
-		// always invoke onSubmit for top-level form
-		processingForm.onSubmit();
-		
-		// invoke onSubmit on active child forms
-		processingForm.visitChildren(Form.class, new IVisitor<Form<?>, Void>()
+		// invoke Form#onSubmit(..) going from innermost to outermost
+		Visits.visitPostOrder(processingForm, new IVisitor<Form<?>, Void>()
 		{
 			public void component(Form<?> form, IVisit<Void> visit)
 			{
 				if (form.isEnabledInHierarchy() && form.isVisibleInHierarchy())
 				{
+
 					form.onSubmit();
 				}
 			}
-		});
+		}, new ClassVisitFilter(Form.class));
 	}
 
 	/**
