diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/BaseTree.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/BaseTree.java
index ae3d4e5eec..a2fc2267a2 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/BaseTree.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/BaseTree.java
@@ -291,7 +291,11 @@ public abstract class BaseTree extends AbstractTree
 						getTreeState().expandNode(node);
 					}
 					onJunctionLinkClicked(target, node);
-					updateTree(target);
+
+					if (target != null)
+					{
+						updateTree(target);
+					}
 				}
 			});
 			junctionLink.add(new Behavior()
diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/LinkIconPanel.java b/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/LinkIconPanel.java
index 92962b7c92..42fe763f1e 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/LinkIconPanel.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/html/tree/LinkIconPanel.java
@@ -79,6 +79,10 @@ public class LinkIconPanel extends LabelIconPanel
 	protected void onNodeLinkClicked(Object node, BaseTree tree, AjaxRequestTarget target)
 	{
 		tree.getTreeState().selectNode(node, !tree.getTreeState().isNodeSelected(node));
-		tree.updateTree(target);
+
+		if (target != null)
+		{
+			tree.updateTree(target);
+		}
 	}
 }
