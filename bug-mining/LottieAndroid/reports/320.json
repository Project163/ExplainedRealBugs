{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480/events","html_url":"https://github.com/airbnb/lottie-android/issues/2480","id":2186094979,"node_id":"I_kwDOBC8mW86CTSmD","number":2480,"title":"java.lang.IllegalStateException: Missing values for keyframe.","user":{"login":"giangpham96","id":23420470,"node_id":"MDQ6VXNlcjIzNDIwNDcw","avatar_url":"https://avatars.githubusercontent.com/u/23420470?v=4","gravatar_id":"","url":"https://api.github.com/users/giangpham96","html_url":"https://github.com/giangpham96","followers_url":"https://api.github.com/users/giangpham96/followers","following_url":"https://api.github.com/users/giangpham96/following{/other_user}","gists_url":"https://api.github.com/users/giangpham96/gists{/gist_id}","starred_url":"https://api.github.com/users/giangpham96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giangpham96/subscriptions","organizations_url":"https://api.github.com/users/giangpham96/orgs","repos_url":"https://api.github.com/users/giangpham96/repos","events_url":"https://api.github.com/users/giangpham96/events{/privacy}","received_events_url":"https://api.github.com/users/giangpham96/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":779072398,"node_id":"MDU6TGFiZWw3NzkwNzIzOTg=","url":"https://api.github.com/repos/airbnb/lottie-android/labels/Rendering%20bug","name":"Rendering bug","color":"0052cc","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-03-14T11:19:45Z","updated_at":"2024-04-01T23:56:54Z","closed_at":"2024-04-01T23:56:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nI have a lottie file that works on https://app.lottiefiles.com/\r\nHowever, when I play it using Lottie Compose, the app crashes with the following stacktrace\r\nI attached the file to this issue\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: Missing values for keyframe.\r\n                                                                                                    \tat com.airbnb.lottie.animation.keyframe.IntegerKeyframeAnimation.getIntValue(IntegerKeyframeAnimation.java:24)\r\n                                                                                                    \tat com.airbnb.lottie.animation.keyframe.IntegerKeyframeAnimation.getValue(IntegerKeyframeAnimation.java:16)\r\n                                                                                                    \tat com.airbnb.lottie.animation.keyframe.IntegerKeyframeAnimation.getValue(IntegerKeyframeAnimation.java:8)\r\n                                                                                                    \tat com.airbnb.lottie.animation.keyframe.BaseKeyframeAnimation.getValue(BaseKeyframeAnimation.java:150)\r\n                                                                                                    \tat com.airbnb.lottie.model.layer.BaseLayer.draw(BaseLayer.java:251)\r\n                                                                                                    \tat com.airbnb.lottie.model.layer.CompositionLayer.drawLayer(CompositionLayer.java:130)\r\n                                                                                                    \tat com.airbnb.lottie.model.layer.BaseLayer.draw(BaseLayer.java:260)\r\n                                                                                                    \tat com.airbnb.lottie.model.layer.CompositionLayer.drawLayer(CompositionLayer.java:130)\r\n                                                                                                    \tat com.airbnb.lottie.model.layer.BaseLayer.draw(BaseLayer.java:260)\r\n                                                                                                    \tat com.airbnb.lottie.LottieDrawable.draw(LottieDrawable.java:737)\r\n                                                                                                    \tat com.airbnb.lottie.compose.LottieAnimationKt$LottieAnimation$2.invoke(LottieAnimation.kt:130)\r\n                                                                                                    \tat com.airbnb.lottie.compose.LottieAnimationKt$LottieAnimation$2.invoke(LottieAnimation.kt:99)\r\n                                                                                                    \tat androidx.compose.ui.draw.DrawBackgroundModifier.draw(DrawModifier.kt:116)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutNodeDrawScope.drawDirect-x_KDEd0$ui_release(LayoutNodeDrawScope.kt:105)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutNodeDrawScope.draw-x_KDEd0$ui_release(LayoutNodeDrawScope.kt:86)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.drawContainedDrawModifiers(NodeCoordinator.kt:365)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.draw(NodeCoordinator.kt:354)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutModifierNodeCoordinator.performDraw(LayoutModifierNodeCoordinator.kt:182)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.drawContainedDrawModifiers(NodeCoordinator.kt:362)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.draw(NodeCoordinator.kt:354)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutModifierNodeCoordinator.performDraw(LayoutModifierNodeCoordinator.kt:182)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.drawContainedDrawModifiers(NodeCoordinator.kt:362)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.draw(NodeCoordinator.kt:354)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutModifierNodeCoordinator.performDraw(LayoutModifierNodeCoordinator.kt:182)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.drawContainedDrawModifiers(NodeCoordinator.kt:362)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.draw(NodeCoordinator.kt:354)\r\n                                                                                                    \tat androidx.compose.ui.node.LayoutNode.draw$ui_release(LayoutNode.kt:922)\r\n                                                                                                    \tat androidx.compose.ui.node.InnerNodeCoordinator.performDraw(InnerNodeCoordinator.kt:174)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.drawContainedDrawModifiers(NodeCoordinator.kt:362)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.access$drawContainedDrawModifiers(NodeCoordinator.kt:54)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator$invoke$1.invoke(NodeCoordinator.kt:384)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator$invoke$1.invoke(NodeCoordinator.kt:383)\r\n                                                                                                    \tat androidx.compose.runtime.snapshots.Snapshot$Companion.observe(Snapshot.kt:2299)\r\n                                                                                                    \tat androidx.compose.runtime.snapshots.SnapshotStateObserver$ObservedScopeMap.observe(SnapshotStateObserver.kt:467)\r\n                                                                                                    \tat androidx.compose.runtime.snapshots.SnapshotStateObserver.observeReads(SnapshotStateObserver.kt:230)\r\n                                                                                                    \tat androidx.compose.ui.node.OwnerSnapshotObserver.observeReads$ui_release(OwnerSnapshotObserver.kt:133)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.invoke(NodeCoordinator.kt:383)\r\n                                                                                                    \tat androidx.compose.ui.node.NodeCoordinator.invoke(NodeCoordinator.kt:54)\r\n                                                                                                    \tat androidx.compose.ui.platform.RenderNodeApi29.record(RenderNodeApi29.android.kt:209)\r\n                                                                                                    \tat androidx.compose.ui.platform.RenderNodeLayer.updateDisplayList(RenderNodeLayer.android.kt:305)\r\n                                                                                                    \tat androidx.compose.ui.platform.AndroidComposeView.dispatchDraw(AndroidComposeView.android.kt:1138)\r\n                                                                                                    \tat android.view.View.draw(View.java:21568)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20404)\r\n2024-03-14 13:08:11.510 16199-16199 AndroidRuntime          com.wolt.android.master              E  \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:4432)\r\n                                                                                                    \tat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:4405)\r\n                                                                                                    \tat android.view.View.updateDisplayListIfDirty(View.java:20355)\r\n                                                                                                    \tat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:575)\r\n                                                                                                    \tat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:581)\r\n                                                                                                    \tat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:654)\r\n                                                                                                    \tat android.view.ViewRootImpl.draw(ViewRootImpl.java:3816)\r\n                                                                                                    \tat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3620)\r\n                                                                                                    \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2940)\r\n                                                                                                    \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1811)\r\n                                                                                                    \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7970)\r\n                                                                                                    \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:967)\r\n                                                                                                    \tat android.view.Choreographer.doCallbacks(Choreographer.java:791)\r\n                                                                                                    \tat android.view.Choreographer.doFrame(Choreographer.java:726)\r\n                                                                                                    \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:952)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:883)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:214)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7417)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)\r\n```\r\n\r\n**What version of Lottie did you test this on?** 6.3.0\r\n\r\n**What version of Android did you test this on?** Android 10, API 29\r\n\r\n**Steps To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Add the following code to a Compose project\r\n```kotlin\r\n           val composition = rememberLottieComposition(LottieCompositionSpec.RawRes(R.raw.existing_account))\r\n\r\n            LottieAnimation(\r\n                modifier = Modifier\r\n                    .padding(vertical = 2.u())\r\n                    .aspectRatio(1.5f),\r\n                composition = composition.value,\r\n                iterations = LottieConstants.IterateForever\r\n            )\r\n```\r\n\r\n2. Run the app, navigate to the screen where this LottieAnimation lives\r\n3. The app crashes\r\n[existing_account.json](https://github.com/airbnb/lottie-android/files/14601392/existing_account.json)\r\n\r\n","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2480/timeline","performed_via_github_app":null,"state_reason":"completed"}