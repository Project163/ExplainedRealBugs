{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493/events","html_url":"https://github.com/airbnb/lottie-android/issues/2493","id":2237223697,"node_id":"I_kwDOBC8mW86FWVMR","number":2493,"title":"Correct the frequent GC issues caused by L.beginSection and L.endSection methods.","user":{"login":"uni-cstar","id":4511085,"node_id":"MDQ6VXNlcjQ1MTEwODU=","avatar_url":"https://avatars.githubusercontent.com/u/4511085?v=4","gravatar_id":"","url":"https://api.github.com/users/uni-cstar","html_url":"https://github.com/uni-cstar","followers_url":"https://api.github.com/users/uni-cstar/followers","following_url":"https://api.github.com/users/uni-cstar/following{/other_user}","gists_url":"https://api.github.com/users/uni-cstar/gists{/gist_id}","starred_url":"https://api.github.com/users/uni-cstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uni-cstar/subscriptions","organizations_url":"https://api.github.com/users/uni-cstar/orgs","repos_url":"https://api.github.com/users/uni-cstar/repos","events_url":"https://api.github.com/users/uni-cstar/events{/privacy}","received_events_url":"https://api.github.com/users/uni-cstar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":779072574,"node_id":"MDU6TGFiZWw3NzkwNzI1NzQ=","url":"https://api.github.com/repos/airbnb/lottie-android/labels/New%20feature","name":"New feature","color":"5319e7","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-11T08:47:59Z","updated_at":"2024-05-08T14:09:41Z","closed_at":"2024-04-13T22:53:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"*Lottie is supported and developed on nights and weekends. Issues from [Lottie sponsors](https://github.com/users/gpeal/sponsorship) will be prioritized.*\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\nThe L.beginSection and L.endSection methods are used to record some trace information and are frequently called during the draw process. Although traceEnabled is by default false, L.beginSection and L.endSection methods do not perform any substantive logic. However, they generate a large number of strings at the method call sites, leading to frequent garbage collection issues (occurring continuously in a short period due to the excessively frequent invocation of draw).\r\n\r\n**Describe the solution you'd like**\r\nProvide the isTraceEnabled method in the L class to return the value of the traceEnabled variable. Before calling the L.beginSection and L.endSection methods, first check if isTraceEnabled is true. If not, do not invoke them.\r\n\r\n**Describe alternatives you've considered**\r\nYou can use inline methods in Kotlin to handle calls to the trace method, but this change is quite significant and requires rewriting the source code in Kotlin.\r\n\r\n\r\n\r\n","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2493/timeline","performed_via_github_app":null,"state_reason":"completed"}