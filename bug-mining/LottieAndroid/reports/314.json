{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464/events","html_url":"https://github.com/airbnb/lottie-android/issues/2464","id":2125479930,"node_id":"I_kwDOBC8mW85-sD_6","number":2464,"title":"Cache issue introduced in 6.3.0","user":{"login":"akordev","id":51090716,"node_id":"MDQ6VXNlcjUxMDkwNzE2","avatar_url":"https://avatars.githubusercontent.com/u/51090716?v=4","gravatar_id":"","url":"https://api.github.com/users/akordev","html_url":"https://github.com/akordev","followers_url":"https://api.github.com/users/akordev/followers","following_url":"https://api.github.com/users/akordev/following{/other_user}","gists_url":"https://api.github.com/users/akordev/gists{/gist_id}","starred_url":"https://api.github.com/users/akordev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akordev/subscriptions","organizations_url":"https://api.github.com/users/akordev/orgs","repos_url":"https://api.github.com/users/akordev/repos","events_url":"https://api.github.com/users/akordev/events{/privacy}","received_events_url":"https://api.github.com/users/akordev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1460035932,"node_id":"MDU6TGFiZWwxNDYwMDM1OTMy","url":"https://api.github.com/repos/airbnb/lottie-android/labels/Non-Rendering%20Bug","name":"Non-Rendering Bug","color":"186199","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-08T15:38:52Z","updated_at":"2024-02-27T01:28:39Z","closed_at":"2024-02-27T01:28:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"fork with  issue in the issue-repro module - https://github.com/akordev/lottie-android/tree/cache-issue-example\r\n\r\n**Describe the bug**\r\nhttps://github.com/airbnb/lottie-android/pull/2441/files#diff-7ff6236196a28fb237dbe744e4359c6dd062204dfc1f54ea2a8cf0570389c8a1 - changes that cause an issue, line 707 in LottieCompositionFactory, if you revert it to \r\n`task = new LottieTask<>(() -> new LottieResult<>(cachedComposition));` bug is not reproducible anymore \r\n\r\nWhen I set animation_a in xml file and then try to call setAnimation(animation_b) in onViewCreated, it does not work if we already cached this animations. It works as long as Lottie doesn't have cached this animations, which means it works if we disable cache in xml view or when you show it first time with the enabled cache\r\n\r\nSteps to reproduce:\r\n1. Run issue-repro module\r\n2. Navigate to second fragment \r\n3. Navigate back (system back button)\r\n4. Navigate to second fragment again\r\n5. Animation is freeze ","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2464/timeline","performed_via_github_app":null,"state_reason":"completed"}