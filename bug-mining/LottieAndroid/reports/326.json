{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592/events","html_url":"https://github.com/airbnb/lottie-android/issues/2592","id":2726403124,"node_id":"I_kwDOBC8mW86igZw0","number":2592,"title":"The Unicode text (such as emojis or special font text) cannot be center-aligned, even when the text justification property is set.","user":{"login":"bubble2025","id":51904271,"node_id":"MDQ6VXNlcjUxOTA0Mjcx","avatar_url":"https://avatars.githubusercontent.com/u/51904271?v=4","gravatar_id":"","url":"https://api.github.com/users/bubble2025","html_url":"https://github.com/bubble2025","followers_url":"https://api.github.com/users/bubble2025/followers","following_url":"https://api.github.com/users/bubble2025/following{/other_user}","gists_url":"https://api.github.com/users/bubble2025/gists{/gist_id}","starred_url":"https://api.github.com/users/bubble2025/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bubble2025/subscriptions","organizations_url":"https://api.github.com/users/bubble2025/orgs","repos_url":"https://api.github.com/users/bubble2025/repos","events_url":"https://api.github.com/users/bubble2025/events{/privacy}","received_events_url":"https://api.github.com/users/bubble2025/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":779072398,"node_id":"MDU6TGFiZWw3NzkwNzIzOTg=","url":"https://api.github.com/repos/airbnb/lottie-android/labels/Rendering%20bug","name":"Rendering bug","color":"0052cc","default":false,"description":null},{"id":779072491,"node_id":"MDU6TGFiZWw3NzkwNzI0OTE=","url":"https://api.github.com/repos/airbnb/lottie-android/labels/Text","name":"Text","color":"0e8a16","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-09T08:54:48Z","updated_at":"2024-12-17T17:40:14Z","closed_at":"2024-12-15T03:07:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nI encountered an issue with Unicode text alignment in Lottie on Android. When I dynamically change the text to Unicode characters, such as emojis or special font text, the center alignment is lost, and the text shifts to the left. This issue does not occur on iOS or Web.\r\n\r\nTo test this issue, I used the following sample Lottie animation and modified the text by using addValueCallback to update the \"Content_Text\" layer.\r\n[text_center.json](https://github.com/user-attachments/files/18058633/text_center.json)\r\nHere is a screenshot of the template before the text was changed.\r\n![screenshot-1733733279482](https://github.com/user-attachments/assets/71a53cf6-182d-42ea-b19c-368f0769c329)\r\n\r\n\r\n\r\n\r\n\r\nAfter I change the text to a normal string, it returns to center alignment.\r\n![screenshot-1733733292362](https://github.com/user-attachments/assets/9c9ef844-5684-4915-a480-03d62b5756f8)\r\n\r\n\r\nBelow are some screenshots showing the results after I dynamically changed the text to emojis and special font characters. As shown, the text shifts to the left, and when I change to a longer text, it even overflows beyond the animation bounds and gets cut off.\r\n![screenshot-1733733378578](https://github.com/user-attachments/assets/ef2c22e2-3b71-424e-b939-bec9dea519eb)\r\n![screenshot-1733733495007](https://github.com/user-attachments/assets/953a52a8-7bcf-4688-a8a8-f43113e6c81c)\r\n\r\n\r\n**What version of Lottie did you test this on?**\r\n6.5.2\r\n\r\n**What version of Android did you test this on?**\r\n14","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2592/timeline","performed_via_github_app":null,"state_reason":"completed"}