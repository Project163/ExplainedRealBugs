{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104/events","html_url":"https://github.com/airbnb/lottie-android/issues/2104","id":1288279345,"node_id":"I_kwDOBC8mW85MyZUx","number":2104,"title":"LottieAnimationView crashes in 5.2.0","user":{"login":"giangpham96","id":23420470,"node_id":"MDQ6VXNlcjIzNDIwNDcw","avatar_url":"https://avatars.githubusercontent.com/u/23420470?v=4","gravatar_id":"","url":"https://api.github.com/users/giangpham96","html_url":"https://github.com/giangpham96","followers_url":"https://api.github.com/users/giangpham96/followers","following_url":"https://api.github.com/users/giangpham96/following{/other_user}","gists_url":"https://api.github.com/users/giangpham96/gists{/gist_id}","starred_url":"https://api.github.com/users/giangpham96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giangpham96/subscriptions","organizations_url":"https://api.github.com/users/giangpham96/orgs","repos_url":"https://api.github.com/users/giangpham96/repos","events_url":"https://api.github.com/users/giangpham96/events{/privacy}","received_events_url":"https://api.github.com/users/giangpham96/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-06-29T07:19:05Z","updated_at":"2022-11-11T19:10:48Z","closed_at":"2022-11-11T19:10:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After updating the library to 5.2.0, my app starts crashing for animations with gradients. I suspect Lottie adds some extra verifications in this version, but not sure what is wrong with the lottie file. Version 5.1.1 works fine\r\n\r\nHere is the stacktrace\r\n```\r\nFatal Exception: java.lang.IllegalArgumentException: Cannot interpolate between gradients. Lengths vary (8 vs 10)\r\n       at com.airbnb.lottie.model.content.GradientColor.lerp(GradientColor.java:30)\r\n       at com.airbnb.lottie.animation.keyframe.GradientColorKeyframeAnimation.getValue(GradientColorKeyframeAnimation.java:19)\r\n       at com.airbnb.lottie.animation.keyframe.GradientColorKeyframeAnimation.getValue(GradientColorKeyframeAnimation.java:8)\r\n       at com.airbnb.lottie.animation.keyframe.BaseKeyframeAnimation.getValue(BaseKeyframeAnimation.java:144)\r\n       at com.airbnb.lottie.animation.content.GradientFillContent.getRadialGradient(GradientFillContent.java:206)\r\n       at com.airbnb.lottie.animation.content.GradientFillContent.draw(GradientFillContent.java:131)\r\n       at com.airbnb.lottie.animation.content.ContentGroup.draw(ContentGroup.java:185)\r\n       at com.airbnb.lottie.animation.content.ContentGroup.draw(ContentGroup.java:185)\r\n       at com.airbnb.lottie.model.layer.ShapeLayer.drawLayer(ShapeLayer.java:36)\r\n       at com.airbnb.lottie.model.layer.BaseLayer.draw(BaseLayer.java:292)\r\n       at com.airbnb.lottie.model.layer.CompositionLayer.drawLayer(CompositionLayer.java:128)\r\n       at com.airbnb.lottie.model.layer.BaseLayer.draw(BaseLayer.java:250)\r\n       at com.airbnb.lottie.LottieDrawable.drawDirectlyToCanvas(LottieDrawable.java:1354)\r\n       at com.airbnb.lottie.LottieDrawable.draw(LottieDrawable.java:517)\r\n```\r\n\r\nHere is the lottie file\r\n```json\r\n{\"v\":\"5.7.4\",\"fr\":60,\"ip\":0,\"op\":540,\"w\":750,\"h\":672,\"nm\":\"app_morning_background\",\"ddd\":0,\"assets\":[],\"layers\":[{\"ddd\":0,\"ind\":1,\"ty\":4,\"nm\":\"City state 2\",\"td\":1,\"sr\":1,\"ks\":{\"o\":{\"a\":0,\"k\":100,\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[375,336,0],\"ix\":2,\"l\":2},\"a\":{\"a\":0,\"k\":[0,0,0],\"ix\":1,\"l\":2},\"s\":{\"a\":0,\"k\":[100,100,100],\"ix\":6,\"l\":2}},\"ao\":0,\"shapes\":[{\"ty\":\"gr\",\"it\":[{\"ty\":\"rc\",\"d\":1,\"s\":{\"a\":0,\"k\":[375,336],\"ix\":2},\"p\":{\"a\":0,\"k\":[0,0],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":4},\"nm\":\"Rectangle Path 1\",\"mn\":\"ADBE Vector Shape - Rect\",\"hd\":false},{\"ty\":\"tr\",\"p\":{\"a\":0,\"k\":[0,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[0,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[200,200],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":6},\"o\":{\"a\":0,\"k\":100,\"ix\":7},\"sk\":{\"a\":0,\"k\":0,\"ix\":4},\"sa\":{\"a\":0,\"k\":0,\"ix\":5},\"nm\":\"Transform\"}],\"nm\":\"City state\",\"np\":3,\"cix\":2,\"bm\":0,\"ix\":1,\"mn\":\"ADBE Vector Group\",\"hd\":false}],\"ip\":0,\"op\":540,\"st\":0,\"bm\":0},{\"ddd\":0,\"ind\":2,\"ty\":4,\"nm\":\"Ellipse 3\",\"tt\":2,\"sr\":1,\"ks\":{\"o\":{\"a\":0,\"k\":100,\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[375,699,0],\"ix\":2,\"l\":2},\"a\":{\"a\":0,\"k\":[0,0,0],\"ix\":1,\"l\":2},\"s\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.52,0.52,0.52],\"y\":[0.979,0.984,1]},\"o\":{\"x\":[0.48,0.48,0.48],\"y\":[0.021,0.016,0]},\"t\":0,\"s\":[100,66,100],\"e\":[173,147,100]},{\"i\":{\"x\":[0.52,0.52,0.52],\"y\":[1,1,1]},\"o\":{\"x\":[0.48,0.48,0.48],\"y\":[0,0,0]},\"t\":289,\"s\":[173,147,100],\"e\":[199,169.092,100]},{\"i\":{\"x\":[0.52,0.52,0.52],\"y\":[1,1,1]},\"o\":{\"x\":[0.48,0.48,0.48],\"y\":[0,0,0]},\"t\":300,\"s\":[199,169.092,100],\"e\":[100,66,100]},{\"t\":540}],\"ix\":6,\"l\":2}},\"ao\":0,\"shapes\":[{\"ty\":\"gr\",\"it\":[{\"d\":1,\"ty\":\"el\",\"s\":{\"a\":0,\"k\":[363,363],\"ix\":2},\"p\":{\"a\":0,\"k\":[0,0],\"ix\":3},\"nm\":\"Ellipse Path 1\",\"mn\":\"ADBE Vector Shape - Ellipse\",\"hd\":false},{\"ty\":\"gf\",\"o\":{\"a\":0,\"k\":100,\"ix\":10},\"r\":1,\"bm\":0,\"g\":{\"p\":5,\"k\":{\"a\":1,\"k\":[{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":0,\"s\":[0,0.956,0.474,0.442,0.265,0.89,0.468,0.367,0.529,0.824,0.461,0.292,0.765,0.878,0.614,0.397,1,0.931,0.766,0.502,0,1,0.256,0.665,0.513,0.33,0.756,0.165,1,0],\"e\":[0.001,1,0.798,0.325,0.293,0.988,0.775,0.278,0.584,0.975,0.752,0.23,0.79,0.988,0.844,0.437,0.996,1,0.936,0.643,0,1,0.302,0.635,0.604,0.27,0.802,0.135,1,0]},{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":247,\"s\":[0.001,1,0.798,0.325,0.293,0.988,0.775,0.278,0.584,0.975,0.752,0.23,0.79,0.988,0.844,0.437,0.996,1,0.936,0.643,0,1,0.302,0.635,0.604,0.27,0.802,0.135,1,0],\"e\":[0,0.902,0.669,0.18,0.265,0.94,0.643,0.283,0.529,0.979,0.616,0.387,0.765,0.949,0.577,0.331,1,0.919,0.537,0.275,0,1,0.264,0.665,0.527,0.33,0.764,0.165,1,0]},{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":301,\"s\":[0,0.902,0.669,0.18,0.265,0.94,0.643,0.283,0.529,0.979,0.616,0.387,0.765,0.949,0.577,0.331,1,0.919,0.537,0.275,0,1,0.264,0.665,0.527,0.33,0.764,0.165,1,0],\"e\":[0,0.956,0.474,0.442,0.265,0.89,0.468,0.367,0.529,0.824,0.461,0.292,0.765,0.878,0.614,0.397,1,0.931,0.766,0.502,0,1,0.256,0.665,0.513,0.33,0.756,0.165,1,0]},{\"t\":540}],\"ix\":9}},\"s\":{\"a\":0,\"k\":[0,0],\"ix\":5},\"e\":{\"a\":0,\"k\":[181.5,0],\"ix\":6},\"t\":2,\"h\":{\"a\":0,\"k\":0,\"ix\":7},\"a\":{\"a\":0,\"k\":0,\"ix\":8},\"nm\":\"Gradient Fill 1\",\"mn\":\"ADBE Vector Graphic - G-Fill\",\"hd\":false},{\"ty\":\"tr\",\"p\":{\"a\":0,\"k\":[0,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[0,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[200,200],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":6},\"o\":{\"a\":0,\"k\":100,\"ix\":7},\"sk\":{\"a\":0,\"k\":0,\"ix\":4},\"sa\":{\"a\":0,\"k\":0,\"ix\":5},\"nm\":\"Transform\"}],\"nm\":\"Ellipse 3\",\"np\":2,\"cix\":2,\"bm\":0,\"ix\":1,\"mn\":\"ADBE Vector Group\",\"hd\":false}],\"ip\":0,\"op\":540,\"st\":0,\"bm\":0},{\"ddd\":0,\"ind\":3,\"ty\":4,\"nm\":\"Shape Layer 1\",\"sr\":1,\"ks\":{\"o\":{\"a\":0,\"k\":100,\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[375,336,0],\"ix\":2,\"l\":2},\"a\":{\"a\":0,\"k\":[0,0,0],\"ix\":1,\"l\":2},\"s\":{\"a\":0,\"k\":[100,100,100],\"ix\":6,\"l\":2}},\"ao\":0,\"shapes\":[{\"ty\":\"gr\",\"it\":[{\"ty\":\"rc\",\"d\":1,\"s\":{\"a\":0,\"k\":[750,672],\"ix\":2},\"p\":{\"a\":0,\"k\":[0,0],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":4},\"nm\":\"Rectangle Path 1\",\"mn\":\"ADBE Vector Shape - Rect\",\"hd\":false},{\"ty\":\"gf\",\"o\":{\"a\":0,\"k\":100,\"ix\":10},\"r\":1,\"bm\":0,\"g\":{\"p\":5,\"k\":{\"a\":1,\"k\":[{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":0,\"s\":[0,0.971,0.408,0,0.377,0.956,0.515,0,0.755,0.942,0.621,0,0.877,0.971,0.671,0,1,1,0.72,0],\"e\":[0,0.966,0.445,0,0.362,0.951,0.51,0,0.725,0.936,0.576,0,0.862,0.967,0.628,0,1,0.998,0.68,0]},{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":49,\"s\":[0,0.966,0.445,0,0.362,0.951,0.51,0,0.725,0.936,0.576,0,0.862,0.967,0.628,0,1,0.998,0.68,0],\"e\":[0,0.946,0.606,0,0.275,0.928,0.492,0,0.55,0.91,0.378,0,0.775,0.948,0.442,0,1,0.987,0.507,0]},{\"i\":{\"x\":0.833,\"y\":0.833},\"o\":{\"x\":0.167,\"y\":0.167},\"t\":260.375,\"s\":[0,0.946,0.606,0,0.275,0.928,0.492,0,0.55,0.91,0.378,0,0.775,0.948,0.442,0,1,0.987,0.507,0],\"e\":[0,0.971,0.408,0,0.383,0.956,0.515,0,0.766,0.942,0.621,0,0.883,0.971,0.671,0,1,1,0.72,0]},{\"t\":540}],\"ix\":9}},\"s\":{\"a\":0,\"k\":[-2.047,331.848],\"ix\":5},\"e\":{\"a\":0,\"k\":[3.137,-336.078],\"ix\":6},\"t\":1,\"nm\":\"Gradient Fill 1\",\"mn\":\"ADBE Vector Graphic - G-Fill\",\"hd\":false},{\"ty\":\"tr\",\"p\":{\"a\":0,\"k\":[0,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[0,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[100,100],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":6},\"o\":{\"a\":0,\"k\":100,\"ix\":7},\"sk\":{\"a\":0,\"k\":0,\"ix\":4},\"sa\":{\"a\":0,\"k\":0,\"ix\":5},\"nm\":\"Transform\"}],\"nm\":\"Rectangle 1\",\"np\":2,\"cix\":2,\"bm\":0,\"ix\":1,\"mn\":\"ADBE Vector Group\",\"hd\":false}],\"ip\":0,\"op\":540,\"st\":0,\"bm\":0}],\"markers\":[]}\r\n```","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/2104/timeline","performed_via_github_app":null,"state_reason":"completed"}