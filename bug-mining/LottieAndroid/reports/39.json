{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/210","repository_url":"https://api.github.com/repos/airbnb/lottie-android","labels_url":"https://api.github.com/repos/airbnb/lottie-android/issues/210/labels{/name}","comments_url":"https://api.github.com/repos/airbnb/lottie-android/issues/210/comments","events_url":"https://api.github.com/repos/airbnb/lottie-android/issues/210/events","html_url":"https://github.com/airbnb/lottie-android/issues/210","id":215467518,"node_id":"MDU6SXNzdWUyMTU0Njc1MTg=","number":210,"title":"NullPointerException: pathGroups can contain null entry","user":{"login":"Kevinrob","id":4509277,"node_id":"MDQ6VXNlcjQ1MDkyNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4509277?v=4","gravatar_id":"","url":"https://api.github.com/users/Kevinrob","html_url":"https://github.com/Kevinrob","followers_url":"https://api.github.com/users/Kevinrob/followers","following_url":"https://api.github.com/users/Kevinrob/following{/other_user}","gists_url":"https://api.github.com/users/Kevinrob/gists{/gist_id}","starred_url":"https://api.github.com/users/Kevinrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kevinrob/subscriptions","organizations_url":"https://api.github.com/users/Kevinrob/orgs","repos_url":"https://api.github.com/users/Kevinrob/repos","events_url":"https://api.github.com/users/Kevinrob/events{/privacy}","received_events_url":"https://api.github.com/users/Kevinrob/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-03-20T15:58:50Z","updated_at":"2017-03-27T06:39:23Z","closed_at":"2017-03-24T19:05:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have a crash with a specific JSON with this stackstrace:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to read from field 'java.util.List com.airbnb.lottie.StrokeContent$PathGroup.paths' on a null object reference\r\n      at com.airbnb.lottie.StrokeContent$PathGroup.access$100(StrokeContent.java:256)\r\n      at com.airbnb.lottie.StrokeContent.getBounds(StrokeContent.java:207)\r\n      at com.airbnb.lottie.ContentGroup.getBounds(ContentGroup.java:175)\r\n      at com.airbnb.lottie.ContentGroup.getBounds(ContentGroup.java:175)\r\n      at com.airbnb.lottie.ShapeLayer.getBounds(ShapeLayer.java:29)\r\n      at com.airbnb.lottie.BaseLayer.draw(BaseLayer.java:165)\r\n      at com.airbnb.lottie.CompositionLayer.drawLayer(CompositionLayer.java:54)\r\n      at com.airbnb.lottie.BaseLayer.draw(BaseLayer.java:160)\r\n      at com.airbnb.lottie.LottieDrawable.draw(LottieDrawable.java:207)\r\n      at android.widget.ImageView.onDraw(ImageView.java:1316)\r\n      [...]\r\n```\r\n\r\nI use `com.airbnb.android:lottie:2.0.0-beta2` but the app crash with `1.5.3` too.\r\n\r\nWhen runtime reach this code:\r\n```java\r\n    PathGroup currentPathGroup = null;\r\n    for (int i = contentsAfter.size() - 1; i >= 0; i--) {\r\n      Content content = contentsAfter.get(i);\r\n      if (content instanceof TrimPathContent &&\r\n          ((TrimPathContent) content).getType() == ShapeTrimPath.Type.Individually) {\r\n        if (currentPathGroup != null) {\r\n          pathGroups.add(currentPathGroup);\r\n        }\r\n        currentPathGroup = new PathGroup((TrimPathContent) content);\r\n        ((TrimPathContent) content).addListener(this);\r\n      } else if (content instanceof PathContent) {\r\n        if (currentPathGroup == null) {\r\n          currentPathGroup = new PathGroup(trimPathContentBefore);\r\n        }\r\n        currentPathGroup.paths.add((PathContent) content);\r\n      }\r\n    }\r\n    pathGroups.add(currentPathGroup);\r\n```\r\n\r\n`contentsAfter.size() == 2`\r\nSo, `currentPathGroup == null`, and this code don't check for null value:\r\n\r\n```\r\n    path.reset();\r\n    for (int i = 0; i < pathGroups.size(); i++) {\r\n      PathGroup pathGroup = pathGroups.get(i);\r\n      for (int j = 0; j < pathGroup.paths.size(); j++) {\r\n        path.addPath(pathGroup.paths.get(i).getPath(), parentMatrix);\r\n      }\r\n    }\r\n    path.computeBounds(rect, false);\r\n```\r\n\r\nTell me if you need the JSON file, but it work with HTML.","closed_by":{"login":"gpeal","id":1307745,"node_id":"MDQ6VXNlcjEzMDc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1307745?v=4","gravatar_id":"","url":"https://api.github.com/users/gpeal","html_url":"https://github.com/gpeal","followers_url":"https://api.github.com/users/gpeal/followers","following_url":"https://api.github.com/users/gpeal/following{/other_user}","gists_url":"https://api.github.com/users/gpeal/gists{/gist_id}","starred_url":"https://api.github.com/users/gpeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpeal/subscriptions","organizations_url":"https://api.github.com/users/gpeal/orgs","repos_url":"https://api.github.com/users/gpeal/repos","events_url":"https://api.github.com/users/gpeal/events{/privacy}","received_events_url":"https://api.github.com/users/gpeal/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/airbnb/lottie-android/issues/210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/airbnb/lottie-android/issues/210/timeline","performed_via_github_app":null,"state_reason":"completed"}