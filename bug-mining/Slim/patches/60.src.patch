diff --git a/Slim/Http/Uri.php b/Slim/Http/Uri.php
index fb3c7896..ac650199 100644
--- a/Slim/Http/Uri.php
+++ b/Slim/Http/Uri.php
@@ -194,7 +194,7 @@ class Uri implements UriInterface
         $requestUri = parse_url($env->get('REQUEST_URI'), PHP_URL_PATH);
         $basePath = '';
         $virtualPath = $requestUri;
-        if (strcasecmp($requestUri, $requestScriptName) === 0) {
+        if (stripos($requestUri, $requestScriptName) === 0) {
             $basePath = $requestScriptName;
         } elseif ($requestScriptDir !== '/' && stripos($requestUri, $requestScriptDir) === 0) {
             $basePath = $requestScriptDir;
diff --git a/tests/Http/UriTest.php b/tests/Http/UriTest.php
index 46ac24e0..554ed51e 100644
--- a/tests/Http/UriTest.php
+++ b/tests/Http/UriTest.php
@@ -616,8 +616,10 @@ class UriTest extends \PHPUnit_Framework_TestCase
     }
 
     /**
-     * Handle case when the URL is /foo/index.php/bar/baz
-     * @ticket 1590
+     * When the URL is /foo/index.php/bar/baz, we need the baseURL to be
+     * /foo/index.php so that routing works correctly.
+     *
+     * @ticket 1639 as a fix to 1590 broke this.
      */
     public function testRequestURIContainsIndexDotPhp()
     {
@@ -629,6 +631,6 @@ class UriTest extends \PHPUnit_Framework_TestCase
                 ]
             )
         );
-        $this->assertSame('/foo', $uri->getBasePath());
+        $this->assertSame('/foo/index.php', $uri->getBasePath());
     }
 }
