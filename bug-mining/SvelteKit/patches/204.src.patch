diff --git a/.changeset/long-ghosts-act.md b/.changeset/long-ghosts-act.md
new file mode 100644
index 000000000..1b772df75
--- /dev/null
+++ b/.changeset/long-ghosts-act.md
@@ -0,0 +1,5 @@
+---
+'@sveltejs/kit': patch
+---
+
+Bump devalue version
diff --git a/packages/kit/package.json b/packages/kit/package.json
index 8d497c0de..0c03b72b7 100644
--- a/packages/kit/package.json
+++ b/packages/kit/package.json
@@ -13,7 +13,7 @@
 		"@sveltejs/vite-plugin-svelte": "^1.1.0",
 		"@types/cookie": "^0.5.1",
 		"cookie": "^0.5.0",
-		"devalue": "^4.0.1",
+		"devalue": "^4.1.0",
 		"kleur": "^4.1.5",
 		"magic-string": "^0.26.7",
 		"mime": "^3.0.0",
diff --git a/packages/kit/src/core/prerender/prerender.js b/packages/kit/src/core/prerender/prerender.js
index 3d7c727b5..9b57a87b1 100644
--- a/packages/kit/src/core/prerender/prerender.js
+++ b/packages/kit/src/core/prerender/prerender.js
@@ -413,10 +413,11 @@ export async function prerender() {
 		const path = key.slice(0, index);
 		const id = key.slice(index + 1);
 
+		const hashlinks = actual_hashlinks.get(path);
 		// ignore fragment links to pages that were not prerendered
-		if (!actual_hashlinks.has(path)) continue;
+		if (!hashlinks) continue;
 
-		if (!actual_hashlinks.get(path).includes(id)) {
+		if (!hashlinks.includes(id)) {
 			handle_missing_id({ id, path, referrers: Array.from(referrers) });
 		}
 	}
diff --git a/pnpm-lock.yaml b/pnpm-lock.yaml
index 8f7cf302f..540a1719d 100644
--- a/pnpm-lock.yaml
+++ b/pnpm-lock.yaml
@@ -275,7 +275,7 @@ importers:
       '@types/sade': ^1.7.4
       '@types/set-cookie-parser': ^2.4.2
       cookie: ^0.5.0
-      devalue: ^4.0.1
+      devalue: ^4.1.0
       kleur: ^4.1.5
       magic-string: ^0.26.7
       marked: ^4.1.1
@@ -295,7 +295,7 @@ importers:
       '@sveltejs/vite-plugin-svelte': 1.1.0_svelte@3.52.0+vite@3.2.1
       '@types/cookie': 0.5.1
       cookie: 0.5.0
-      devalue: 4.0.1
+      devalue: 4.1.0
       kleur: 4.1.5
       magic-string: 0.26.7
       mime: 3.0.0
@@ -1916,8 +1916,8 @@ packages:
     resolution: {integrity: sha512-463v3ZeIrcWtdgIg6vI6XUncguvr2TnGl4SzDXinkt9mSLpBJKXT3mW6xT3VQdDN11+WVs29pgvivTc4Lp8v+w==}
     engines: {node: '>=8'}
 
-  /devalue/4.0.1:
-    resolution: {integrity: sha512-Oksbel8g2rv5ivcCyImF1RXEU2FcS1OtCwVs4tJCCeVws/Dp9EE15fUbEsNr/xLD3ZxsQURBCDf56Lk1CgwCpg==}
+  /devalue/4.1.0:
+    resolution: {integrity: sha512-glzE77YSRp97HdNQ8EKTYJQ3tS/7DaY+c7/NjsTrJsNexqYIEANww4qyjhxsJqvpDpoqxgRqjwDNrOq8WS8NFQ==}
     dev: false
 
   /diff/5.1.0:
