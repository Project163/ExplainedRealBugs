diff --git a/.changeset/nasty-walls-learn.md b/.changeset/nasty-walls-learn.md
new file mode 100644
index 000000000..0305337e8
--- /dev/null
+++ b/.changeset/nasty-walls-learn.md
@@ -0,0 +1,5 @@
+---
+'@sveltejs/kit': patch
+---
+
+fix: prevent code execution order issues around SvelteKit's `env` modules
diff --git a/packages/kit/src/exports/vite/index.js b/packages/kit/src/exports/vite/index.js
index 5a903357e..d684702bc 100644
--- a/packages/kit/src/exports/vite/index.js
+++ b/packages/kit/src/exports/vite/index.js
@@ -731,7 +731,7 @@ async function kit({ svelte_config }) {
 
 			if (!is_outdated_rollup) {
 				// @ts-expect-error only exists in more recent Rollup versions https://rollupjs.org/configuration-options/#output-onlyexplicitmanualchunks
-				config.build.rollupOptions.onlyExplicitManualChunks = true;
+				config.build.rollupOptions.output.onlyExplicitManualChunks = true;
 			}
 		},
 
