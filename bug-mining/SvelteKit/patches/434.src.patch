diff --git a/.changeset/ten-bats-sneeze.md b/.changeset/ten-bats-sneeze.md
new file mode 100644
index 000000000..b813b4239
--- /dev/null
+++ b/.changeset/ten-bats-sneeze.md
@@ -0,0 +1,5 @@
+---
+'create-svelte': minor
+---
+
+feat: upgrade to prettier 3 and prettier-plugin-svelte 3
diff --git a/.prettierrc b/.prettierrc
index 72264f51e..ee82b5c88 100644
--- a/.prettierrc
+++ b/.prettierrc
@@ -3,6 +3,7 @@
 	"singleQuote": true,
 	"trailingComma": "none",
 	"printWidth": 100,
+	"plugins": ["prettier-plugin-svelte"],
 	"overrides": [
 		{
 			"files": ["*.svelte"],
diff --git a/package.json b/package.json
index bea268651..73b097d75 100644
--- a/package.json
+++ b/package.json
@@ -20,7 +20,7 @@
 		"postinstall": "pnpm -r generate:types"
 	},
 	"devDependencies": {
-		"@changesets/cli": "^2.26.0",
+		"@changesets/cli": "^2.26.2",
 		"@rollup/plugin-commonjs": "^25.0.0",
 		"@rollup/plugin-json": "^6.0.0",
 		"@rollup/plugin-node-resolve": "^15.0.1",
@@ -32,7 +32,7 @@
 		"eslint-plugin-svelte": "^2.31.0",
 		"eslint-plugin-unicorn": "^49.0.0",
 		"playwright": "1.30.0",
-		"prettier": "^2.8.0",
+		"prettier": "^3.1.0",
 		"rollup": "^3.29.4",
 		"svelte": "^4.2.2",
 		"typescript": "^4.9.4"
diff --git a/packages/adapter-auto/package.json b/packages/adapter-auto/package.json
index 193ea74b0..037ba5fd3 100644
--- a/packages/adapter-auto/package.json
+++ b/packages/adapter-auto/package.json
@@ -25,7 +25,7 @@
 		"adapters.js"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"check": "tsc"
 	},
diff --git a/packages/adapter-cloudflare-workers/package.json b/packages/adapter-cloudflare-workers/package.json
index faf029f01..5c17e85c9 100644
--- a/packages/adapter-cloudflare-workers/package.json
+++ b/packages/adapter-cloudflare-workers/package.json
@@ -25,7 +25,7 @@
 		"index.d.ts"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"check": "tsc"
 	},
diff --git a/packages/adapter-cloudflare/package.json b/packages/adapter-cloudflare/package.json
index a686bfa84..d3e7e6a5e 100644
--- a/packages/adapter-cloudflare/package.json
+++ b/packages/adapter-cloudflare/package.json
@@ -26,7 +26,7 @@
 	],
 	"scripts": {
 		"build": "esbuild src/worker.js --bundle --outfile=files/worker.js --external:SERVER --external:MANIFEST --format=esm",
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"check": "tsc --skipLibCheck",
 		"prepublishOnly": "pnpm build"
diff --git a/packages/adapter-netlify/package.json b/packages/adapter-netlify/package.json
index b15c395f5..b417461d9 100644
--- a/packages/adapter-netlify/package.json
+++ b/packages/adapter-netlify/package.json
@@ -28,7 +28,7 @@
 		"build": "node -e \"fs.rmSync('files', { force: true, recursive: true })\" && rollup -c && cp src/edge.js files/edge.js",
 		"test": "vitest run",
 		"check": "tsc",
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"prepublishOnly": "pnpm build"
 	},
diff --git a/packages/adapter-node/package.json b/packages/adapter-node/package.json
index 3588e7258..d18a3f1c4 100644
--- a/packages/adapter-node/package.json
+++ b/packages/adapter-node/package.json
@@ -28,7 +28,7 @@
 		"build": "node -e \"fs.rmSync('files', { force: true, recursive: true })\" && rollup -c",
 		"test": "echo \"tests temporarily disabled\" # c8 vitest run",
 		"check": "tsc",
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"prepublishOnly": "pnpm build"
 	},
diff --git a/packages/adapter-static/package.json b/packages/adapter-static/package.json
index a62298982..05a10a8cd 100644
--- a/packages/adapter-static/package.json
+++ b/packages/adapter-static/package.json
@@ -24,7 +24,7 @@
 		"platforms.js"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"check": "tsc",
 		"format": "pnpm lint --write",
 		"test": "pnpm -r --workspace-concurrency 1 --filter=\"./test/**\" test"
diff --git a/packages/adapter-static/test/apps/prerendered/src/app.html b/packages/adapter-static/test/apps/prerendered/src/app.html
index 568b69b88..d533c5e31 100644
--- a/packages/adapter-static/test/apps/prerendered/src/app.html
+++ b/packages/adapter-static/test/apps/prerendered/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/adapter-static/test/apps/spa/src/app.html b/packages/adapter-static/test/apps/spa/src/app.html
index 568b69b88..d533c5e31 100644
--- a/packages/adapter-static/test/apps/spa/src/app.html
+++ b/packages/adapter-static/test/apps/spa/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/adapter-static/test/apps/spa/src/routes/+layout.svelte b/packages/adapter-static/test/apps/spa/src/routes/+layout.svelte
index d89ceb3fe..439e52c54 100644
--- a/packages/adapter-static/test/apps/spa/src/routes/+layout.svelte
+++ b/packages/adapter-static/test/apps/spa/src/routes/+layout.svelte
@@ -3,4 +3,4 @@
 	<a href="/about">about</a>
 </nav>
 
-<slot></slot>
\ No newline at end of file
+<slot />
diff --git a/packages/adapter-static/test/apps/spa/src/routes/+page.svelte b/packages/adapter-static/test/apps/spa/src/routes/+page.svelte
index 913f0784c..aaa08e08c 100644
--- a/packages/adapter-static/test/apps/spa/src/routes/+page.svelte
+++ b/packages/adapter-static/test/apps/spa/src/routes/+page.svelte
@@ -1 +1 @@
-<h1>This page was not prerendered</h1>
\ No newline at end of file
+<h1>This page was not prerendered</h1>
diff --git a/packages/adapter-static/test/apps/spa/src/routes/about/+page.svelte b/packages/adapter-static/test/apps/spa/src/routes/about/+page.svelte
index 404fd7751..07dd2ffa5 100644
--- a/packages/adapter-static/test/apps/spa/src/routes/about/+page.svelte
+++ b/packages/adapter-static/test/apps/spa/src/routes/about/+page.svelte
@@ -1 +1 @@
-<h1>This page was prerendered</h1>
\ No newline at end of file
+<h1>This page was prerendered</h1>
diff --git a/packages/adapter-vercel/package.json b/packages/adapter-vercel/package.json
index e9af9d7f7..db4239f8c 100644
--- a/packages/adapter-vercel/package.json
+++ b/packages/adapter-vercel/package.json
@@ -25,7 +25,7 @@
 		"index.d.ts"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write",
 		"check": "tsc",
 		"test": "vitest run"
diff --git a/packages/amp/package.json b/packages/amp/package.json
index c204ba87f..d8740cc5a 100644
--- a/packages/amp/package.json
+++ b/packages/amp/package.json
@@ -23,7 +23,7 @@
 		"index.d.ts"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"format": "pnpm lint --write"
 	},
 	"peerDependencies": {
diff --git a/packages/create-svelte/.gitignore b/packages/create-svelte/.gitignore
index 46c461e5b..14b636183 100644
--- a/packages/create-svelte/.gitignore
+++ b/packages/create-svelte/.gitignore
@@ -11,4 +11,4 @@
 /templates/*/.vercel_build_output
 /templates/*/.netlify
 /templates/*/dist
-/templates/*/package
\ No newline at end of file
+/templates/*/package
diff --git a/packages/create-svelte/package.json b/packages/create-svelte/package.json
index e73b7e89f..c6c97be09 100644
--- a/packages/create-svelte/package.json
+++ b/packages/create-svelte/package.json
@@ -18,10 +18,9 @@
 	"devDependencies": {
 		"@playwright/test": "1.30.0",
 		"@types/gitignore-parser": "^0.0.2",
-		"@types/prettier": "^2.7.1",
 		"gitignore-parser": "^0.0.2",
-		"prettier": "^2.8.0",
-		"prettier-plugin-svelte": "^2.10.1",
+		"prettier": "^3.1.0",
+		"prettier-plugin-svelte": "^3.0.0",
 		"sucrase": "^3.29.0",
 		"svelte": "^4.2.2",
 		"tiny-glob": "^0.2.9",
@@ -31,7 +30,7 @@
 		"build": "node scripts/build-templates",
 		"test": "pnpm build && vitest run",
 		"check": "tsc",
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path ../../.gitignore --ignore-path .gitignore --plugin prettier-plugin-svelte --plugin-search-dir=.",
+		"lint": "prettier --check . --config ../../.prettierrc --ignore-path ../../.gitignore --ignore-path .gitignore",
 		"format": "pnpm lint --write",
 		"prepublishOnly": "pnpm build",
 		"postpublish": "echo \"Updating template repo\" && bash ./scripts/update-template-repo.sh"
diff --git a/packages/create-svelte/scripts/build-templates.js b/packages/create-svelte/scripts/build-templates.js
index 1371f7817..4e07dfa0f 100644
--- a/packages/create-svelte/scripts/build-templates.js
+++ b/packages/create-svelte/scripts/build-templates.js
@@ -7,7 +7,7 @@ import glob from 'tiny-glob/sync.js';
 import { mkdirp, rimraf } from '../utils.js';
 
 /** @param {string} content */
-function convert_typescript(content) {
+async function convert_typescript(content) {
 	let { code } = transform(content, {
 		transforms: ['typescript'],
 		disableESTransforms: true
@@ -19,7 +19,7 @@ function convert_typescript(content) {
 	// Prettier strips 'unnecessary' parens from .ts files, we need to hack them back in
 	code = code.replace(/(\/\*\* @type.+? \*\/) (.+?) \/\*\*\*\//g, '$1($2)');
 
-	return prettier.format(code, {
+	return await prettier.format(code, {
 		parser: 'babel',
 		useTabs: true,
 		singleQuote: true,
@@ -78,7 +78,8 @@ async function generate_templates(shared) {
 			null: []
 		};
 
-		glob('**/*', { cwd, filesOnly: true, dot: true }).forEach((name) => {
+		const files = glob('**/*', { cwd, filesOnly: true, dot: true });
+		for (const name of files) {
 			// the package.template.json thing is a bit annoying — basically we want
 			// to be able to develop and deploy the app from here, but have a different
 			// package.json in newly created projects (based on package.template.json)
@@ -87,14 +88,14 @@ async function generate_templates(shared) {
 				// TODO package-specific versions
 				contents = contents.replace(/workspace:\*/g, 'next');
 				fs.writeFileSync(`${dir}/package.json`, contents);
-				return;
+				continue;
 			}
 
 			// ignore files that are written conditionally
-			if (shared.has(name)) return;
+			if (shared.has(name)) continue;
 
 			// ignore contents of .gitignore or .ignore
-			if (!gitignore.accepts(name) || !ignore.accepts(name) || name === '.ignore') return;
+			if (!gitignore.accepts(name) || !ignore.accepts(name) || name === '.ignore') continue;
 
 			if (/\.(ts|svelte)$/.test(name)) {
 				const contents = fs.readFileSync(path.join(cwd, name), 'utf8');
@@ -103,7 +104,7 @@ async function generate_templates(shared) {
 					if (name.endsWith('app.d.ts')) types.checkjs.push({ name, contents });
 					types.typescript.push({ name, contents });
 				} else if (name.endsWith('.ts')) {
-					const js = convert_typescript(contents);
+					const js = await convert_typescript(contents);
 
 					types.typescript.push({
 						name,
@@ -125,9 +126,14 @@ async function generate_templates(shared) {
 					// possible (e.g. preserving double line breaks). Sucrase is the best
 					// tool for the job because it just removes the types; Prettier then
 					// tidies up the end result
-					const js_contents = contents.replace(
+					const js_contents = await replace_async(
+						contents,
 						/<script([^>]+)>([\s\S]+?)<\/script>/g,
-						(m, attrs, typescript) => {
+						async (
+							/** @type {any} */ m,
+							/** @type {string} */ attrs,
+							/** @type {string} */ typescript
+						) => {
 							// Sucrase assumes 'unused' imports (which _are_ used, but only
 							// in the markup) are type imports, and strips them. This step
 							// prevents it from drawing that conclusion
@@ -149,14 +155,15 @@ async function generate_templates(shared) {
 								disableESTransforms: true
 							}).code.slice(0, -suffix.length);
 
-							const contents = prettier
-								.format(transformed, {
+							const contents = (
+								await prettier.format(transformed, {
 									parser: 'babel',
 									useTabs: true,
 									singleQuote: true,
 									trailingComma: 'none',
 									printWidth: 100
 								})
+							)
 								.trim()
 								.replace(/^(.)/gm, '\t$1');
 
@@ -184,7 +191,7 @@ async function generate_templates(shared) {
 				mkdirp(path.dirname(dest));
 				fs.copyFileSync(path.join(cwd, name), dest);
 			}
-		});
+		}
 
 		fs.copyFileSync(meta_file, `${dir}/meta.json`);
 		fs.writeFileSync(
@@ -196,6 +203,20 @@ async function generate_templates(shared) {
 	}
 }
 
+/**
+ * @param {string} string
+ * @param {RegExp} regexp
+ * @param {{ (m: any, attrs: string, typescript: string): Promise<string>; (arg0: any): any; }} replacer
+ */
+async function replace_async(string, regexp, replacer) {
+	const replacements = await Promise.all(
+		// @ts-ignore
+		Array.from(string.matchAll(regexp), (match) => replacer(...match))
+	);
+	let i = 0;
+	return string.replace(regexp, () => replacements[i++]);
+}
+
 async function generate_shared() {
 	const cwd = path.resolve('shared');
 
@@ -205,7 +226,8 @@ async function generate_shared() {
 	/** @type {Array<{ name: string, include: string[], exclude: string[], contents: string }>} */
 	const files = [];
 
-	glob('**/*', { cwd, filesOnly: true, dot: true }).forEach((file) => {
+	const globbed = glob('**/*', { cwd, filesOnly: true, dot: true });
+	for (const file of globbed) {
 		const contents = fs.readFileSync(path.join(cwd, file), 'utf8');
 
 		/** @type {string[]} */
@@ -232,7 +254,7 @@ async function generate_shared() {
 		if (name.endsWith('.ts') && !include.includes('typescript')) {
 			// file includes types in TypeScript and JSDoc —
 			// create .js file, with and without JSDoc
-			const js = convert_typescript(contents);
+			const js = await convert_typescript(contents);
 			const js_name = name.replace(/\.ts$/, '.js');
 
 			// typescript
@@ -265,7 +287,7 @@ async function generate_shared() {
 			shared.add(name);
 			files.push({ name, include, exclude, contents });
 		}
-	});
+	}
 
 	files.sort((a, b) => a.include.length + a.exclude.length - (b.include.length + b.exclude.length));
 
diff --git a/packages/create-svelte/shared/+eslint+prettier/package.json b/packages/create-svelte/shared/+eslint+prettier/package.json
index 808ff280d..3dca8ba82 100644
--- a/packages/create-svelte/shared/+eslint+prettier/package.json
+++ b/packages/create-svelte/shared/+eslint+prettier/package.json
@@ -3,7 +3,7 @@
 		"eslint-config-prettier": "^8.5.0"
 	},
 	"scripts": {
-		"lint": "prettier --plugin-search-dir . --check . && eslint .",
-		"format": "prettier --plugin-search-dir . --write ."
+		"lint": "prettier --check . && eslint .",
+		"format": "prettier --write ."
 	}
 }
diff --git a/packages/create-svelte/shared/+prettier/.prettierrc b/packages/create-svelte/shared/+prettier/.prettierrc
index a77fddea9..95730232b 100644
--- a/packages/create-svelte/shared/+prettier/.prettierrc
+++ b/packages/create-svelte/shared/+prettier/.prettierrc
@@ -4,6 +4,5 @@
 	"trailingComma": "none",
 	"printWidth": 100,
 	"plugins": ["prettier-plugin-svelte"],
-	"pluginSearchDirs": ["."],
 	"overrides": [{ "files": "*.svelte", "options": { "parser": "svelte" } }]
 }
diff --git a/packages/create-svelte/shared/+prettier/package.json b/packages/create-svelte/shared/+prettier/package.json
index e368023fb..60af3f611 100644
--- a/packages/create-svelte/shared/+prettier/package.json
+++ b/packages/create-svelte/shared/+prettier/package.json
@@ -1,6 +1,6 @@
 {
 	"devDependencies": {
-		"prettier": "^2.8.0",
-		"prettier-plugin-svelte": "^2.10.1"
+		"prettier": "^3.0.0",
+		"prettier-plugin-svelte": "^3.0.0"
 	}
 }
diff --git a/packages/create-svelte/shared/-eslint+prettier/package.json b/packages/create-svelte/shared/-eslint+prettier/package.json
index 0193de97c..bcdff7cf9 100644
--- a/packages/create-svelte/shared/-eslint+prettier/package.json
+++ b/packages/create-svelte/shared/-eslint+prettier/package.json
@@ -1,6 +1,6 @@
 {
 	"scripts": {
-		"lint": "prettier --plugin-search-dir . --check .",
-		"format": "prettier --plugin-search-dir . --write ."
+		"lint": "prettier --check .",
+		"format": "prettier --write ."
 	}
 }
diff --git a/packages/create-svelte/templates/default/src/app.html b/packages/create-svelte/templates/default/src/app.html
index 6769ed5e8..77a5ff52c 100644
--- a/packages/create-svelte/templates/default/src/app.html
+++ b/packages/create-svelte/templates/default/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/create-svelte/templates/skeleton/src/app.html b/packages/create-svelte/templates/skeleton/src/app.html
index 6769ed5e8..77a5ff52c 100644
--- a/packages/create-svelte/templates/skeleton/src/app.html
+++ b/packages/create-svelte/templates/skeleton/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/create-svelte/templates/skeletonlib/src/app.html b/packages/create-svelte/templates/skeletonlib/src/app.html
index d2fc6b061..f22aeaad5 100644
--- a/packages/create-svelte/templates/skeletonlib/src/app.html
+++ b/packages/create-svelte/templates/skeletonlib/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/enhanced-img/.prettierignore b/packages/enhanced-img/.prettierignore
new file mode 100644
index 000000000..57a5af7f6
--- /dev/null
+++ b/packages/enhanced-img/.prettierignore
@@ -0,0 +1 @@
+test/Output.svelte
diff --git a/packages/enhanced-img/package.json b/packages/enhanced-img/package.json
index fdfaa92e5..b8a6f5b72 100644
--- a/packages/enhanced-img/package.json
+++ b/packages/enhanced-img/package.json
@@ -11,9 +11,9 @@
 	"homepage": "https://kit.svelte.dev",
 	"type": "module",
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"check": "tsc",
-		"format": "prettier --write . --config ../../.prettierrc --ignore-path .gitignore",
+		"format": "prettier --write .",
 		"test": "vitest"
 	},
 	"files": [
diff --git a/packages/enhanced-img/test/Input.svelte b/packages/enhanced-img/test/Input.svelte
index 5c1626393..74f6320c9 100644
--- a/packages/enhanced-img/test/Input.svelte
+++ b/packages/enhanced-img/test/Input.svelte
@@ -2,12 +2,9 @@
 	import manual_image1 from './no.png';
 	import manual_image2 from './no.svg';
 
-	const images = [
-		manual_image1,
-		manual_image2
-	];
+	const images = [manual_image1, manual_image2];
 
-	let foo: string = 'bar'
+	let foo: string = 'bar';
 </script>
 
 {foo}
@@ -18,15 +15,17 @@
 
 <enhanced:img src="./foo.png" width="5" height="10" alt="dimensions test" />
 
-<enhanced:img src="./foo.png" width=5 height=10 alt="unquoted dimensions test" />
-
 <enhanced:img src="./foo.png?blur=5" alt="directive test" />
 
-<enhanced:img src="./foo.png" {...{foo}} alt="spread attributes test" />
+<enhanced:img src="./foo.png" {...{ foo }} alt="spread attributes test" />
 
-<enhanced:img src="./foo.png?w=1024,640,320" sizes="(min-width: 60rem) 80vw, (min-width: 40rem) 90vw, 100vw" alt="sizes test" />
+<enhanced:img
+	src="./foo.png?w=1024,640,320"
+	sizes="(min-width: 60rem) 80vw, (min-width: 40rem) 90vw, 100vw"
+	alt="sizes test"
+/>
 
-<enhanced:img src="./foo.png" on:click={foo = 'clicked an image!'} alt="event handler test" />
+<enhanced:img src="./foo.png" on:click={(foo = 'clicked an image!')} alt="event handler test" />
 
 <enhanced:img src="$lib/foo.png" alt="alias test" />
 
diff --git a/packages/enhanced-img/test/Output.svelte b/packages/enhanced-img/test/Output.svelte
index 29aee1fb6..832e7c453 100644
--- a/packages/enhanced-img/test/Output.svelte
+++ b/packages/enhanced-img/test/Output.svelte
@@ -2,12 +2,9 @@
 	import manual_image1 from './no.png';
 	import manual_image2 from './no.svg';
 
-	const images = [
-		manual_image1,
-		manual_image2
-	];
+	const images = [manual_image1, manual_image2];
 
-	let foo: string = 'bar'
+	let foo: string = 'bar';
 </script>
 
 {foo}
@@ -18,15 +15,13 @@
 
 <picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 width="5" height="10" alt="dimensions test" width=1440 height=1440 /></picture>
 
-<picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 width=5 height=10 alt="unquoted dimensions test" width=1440 height=1440 /></picture>
-
 <picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 alt="directive test" width=1440 height=1440 /></picture>
 
-<picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 {...{foo}} alt="spread attributes test" width=1440 height=1440 /></picture>
+<picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 {...{ foo }} alt="spread attributes test" width=1440 height=1440 /></picture>
 
 <picture><source srcset="/1 1440w, /2 960w" sizes="(min-width: 60rem) 80vw, (min-width: 40rem) 90vw, 100vw" type="image/avif" /><source srcset="/3 1440w, /4 960w" sizes="(min-width: 60rem) 80vw, (min-width: 40rem) 90vw, 100vw" type="image/webp" /><source srcset="5 1440w, /6 960w" sizes="(min-width: 60rem) 80vw, (min-width: 40rem) 90vw, 100vw" type="image/png" /><img src=/7 alt="sizes test" width=1440 height=1440 /></picture>
 
-<picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 on:click={foo = 'clicked an image!'} alt="event handler test" width=1440 height=1440 /></picture>
+<picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 on:click={(foo = 'clicked an image!')} alt="event handler test" width=1440 height=1440 /></picture>
 
 <picture><source srcset="/1 1440w, /2 960w" type="image/avif" /><source srcset="/3 1440w, /4 960w" type="image/webp" /><source srcset="5 1440w, /6 960w" type="image/png" /><img src=/7 alt="alias test" width=1440 height=1440 /></picture>
 
diff --git a/packages/kit/.prettierignore b/packages/kit/.prettierignore
new file mode 100644
index 000000000..8275c27b6
--- /dev/null
+++ b/packages/kit/.prettierignore
@@ -0,0 +1 @@
+test/build-errors/apps/syntax-error/src/routes/+page.svelte
diff --git a/packages/kit/package.json b/packages/kit/package.json
index c786719cc..cd2662661 100644
--- a/packages/kit/package.json
+++ b/packages/kit/package.json
@@ -56,10 +56,10 @@
 		"postinstall.js"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --config ../../.prettierrc --check .",
 		"check": "tsc",
 		"check:all": "tsc && pnpm -r --filter=\"./**\" check",
-		"format": "prettier --write . --config ../../.prettierrc --ignore-path .gitignore",
+		"format": "prettier --config ../../.prettierrc --write .",
 		"test": "pnpm test:unit && pnpm test:integration",
 		"test:integration": "pnpm -r --workspace-concurrency 1 --filter=\"./test/**\" test",
 		"test:cross-platform:dev": "pnpm -r --workspace-concurrency 1 --filter=\"./test/**\" test:cross-platform:dev",
diff --git a/packages/kit/src/core/config/default-error.html b/packages/kit/src/core/config/default-error.html
index 12d998b4b..c322e1682 100644
--- a/packages/kit/src/core/config/default-error.html
+++ b/packages/kit/src/core/config/default-error.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
@@ -11,8 +11,18 @@
 				--divider: #ccc;
 				background: var(--bg);
 				color: var(--fg);
-				font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
-					Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
+				font-family:
+					system-ui,
+					-apple-system,
+					BlinkMacSystemFont,
+					'Segoe UI',
+					Roboto,
+					Oxygen,
+					Ubuntu,
+					Cantarell,
+					'Open Sans',
+					'Helvetica Neue',
+					sans-serif;
 				display: flex;
 				align-items: center;
 				justify-content: center;
diff --git a/packages/kit/src/core/sync/write_tsconfig.js b/packages/kit/src/core/sync/write_tsconfig.js
index 871117b18..8489b933c 100644
--- a/packages/kit/src/core/sync/write_tsconfig.js
+++ b/packages/kit/src/core/sync/write_tsconfig.js
@@ -181,8 +181,8 @@ function validate_user_config(kit, cwd, out, config) {
 		typeof extend === 'string'
 			? path.resolve(cwd, extend) === out
 			: Array.isArray(extend)
-			? extend.some((e) => path.resolve(cwd, e) === out)
-			: false;
+			  ? extend.some((e) => path.resolve(cwd, e) === out)
+			  : false;
 
 	const options = config.options.compilerOptions || {};
 
diff --git a/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/+layout.svelte b/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/+layout.svelte
index 23addb029..1072c0a6c 100644
--- a/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/+layout.svelte
+++ b/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/+layout.svelte
@@ -1 +1 @@
-export function load() {}
+export function load() &lcub;&rcub;
diff --git a/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/nested/+layout.svelte b/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/nested/+layout.svelte
index 23addb029..1072c0a6c 100644
--- a/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/nested/+layout.svelte
+++ b/packages/kit/src/core/sync/write_types/test/slugs-layout-not-all-pages-have-load/nested/+layout.svelte
@@ -1 +1 @@
-export function load() {}
+export function load() &lcub;&rcub;
diff --git a/packages/kit/src/core/sync/write_types/test/slugs/+layout.svelte b/packages/kit/src/core/sync/write_types/test/slugs/+layout.svelte
index 23addb029..1072c0a6c 100644
--- a/packages/kit/src/core/sync/write_types/test/slugs/+layout.svelte
+++ b/packages/kit/src/core/sync/write_types/test/slugs/+layout.svelte
@@ -1 +1 @@
-export function load() {}
+export function load() &lcub;&rcub;
diff --git a/packages/kit/src/exports/public.d.ts b/packages/kit/src/exports/public.d.ts
index d3bbaed15..77f15a391 100644
--- a/packages/kit/src/exports/public.d.ts
+++ b/packages/kit/src/exports/public.d.ts
@@ -42,12 +42,12 @@ export interface Adapter {
 type AwaitedPropertiesUnion<input extends Record<string, any> | void> = input extends void
 	? undefined // needs to be undefined, because void will break intellisense
 	: input extends Record<string, any>
-	? {
-			[key in keyof input]: Awaited<input[key]>;
-	  }
-	: {} extends input // handles the any case
-	? input
-	: unknown;
+	  ? {
+				[key in keyof input]: Awaited<input[key]>;
+	    }
+	  : {} extends input // handles the any case
+	    ? input
+	    : unknown;
 
 export type AwaitedProperties<input extends Record<string, any> | void> =
 	AwaitedPropertiesUnion<input> extends Record<string, any>
@@ -70,8 +70,8 @@ type OptionalUnion<
 type UnpackValidationError<T> = T extends ActionFailure<infer X>
 	? X
 	: T extends void
-	? undefined // needs to be undefined, because void will corrupt union type
-	: T;
+	  ? undefined // needs to be undefined, because void will corrupt union type
+	  : T;
 
 /**
  * This object is passed to the `adapt` function of adapters.
diff --git a/packages/kit/src/runtime/client/client.js b/packages/kit/src/runtime/client/client.js
index 80abcfd65..b2229b421 100644
--- a/packages/kit/src/runtime/client/client.js
+++ b/packages/kit/src/runtime/client/client.js
@@ -535,10 +535,10 @@ export function create_client(app, target) {
 								typeof data !== 'object'
 									? `a ${typeof data}`
 									: data instanceof Response
-									? 'a Response object'
-									: Array.isArray(data)
-									? 'an array'
-									: 'a non-plain object'
+									  ? 'a Response object'
+									  : Array.isArray(data)
+									    ? 'an array'
+									    : 'a non-plain object'
 							}, but must return a plain object at the top level (i.e. \`return {...}\`)`
 						);
 					}
diff --git a/packages/kit/src/runtime/components/layout.svelte b/packages/kit/src/runtime/components/layout.svelte
index 49aeb95a1..4fa864ce7 100644
--- a/packages/kit/src/runtime/components/layout.svelte
+++ b/packages/kit/src/runtime/components/layout.svelte
@@ -1 +1 @@
-<slot></slot>
\ No newline at end of file
+<slot />
diff --git a/packages/kit/src/runtime/server/page/load_data.js b/packages/kit/src/runtime/server/page/load_data.js
index 1dbabbe27..e24dad5b3 100644
--- a/packages/kit/src/runtime/server/page/load_data.js
+++ b/packages/kit/src/runtime/server/page/load_data.js
@@ -359,10 +359,10 @@ function validate_load_response(data, routeId) {
 				typeof data !== 'object'
 					? `a ${typeof data}`
 					: data instanceof Response
-					? 'a Response object'
-					: Array.isArray(data)
-					? 'an array'
-					: 'a non-plain object'
+					  ? 'a Response object'
+					  : Array.isArray(data)
+					    ? 'an array'
+					    : 'a non-plain object'
 			}, but must return a plain object at the top level (i.e. \`return {...}\`)`
 		);
 	}
diff --git a/packages/kit/src/runtime/server/respond.js b/packages/kit/src/runtime/server/respond.js
index 44b0e19a6..22fadabf3 100644
--- a/packages/kit/src/runtime/server/respond.js
+++ b/packages/kit/src/runtime/server/respond.js
@@ -341,8 +341,8 @@ export async function respond(request, options, manifest, state) {
 			const response = is_data_request
 				? redirect_json_response(e)
 				: route?.page && is_action_json_request(event)
-				? action_json_redirect(e)
-				: redirect_response(e.status, e.location);
+				  ? action_json_redirect(e)
+				  : redirect_response(e.status, e.location);
 			add_cookies_to_headers(response.headers, Object.values(cookies_to_add));
 			return response;
 		}
diff --git a/packages/kit/test/apps/amp/src/app.html b/packages/kit/test/apps/amp/src/app.html
index da318e7a6..b8e986c5d 100644
--- a/packages/kit/test/apps/amp/src/app.html
+++ b/packages/kit/test/apps/amp/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en" amp>
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/amp/src/routes/+layout.svelte b/packages/kit/test/apps/amp/src/routes/+layout.svelte
index f7c91b7e2..3d931ed39 100644
--- a/packages/kit/test/apps/amp/src/routes/+layout.svelte
+++ b/packages/kit/test/apps/amp/src/routes/+layout.svelte
@@ -1,4 +1,4 @@
-<slot></slot>
+<slot />
 <footer>footer</footer>
 
 <style>
diff --git a/packages/kit/test/apps/basics/src/app.html b/packages/kit/test/apps/basics/src/app.html
index 08b778add..c1a247d71 100644
--- a/packages/kit/test/apps/basics/src/app.html
+++ b/packages/kit/test/apps/basics/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/basics/src/error.html b/packages/kit/test/apps/basics/src/error.html
index 4782559ed..0e09c15dd 100644
--- a/packages/kit/test/apps/basics/src/error.html
+++ b/packages/kit/test/apps/basics/src/error.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/basics/src/routes/actions/form-errors/adjacent-error-boundary/+page.svelte b/packages/kit/test/apps/basics/src/routes/actions/form-errors/adjacent-error-boundary/+page.svelte
index d830737a3..f384105b6 100644
--- a/packages/kit/test/apps/basics/src/routes/actions/form-errors/adjacent-error-boundary/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/actions/form-errors/adjacent-error-boundary/+page.svelte
@@ -1,7 +1,7 @@
 <script>
-  import { enhance } from '$app/forms';
+	import { enhance } from '$app/forms';
 </script>
 
 <form method="POST" use:enhance>
-  <button type="submit">submit</button>
+	<button type="submit">submit</button>
 </form>
diff --git a/packages/kit/test/apps/basics/src/routes/anchor-with-manual-scroll/anchor-afternavigate/+page.svelte b/packages/kit/test/apps/basics/src/routes/anchor-with-manual-scroll/anchor-afternavigate/+page.svelte
index 8ef1440bd..7ea7c31a8 100644
--- a/packages/kit/test/apps/basics/src/routes/anchor-with-manual-scroll/anchor-afternavigate/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/anchor-with-manual-scroll/anchor-afternavigate/+page.svelte
@@ -14,4 +14,4 @@
 <p id="abcde" style="height: 180vh; background-color: hotpink;">I take precedence</p>
 <div />
 
-<a href="/anchor-with-manual-scroll/anchor-afternavigate?x=y#go-to-element">reload me</a>
\ No newline at end of file
+<a href="/anchor-with-manual-scroll/anchor-afternavigate?x=y#go-to-element">reload me</a>
diff --git a/packages/kit/test/apps/basics/src/routes/asset-import/+page.svelte b/packages/kit/test/apps/basics/src/routes/asset-import/+page.svelte
index 3648f1afa..b43898e9a 100644
--- a/packages/kit/test/apps/basics/src/routes/asset-import/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/asset-import/+page.svelte
@@ -3,5 +3,5 @@
 	import large from './large.jpg';
 </script>
 
-<img alt="svelte" src={small}>
-<img alt="potatoes" src={large}>
+<img alt="svelte" src={small} />
+<img alt="potatoes" src={large} />
diff --git a/packages/kit/test/apps/basics/src/routes/css/other/+page.svelte b/packages/kit/test/apps/basics/src/routes/css/other/+page.svelte
index 69e21ceb6..6903b1d38 100644
--- a/packages/kit/test/apps/basics/src/routes/css/other/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/css/other/+page.svelte
@@ -1 +1 @@
-<h1>other</h1>
\ No newline at end of file
+<h1>other</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/delete-route/+page.svelte b/packages/kit/test/apps/basics/src/routes/delete-route/+page.svelte
index 2fac8001c..156056431 100644
--- a/packages/kit/test/apps/basics/src/routes/delete-route/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/delete-route/+page.svelte
@@ -6,7 +6,7 @@
 		fetch('delete-route/42.json', { method: 'DELETE' })
 			.then((r) => r.json())
 			.then(
-				({id}) => (status = `deleted ${id}`),
+				({ id }) => (status = `deleted ${id}`),
 				(e) => (status = e.toString())
 			);
 	}
diff --git a/packages/kit/test/apps/basics/src/routes/errors/module-scope-server/+page.svelte b/packages/kit/test/apps/basics/src/routes/errors/module-scope-server/+page.svelte
index fb456e19b..14a98a7de 100644
--- a/packages/kit/test/apps/basics/src/routes/errors/module-scope-server/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/errors/module-scope-server/+page.svelte
@@ -1,7 +1,8 @@
 <script context="module">
 	import { dev } from '$app/environment';
 
-	if (dev) { // can't throw in prod, the app won't start at all
+	if (dev) {
+		// can't throw in prod, the app won't start at all
 		throw new Error('Crashing now');
 	}
 </script>
diff --git a/packages/kit/test/apps/basics/src/routes/errors/serverside/+page.svelte b/packages/kit/test/apps/basics/src/routes/errors/serverside/+page.svelte
index cb4f398c1..0f8d49ba6 100644
--- a/packages/kit/test/apps/basics/src/routes/errors/serverside/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/errors/serverside/+page.svelte
@@ -1,7 +1,8 @@
 <script>
 	import { dev } from '$app/environment';
 
-	if (dev) { // can't throw in prod, the app won't start at all
+	if (dev) {
+		// can't throw in prod, the app won't start at all
 		throw new Error('Crashing now');
 	}
 </script>
diff --git a/packages/kit/test/apps/basics/src/routes/headers/set-cookie/+layout.svelte b/packages/kit/test/apps/basics/src/routes/headers/set-cookie/+layout.svelte
index 0385342ce..4fa864ce7 100644
--- a/packages/kit/test/apps/basics/src/routes/headers/set-cookie/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/headers/set-cookie/+layout.svelte
@@ -1 +1 @@
-<slot />
\ No newline at end of file
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/imports/markdown/+page.svelte b/packages/kit/test/apps/basics/src/routes/imports/markdown/+page.svelte
index dbb88e9aa..95cb76288 100644
--- a/packages/kit/test/apps/basics/src/routes/imports/markdown/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/imports/markdown/+page.svelte
@@ -1,5 +1,5 @@
 <script>
-	import {marked} from 'marked';
+	import { marked } from 'marked';
 </script>
 
 <main>{@html marked('this is some **markdown**')}</main>
diff --git a/packages/kit/test/apps/basics/src/routes/load/fetch-cache-control/+page.svelte b/packages/kit/test/apps/basics/src/routes/load/fetch-cache-control/+page.svelte
index 059f911b8..95a7b61cf 100644
--- a/packages/kit/test/apps/basics/src/routes/load/fetch-cache-control/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/fetch-cache-control/+page.svelte
@@ -1,4 +1,3 @@
 <a href="/load/fetch-cache-control/load-data">load-data</a>
 
 <a href="/load/fetch-cache-control/headers-diff">headers-diff</a>
-
diff --git a/packages/kit/test/apps/basics/src/routes/load/invalidation/route/shared/+layout.svelte b/packages/kit/test/apps/basics/src/routes/load/invalidation/route/shared/+layout.svelte
index 3346ea43f..cc42a4220 100644
--- a/packages/kit/test/apps/basics/src/routes/load/invalidation/route/shared/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/invalidation/route/shared/+layout.svelte
@@ -10,5 +10,7 @@
 <a href="/load/invalidation/route/shared/a">/load/invalidation/route/shared/a</a>
 <a href="/load/invalidation/route/shared/b">/load/invalidation/route/shared/b</a>
 
-<a href="/load/invalidation/route/shared/unchanged-x">/load/invalidation/route/shared/unchanged-x</a>
-<a href="/load/invalidation/route/shared/unchanged-y">/load/invalidation/route/shared/unchanged-y</a>
+<a href="/load/invalidation/route/shared/unchanged-x">/load/invalidation/route/shared/unchanged-x</a
+>
+<a href="/load/invalidation/route/shared/unchanged-y">/load/invalidation/route/shared/unchanged-y</a
+>
diff --git a/packages/kit/test/apps/basics/src/routes/load/parent/server/+layout.svelte b/packages/kit/test/apps/basics/src/routes/load/parent/server/+layout.svelte
index 13e0e91ed..4fa864ce7 100644
--- a/packages/kit/test/apps/basics/src/routes/load/parent/server/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/parent/server/+layout.svelte
@@ -1 +1 @@
-<slot></slot>
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/load/parent/shared/+layout.svelte b/packages/kit/test/apps/basics/src/routes/load/parent/shared/+layout.svelte
index 13e0e91ed..4fa864ce7 100644
--- a/packages/kit/test/apps/basics/src/routes/load/parent/shared/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/parent/shared/+layout.svelte
@@ -1 +1 @@
-<slot></slot>
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/load/server-data-reuse/no-load/+page.svelte b/packages/kit/test/apps/basics/src/routes/load/server-data-reuse/no-load/+page.svelte
index 592b0da7c..31d2403f2 100644
--- a/packages/kit/test/apps/basics/src/routes/load/server-data-reuse/no-load/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/server-data-reuse/no-load/+page.svelte
@@ -1,5 +1,5 @@
 <script>
-	export let data 
+	export let data;
 </script>
 
 <p>Page without load</p>
diff --git a/packages/kit/test/apps/basics/src/routes/load/url-query-param/+page.svelte b/packages/kit/test/apps/basics/src/routes/load/url-query-param/+page.svelte
index 23f312e3b..e1c0765bf 100644
--- a/packages/kit/test/apps/basics/src/routes/load/url-query-param/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/load/url-query-param/+page.svelte
@@ -1,5 +1,5 @@
 <script>
-  import { page } from "$app/stores"
+	import { page } from '$app/stores';
 </script>
 
 <h1>Hello {$page.data.currentClientState ?? ''}</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/nested-layout/+layout.svelte b/packages/kit/test/apps/basics/src/routes/nested-layout/+layout.svelte
index fa9967201..a32fdaf35 100644
--- a/packages/kit/test/apps/basics/src/routes/nested-layout/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/nested-layout/+layout.svelte
@@ -1,2 +1,2 @@
-<slot></slot>
+<slot />
 <p id="nested">This is a nested layout component</p>
diff --git a/packages/kit/test/apps/basics/src/routes/nested-layout/foo/+layout.svelte b/packages/kit/test/apps/basics/src/routes/nested-layout/foo/+layout.svelte
index badf55425..0a6727ef0 100644
--- a/packages/kit/test/apps/basics/src/routes/nested-layout/foo/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/nested-layout/foo/+layout.svelte
@@ -1,2 +1,2 @@
-<slot></slot>
+<slot />
 <p id="nested-foo">Nested layout foo</p>
diff --git a/packages/kit/test/apps/basics/src/routes/nested-layout/foo/bar/+layout.svelte b/packages/kit/test/apps/basics/src/routes/nested-layout/foo/bar/+layout.svelte
index 30358a5ba..bfc006f15 100644
--- a/packages/kit/test/apps/basics/src/routes/nested-layout/foo/bar/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/nested-layout/foo/bar/+layout.svelte
@@ -1,2 +1,2 @@
-<slot></slot>
+<slot />
 <p id="nested-bar">Nested layout bar</p>
diff --git a/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+layout@.svelte b/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+layout@.svelte
index 14fd7664a..9b905e834 100644
--- a/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+layout@.svelte
+++ b/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+layout@.svelte
@@ -1,2 +1,2 @@
 <h1>Layout reset</h1>
-<slot></slot>
\ No newline at end of file
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+page.svelte b/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+page.svelte
index 2efa530ae..a7db5779c 100644
--- a/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/nested-layout/reset/+page.svelte
@@ -1 +1 @@
-<h2>Hello</h2>
\ No newline at end of file
+<h2>Hello</h2>
diff --git a/packages/kit/test/apps/basics/src/routes/no-ssr/other/+page.svelte b/packages/kit/test/apps/basics/src/routes/no-ssr/other/+page.svelte
index 69e21ceb6..6903b1d38 100644
--- a/packages/kit/test/apps/basics/src/routes/no-ssr/other/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/no-ssr/other/+page.svelte
@@ -1 +1 @@
-<h1>other</h1>
\ No newline at end of file
+<h1>other</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/no-ssr/ssr-page-config/layout/+layout.svelte b/packages/kit/test/apps/basics/src/routes/no-ssr/ssr-page-config/layout/+layout.svelte
index 0385342ce..4fa864ce7 100644
--- a/packages/kit/test/apps/basics/src/routes/no-ssr/ssr-page-config/layout/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/no-ssr/ssr-page-config/layout/+layout.svelte
@@ -1 +1 @@
-<slot />
\ No newline at end of file
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/paths/+page.svelte b/packages/kit/test/apps/basics/src/routes/paths/+page.svelte
index ab7aa9e20..73d1cb7eb 100644
--- a/packages/kit/test/apps/basics/src/routes/paths/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/paths/+page.svelte
@@ -2,4 +2,4 @@
 	import { base, assets } from '$app/paths';
 </script>
 
-<pre>{JSON.stringify({ base, assets })}</pre>
\ No newline at end of file
+<pre>{JSON.stringify({ base, assets })}</pre>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/a/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/a/+page.svelte
index 0e6757b2b..57f9d4079 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/a/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/a/+page.svelte
@@ -1 +1 @@
-<h1>a</h1>
\ No newline at end of file
+<h1>a</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/cancellation/+layout.svelte b/packages/kit/test/apps/basics/src/routes/routing/cancellation/+layout.svelte
index 7a04256ed..5de33b7bf 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/cancellation/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/cancellation/+layout.svelte
@@ -1,4 +1,4 @@
-<slot></slot>
+<slot />
 
 <a href="/routing/cancellation/a">a</a>
 <a href="/routing/cancellation/b">b</a>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/cancellation/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/cancellation/+page.svelte
index 002578b92..18faeea07 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/cancellation/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/cancellation/+page.svelte
@@ -1 +1 @@
-<h1>cancellation</h1>
\ No newline at end of file
+<h1>cancellation</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/cancellation/b/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/cancellation/b/+page.svelte
index 51902b4da..e96ed3db8 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/cancellation/b/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/cancellation/b/+page.svelte
@@ -1 +1 @@
-<h1>b</h1>
\ No newline at end of file
+<h1>b</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/client/bar/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/client/bar/+page.svelte
index 2cbd4ed1d..cf88eaa11 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/client/bar/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/client/bar/+page.svelte
@@ -1 +1 @@
-<h1>bar</h1>
\ No newline at end of file
+<h1>bar</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/client/bar/b/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/client/bar/b/+page.svelte
index 51902b4da..e96ed3db8 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/client/bar/b/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/client/bar/b/+page.svelte
@@ -1 +1 @@
-<h1>b</h1>
\ No newline at end of file
+<h1>b</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/client/foo/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/client/foo/+page.svelte
index bb17f9bd1..847d402cf 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/client/foo/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/client/foo/+page.svelte
@@ -1 +1 @@
-<h1>foo</h1>
\ No newline at end of file
+<h1>foo</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/const/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/const/+page.svelte
index 6975aae10..331f06d4e 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/const/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/const/+page.svelte
@@ -1 +1 @@
-<h1>reserved words are okay as routes</h1>
\ No newline at end of file
+<h1>reserved words are okay as routes</h1>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/dirs/foo/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/dirs/foo/+page.svelte
index 35e8290c3..f195b182d 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/dirs/foo/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/dirs/foo/+page.svelte
@@ -1,2 +1,2 @@
 <h1>foo</h1>
-<a href="bar">bar</a>
\ No newline at end of file
+<a href="bar">bar</a>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/hashes/a/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/hashes/a/+page.svelte
index 19192d1e9..7ac5f9c2a 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/hashes/a/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/hashes/a/+page.svelte
@@ -1,4 +1,4 @@
 <h1 id="hash-target">a</h1>
 <a href="#hash-target">hash link</a>
 <a href="/routing/hashes/b">b</a>
-<a href="#replace-state" data-sveltekit-replacestate>replace state</a>
\ No newline at end of file
+<a href="#replace-state" data-sveltekit-replacestate>replace state</a>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/hashes/pagestore/+page.svelte b/packages/kit/test/apps/basics/src/routes/routing/hashes/pagestore/+page.svelte
index 630589a9d..5745984e4 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/hashes/pagestore/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/hashes/pagestore/+page.svelte
@@ -3,7 +3,7 @@
 	import { onMount } from 'svelte';
 
 	/** @type {string} */
-	let hash
+	let hash;
 
 	onMount(set_hash);
 
diff --git a/packages/kit/test/apps/basics/src/routes/routing/rest/non-greedy/+layout.svelte b/packages/kit/test/apps/basics/src/routes/routing/rest/non-greedy/+layout.svelte
index 9eb6fbb57..1cfb53f35 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/rest/non-greedy/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/rest/non-greedy/+layout.svelte
@@ -1,8 +1,8 @@
 <h1>non-greedy</h1>
 
-<slot></slot>
+<slot />
 
 <a href="/routing/rest/non-greedy/foo/one/two">foo/one/two</a>
 <a href="/routing/rest/non-greedy/food/one/two">food/one/two</a>
 <a href="/routing/rest/non-greedy/one-bar/two/three">one-bar/two/three</a>
-<a href="/routing/rest/non-greedy/one-bard/two/three">one-bard/two/three</a>
\ No newline at end of file
+<a href="/routing/rest/non-greedy/one-bard/two/three">one-bard/two/three</a>
diff --git a/packages/kit/test/apps/basics/src/routes/routing/rest/path/+layout.svelte b/packages/kit/test/apps/basics/src/routes/routing/rest/path/+layout.svelte
index 3963ba1c9..4b33b1165 100644
--- a/packages/kit/test/apps/basics/src/routes/routing/rest/path/+layout.svelte
+++ b/packages/kit/test/apps/basics/src/routes/routing/rest/path/+layout.svelte
@@ -4,4 +4,4 @@
 <a href="/routing/rest/path/four">four</a>
 <a href="/routing/rest/path/five">five</a>
 
-<slot></slot>
\ No newline at end of file
+<slot />
diff --git a/packages/kit/test/apps/basics/src/routes/shadowed/parent/sub/+page.svelte b/packages/kit/test/apps/basics/src/routes/shadowed/parent/sub/+page.svelte
index 10ec5756a..90658ee10 100644
--- a/packages/kit/test/apps/basics/src/routes/shadowed/parent/sub/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/shadowed/parent/sub/+page.svelte
@@ -1,5 +1,5 @@
 <script>
-    export let data;
+	export let data;
 </script>
 
 <p>Page data: {JSON.stringify(data)}</p>
diff --git a/packages/kit/test/apps/basics/src/routes/shadowed/same-render-entry/+page.svelte b/packages/kit/test/apps/basics/src/routes/shadowed/same-render-entry/+page.svelte
index 58469e584..9d5e66bc6 100644
--- a/packages/kit/test/apps/basics/src/routes/shadowed/same-render-entry/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/shadowed/same-render-entry/+page.svelte
@@ -1 +1 @@
-<a href="/shadowed/same-render?param1=value1">Click here to navigate</a>
\ No newline at end of file
+<a href="/shadowed/same-render?param1=value1">Click here to navigate</a>
diff --git a/packages/kit/test/apps/basics/src/routes/store/client-access/+page.svelte b/packages/kit/test/apps/basics/src/routes/store/client-access/+page.svelte
index d6fb29263..7f54b2f67 100644
--- a/packages/kit/test/apps/basics/src/routes/store/client-access/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/store/client-access/+page.svelte
@@ -8,6 +8,6 @@
 
 <button
 	on:click={() => {
-		getStores().page.subscribe(($page) => pathname = $page.url.pathname)();
+		getStores().page.subscribe(($page) => (pathname = $page.url.pathname))();
 	}}>click</button
 >
diff --git a/packages/kit/test/apps/basics/src/routes/store/data/store-update/a/+page.svelte b/packages/kit/test/apps/basics/src/routes/store/data/store-update/a/+page.svelte
index 98aa6d082..2f9719636 100644
--- a/packages/kit/test/apps/basics/src/routes/store/data/store-update/a/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/store/data/store-update/a/+page.svelte
@@ -1 +1 @@
-Page A
\ No newline at end of file
+Page A
diff --git a/packages/kit/test/apps/basics/src/routes/store/data/store-update/b/+page.svelte b/packages/kit/test/apps/basics/src/routes/store/data/store-update/b/+page.svelte
index 331b9e838..b70c2293c 100644
--- a/packages/kit/test/apps/basics/src/routes/store/data/store-update/b/+page.svelte
+++ b/packages/kit/test/apps/basics/src/routes/store/data/store-update/b/+page.svelte
@@ -1 +1 @@
-Page B
\ No newline at end of file
+Page B
diff --git a/packages/kit/test/apps/dev-only/src/app.html b/packages/kit/test/apps/dev-only/src/app.html
index 1e37ecc2f..c2b16b00d 100644
--- a/packages/kit/test/apps/dev-only/src/app.html
+++ b/packages/kit/test/apps/dev-only/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/options-2/src/app.html b/packages/kit/test/apps/options-2/src/app.html
index 779b2f927..b8ba4699b 100644
--- a/packages/kit/test/apps/options-2/src/app.html
+++ b/packages/kit/test/apps/options-2/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/options/source/components/Message.svelte b/packages/kit/test/apps/options/source/components/Message.svelte
index 03aaba873..089df14bf 100644
--- a/packages/kit/test/apps/options/source/components/Message.svelte
+++ b/packages/kit/test/apps/options/source/components/Message.svelte
@@ -2,4 +2,4 @@
 	import { browser, dev } from '$app/environment';
 </script>
 
-<p>Hello from the {browser ? 'client' : 'server'} in {dev ? 'dev' : 'prod'} mode!</p>
\ No newline at end of file
+<p>Hello from the {browser ? 'client' : 'server'} in {dev ? 'dev' : 'prod'} mode!</p>
diff --git a/packages/kit/test/apps/options/source/pages/+page.svelte b/packages/kit/test/apps/options/source/pages/+page.svelte
index e1d2caf93..28eb4f795 100644
--- a/packages/kit/test/apps/options/source/pages/+page.svelte
+++ b/packages/kit/test/apps/options/source/pages/+page.svelte
@@ -3,4 +3,4 @@
 </script>
 
 <h2>We're on index.svelte</h2>
-<Message/>
\ No newline at end of file
+<Message />
diff --git a/packages/kit/test/apps/options/source/template.html b/packages/kit/test/apps/options/source/template.html
index 4347ea201..e86d6f228 100644
--- a/packages/kit/test/apps/options/source/template.html
+++ b/packages/kit/test/apps/options/source/template.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/writes/src/app.html b/packages/kit/test/apps/writes/src/app.html
index 419c2fe0b..79d946ed8 100644
--- a/packages/kit/test/apps/writes/src/app.html
+++ b/packages/kit/test/apps/writes/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/apps/writes/src/routes/new-route/zzzz1662642734866/+page.svelte b/packages/kit/test/apps/writes/src/routes/new-route/zzzz1662642734866/+page.svelte
index 61fea9a32..ed6399be5 100644
--- a/packages/kit/test/apps/writes/src/routes/new-route/zzzz1662642734866/+page.svelte
+++ b/packages/kit/test/apps/writes/src/routes/new-route/zzzz1662642734866/+page.svelte
@@ -1 +1 @@
-<h1>Hello new route</h1>
\ No newline at end of file
+<h1>Hello new route</h1>
diff --git a/packages/kit/test/build-errors/apps/prerender-entry-generator-mismatch/src/app.html b/packages/kit/test/build-errors/apps/prerender-entry-generator-mismatch/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/prerender-entry-generator-mismatch/src/app.html
+++ b/packages/kit/test/build-errors/apps/prerender-entry-generator-mismatch/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/prerenderable-incorrect-fragment/src/app.html b/packages/kit/test/build-errors/apps/prerenderable-incorrect-fragment/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/prerenderable-incorrect-fragment/src/app.html
+++ b/packages/kit/test/build-errors/apps/prerenderable-incorrect-fragment/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/prerenderable-not-prerendered/src/app.html b/packages/kit/test/build-errors/apps/prerenderable-not-prerendered/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/prerenderable-not-prerendered/src/app.html
+++ b/packages/kit/test/build-errors/apps/prerenderable-not-prerendered/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/private-dynamic-env-dynamic-import/src/app.html b/packages/kit/test/build-errors/apps/private-dynamic-env-dynamic-import/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/private-dynamic-env-dynamic-import/src/app.html
+++ b/packages/kit/test/build-errors/apps/private-dynamic-env-dynamic-import/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/private-dynamic-env/src/app.html b/packages/kit/test/build-errors/apps/private-dynamic-env/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/private-dynamic-env/src/app.html
+++ b/packages/kit/test/build-errors/apps/private-dynamic-env/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/private-static-env-dynamic-import/src/app.html b/packages/kit/test/build-errors/apps/private-static-env-dynamic-import/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/private-static-env-dynamic-import/src/app.html
+++ b/packages/kit/test/build-errors/apps/private-static-env-dynamic-import/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/private-static-env/src/app.html b/packages/kit/test/build-errors/apps/private-static-env/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/private-static-env/src/app.html
+++ b/packages/kit/test/build-errors/apps/private-static-env/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/server-only-folder-dynamic-import/src/app.html b/packages/kit/test/build-errors/apps/server-only-folder-dynamic-import/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/server-only-folder-dynamic-import/src/app.html
+++ b/packages/kit/test/build-errors/apps/server-only-folder-dynamic-import/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/server-only-folder/src/app.html b/packages/kit/test/build-errors/apps/server-only-folder/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/server-only-folder/src/app.html
+++ b/packages/kit/test/build-errors/apps/server-only-folder/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/server-only-module-dynamic-import/src/app.html b/packages/kit/test/build-errors/apps/server-only-module-dynamic-import/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/server-only-module-dynamic-import/src/app.html
+++ b/packages/kit/test/build-errors/apps/server-only-module-dynamic-import/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/server-only-module/src/app.html b/packages/kit/test/build-errors/apps/server-only-module/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/server-only-module/src/app.html
+++ b/packages/kit/test/build-errors/apps/server-only-module/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/build-errors/apps/syntax-error/src/app.html b/packages/kit/test/build-errors/apps/syntax-error/src/app.html
index 2f8367462..866ddd01e 100644
--- a/packages/kit/test/build-errors/apps/syntax-error/src/app.html
+++ b/packages/kit/test/build-errors/apps/syntax-error/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/prerendering/basics/src/app.html b/packages/kit/test/prerendering/basics/src/app.html
index 3b96b1bd3..f1612538f 100644
--- a/packages/kit/test/prerendering/basics/src/app.html
+++ b/packages/kit/test/prerendering/basics/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/prerendering/options/src/app.html b/packages/kit/test/prerendering/options/src/app.html
index 44d8856cc..0747fe81a 100644
--- a/packages/kit/test/prerendering/options/src/app.html
+++ b/packages/kit/test/prerendering/options/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/prerendering/paths-base/src/app.html b/packages/kit/test/prerendering/paths-base/src/app.html
index d2d75b458..3ea829eda 100644
--- a/packages/kit/test/prerendering/paths-base/src/app.html
+++ b/packages/kit/test/prerendering/paths-base/src/app.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html>
+<!doctype html>
 <html lang="en">
 	<head>
 		<meta charset="utf-8" />
diff --git a/packages/kit/test/prerendering/paths-base/src/routes/dynamic/[slug]/+page.svelte b/packages/kit/test/prerendering/paths-base/src/routes/dynamic/[slug]/+page.svelte
index 91ad718b6..9873d6864 100644
--- a/packages/kit/test/prerendering/paths-base/src/routes/dynamic/[slug]/+page.svelte
+++ b/packages/kit/test/prerendering/paths-base/src/routes/dynamic/[slug]/+page.svelte
@@ -2,4 +2,4 @@
 	import { page } from '$app/stores';
 </script>
 
-<h1>{$page.params.slug}</h1>
\ No newline at end of file
+<h1>{$page.params.slug}</h1>
diff --git a/packages/migrate/package.json b/packages/migrate/package.json
index 836ae1935..90520af8b 100644
--- a/packages/migrate/package.json
+++ b/packages/migrate/package.json
@@ -36,7 +36,7 @@
 		"@types/node": "^16.18.6",
 		"@types/prompts": "^2.4.1",
 		"@types/semver": "^7.5.0",
-		"prettier": "^2.8.0",
+		"prettier": "^3.1.0",
 		"vitest": "^0.34.5"
 	},
 	"scripts": {
diff --git a/packages/package/package.json b/packages/package/package.json
index 86d96f281..fc67a95a2 100644
--- a/packages/package/package.json
+++ b/packages/package/package.json
@@ -36,7 +36,7 @@
 		"types"
 	],
 	"scripts": {
-		"lint": "prettier --check . --config ../../.prettierrc --ignore-path .gitignore",
+		"lint": "prettier --check .",
 		"check": "tsc",
 		"check:all": "tsc && pnpm -r --filter=\"./**\" check",
 		"format": "pnpm lint --write",
diff --git a/packages/package/src/utils.js b/packages/package/src/utils.js
index e299509e7..541296cac 100644
--- a/packages/package/src/utils.js
+++ b/packages/package/src/utils.js
@@ -84,10 +84,10 @@ export function analyze(file, extensions) {
 	const dest = svelte_extension
 		? name.slice(0, -svelte_extension.length) + '.svelte'
 		: name.endsWith('.d.ts')
-		? name
-		: name.endsWith('.ts')
-		? name.slice(0, -3) + '.js'
-		: name;
+		  ? name
+		  : name.endsWith('.ts')
+		    ? name.slice(0, -3) + '.js'
+		    : name;
 
 	return {
 		name,
diff --git a/packages/package/test/fixtures/resolve-alias/src/lib/Test.svelte b/packages/package/test/fixtures/resolve-alias/src/lib/Test.svelte
index 77589dd2a..9e188abd7 100644
--- a/packages/package/test/fixtures/resolve-alias/src/lib/Test.svelte
+++ b/packages/package/test/fixtures/resolve-alias/src/lib/Test.svelte
@@ -1,8 +1,8 @@
 <script lang="ts">
-    import { foo } from '$lib/sub/foo';
-    import { util } from '$utils';
+	import { foo } from '$lib/sub/foo';
+	import { util } from '$utils';
 
-    export let bar = foo;
+	export let bar = foo;
 
-		util();
+	util();
 </script>
diff --git a/packages/package/test/fixtures/typescript/src/lib/Plain.svelte b/packages/package/test/fixtures/typescript/src/lib/Plain.svelte
index 29329add3..1e058c333 100644
--- a/packages/package/test/fixtures/typescript/src/lib/Plain.svelte
+++ b/packages/package/test/fixtures/typescript/src/lib/Plain.svelte
@@ -4,5 +4,9 @@
 </script>
 
 <svelte:head>
-  <script type="application/ld+json">{JSON.stringify(jsonLd)}</script>
+	<script type="application/ld+json">
+		{
+			JSON.stringify(jsonLd);
+		}
+	</script>
 </svelte:head>
diff --git a/packages/package/test/index.js b/packages/package/test/index.js
index 1dafa5da0..3128aa739 100644
--- a/packages/package/test/index.js
+++ b/packages/package/test/index.js
@@ -52,8 +52,8 @@ async function test_make_package(path, options) {
 		const err_msg = `Expected equal file contents for ${file} in ${path}`;
 
 		if (extensions.some((ext) => pathname.endsWith(ext))) {
-			const expected_content = format(file, expected.toString('utf-8'));
-			const actual_content = format(file, actual.toString('utf-8'));
+			const expected_content = await format(file, expected.toString('utf-8'));
+			const actual_content = await format(file, actual.toString('utf-8'));
 			assert.fixture(actual_content, expected_content, err_msg);
 		} else {
 			assert.ok(expected.equals(actual), err_msg);
@@ -66,14 +66,14 @@ async function test_make_package(path, options) {
  * @param {string} file
  * @param {string} content
  */
-function format(file, content) {
+async function format(file, content) {
 	if (file.endsWith('package.json')) {
 		// For some reason these are ordered differently in different test environments
 		const json = JSON.parse(content);
 		json.exports = Object.entries(json.exports).sort(([ak], [bk]) => ak.localeCompare(bk));
 		content = JSON.stringify(json);
 	}
-	return prettier.format(content, {
+	return await prettier.format(content, {
 		parser: file.endsWith('.svelte') ? 'svelte' : file.endsWith('.json') ? 'json' : 'typescript',
 		plugins: ['prettier-plugin-svelte']
 	});
diff --git a/pnpm-lock.yaml b/pnpm-lock.yaml
index 90a621b9d..4fcf6d953 100644
--- a/pnpm-lock.yaml
+++ b/pnpm-lock.yaml
@@ -9,8 +9,8 @@ importers:
   .:
     devDependencies:
       '@changesets/cli':
-        specifier: ^2.26.0
-        version: 2.26.0
+        specifier: ^2.26.2
+        version: 2.26.2
       '@rollup/plugin-commonjs':
         specifier: ^25.0.0
         version: 25.0.0(rollup@3.29.4)
@@ -22,13 +22,13 @@ importers:
         version: 15.0.1(rollup@3.29.4)
       '@sveltejs/eslint-config':
         specifier: ^6.0.4
-        version: 6.0.4(@typescript-eslint/eslint-plugin@6.0.0)(@typescript-eslint/parser@6.9.1)(eslint-config-prettier@9.0.0)(eslint-plugin-svelte@2.31.0)(eslint-plugin-unicorn@49.0.0)(eslint@8.52.0)(typescript@4.9.4)
+        version: 6.0.4(@typescript-eslint/eslint-plugin@6.0.0)(@typescript-eslint/parser@6.10.0)(eslint-config-prettier@9.0.0)(eslint-plugin-svelte@2.31.0)(eslint-plugin-unicorn@49.0.0)(eslint@8.52.0)(typescript@4.9.4)
       '@svitejs/changesets-changelog-github-compact':
         specifier: ^1.1.0
         version: 1.1.0
       '@typescript-eslint/eslint-plugin':
         specifier: ^6.0.0
-        version: 6.0.0(@typescript-eslint/parser@6.9.1)(eslint@8.52.0)(typescript@4.9.4)
+        version: 6.0.0(@typescript-eslint/parser@6.10.0)(eslint@8.52.0)(typescript@4.9.4)
       eslint:
         specifier: ^8.52.0
         version: 8.52.0
@@ -45,8 +45,8 @@ importers:
         specifier: 1.30.0
         version: 1.30.0
       prettier:
-        specifier: ^2.8.0
-        version: 2.8.0
+        specifier: ^3.1.0
+        version: 3.1.0
       rollup:
         specifier: ^3.29.4
         version: 3.29.4
@@ -80,7 +80,7 @@ importers:
         version: 4.20230404.0
       '@sveltejs/kit':
         specifier: ^1.0.0
-        version: 1.27.5(svelte@4.2.2)(vite@4.4.9)
+        version: link:../kit
       esbuild:
         specifier: ^0.18.11
         version: 0.18.11
@@ -108,7 +108,7 @@ importers:
         version: 2.2.5
       '@sveltejs/kit':
         specifier: ^1.0.0
-        version: 1.27.5(svelte@4.2.2)(vite@4.4.9)
+        version: link:../kit
       esbuild:
         specifier: ^0.18.11
         version: 0.18.11
@@ -289,7 +289,7 @@ importers:
     dependencies:
       '@sveltejs/kit':
         specifier: ^1.0.0
-        version: 1.27.5(svelte@4.2.2)(vite@4.4.9)
+        version: link:../kit
 
   packages/create-svelte:
     dependencies:
@@ -306,18 +306,15 @@ importers:
       '@types/gitignore-parser':
         specifier: ^0.0.2
         version: 0.0.2
-      '@types/prettier':
-        specifier: ^2.7.1
-        version: 2.7.1
       gitignore-parser:
         specifier: ^0.0.2
         version: 0.0.2
       prettier:
-        specifier: ^2.8.0
-        version: 2.8.0
+        specifier: ^3.1.0
+        version: 3.1.0
       prettier-plugin-svelte:
-        specifier: ^2.10.1
-        version: 2.10.1(prettier@2.8.0)(svelte@4.2.2)
+        specifier: ^3.0.0
+        version: 3.0.3(prettier@3.1.0)(svelte@4.2.2)
       sucrase:
         specifier: ^3.29.0
         version: 3.29.0
@@ -965,8 +962,8 @@ importers:
         specifier: ^7.5.0
         version: 7.5.0
       prettier:
-        specifier: ^2.8.0
-        version: 2.8.0
+        specifier: ^3.1.0
+        version: 3.1.0
       vitest:
         specifier: ^0.34.5
         version: 0.34.5(lightningcss@1.21.8)(playwright@1.30.0)
@@ -1072,11 +1069,11 @@ importers:
         specifier: ^10.0.0
         version: 10.0.0
       prettier:
-        specifier: ^3.0.3
-        version: 3.0.3
+        specifier: ^3.1.0
+        version: 3.1.0
       prettier-plugin-svelte:
         specifier: ^3.0.3
-        version: 3.0.3(prettier@3.0.3)(svelte@4.2.2)
+        version: 3.0.3(prettier@3.1.0)(svelte@4.2.2)
       prism-svelte:
         specifier: ^0.5.0
         version: 0.5.0
@@ -1162,7 +1159,7 @@ packages:
       fs-extra: 7.0.1
       lodash.startcase: 4.4.0
       outdent: 0.5.0
-      prettier: 2.8.0
+      prettier: 2.8.8
       resolve-from: 5.0.0
       semver: 7.5.4
     dev: true
@@ -1184,8 +1181,8 @@ packages:
       '@changesets/types': 5.2.1
     dev: true
 
-  /@changesets/cli@2.26.0:
-    resolution: {integrity: sha512-0cbTiDms+ICTVtEwAFLNW0jBNex9f5+fFv3I771nBvdnV/mOjd1QJ4+f8KtVSOrwD9SJkk9xbDkWFb0oXd8d1Q==}
+  /@changesets/cli@2.26.2:
+    resolution: {integrity: sha512-dnWrJTmRR8bCHikJHl9b9HW3gXACCehz4OasrXpMp7sx97ECuBGGNjJhjPhdZNCvMy9mn4BWdplI323IbqsRig==}
     hasBin: true
     dependencies:
       '@babel/runtime': 7.22.10
@@ -1204,7 +1201,7 @@ packages:
       '@changesets/write': 0.2.3
       '@manypkg/get-packages': 1.1.3
       '@types/is-ci': 3.0.0
-      '@types/semver': 6.2.3
+      '@types/semver': 7.5.0
       ansi-colors: 4.1.3
       chalk: 2.4.2
       enquirer: 2.4.1
@@ -1217,7 +1214,7 @@ packages:
       p-limit: 2.3.0
       preferred-pm: 3.0.3
       resolve-from: 5.0.0
-      semver: 5.7.2
+      semver: 7.5.4
       spawndamnit: 2.0.0
       term-size: 2.2.1
       tty-table: 4.2.1
@@ -1339,7 +1336,7 @@ packages:
       '@changesets/types': 5.2.1
       fs-extra: 7.0.1
       human-id: 1.0.2
-      prettier: 2.8.0
+      prettier: 2.8.8
     dev: true
 
   /@clack/core@0.3.3:
@@ -2037,7 +2034,7 @@ packages:
     resolution: {integrity: sha512-+Fj43pSMwJs4KRrH/938Uf+uAELIgVBmQzg/q1YG10djyfA3TnrU8N8XzqCh/okZdszqBQTZf96idMfE5lnwTA==}
     dev: true
 
-  /@sveltejs/eslint-config@6.0.4(@typescript-eslint/eslint-plugin@6.0.0)(@typescript-eslint/parser@6.9.1)(eslint-config-prettier@9.0.0)(eslint-plugin-svelte@2.31.0)(eslint-plugin-unicorn@49.0.0)(eslint@8.52.0)(typescript@4.9.4):
+  /@sveltejs/eslint-config@6.0.4(@typescript-eslint/eslint-plugin@6.0.0)(@typescript-eslint/parser@6.10.0)(eslint-config-prettier@9.0.0)(eslint-plugin-svelte@2.31.0)(eslint-plugin-unicorn@49.0.0)(eslint@8.52.0)(typescript@4.9.4):
     resolution: {integrity: sha512-U9pwmDs+DbmsnCgTfu6Bacdwqn0DuI1IQNSiQqTgzVyYfaaj+zy9ZoQCiJfxFBGXHkklyXuRHp0KMx346N0lcQ==}
     peerDependencies:
       '@typescript-eslint/eslint-plugin': '>= 5'
@@ -2048,8 +2045,8 @@ packages:
       eslint-plugin-unicorn: '>= 47'
       typescript: '>= 4'
     dependencies:
-      '@typescript-eslint/eslint-plugin': 6.0.0(@typescript-eslint/parser@6.9.1)(eslint@8.52.0)(typescript@4.9.4)
-      '@typescript-eslint/parser': 6.9.1(eslint@8.52.0)(typescript@4.9.4)
+      '@typescript-eslint/eslint-plugin': 6.0.0(@typescript-eslint/parser@6.10.0)(eslint@8.52.0)(typescript@4.9.4)
+      '@typescript-eslint/parser': 6.10.0(eslint@8.52.0)(typescript@4.9.4)
       eslint: 8.52.0
       eslint-config-prettier: 9.0.0(eslint@8.52.0)
       eslint-plugin-svelte: 2.31.0(eslint@8.52.0)(svelte@4.2.2)
@@ -2057,34 +2054,6 @@ packages:
       typescript: 4.9.4
     dev: true
 
-  /@sveltejs/kit@1.27.5(svelte@4.2.2)(vite@4.4.9):
-    resolution: {integrity: sha512-+L1WPs/ZYNjXoBFoFARypD4aZOjkT51vFpRCtQI45+Fmmfi4Y0dH/8VFlmYD6VlGe89ViIPg7lgf/JpGQ2tr7A==}
-    engines: {node: ^16.14 || >=18}
-    hasBin: true
-    requiresBuild: true
-    peerDependencies:
-      svelte: ^3.54.0 || ^4.0.0-next.0 || ^5.0.0-next.0
-      vite: ^4.0.0
-    dependencies:
-      '@sveltejs/vite-plugin-svelte': 2.5.0(svelte@4.2.2)(vite@4.4.9)
-      '@types/cookie': 0.5.1
-      cookie: 0.5.0
-      devalue: 4.3.1
-      esm-env: 1.0.0
-      kleur: 4.1.5
-      magic-string: 0.30.5
-      mrmime: 1.0.1
-      sade: 1.8.1
-      set-cookie-parser: 2.6.0
-      sirv: 2.0.3
-      svelte: 4.2.2
-      tiny-glob: 0.2.9
-      undici: 5.26.3
-      vite: 4.4.9(@types/node@16.18.6)(lightningcss@1.21.8)
-    transitivePeerDependencies:
-      - supports-color
-    dev: false
-
   /@sveltejs/site-kit@6.0.0-next.52(@sveltejs/kit@packages+kit)(svelte@4.2.2):
     resolution: {integrity: sha512-r/VoVllvrr9So9LcYT7XRXDK38Q6Fx062gosuTkDztENBw+qGp3hMq1vg9qSomJastmavRzze1cjJnQFgacWMw==}
     peerDependencies:
@@ -2222,10 +2191,6 @@ packages:
     resolution: {integrity: sha512-Gj7cI7z+98M282Tqmp2K5EIsoouUEzbBJhQQzDE3jSIRk6r9gsz0oUokqIUR4u1R3dMHo0pDHM7sNOHyhulypw==}
     dev: true
 
-  /@types/prettier@2.7.1:
-    resolution: {integrity: sha512-ri0UmynRRvZiiUJdiz38MmIblKK+oH30MztdBVR95dv/Ubw6neWSb8u1XpRb72L4qsZOhz+L+z9JD40SJmfWow==}
-    dev: true
-
   /@types/prompts@2.4.1:
     resolution: {integrity: sha512-1Mqzhzi9W5KlooNE4o0JwSXGUDeQXKldbGn9NO4tpxwZbHXYd+WcKpCksG2lbhH7U9I9LigfsdVsP2QAY0lNPA==}
     dependencies:
@@ -2245,10 +2210,6 @@ packages:
       '@types/mri': 1.1.1
     dev: true
 
-  /@types/semver@6.2.3:
-    resolution: {integrity: sha512-KQf+QAMWKMrtBMsB8/24w53tEsxllMj6TuA80TT/5igJalLI/zm0L3oXRbIAl4Ohfc85gyHX/jhMwsVkmhLU4A==}
-    dev: true
-
   /@types/semver@7.5.0:
     resolution: {integrity: sha512-G8hZ6XJiHnuhQKR7ZmysCeJWE08o8T0AXtk5darsCaTVsYZhhgUrq53jizaR2FvsoeCwJhlmwTjkXBY5Pn/ZHw==}
     dev: true
@@ -2265,7 +2226,7 @@ packages:
       '@types/node': 16.18.6
     dev: true
 
-  /@typescript-eslint/eslint-plugin@6.0.0(@typescript-eslint/parser@6.9.1)(eslint@8.52.0)(typescript@4.9.4):
+  /@typescript-eslint/eslint-plugin@6.0.0(@typescript-eslint/parser@6.10.0)(eslint@8.52.0)(typescript@4.9.4):
     resolution: {integrity: sha512-xuv6ghKGoiq856Bww/yVYnXGsKa588kY3M0XK7uUW/3fJNNULKRfZfSBkMTSpqGG/8ZCXCadfh8G/z/B4aqS/A==}
     engines: {node: ^16.0.0 || >=18.0.0}
     peerDependencies:
@@ -2277,7 +2238,7 @@ packages:
         optional: true
     dependencies:
       '@eslint-community/regexpp': 4.6.2
-      '@typescript-eslint/parser': 6.9.1(eslint@8.52.0)(typescript@4.9.4)
+      '@typescript-eslint/parser': 6.10.0(eslint@8.52.0)(typescript@4.9.4)
       '@typescript-eslint/scope-manager': 6.0.0
       '@typescript-eslint/type-utils': 6.0.0(eslint@8.52.0)(typescript@4.9.4)
       '@typescript-eslint/utils': 6.0.0(eslint@8.52.0)(typescript@4.9.4)
@@ -2296,8 +2257,8 @@ packages:
       - supports-color
     dev: true
 
-  /@typescript-eslint/parser@6.9.1(eslint@8.52.0)(typescript@4.9.4):
-    resolution: {integrity: sha512-C7AK2wn43GSaCUZ9do6Ksgi2g3mwFkMO3Cis96kzmgudoVaKyt62yNzJOktP0HDLb/iO2O0n2lBOzJgr6Q/cyg==}
+  /@typescript-eslint/parser@6.10.0(eslint@8.52.0)(typescript@4.9.4):
+    resolution: {integrity: sha512-+sZwIj+s+io9ozSxIWbNB5873OSdfeBEH/FR0re14WLI6BaKuSOnnwCJ2foUiu8uXf4dRp1UqHP0vrZ1zXGrog==}
     engines: {node: ^16.0.0 || >=18.0.0}
     peerDependencies:
       eslint: ^7.0.0 || ^8.0.0
@@ -2306,10 +2267,10 @@ packages:
       typescript:
         optional: true
     dependencies:
-      '@typescript-eslint/scope-manager': 6.9.1
-      '@typescript-eslint/types': 6.9.1
-      '@typescript-eslint/typescript-estree': 6.9.1(typescript@4.9.4)
-      '@typescript-eslint/visitor-keys': 6.9.1
+      '@typescript-eslint/scope-manager': 6.10.0
+      '@typescript-eslint/types': 6.10.0
+      '@typescript-eslint/typescript-estree': 6.10.0(typescript@4.9.4)
+      '@typescript-eslint/visitor-keys': 6.10.0
       debug: 4.3.4
       eslint: 8.52.0
       typescript: 4.9.4
@@ -2325,12 +2286,12 @@ packages:
       '@typescript-eslint/visitor-keys': 6.0.0
     dev: true
 
-  /@typescript-eslint/scope-manager@6.9.1:
-    resolution: {integrity: sha512-38IxvKB6NAne3g/+MyXMs2Cda/Sz+CEpmm+KLGEM8hx/CvnSRuw51i8ukfwB/B/sESdeTGet1NH1Wj7I0YXswg==}
+  /@typescript-eslint/scope-manager@6.10.0:
+    resolution: {integrity: sha512-TN/plV7dzqqC2iPNf1KrxozDgZs53Gfgg5ZHyw8erd6jd5Ta/JIEcdCheXFt9b1NYb93a1wmIIVW/2gLkombDg==}
     engines: {node: ^16.0.0 || >=18.0.0}
     dependencies:
-      '@typescript-eslint/types': 6.9.1
-      '@typescript-eslint/visitor-keys': 6.9.1
+      '@typescript-eslint/types': 6.10.0
+      '@typescript-eslint/visitor-keys': 6.10.0
     dev: true
 
   /@typescript-eslint/type-utils@6.0.0(eslint@8.52.0)(typescript@4.9.4):
@@ -2358,8 +2319,8 @@ packages:
     engines: {node: ^16.0.0 || >=18.0.0}
     dev: true
 
-  /@typescript-eslint/types@6.9.1:
-    resolution: {integrity: sha512-BUGslGOb14zUHOUmDB2FfT6SI1CcZEJYfF3qFwBeUrU6srJfzANonwRYHDpLBuzbq3HaoF2XL2hcr01c8f8OaQ==}
+  /@typescript-eslint/types@6.10.0:
+    resolution: {integrity: sha512-36Fq1PWh9dusgo3vH7qmQAj5/AZqARky1Wi6WpINxB6SkQdY5vQoT2/7rW7uBIsPDcvvGCLi4r10p0OJ7ITAeg==}
     engines: {node: ^16.0.0 || >=18.0.0}
     dev: true
 
@@ -2384,8 +2345,8 @@ packages:
       - supports-color
     dev: true
 
-  /@typescript-eslint/typescript-estree@6.9.1(typescript@4.9.4):
-    resolution: {integrity: sha512-U+mUylTHfcqeO7mLWVQ5W/tMLXqVpRv61wm9ZtfE5egz7gtnmqVIw9ryh0mgIlkKk9rZLY3UHygsBSdB9/ftyw==}
+  /@typescript-eslint/typescript-estree@6.10.0(typescript@4.9.4):
+    resolution: {integrity: sha512-ek0Eyuy6P15LJVeghbWhSrBCj/vJpPXXR+EpaRZqou7achUWL8IdYnMSC5WHAeTWswYQuP2hAZgij/bC9fanBg==}
     engines: {node: ^16.0.0 || >=18.0.0}
     peerDependencies:
       typescript: '*'
@@ -2393,8 +2354,8 @@ packages:
       typescript:
         optional: true
     dependencies:
-      '@typescript-eslint/types': 6.9.1
-      '@typescript-eslint/visitor-keys': 6.9.1
+      '@typescript-eslint/types': 6.10.0
+      '@typescript-eslint/visitor-keys': 6.10.0
       debug: 4.3.4
       globby: 11.1.0
       is-glob: 4.0.3
@@ -2433,11 +2394,11 @@ packages:
       eslint-visitor-keys: 3.4.3
     dev: true
 
-  /@typescript-eslint/visitor-keys@6.9.1:
-    resolution: {integrity: sha512-MUaPUe/QRLEffARsmNfmpghuQkW436DvESW+h+M52w0coICHRfD6Np9/K6PdACwnrq1HmuLl+cSPZaJmeVPkSw==}
+  /@typescript-eslint/visitor-keys@6.10.0:
+    resolution: {integrity: sha512-xMGluxQIEtOM7bqFCo+rCMh5fqI+ZxV5RUUOa29iVPz1OgCZrtc7rFnz5cLUazlkPKYqX+75iuDq7m0HQ48nCg==}
     engines: {node: ^16.0.0 || >=18.0.0}
     dependencies:
-      '@typescript-eslint/types': 6.9.1
+      '@typescript-eslint/types': 6.10.0
       eslint-visitor-keys: 3.4.3
     dev: true
 
@@ -5149,34 +5110,24 @@ packages:
     engines: {node: '>= 0.8.0'}
     dev: true
 
-  /prettier-plugin-svelte@2.10.1(prettier@2.8.0)(svelte@4.2.2):
-    resolution: {integrity: sha512-Wlq7Z5v2ueCubWo0TZzKc9XHcm7TDxqcuzRuGd0gcENfzfT4JZ9yDlCbEgxWgiPmLHkBjfOtpAWkcT28MCDpUQ==}
-    peerDependencies:
-      prettier: ^1.16.4 || ^2.0.0
-      svelte: ^3.2.0 || ^4.0.0-next.0
-    dependencies:
-      prettier: 2.8.0
-      svelte: 4.2.2
-    dev: true
-
-  /prettier-plugin-svelte@3.0.3(prettier@3.0.3)(svelte@4.2.2):
+  /prettier-plugin-svelte@3.0.3(prettier@3.1.0)(svelte@4.2.2):
     resolution: {integrity: sha512-dLhieh4obJEK1hnZ6koxF+tMUrZbV5YGvRpf2+OADyanjya5j0z1Llo8iGwiHmFWZVG/hLEw/AJD5chXd9r3XA==}
     peerDependencies:
       prettier: ^3.0.0
       svelte: ^3.2.0 || ^4.0.0-next.0
     dependencies:
-      prettier: 3.0.3
+      prettier: 3.1.0
       svelte: 4.2.2
     dev: true
 
-  /prettier@2.8.0:
-    resolution: {integrity: sha512-9Lmg8hTFZKG0Asr/kW9Bp8tJjRVluO8EJQVfY2T7FMw9T5jy4I/Uvx0Rca/XWf50QQ1/SS48+6IJWnrb+2yemA==}
+  /prettier@2.8.8:
+    resolution: {integrity: sha512-tdN8qQGvNjw4CHbY+XXk0JgCXn9QiF21a55rBe5LJAU+kDyC4WQn4+awm2Xfk2lQMk5fKup9XgzTZtGkjBdP9Q==}
     engines: {node: '>=10.13.0'}
     hasBin: true
     dev: true
 
-  /prettier@3.0.3:
-    resolution: {integrity: sha512-L/4pUDMxcNa8R/EthV08Zt42WBO4h1rarVtK0K+QJG0X187OLo7l699jWw0GKuwzkPQ//jMFA/8Xm6Fh3J/DAg==}
+  /prettier@3.1.0:
+    resolution: {integrity: sha512-TQLvXjq5IAibjh8EpBIkNKxO749UEWABoiIZehEPiY4GNpVdhaFKqSTu+QrlU6D2dPAfubRmtJTi4K4YkQ5eXw==}
     engines: {node: '>=14'}
     hasBin: true
     dev: true
diff --git a/sites/kit.svelte.dev/package.json b/sites/kit.svelte.dev/package.json
index 814dbd044..bdb395ad2 100644
--- a/sites/kit.svelte.dev/package.json
+++ b/sites/kit.svelte.dev/package.json
@@ -3,8 +3,8 @@
 	"private": true,
 	"version": "0.0.1",
 	"scripts": {
-		"lint": "prettier --plugin prettier-plugin-svelte --check . --config ../../.prettierrc --ignore-path .gitignore --ignore-path .prettierignore",
-		"format": "prettier --plugin prettier-plugin-svelte --write . --config ../../.prettierrc --ignore-path .gitignore --ignore-path .prettierignore",
+		"lint": "prettier --check .",
+		"format": "prettier --write .",
 		"update": "node scripts/types",
 		"dev": "pnpm run update && vite dev",
 		"build": "pnpm run update && vite build",
@@ -24,7 +24,7 @@
 		"flexsearch": "^0.7.31",
 		"lightningcss": "^1.21.8",
 		"marked": "^10.0.0",
-		"prettier": "^3.0.3",
+		"prettier": "^3.1.0",
 		"prettier-plugin-svelte": "^3.0.3",
 		"prism-svelte": "^0.5.0",
 		"prismjs": "^1.29.0",
