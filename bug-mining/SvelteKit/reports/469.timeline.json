[{"id":12897533795,"node_id":"LE_lADOEiPr8c6Jq0TCzwAAAAMAwL9j","url":"https://api.github.com/repos/sveltejs/kit/issues/events/12897533795","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-05-22T16:32:27Z","label":{"name":"svelte 5","color":"D93F0B"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2171316688","html_url":"https://github.com/sveltejs/kit/issues/12248#issuecomment-2171316688","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12248","id":2171316688,"node_id":"IC_kwDOEiPr8c6Ba6nQ","user":{"login":"kettei-sproutty","id":65831826,"node_id":"MDQ6VXNlcjY1ODMxODI2","avatar_url":"https://avatars.githubusercontent.com/u/65831826?v=4","gravatar_id":"","url":"https://api.github.com/users/kettei-sproutty","html_url":"https://github.com/kettei-sproutty","followers_url":"https://api.github.com/users/kettei-sproutty/followers","following_url":"https://api.github.com/users/kettei-sproutty/following{/other_user}","gists_url":"https://api.github.com/users/kettei-sproutty/gists{/gist_id}","starred_url":"https://api.github.com/users/kettei-sproutty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kettei-sproutty/subscriptions","organizations_url":"https://api.github.com/users/kettei-sproutty/orgs","repos_url":"https://api.github.com/users/kettei-sproutty/repos","events_url":"https://api.github.com/users/kettei-sproutty/events{/privacy}","received_events_url":"https://api.github.com/users/kettei-sproutty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-16T09:32:26Z","updated_at":"2024-06-16T09:32:26Z","body":"I don't know if this can be useful, I wanted to give a shot to this but I don't really know where to put my hands on.\r\n\r\nAs far as i saw `root` is assigned in [kit/src/runtime/client/client.js:434](https://github.com/sveltejs/kit/blob/64ca1b8963b63a5608d5f60b6a12a6e7c5ad9aba/packages/kit/src/runtime/client/client.js#L434) in `initialize` function, but the effect is executed during the creation of `root` by [sveltejs/svelte/blob/main/packages/svelte/src/internal/client/runtime.js:542](https://github.com/sveltejs/svelte/blob/95d07de7f9711855295c3b0ce8adcada10981b12/packages/svelte/src/internal/client/runtime.js#L542), so everything that is called during `$effect` that uses `root`, such as [pushState](https://github.com/sveltejs/kit/blob/64ca1b8963b63a5608d5f60b6a12a6e7c5ad9aba/packages/kit/src/runtime/client/client.js#L1876) or [replaceState](https://github.com/sveltejs/kit/blob/64ca1b8963b63a5608d5f60b6a12a6e7c5ad9aba/packages/kit/src/runtime/client/client.js#L1913), will throw an Error, as root is not yet assigned.\r\n\r\nI hope this can be helpful, I'm not sure if this is even the right place to write this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2171316688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kettei-sproutty","id":65831826,"node_id":"MDQ6VXNlcjY1ODMxODI2","avatar_url":"https://avatars.githubusercontent.com/u/65831826?v=4","gravatar_id":"","url":"https://api.github.com/users/kettei-sproutty","html_url":"https://github.com/kettei-sproutty","followers_url":"https://api.github.com/users/kettei-sproutty/followers","following_url":"https://api.github.com/users/kettei-sproutty/following{/other_user}","gists_url":"https://api.github.com/users/kettei-sproutty/gists{/gist_id}","starred_url":"https://api.github.com/users/kettei-sproutty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kettei-sproutty/subscriptions","organizations_url":"https://api.github.com/users/kettei-sproutty/orgs","repos_url":"https://api.github.com/users/kettei-sproutty/repos","events_url":"https://api.github.com/users/kettei-sproutty/events{/privacy}","received_events_url":"https://api.github.com/users/kettei-sproutty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2183271227","html_url":"https://github.com/sveltejs/kit/issues/12248#issuecomment-2183271227","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12248","id":2183271227,"node_id":"IC_kwDOEiPr8c6CIhM7","user":{"login":"frederikhors","id":41120635,"node_id":"MDQ6VXNlcjQxMTIwNjM1","avatar_url":"https://avatars.githubusercontent.com/u/41120635?v=4","gravatar_id":"","url":"https://api.github.com/users/frederikhors","html_url":"https://github.com/frederikhors","followers_url":"https://api.github.com/users/frederikhors/followers","following_url":"https://api.github.com/users/frederikhors/following{/other_user}","gists_url":"https://api.github.com/users/frederikhors/gists{/gist_id}","starred_url":"https://api.github.com/users/frederikhors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frederikhors/subscriptions","organizations_url":"https://api.github.com/users/frederikhors/orgs","repos_url":"https://api.github.com/users/frederikhors/repos","events_url":"https://api.github.com/users/frederikhors/events{/privacy}","received_events_url":"https://api.github.com/users/frederikhors/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T18:39:14Z","updated_at":"2024-06-21T18:39:14Z","body":"This is huge!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2183271227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"frederikhors","id":41120635,"node_id":"MDQ6VXNlcjQxMTIwNjM1","avatar_url":"https://avatars.githubusercontent.com/u/41120635?v=4","gravatar_id":"","url":"https://api.github.com/users/frederikhors","html_url":"https://github.com/frederikhors","followers_url":"https://api.github.com/users/frederikhors/followers","following_url":"https://api.github.com/users/frederikhors/following{/other_user}","gists_url":"https://api.github.com/users/frederikhors/gists{/gist_id}","starred_url":"https://api.github.com/users/frederikhors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frederikhors/subscriptions","organizations_url":"https://api.github.com/users/frederikhors/orgs","repos_url":"https://api.github.com/users/frederikhors/repos","events_url":"https://api.github.com/users/frederikhors/events{/privacy}","received_events_url":"https://api.github.com/users/frederikhors/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"frederikhors","id":41120635,"node_id":"MDQ6VXNlcjQxMTIwNjM1","avatar_url":"https://avatars.githubusercontent.com/u/41120635?v=4","gravatar_id":"","url":"https://api.github.com/users/frederikhors","html_url":"https://github.com/frederikhors","followers_url":"https://api.github.com/users/frederikhors/followers","following_url":"https://api.github.com/users/frederikhors/following{/other_user}","gists_url":"https://api.github.com/users/frederikhors/gists{/gist_id}","starred_url":"https://api.github.com/users/frederikhors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frederikhors/subscriptions","organizations_url":"https://api.github.com/users/frederikhors/orgs","repos_url":"https://api.github.com/users/frederikhors/repos","events_url":"https://api.github.com/users/frederikhors/events{/privacy}","received_events_url":"https://api.github.com/users/frederikhors/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-10T14:06:16Z","updated_at":"2025-03-07T13:38:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/techniq/layerstack/issues/37","repository_url":"https://api.github.com/repos/techniq/layerstack","labels_url":"https://api.github.com/repos/techniq/layerstack/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/techniq/layerstack/issues/37/comments","events_url":"https://api.github.com/repos/techniq/layerstack/issues/37/events","html_url":"https://github.com/techniq/layerstack/issues/37","id":2903038785,"node_id":"I_kwDOMfgp6c6tCNtB","number":37,"title":"[queryParamsStore] enhancements","user":{"login":"frederikhors","id":41120635,"node_id":"MDQ6VXNlcjQxMTIwNjM1","avatar_url":"https://avatars.githubusercontent.com/u/41120635?v=4","gravatar_id":"","url":"https://api.github.com/users/frederikhors","html_url":"https://github.com/frederikhors","followers_url":"https://api.github.com/users/frederikhors/followers","following_url":"https://api.github.com/users/frederikhors/following{/other_user}","gists_url":"https://api.github.com/users/frederikhors/gists{/gist_id}","starred_url":"https://api.github.com/users/frederikhors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frederikhors/subscriptions","organizations_url":"https://api.github.com/users/frederikhors/orgs","repos_url":"https://api.github.com/users/frederikhors/repos","events_url":"https://api.github.com/users/frederikhors/events{/privacy}","received_events_url":"https://api.github.com/users/frederikhors/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2024-07-09T16:51:22Z","updated_at":"2025-03-07T13:38:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":838347241,"node_id":"R_kgDOMfgp6Q","name":"layerstack","full_name":"techniq/layerstack","private":false,"owner":{"login":"techniq","id":177476,"node_id":"MDQ6VXNlcjE3NzQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/177476?v=4","gravatar_id":"","url":"https://api.github.com/users/techniq","html_url":"https://github.com/techniq","followers_url":"https://api.github.com/users/techniq/followers","following_url":"https://api.github.com/users/techniq/following{/other_user}","gists_url":"https://api.github.com/users/techniq/gists{/gist_id}","starred_url":"https://api.github.com/users/techniq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techniq/subscriptions","organizations_url":"https://api.github.com/users/techniq/orgs","repos_url":"https://api.github.com/users/techniq/repos","events_url":"https://api.github.com/users/techniq/events{/privacy}","received_events_url":"https://api.github.com/users/techniq/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/techniq/layerstack","description":"Utilities to supercharge development.  Powers LayerChart and Svelte UX","fork":false,"url":"https://api.github.com/repos/techniq/layerstack","forks_url":"https://api.github.com/repos/techniq/layerstack/forks","keys_url":"https://api.github.com/repos/techniq/layerstack/keys{/key_id}","collaborators_url":"https://api.github.com/repos/techniq/layerstack/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/techniq/layerstack/teams","hooks_url":"https://api.github.com/repos/techniq/layerstack/hooks","issue_events_url":"https://api.github.com/repos/techniq/layerstack/issues/events{/number}","events_url":"https://api.github.com/repos/techniq/layerstack/events","assignees_url":"https://api.github.com/repos/techniq/layerstack/assignees{/user}","branches_url":"https://api.github.com/repos/techniq/layerstack/branches{/branch}","tags_url":"https://api.github.com/repos/techniq/layerstack/tags","blobs_url":"https://api.github.com/repos/techniq/layerstack/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/techniq/layerstack/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/techniq/layerstack/git/refs{/sha}","trees_url":"https://api.github.com/repos/techniq/layerstack/git/trees{/sha}","statuses_url":"https://api.github.com/repos/techniq/layerstack/statuses/{sha}","languages_url":"https://api.github.com/repos/techniq/layerstack/languages","stargazers_url":"https://api.github.com/repos/techniq/layerstack/stargazers","contributors_url":"https://api.github.com/repos/techniq/layerstack/contributors","subscribers_url":"https://api.github.com/repos/techniq/layerstack/subscribers","subscription_url":"https://api.github.com/repos/techniq/layerstack/subscription","commits_url":"https://api.github.com/repos/techniq/layerstack/commits{/sha}","git_commits_url":"https://api.github.com/repos/techniq/layerstack/git/commits{/sha}","comments_url":"https://api.github.com/repos/techniq/layerstack/comments{/number}","issue_comment_url":"https://api.github.com/repos/techniq/layerstack/issues/comments{/number}","contents_url":"https://api.github.com/repos/techniq/layerstack/contents/{+path}","compare_url":"https://api.github.com/repos/techniq/layerstack/compare/{base}...{head}","merges_url":"https://api.github.com/repos/techniq/layerstack/merges","archive_url":"https://api.github.com/repos/techniq/layerstack/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/techniq/layerstack/downloads","issues_url":"https://api.github.com/repos/techniq/layerstack/issues{/number}","pulls_url":"https://api.github.com/repos/techniq/layerstack/pulls{/number}","milestones_url":"https://api.github.com/repos/techniq/layerstack/milestones{/number}","notifications_url":"https://api.github.com/repos/techniq/layerstack/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/techniq/layerstack/labels{/name}","releases_url":"https://api.github.com/repos/techniq/layerstack/releases{/id}","deployments_url":"https://api.github.com/repos/techniq/layerstack/deployments","created_at":"2024-08-05T13:06:15Z","updated_at":"2025-10-03T22:55:55Z","pushed_at":"2025-09-26T19:57:52Z","git_url":"git://github.com/techniq/layerstack.git","ssh_url":"git@github.com:techniq/layerstack.git","clone_url":"https://github.com/techniq/layerstack.git","svn_url":"https://github.com/techniq/layerstack","homepage":"https://www.layerstack.dev","size":1212,"stargazers_count":15,"watchers_count":15,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":12,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":12,"watchers":15,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Since your project is AMAZING, I was wondering what do you think about creating a \"kit for Kit\" with Svelte 5 that allows us to save in the page URL any POJO object or scalar type we need with the serializer we need (for example I can use `JSON.stringify()` and `JSON.parse()` for now).\r\n\r\n[I described something similar here](https://github.com/sveltejs/kit/discussions/12392).\r\n\r\nThis would be amazing for lists filters for example:\r\n\r\n1. I have a players list on page `/players`\r\n\r\n1. I order the list by created_at DESC\r\n\r\n1. the kit saves this filter in the URL: `/players?order_by=created_at_DESC` (just an example)\r\n\r\n1. I filter players form team_id: 123\r\n\r\n1. the kit saves this new filter in the URL: `/players?order_by=created_at_DESC&team_id=123` (just an example)\r\n\r\n1. I go back with the browser and the URL is now again: `/players?order_by=created_at_DESC` (just an example)\r\n\r\n1. I reload the page now and since the URL is this the list is ordered like before the reload\r\n\r\nI hope you get the idea.\r\n\r\nI now can manually add this using in each place I need it `url.searchParams.set` and `afterNavigate` but I would like to have an helper to be used everywhere.\r\n\r\nAgain, thanks for your work!","reactions":{"url":"https://api.github.com/repos/techniq/layerstack/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/techniq/layerstack/issues/37/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2243580657","html_url":"https://github.com/sveltejs/kit/issues/12248#issuecomment-2243580657","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12248","id":2243580657,"node_id":"IC_kwDOEiPr8c6FulLx","user":{"login":"grantpitt","id":64038883,"node_id":"MDQ6VXNlcjY0MDM4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/64038883?v=4","gravatar_id":"","url":"https://api.github.com/users/grantpitt","html_url":"https://github.com/grantpitt","followers_url":"https://api.github.com/users/grantpitt/followers","following_url":"https://api.github.com/users/grantpitt/following{/other_user}","gists_url":"https://api.github.com/users/grantpitt/gists{/gist_id}","starred_url":"https://api.github.com/users/grantpitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantpitt/subscriptions","organizations_url":"https://api.github.com/users/grantpitt/orgs","repos_url":"https://api.github.com/users/grantpitt/repos","events_url":"https://api.github.com/users/grantpitt/events{/privacy}","received_events_url":"https://api.github.com/users/grantpitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-22T18:37:03Z","updated_at":"2024-07-22T18:37:03Z","body":"A better workaround than setTimeout might be to use svelte's tick function. Seems to work for me.\r\n\r\n```js\r\n    $effect(async () => {\r\n        await tick();\r\n        replaceState(\"/\", {});\r\n    })\r\n``` ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2243580657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"grantpitt","id":64038883,"node_id":"MDQ6VXNlcjY0MDM4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/64038883?v=4","gravatar_id":"","url":"https://api.github.com/users/grantpitt","html_url":"https://github.com/grantpitt","followers_url":"https://api.github.com/users/grantpitt/followers","following_url":"https://api.github.com/users/grantpitt/following{/other_user}","gists_url":"https://api.github.com/users/grantpitt/gists{/gist_id}","starred_url":"https://api.github.com/users/grantpitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantpitt/subscriptions","organizations_url":"https://api.github.com/users/grantpitt/orgs","repos_url":"https://api.github.com/users/grantpitt/repos","events_url":"https://api.github.com/users/grantpitt/events{/privacy}","received_events_url":"https://api.github.com/users/grantpitt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"grantpitt","id":64038883,"node_id":"MDQ6VXNlcjY0MDM4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/64038883?v=4","gravatar_id":"","url":"https://api.github.com/users/grantpitt","html_url":"https://github.com/grantpitt","followers_url":"https://api.github.com/users/grantpitt/followers","following_url":"https://api.github.com/users/grantpitt/following{/other_user}","gists_url":"https://api.github.com/users/grantpitt/gists{/gist_id}","starred_url":"https://api.github.com/users/grantpitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantpitt/subscriptions","organizations_url":"https://api.github.com/users/grantpitt/orgs","repos_url":"https://api.github.com/users/grantpitt/repos","events_url":"https://api.github.com/users/grantpitt/events{/privacy}","received_events_url":"https://api.github.com/users/grantpitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-22T18:38:47Z","updated_at":"2024-07-22T18:38:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/svelte/issues/12477","repository_url":"https://api.github.com/repos/sveltejs/svelte","labels_url":"https://api.github.com/repos/sveltejs/svelte/issues/12477/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/svelte/issues/12477/comments","events_url":"https://api.github.com/repos/sveltejs/svelte/issues/12477/events","html_url":"https://github.com/sveltejs/svelte/issues/12477","id":2413667367,"node_id":"I_kwDOBG2gSc6P3aQn","number":12477,"title":"Svelte 5: replaceState(\"/\", {}) error","user":{"login":"OTheNonE","id":57041901,"node_id":"MDQ6VXNlcjU3MDQxOTAx","avatar_url":"https://avatars.githubusercontent.com/u/57041901?v=4","gravatar_id":"","url":"https://api.github.com/users/OTheNonE","html_url":"https://github.com/OTheNonE","followers_url":"https://api.github.com/users/OTheNonE/followers","following_url":"https://api.github.com/users/OTheNonE/following{/other_user}","gists_url":"https://api.github.com/users/OTheNonE/gists{/gist_id}","starred_url":"https://api.github.com/users/OTheNonE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OTheNonE/subscriptions","organizations_url":"https://api.github.com/users/OTheNonE/orgs","repos_url":"https://api.github.com/users/OTheNonE/repos","events_url":"https://api.github.com/users/OTheNonE/events{/privacy}","received_events_url":"https://api.github.com/users/OTheNonE/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-17T13:44:45Z","updated_at":"2024-07-24T20:35:57Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":74293321,"node_id":"MDEwOlJlcG9zaXRvcnk3NDI5MzMyMQ==","name":"svelte","full_name":"sveltejs/svelte","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/svelte","description":"web development for the rest of us","fork":false,"url":"https://api.github.com/repos/sveltejs/svelte","forks_url":"https://api.github.com/repos/sveltejs/svelte/forks","keys_url":"https://api.github.com/repos/sveltejs/svelte/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/svelte/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/svelte/teams","hooks_url":"https://api.github.com/repos/sveltejs/svelte/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/svelte/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/svelte/events","assignees_url":"https://api.github.com/repos/sveltejs/svelte/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/svelte/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/svelte/tags","blobs_url":"https://api.github.com/repos/sveltejs/svelte/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/svelte/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/svelte/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/svelte/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/svelte/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/svelte/languages","stargazers_url":"https://api.github.com/repos/sveltejs/svelte/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/svelte/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/svelte/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/svelte/subscription","commits_url":"https://api.github.com/repos/sveltejs/svelte/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/svelte/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/svelte/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/svelte/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/svelte/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/svelte/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/svelte/merges","archive_url":"https://api.github.com/repos/sveltejs/svelte/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/svelte/downloads","issues_url":"https://api.github.com/repos/sveltejs/svelte/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/svelte/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/svelte/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/svelte/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/svelte/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/svelte/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/svelte/deployments","created_at":"2016-11-20T18:13:05Z","updated_at":"2025-11-09T20:00:15Z","pushed_at":"2025-11-08T18:57:01Z","git_url":"git://github.com/sveltejs/svelte.git","ssh_url":"git@github.com:sveltejs/svelte.git","clone_url":"https://github.com/sveltejs/svelte.git","svn_url":"https://github.com/sveltejs/svelte","homepage":"https://svelte.dev","size":117378,"stargazers_count":84765,"watchers_count":84765,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4680,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":933,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","template","ui"],"visibility":"public","forks":4680,"open_issues":933,"watchers":84765,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\r\n\r\nWhen running the following code in `src/routes/+page.svelte`:\r\n```svelte\r\n<script lang=\"ts\">\r\n    import { replaceState } from \"$app/navigation\";\r\n\r\n    $effect(() => {\r\n        replaceState(\"/\", {})\r\n    })\r\n\r\n</script>\r\n```\r\nI get a error when calling the `replaceState` function due to `Uncaught (in promise) TypeError: Cannot read properties of undefined (reading '$set') in $effect`\r\n\r\n### Reproduction\r\n\r\n1. Create a sveltekit project using `npm create svelte@latest` (selected typescript and svelte 5).\r\n2. Add the following code to `src/routes/+page.svelte`:\r\n```svelte\r\n<script lang=\"ts\">\r\n    import { replaceState } from \"$app/navigation\";\r\n\r\n    $effect(() => {\r\n        replaceState(\"/\", {})\r\n    })\r\n\r\n</script>\r\n```\r\n\r\n### Logs\r\n\r\n```shell\r\nUncaught (in promise) TypeError: Cannot read properties of undefined (reading '$set')\r\n\r\n\tin $effect\r\n\r\n    at replaceState (http://localhost:5173/node_modules/@sveltejs/kit/src/runtime/client/client.js?v=2d8c9736:1913:7)\r\n    at $effect (http://localhost:5173/src/routes/+page.svelte?t=1721223477430:21:3)\r\n    at update_reaction (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1249:23)\r\n    at update_effect (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1367:21)\r\n    at flush_queued_effects (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1421:7)\r\n    at flush_queued_root_effects (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1408:9)\r\n    at flush_sync (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1528:7)\r\n    at flush_sync (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1533:7)\r\n    at mount (http://localhost:5173/node_modules/.vite/deps/chunk-KL3U4IVS.js?v=2d8c9736:822:10)\r\n    at new Svelte4Component (http://localhost:5173/node_modules/.vite/deps/chunk-KL3U4IVS.js?v=2d8c9736:1012:70)TypeError: Cannot read properties of undefined (reading '$set')\r\n\r\n\tin $effect\r\n\r\n    at replaceState (http://localhost:5173/node_modules/@sveltejs/kit/src/runtime/client/client.js?v=2d8c9736:1913:7)\r\n    at $effect (http://localhost:5173/src/routes/+page.svelte?t=1721223477430:21:3)\r\n    at update_reaction (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1249:23)\r\n    at update_effect (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1367:21)\r\n    at flush_queued_effects (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1421:7)\r\n    at flush_queued_root_effects (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1408:9)\r\n    at flush_sync (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1528:7)\r\n    at flush_sync (http://localhost:5173/node_modules/.vite/deps/chunk-CZZRJ74Z.js?v=2d8c9736:1533:7)\r\n    at mount (http://localhost:5173/node_modules/.vite/deps/chunk-KL3U4IVS.js?v=2d8c9736:822:10)\r\n    at new Svelte4Component (http://localhost:5173/node_modules/.vite/deps/chunk-KL3U4IVS.js?v=2d8c9736:1012:70)\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 11 10.0.22631\r\n    CPU: (20) x64 12th Gen Intel(R) Core(TM) i7-12700KF\r\n    Memory: 50.55 GB / 63.82 GB\r\n  Binaries:\r\n    Node: 20.12.2 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 10.8.1 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Chromium (126.0.2592.102)\r\n    Internet Explorer: 11.0.22621.3527\r\n  npmPackages:\r\n    svelte: ^5.0.0-next.1 => 5.0.0-next.189\r\n```\r\n\r\n\r\n### Severity\r\n\r\nannoyance","reactions":{"url":"https://api.github.com/repos/sveltejs/svelte/issues/12477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/svelte/issues/12477/timeline","performed_via_github_app":null,"state_reason":"reopened"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2304448340","html_url":"https://github.com/sveltejs/kit/issues/12248#issuecomment-2304448340","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12248","id":2304448340,"node_id":"IC_kwDOEiPr8c6JWxdU","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-22T11:35:31Z","updated_at":"2024-08-22T11:35:31Z","body":"This happens because of our use of the legacy component wrapper, which calls `flushSync`, which means the effect runs before the component is fully instantiated.\r\n\r\nThe same happens if you would use onMount, and also in Svelte 4, so this is not strictly related to Svelte 5.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2304448340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13975831849,"node_id":"REFE_lADOEiPr8c6Jq0TCzwAAAANBBkUp","url":"https://api.github.com/repos/sveltejs/kit/issues/events/13975831849","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"51e2b84078deecf8534320da7224539e06583eb4","commit_url":"https://api.github.com/repos/sveltejs/svelte/commits/51e2b84078deecf8534320da7224539e06583eb4","created_at":"2024-08-22T11:41:35Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-22T11:41:54Z","updated_at":"2024-08-22T11:41:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/svelte/issues/12970","repository_url":"https://api.github.com/repos/sveltejs/svelte","labels_url":"https://api.github.com/repos/sveltejs/svelte/issues/12970/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/svelte/issues/12970/comments","events_url":"https://api.github.com/repos/sveltejs/svelte/issues/12970/events","html_url":"https://github.com/sveltejs/svelte/pull/12970","id":2480572381,"node_id":"PR_kwDOBG2gSc55HUZr","number":12970,"title":"feat: allow non-synchronous legacy component instantiation","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-08-22T11:41:54Z","updated_at":"2025-03-10T17:31:06Z","closed_at":"2024-08-24T15:35:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":74293321,"node_id":"MDEwOlJlcG9zaXRvcnk3NDI5MzMyMQ==","name":"svelte","full_name":"sveltejs/svelte","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/svelte","description":"web development for the rest of us","fork":false,"url":"https://api.github.com/repos/sveltejs/svelte","forks_url":"https://api.github.com/repos/sveltejs/svelte/forks","keys_url":"https://api.github.com/repos/sveltejs/svelte/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/svelte/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/svelte/teams","hooks_url":"https://api.github.com/repos/sveltejs/svelte/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/svelte/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/svelte/events","assignees_url":"https://api.github.com/repos/sveltejs/svelte/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/svelte/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/svelte/tags","blobs_url":"https://api.github.com/repos/sveltejs/svelte/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/svelte/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/svelte/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/svelte/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/svelte/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/svelte/languages","stargazers_url":"https://api.github.com/repos/sveltejs/svelte/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/svelte/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/svelte/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/svelte/subscription","commits_url":"https://api.github.com/repos/sveltejs/svelte/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/svelte/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/svelte/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/svelte/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/svelte/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/svelte/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/svelte/merges","archive_url":"https://api.github.com/repos/sveltejs/svelte/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/svelte/downloads","issues_url":"https://api.github.com/repos/sveltejs/svelte/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/svelte/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/svelte/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/svelte/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/svelte/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/svelte/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/svelte/deployments","created_at":"2016-11-20T18:13:05Z","updated_at":"2025-11-09T20:00:15Z","pushed_at":"2025-11-08T18:57:01Z","git_url":"git://github.com/sveltejs/svelte.git","ssh_url":"git@github.com:sveltejs/svelte.git","clone_url":"https://github.com/sveltejs/svelte.git","svn_url":"https://github.com/sveltejs/svelte","homepage":"https://svelte.dev","size":117378,"stargazers_count":84765,"watchers_count":84765,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4680,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":933,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","template","ui"],"visibility":"public","forks":4680,"open_issues":933,"watchers":84765,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/svelte/pulls/12970","html_url":"https://github.com/sveltejs/svelte/pull/12970","diff_url":"https://github.com/sveltejs/svelte/pull/12970.diff","patch_url":"https://github.com/sveltejs/svelte/pull/12970.patch","merged_at":"2024-08-24T15:35:21Z"},"body":"Add a new option to the legacy class component interface so that `flush_sync` can be omitted. Part of https://github.com/sveltejs/kit/issues/12248\r\n\r\n### Before submitting the PR, please make sure you do the following\r\n\r\n- [X] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [X] Prefix your PR title with `feat:`, `fix:`, `chore:`, or `docs:`.\r\n- [X] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests and linting\r\n\r\n- [ ] Run the tests with `pnpm test` and lint the project with `pnpm lint`\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/svelte/issues/12970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/svelte/issues/12970/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14001659510,"node_id":"REFE_lADOEiPr8c6Jq0TCzwAAAANCkF52","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14001659510","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"72b066b7fd694287ac0cdb381310cd2dd17c441b","commit_url":"https://api.github.com/repos/sveltejs/svelte/commits/72b066b7fd694287ac0cdb381310cd2dd17c441b","created_at":"2024-08-24T15:35:22Z","performed_via_github_app":null},{"id":14015347612,"node_id":"REFE_lADOEiPr8c6Jq0TCzwAAAANDYTuc","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14015347612","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9134ca21941a46c99d70ad91863127e52df21f24","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/9134ca21941a46c99d70ad91863127e52df21f24","created_at":"2024-08-26T15:34:47Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-26T15:36:22Z","updated_at":"2024-08-26T15:36:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12613","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/12613/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/12613/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/12613/events","html_url":"https://github.com/sveltejs/kit/pull/12613","id":2487156849,"node_id":"PR_kwDOEiPr8c55dKxh","number":12613,"title":"fix: asynchronously instantiate components when using Svelte 5","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6202225923,"node_id":"LA_kwDOEiPr8c8AAAABca51Aw","url":"https://api.github.com/repos/sveltejs/kit/labels/svelte%205","name":"svelte 5","color":"D93F0B","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-08-26T15:36:22Z","updated_at":"2024-09-06T12:38:44Z","closed_at":"2024-09-06T12:38:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/12613","html_url":"https://github.com/sveltejs/kit/pull/12613","diff_url":"https://github.com/sveltejs/kit/pull/12613.diff","patch_url":"https://github.com/sveltejs/kit/pull/12613.patch","merged_at":"2024-09-06T12:38:42Z"},"body":"Adjusts the behavior to that of the new `mount`/`hydrate` APIs and also fixes #12248\r\n\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n\r\n### Edits\r\n\r\n- [x] Please ensure that 'Allow edits from maintainers' is checked. PRs without this option may be closed.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/12613/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14161485075,"node_id":"CE_lADOEiPr8c6Jq0TCzwAAAANMFx0T","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14161485075","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-09-06T12:38:43Z","state_reason":null,"performed_via_github_app":null},{"id":14161485088,"node_id":"REFE_lADOEiPr8c6Jq0TCzwAAAANMFx0g","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14161485088","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"873ec2b4d559adb969148113fe883696cf00fa0a","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/873ec2b4d559adb969148113fe883696cf00fa0a","created_at":"2024-09-06T12:38:43Z","performed_via_github_app":null}]