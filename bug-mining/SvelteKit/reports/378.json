{"url":"https://api.github.com/repos/sveltejs/kit/issues/9369","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/9369/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/9369/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/9369/events","html_url":"https://github.com/sveltejs/kit/issues/9369","id":1615981371,"node_id":"I_kwDOEiPr8c5gUes7","number":9369,"title":"`srcset` causes adapter-static build to fail","user":{"login":"johnknoop","id":3394270,"node_id":"MDQ6VXNlcjMzOTQyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/3394270?v=4","gravatar_id":"","url":"https://api.github.com/users/johnknoop","html_url":"https://github.com/johnknoop","followers_url":"https://api.github.com/users/johnknoop/followers","following_url":"https://api.github.com/users/johnknoop/following{/other_user}","gists_url":"https://api.github.com/users/johnknoop/gists{/gist_id}","starred_url":"https://api.github.com/users/johnknoop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnknoop/subscriptions","organizations_url":"https://api.github.com/users/johnknoop/orgs","repos_url":"https://api.github.com/users/johnknoop/repos","events_url":"https://api.github.com/users/johnknoop/events{/privacy}","received_events_url":"https://api.github.com/users/johnknoop/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4343790735,"node_id":"LA_kwDOEiPr8c8AAAABAuj8jw","url":"https://api.github.com/repos/sveltejs/kit/labels/low%20hanging%20fruit","name":"low hanging fruit","color":"0e8a16","default":false,"description":""},{"id":5086744039,"node_id":"LA_kwDOEiPr8c8AAAABLzGN5w","url":"https://api.github.com/repos/sveltejs/kit/labels/ready%20to%20implement","name":"ready to implement","color":"fbca04","default":false,"description":"please submit PRs for these issues!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/sveltejs/kit/milestones/4","html_url":"https://github.com/sveltejs/kit/milestone/4","labels_url":"https://api.github.com/repos/sveltejs/kit/milestones/4/labels","id":6613611,"node_id":"MDk6TWlsZXN0b25lNjYxMzYxMQ==","number":4,"title":"soon","description":"stuff we want to do as soon as time allows","creator":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":78,"closed_issues":167,"state":"open","created_at":"2021-03-31T19:50:44Z","updated_at":"2025-10-03T13:11:43Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2023-03-08T21:37:46Z","updated_at":"2023-03-10T11:02:19Z","closed_at":"2023-03-10T11:02:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nI initially posted [a comment](https://github.com/sveltejs/kit/issues/3299#issuecomment-1452629456) in a separate issue but didn't get any response from that, so I'm creating a separate one instead.\r\n\r\nSince upgrading from version `1.0.0-next.224` of SvelteKit, I can no longer have `srcset` attributes with multiple paths (which is the whole point with `srcset` attributes.\r\n\r\nCurrent versions:\r\n\r\n`@sveltejs/kit`: 1.9.3\r\n`@sveltejs/adapter-static`: 2.0.1\r\n`svelte`: 3.55.1\r\n`vite`: 4.1.4\r\n\r\nThe versions I had before, where it worked:\r\n\r\n`@sveltejs/kit`: 1.0.0-next.224\r\n`@sveltejs/adapter-static`: 1.0.0-next.26\r\n`svelte`: 3.48.0\r\n`vite`: 2.7.13\n\n### Reproduction\n\n```svelte\r\n<img\r\n    srcset=\"/order_thumbnail_400px.png,\r\n            /order_thumbnail_800px.png 1.5x\"\r\n    src=\"/order_thumbnail_400px.png\"\r\n    alt=\"\" />\r\n```\r\n(Both png files are located in `/static` folder)\r\n\r\n### Expected result\r\n\r\nA successful build\r\n\r\n### Observed result\r\n\r\n> Error: Not found: /order_thumbnail_400px.png,/order_thumbnail_800px.png\r\n> at resolve (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2711:18)\r\n> at resolve (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2586:34)\r\n> at #options.hooks.handle (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2755:59)\r\n> at respond (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2584:43)\r\n> file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:53\r\n> throw new Error(format(details));\r\n> ^\r\n> \r\n> Error: 404 /order_thumbnail_400px.png,/order_thumbnail_800px.png (linked from /)\r\n> at file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:53:12\r\n> at save (file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:355:4)\r\n> at visit (file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:204:3)\r\n\r\nIf I remove one of the paths from the `srcset` attribute:\r\n\r\n```svelte\r\n<img\r\n    srcset=\"/order_thumbnail_800px.png 1.5x\"\r\n    src=\"/order_thumbnail_400px.png\"\r\n    alt=\"\" />\r\n```\r\n\r\n...then it builds successfully.\n\n### Logs\n\n```Shell\nError: Not found: /order_thumbnail_400px.png,/order_thumbnail_800px.png\r\nat resolve (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2711:18)\r\nat resolve (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2586:34)\r\nat #options.hooks.handle (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2755:59)\r\nat respond (file:///C:/work/hublinwebsite/.svelte-kit/output/server/index.js:2584:43)\r\nfile:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:53\r\nthrow new Error(format(details));\r\n^\r\n\r\nError: 404 /order_thumbnail_400px.png,/order_thumbnail_800px.png (linked from /)\r\nat file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:53:12\r\nat save (file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:355:4)\r\nat visit (file:///C:/work/hublinwebsite/node_modules/@sveltejs/kit/src/core/postbuild/prerender.js:204:3)\n```\n\n\n### System Info\n\n```Shell\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 12.78 GB / 31.73 GB\r\n  Binaries:\r\n    Node: 18.14.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: 1.22.19 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n    npm: 9.3.1 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.22000.120.0), Chromium (110.0.1587.63)\r\n    Internet Explorer: 11.0.22000.120\n```\n\n\n### Severity\n\nblocking an upgrade\n\n### Additional Information\n\n_No response_","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/9369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/9369/timeline","performed_via_github_app":null,"state_reason":"completed"}