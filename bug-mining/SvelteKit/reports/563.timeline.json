[{"id":20070642434,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASsTbMC","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20070642434","actor":{"login":"Papsanly","id":90246667,"node_id":"MDQ6VXNlcjkwMjQ2NjY3","avatar_url":"https://avatars.githubusercontent.com/u/90246667?v=4","gravatar_id":"","url":"https://api.github.com/users/Papsanly","html_url":"https://github.com/Papsanly","followers_url":"https://api.github.com/users/Papsanly/followers","following_url":"https://api.github.com/users/Papsanly/following{/other_user}","gists_url":"https://api.github.com/users/Papsanly/gists{/gist_id}","starred_url":"https://api.github.com/users/Papsanly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Papsanly/subscriptions","organizations_url":"https://api.github.com/users/Papsanly/orgs","repos_url":"https://api.github.com/users/Papsanly/repos","events_url":"https://api.github.com/users/Papsanly/events{/privacy}","received_events_url":"https://api.github.com/users/Papsanly/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-02T23:29:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3364896366","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3364896366","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3364896366,"node_id":"IC_kwDOEiPr8c7IkD5u","user":{"login":"AndreasHald","id":8914722,"node_id":"MDQ6VXNlcjg5MTQ3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8914722?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasHald","html_url":"https://github.com/AndreasHald","followers_url":"https://api.github.com/users/AndreasHald/followers","following_url":"https://api.github.com/users/AndreasHald/following{/other_user}","gists_url":"https://api.github.com/users/AndreasHald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasHald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasHald/subscriptions","organizations_url":"https://api.github.com/users/AndreasHald/orgs","repos_url":"https://api.github.com/users/AndreasHald/repos","events_url":"https://api.github.com/users/AndreasHald/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasHald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-03T09:10:35Z","updated_at":"2025-10-03T09:10:35Z","body":"I think we're experiencing this issue as well and we're also using drizzle. If we upgrade `sveltejs/kit` to latest we get \n\n```\nnode:internal/event_target:1101\n  process.nextTick(() => { throw err; });\n                           ^\nReferenceError [Error]: Cannot access 'customColumnSchema' before initialization\n    at file:///Users/hald/Documents/edy2/eddystone/.svelte-kit/output/server/chunks/chunk-2.js:150:26\n    at ModuleJob.run (node:internal/modules/esm/module_job:271:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:547:26)\n    at async analyse (file:///Users/hald/Documents/edy2/eddystone/node_modules/@sveltejs/kit/src/core/postbuild/analyse.js:51:19)\n    at async MessagePort.<anonymous> (file:///Users/hald/Documents/edy2/eddystone/node_modules/@sveltejs/kit/src/utils/fork.js:23:16)\n```\n\nIt's very tricky to track down exactly what causes it to break, if I inspect the chunk remove the utilisation of the schema in that file I can get the build to proceed past this point, but it then just breaks in a subsequent place. I can't really tell what's causing these specific issues.\n\nAt a very high level what we are doing is\n```ts\n// some-query.ts\nexport const columns  = {\n   name: {\n      cell: () => SomeSvelteCellComponent,\n      ....\n   },\n   age: {\n      cell: () => SomeSvelteCellComponent,\n      ...\n   }\n};\n\nexport const schema = inferSchemaFromColumns(columns) // constructs a zod schema from the object\n\n// some-query.remote.ts\nimport { schema } from './some-query.ts'\nexport const queryData = query(schema, () => ....)\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3364896366/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasHald","id":8914722,"node_id":"MDQ6VXNlcjg5MTQ3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8914722?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasHald","html_url":"https://github.com/AndreasHald","followers_url":"https://api.github.com/users/AndreasHald/followers","following_url":"https://api.github.com/users/AndreasHald/following{/other_user}","gists_url":"https://api.github.com/users/AndreasHald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasHald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasHald/subscriptions","organizations_url":"https://api.github.com/users/AndreasHald/orgs","repos_url":"https://api.github.com/users/AndreasHald/repos","events_url":"https://api.github.com/users/AndreasHald/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasHald/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"am283721","id":27497493,"node_id":"MDQ6VXNlcjI3NDk3NDkz","avatar_url":"https://avatars.githubusercontent.com/u/27497493?v=4","gravatar_id":"","url":"https://api.github.com/users/am283721","html_url":"https://github.com/am283721","followers_url":"https://api.github.com/users/am283721/followers","following_url":"https://api.github.com/users/am283721/following{/other_user}","gists_url":"https://api.github.com/users/am283721/gists{/gist_id}","starred_url":"https://api.github.com/users/am283721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/am283721/subscriptions","organizations_url":"https://api.github.com/users/am283721/orgs","repos_url":"https://api.github.com/users/am283721/repos","events_url":"https://api.github.com/users/am283721/events{/privacy}","received_events_url":"https://api.github.com/users/am283721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-03T12:51:32Z","updated_at":"2025-10-03T12:51:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14494","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14494/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14494/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14494/events","html_url":"https://github.com/sveltejs/kit/issues/14494","id":3438287538,"node_id":"I_kwDOEiPr8c7M8Bqy","number":14494,"title":"Reproduce issue for: \"remote function build issues sveltekit @ 2.39.0 and up (tested up to and including 2.42.0)\" #14444","user":{"login":"tunailgaz","id":9380639,"node_id":"MDQ6VXNlcjkzODA2Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/9380639?v=4","gravatar_id":"","url":"https://api.github.com/users/tunailgaz","html_url":"https://github.com/tunailgaz","followers_url":"https://api.github.com/users/tunailgaz/followers","following_url":"https://api.github.com/users/tunailgaz/following{/other_user}","gists_url":"https://api.github.com/users/tunailgaz/gists{/gist_id}","starred_url":"https://api.github.com/users/tunailgaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tunailgaz/subscriptions","organizations_url":"https://api.github.com/users/tunailgaz/orgs","repos_url":"https://api.github.com/users/tunailgaz/repos","events_url":"https://api.github.com/users/tunailgaz/events{/privacy}","received_events_url":"https://api.github.com/users/tunailgaz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-09-21T14:16:12Z","updated_at":"2025-10-03T12:51:31Z","closed_at":"2025-10-01T20:40:29Z","author_association":"NONE","type":{"id":4885414,"node_id":"IT_kwDOAWhhq84ASoum","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-29T23:39:46Z","updated_at":"2024-07-26T11:19:25Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"> We really need a minimum reproduction (or any kind of reproduction) in that case. \n\n _Originally posted by @dummdidumm in [#14444](https://github.com/sveltejs/kit/issues/14444#issuecomment-3300543720)_\ncreated new project with\n`npx sv create`\n\n`package.json`\n```json\n{\n\t\"name\": \"build-error-reproduce\",\n\t\"private\": true,\n\t\"version\": \"0.0.1\",\n\t\"type\": \"module\",\n\t\"scripts\": {\n\t\t\"dev\": \"vite dev\",\n\t\t\"build\": \"vite build\",\n\t\t\"preview\": \"vite preview\",\n\t\t\"prepare\": \"svelte-kit sync || echo ''\",\n\t\t\"check\": \"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json\",\n\t\t\"check:watch\": \"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json --watch\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@sveltejs/adapter-node\": \"5.3.2\",\n\t\t\"@sveltejs/kit\": \"2.42.2\",\n\t\t\"@sveltejs/vite-plugin-svelte\": \"6.2.0\",\n\t\t\"@types/node\": \"22.14.1\",\n\t\t\"svelte\": \"5.39.3\",\n\t\t\"svelte-check\": \"4.3.1\",\n\t\t\"typescript\": \"5.9.2\",\n\t\t\"vite\": \"7.1.6\"\n\t},\n\t\"dependencies\": {\n\t\t\"ioredis\": \"^5.7.0\"\n\t}\n}\n```\n\n`svelte.config.js`\n```js\nimport adapter from '@sveltejs/adapter-node';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\n\n/** @type {import('@sveltejs/kit').Config} */\nconst config = {\n\t// Consult https://svelte.dev/docs/kit/integrations\n\t// for more information about preprocessors\n\tpreprocess: vitePreprocess(),\n\n\tkit: {\n    experimental: {\n      remoteFunctions: true\n    },\n\t\t// adapter-auto only supports some environments, see https://svelte.dev/docs/kit/adapter-auto for a list.\n\t\t// If your environment is not supported, or you settled on a specific environment, switch out the adapter.\n\t\t// See https://svelte.dev/docs/kit/adapters for more information about adapters.\n\t\tadapter: adapter(),\n    version: {\n      pollInterval: 120_000\n    }\n\t}\n};\n\nexport default config;\n```\n\n\n\n`/src/lib/remotes/auth.remote.ts`\n```ts\nimport { query } from \"$app/server\";\nimport { redisSession } from \"$lib/server/redis/connection\";\n\nexport const getUserSession = query(async () => {\n  const session = await redisSession.get('test');\n  return { session }\n})\n```\n\n`/src/lib/remote/my.custom.remote.ts`\n```ts\nimport { form } from \"$app/server\"\nimport config from \"$lib/server/env\";\nimport { getUserSession } from \"$lib/remotes/auth.remote\";\n\nexport const testForm = form('unchecked', async () => {\n  const session = await getUserSession();\n  console.log(`config: ${JSON.stringify(config)}`);\n  return { success: session }\n})\n```\n`/src/server/redis/connection.ts`\n```ts\nimport config from '$lib/server/env';\nimport Redis from 'ioredis';\nimport { building } from '$app/environment';\n\nconst redisSession = new Redis(config.redis_session);\n\n\nredisSession.on('connect', () => {\n  if (building) return;\n  console.info(`Redis session connected ${config.redis_session.host}:${config.redis_session.port}`);\n}).on('error', (err) => {\n  if (building) return;\n  console.warn(`Redis session ${config.redis_session.host}:${config.redis_session.port} Error: ${err}`);\n});\n\n\nconst redisSessionHealthCheck = () => {\n  return redisSession.ping('ok');\n}\n\nexport {\n  redisSession,\n  redisSessionHealthCheck,\n};\n```\n\n`/src/server/env.ts`\n\n```ts\nconst NODE_ENV = process.env.NODE_ENV!\nconst PROD_MODE = NODE_ENV === 'production'\nexport default {\n  redis_session: PROD_MODE ? {\n    port                : 6379, // Production\n    host                : 'redis-session',\n    maxRetriesPerRequest: 1\n  } : {\n    port                : 46322,  // Development\n    host                : 'localhost',\n    maxRetriesPerRequest: 1\n  },\n};\n```\n\n\nfinally `/routes/+page.svelte`\n\n```svelte\n<script lang=\"ts\">\n    import { testForm } from \"$lib/remotes/my.custom.remote\";\n</script>\n\n<section class=\"flex flex-wrap w-full py-4\">\n    <form {...testForm} class=\" my-2 py-2\"></form>\n</section>\n```\n\nwhen you run `vite build`\nthis error happens:\n```\n> build-error-reproduce@0.0.1 build\n> vite build\n\nvite v7.1.6 building SSR bundle for production...\n✓ 181 modules transformed.\n\nnode:internal/event_target:1101\n  process.nextTick(() => { throw err; });\n                           ^\nReferenceError [Error]: Cannot access 'config' before initialization\n    at /.svelte-kit/output/server/chunks/remote-4cjdf.js:13:32\n    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)\n    at async analyse (node_modules/@sveltejs/kit/src/core/postbuild/analyse.js:173:34)\n    at async MessagePort.<anonymous> (node_modules/@sveltejs/kit/src/utils/fork.js:23:16)\n\nNode.js v22.17.1\n```\n\nwhen you change `my.custom.remote.ts` file name to `custom.remote.ts` error doesnt show anymore\n\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14494/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14494/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":20080818165,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASs6Pf1","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20080818165","actor":{"login":"am283721","id":27497493,"node_id":"MDQ6VXNlcjI3NDk3NDkz","avatar_url":"https://avatars.githubusercontent.com/u/27497493?v=4","gravatar_id":"","url":"https://api.github.com/users/am283721","html_url":"https://github.com/am283721","followers_url":"https://api.github.com/users/am283721/followers","following_url":"https://api.github.com/users/am283721/following{/other_user}","gists_url":"https://api.github.com/users/am283721/gists{/gist_id}","starred_url":"https://api.github.com/users/am283721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/am283721/subscriptions","organizations_url":"https://api.github.com/users/am283721/orgs","repos_url":"https://api.github.com/users/am283721/repos","events_url":"https://api.github.com/users/am283721/events{/privacy}","received_events_url":"https://api.github.com/users/am283721/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-03T12:53:52Z","performed_via_github_app":null},{"id":20082249244,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASs_s4c","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20082249244","actor":{"login":"fehnomenal","id":9959940,"node_id":"MDQ6VXNlcjk5NTk5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/9959940?v=4","gravatar_id":"","url":"https://api.github.com/users/fehnomenal","html_url":"https://github.com/fehnomenal","followers_url":"https://api.github.com/users/fehnomenal/followers","following_url":"https://api.github.com/users/fehnomenal/following{/other_user}","gists_url":"https://api.github.com/users/fehnomenal/gists{/gist_id}","starred_url":"https://api.github.com/users/fehnomenal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fehnomenal/subscriptions","organizations_url":"https://api.github.com/users/fehnomenal/orgs","repos_url":"https://api.github.com/users/fehnomenal/repos","events_url":"https://api.github.com/users/fehnomenal/events{/privacy}","received_events_url":"https://api.github.com/users/fehnomenal/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-03T14:04:01Z","performed_via_github_app":null},{"id":20089065615,"node_id":"SE_lADOEiPr8c7PXiqezwAAAAStZtCP","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20089065615","actor":{"login":"mudiageo","id":76590594,"node_id":"MDQ6VXNlcjc2NTkwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/76590594?v=4","gravatar_id":"","url":"https://api.github.com/users/mudiageo","html_url":"https://github.com/mudiageo","followers_url":"https://api.github.com/users/mudiageo/followers","following_url":"https://api.github.com/users/mudiageo/following{/other_user}","gists_url":"https://api.github.com/users/mudiageo/gists{/gist_id}","starred_url":"https://api.github.com/users/mudiageo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mudiageo/subscriptions","organizations_url":"https://api.github.com/users/mudiageo/orgs","repos_url":"https://api.github.com/users/mudiageo/repos","events_url":"https://api.github.com/users/mudiageo/events{/privacy}","received_events_url":"https://api.github.com/users/mudiageo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-03T19:30:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3368463029","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3368463029","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3368463029,"node_id":"IC_kwDOEiPr8c7Ixqq1","user":{"login":"jippi","id":22841,"node_id":"MDQ6VXNlcjIyODQx","avatar_url":"https://avatars.githubusercontent.com/u/22841?v=4","gravatar_id":"","url":"https://api.github.com/users/jippi","html_url":"https://github.com/jippi","followers_url":"https://api.github.com/users/jippi/followers","following_url":"https://api.github.com/users/jippi/following{/other_user}","gists_url":"https://api.github.com/users/jippi/gists{/gist_id}","starred_url":"https://api.github.com/users/jippi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jippi/subscriptions","organizations_url":"https://api.github.com/users/jippi/orgs","repos_url":"https://api.github.com/users/jippi/repos","events_url":"https://api.github.com/users/jippi/events{/privacy}","received_events_url":"https://api.github.com/users/jippi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-04T18:26:49Z","updated_at":"2025-10-04T18:27:52Z","body":"I'm having similar issue on 2.43.7 - this worked on all builds BEFORE 2.43.7 (2.43.6 and older)\n\nI'm using vite 7\n\n```\nReferenceError: Cannot access 'MBModel' before initialization\n    at file:///Users/jippi/src/jippi/mangabaka-catalog/.svelte-kit/output/server/chunks/chunk-9.js:381:18\n    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:689:26)\n    at async get_page_options (file:///Users/jippi/src/jippi/mangabaka-catalog/node_modules/@sveltejs/kit/src/exports/vite/static_analysis/index.js:224:19)\n    at async get_page_options (file:///Users/jippi/src/jippi/mangabaka-catalog/node_modules/@sveltejs/kit/src/exports/vite/static_analysis/index.js:204:27)\n    at async build_server_nodes (file:///Users/jippi/src/jippi/mangabaka-catalog/node_modules/@sveltejs/kit/src/exports/vite/build/build_server.js:98:25)\n    at async analyse (file:///Users/jippi/src/jippi/mangabaka-catalog/node_modules/@sveltejs/kit/src/core/postbuild/analyse.js:72:2)\n    at async MessagePort.<anonymous> (file:///Users/jippi/src/jippi/mangabaka-catalog/node_modules/@sveltejs/kit/src/utils/fork.js:23:16)\n```\n\n\n`src/lib/server/models/SeriesView.model.ts` imports `src/lib/server/database/batch.ts` that contain the `MBModel` class, using `import { MBModel } from '../database/batch'` (using `import { MBModel } from '$lib/server/database/batch'` also fail)\n\nSeems likely to be caused by https://github.com/sveltejs/kit/pull/14571","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3368463029/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jippi","id":22841,"node_id":"MDQ6VXNlcjIyODQx","avatar_url":"https://avatars.githubusercontent.com/u/22841?v=4","gravatar_id":"","url":"https://api.github.com/users/jippi","html_url":"https://github.com/jippi","followers_url":"https://api.github.com/users/jippi/followers","following_url":"https://api.github.com/users/jippi/following{/other_user}","gists_url":"https://api.github.com/users/jippi/gists{/gist_id}","starred_url":"https://api.github.com/users/jippi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jippi/subscriptions","organizations_url":"https://api.github.com/users/jippi/orgs","repos_url":"https://api.github.com/users/jippi/repos","events_url":"https://api.github.com/users/jippi/events{/privacy}","received_events_url":"https://api.github.com/users/jippi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20113247906,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASu186i","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20113247906","actor":{"login":"mantasjasikenas","id":23138747,"node_id":"MDQ6VXNlcjIzMTM4NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/23138747?v=4","gravatar_id":"","url":"https://api.github.com/users/mantasjasikenas","html_url":"https://github.com/mantasjasikenas","followers_url":"https://api.github.com/users/mantasjasikenas/followers","following_url":"https://api.github.com/users/mantasjasikenas/following{/other_user}","gists_url":"https://api.github.com/users/mantasjasikenas/gists{/gist_id}","starred_url":"https://api.github.com/users/mantasjasikenas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mantasjasikenas/subscriptions","organizations_url":"https://api.github.com/users/mantasjasikenas/orgs","repos_url":"https://api.github.com/users/mantasjasikenas/repos","events_url":"https://api.github.com/users/mantasjasikenas/events{/privacy}","received_events_url":"https://api.github.com/users/mantasjasikenas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-06T11:56:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3371435314","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3371435314","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3371435314,"node_id":"IC_kwDOEiPr8c7I9AUy","user":{"login":"MalabarFront","id":254197,"node_id":"MDQ6VXNlcjI1NDE5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/254197?v=4","gravatar_id":"","url":"https://api.github.com/users/MalabarFront","html_url":"https://github.com/MalabarFront","followers_url":"https://api.github.com/users/MalabarFront/followers","following_url":"https://api.github.com/users/MalabarFront/following{/other_user}","gists_url":"https://api.github.com/users/MalabarFront/gists{/gist_id}","starred_url":"https://api.github.com/users/MalabarFront/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MalabarFront/subscriptions","organizations_url":"https://api.github.com/users/MalabarFront/orgs","repos_url":"https://api.github.com/users/MalabarFront/repos","events_url":"https://api.github.com/users/MalabarFront/events{/privacy}","received_events_url":"https://api.github.com/users/MalabarFront/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-06T12:39:20Z","updated_at":"2025-10-06T12:39:20Z","body":"> I think we're experiencing this issue as well and we're also using drizzle. If we upgrade `sveltejs/kit` to latest we get\n> \n> ```\n> node:internal/event_target:1101\n>   process.nextTick(() => { throw err; });\n>                            ^\n> ReferenceError [Error]: Cannot access 'customColumnSchema' before initialization\n>     at file:///Users/hald/Documents/edy2/eddystone/.svelte-kit/output/server/chunks/chunk-2.js:150:26\n>     at ModuleJob.run (node:internal/modules/esm/module_job:271:25)\n>     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:547:26)\n>     at async analyse (file:///Users/hald/Documents/edy2/eddystone/node_modules/@sveltejs/kit/src/core/postbuild/analyse.js:51:19)\n>     at async MessagePort.<anonymous> (file:///Users/hald/Documents/edy2/eddystone/node_modules/@sveltejs/kit/src/utils/fork.js:23:16)\n> ```\n> \n> It's very tricky to track down exactly what causes it to break, if I inspect the chunk remove the utilisation of the schema in that file I can get the build to proceed past this point, but it then just breaks in a subsequent place. I can't really tell what's causing these specific issues.\n> \n> At a very high level what we are doing is\n> \n> // some-query.ts\n> export const columns  = {\n>    name: {\n>       cell: () => SomeSvelteCellComponent,\n>       ....\n>    },\n>    age: {\n>       cell: () => SomeSvelteCellComponent,\n>       ...\n>    }\n> };\n> \n> export const schema = inferSchemaFromColumns(columns) // constructs a zod schema from the object\n> \n> // some-query.remote.ts\n> import { schema } from './some-query.ts'\n> export const queryData = query(schema, () => ....)\n\nI'm also experiencing this, in pretty much the same scenario as you, where I'm abstracting the way I define tables in Drizzle, and now I get a `app:build: ReferenceError [Error]: Cannot access 'columnsMap' before initialization` build error after upgrading Sveltekit (I jumped from 2.43.5 to 2.44.0). So just adding another data point for you.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3371435314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MalabarFront","id":254197,"node_id":"MDQ6VXNlcjI1NDE5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/254197?v=4","gravatar_id":"","url":"https://api.github.com/users/MalabarFront","html_url":"https://github.com/MalabarFront","followers_url":"https://api.github.com/users/MalabarFront/followers","following_url":"https://api.github.com/users/MalabarFront/following{/other_user}","gists_url":"https://api.github.com/users/MalabarFront/gists{/gist_id}","starred_url":"https://api.github.com/users/MalabarFront/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MalabarFront/subscriptions","organizations_url":"https://api.github.com/users/MalabarFront/orgs","repos_url":"https://api.github.com/users/MalabarFront/repos","events_url":"https://api.github.com/users/MalabarFront/events{/privacy}","received_events_url":"https://api.github.com/users/MalabarFront/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3371524515","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3371524515","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3371524515,"node_id":"IC_kwDOEiPr8c7I9WGj","user":{"login":"bfovez","id":19409008,"node_id":"MDQ6VXNlcjE5NDA5MDA4","avatar_url":"https://avatars.githubusercontent.com/u/19409008?v=4","gravatar_id":"","url":"https://api.github.com/users/bfovez","html_url":"https://github.com/bfovez","followers_url":"https://api.github.com/users/bfovez/followers","following_url":"https://api.github.com/users/bfovez/following{/other_user}","gists_url":"https://api.github.com/users/bfovez/gists{/gist_id}","starred_url":"https://api.github.com/users/bfovez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfovez/subscriptions","organizations_url":"https://api.github.com/users/bfovez/orgs","repos_url":"https://api.github.com/users/bfovez/repos","events_url":"https://api.github.com/users/bfovez/events{/privacy}","received_events_url":"https://api.github.com/users/bfovez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-06T13:01:14Z","updated_at":"2025-10-06T13:01:14Z","body":"Same issue here with Effect:\n```\n14:59:47.578 \nstarter:build: node:internal/event_target:1101\n14:59:47.578 \nstarter:build:   process.nextTick(() => { throw err; });\n14:59:47.578 \nstarter:build:                            ^\n14:59:47.578 \nstarter:build: ReferenceError [Error]: Cannot access 'AppConfig' before initialization\n14:59:47.578 \nstarter:build:     at file:///vercel/path0/apps/starter/.svelte-kit/output/server/chunks/chunk-5.js:92:18\n14:59:47.578 \nstarter:build:     at ModuleJob.run (node:internal/modules/esm/module_job:345:25)\n14:59:47.578 \nstarter:build:     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:665:26)\n14:59:47.579 \nstarter:build:     at async analyse (file:///vercel/path0/node_modules/.pnpm/@sveltejs+kit@2.44.0_@opentelemetry+api@1.9.0_@sveltejs+vite-plugin-svelte@6.2.1_svelte_09e140ac3e1ad92817409e005a454e22/node_modules/@sveltejs/kit/src/core/postbuild/analyse.js:51:19)\n14:59:47.579 \nstarter:build:     at async MessagePort.<anonymous> (file:///vercel/path0/node_modules/.pnpm/@sveltejs+kit@2.44.0_@opentelemetry+api@1.9.0_@sveltejs+vite-plugin-svelte@6.2.1_svelte_09e140ac3e1ad92817409e005a454e22/node_modules/@sveltejs/kit/src/utils/fork.js:23:16)\n14:59:47.579 \nstarter:build: \n14:59:47.579 \nstarter:build: Node.js v22.20.0\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3371524515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bfovez","id":19409008,"node_id":"MDQ6VXNlcjE5NDA5MDA4","avatar_url":"https://avatars.githubusercontent.com/u/19409008?v=4","gravatar_id":"","url":"https://api.github.com/users/bfovez","html_url":"https://github.com/bfovez","followers_url":"https://api.github.com/users/bfovez/followers","following_url":"https://api.github.com/users/bfovez/following{/other_user}","gists_url":"https://api.github.com/users/bfovez/gists{/gist_id}","starred_url":"https://api.github.com/users/bfovez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfovez/subscriptions","organizations_url":"https://api.github.com/users/bfovez/orgs","repos_url":"https://api.github.com/users/bfovez/repos","events_url":"https://api.github.com/users/bfovez/events{/privacy}","received_events_url":"https://api.github.com/users/bfovez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20119540766,"node_id":"MADE_lADOEiPr8c7PXiqezwAAAASvN9Qe","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20119540766","actor":{"login":"dadezzz","id":116791973,"node_id":"U_kgDOBvYapQ","avatar_url":"https://avatars.githubusercontent.com/u/116791973?v=4","gravatar_id":"","url":"https://api.github.com/users/dadezzz","html_url":"https://github.com/dadezzz","followers_url":"https://api.github.com/users/dadezzz/followers","following_url":"https://api.github.com/users/dadezzz/following{/other_user}","gists_url":"https://api.github.com/users/dadezzz/gists{/gist_id}","starred_url":"https://api.github.com/users/dadezzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadezzz/subscriptions","organizations_url":"https://api.github.com/users/dadezzz/orgs","repos_url":"https://api.github.com/users/dadezzz/repos","events_url":"https://api.github.com/users/dadezzz/events{/privacy}","received_events_url":"https://api.github.com/users/dadezzz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"marked_as_duplicate","commit_id":null,"commit_url":null,"created_at":"2025-10-06T15:53:34Z","performed_via_github_app":null},{"id":20119756311,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASvOx4X","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20119756311","actor":{"login":"zhihengGet","id":55773069,"node_id":"MDQ6VXNlcjU1NzczMDY5","avatar_url":"https://avatars.githubusercontent.com/u/55773069?v=4","gravatar_id":"","url":"https://api.github.com/users/zhihengGet","html_url":"https://github.com/zhihengGet","followers_url":"https://api.github.com/users/zhihengGet/followers","following_url":"https://api.github.com/users/zhihengGet/following{/other_user}","gists_url":"https://api.github.com/users/zhihengGet/gists{/gist_id}","starred_url":"https://api.github.com/users/zhihengGet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhihengGet/subscriptions","organizations_url":"https://api.github.com/users/zhihengGet/orgs","repos_url":"https://api.github.com/users/zhihengGet/repos","events_url":"https://api.github.com/users/zhihengGet/events{/privacy}","received_events_url":"https://api.github.com/users/zhihengGet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-06T16:02:21Z","performed_via_github_app":null},{"id":20119760813,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASvOy-t","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20119760813","actor":{"login":"dadezzz","id":116791973,"node_id":"U_kgDOBvYapQ","avatar_url":"https://avatars.githubusercontent.com/u/116791973?v=4","gravatar_id":"","url":"https://api.github.com/users/dadezzz","html_url":"https://github.com/dadezzz","followers_url":"https://api.github.com/users/dadezzz/followers","following_url":"https://api.github.com/users/dadezzz/following{/other_user}","gists_url":"https://api.github.com/users/dadezzz/gists{/gist_id}","starred_url":"https://api.github.com/users/dadezzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadezzz/subscriptions","organizations_url":"https://api.github.com/users/dadezzz/orgs","repos_url":"https://api.github.com/users/dadezzz/repos","events_url":"https://api.github.com/users/dadezzz/events{/privacy}","received_events_url":"https://api.github.com/users/dadezzz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-06T16:02:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374855617","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3374855617","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3374855617,"node_id":"IC_kwDOEiPr8c7JKDXB","user":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T01:39:29Z","updated_at":"2025-10-07T02:31:09Z","body":"So... I think I understand the problem and why it disproportionately affects drizzle users. Apparently declaring a const and exporting it, and using it both in remote and non remote functions, gets it declared by the compiler as a var in one of the chunks. Basically it needs to be further hoisted into a separate chunk that both the remote functions and the non remote server functions could import. It affects drizzle users because the way the drizzle docs show how to use it, is by doing exactly that. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374855617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374864708","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3374864708","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3374864708,"node_id":"IC_kwDOEiPr8c7JKFlE","user":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T01:45:41Z","updated_at":"2025-10-07T01:45:41Z","body":"@vipero07 \n> and using it both in remote and non remote functions\n\nI couldn't reproduce my `private_env` error in my mvce repo, if I didn't use it in RF. Can't speak for others and the other errors though.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374864708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20130120484,"node_id":"MEE_lADOEiPr8c7PXiqezwAAAASv2UMk","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20130120484","actor":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-10-07T01:45:42Z","performed_via_github_app":null},{"id":20130120503,"node_id":"SE_lADOEiPr8c7PXiqezwAAAASv2UM3","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20130120503","actor":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-07T01:45:42Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374944388","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3374944388","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3374944388,"node_id":"IC_kwDOEiPr8c7JKZCE","user":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T02:32:50Z","updated_at":"2025-10-07T02:32:50Z","body":"I'm going to try and make a minimum repo I've got a pretty large project that uses various drizzle functions throughout the app and in remote functions as I slowly migrate to remote functions. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3374944388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vipero07","id":4421342,"node_id":"MDQ6VXNlcjQ0MjEzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/4421342?v=4","gravatar_id":"","url":"https://api.github.com/users/vipero07","html_url":"https://github.com/vipero07","followers_url":"https://api.github.com/users/vipero07/followers","following_url":"https://api.github.com/users/vipero07/following{/other_user}","gists_url":"https://api.github.com/users/vipero07/gists{/gist_id}","starred_url":"https://api.github.com/users/vipero07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vipero07/subscriptions","organizations_url":"https://api.github.com/users/vipero07/orgs","repos_url":"https://api.github.com/users/vipero07/repos","events_url":"https://api.github.com/users/vipero07/events{/privacy}","received_events_url":"https://api.github.com/users/vipero07/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3376266525","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3376266525","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3376266525,"node_id":"IC_kwDOEiPr8c7JPb0d","user":{"login":"fehnomenal","id":9959940,"node_id":"MDQ6VXNlcjk5NTk5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/9959940?v=4","gravatar_id":"","url":"https://api.github.com/users/fehnomenal","html_url":"https://github.com/fehnomenal","followers_url":"https://api.github.com/users/fehnomenal/followers","following_url":"https://api.github.com/users/fehnomenal/following{/other_user}","gists_url":"https://api.github.com/users/fehnomenal/gists{/gist_id}","starred_url":"https://api.github.com/users/fehnomenal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fehnomenal/subscriptions","organizations_url":"https://api.github.com/users/fehnomenal/orgs","repos_url":"https://api.github.com/users/fehnomenal/repos","events_url":"https://api.github.com/users/fehnomenal/events{/privacy}","received_events_url":"https://api.github.com/users/fehnomenal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T10:27:40Z","updated_at":"2025-10-07T10:27:40Z","body":"In the meantime, setting `build.rollupOptions.output.onlyExplicitManualChunks: true` seems to work after updating rollup (I used the (atm latest) version `4.52.4`).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3376266525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fehnomenal","id":9959940,"node_id":"MDQ6VXNlcjk5NTk5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/9959940?v=4","gravatar_id":"","url":"https://api.github.com/users/fehnomenal","html_url":"https://github.com/fehnomenal","followers_url":"https://api.github.com/users/fehnomenal/followers","following_url":"https://api.github.com/users/fehnomenal/following{/other_user}","gists_url":"https://api.github.com/users/fehnomenal/gists{/gist_id}","starred_url":"https://api.github.com/users/fehnomenal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fehnomenal/subscriptions","organizations_url":"https://api.github.com/users/fehnomenal/orgs","repos_url":"https://api.github.com/users/fehnomenal/repos","events_url":"https://api.github.com/users/fehnomenal/events{/privacy}","received_events_url":"https://api.github.com/users/fehnomenal/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20137864742,"node_id":"REFE_lADOEiPr8c7PXiqezwAAAASwT24m","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20137864742","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0130e787a036e1ec7b06f1199ca5325f7cb2baa4","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/0130e787a036e1ec7b06f1199ca5325f7cb2baa4","created_at":"2025-10-07T10:41:41Z","performed_via_github_app":null},{"id":20137865915,"node_id":"ITAE_lADOEiPr8c7PXiqezwAAAASwT3K7","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20137865915","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"issue_type_added","commit_id":null,"commit_url":null,"created_at":"2025-10-07T10:41:44Z","performed_via_github_app":null},{"id":20137878707,"node_id":"REFE_lADOEiPr8c7PXiqezwAAAASwT6Sz","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20137878707","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1ef214391f865b9d8a720480fad34f9af4eced1e","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/1ef214391f865b9d8a720480fad34f9af4eced1e","created_at":"2025-10-07T10:42:27Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T10:43:44Z","updated_at":"2025-10-07T10:43:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14632","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14632/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14632/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14632/events","html_url":"https://github.com/sveltejs/kit/pull/14632","id":3490951707,"node_id":"PR_kwDOEiPr8c6sd4SD","number":14632,"title":"fix: prevent code execution order issues around SvelteKit's `env` modules","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-10-07T10:43:43Z","updated_at":"2025-10-08T13:13:57Z","closed_at":"2025-10-07T11:11:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/14632","html_url":"https://github.com/sveltejs/kit/pull/14632","diff_url":"https://github.com/sveltejs/kit/pull/14632.diff","patch_url":"https://github.com/sveltejs/kit/pull/14632.patch","merged_at":"2025-10-07T11:11:02Z"},"body":"With #14571 we hoped to have solved the chunk/code execution order issues, but they snuck back in.\r\n\r\nThe problem, it turns out (read https://rollupjs.org/configuration-options/#output-manualchunks very carefully), is that dependencies of a manual chunk might get pulled into that manual chunk, too. If the dependency happens to be our env module, this can cause issues since the module might eagerly access the env.\r\n\r\nLuckily Rollup has recently solved this via a dedicated option (that will be the default in version 5 and is hence deprecated right away) named `onlyExplicitManualChunks` (https://github.com/rollup/rollup/pull/6087). This solves our problems around chunk ordering. For users not on the latest version yet we do a best-effort fallback by extracting env into its own chunk. This should solve most issues people encounter but the general problem can still occur, which is only fixed with the new option (hence we warn if the rollup version is not up to date).\r\n\r\nFixes #14590\r\n\r\n<!-- Your PR description here -->\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14632/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20138369764,"node_id":"CE_lADOEiPr8c7PXiqezwAAAASwVyLk","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20138369764","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-10-07T11:11:03Z","state_reason":null,"performed_via_github_app":null},{"id":20138369830,"node_id":"REFE_lADOEiPr8c7PXiqezwAAAASwVyMm","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20138369830","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"82ae30f7686b325fa00f2beb60a029be6f6b4568","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/82ae30f7686b325fa00f2beb60a029be6f6b4568","created_at":"2025-10-07T11:11:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3376800031","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3376800031","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3376800031,"node_id":"IC_kwDOEiPr8c7JReEf","user":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T13:02:45Z","updated_at":"2025-10-07T13:03:52Z","body":"Unfortunately #14632 didn't seem to fix the issue, as updating to `2.46.0+` and building gives the following warning in the console:\n```\nUnknown input options: onlyExplicitManualChunks. Allowed options: cache, context, experimentalCacheExpiry, experimentalLogSideEffects, external, fs, input, jsx, logLevel, makeAbsoluteExternalsRelative, maxParallelFileOps, moduleContext, onLog, onwarn, perf, plugins, preserveEntrySignatures, preserveSymlinks, shimMissingExports, strictDeprecations, treeshake, watch\n```\nFollowed by the `Error: DATABASE_URL is not set` error.\n\nI've also tried manually adding the latest `rollup` version to my dependencies to no avail.\n\nAm I doing something wrong?\n\n---\n\nI've updated my MVCE repo to use the latest sveltekit version in the new `sveltekit@2.46.1` branch: https://github.com/DarthGigi/sveltekit-mvce-env-vars/tree/sveltekit%402.46.1\n\nI also discovered that using `rolldown` with `rolldown-vite` doesn't seem to have this issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3376800031/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20141104702,"node_id":"REFE_lADOEiPr8c7PXiqezwAAAASwgN4-","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20141104702","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1c4b7d04b3a5fc1683b61da9084a6c362ccf045f","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/1c4b7d04b3a5fc1683b61da9084a6c362ccf045f","created_at":"2025-10-07T13:31:50Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T13:32:04Z","updated_at":"2025-10-07T13:32:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14637","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14637/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14637/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14637/events","html_url":"https://github.com/sveltejs/kit/pull/14637","id":3491520313,"node_id":"PR_kwDOEiPr8c6sfzmU","number":14637,"title":"fix: prevent code execution order issues around SvelteKit's `env` modules","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-10-07T13:32:03Z","updated_at":"2025-10-08T15:17:48Z","closed_at":"2025-10-07T13:34:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/14637","html_url":"https://github.com/sveltejs/kit/pull/14637","diff_url":"https://github.com/sveltejs/kit/pull/14637.diff","patch_url":"https://github.com/sveltejs/kit/pull/14637.patch","merged_at":"2025-10-07T13:34:37Z"},"body":"For real this time - #14632 did put it on the wrong object\r\n\r\nFixes #14590\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14637/reactions","total_count":4,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":3,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14637/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20141168178,"node_id":"REFE_lADOEiPr8c7PXiqezwAAAASwgdYy","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20141168178","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1ef73e87ccf4200452113cac1655186d1024296d","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/1ef73e87ccf4200452113cac1655186d1024296d","created_at":"2025-10-07T13:34:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3377346586","html_url":"https://github.com/sveltejs/kit/issues/14590#issuecomment-3377346586","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14590","id":3377346586,"node_id":"IC_kwDOEiPr8c7JTjga","user":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T15:07:27Z","updated_at":"2025-10-07T15:07:27Z","body":"#14637 did the trick! 😄","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3377346586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DarthGigi","id":47110839,"node_id":"MDQ6VXNlcjQ3MTEwODM5","avatar_url":"https://avatars.githubusercontent.com/u/47110839?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthGigi","html_url":"https://github.com/DarthGigi","followers_url":"https://api.github.com/users/DarthGigi/followers","following_url":"https://api.github.com/users/DarthGigi/following{/other_user}","gists_url":"https://api.github.com/users/DarthGigi/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthGigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthGigi/subscriptions","organizations_url":"https://api.github.com/users/DarthGigi/orgs","repos_url":"https://api.github.com/users/DarthGigi/repos","events_url":"https://api.github.com/users/DarthGigi/events{/privacy}","received_events_url":"https://api.github.com/users/DarthGigi/received_events","type":"User","user_view_type":"public","site_admin":false}}]