[{"id":11248623785,"node_id":"RTE_lADOEiPr8c55sw91zwAAAAKeeGCp","url":"https://api.github.com/repos/sveltejs/kit/issues/events/11248623785","actor":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-12-14T14:11:16Z","rename":{"from":"Unexpected import behaviour in \"SPA\" routes","to":"Unexpected import behaviour in \"non-ssr\" routes"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856005354","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-1856005354","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":1856005354,"node_id":"IC_kwDOEiPr8c5uoGTq","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T14:58:15Z","updated_at":"2023-12-14T14:58:15Z","body":"This is expected. Pages can override layout options, which means we can't know whether the page should be server-rendered or not without loading the `+page.ts`. Put the `$lib/webStorage` import in your `+page.svelte` (which will not be imported on the server, if `ssr = false`) instead","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856005354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856102789","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-1856102789","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":1856102789,"node_id":"IC_kwDOEiPr8c5uoeGF","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T15:53:38Z","updated_at":"2023-12-14T16:12:56Z","body":"> Put the `$lib/webStorage` import in your `+page.svelte` (which will not be imported on the server, if `ssr = false`) instead\r\n\r\nThank you for your advise, but this store was only meant as a very abstract demo of the problem I stepped over.\r\n\r\nIn my production project, I import PouchDB to get some synchronized data in offline-cases, which then controls the behaviour of my load function (PouchDB depends on localStorage and IndexedDB).\r\nSetting up a similar project to demonstrate this behaviour, seems a little bit to much for me.\r\n\r\nAs a work around: using dynamic `import()` for the dependency works for me (line 15 in +page.ts).\r\nMaybe, this \"bug\" should be degraded to \"annoyance\" with high complexity?\r\n\r\nOn the other hand: the documentation didn't tell you, that ssr is required for +page.js/ts's (in that case, it's a documentation bug)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856102789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11251724353,"node_id":"LE_lADOEiPr8c55sw91zwAAAAKep7BB","url":"https://api.github.com/repos/sveltejs/kit/issues/events/11251724353","actor":{"login":"Conduitry","id":16696352,"node_id":"MDQ6VXNlcjE2Njk2MzUy","avatar_url":"https://avatars.githubusercontent.com/u/16696352?v=4","gravatar_id":"","url":"https://api.github.com/users/Conduitry","html_url":"https://github.com/Conduitry","followers_url":"https://api.github.com/users/Conduitry/followers","following_url":"https://api.github.com/users/Conduitry/following{/other_user}","gists_url":"https://api.github.com/users/Conduitry/gists{/gist_id}","starred_url":"https://api.github.com/users/Conduitry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Conduitry/subscriptions","organizations_url":"https://api.github.com/users/Conduitry/orgs","repos_url":"https://api.github.com/users/Conduitry/repos","events_url":"https://api.github.com/users/Conduitry/events{/privacy}","received_events_url":"https://api.github.com/users/Conduitry/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-12-14T18:47:35Z","label":{"name":"documentation","color":"0075ca"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856405346","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-1856405346","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":1856405346,"node_id":"IC_kwDOEiPr8c5upn9i","user":{"login":"Conduitry","id":16696352,"node_id":"MDQ6VXNlcjE2Njk2MzUy","avatar_url":"https://avatars.githubusercontent.com/u/16696352?v=4","gravatar_id":"","url":"https://api.github.com/users/Conduitry","html_url":"https://github.com/Conduitry","followers_url":"https://api.github.com/users/Conduitry/followers","following_url":"https://api.github.com/users/Conduitry/following{/other_user}","gists_url":"https://api.github.com/users/Conduitry/gists{/gist_id}","starred_url":"https://api.github.com/users/Conduitry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Conduitry/subscriptions","organizations_url":"https://api.github.com/users/Conduitry/orgs","repos_url":"https://api.github.com/users/Conduitry/repos","events_url":"https://api.github.com/users/Conduitry/events{/privacy}","received_events_url":"https://api.github.com/users/Conduitry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T18:50:51Z","updated_at":"2023-12-14T18:50:51Z","body":"I'm labeling this as a documentation issue. There's not really a way for this to work without trying to evaluate `+page.js` files on the server, which necessarily also tried to evaluate any `import ... from '...'`s in them. We could maybe make it clearer which files will get evaluated on the server during build and thus need to not use any browser APIs in their top-level code (not import any code that uses browser APIs at the top level).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856405346/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Conduitry","id":16696352,"node_id":"MDQ6VXNlcjE2Njk2MzUy","avatar_url":"https://avatars.githubusercontent.com/u/16696352?v=4","gravatar_id":"","url":"https://api.github.com/users/Conduitry","html_url":"https://github.com/Conduitry","followers_url":"https://api.github.com/users/Conduitry/followers","following_url":"https://api.github.com/users/Conduitry/following{/other_user}","gists_url":"https://api.github.com/users/Conduitry/gists{/gist_id}","starred_url":"https://api.github.com/users/Conduitry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Conduitry/subscriptions","organizations_url":"https://api.github.com/users/Conduitry/orgs","repos_url":"https://api.github.com/users/Conduitry/repos","events_url":"https://api.github.com/users/Conduitry/events{/privacy}","received_events_url":"https://api.github.com/users/Conduitry/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856420552","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-1856420552","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":1856420552,"node_id":"IC_kwDOEiPr8c5uprrI","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T19:02:31Z","updated_at":"2023-12-14T19:40:32Z","body":"As far as i know by now:\r\nThe only information, that decides if a +page.js/ts needs to be ssr'd is an export of ssr, right?\r\n\r\nIf so, here my thoughts:\r\nAfter evaluating a +layout, with that ssr=false hint, I can slam a regex somewhere to extract that hint from child pages and layouts.\r\nWill it be enough to avoid running/executing that file(s) in build or need svelte/kit more data, I'm currently unaware of?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856420552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11252034525,"node_id":"UE_lADOEiPr8c55sw91zwAAAAKerGvd","url":"https://api.github.com/repos/sveltejs/kit/issues/events/11252034525","actor":{"login":"Conduitry","id":16696352,"node_id":"MDQ6VXNlcjE2Njk2MzUy","avatar_url":"https://avatars.githubusercontent.com/u/16696352?v=4","gravatar_id":"","url":"https://api.github.com/users/Conduitry","html_url":"https://github.com/Conduitry","followers_url":"https://api.github.com/users/Conduitry/followers","following_url":"https://api.github.com/users/Conduitry/following{/other_user}","gists_url":"https://api.github.com/users/Conduitry/gists{/gist_id}","starred_url":"https://api.github.com/users/Conduitry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Conduitry/subscriptions","organizations_url":"https://api.github.com/users/Conduitry/orgs","repos_url":"https://api.github.com/users/Conduitry/repos","events_url":"https://api.github.com/users/Conduitry/events{/privacy}","received_events_url":"https://api.github.com/users/Conduitry/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-14T19:22:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856472561","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-1856472561","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":1856472561,"node_id":"IC_kwDOEiPr8c5up4Xx","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T19:41:47Z","updated_at":"2023-12-14T19:41:47Z","body":"That's called _static analysis_ and it's one of those things that seems like a good idea until you try it. Let's say you try the regex approach — what do you do here?\r\n\r\n```js\r\n// export const ssr = false;\r\n```\r\n\r\nNext you could try parsing the code and analysing the AST, but then what do you do here?\r\n\r\n```js\r\nexport const ssr = EXPERIMENTS_USE_SSR;\r\n```\r\n\r\nMaybe you could special-case environment variables like that, but what happens when you have something like this?\r\n\r\n```js\r\nexport { ssr, prerender } from '$lib/config';\r\n```\r\n\r\nAnd so on. It's tempting to say 'we could try static analysis first and then fall back to runtime analysis', but then the system becomes very hard to reason about — a seemingly unrelated change could cause the sort of failures you encountered, and it would be far from obvious how to solve them. It's much better if the rules are simple and well-understood, and in this case there are two solutions (in order of preference, but also decreasing order of ease):\r\n\r\n- send a PR to PouchDB so that it handles the 'oh, look, I'm running in Node' case gracefully\r\n- the dynamic `import(...)` approach you already landed on","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1856472561/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2039229935","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-2039229935","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":2039229935,"node_id":"IC_kwDOEiPr8c55jC3v","user":{"login":"AKuederle","id":10776763,"node_id":"MDQ6VXNlcjEwNzc2NzYz","avatar_url":"https://avatars.githubusercontent.com/u/10776763?v=4","gravatar_id":"","url":"https://api.github.com/users/AKuederle","html_url":"https://github.com/AKuederle","followers_url":"https://api.github.com/users/AKuederle/followers","following_url":"https://api.github.com/users/AKuederle/following{/other_user}","gists_url":"https://api.github.com/users/AKuederle/gists{/gist_id}","starred_url":"https://api.github.com/users/AKuederle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AKuederle/subscriptions","organizations_url":"https://api.github.com/users/AKuederle/orgs","repos_url":"https://api.github.com/users/AKuederle/repos","events_url":"https://api.github.com/users/AKuederle/events{/privacy}","received_events_url":"https://api.github.com/users/AKuederle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T08:21:34Z","updated_at":"2024-04-05T08:21:34Z","body":"I ran into a similar issue (and looking through the issues a couple of people did). I understand the rational why this can not be easily circumvented, but both \"workarounds\" (modify the library used, use dynamic imports everywhere), seem unsatisfying.\r\n\r\nFrom my limited understanding of the internals and rational behind the design, it feels like the issue stems from having +page.ts and +layout.ts as files that mix both logic and config, which is create, if the config depends on the logic (e.g. dynamically switching ssr), but not great if the logic depends on the config (e.g. when you want to use browser only libraries with import side-effects.\r\n\r\nA \"simple\" (based on my naive understanding) workaround would be to introduce a additional optional file (e.g. +config.ts) that is read first. As this config file is not the place where you are expected to put any core logic, it is easier to get rid of any problematic imports there.\r\n\r\nAn issue arises when you want to support cases, where configuration of a child route placed in +layout/+page.ts should overwrite config from a +config.ts in a parent route. As it might not be clear what to do then, but there might a couple of ways to work around that too.\r\n\r\nThe other (less granular) option, feels like to really have a global \"SPA\" switch. I guess most people running into this issue (myself included), were trying to build \"just a simple SPA\", but were surprised when suddenly code ran in a NodeJS env during dev.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2039229935/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AKuederle","id":10776763,"node_id":"MDQ6VXNlcjEwNzc2NzYz","avatar_url":"https://avatars.githubusercontent.com/u/10776763?v=4","gravatar_id":"","url":"https://api.github.com/users/AKuederle","html_url":"https://github.com/AKuederle","followers_url":"https://api.github.com/users/AKuederle/followers","following_url":"https://api.github.com/users/AKuederle/following{/other_user}","gists_url":"https://api.github.com/users/AKuederle/gists{/gist_id}","starred_url":"https://api.github.com/users/AKuederle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AKuederle/subscriptions","organizations_url":"https://api.github.com/users/AKuederle/orgs","repos_url":"https://api.github.com/users/AKuederle/repos","events_url":"https://api.github.com/users/AKuederle/events{/privacy}","received_events_url":"https://api.github.com/users/AKuederle/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2039271999","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-2039271999","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":2039271999,"node_id":"IC_kwDOEiPr8c55jNI_","user":{"login":"AKuederle","id":10776763,"node_id":"MDQ6VXNlcjEwNzc2NzYz","avatar_url":"https://avatars.githubusercontent.com/u/10776763?v=4","gravatar_id":"","url":"https://api.github.com/users/AKuederle","html_url":"https://github.com/AKuederle","followers_url":"https://api.github.com/users/AKuederle/followers","following_url":"https://api.github.com/users/AKuederle/following{/other_user}","gists_url":"https://api.github.com/users/AKuederle/gists{/gist_id}","starred_url":"https://api.github.com/users/AKuederle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AKuederle/subscriptions","organizations_url":"https://api.github.com/users/AKuederle/orgs","repos_url":"https://api.github.com/users/AKuederle/repos","events_url":"https://api.github.com/users/AKuederle/events{/privacy}","received_events_url":"https://api.github.com/users/AKuederle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T09:01:12Z","updated_at":"2024-04-05T09:01:12Z","body":"Just as an additional note: It might be possible to pull that off even with the existing structure using the *.server.ts files. Basically, the only change that would be required is that if we find a `ssr=false` in a page.server or layout.server file, we will not load the page.ts or layout.ts file. Would that make sense in the current resolution order?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2039271999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AKuederle","id":10776763,"node_id":"MDQ6VXNlcjEwNzc2NzYz","avatar_url":"https://avatars.githubusercontent.com/u/10776763?v=4","gravatar_id":"","url":"https://api.github.com/users/AKuederle","html_url":"https://github.com/AKuederle","followers_url":"https://api.github.com/users/AKuederle/followers","following_url":"https://api.github.com/users/AKuederle/following{/other_user}","gists_url":"https://api.github.com/users/AKuederle/gists{/gist_id}","starred_url":"https://api.github.com/users/AKuederle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AKuederle/subscriptions","organizations_url":"https://api.github.com/users/AKuederle/orgs","repos_url":"https://api.github.com/users/AKuederle/repos","events_url":"https://api.github.com/users/AKuederle/events{/privacy}","received_events_url":"https://api.github.com/users/AKuederle/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2269700323","html_url":"https://github.com/sveltejs/kit/issues/11310#issuecomment-2269700323","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/11310","id":2269700323,"node_id":"IC_kwDOEiPr8c6HSODj","user":{"login":"ccmobias","id":68090035,"node_id":"MDQ6VXNlcjY4MDkwMDM1","avatar_url":"https://avatars.githubusercontent.com/u/68090035?v=4","gravatar_id":"","url":"https://api.github.com/users/ccmobias","html_url":"https://github.com/ccmobias","followers_url":"https://api.github.com/users/ccmobias/followers","following_url":"https://api.github.com/users/ccmobias/following{/other_user}","gists_url":"https://api.github.com/users/ccmobias/gists{/gist_id}","starred_url":"https://api.github.com/users/ccmobias/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccmobias/subscriptions","organizations_url":"https://api.github.com/users/ccmobias/orgs","repos_url":"https://api.github.com/users/ccmobias/repos","events_url":"https://api.github.com/users/ccmobias/events{/privacy}","received_events_url":"https://api.github.com/users/ccmobias/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T18:51:54Z","updated_at":"2024-08-05T18:51:54Z","body":"I recently encountered this problem in my project as well. Before 1.0.0-next.405, I set the global `ssr` to `false` directly in the `handle` function of `hooks.js` and it works well. But after I update sveltekit to 1.0.0-next.405, this problem arose because the `render_page` function of `/src/runtime/server/page/index.js` will try to get `nodes` and load `+page.js` files.\r\n\r\nI understand this problem may not be easy to circumvent and I think the dynamic imports should work for me. But it's a bit strange to me that I already set  global `ssr` to `false` to build \"just a simple SPA\" (according to [AKuederle](https://github.com/AKuederle)) but browser APIs is still run when build the project.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2269700323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ccmobias","id":68090035,"node_id":"MDQ6VXNlcjY4MDkwMDM1","avatar_url":"https://avatars.githubusercontent.com/u/68090035?v=4","gravatar_id":"","url":"https://api.github.com/users/ccmobias","html_url":"https://github.com/ccmobias","followers_url":"https://api.github.com/users/ccmobias/followers","following_url":"https://api.github.com/users/ccmobias/following{/other_user}","gists_url":"https://api.github.com/users/ccmobias/gists{/gist_id}","starred_url":"https://api.github.com/users/ccmobias/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccmobias/subscriptions","organizations_url":"https://api.github.com/users/ccmobias/orgs","repos_url":"https://api.github.com/users/ccmobias/repos","events_url":"https://api.github.com/users/ccmobias/events{/privacy}","received_events_url":"https://api.github.com/users/ccmobias/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"janopae","id":8160319,"node_id":"MDQ6VXNlcjgxNjAzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8160319?v=4","gravatar_id":"","url":"https://api.github.com/users/janopae","html_url":"https://github.com/janopae","followers_url":"https://api.github.com/users/janopae/followers","following_url":"https://api.github.com/users/janopae/following{/other_user}","gists_url":"https://api.github.com/users/janopae/gists{/gist_id}","starred_url":"https://api.github.com/users/janopae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janopae/subscriptions","organizations_url":"https://api.github.com/users/janopae/orgs","repos_url":"https://api.github.com/users/janopae/repos","events_url":"https://api.github.com/users/janopae/events{/privacy}","received_events_url":"https://api.github.com/users/janopae/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-18T12:21:00Z","updated_at":"2024-08-18T12:21:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12580","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/12580/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/12580/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/12580/events","html_url":"https://github.com/sveltejs/kit/issues/12580","id":2468369517,"node_id":"I_kwDOEiPr8c6TIFRt","number":12580,"title":"Avoid loading `+page.js`/`+layout.js` files on server in SPA mode","user":{"login":"janopae","id":8160319,"node_id":"MDQ6VXNlcjgxNjAzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8160319?v=4","gravatar_id":"","url":"https://api.github.com/users/janopae","html_url":"https://github.com/janopae","followers_url":"https://api.github.com/users/janopae/followers","following_url":"https://api.github.com/users/janopae/following{/other_user}","gists_url":"https://api.github.com/users/janopae/gists{/gist_id}","starred_url":"https://api.github.com/users/janopae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janopae/subscriptions","organizations_url":"https://api.github.com/users/janopae/orgs","repos_url":"https://api.github.com/users/janopae/repos","events_url":"https://api.github.com/users/janopae/events{/privacy}","received_events_url":"https://api.github.com/users/janopae/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470046,"node_id":"MDU6TGFiZWwyNDI4NDcwMDQ2","url":"https://api.github.com/repos/sveltejs/kit/labels/feature%20/%20enhancement","name":"feature / enhancement","color":"a2eeef","default":false,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/sveltejs/kit/milestones/7","html_url":"https://github.com/sveltejs/kit/milestone/7","labels_url":"https://api.github.com/repos/sveltejs/kit/milestones/7/labels","id":10287349,"node_id":"MI_kwDOEiPr8c4AnPj1","number":7,"title":"3.0","description":"","creator":{"login":"benmccann","id":322311,"node_id":"MDQ6VXNlcjMyMjMxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/322311?v=4","gravatar_id":"","url":"https://api.github.com/users/benmccann","html_url":"https://github.com/benmccann","followers_url":"https://api.github.com/users/benmccann/followers","following_url":"https://api.github.com/users/benmccann/following{/other_user}","gists_url":"https://api.github.com/users/benmccann/gists{/gist_id}","starred_url":"https://api.github.com/users/benmccann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benmccann/subscriptions","organizations_url":"https://api.github.com/users/benmccann/orgs","repos_url":"https://api.github.com/users/benmccann/repos","events_url":"https://api.github.com/users/benmccann/events{/privacy}","received_events_url":"https://api.github.com/users/benmccann/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":59,"closed_issues":8,"state":"open","created_at":"2023-12-08T16:52:27Z","updated_at":"2025-11-05T01:55:56Z","due_on":null,"closed_at":null},"comments":23,"created_at":"2024-08-15T15:59:35Z","updated_at":"2025-10-21T14:22:19Z","closed_at":"2025-05-12T20:10:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\r\n\r\nEven though I did everything the docs provide in order to disable any form of server side rendering or static site generation, the dev server tries to execute my code on the server.\r\n\r\n### Reproduction\r\n\r\n```bash\r\nnpm create svelte@latest my-app\r\ncd my-app\r\nnpm install\r\n```\r\n\r\nEdit `src/routes/+layout.ts` according to https://kit.svelte.dev/docs/single-page-apps\r\n\r\n```ts\r\nexport const ssr = false;\r\nexport const prerender = false;\r\n```\r\n\r\nEdit `svelte.config.js` according to https://kit.svelte.dev/docs/single-page-apps#usage\r\n\r\n```js\r\nimport adapter from '@sveltejs/adapter-static';\r\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\r\n\r\n/** @type {import('@sveltejs/kit').Config} */\r\nconst config = {\r\n\t// Consult https://kit.svelte.dev/docs/integrations#preprocessors\r\n\t// for more information about preprocessors\r\n\tpreprocess: vitePreprocess(),\r\n\r\n\tkit: {\r\n\t\t// See https://kit.svelte.dev/docs/adapters for more information about adapters.\r\n\t\tadapter: adapter({\r\n\t\t\tfallback: 'index.html'\r\n\t\t}),\r\n\t}\r\n};\r\n```\r\n\r\nCreate some code that will only work on client side\r\n\r\n```\r\n// +layout.ts\r\n\r\nlocalStorage.setItem('test', 'lol');\r\n```\r\n\r\nStart the dev server\r\n\r\n```bash\r\nnpm run dev\r\n```\r\n\r\nOpen the website in browser, and there will be an error complaining about `localStorage` not being definded.\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```Shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.4 LTS 22.04.4 LTS (Jammy Jellyfish)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-1068NG7 CPU @ 2.30GHz\r\n    Memory: 870.74 MB / 1.91 GB\r\n    Container: Yes\r\n    Shell: 5.1.16 - /bin/bash\r\n  Binaries:\r\n    Node: 20.5.1 - /usr/bin/node\r\n    Yarn: 1.22.22 - /usr/bin/yarn\r\n    npm: 9.8.0 - /usr/bin/npm\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^3.0.0 => 3.2.2 \r\n    @sveltejs/adapter-static: ^3.0.2 => 3.0.2 \r\n    @sveltejs/kit: ^2.0.0 => 2.5.20 \r\n    @sveltejs/vite-plugin-svelte: ^3.0.0 => 3.1.1 \r\n    svelte: ^4.2.7 => 4.2.18 \r\n    vite: ^5.0.3 => 5.3.5\r\n```\r\n\r\n\r\n### Severity\r\n\r\nserious, but I can work around it\r\n\r\n### Additional Information\r\n\r\n_No response_","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12580/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/12580/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-31T07:23:05Z","updated_at":"2024-12-31T07:23:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/13258","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/13258/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/13258/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/13258/events","html_url":"https://github.com/sveltejs/kit/pull/13258","id":2764052182,"node_id":"PR_kwDOEiPr8c6GemND","number":13258,"title":"docs: note that universal page and layout files still run on the server when `ssr = false`","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470032,"node_id":"MDU6TGFiZWwyNDI4NDcwMDMy","url":"https://api.github.com/repos/sveltejs/kit/labels/documentation","name":"documentation","color":"0075ca","default":true,"description":"Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-31T07:23:04Z","updated_at":"2025-01-06T10:37:09Z","closed_at":"2025-01-06T10:37:07Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/13258","html_url":"https://github.com/sveltejs/kit/pull/13258","diff_url":"https://github.com/sveltejs/kit/pull/13258.diff","patch_url":"https://github.com/sveltejs/kit/pull/13258.patch","merged_at":"2025-01-06T10:37:07Z"},"body":"closes https://github.com/sveltejs/kit/issues/11310\r\n\r\nThis PR adds a note to the page option docs under the `ssr` section to indicate that page options still need to be evaluated on the server, so users shouldn't import browser API code in +page or +layout files.\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [ ] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [ ] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n\r\n### Edits\r\n\r\n- [x] Please ensure that 'Allow edits from maintainers' is checked. PRs without this option may be closed.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/13258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/13258/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":15824456122,"node_id":"CE_lADOEiPr8c55sw91zwAAAAOvNgm6","url":"https://api.github.com/repos/sveltejs/kit/issues/events/15824456122","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-01-06T10:37:08Z","state_reason":null,"performed_via_github_app":null},{"id":15824456141,"node_id":"REFE_lADOEiPr8c55sw91zwAAAAOvNgnN","url":"https://api.github.com/repos/sveltejs/kit/issues/events/15824456141","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e468be74e8a6e189863afc1668172a0a8758a410","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/e468be74e8a6e189863afc1668172a0a8758a410","created_at":"2025-01-06T10:37:08Z","performed_via_github_app":null}]