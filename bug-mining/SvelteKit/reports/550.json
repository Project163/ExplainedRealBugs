{"url":"https://api.github.com/repos/sveltejs/kit/issues/14212","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14212/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14212/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14212/events","html_url":"https://github.com/sveltejs/kit/issues/14212","id":3321698700,"node_id":"I_kwDOEiPr8c7F_RmM","number":14212,"title":"Remote functions: calling a remote function breaks server side redirect","user":{"login":"hjsgems","id":35103049,"node_id":"MDQ6VXNlcjM1MTAzMDQ5","avatar_url":"https://avatars.githubusercontent.com/u/35103049?v=4","gravatar_id":"","url":"https://api.github.com/users/hjsgems","html_url":"https://github.com/hjsgems","followers_url":"https://api.github.com/users/hjsgems/followers","following_url":"https://api.github.com/users/hjsgems/following{/other_user}","gists_url":"https://api.github.com/users/hjsgems/gists{/gist_id}","starred_url":"https://api.github.com/users/hjsgems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjsgems/subscriptions","organizations_url":"https://api.github.com/users/hjsgems/orgs","repos_url":"https://api.github.com/users/hjsgems/repos","events_url":"https://api.github.com/users/hjsgems/events{/privacy}","received_events_url":"https://api.github.com/users/hjsgems/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-08-14T10:28:33Z","updated_at":"2025-09-12T08:42:28Z","closed_at":"2025-09-12T08:42:28Z","author_association":"NONE","type":{"id":4885414,"node_id":"IT_kwDOAWhhq84ASoum","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-29T23:39:46Z","updated_at":"2024-07-26T11:19:25Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nWhen redirecting from handle in hooks.server.ts, the remote function call is detected, but if you then try to redirect the request, the redirect is attempted, and the following nav is also handled by the hook, but the user remains on the original page, which called the remote function.\n\nWas found while testing remote functions on a protected route, when my auth token expired.\n\n### Reproduction\n\nReplication example here: https://stackblitz.com/edit/sveltejs-kit-template-default-vgiqu1ut\n\nThe hooks.server file handles any call to \"/\", with a redirect to \"/auth\". Navigating to the home page, correctly re-directs. Going to the Test page, which calls a remote function on load, does not correctly redirect, even though the handle hook, sees the request to \"/\", and attempts to redirect, but the user remains on the Test page.\n\n### Logs\n\n```Shell\n\n```\n\n### System Info\n\n```Shell\nTest repo info:\nSystem:\n    OS: Linux 5.0 undefined\n    CPU: (4) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\n    Memory: 0 Bytes / 0 Bytes\n    Shell: 1.0 - /bin/jsh\n  Binaries:\n    Node: 20.19.1 - /usr/local/bin/node\n    Yarn: 1.22.19 - /usr/local/bin/yarn\n    npm: 10.8.2 - /usr/local/bin/npm\n    pnpm: 8.15.6 - /usr/local/bin/pnpm\n  npmPackages:\n    @sveltejs/adapter-auto: ^6.0.0 => 6.1.0 \n    @sveltejs/kit: ^2.22.0 => 2.28.0 \n    @sveltejs/vite-plugin-svelte: ^6.0.0 => 6.1.1 \n    svelte: ^5.25.0 => 5.38.1 \n    vite: ^7.0.4 => 7.1.2\n```\n\n### Severity\n\nserious, but I can work around it\n\n### Additional Information\n\n_No response_","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14212/timeline","performed_via_github_app":null,"state_reason":"completed"}