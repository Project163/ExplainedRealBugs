{"url":"https://api.github.com/repos/sveltejs/kit/issues/3443","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/3443/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/3443/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/3443/events","html_url":"https://github.com/sveltejs/kit/issues/3443","id":1109406379,"node_id":"I_kwDOEiPr8c5CIDKr","number":3443,"title":"Cannot find module '/home/nik/.npm/_npx/.../node_modules/create-svelte/index.js'","user":{"login":"nlipkanov","id":98106050,"node_id":"U_kgDOBdj6wg","avatar_url":"https://avatars.githubusercontent.com/u/98106050?v=4","gravatar_id":"","url":"https://api.github.com/users/nlipkanov","html_url":"https://github.com/nlipkanov","followers_url":"https://api.github.com/users/nlipkanov/followers","following_url":"https://api.github.com/users/nlipkanov/following{/other_user}","gists_url":"https://api.github.com/users/nlipkanov/gists{/gist_id}","starred_url":"https://api.github.com/users/nlipkanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nlipkanov/subscriptions","organizations_url":"https://api.github.com/users/nlipkanov/orgs","repos_url":"https://api.github.com/users/nlipkanov/repos","events_url":"https://api.github.com/users/nlipkanov/events{/privacy}","received_events_url":"https://api.github.com/users/nlipkanov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2969496510,"node_id":"MDU6TGFiZWwyOTY5NDk2NTEw","url":"https://api.github.com/repos/sveltejs/kit/labels/pkg:create-svelte","name":"pkg:create-svelte","color":"c5def5","default":false,"description":""},{"id":3229631669,"node_id":"MDU6TGFiZWwzMjI5NjMxNjY5","url":"https://api.github.com/repos/sveltejs/kit/labels/p0-urgent","name":"p0-urgent","color":"FB1002","default":false,"description":"SvelteKit is broken or vulnerable for most users"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-01-20T14:58:53Z","updated_at":"2022-01-20T15:36:27Z","closed_at":"2022-01-20T15:09:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nAfter running the command `npm init svelte@next myapp` I am getting the error down below [see logs]. I included the npm logs as well...\n\n### Reproduction\n\nNo idea how to reproduce this bug... \n\n### Logs\n\n```shell\ninternal/process/esm_loader.js:74\r\n    internalBinding('errors').triggerUncaughtException(\r\n                              ^\r\n\r\nError [ERR_MODULE_NOT_FOUND]: Cannot find module '/home/nik/.npm/_npx/bbf9a9d70dc325b0/node_modules/create-svelte/index.js' imported from /home/nik/.npm/_npx/bbf9a9d70dc325b0/node_modules/create-svelte/bin.js\r\n    at new NodeError (internal/errors.js:322:7)\r\n    at finalizeResolution (internal/modules/esm/resolve.js:308:11)\r\n    at moduleResolve (internal/modules/esm/resolve.js:731:10)\r\n    at Loader.defaultResolve [as _resolve] (internal/modules/esm/resolve.js:842:11)\r\n    at Loader.resolve (internal/modules/esm/loader.js:89:40)\r\n    at Loader.getModuleJob (internal/modules/esm/loader.js:242:28)\r\n    at ModuleWrap.<anonymous> (internal/modules/esm/module_job.js:76:40)\r\n    at link (internal/modules/esm/module_job.js:75:36) {\r\n  code: 'ERR_MODULE_NOT_FOUND'\r\n}\r\nnpm ERR! code 1\r\nnpm ERR! path /home/nik/code\r\nnpm ERR! command failed\r\nnpm ERR! command sh -c create-svelte \"myapp\"\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/nik/.npm/_logs/2022-01-20T14_49_48_597Z-debug-0.log\r\n\r\n\r\n\r\nMore logs:...\r\n\r\n\r\n0 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'init', 'svelte@next', 'myapp' ]\r\n1 info using npm@8.3.1\r\n2 info using node@v14.18.3\r\n3 timing npm:load:whichnode Completed in 0ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:/usr/lib/node_modules/npm/npmrc Completed in 3ms\r\n6 timing config:load:builtin Completed in 3ms\r\n7 timing config:load:cli Completed in 1ms\r\n8 timing config:load:env Completed in 0ms\r\n9 timing config:load:file:/home/nik/code/.npmrc Completed in 0ms\r\n10 timing config:load:project Completed in 1ms\r\n11 timing config:load:file:/home/nik/.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:/usr/etc/npmrc Completed in 0ms\r\n14 timing config:load:global Completed in 0ms\r\n15 timing config:load:validate Completed in 0ms\r\n16 timing config:load:credentials Completed in 2ms\r\n17 timing config:load:setEnvs Completed in 0ms\r\n18 timing config:load Completed in 10ms\r\n19 timing npm:load:configload Completed in 10ms\r\n20 timing npm:load:setTitle Completed in 1ms\r\n21 timing config:load:flatten Completed in 2ms\r\n22 timing npm:load:display Completed in 3ms\r\n23 verbose logfile /home/nik/.npm/_logs/2022-01-20T14_49_48_597Z-debug-0.log\r\n24 timing npm:load:logFile Completed in 3ms\r\n25 timing npm:load:timers Completed in 0ms\r\n26 timing npm:load:configScope Completed in 0ms\r\n27 timing npm:load Completed in 18ms\r\n28 silly logfile start cleaning logs, removing 1 files\r\n29 http fetch GET 200 https://registry.npmjs.org/create-svelte 209ms (cache revalidated)\r\n30 timing arborist:ctor Completed in 2ms\r\n31 timing arborist:ctor Completed in 0ms\r\n32 timing arborist:ctor Completed in 0ms\r\n33 timing command:init Completed in 301ms\r\n34 verbose stack Error: command failed\r\n34 verbose stack     at ChildProcess.<anonymous> (/usr/lib/node_modules/npm/node_modules/@npmcli/promise-spawn/index.js:64:27)\r\n34 verbose stack     at ChildProcess.emit (events.js:400:28)\r\n34 verbose stack     at maybeClose (internal/child_process.js:1058:16)\r\n34 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:293:5)\r\n35 verbose cwd /home/nik/code\r\n36 verbose Linux 5.10.16.3-microsoft-standard-WSL2\r\n37 verbose argv \"/usr/bin/node\" \"/usr/bin/npm\" \"init\" \"svelte@next\" \"myapp\"\r\n38 verbose node v14.18.3\r\n39 verbose npm  v8.3.1\r\n40 error code 1\r\n41 error path /home/nik/code\r\n42 error command failed\r\n43 error command sh -c create-svelte \"myapp\"\r\n44 verbose exit 1\r\n45 timing npm Completed in 602ms\r\n46 verbose code 1\r\n47 error A complete log of this run can be found in:\r\n47 error     /home/nik/.npm/_logs/2022-01-20T14_49_48_597Z-debug-0.log\n```\n\n\n### System Info\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.3 LTS (Focal Fossa)\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 11.76 GB / 12.28 GB\r\n    Container: Yes\r\n    Shell: 5.0.17 - /bin/bash\r\n  Binaries:\r\n    Node: 14.18.3 - /usr/bin/node\r\n    Yarn: 1.22.17 - /usr/bin/yarn\r\n    npm: 8.3.1 - /usr/bin/npm\n```\n\n\n### Severity\n\nblocking all usage of SvelteKit\n\n### Additional Information\n\n_No response_","closed_by":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/3443/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/3443/timeline","performed_via_github_app":null,"state_reason":"completed"}