{"url":"https://api.github.com/repos/sveltejs/kit/issues/7787","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7787/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7787/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7787/events","html_url":"https://github.com/sveltejs/kit/issues/7787","id":1462393772,"node_id":"I_kwDOEiPr8c5XKlus","number":7787,"title":"Clientside link navigation doesn't respect redirects","user":{"login":"styxpilled","id":95433744,"node_id":"U_kgDOBbA0EA","avatar_url":"https://avatars.githubusercontent.com/u/95433744?v=4","gravatar_id":"","url":"https://api.github.com/users/styxpilled","html_url":"https://github.com/styxpilled","followers_url":"https://api.github.com/users/styxpilled/followers","following_url":"https://api.github.com/users/styxpilled/following{/other_user}","gists_url":"https://api.github.com/users/styxpilled/gists{/gist_id}","starred_url":"https://api.github.com/users/styxpilled/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/styxpilled/subscriptions","organizations_url":"https://api.github.com/users/styxpilled/orgs","repos_url":"https://api.github.com/users/styxpilled/repos","events_url":"https://api.github.com/users/styxpilled/events{/privacy}","received_events_url":"https://api.github.com/users/styxpilled/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/sveltejs/kit/milestones/2","html_url":"https://github.com/sveltejs/kit/milestone/2","labels_url":"https://api.github.com/repos/sveltejs/kit/milestones/2/labels","id":6044960,"node_id":"MDk6TWlsZXN0b25lNjA0NDk2MA==","number":2,"title":"1.0","description":"stuff we need to nail down before launch","creator":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":628,"state":"closed","created_at":"2020-10-29T01:17:50Z","updated_at":"2022-12-19T11:47:29Z","due_on":null,"closed_at":"2022-12-19T11:47:29Z"},"comments":4,"created_at":"2022-11-23T20:52:13Z","updated_at":"2022-12-05T21:23:59Z","closed_at":"2022-11-26T14:54:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nWhen using SvelteKit's clientside link navigation, redirects are not being respected unless the link has the `data-sveltekit-reload` attribute. If a page returns a redirect, Kit just throws a 500 Internal Error for the user (no message on the server). You can verify that the responses are getting sent correctly and have 3xx status codes by checking devtools.\r\n\r\nThis happens both when redirecting from `hooks.server.ts` and `+page.server.ts`.\r\n\r\nWhen using the `data-sveltekit-reload` or manually refreshing the page, the redirect works fine.\r\n\r\nIt doesn't seem to matter how the redirect is sent: Kit's `redirect()` error, `Response(null, { status: 302, headers: { Location: '/login' } })`, and `Response.redirect(event.url.origin + '/login', 302);` all give the same result.\r\n\r\nI couldn't find any docs on this, so I assume this is either unintended behavior or I'm doing something wrong.\n\n### Reproduction\n\nhttps://github.com/styxpilled/sveltekit-navigation-redirect-issue\n\n### Logs\n\n_No response_\n\n### System Info\n\n```Shell\nSystem:\r\n    OS: Windows 10 10.0.19044\r\n    CPU: (4) x64 Intel(R) Core(TM) i3-9100F CPU @ 3.60GHz\r\n    Memory: 453.96 MB / 15.94 GB\r\n  Binaries:\r\n    Node: 18.11.0 - ~\\AppData\\Local\\pnpm\\node.EXE\r\n    npm: 8.19.2 - ~\\AppData\\Local\\pnpm\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (107.0.1418.56)\r\n    Internet Explorer: 11.0.19041.1566\n```\n\n\n### Severity\n\nannoyance\n\n### Additional Information\n\n_No response_","closed_by":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7787/timeline","performed_via_github_app":null,"state_reason":"completed"}