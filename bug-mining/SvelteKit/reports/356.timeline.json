[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447131887","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447131887","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447131887,"node_id":"IC_kwDOEiPr8c5WQXrv","user":{"login":"StephenGunn","id":7240548,"node_id":"MDQ6VXNlcjcyNDA1NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7240548?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenGunn","html_url":"https://github.com/StephenGunn","followers_url":"https://api.github.com/users/StephenGunn/followers","following_url":"https://api.github.com/users/StephenGunn/following{/other_user}","gists_url":"https://api.github.com/users/StephenGunn/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenGunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenGunn/subscriptions","organizations_url":"https://api.github.com/users/StephenGunn/orgs","repos_url":"https://api.github.com/users/StephenGunn/repos","events_url":"https://api.github.com/users/StephenGunn/events{/privacy}","received_events_url":"https://api.github.com/users/StephenGunn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T21:36:58Z","updated_at":"2023-02-27T21:44:46Z","body":"I have the same issue but my redirect works fine in dev but breaks on Netlify. I am on the most recent version of SvelteKit. The redirects just recently started breaking.\r\n\r\n```\r\nERROR  Error: {\"status\":302,\"location\":\"https://angieblomdigitaldesigns.com\"}\r\n    at coalesce_to_error (file:///var/task/.netlify/server/index.js:125:7)\r\n    at handle_fatal_error (file:///var/task/.netlify/server/index.js:160:51)\r\n    at resolve (file:///var/task/.netlify/server/index.js:3088:20)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async Object.handle (file:///var/task/.netlify/server/chunks/hooks.server.js:122:23)\r\n    at async respond (file:///var/task/.netlify/server/index.js:2952:22)\r\n    at async Runtime.handler (file:///var/task/.netlify/serverless.js:270:20)\r\n```\r\n\r\nis the log from the render function on Netlify\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447131887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"StephenGunn","id":7240548,"node_id":"MDQ6VXNlcjcyNDA1NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7240548?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenGunn","html_url":"https://github.com/StephenGunn","followers_url":"https://api.github.com/users/StephenGunn/followers","following_url":"https://api.github.com/users/StephenGunn/following{/other_user}","gists_url":"https://api.github.com/users/StephenGunn/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenGunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenGunn/subscriptions","organizations_url":"https://api.github.com/users/StephenGunn/orgs","repos_url":"https://api.github.com/users/StephenGunn/repos","events_url":"https://api.github.com/users/StephenGunn/events{/privacy}","received_events_url":"https://api.github.com/users/StephenGunn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447427611","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447427611","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447427611,"node_id":"IC_kwDOEiPr8c5WRf4b","user":{"login":"AlanAcDz","id":20191823,"node_id":"MDQ6VXNlcjIwMTkxODIz","avatar_url":"https://avatars.githubusercontent.com/u/20191823?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanAcDz","html_url":"https://github.com/AlanAcDz","followers_url":"https://api.github.com/users/AlanAcDz/followers","following_url":"https://api.github.com/users/AlanAcDz/following{/other_user}","gists_url":"https://api.github.com/users/AlanAcDz/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanAcDz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanAcDz/subscriptions","organizations_url":"https://api.github.com/users/AlanAcDz/orgs","repos_url":"https://api.github.com/users/AlanAcDz/repos","events_url":"https://api.github.com/users/AlanAcDz/events{/privacy}","received_events_url":"https://api.github.com/users/AlanAcDz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T01:30:44Z","updated_at":"2023-02-28T01:30:44Z","body":"Can confirm redirect also breaks in Vercel with the most recent version of SvelteKit. Although the logs I get there are not really helpful, probably cause I'm redirecting from a form action.\r\n\r\n<img width=\"1215\" alt=\"Captura de pantalla 2023-02-27 a la(s) 19 22 51\" src=\"https://user-images.githubusercontent.com/20191823/221728192-264f218f-920e-45e5-b967-8ad201423a25.png\">\r\n\r\nThis just renders my closest error boundary (+error.svelte) with a 500 internal error.\r\nI have been testing and it works fine while running in dev mode but breaks in production even if I do a local build and preview it. Also, if I change my form action for an API route and do the redirect there, it shows the same log as the one that is getting @StephenGunn ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447427611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlanAcDz","id":20191823,"node_id":"MDQ6VXNlcjIwMTkxODIz","avatar_url":"https://avatars.githubusercontent.com/u/20191823?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanAcDz","html_url":"https://github.com/AlanAcDz","followers_url":"https://api.github.com/users/AlanAcDz/followers","following_url":"https://api.github.com/users/AlanAcDz/following{/other_user}","gists_url":"https://api.github.com/users/AlanAcDz/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanAcDz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanAcDz/subscriptions","organizations_url":"https://api.github.com/users/AlanAcDz/orgs","repos_url":"https://api.github.com/users/AlanAcDz/repos","events_url":"https://api.github.com/users/AlanAcDz/events{/privacy}","received_events_url":"https://api.github.com/users/AlanAcDz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8621902216,"node_id":"MEE_lADOEiPr8c5fe4B0zwAAAAIB58mI","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8621902216","actor":{"login":"StephenGunn","id":7240548,"node_id":"MDQ6VXNlcjcyNDA1NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7240548?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenGunn","html_url":"https://github.com/StephenGunn","followers_url":"https://api.github.com/users/StephenGunn/followers","following_url":"https://api.github.com/users/StephenGunn/following{/other_user}","gists_url":"https://api.github.com/users/StephenGunn/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenGunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenGunn/subscriptions","organizations_url":"https://api.github.com/users/StephenGunn/orgs","repos_url":"https://api.github.com/users/StephenGunn/repos","events_url":"https://api.github.com/users/StephenGunn/events{/privacy}","received_events_url":"https://api.github.com/users/StephenGunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-28T01:30:44Z","performed_via_github_app":null},{"id":8621902223,"node_id":"SE_lADOEiPr8c5fe4B0zwAAAAIB58mP","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8621902223","actor":{"login":"StephenGunn","id":7240548,"node_id":"MDQ6VXNlcjcyNDA1NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7240548?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenGunn","html_url":"https://github.com/StephenGunn","followers_url":"https://api.github.com/users/StephenGunn/followers","following_url":"https://api.github.com/users/StephenGunn/following{/other_user}","gists_url":"https://api.github.com/users/StephenGunn/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenGunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenGunn/subscriptions","organizations_url":"https://api.github.com/users/StephenGunn/orgs","repos_url":"https://api.github.com/users/StephenGunn/repos","events_url":"https://api.github.com/users/StephenGunn/events{/privacy}","received_events_url":"https://api.github.com/users/StephenGunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T01:30:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447436905","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447436905","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447436905,"node_id":"IC_kwDOEiPr8c5WRiJp","user":{"login":"AlanAcDz","id":20191823,"node_id":"MDQ6VXNlcjIwMTkxODIz","avatar_url":"https://avatars.githubusercontent.com/u/20191823?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanAcDz","html_url":"https://github.com/AlanAcDz","followers_url":"https://api.github.com/users/AlanAcDz/followers","following_url":"https://api.github.com/users/AlanAcDz/following{/other_user}","gists_url":"https://api.github.com/users/AlanAcDz/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanAcDz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanAcDz/subscriptions","organizations_url":"https://api.github.com/users/AlanAcDz/orgs","repos_url":"https://api.github.com/users/AlanAcDz/repos","events_url":"https://api.github.com/users/AlanAcDz/events{/privacy}","received_events_url":"https://api.github.com/users/AlanAcDz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T01:42:38Z","updated_at":"2023-02-28T01:42:38Z","body":"Update: I just downgraded to version 1.7.2 and it is working fine on Vercel. I was still getting the error building and previewing locally though, even if I deleted the .svelte-kit folder after downgrading","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447436905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlanAcDz","id":20191823,"node_id":"MDQ6VXNlcjIwMTkxODIz","avatar_url":"https://avatars.githubusercontent.com/u/20191823?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanAcDz","html_url":"https://github.com/AlanAcDz","followers_url":"https://api.github.com/users/AlanAcDz/followers","following_url":"https://api.github.com/users/AlanAcDz/following{/other_user}","gists_url":"https://api.github.com/users/AlanAcDz/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanAcDz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanAcDz/subscriptions","organizations_url":"https://api.github.com/users/AlanAcDz/orgs","repos_url":"https://api.github.com/users/AlanAcDz/repos","events_url":"https://api.github.com/users/AlanAcDz/events{/privacy}","received_events_url":"https://api.github.com/users/AlanAcDz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447584006","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447584006","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447584006,"node_id":"IC_kwDOEiPr8c5WSGEG","user":{"login":"mrmcc3","id":4220099,"node_id":"MDQ6VXNlcjQyMjAwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/4220099?v=4","gravatar_id":"","url":"https://api.github.com/users/mrmcc3","html_url":"https://github.com/mrmcc3","followers_url":"https://api.github.com/users/mrmcc3/followers","following_url":"https://api.github.com/users/mrmcc3/following{/other_user}","gists_url":"https://api.github.com/users/mrmcc3/gists{/gist_id}","starred_url":"https://api.github.com/users/mrmcc3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrmcc3/subscriptions","organizations_url":"https://api.github.com/users/mrmcc3/orgs","repos_url":"https://api.github.com/users/mrmcc3/repos","events_url":"https://api.github.com/users/mrmcc3/events{/privacy}","received_events_url":"https://api.github.com/users/mrmcc3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T05:06:31Z","updated_at":"2023-02-28T05:13:24Z","body":"I've also run into this issue or something similar when deploying to vercel. Some more details which might help\r\n\r\n- Works in dev\r\n- I can reproduce on vercel (edge) by throwing a redirect from an action (not in hooks.server.ts)\r\n- Downgrading to 1.8.5 works. Seems to indicate issue was introduced in 1.8.6\r\n  perhaps something to do with external/noExternal stuff","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447584006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mrmcc3","id":4220099,"node_id":"MDQ6VXNlcjQyMjAwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/4220099?v=4","gravatar_id":"","url":"https://api.github.com/users/mrmcc3","html_url":"https://github.com/mrmcc3","followers_url":"https://api.github.com/users/mrmcc3/followers","following_url":"https://api.github.com/users/mrmcc3/following{/other_user}","gists_url":"https://api.github.com/users/mrmcc3/gists{/gist_id}","starred_url":"https://api.github.com/users/mrmcc3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrmcc3/subscriptions","organizations_url":"https://api.github.com/users/mrmcc3/orgs","repos_url":"https://api.github.com/users/mrmcc3/repos","events_url":"https://api.github.com/users/mrmcc3/events{/privacy}","received_events_url":"https://api.github.com/users/mrmcc3/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"thenbe","id":33713262,"node_id":"MDQ6VXNlcjMzNzEzMjYy","avatar_url":"https://avatars.githubusercontent.com/u/33713262?v=4","gravatar_id":"","url":"https://api.github.com/users/thenbe","html_url":"https://github.com/thenbe","followers_url":"https://api.github.com/users/thenbe/followers","following_url":"https://api.github.com/users/thenbe/following{/other_user}","gists_url":"https://api.github.com/users/thenbe/gists{/gist_id}","starred_url":"https://api.github.com/users/thenbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thenbe/subscriptions","organizations_url":"https://api.github.com/users/thenbe/orgs","repos_url":"https://api.github.com/users/thenbe/repos","events_url":"https://api.github.com/users/thenbe/events{/privacy}","received_events_url":"https://api.github.com/users/thenbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T08:41:01Z","updated_at":"2023-02-28T08:41:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/9240","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/9240/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/9240/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/9240/events","html_url":"https://github.com/sveltejs/kit/issues/9240","id":1602546528,"node_id":"I_kwDOEiPr8c5fhOtg","number":9240,"title":"throw redirect(303, '/route') does not redirect & shows 500 page @ 1.8.7 & 1.8.6 in prod (not local)","user":{"login":"feelinglovelynow","id":125106233,"node_id":"U_kgDOB3T4OQ","avatar_url":"https://avatars.githubusercontent.com/u/125106233?v=4","gravatar_id":"","url":"https://api.github.com/users/feelinglovelynow","html_url":"https://github.com/feelinglovelynow","followers_url":"https://api.github.com/users/feelinglovelynow/followers","following_url":"https://api.github.com/users/feelinglovelynow/following{/other_user}","gists_url":"https://api.github.com/users/feelinglovelynow/gists{/gist_id}","starred_url":"https://api.github.com/users/feelinglovelynow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feelinglovelynow/subscriptions","organizations_url":"https://api.github.com/users/feelinglovelynow/orgs","repos_url":"https://api.github.com/users/feelinglovelynow/repos","events_url":"https://api.github.com/users/feelinglovelynow/events{/privacy}","received_events_url":"https://api.github.com/users/feelinglovelynow/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3147046323,"node_id":"MDU6TGFiZWwzMTQ3MDQ2MzIz","url":"https://api.github.com/repos/sveltejs/kit/labels/awaiting%20submitter","name":"awaiting submitter","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-02-28T08:01:06Z","updated_at":"2023-02-28T10:06:37Z","closed_at":"2023-02-28T10:06:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\n\n- Only broken in prod (aka post build) but not locally\r\n- throws a 500 error & does not redirect\r\n- downgraded to 1.8.5 & redirects work in prod\n\n### Reproduction\n\n\"@sveltejs/kit\": \"^1.8.7\", \r\n\"@sveltejs/adapter-cloudflare-workers\": \"^1.0.6\",\r\n+page.server.ts > throw redirect(303, '/route')\r\nbuild\r\n500 page\n\n### Logs\n\n_No response_\n\n### System Info\n\n```Shell\nSystem:\r\n    OS: macOS 12.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 204.64 MB / 16.00 GB\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 18.14.1 - ~/.nvm/versions/node/v18.14.1/bin/node\r\n    npm: 9.3.1 - ~/.nvm/versions/node/v18.14.1/bin/npm\r\n  Browsers:\r\n    Chrome: 110.0.5481.177\r\n    Firefox: 110.0\r\n    Safari: 15.6.1\r\n  npmPackages:\r\n    @sveltejs/adapter-cloudflare-workers: ^1.0.6 => 1.0.6 \r\n    @sveltejs/kit: ^1.8.7 => 1.8.7 \r\n    svelte: ^3.55.1 => 3.55.1 \r\n    vite: ^4.1.4 => 4.1.4\n```\n\n\n### Severity\n\nblocking an upgrade\n\n### Additional Information\n\n_No response_","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/9240/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/9240/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447787407","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447787407","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447787407,"node_id":"IC_kwDOEiPr8c5WS3uP","user":{"login":"jycouet","id":5312607,"node_id":"MDQ6VXNlcjUzMTI2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5312607?v=4","gravatar_id":"","url":"https://api.github.com/users/jycouet","html_url":"https://github.com/jycouet","followers_url":"https://api.github.com/users/jycouet/followers","following_url":"https://api.github.com/users/jycouet/following{/other_user}","gists_url":"https://api.github.com/users/jycouet/gists{/gist_id}","starred_url":"https://api.github.com/users/jycouet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jycouet/subscriptions","organizations_url":"https://api.github.com/users/jycouet/orgs","repos_url":"https://api.github.com/users/jycouet/repos","events_url":"https://api.github.com/users/jycouet/events{/privacy}","received_events_url":"https://api.github.com/users/jycouet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T08:45:38Z","updated_at":"2023-02-28T08:45:38Z","body":"I confirm that the issue is still present in `1.8.7`\r\nFrom my prod on `render` ðŸ‘‡\r\n```\r\nFeb 28 09:36:39 AM  Error: {\"status\":302,\"location\":\"/app\"}\r\nFeb 28 09:36:39 AM      at coalesce_to_error (file:///opt/render/project/src/apps/capa/.svelte-kit/output/server/index.js:123:7)\r\nFeb 28 09:36:39 AM      at handle_fatal_error (file:///opt/render/project/src/apps/capa/.svelte-kit/output/server/index.js:158:51)\r\nFeb 28 09:36:39 AM      at respond (file:///opt/render/project/src/apps/capa/.svelte-kit/output/server/index.js:3180:18)\r\nFeb 28 09:36:39 AM      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\nFeb 28 09:36:39 AM      at async file:///opt/render/project/src/node_modules/.pnpm/@sveltejs+kit@1.8.7_svelte@3.55.1+vite@4.1.4/node_modules/@sveltejs/kit/src/exports/vite/preview/index.js:146:5\r\n```\r\n\r\nDowngrading to 1.8.5 works.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447787407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jycouet","id":5312607,"node_id":"MDQ6VXNlcjUzMTI2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5312607?v=4","gravatar_id":"","url":"https://api.github.com/users/jycouet","html_url":"https://github.com/jycouet","followers_url":"https://api.github.com/users/jycouet/followers","following_url":"https://api.github.com/users/jycouet/following{/other_user}","gists_url":"https://api.github.com/users/jycouet/gists{/gist_id}","starred_url":"https://api.github.com/users/jycouet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jycouet/subscriptions","organizations_url":"https://api.github.com/users/jycouet/orgs","repos_url":"https://api.github.com/users/jycouet/repos","events_url":"https://api.github.com/users/jycouet/events{/privacy}","received_events_url":"https://api.github.com/users/jycouet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8624850959,"node_id":"LE_lADOEiPr8c5fe4B0zwAAAAICFMgP","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8624850959","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-28T09:54:11Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":8624850970,"node_id":"LE_lADOEiPr8c5fe4B0zwAAAAICFMga","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8624850970","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-28T09:54:11Z","label":{"name":"p0-urgent","color":"FB1002"},"performed_via_github_app":null},{"id":8624963544,"node_id":"REFE_lADOEiPr8c5fe4B0zwAAAAICFn_Y","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8624963544","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9239f277203c85b5a6e989c6b389decc166171db","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/9239f277203c85b5a6e989c6b389decc166171db","created_at":"2023-02-28T10:05:00Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T10:05:17Z","updated_at":"2023-02-28T10:05:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/9242","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/9242/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/9242/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/9242/events","html_url":"https://github.com/sveltejs/kit/pull/9242","id":1602726395,"node_id":"PR_kwDOEiPr8c5K6ZvY","number":9242,"title":"fix: always add `@sveltejs/kit` to `noExternal` for ssr build","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-02-28T10:05:17Z","updated_at":"2023-02-28T10:16:33Z","closed_at":"2023-02-28T10:16:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/9242","html_url":"https://github.com/sveltejs/kit/pull/9242","diff_url":"https://github.com/sveltejs/kit/pull/9242.diff","patch_url":"https://github.com/sveltejs/kit/pull/9242.patch","merged_at":"2023-02-28T10:16:31Z"},"body":"fixes #9234\r\n\r\nFYI @benmccann @Rich-Harris we _always_ need `@sveltejs/kit` to be part of `noExternal`. Else the build output contains something like \r\n```js\r\nimport { redirect } from '@sveltejs/kit';\r\n\r\n// some compiled code..\r\n  redirect(307, '..');\r\n```\r\nwhile the output code _also_ contains the SvelteKit server runtime, including their own definitions for `Redirect` etc classes, which means all instanceof checks fail.\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/9242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/9242/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8625095905,"node_id":"CE_lADOEiPr8c5fe4B0zwAAAAICGITh","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625095905","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T10:16:33Z","state_reason":null,"performed_via_github_app":null},{"id":8625096183,"node_id":"REFE_lADOEiPr8c5fe4B0zwAAAAICGIX3","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625096183","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"450097f066ec4a5f6f0fd2b58cf81aaecae34331","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/450097f066ec4a5f6f0fd2b58cf81aaecae34331","created_at":"2023-02-28T10:16:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447930664","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447930664","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447930664,"node_id":"IC_kwDOEiPr8c5WTaso","user":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T10:25:45Z","updated_at":"2023-02-28T10:25:45Z","body":"I wonder if a fix for an issue like this shouldn't also contain a playwright test. I think a good rule of thumb is that everything that produced a bug in a release warrants a test case. (but maybe thats just because I'm a bit of a tdd fan). ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447930664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447968751","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447968751","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447968751,"node_id":"IC_kwDOEiPr8c5WTj_v","user":{"login":"jycouet","id":5312607,"node_id":"MDQ6VXNlcjUzMTI2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5312607?v=4","gravatar_id":"","url":"https://api.github.com/users/jycouet","html_url":"https://github.com/jycouet","followers_url":"https://api.github.com/users/jycouet/followers","following_url":"https://api.github.com/users/jycouet/following{/other_user}","gists_url":"https://api.github.com/users/jycouet/gists{/gist_id}","starred_url":"https://api.github.com/users/jycouet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jycouet/subscriptions","organizations_url":"https://api.github.com/users/jycouet/orgs","repos_url":"https://api.github.com/users/jycouet/repos","events_url":"https://api.github.com/users/jycouet/events{/privacy}","received_events_url":"https://api.github.com/users/jycouet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T10:53:57Z","updated_at":"2023-02-28T10:53:57Z","body":"Thx @dummdidumm for the quick fix\r\n\r\n@christophsturm, I'm pretty sure you can add a test ^_~","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447968751/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jycouet","id":5312607,"node_id":"MDQ6VXNlcjUzMTI2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5312607?v=4","gravatar_id":"","url":"https://api.github.com/users/jycouet","html_url":"https://github.com/jycouet","followers_url":"https://api.github.com/users/jycouet/followers","following_url":"https://api.github.com/users/jycouet/following{/other_user}","gists_url":"https://api.github.com/users/jycouet/gists{/gist_id}","starred_url":"https://api.github.com/users/jycouet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jycouet/subscriptions","organizations_url":"https://api.github.com/users/jycouet/orgs","repos_url":"https://api.github.com/users/jycouet/repos","events_url":"https://api.github.com/users/jycouet/events{/privacy}","received_events_url":"https://api.github.com/users/jycouet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8625501133,"node_id":"MEE_lADOEiPr8c5fe4B0zwAAAAICHrPN","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625501133","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-28T10:53:58Z","performed_via_github_app":null},{"id":8625501138,"node_id":"SE_lADOEiPr8c5fe4B0zwAAAAICHrPS","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625501138","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T10:53:58Z","performed_via_github_app":null},{"id":8625501164,"node_id":"MEE_lADOEiPr8c5fe4B0zwAAAAICHrPs","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625501164","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-28T10:53:58Z","performed_via_github_app":null},{"id":8625501175,"node_id":"SE_lADOEiPr8c5fe4B0zwAAAAICHrP3","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625501175","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T10:53:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447986561","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1447986561","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1447986561,"node_id":"IC_kwDOEiPr8c5WToWB","user":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T11:06:07Z","updated_at":"2023-02-28T11:06:07Z","body":"> @christophsturm, I'm pretty sure you can add a test ^_~\r\n\r\nactually in my codebase i had a test that broke, but I do not know sveltekit internals well enough to find out why, and I thought its probably something stupid on my end because why would something so basic not work. \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1447986561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8625618451,"node_id":"MEE_lADOEiPr8c5fe4B0zwAAAAICIH4T","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625618451","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-28T11:06:07Z","performed_via_github_app":null},{"id":8625618466,"node_id":"SE_lADOEiPr8c5fe4B0zwAAAAICIH4i","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8625618466","actor":{"login":"christophsturm","id":1999,"node_id":"MDQ6VXNlcjE5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1999?v=4","gravatar_id":"","url":"https://api.github.com/users/christophsturm","html_url":"https://github.com/christophsturm","followers_url":"https://api.github.com/users/christophsturm/followers","following_url":"https://api.github.com/users/christophsturm/following{/other_user}","gists_url":"https://api.github.com/users/christophsturm/gists{/gist_id}","starred_url":"https://api.github.com/users/christophsturm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophsturm/subscriptions","organizations_url":"https://api.github.com/users/christophsturm/orgs","repos_url":"https://api.github.com/users/christophsturm/repos","events_url":"https://api.github.com/users/christophsturm/events{/privacy}","received_events_url":"https://api.github.com/users/christophsturm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T11:06:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1448181790","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1448181790","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1448181790,"node_id":"IC_kwDOEiPr8c5WUYAe","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T13:28:52Z","updated_at":"2023-02-28T13:28:52Z","body":"The test suite probably didn't catch it because the condition which added `@sveltejs/kit` to `noExternal` was true in that case.\r\n\r\nWe have some plans around more general e2e tests including adapters, in which we can also test this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1448181790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1448656895","html_url":"https://github.com/sveltejs/kit/issues/9234#issuecomment-1448656895","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/9234","id":1448656895,"node_id":"IC_kwDOEiPr8c5WWL__","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T18:21:08Z","updated_at":"2023-02-28T18:21:31Z","body":"@dummdidumm Thanks for the quick fix, sorry for not providing more info (I was bit tired and late working), will do better next time =)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1448656895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8630050167,"node_id":"MEE_lADOEiPr8c5fe4B0zwAAAAICZB13","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8630050167","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-28T18:21:09Z","performed_via_github_app":null},{"id":8630050183,"node_id":"SE_lADOEiPr8c5fe4B0zwAAAAICZB2H","url":"https://api.github.com/repos/sveltejs/kit/issues/events/8630050183","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-28T18:21:09Z","performed_via_github_app":null},{"actor":{"login":"sbmw","id":30099628,"node_id":"MDQ6VXNlcjMwMDk5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/30099628?v=4","gravatar_id":"","url":"https://api.github.com/users/sbmw","html_url":"https://github.com/sbmw","followers_url":"https://api.github.com/users/sbmw/followers","following_url":"https://api.github.com/users/sbmw/following{/other_user}","gists_url":"https://api.github.com/users/sbmw/gists{/gist_id}","starred_url":"https://api.github.com/users/sbmw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbmw/subscriptions","organizations_url":"https://api.github.com/users/sbmw/orgs","repos_url":"https://api.github.com/users/sbmw/repos","events_url":"https://api.github.com/users/sbmw/events{/privacy}","received_events_url":"https://api.github.com/users/sbmw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-27T18:49:58Z","updated_at":"2024-01-27T18:49:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/11749","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/11749/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/11749/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/11749/events","html_url":"https://github.com/sveltejs/kit/issues/11749","id":2103724577,"node_id":"I_kwDOEiPr8c59ZEoh","number":11749,"title":"Redirects within packages interpreted as errors when using pnpm link","user":{"login":"sbmw","id":30099628,"node_id":"MDQ6VXNlcjMwMDk5NjI4","avatar_url":"https://avatars.githubusercontent.com/u/30099628?v=4","gravatar_id":"","url":"https://api.github.com/users/sbmw","html_url":"https://github.com/sbmw","followers_url":"https://api.github.com/users/sbmw/followers","following_url":"https://api.github.com/users/sbmw/following{/other_user}","gists_url":"https://api.github.com/users/sbmw/gists{/gist_id}","starred_url":"https://api.github.com/users/sbmw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbmw/subscriptions","organizations_url":"https://api.github.com/users/sbmw/orgs","repos_url":"https://api.github.com/users/sbmw/repos","events_url":"https://api.github.com/users/sbmw/events{/privacy}","received_events_url":"https://api.github.com/users/sbmw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2024-01-27T18:49:58Z","updated_at":"2024-04-11T17:07:56Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\n\nThis is maybe a bit niche...  \r\n\r\nWhen building a svelte package and an app in unison, it can be very useful to use `pnpm link` to override the app's package dependency with the package's local directory.  Working in this way provides HMR benefits without needing to make any hard edits to the app's package.json dependencies.\r\n\r\nA redirect (eg `redirect(307, \"https://google.com\");`) within the package will be handled as an error when working in this manner.\r\n  \r\nThe underlying cause seems to be the same as a few previous issues (eg https://github.com/sveltejs/kit/issues/9234) but the previous `noExternal` solutions don't work, for me at least.\n\n### Reproduction\n\nVery basic reproduction linked below.  The 4 edited files and steps to reproduce are listed in the readme.\r\n\r\nhttps://github.com/sbmw/sveltekit-pnpmlink\r\n\r\nIn short:\r\n\r\nIn the package - pnpm i && pnpm build \r\nIn the app  - pnpm i && pnpm link ../my-package && pnpm dev\r\n\r\nhttps://localhost:5000/foo - error thrown from server load\r\nhttps://localhost:5000/login - error thrown from server hook\r\n\n\n### Logs\n\n```Shell\nPATH /foo\r\nRedirect { status: 307, location: 'https://google.com' }\r\nPATH /login\r\nError: {\"status\":307,\"location\":\"https://github.com/login\"}\r\n    at Module.coalesce_to_error (/home/foo/sveltekit-pnpmlink/my-app/node_modules/.pnpm/@sveltejs+kit@2.5.0_@sveltejs+vite-plugin-svelte@3.0.2_svelte@4.2.9_vite@5.0.12/node_modules/@sveltejs/kit/src/utils/error.js:11:5)\r\n    at Module.handle_fatal_error (/home/foo/sveltekit-pnpmlink/my-app/node_modules/.pnpm/@sveltejs+kit@2.5.0_@sveltejs+vite-plugin-svelte@3.0.2_svelte@4.2.9_vite@5.0.12/node_modules/@sveltejs/kit/src/runtime/server/utils.js:72:47)\r\n    at Module.respond (/home/foo/sveltekit-pnpmlink/my-app/node_modules/.pnpm/@sveltejs+kit@2.5.0_@sveltejs+vite-plugin-svelte@3.0.2_svelte@4.2.9_vite@5.0.12/node_modules/@sveltejs/kit/src/runtime/server/respond.js:394:16)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async file:///home/foo/sveltekit-pnpmlink/my-app/node_modules/.pnpm/@sveltejs+kit@2.5.0_@sveltejs+vite-plugin-svelte@3.0.2_svelte@4.2.9_vite@5.0.12/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:524:22\n```\n\n\n### System Info\n\n```Shell\nSystem:\r\n    OS: Linux 6.6 Fedora Linux 38 (KDE Plasma)\r\n    CPU: (16) x64 12th Gen Intel(R) Core(TM) i7-1260P\r\n    Memory: 43.93 GB / 62.51 GB\r\n    Container: Yes\r\n    Shell: 5.2.21 - /bin/bash\r\n  Binaries:\r\n    Node: 21.6.1 - ~/.n/bin/node\r\n    npm: 10.2.4 - ~/.n/bin/npm\r\n    pnpm: 8.14.3 - ~/.n/bin/pnpm\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^3.0.0 => 3.1.1 \r\n    @sveltejs/kit: ^2.0.0 => 2.5.0 \r\n    @sveltejs/vite-plugin-svelte: ^3.0.0 => 3.0.2 \r\n    svelte: ^4.2.7 => 4.2.9 \r\n    vite: ^5.0.3 => 5.0.12\n```\n\n\n### Severity\n\nannoyance\n\n### Additional Information\n\nOne workaround is to use the `file:` protocol, but this loses the ease/hmr benefits and you need to remember to revert the changes before pushing app code.\r\n   \r\n```\r\n\"dependencies\": {\r\n    \"my-package\": \"file:../my-package\"\r\n},\r\n```\r\n\r\nOr am I just using the wrong approach for working on a package?  ","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/11749/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/11749/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]