[{"id":7478821873,"node_id":"MEE_lADOEiPr8c5S0kQuzwAAAAG9xcPx","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7478821873","actor":{"login":"shahensaifullah","id":44544213,"node_id":"MDQ6VXNlcjQ0NTQ0MjEz","avatar_url":"https://avatars.githubusercontent.com/u/44544213?v=4","gravatar_id":"","url":"https://api.github.com/users/shahensaifullah","html_url":"https://github.com/shahensaifullah","followers_url":"https://api.github.com/users/shahensaifullah/followers","following_url":"https://api.github.com/users/shahensaifullah/following{/other_user}","gists_url":"https://api.github.com/users/shahensaifullah/gists{/gist_id}","starred_url":"https://api.github.com/users/shahensaifullah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahensaifullah/subscriptions","organizations_url":"https://api.github.com/users/shahensaifullah/orgs","repos_url":"https://api.github.com/users/shahensaifullah/repos","events_url":"https://api.github.com/users/shahensaifullah/events{/privacy}","received_events_url":"https://api.github.com/users/shahensaifullah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-28T14:55:39Z","performed_via_github_app":null},{"id":7478821880,"node_id":"SE_lADOEiPr8c5S0kQuzwAAAAG9xcP4","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7478821880","actor":{"login":"shahensaifullah","id":44544213,"node_id":"MDQ6VXNlcjQ0NTQ0MjEz","avatar_url":"https://avatars.githubusercontent.com/u/44544213?v=4","gravatar_id":"","url":"https://api.github.com/users/shahensaifullah","html_url":"https://github.com/shahensaifullah","followers_url":"https://api.github.com/users/shahensaifullah/followers","following_url":"https://api.github.com/users/shahensaifullah/following{/other_user}","gists_url":"https://api.github.com/users/shahensaifullah/gists{/gist_id}","starred_url":"https://api.github.com/users/shahensaifullah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahensaifullah/subscriptions","organizations_url":"https://api.github.com/users/shahensaifullah/orgs","repos_url":"https://api.github.com/users/shahensaifullah/repos","events_url":"https://api.github.com/users/shahensaifullah/events{/privacy}","received_events_url":"https://api.github.com/users/shahensaifullah/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-28T14:55:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261459476","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1261459476","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1261459476,"node_id":"IC_kwDOEiPr8c5LMFgU","user":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T21:00:16Z","updated_at":"2022-09-28T21:00:16Z","body":"Ok, I went down this rabbit hole, and emerged ðŸ‡ with the following conclusions:\r\n\r\nMessing with server-side cookies -- even reading them  -- on the client is not something that should be encouraged. Safari's `document.cookie` does not seem to delete cookies. They are deleted in the \"storage\" tab in Safari's dev tools, and not sent on subsequent requests, but parsing `document.cookie` with client-side javascript shows deleted cookies, even across page reloads. \r\n\r\nRepro: https://github.com/cdcarson/sveltekit-cookie-bug (Based on the OP's repro. Try it in Safari.)\r\n\r\nSo, relying on on a cookie value in the client seems like a bad idea. A worse idea is allowing client-side javascript to modify or delete cookies originally set on the server.\r\n\r\nSuggestions:\r\n\r\n1. The existing `cookies.set`, and `cookies.delete` should be `httpOnly`, no exceptions.\r\n2.  `cookies.set` should sign the cookie. `cookies.get` should verify. This will negate the risk of the browser replacing or pre-populating a cookie key that is meant to be secure.\r\n3.  Add `cookies.getInsecure(name: string)` to allow the server to read cookies set on the client. Make it clear that this should be used for `theme=dark` stuff, not anything that has security implications.\r\n\r\n\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261459476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261640583","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1261640583","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1261640583,"node_id":"IC_kwDOEiPr8c5LMxuH","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T01:43:16Z","updated_at":"2022-09-29T01:43:16Z","body":"> A worse idea is allowing client-side javascript to modify or delete cookies originally set on the server.\n\nIn the original discussion, the cookie was being deleted through the browser dev tools. Would this issue still persist if the cookies are httpOnly?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261640583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261905216","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1261905216","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1261905216,"node_id":"IC_kwDOEiPr8c5LNyVA","user":{"login":"david-plugge","id":59972093,"node_id":"MDQ6VXNlcjU5OTcyMDkz","avatar_url":"https://avatars.githubusercontent.com/u/59972093?v=4","gravatar_id":"","url":"https://api.github.com/users/david-plugge","html_url":"https://github.com/david-plugge","followers_url":"https://api.github.com/users/david-plugge/followers","following_url":"https://api.github.com/users/david-plugge/following{/other_user}","gists_url":"https://api.github.com/users/david-plugge/gists{/gist_id}","starred_url":"https://api.github.com/users/david-plugge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-plugge/subscriptions","organizations_url":"https://api.github.com/users/david-plugge/orgs","repos_url":"https://api.github.com/users/david-plugge/repos","events_url":"https://api.github.com/users/david-plugge/events{/privacy}","received_events_url":"https://api.github.com/users/david-plugge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T07:55:41Z","updated_at":"2022-09-29T07:55:41Z","body":"> A worse idea is allowing client-side javascript to modify or delete cookies originally set on the server.\r\n\r\nBut what about a theme cookie that is usually set on the client but the client has js disabled. So you call the server to set the clients cookie. There are many more use cases for cookies with http only disabled and i don't think it's a thing sveltekit should handle. You have full control about the cookies, it's up to the user to decide how to use it.\r\n\r\n> Add cookies.getInsecure(name: string) to allow the server to read cookies set on the client.\r\n\r\nNot 100% sure but I don't think the cookie header includes the cookie options, only name and value. So there is no way to distinguish between http only on or off","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1261905216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"david-plugge","id":59972093,"node_id":"MDQ6VXNlcjU5OTcyMDkz","avatar_url":"https://avatars.githubusercontent.com/u/59972093?v=4","gravatar_id":"","url":"https://api.github.com/users/david-plugge","html_url":"https://github.com/david-plugge","followers_url":"https://api.github.com/users/david-plugge/followers","following_url":"https://api.github.com/users/david-plugge/following{/other_user}","gists_url":"https://api.github.com/users/david-plugge/gists{/gist_id}","starred_url":"https://api.github.com/users/david-plugge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-plugge/subscriptions","organizations_url":"https://api.github.com/users/david-plugge/orgs","repos_url":"https://api.github.com/users/david-plugge/repos","events_url":"https://api.github.com/users/david-plugge/events{/privacy}","received_events_url":"https://api.github.com/users/david-plugge/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262049942","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1262049942","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1262049942,"node_id":"IC_kwDOEiPr8c5LOVqW","user":{"login":"shahensaifullah","id":44544213,"node_id":"MDQ6VXNlcjQ0NTQ0MjEz","avatar_url":"https://avatars.githubusercontent.com/u/44544213?v=4","gravatar_id":"","url":"https://api.github.com/users/shahensaifullah","html_url":"https://github.com/shahensaifullah","followers_url":"https://api.github.com/users/shahensaifullah/followers","following_url":"https://api.github.com/users/shahensaifullah/following{/other_user}","gists_url":"https://api.github.com/users/shahensaifullah/gists{/gist_id}","starred_url":"https://api.github.com/users/shahensaifullah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahensaifullah/subscriptions","organizations_url":"https://api.github.com/users/shahensaifullah/orgs","repos_url":"https://api.github.com/users/shahensaifullah/repos","events_url":"https://api.github.com/users/shahensaifullah/events{/privacy}","received_events_url":"https://api.github.com/users/shahensaifullah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T09:57:31Z","updated_at":"2022-09-29T09:57:31Z","body":"> > A worse idea is allowing client-side javascript to modify or delete cookies originally set on the server.\r\n> \r\n> But what about a theme cookie that is usually set on the client but the client has js disabled. So you call the server to set the clients cookie. There are many more use cases for cookies with http only disabled and i don't think it's a thing sveltekit should handle. You have full control about the cookies, it's up to the user to decide how to use it.\r\n> \r\n> > Add cookies.getInsecure(name: string) to allow the server to read cookies set on the client.\r\n> \r\n> Not 100% sure but I don't think the cookie header includes the cookie options, only name and value. So there is no way to distinguish between http only on or off\r\n\r\ni tried with httponly cookie and expire time was set to 10s. after 10s cookie is removed by the browser but the result is the same. A cookie is empty, svelte response header add the cookie but never set the cookie to browser unless i remove cache and hard reload the page(chrome, edge in windows).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262049942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shahensaifullah","id":44544213,"node_id":"MDQ6VXNlcjQ0NTQ0MjEz","avatar_url":"https://avatars.githubusercontent.com/u/44544213?v=4","gravatar_id":"","url":"https://api.github.com/users/shahensaifullah","html_url":"https://github.com/shahensaifullah","followers_url":"https://api.github.com/users/shahensaifullah/followers","following_url":"https://api.github.com/users/shahensaifullah/following{/other_user}","gists_url":"https://api.github.com/users/shahensaifullah/gists{/gist_id}","starred_url":"https://api.github.com/users/shahensaifullah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahensaifullah/subscriptions","organizations_url":"https://api.github.com/users/shahensaifullah/orgs","repos_url":"https://api.github.com/users/shahensaifullah/repos","events_url":"https://api.github.com/users/shahensaifullah/events{/privacy}","received_events_url":"https://api.github.com/users/shahensaifullah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262286581","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1262286581","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1262286581,"node_id":"IC_kwDOEiPr8c5LPPb1","user":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T13:29:56Z","updated_at":"2022-09-29T13:30:20Z","body":"> In the original discussion, the cookie was being deleted through the browser dev tools. Would this issue still persist if the cookies are httpOnly?\r\n\r\n@s3812497 You could still delete the cookies via dev tools. \r\n\r\nTo clarify my comment: Playing with your repro that you posted for this issue, I noticed weird differences between Chrome and Safari. It became apparent that we can't use the client to accurately parse what server cookies have been set. So for example [in your repro this](https://github.com/s3812497/sveltekit-cookie-bug/blob/0238357e425bcb7ed591d2c5905afd4d1fc95892/src/routes/%2Bpage.svelte#L27-L28)...\r\n```html\r\n<h2>document.cookie:</h2>\r\n<p>{cookies ? JSON.stringify(cookies) : 'No cookies were set. This is a bug.'}</p>\r\n```\r\n...isn't really reliable. It's really hard to point out exactly why, especially since browsers handle `document.cookie` differently.\r\n\r\nNet: I wasn't able to reproduce the original issue in Chrome. I was able to do so, apparently, in Safari.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262286581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7486819580,"node_id":"MEE_lADOEiPr8c5S0kQuzwAAAAG-P8z8","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7486819580","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-29T13:29:57Z","performed_via_github_app":null},{"id":7486819592,"node_id":"SE_lADOEiPr8c5S0kQuzwAAAAG-P80I","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7486819592","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-29T13:29:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262317684","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1262317684","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1262317684,"node_id":"IC_kwDOEiPr8c5LPXB0","user":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T13:52:49Z","updated_at":"2022-09-29T13:52:49Z","body":"@david-plugge\r\n\r\n> Not 100% sure but I don't think the cookie header includes the cookie options\r\n\r\nYou are correct. It's just a string of key-value pairs. Thus signing the cookies. That's the only way of ensuring the cookie was set on the server.\r\n\r\n> But what about a theme cookie that is usually set on the client but the client has js disabled.\r\n\r\nWe could have `setInsecureCookie`? Or say that setting the theme is just a progressive feature. Or have both js and non-js clients hit an endpoint, rather than setting it on the client.\r\n\r\n> You have full control about the cookies, it's up to the user to decide how to use it.\r\n\r\nI agree that should be as true as possible, but since SvelteKit has a cookies api (for a good reason -- i.e. reading & writing cookies across separate `load`s in the same request) some parameters have to be set. \r\n\r\nMy suggestion that cookies be `HttpOnly` stemmed from playing with the repro in this issue, and realizing that reading `document.cookie` was flaky across different browsers. So I'm not even sure that the repro here is accurate.\r\n\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262317684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7487034552,"node_id":"MEE_lADOEiPr8c5S0kQuzwAAAAG-QxS4","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7487034552","actor":{"login":"david-plugge","id":59972093,"node_id":"MDQ6VXNlcjU5OTcyMDkz","avatar_url":"https://avatars.githubusercontent.com/u/59972093?v=4","gravatar_id":"","url":"https://api.github.com/users/david-plugge","html_url":"https://github.com/david-plugge","followers_url":"https://api.github.com/users/david-plugge/followers","following_url":"https://api.github.com/users/david-plugge/following{/other_user}","gists_url":"https://api.github.com/users/david-plugge/gists{/gist_id}","starred_url":"https://api.github.com/users/david-plugge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-plugge/subscriptions","organizations_url":"https://api.github.com/users/david-plugge/orgs","repos_url":"https://api.github.com/users/david-plugge/repos","events_url":"https://api.github.com/users/david-plugge/events{/privacy}","received_events_url":"https://api.github.com/users/david-plugge/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-29T13:52:49Z","performed_via_github_app":null},{"id":7487034560,"node_id":"SE_lADOEiPr8c5S0kQuzwAAAAG-QxTA","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7487034560","actor":{"login":"david-plugge","id":59972093,"node_id":"MDQ6VXNlcjU5OTcyMDkz","avatar_url":"https://avatars.githubusercontent.com/u/59972093?v=4","gravatar_id":"","url":"https://api.github.com/users/david-plugge","html_url":"https://github.com/david-plugge","followers_url":"https://api.github.com/users/david-plugge/followers","following_url":"https://api.github.com/users/david-plugge/following{/other_user}","gists_url":"https://api.github.com/users/david-plugge/gists{/gist_id}","starred_url":"https://api.github.com/users/david-plugge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-plugge/subscriptions","organizations_url":"https://api.github.com/users/david-plugge/orgs","repos_url":"https://api.github.com/users/david-plugge/repos","events_url":"https://api.github.com/users/david-plugge/events{/privacy}","received_events_url":"https://api.github.com/users/david-plugge/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-29T13:52:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262348462","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1262348462","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1262348462,"node_id":"IC_kwDOEiPr8c5LPeiu","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T14:15:13Z","updated_at":"2022-09-29T14:15:13Z","body":"> Net: I wasn't able to reproduce the original issue in Chrome. I was able to do so, apparently, in Safari.\n\nIs it possible that `Disable cache` is enabled in your Chrome? I had to turn this off to see the effects.\n\nRegardless, I'm really thankful for your detailed findings :) I'm learning a lot. Initially, I wasn't sure what the expected behaviour is for this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262348462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262351525","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1262351525","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1262351525,"node_id":"IC_kwDOEiPr8c5LPfSl","user":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T14:17:29Z","updated_at":"2022-09-29T14:17:29Z","body":"> Is it possible that Disable cache is enabled in your Chrome? \r\n\r\nOh, probably. Yikes. I'll try it again later this afternoon. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1262351525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1276442712","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1276442712","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1276442712,"node_id":"IC_kwDOEiPr8c5MFPhY","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T16:27:22Z","updated_at":"2022-10-12T16:27:22Z","body":"I can reproduce this in Chrome when turning off `Disable cache`. The culprit seems to be the etag logic. The browser sends a matching etag so SvelteKit says \"alright let's respond with 304 instead\" and leaves out the cookies. I'm not sure if the fix is to append the cookies, or not send 304 when cookies changed, or if the etag generation logic is wrong somewhere else.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1276442712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7573513621,"node_id":"LE_lADOEiPr8c5S0kQuzwAAAAHDaqWV","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7573513621","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-10-12T16:27:29Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7573513875,"node_id":"MIE_lADOEiPr8c5S0kQuzwAAAAHDaqaT","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7573513875","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-10-12T16:27:31Z","milestone":{"title":"1.0"},"performed_via_github_app":null},{"id":7578502023,"node_id":"REFE_lADOEiPr8c5S0kQuzwAAAAHDtsOH","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7578502023","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f27e95f3104fb53ecb76b44ffc1dc31365e11ad1","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/f27e95f3104fb53ecb76b44ffc1dc31365e11ad1","created_at":"2022-10-13T07:59:47Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T08:00:09Z","updated_at":"2022-10-13T08:00:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7256","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7256/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7256/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7256/events","html_url":"https://github.com/sveltejs/kit/pull/7256","id":1407330090,"node_id":"PR_kwDOEiPr8c5AthIB","number":7256,"title":"[fix] forward cookie headers on etag response","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-13T08:00:09Z","updated_at":"2022-10-13T15:01:49Z","closed_at":"2022-10-13T15:01:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/7256","html_url":"https://github.com/sveltejs/kit/pull/7256","diff_url":"https://github.com/sveltejs/kit/pull/7256.diff","patch_url":"https://github.com/sveltejs/kit/pull/7256.patch","merged_at":"2022-10-13T15:01:48Z"},"body":"Fixes #7066\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [x] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. All changesets should be `patch` until SvelteKit 1.0\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7256/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7256/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7582303120,"node_id":"CE_lADOEiPr8c5S0kQuzwAAAAHD8MOQ","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7582303120","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-10-13T15:01:49Z","state_reason":null,"performed_via_github_app":null},{"id":7582303376,"node_id":"REFE_lADOEiPr8c5S0kQuzwAAAAHD8MSQ","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7582303376","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6844fbd7b12f7125c29ba22bfa6ebcc6112bf6d9","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/6844fbd7b12f7125c29ba22bfa6ebcc6112bf6d9","created_at":"2022-10-13T15:01:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1616088256","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1616088256","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1616088256,"node_id":"IC_kwDOEiPr8c5gU4zA","user":{"login":"naolk35","id":99179605,"node_id":"U_kgDOBelcVQ","avatar_url":"https://avatars.githubusercontent.com/u/99179605?v=4","gravatar_id":"","url":"https://api.github.com/users/naolk35","html_url":"https://github.com/naolk35","followers_url":"https://api.github.com/users/naolk35/followers","following_url":"https://api.github.com/users/naolk35/following{/other_user}","gists_url":"https://api.github.com/users/naolk35/gists{/gist_id}","starred_url":"https://api.github.com/users/naolk35/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naolk35/subscriptions","organizations_url":"https://api.github.com/users/naolk35/orgs","repos_url":"https://api.github.com/users/naolk35/repos","events_url":"https://api.github.com/users/naolk35/events{/privacy}","received_events_url":"https://api.github.com/users/naolk35/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-01T20:21:50Z","updated_at":"2023-07-01T20:21:50Z","body":"my error is i can make any other requests to the server but when i reload and the client side makes a request again it will not include the cookies with the request and my server side needs cookie in every request to authorize and i dont now what to do","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1616088256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"naolk35","id":99179605,"node_id":"U_kgDOBelcVQ","avatar_url":"https://avatars.githubusercontent.com/u/99179605?v=4","gravatar_id":"","url":"https://api.github.com/users/naolk35","html_url":"https://github.com/naolk35","followers_url":"https://api.github.com/users/naolk35/followers","following_url":"https://api.github.com/users/naolk35/following{/other_user}","gists_url":"https://api.github.com/users/naolk35/gists{/gist_id}","starred_url":"https://api.github.com/users/naolk35/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naolk35/subscriptions","organizations_url":"https://api.github.com/users/naolk35/orgs","repos_url":"https://api.github.com/users/naolk35/repos","events_url":"https://api.github.com/users/naolk35/events{/privacy}","received_events_url":"https://api.github.com/users/naolk35/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1617500434","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-1617500434","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":1617500434,"node_id":"IC_kwDOEiPr8c5gaRkS","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-03T07:10:22Z","updated_at":"2023-07-03T07:10:22Z","body":"> my error is i can make any other requests to the server but when i reload and the client side makes a request again it will not include the cookies with the request and my server side needs cookie in every request to authorize and i dont now what to do\r\n\r\nCan you open a new issue for this and include a reproduction?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1617500434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2308386402","html_url":"https://github.com/sveltejs/kit/issues/7066#issuecomment-2308386402","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7066","id":2308386402,"node_id":"IC_kwDOEiPr8c6Jly5i","user":{"login":"Abhishekkumar021","id":78357696,"node_id":"MDQ6VXNlcjc4MzU3Njk2","avatar_url":"https://avatars.githubusercontent.com/u/78357696?v=4","gravatar_id":"","url":"https://api.github.com/users/Abhishekkumar021","html_url":"https://github.com/Abhishekkumar021","followers_url":"https://api.github.com/users/Abhishekkumar021/followers","following_url":"https://api.github.com/users/Abhishekkumar021/following{/other_user}","gists_url":"https://api.github.com/users/Abhishekkumar021/gists{/gist_id}","starred_url":"https://api.github.com/users/Abhishekkumar021/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Abhishekkumar021/subscriptions","organizations_url":"https://api.github.com/users/Abhishekkumar021/orgs","repos_url":"https://api.github.com/users/Abhishekkumar021/repos","events_url":"https://api.github.com/users/Abhishekkumar021/events{/privacy}","received_events_url":"https://api.github.com/users/Abhishekkumar021/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-24T12:59:37Z","updated_at":"2024-08-24T12:59:37Z","body":"> my error is i can make any other requests to the server but when i reload and the client side makes a request again it will not include the cookies with the request and my server side needs cookie in every request to authorize and i dont now what to do\r\n\r\n\r\nUse credentials: 'include' in every request where cookies are needed; it will automatically send them to the server.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2308386402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Abhishekkumar021","id":78357696,"node_id":"MDQ6VXNlcjc4MzU3Njk2","avatar_url":"https://avatars.githubusercontent.com/u/78357696?v=4","gravatar_id":"","url":"https://api.github.com/users/Abhishekkumar021","html_url":"https://github.com/Abhishekkumar021","followers_url":"https://api.github.com/users/Abhishekkumar021/followers","following_url":"https://api.github.com/users/Abhishekkumar021/following{/other_user}","gists_url":"https://api.github.com/users/Abhishekkumar021/gists{/gist_id}","starred_url":"https://api.github.com/users/Abhishekkumar021/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Abhishekkumar021/subscriptions","organizations_url":"https://api.github.com/users/Abhishekkumar021/orgs","repos_url":"https://api.github.com/users/Abhishekkumar021/repos","events_url":"https://api.github.com/users/Abhishekkumar021/events{/privacy}","received_events_url":"https://api.github.com/users/Abhishekkumar021/received_events","type":"User","user_view_type":"public","site_admin":false}}]