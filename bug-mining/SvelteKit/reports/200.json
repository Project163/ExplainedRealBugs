{"url":"https://api.github.com/repos/sveltejs/kit/issues/7434","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7434/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7434/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7434/events","html_url":"https://github.com/sveltejs/kit/issues/7434","id":1428316760,"node_id":"I_kwDOEiPr8c5VImJY","number":7434,"title":"`Not found: /__data.json` when use form actions with `use:enhance`","user":{"login":"dangelomedinag","id":64056830,"node_id":"MDQ6VXNlcjY0MDU2ODMw","avatar_url":"https://avatars.githubusercontent.com/u/64056830?v=4","gravatar_id":"","url":"https://api.github.com/users/dangelomedinag","html_url":"https://github.com/dangelomedinag","followers_url":"https://api.github.com/users/dangelomedinag/followers","following_url":"https://api.github.com/users/dangelomedinag/following{/other_user}","gists_url":"https://api.github.com/users/dangelomedinag/gists{/gist_id}","starred_url":"https://api.github.com/users/dangelomedinag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dangelomedinag/subscriptions","organizations_url":"https://api.github.com/users/dangelomedinag/orgs","repos_url":"https://api.github.com/users/dangelomedinag/repos","events_url":"https://api.github.com/users/dangelomedinag/events{/privacy}","received_events_url":"https://api.github.com/users/dangelomedinag/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3229640667,"node_id":"MDU6TGFiZWwzMjI5NjQwNjY3","url":"https://api.github.com/repos/sveltejs/kit/labels/p1-important","name":"p1-important","color":"2C3488","default":false,"description":"SvelteKit cannot be used by a large number of people, basic functionality is missing, etc."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-10-29T15:27:47Z","updated_at":"2022-11-01T13:54:05Z","closed_at":"2022-10-31T09:14:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nI have this code:\r\n```svelte\r\n<!-- routes/+page.svelte -->\r\n\r\n<script>\r\n\timport { enhance } from '$app/forms';\r\n</script>\r\n\r\n<form method=\"POST\" use:enhance>\r\n\t<input type=\"text\" name=\"text\" id=\"textid\" />\r\n\t<button type=\"submit\">submit</button>\r\n</form>\r\n```\r\n\r\n```js\r\n// routes/+page.server.js\r\n\r\nexport const actions = {\r\n\tdefault: () => {\r\n\t\treturn {\r\n\t\t\tsuccess: true\r\n\t\t};\r\n\t}\r\n};\r\n```\r\n\r\nwhen I submit the form, the following error occurs:\r\n\r\n```bash\r\nNot found: /__data.json\r\nError: Not found: /__data.json\r\n    at resolve (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:264:13)\r\n    at resolve (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:295:5)\r\n    at Object.handle (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:343:66)\r\n    at respond (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:292:40)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:413:22\r\n```\r\n\r\nexactly the same happens if they are named actions, when using `use:enhance` I get the same error.\r\nI thought it was related to [#7410](https://github.com/sveltejs/kit/issues/7410), but I updated to the latest version and the error described still occurs\r\n\r\n\r\n### Reproduction\r\n\r\nhttps://stackblitz.com/edit/sveltejs-kit-template-default-kbaf32?file=src/routes/+page.svelte \r\n\r\n\r\nother option (local)\r\n```bash\r\nnpm create svelte@latest \r\n// zero configuration\r\nadd files /+page.svelte and /+page.server.js\r\n```\r\n\r\n### Logs\r\n\r\n```Shell\r\nNot found: /__data.json\r\nError: Not found: /__data.json\r\n    at resolve (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:264:13)\r\n    at resolve (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:295:5)\r\n    at Object.handle (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:343:66)\r\n    at respond (file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/runtime/server/index.js:292:40)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async file:///C:/Users/dange/Documents/dev/sveltekit/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:413:22\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```Shell\r\nSystem:\r\n    OS: Windows 10 10.0.22621\r\n    CPU: (16) x64 AMD Ryzen 9 5900HS with Radeon Graphics\r\n    Memory: 8.55 GB / 15.41 GB\r\n  Binaries:\r\n    Node: 18.0.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 8.19.2 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.22621.755.0), Chromium (107.0.1418.24), ChromiumDev ((@(&\"C:/Users/dange/AppData/Local/Programs/oh-my-posh/bin/oh-my-posh.exe\" init pwsh --config=\"C:\\Users\\dange\\AppData\\Local\\Programs\\oh-my-posh\\themes\\jandedobbeleer.omp.json\" --print) -join \"`n\") | Invoke-Expression)\r\n    Internet Explorer: 11.0.22621.1\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: next => 1.0.0-next.85\r\n    @sveltejs/kit: next => 1.0.0-next.528\r\n    svelte: ^3.44.0 => 3.52.0\r\n    vite: ^3.1.0 => 3.2.1\r\n```\r\n\r\n\r\n### Severity\r\n\r\nblocking all usage of SvelteKit\r\n\r\n### Additional Information\r\n\r\nI can do a minimal reproduction, but I literally just start a new project and try to use form actions with `use:enhance`","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7434/reactions","total_count":9,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7434/timeline","performed_via_github_app":null,"state_reason":"completed"}