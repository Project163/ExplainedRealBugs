[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2400196393","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2400196393","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2400196393,"node_id":"IC_kwDOEiPr8c6PEBcp","user":{"login":"HalfdanJ","id":227529,"node_id":"MDQ6VXNlcjIyNzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/227529?v=4","gravatar_id":"","url":"https://api.github.com/users/HalfdanJ","html_url":"https://github.com/HalfdanJ","followers_url":"https://api.github.com/users/HalfdanJ/followers","following_url":"https://api.github.com/users/HalfdanJ/following{/other_user}","gists_url":"https://api.github.com/users/HalfdanJ/gists{/gist_id}","starred_url":"https://api.github.com/users/HalfdanJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HalfdanJ/subscriptions","organizations_url":"https://api.github.com/users/HalfdanJ/orgs","repos_url":"https://api.github.com/users/HalfdanJ/repos","events_url":"https://api.github.com/users/HalfdanJ/events{/privacy}","received_events_url":"https://api.github.com/users/HalfdanJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-08T15:39:39Z","updated_at":"2024-10-08T15:44:19Z","body":"After further looking into this, it seems like this might be a cache / cdn issue. The file `public.Dvbes-1E.js` is served with the wrong key `1n0gls`, but when i look at the docker artifact that has been deployed, the files contains the right key `1lw3djs`. Is it possible the change in https://github.com/sveltejs/kit/pull/12700 resulted in the key changing, but the filename staying the same, and therefore resulting in the file having changed content without changing filename?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2400196393/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HalfdanJ","id":227529,"node_id":"MDQ6VXNlcjIyNzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/227529?v=4","gravatar_id":"","url":"https://api.github.com/users/HalfdanJ","html_url":"https://github.com/HalfdanJ","followers_url":"https://api.github.com/users/HalfdanJ/followers","following_url":"https://api.github.com/users/HalfdanJ/following{/other_user}","gists_url":"https://api.github.com/users/HalfdanJ/gists{/gist_id}","starred_url":"https://api.github.com/users/HalfdanJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HalfdanJ/subscriptions","organizations_url":"https://api.github.com/users/HalfdanJ/orgs","repos_url":"https://api.github.com/users/HalfdanJ/repos","events_url":"https://api.github.com/users/HalfdanJ/events{/privacy}","received_events_url":"https://api.github.com/users/HalfdanJ/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2400236646","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2400236646","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2400236646,"node_id":"IC_kwDOEiPr8c6PELRm","user":{"login":"HalfdanJ","id":227529,"node_id":"MDQ6VXNlcjIyNzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/227529?v=4","gravatar_id":"","url":"https://api.github.com/users/HalfdanJ","html_url":"https://github.com/HalfdanJ","followers_url":"https://api.github.com/users/HalfdanJ/followers","following_url":"https://api.github.com/users/HalfdanJ/following{/other_user}","gists_url":"https://api.github.com/users/HalfdanJ/gists{/gist_id}","starred_url":"https://api.github.com/users/HalfdanJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HalfdanJ/subscriptions","organizations_url":"https://api.github.com/users/HalfdanJ/orgs","repos_url":"https://api.github.com/users/HalfdanJ/repos","events_url":"https://api.github.com/users/HalfdanJ/events{/privacy}","received_events_url":"https://api.github.com/users/HalfdanJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-08T15:57:47Z","updated_at":"2024-10-08T15:57:47Z","body":"I have isolated the issue and updated the issue to contain reproduction steps. Issue is that the key changes when package.json changes, but the filename doesnt change so it has become mutable.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2400236646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"HalfdanJ","id":227529,"node_id":"MDQ6VXNlcjIyNzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/227529?v=4","gravatar_id":"","url":"https://api.github.com/users/HalfdanJ","html_url":"https://github.com/HalfdanJ","followers_url":"https://api.github.com/users/HalfdanJ/followers","following_url":"https://api.github.com/users/HalfdanJ/following{/other_user}","gists_url":"https://api.github.com/users/HalfdanJ/gists{/gist_id}","starred_url":"https://api.github.com/users/HalfdanJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HalfdanJ/subscriptions","organizations_url":"https://api.github.com/users/HalfdanJ/orgs","repos_url":"https://api.github.com/users/HalfdanJ/repos","events_url":"https://api.github.com/users/HalfdanJ/events{/privacy}","received_events_url":"https://api.github.com/users/HalfdanJ/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"HalfdanJ","id":227529,"node_id":"MDQ6VXNlcjIyNzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/227529?v=4","gravatar_id":"","url":"https://api.github.com/users/HalfdanJ","html_url":"https://github.com/HalfdanJ","followers_url":"https://api.github.com/users/HalfdanJ/followers","following_url":"https://api.github.com/users/HalfdanJ/following{/other_user}","gists_url":"https://api.github.com/users/HalfdanJ/gists{/gist_id}","starred_url":"https://api.github.com/users/HalfdanJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HalfdanJ/subscriptions","organizations_url":"https://api.github.com/users/HalfdanJ/orgs","repos_url":"https://api.github.com/users/HalfdanJ/repos","events_url":"https://api.github.com/users/HalfdanJ/events{/privacy}","received_events_url":"https://api.github.com/users/HalfdanJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-08T16:04:18Z","updated_at":"2024-10-08T16:04:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12700","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/12700/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/12700/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/12700/events","html_url":"https://github.com/sveltejs/kit/pull/12700","id":2540436322,"node_id":"PR_kwDOEiPr8c58QNvY","number":12700,"title":"fix: replace version in generateBundle","user":{"login":"gtm-nayan","id":50981692,"node_id":"MDQ6VXNlcjUwOTgxNjky","avatar_url":"https://avatars.githubusercontent.com/u/50981692?v=4","gravatar_id":"","url":"https://api.github.com/users/gtm-nayan","html_url":"https://github.com/gtm-nayan","followers_url":"https://api.github.com/users/gtm-nayan/followers","following_url":"https://api.github.com/users/gtm-nayan/following{/other_user}","gists_url":"https://api.github.com/users/gtm-nayan/gists{/gist_id}","starred_url":"https://api.github.com/users/gtm-nayan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtm-nayan/subscriptions","organizations_url":"https://api.github.com/users/gtm-nayan/orgs","repos_url":"https://api.github.com/users/gtm-nayan/repos","events_url":"https://api.github.com/users/gtm-nayan/events{/privacy}","received_events_url":"https://api.github.com/users/gtm-nayan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-09-21T17:45:53Z","updated_at":"2024-10-08T16:04:18Z","closed_at":"2024-10-07T10:53:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/12700","html_url":"https://github.com/sveltejs/kit/pull/12700","diff_url":"https://github.com/sveltejs/kit/pull/12700.diff","patch_url":"https://github.com/sveltejs/kit/pull/12700.patch","merged_at":"2024-10-07T10:53:24Z"},"body":"In #8957 one of the desired outcomes was that the framework code would have its own chunk with a stable hash for better caching, but that didn't really happen because the client imports something that references version, through `__sveltekit/environment` for created_updated_store and version hash through `__sveltekit/path`, which meant that when the developer changes their app code and increments/changes the version it'd also change the above mentioned modules and subsequently most chunks with the framework code\r\n\r\nIn this PR the version is injected in generateBundle once the chunk hashes have already been calculated so that just changing the version doesn't affect the hashes for chunks without any actual code changes\r\n\r\nfixes #12260\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [ ] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n\r\n### Edits\r\n\r\n- [x] Please ensure that 'Allow edits from maintainers' is checked. PRs without this option may be closed.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12700/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/12700/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14569370788,"node_id":"REFE_lADOEiPr8c6ZZO5hzwAAAANkZvSk","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14569370788","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2ffcc41016991d2b34822a6955fcb1b30f0e5f74","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/2ffcc41016991d2b34822a6955fcb1b30f0e5f74","created_at":"2024-10-09T09:24:39Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-09T09:25:33Z","updated_at":"2024-10-09T09:25:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12779","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/12779/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/12779/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/12779/events","html_url":"https://github.com/sveltejs/kit/pull/12779","id":2575337809,"node_id":"PR_kwDOEiPr8c5-DU9O","number":12779,"title":"Revert \"fix: replace version in generateBundle (#12700)\"","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-10-09T09:25:32Z","updated_at":"2024-10-09T12:46:49Z","closed_at":"2024-10-09T09:27:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/12779","html_url":"https://github.com/sveltejs/kit/pull/12779","diff_url":"https://github.com/sveltejs/kit/pull/12779.diff","patch_url":"https://github.com/sveltejs/kit/pull/12779.patch","merged_at":"2024-10-09T09:27:43Z"},"body":"This reverts commit 3591411e880ed5337123c66365433afe8c2f747b.\r\n\r\n#12700 did introduce a bug where the file name stays the same, but the contents of a file can change because of a changed version. Revert for now and take another look at tackling this later.\r\n\r\nFixes #12771\r\nReopens #12260\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/12779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/12779/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14569421817,"node_id":"CE_lADOEiPr8c6ZZO5hzwAAAANkZ7v5","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14569421817","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-10-09T09:27:44Z","state_reason":null,"performed_via_github_app":null},{"id":14569421919,"node_id":"CE_lADOEiPr8c6ZZO5hzwAAAANkZ7xf","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14569421919","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"13fb7f51a1eefd473f56cf4073ed5a48140a996b","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/13fb7f51a1eefd473f56cf4073ed5a48140a996b","created_at":"2024-10-09T09:27:45Z","state_reason":null,"performed_via_github_app":null},{"id":14572878218,"node_id":"REFE_lADOEiPr8c6ZZO5hzwAAAANknHmK","url":"https://api.github.com/repos/sveltejs/kit/issues/events/14572878218","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"13fb7f51a1eefd473f56cf4073ed5a48140a996b","commit_url":"https://api.github.com/repos/anaktampan/svelte-kit/commits/13fb7f51a1eefd473f56cf4073ed5a48140a996b","created_at":"2024-10-09T13:17:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2409091933","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2409091933","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2409091933,"node_id":"IC_kwDOEiPr8c6Pl9Nd","user":{"login":"sickl8","id":59098347,"node_id":"MDQ6VXNlcjU5MDk4MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/59098347?v=4","gravatar_id":"","url":"https://api.github.com/users/sickl8","html_url":"https://github.com/sickl8","followers_url":"https://api.github.com/users/sickl8/followers","following_url":"https://api.github.com/users/sickl8/following{/other_user}","gists_url":"https://api.github.com/users/sickl8/gists{/gist_id}","starred_url":"https://api.github.com/users/sickl8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sickl8/subscriptions","organizations_url":"https://api.github.com/users/sickl8/orgs","repos_url":"https://api.github.com/users/sickl8/repos","events_url":"https://api.github.com/users/sickl8/events{/privacy}","received_events_url":"https://api.github.com/users/sickl8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-13T19:13:26Z","updated_at":"2024-10-13T19:13:26Z","body":"Encountered the same problem recently, fixed by enabling \"Disable Cache\" in browser dev tools for each CI build of a commit","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2409091933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sickl8","id":59098347,"node_id":"MDQ6VXNlcjU5MDk4MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/59098347?v=4","gravatar_id":"","url":"https://api.github.com/users/sickl8","html_url":"https://github.com/sickl8","followers_url":"https://api.github.com/users/sickl8/followers","following_url":"https://api.github.com/users/sickl8/following{/other_user}","gists_url":"https://api.github.com/users/sickl8/gists{/gist_id}","starred_url":"https://api.github.com/users/sickl8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sickl8/subscriptions","organizations_url":"https://api.github.com/users/sickl8/orgs","repos_url":"https://api.github.com/users/sickl8/repos","events_url":"https://api.github.com/users/sickl8/events{/privacy}","received_events_url":"https://api.github.com/users/sickl8/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2690685821","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2690685821","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2690685821,"node_id":"IC_kwDOEiPr8c6gYJt9","user":{"login":"gwest7","id":2110397,"node_id":"MDQ6VXNlcjIxMTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2110397?v=4","gravatar_id":"","url":"https://api.github.com/users/gwest7","html_url":"https://github.com/gwest7","followers_url":"https://api.github.com/users/gwest7/followers","following_url":"https://api.github.com/users/gwest7/following{/other_user}","gists_url":"https://api.github.com/users/gwest7/gists{/gist_id}","starred_url":"https://api.github.com/users/gwest7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwest7/subscriptions","organizations_url":"https://api.github.com/users/gwest7/orgs","repos_url":"https://api.github.com/users/gwest7/repos","events_url":"https://api.github.com/users/gwest7/events{/privacy}","received_events_url":"https://api.github.com/users/gwest7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-28T13:44:38Z","updated_at":"2025-02-28T13:45:54Z","body":"For me the issue occurred when `kit.version.name` in svelte.config.js was set to `Date.now().toString()` manually.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2690685821/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gwest7","id":2110397,"node_id":"MDQ6VXNlcjIxMTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2110397?v=4","gravatar_id":"","url":"https://api.github.com/users/gwest7","html_url":"https://github.com/gwest7","followers_url":"https://api.github.com/users/gwest7/followers","following_url":"https://api.github.com/users/gwest7/following{/other_user}","gists_url":"https://api.github.com/users/gwest7/gists{/gist_id}","starred_url":"https://api.github.com/users/gwest7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwest7/subscriptions","organizations_url":"https://api.github.com/users/gwest7/orgs","repos_url":"https://api.github.com/users/gwest7/repos","events_url":"https://api.github.com/users/gwest7/events{/privacy}","received_events_url":"https://api.github.com/users/gwest7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2693686440","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2693686440","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2693686440,"node_id":"IC_kwDOEiPr8c6gjmSo","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-03T09:02:17Z","updated_at":"2025-03-03T09:02:17Z","body":"> For me the issue occurred when `kit.version.name` in svelte.config.js was set to `Date.now().toString()` manually.\n\nCan you open a new issue with a minimal reproduction in the form of a repository?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2693686440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2748712073","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2748712073","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2748712073,"node_id":"IC_kwDOEiPr8c6j1gSJ","user":{"login":"ohnv","id":42173293,"node_id":"MDQ6VXNlcjQyMTczMjkz","avatar_url":"https://avatars.githubusercontent.com/u/42173293?v=4","gravatar_id":"","url":"https://api.github.com/users/ohnv","html_url":"https://github.com/ohnv","followers_url":"https://api.github.com/users/ohnv/followers","following_url":"https://api.github.com/users/ohnv/following{/other_user}","gists_url":"https://api.github.com/users/ohnv/gists{/gist_id}","starred_url":"https://api.github.com/users/ohnv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohnv/subscriptions","organizations_url":"https://api.github.com/users/ohnv/orgs","repos_url":"https://api.github.com/users/ohnv/repos","events_url":"https://api.github.com/users/ohnv/events{/privacy}","received_events_url":"https://api.github.com/users/ohnv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-24T16:25:14Z","updated_at":"2025-03-24T16:25:14Z","body":"> For me the issue occurred when `kit.version.name` in svelte.config.js was set to `Date.now().toString()` manually.\n\nJust encountered the exact problem as mentioned in the first comment, and this was the issue. I was generating kit.version.name by random GUID + date string at the end. Fixed it by referencing the git commit hash instead.\n\nI also don't think it was related to a CDN, as it affected production builds running locally on my PC.\n\nInterestingly, I deploy 2 apps with a shared codebase (essentially the same package.json, exactly the same same vite config, svelte config etc) and yet it only affected one of them.\n\nðŸ¤·â€â™‚ ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2748712073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ohnv","id":42173293,"node_id":"MDQ6VXNlcjQyMTczMjkz","avatar_url":"https://avatars.githubusercontent.com/u/42173293?v=4","gravatar_id":"","url":"https://api.github.com/users/ohnv","html_url":"https://github.com/ohnv","followers_url":"https://api.github.com/users/ohnv/followers","following_url":"https://api.github.com/users/ohnv/following{/other_user}","gists_url":"https://api.github.com/users/ohnv/gists{/gist_id}","starred_url":"https://api.github.com/users/ohnv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohnv/subscriptions","organizations_url":"https://api.github.com/users/ohnv/orgs","repos_url":"https://api.github.com/users/ohnv/repos","events_url":"https://api.github.com/users/ohnv/events{/privacy}","received_events_url":"https://api.github.com/users/ohnv/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2942522277","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2942522277","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2942522277,"node_id":"IC_kwDOEiPr8c6vY1Ol","user":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-05T02:12:41Z","updated_at":"2025-06-05T02:12:41Z","body":"This still seems to be an issue and I spent way too much time debugging this issue before searching Github Issues.\n\nI was trying to use a hash but then fell back to `new Date().getTime().toString()` and this seemed to be the issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2942522277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2942525600","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2942525600","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2942525600,"node_id":"IC_kwDOEiPr8c6vY2Cg","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-05T02:14:14Z","updated_at":"2025-06-05T02:14:14Z","body":"> This still seems to be an issue and I spent way too much time debugging this issue before searching Github Issues.\n> \n> I was trying to use a hash but then fell back to `new Date().getTime().toString()` and this seemed to be the issue.\n\nCan you open a new issue with a minimal reproduction?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2942525600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2944067712","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2944067712","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2944067712,"node_id":"IC_kwDOEiPr8c6veuiA","user":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-05T12:33:27Z","updated_at":"2025-06-05T13:36:11Z","body":"I will definitely try, but debugging this has been painfully slow. ~~The issue only happens when deployed to AWS ECS with Cloudflare in front. Doesn't repro with `npm run dev` or after `build` and `preview`~~\n\nEdit: Finally reproduced with local build and preview, will start tearing down the app to create a minimal reproduction. The AWS issue still exists but that is a totally different issue, something with `<pre>` tags causing illegal invocation error. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2944067712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2944313481","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-2944313481","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":2944313481,"node_id":"IC_kwDOEiPr8c6vfqiJ","user":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-05T13:24:59Z","updated_at":"2025-06-05T13:25:44Z","body":"This is one of the strangest bugs I have ever come across. Still working on trying to get a small reproducible example (my project is large)...but...\n\nThrows env errror, nanoid() used directy.\n```\nimport 'dotenv/config';\nimport adapter from '@sveltejs/adapter-node';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\nimport { nanoid } from 'nanoid';\n\nconst config = {\t\n\tpreprocess: vitePreprocess(),\n\tkit: {\n\t\tadapter: adapter(),\n\t\tversion: {\n\t\t\tname: process.env.GITHUB_SHA?.substring(0, 8) || 'rand=' + nanoid(8),\n\t\t\tpollInterval: 30000 // 30 seconds\n\t\t}\n\t}\n};\n\nexport default config;\n```\n\nThrows env errror, nanoid() sets var that is passed in.\n```\nimport 'dotenv/config';\nimport adapter from '@sveltejs/adapter-node';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\nimport { nanoid } from 'nanoid';\n\nconst randomId = nanoid(8);\n\nconst config = {\n\tpreprocess: vitePreprocess(),\n\tkit: {\n\t\tadapter: adapter(),\n\t\tversion: {\n\t\t\tname: process.env.GITHUB_SHA?.substring(0, 8) || randomId,\n\t\t\tpollInterval: 30000 // 30 seconds\n\t\t}\n\t}\n};\n\nexport default config;\n```\n\nWorks fine when name is hardcoded:\n```\nimport 'dotenv/config';\nimport adapter from '@sveltejs/adapter-node';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\n\nconst config = {\n\tpreprocess: vitePreprocess(),\n\tkit: {\n\t\tadapter: adapter(),\n\t\tversion: {\n\t\t\tname: process.env.GITHUB_SHA?.substring(0, 8) || 'random',\n\t\t\tpollInterval: 30000 // 30 seconds\n\t\t}\n\t}\n};\n\nexport default config;\n```\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/2944313481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tehnrd","id":1007085,"node_id":"MDQ6VXNlcjEwMDcwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1007085?v=4","gravatar_id":"","url":"https://api.github.com/users/tehnrd","html_url":"https://github.com/tehnrd","followers_url":"https://api.github.com/users/tehnrd/followers","following_url":"https://api.github.com/users/tehnrd/following{/other_user}","gists_url":"https://api.github.com/users/tehnrd/gists{/gist_id}","starred_url":"https://api.github.com/users/tehnrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tehnrd/subscriptions","organizations_url":"https://api.github.com/users/tehnrd/orgs","repos_url":"https://api.github.com/users/tehnrd/repos","events_url":"https://api.github.com/users/tehnrd/events{/privacy}","received_events_url":"https://api.github.com/users/tehnrd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3289599508","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-3289599508","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":3289599508,"node_id":"IC_kwDOEiPr8c7EE04U","user":{"login":"aviallon","id":7479436,"node_id":"MDQ6VXNlcjc0Nzk0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/7479436?v=4","gravatar_id":"","url":"https://api.github.com/users/aviallon","html_url":"https://github.com/aviallon","followers_url":"https://api.github.com/users/aviallon/followers","following_url":"https://api.github.com/users/aviallon/following{/other_user}","gists_url":"https://api.github.com/users/aviallon/gists{/gist_id}","starred_url":"https://api.github.com/users/aviallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aviallon/subscriptions","organizations_url":"https://api.github.com/users/aviallon/orgs","repos_url":"https://api.github.com/users/aviallon/repos","events_url":"https://api.github.com/users/aviallon/events{/privacy}","received_events_url":"https://api.github.com/users/aviallon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-14T14:39:58Z","updated_at":"2025-09-14T14:39:58Z","body":"For those like me having a similar issue:\n<h1>DO CHECK YOUR `NODE_ENV`'s VALUE !!!</h1>\nIf it is `development` while you do a `npm run build`, here is your mistake.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3289599508/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aviallon","id":7479436,"node_id":"MDQ6VXNlcjc0Nzk0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/7479436?v=4","gravatar_id":"","url":"https://api.github.com/users/aviallon","html_url":"https://github.com/aviallon","followers_url":"https://api.github.com/users/aviallon/followers","following_url":"https://api.github.com/users/aviallon/following{/other_user}","gists_url":"https://api.github.com/users/aviallon/gists{/gist_id}","starred_url":"https://api.github.com/users/aviallon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aviallon/subscriptions","organizations_url":"https://api.github.com/users/aviallon/orgs","repos_url":"https://api.github.com/users/aviallon/repos","events_url":"https://api.github.com/users/aviallon/events{/privacy}","received_events_url":"https://api.github.com/users/aviallon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3415449940","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-3415449940","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":3415449940,"node_id":"IC_kwDOEiPr8c7Lk6FU","user":{"login":"gregg-cbs","id":57114335,"node_id":"MDQ6VXNlcjU3MTE0MzM1","avatar_url":"https://avatars.githubusercontent.com/u/57114335?v=4","gravatar_id":"","url":"https://api.github.com/users/gregg-cbs","html_url":"https://github.com/gregg-cbs","followers_url":"https://api.github.com/users/gregg-cbs/followers","following_url":"https://api.github.com/users/gregg-cbs/following{/other_user}","gists_url":"https://api.github.com/users/gregg-cbs/gists{/gist_id}","starred_url":"https://api.github.com/users/gregg-cbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregg-cbs/subscriptions","organizations_url":"https://api.github.com/users/gregg-cbs/orgs","repos_url":"https://api.github.com/users/gregg-cbs/repos","events_url":"https://api.github.com/users/gregg-cbs/events{/privacy}","received_events_url":"https://api.github.com/users/gregg-cbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-17T12:45:43Z","updated_at":"2025-10-17T12:52:22Z","body":"The problem I am having is I am deploying to my staging environment, so i have a staging env file.\n\nI build the project by doing:\n`vite build --mode staging`\n\nThis will read my: `.env.staging` file which has `NODE_ENV=production` in it.\n\nWhen i run the project, i see the GlobalThis error. \n\nMy production deployment works fine when i run: \n`vite build --mode produciton`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3415449940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gregg-cbs","id":57114335,"node_id":"MDQ6VXNlcjU3MTE0MzM1","avatar_url":"https://avatars.githubusercontent.com/u/57114335?v=4","gravatar_id":"","url":"https://api.github.com/users/gregg-cbs","html_url":"https://github.com/gregg-cbs","followers_url":"https://api.github.com/users/gregg-cbs/followers","following_url":"https://api.github.com/users/gregg-cbs/following{/other_user}","gists_url":"https://api.github.com/users/gregg-cbs/gists{/gist_id}","starred_url":"https://api.github.com/users/gregg-cbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregg-cbs/subscriptions","organizations_url":"https://api.github.com/users/gregg-cbs/orgs","repos_url":"https://api.github.com/users/gregg-cbs/repos","events_url":"https://api.github.com/users/gregg-cbs/events{/privacy}","received_events_url":"https://api.github.com/users/gregg-cbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3415488721","html_url":"https://github.com/sveltejs/kit/issues/12771#issuecomment-3415488721","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/12771","id":3415488721,"node_id":"IC_kwDOEiPr8c7LlDjR","user":{"login":"gregg-cbs","id":57114335,"node_id":"MDQ6VXNlcjU3MTE0MzM1","avatar_url":"https://avatars.githubusercontent.com/u/57114335?v=4","gravatar_id":"","url":"https://api.github.com/users/gregg-cbs","html_url":"https://github.com/gregg-cbs","followers_url":"https://api.github.com/users/gregg-cbs/followers","following_url":"https://api.github.com/users/gregg-cbs/following{/other_user}","gists_url":"https://api.github.com/users/gregg-cbs/gists{/gist_id}","starred_url":"https://api.github.com/users/gregg-cbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregg-cbs/subscriptions","organizations_url":"https://api.github.com/users/gregg-cbs/orgs","repos_url":"https://api.github.com/users/gregg-cbs/repos","events_url":"https://api.github.com/users/gregg-cbs/events{/privacy}","received_events_url":"https://api.github.com/users/gregg-cbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-17T12:54:22Z","updated_at":"2025-10-17T12:54:22Z","body":"# \n\n> For those like me having a similar issue:\n> # DO CHECK YOUR `NODE_ENV`'s VALUE !!!\n> If it is `development` while you do a `npm run build`, here is your mistake.\n\nYou also need to set the NODE_ENV when running the build, otherwise you get the globalThis issue.\n\nEasiest way to do this is to `npm install --save-dev cross-env` and then update your build command like so:\n`cross-env NODE_ENV=production vite build --mode staging`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3415488721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gregg-cbs","id":57114335,"node_id":"MDQ6VXNlcjU3MTE0MzM1","avatar_url":"https://avatars.githubusercontent.com/u/57114335?v=4","gravatar_id":"","url":"https://api.github.com/users/gregg-cbs","html_url":"https://github.com/gregg-cbs","followers_url":"https://api.github.com/users/gregg-cbs/followers","following_url":"https://api.github.com/users/gregg-cbs/following{/other_user}","gists_url":"https://api.github.com/users/gregg-cbs/gists{/gist_id}","starred_url":"https://api.github.com/users/gregg-cbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregg-cbs/subscriptions","organizations_url":"https://api.github.com/users/gregg-cbs/orgs","repos_url":"https://api.github.com/users/gregg-cbs/repos","events_url":"https://api.github.com/users/gregg-cbs/events{/privacy}","received_events_url":"https://api.github.com/users/gregg-cbs/received_events","type":"User","user_view_type":"public","site_admin":false}}]