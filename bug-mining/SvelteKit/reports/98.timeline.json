[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217302602","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217302602","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217302602,"node_id":"IC_kwDOEiPr8c5IjpBK","user":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T00:22:11Z","updated_at":"2022-08-17T00:22:11Z","body":"The discussion at https://github.com/sveltejs/kit/discussions/5748#discussioncomment-3276121 suggested using stores for this purpose. The top-level layout puts a store, let's say it's called `meta`, into `data`. Then it subscribes to that store to make any changes (to title, etc.) that are needed. The page then does something like this (note: code NOT tested, just written into the comment box, so it could well be wrong in significant details):\r\n\r\n```js\r\nconst { meta } = data;\r\n$meta.title = 'New title for this page';\r\n```\r\n\r\nThat should fire the subscription in the top-level layout, which would then update the title with the new value.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217302602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217579816","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217579816","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217579816,"node_id":"IC_kwDOEiPr8c5Iksso","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T07:32:04Z","updated_at":"2022-08-17T07:32:04Z","body":"I don't think we will reintroduce something else, the \"this pops up in my data\" is negligible to me - you don't have to use it in your component. The type story is worse for now, but we will implement some level of type safety again for this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217579816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7202996156,"node_id":"LE_lADOEiPr8c5P7JByzwAAAAGtVP-8","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7202996156","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-08-17T07:32:18Z","label":{"name":"types / typescript","color":"bfdadc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217830562","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217830562","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217830562,"node_id":"IC_kwDOEiPr8c5Ilp6i","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:29:37Z","updated_at":"2022-08-17T11:33:53Z","body":"@rmunn That's an interesting idea, but I tried it and it doesn't work during SSR which is a total deal breaker, as you would obviously need meta information like `<title>` to be set during SSR.\r\n\r\n> That should fire the subscription in the top-level layout, which would then update the title with the new value.\r\n\r\nUnfortuantely that's precisely what doesn't happen (during SSR), for some reason.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217830562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204590640,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtbVQw","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204590640","actor":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:29:38Z","performed_via_github_app":null},{"id":7204590647,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtbVQ3","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204590647","actor":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:29:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217833840","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217833840","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217833840,"node_id":"IC_kwDOEiPr8c5Ilqtw","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:33:10Z","updated_at":"2022-08-17T10:40:13Z","body":"> I don't think we will reintroduce something else, the \"this pops up in my data\" is negligible to me - you don't have to use it in your component. The type story is worse for now, but we will implement some level of type safety again for this.\r\n\r\n@dummdidumm As I said, that one is the most minor issue, but I thought it's worth mentioning as it could be indicative of a larger conceptual problem. The type-safety is non-existent, and I'm not sure exactly why you're opposed to introducing a new distinct construct for this, but even if you don't want to do that, at the very least I would say just make [using stores](https://github.com/sveltejs/kit/issues/5951#issuecomment-1217302602) possible here.\r\n\r\nAs soon as I read @rmunn's comment I thought yeah that's probably the perfect solution for this, but it turns out it doesn't work during SSR and that's a deal breaker, I would appreciate it if you explain why.\r\n\r\nTo be more specific, when I set a store value inside a page's `<script>` tag, the changes to the store aren't reflected in the layout in SSR, I hope that makes sense.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217833840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204618985,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtbcLp","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204618985","actor":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:33:10Z","performed_via_github_app":null},{"id":7204618990,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtbcLu","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204618990","actor":{"login":"rmunn","id":90762,"node_id":"MDQ6VXNlcjkwNzYy","avatar_url":"https://avatars.githubusercontent.com/u/90762?v=4","gravatar_id":"","url":"https://api.github.com/users/rmunn","html_url":"https://github.com/rmunn","followers_url":"https://api.github.com/users/rmunn/followers","following_url":"https://api.github.com/users/rmunn/following{/other_user}","gists_url":"https://api.github.com/users/rmunn/gists{/gist_id}","starred_url":"https://api.github.com/users/rmunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmunn/subscriptions","organizations_url":"https://api.github.com/users/rmunn/orgs","repos_url":"https://api.github.com/users/rmunn/repos","events_url":"https://api.github.com/users/rmunn/events{/privacy}","received_events_url":"https://api.github.com/users/rmunn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:33:10Z","performed_via_github_app":null},{"id":7204618998,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtbcL2","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204618998","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:33:10Z","performed_via_github_app":null},{"id":7204619007,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtbcL_","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204619007","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:33:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217842270","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217842270","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217842270,"node_id":"IC_kwDOEiPr8c5Ilsxe","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:42:05Z","updated_at":"2022-08-17T10:42:05Z","body":"The type safety you had before was illusory — nothing was forcing your page `load` functions to return the properties you needed on `stuff`. You had type safety insofar as it would prevent you from returning the _wrong_ properties, but it didn't guarantee the _right_ properties. Runtime checking was always necessary.\r\n\r\nStores won't work for this in SSR because you're not setting the value until the leaf is rendered, by which point the layout... has already been rendered. `$page.data` works because the data for the page is resolved before rendering happens.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217842270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217846593","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217846593","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217846593,"node_id":"IC_kwDOEiPr8c5Ilt1B","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:46:54Z","updated_at":"2022-08-17T10:53:47Z","body":"@Rich-Harris So then what approach would you take for implementing things like this currently? And it's not just meta information, you might have a `hideFooter` \"layout setting\" that needs to be set by the pages, and things of that nature in general?\r\n\r\nThis gets worse if you need, for example, default values for these settings. All of this renders `$page.data` unsuitable for this use case, in my opinion, which is the point I'm trying to make.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217846593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204731987,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtb3xT","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204731987","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:46:54Z","performed_via_github_app":null},{"id":7204731999,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtb3xf","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204731999","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:46:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217852790","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217852790","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217852790,"node_id":"IC_kwDOEiPr8c5IlvV2","user":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:53:48Z","updated_at":"2022-08-17T10:53:48Z","body":"> @Rich-Harris So then what approach would you take for implementing things like this currently? And it's not just meta information, you may have a `hideFooter` \"layout setting\" that needs to be set by the pages, and things of that nature in general?\r\n> \r\n> This gets worse if you need, for example, default values for these settings, all of this renders `$page.data` unsuitable for this use case; that's the point I'm trying to make.\r\n\r\nA derived store in the root where you read the props you need from `$page.data`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217852790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204795794,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtcHWS","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204795794","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:53:48Z","performed_via_github_app":null},{"id":7204795807,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtcHWf","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204795807","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:53:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217854219","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217854219","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217854219,"node_id":"IC_kwDOEiPr8c5IlvsL","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T10:55:23Z","updated_at":"2022-08-17T10:55:23Z","body":"@abdo643-HULK That still has all the downsides and limitations of `$page.data` that I've touched upon. Doesn't really solve anything.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217854219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204810176,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtcK3A","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204810176","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:55:23Z","performed_via_github_app":null},{"id":7204810185,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtcK3J","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204810185","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T10:55:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217860881","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217860881","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217860881,"node_id":"IC_kwDOEiPr8c5IlxUR","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T11:02:50Z","updated_at":"2022-08-17T11:19:05Z","body":"Something like `$page.statics` proposed in #1459 (+ #269) is more or less what I'm suggesting. Those were deemed resolved [when `stuff` was allowed to be set in pages](https://github.com/sveltejs/kit/issues/269#issuecomment-1008191776) and read by the layout, but now we're back to where we were since there's no `stuff` anymore and the supposed alternative which is `$page.data` is simply not fitting for such use cases.\r\n\r\nI hope this is reconsidered. SvelteKit doesn't currently have a satisfactory answer to this need.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217860881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217864822","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217864822","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217864822,"node_id":"IC_kwDOEiPr8c5IlyR2","user":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T11:07:07Z","updated_at":"2022-08-17T11:08:09Z","body":"Because it is a derived store you can create your own type for ts. And you also said that things like meta aren't concerns of the `+page.svelte` but I don't agree with that because each page has it's own meta data. Just because the component doesn't consume it because of layouts doesn't make it not part of the page data","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217864822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217869327","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217869327","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217869327,"node_id":"IC_kwDOEiPr8c5IlzYP","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T11:11:48Z","updated_at":"2022-08-17T13:24:40Z","body":"> Because it is a derived store you can create your own type for ts.\r\n\r\n@abdo643-HULK You can create your own TS type already, and then just convert `$page.data.meta` to it like `$page.data.meta as YourType`, introducing a derived store is not necessary, that's not the point, the point is that any time you find yourself doing an explicit type conversion like this, that's what we call lack of proper typing.\r\n\r\n> And you also said that things like meta aren't concerns of the +page.svelte but I don't agree with that because each page has it's own meta data. Just because the component doesn't consume it because of layouts doesn't make it not part of the page data\r\n\r\nPerhaps that wasn't the best of examples, fair enough, but I also provided others such as `hideFooter`, etc. The basic idea is simple and shouldn't be controversial: A layout can have various \"settings\" that are to be set by any page that derives from it, that's not really an exotic or unusual notion, so my point stands.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217869327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7204957006,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGtcutO","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204957006","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T11:12:04Z","performed_via_github_app":null},{"id":7204957013,"node_id":"SE_lADOEiPr8c5P7JByzwAAAAGtcutV","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7204957013","actor":{"login":"abdo643-HULK","id":43996526,"node_id":"MDQ6VXNlcjQzOTk2NTI2","avatar_url":"https://avatars.githubusercontent.com/u/43996526?v=4","gravatar_id":"","url":"https://api.github.com/users/abdo643-HULK","html_url":"https://github.com/abdo643-HULK","followers_url":"https://api.github.com/users/abdo643-HULK/followers","following_url":"https://api.github.com/users/abdo643-HULK/following{/other_user}","gists_url":"https://api.github.com/users/abdo643-HULK/gists{/gist_id}","starred_url":"https://api.github.com/users/abdo643-HULK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abdo643-HULK/subscriptions","organizations_url":"https://api.github.com/users/abdo643-HULK/orgs","repos_url":"https://api.github.com/users/abdo643-HULK/repos","events_url":"https://api.github.com/users/abdo643-HULK/events{/privacy}","received_events_url":"https://api.github.com/users/abdo643-HULK/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-08-17T11:12:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217895989","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217895989","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217895989,"node_id":"IC_kwDOEiPr8c5Il541","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T11:39:21Z","updated_at":"2022-08-17T11:48:00Z","body":"It is also awkward to have to create a separate `+page.js` file and a `load` function only to set some layout settings for a page, even though the page might not actually do anything else in its `load` function, the `+page.svelte` file feels like a more appropriate place for this kind of thing. I think this all clearly begs for a separate feature.\r\n\r\nI must say I find it deeply frustrating to have to argue so elaborately for something that I feel should be obvious to anyone after minimal examination.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217895989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217928655","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1217928655","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1217928655,"node_id":"IC_kwDOEiPr8c5ImB3P","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T12:13:14Z","updated_at":"2022-08-17T12:13:14Z","body":"You think you \"elaborately\" argue, I think you are being passive-aggressive. `stuff` was confusing to a lot of people, and `$page.data` achieves the same with a uniform solution which satisfied both the layout use case as well as the \"don't want to do prop drilling\" use case. What I decipher from your posts is that you don't want to mix layout concerns with other data in a single store, which doesn't sound like a concern to me. You are free to introduce a convention to your code that all layout-related data should be within a `layout` prop or sth like that. Your argument of needing to provide a `load` function was true for `stuff`, too, so I don't see a drawback here - and Rich explained why it isn't possible to do this in `+page.svelte`, because it's too late by then for SSR.\r\n\r\nWhat's left is the TypeScript-story, which I agree needs to get better.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1217928655/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1218087754","html_url":"https://github.com/sveltejs/kit/issues/5951#issuecomment-1218087754","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/5951","id":1218087754,"node_id":"IC_kwDOEiPr8c5ImotK","user":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-17T14:28:32Z","updated_at":"2022-08-17T16:31:15Z","body":"> Your argument of needing to provide a load function was true for stuff, too, so I don't see a drawback here\r\n\r\nYes but it's obviously exacerbated by virtue of the fact that now you need to have a separate file for the `load` function and previously you didn't so it wasn't as big of a deal.\r\n\r\n> What I decipher from your posts is that you don't want to mix layout concerns with other data in a single store, which doesn't sound like a concern to me.\r\nWhat's left is the TypeScript-story, which I agree needs to get better.\r\n\r\nNo, it's far deeper than that, even if the typing is improved, this will still not be a perfectly suitable solution for this kind of scenario. For instance, providing default values, as I mentioned above, would be non-obvious and awkward in this approach. And if you have multiple levels of layouts, the [merging behavior](https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693:~:text=merged%20into%20a%20single%20object) won't work as expected, since a shallow merge is performed on the object. Consider the following (rather simple) example:\r\n\r\n`routes/+layout.svelte`:\r\n```svelte\r\n<script>\r\n  import { page } from '$app/stores';\r\n</script>\r\n\r\n<Header type={$page.data.layout.headerType} />\r\n\r\n<!-- As a side note, this is more or less how you would have to provide default values, and it's not ideal since the default values are scattered around the entire file and you would potentially have to repeat them in multiple places or otherwise resort to more awkward workarounds -->\r\n{#if $page.data.layout.showFooter ?? true}\r\n  <Footer />\r\n{/if}\r\n```\r\n\r\n`routes/whatever/+layout.js`:\r\n```js\r\nexport function load(){ \r\n  return {\r\n    layout: {\r\n      headerType: 'secondary'\r\n    }\r\n  };\r\n}\r\n```\r\n\r\n`routes/whatever/deeper/+page.js`:\r\n```js\r\nexport function load(){ \r\n  return {\r\n    layout: {\r\n      showFooter: false,\r\n    }\r\n  };\r\n}\r\n```\r\nThe resulting `$page.data` here would not include the values that `routes/whatever/+layout.js` set; because `routes/whatever/deeper/+page.js` essentially overrode the entire top-level property (`layout`) even though it only meant to modify a single property within it. Yes I know I can work around this like so:\r\n\r\n`routes/whatever/deeper/+page.js`:\r\n```js\r\nexport async function load({ parent }){ \r\n  const { layout } = await parent();\r\n  return {\r\n    layout: {\r\n      ...layout\r\n      showFooter: false,\r\n    }\r\n  };\r\n}\r\n```\r\nBut now these two load functions are run serially as opposed to concurrently and that would have a performance cost if they're sending fetch requests and whatnot. I don't really *need* them to run serially, this is just what I *have* to do in this particular case because there's no other way to achieve what is needed.\r\n\r\nThe same problem more or less existed for `stuff` too, it's not like I'm a huge fan of `stuff`, I'm just saying that this is the type of thing that I think would greatly benefit from a native feature that's specifically designed around it, because trying to do it using already-existing features (page data in this case) clearly yields a lot of awkwardness and requires hacky and non-obvious workarounds. It's not really *fitting*, that's the best word I can think of to describe it. Correct me if I'm wrong.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1218087754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aradalvand","id":26527405,"node_id":"MDQ6VXNlcjI2NTI3NDA1","avatar_url":"https://avatars.githubusercontent.com/u/26527405?v=4","gravatar_id":"","url":"https://api.github.com/users/aradalvand","html_url":"https://github.com/aradalvand","followers_url":"https://api.github.com/users/aradalvand/followers","following_url":"https://api.github.com/users/aradalvand/following{/other_user}","gists_url":"https://api.github.com/users/aradalvand/gists{/gist_id}","starred_url":"https://api.github.com/users/aradalvand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aradalvand/subscriptions","organizations_url":"https://api.github.com/users/aradalvand/orgs","repos_url":"https://api.github.com/users/aradalvand/repos","events_url":"https://api.github.com/users/aradalvand/events{/privacy}","received_events_url":"https://api.github.com/users/aradalvand/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7206567593,"node_id":"MEE_lADOEiPr8c5P7JByzwAAAAGti36p","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7206567593","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-08-17T14:28:32Z","performed_via_github_app":null}]