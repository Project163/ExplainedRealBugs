[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3348711719","html_url":"https://github.com/sveltejs/kit/issues/14562#issuecomment-3348711719","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14562","id":3348711719,"node_id":"IC_kwDOEiPr8c7HmUkn","user":{"login":"lettucebowler","id":31812953,"node_id":"MDQ6VXNlcjMxODEyOTUz","avatar_url":"https://avatars.githubusercontent.com/u/31812953?v=4","gravatar_id":"","url":"https://api.github.com/users/lettucebowler","html_url":"https://github.com/lettucebowler","followers_url":"https://api.github.com/users/lettucebowler/followers","following_url":"https://api.github.com/users/lettucebowler/following{/other_user}","gists_url":"https://api.github.com/users/lettucebowler/gists{/gist_id}","starred_url":"https://api.github.com/users/lettucebowler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lettucebowler/subscriptions","organizations_url":"https://api.github.com/users/lettucebowler/orgs","repos_url":"https://api.github.com/users/lettucebowler/repos","events_url":"https://api.github.com/users/lettucebowler/events{/privacy}","received_events_url":"https://api.github.com/users/lettucebowler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-29T19:26:00Z","updated_at":"2025-09-29T20:48:58Z","body":"I'm not super familiar with the codebase so I haven't found the exact spot yet, but this seems to be caused by the cache key sometimes having a trailing slash and sometimes not. \n\n__SVELTEKIT_PAYLOAD__.data is { \"1ikvu0a/noArgs\": \"no args\" } but on the client it is checking the cache for a cache key of \"1ikvu0a/noArgs/\"","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3348711719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lettucebowler","id":31812953,"node_id":"MDQ6VXNlcjMxODEyOTUz","avatar_url":"https://avatars.githubusercontent.com/u/31812953?v=4","gravatar_id":"","url":"https://api.github.com/users/lettucebowler","html_url":"https://github.com/lettucebowler","followers_url":"https://api.github.com/users/lettucebowler/followers","following_url":"https://api.github.com/users/lettucebowler/following{/other_user}","gists_url":"https://api.github.com/users/lettucebowler/gists{/gist_id}","starred_url":"https://api.github.com/users/lettucebowler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lettucebowler/subscriptions","organizations_url":"https://api.github.com/users/lettucebowler/orgs","repos_url":"https://api.github.com/users/lettucebowler/repos","events_url":"https://api.github.com/users/lettucebowler/events{/privacy}","received_events_url":"https://api.github.com/users/lettucebowler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"lettucebowler","id":31812953,"node_id":"MDQ6VXNlcjMxODEyOTUz","avatar_url":"https://avatars.githubusercontent.com/u/31812953?v=4","gravatar_id":"","url":"https://api.github.com/users/lettucebowler","html_url":"https://github.com/lettucebowler","followers_url":"https://api.github.com/users/lettucebowler/followers","following_url":"https://api.github.com/users/lettucebowler/following{/other_user}","gists_url":"https://api.github.com/users/lettucebowler/gists{/gist_id}","starred_url":"https://api.github.com/users/lettucebowler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lettucebowler/subscriptions","organizations_url":"https://api.github.com/users/lettucebowler/orgs","repos_url":"https://api.github.com/users/lettucebowler/repos","events_url":"https://api.github.com/users/lettucebowler/events{/privacy}","received_events_url":"https://api.github.com/users/lettucebowler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-29T21:35:13Z","updated_at":"2025-09-29T21:35:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14563","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14563/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14563/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14563/events","html_url":"https://github.com/sveltejs/kit/pull/14563","id":3466697061,"node_id":"PR_kwDOEiPr8c6rMUY_","number":14563,"title":"Ensure cache key generated during ssr matches what is generated durinâ€¦","user":{"login":"lettucebowler","id":31812953,"node_id":"MDQ6VXNlcjMxODEyOTUz","avatar_url":"https://avatars.githubusercontent.com/u/31812953?v=4","gravatar_id":"","url":"https://api.github.com/users/lettucebowler","html_url":"https://github.com/lettucebowler","followers_url":"https://api.github.com/users/lettucebowler/followers","following_url":"https://api.github.com/users/lettucebowler/following{/other_user}","gists_url":"https://api.github.com/users/lettucebowler/gists{/gist_id}","starred_url":"https://api.github.com/users/lettucebowler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lettucebowler/subscriptions","organizations_url":"https://api.github.com/users/lettucebowler/orgs","repos_url":"https://api.github.com/users/lettucebowler/repos","events_url":"https://api.github.com/users/lettucebowler/events{/privacy}","received_events_url":"https://api.github.com/users/lettucebowler/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-09-29T21:35:12Z","updated_at":"2025-09-30T07:54:16Z","closed_at":"2025-09-30T07:54:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/14563","html_url":"https://github.com/sveltejs/kit/pull/14563","diff_url":"https://github.com/sveltejs/kit/pull/14563.diff","patch_url":"https://github.com/sveltejs/kit/pull/14563.patch","merged_at":"2025-09-30T07:54:16Z"},"body":"fixes #14562 \r\n\r\nUse same function to generate cache keys for remote query data during ssr and hydration so the logic doesn't need to be duplicated. Fixes an issue where cache keys generated during serialization on the server don't match the cache key used to check the cache for serialized data during hydration.\r\n\r\nCurrent behavior is that the when a query has no arguments, data is serialized with a cache key of the form 'XXXXX/queryName', and the client tries to get the data with a cache key of 'XXXXX/queryname/', so it always results in another round trip to the server during hydration because that key doesn't exist.\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [ ] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [ ] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [ ] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [ ] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n\r\n### Edits\r\n\r\n- [ ] Please ensure that 'Allow edits from maintainers' is checked. PRs without this option may be closed.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14563/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20001820219,"node_id":"CE_lADOEiPr8c7OmW-XzwAAAASoM447","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20001820219","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-09-30T07:54:17Z","state_reason":null,"performed_via_github_app":null},{"id":20002335268,"node_id":"REFE_lADOEiPr8c7OmW-XzwAAAASoO2ok","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20002335268","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b5000df2bcc38067f1e8e975c6ac4c78b1ef45bd","commit_url":"https://api.github.com/repos/ryoppippi/kit/commits/b5000df2bcc38067f1e8e975c6ac4c78b1ef45bd","created_at":"2025-09-30T08:17:11Z","performed_via_github_app":null}]