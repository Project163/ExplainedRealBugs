{"url":"https://api.github.com/repos/sveltejs/kit/issues/7163","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7163/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7163/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7163/events","html_url":"https://github.com/sveltejs/kit/issues/7163","id":1399223672,"node_id":"I_kwDOEiPr8c5TZnV4","number":7163,"title":"Automatically reset form with use:enhance","user":{"login":"hanszoons","id":91126835,"node_id":"MDQ6VXNlcjkxMTI2ODM1","avatar_url":"https://avatars.githubusercontent.com/u/91126835?v=4","gravatar_id":"","url":"https://api.github.com/users/hanszoons","html_url":"https://github.com/hanszoons","followers_url":"https://api.github.com/users/hanszoons/followers","following_url":"https://api.github.com/users/hanszoons/following{/other_user}","gists_url":"https://api.github.com/users/hanszoons/gists{/gist_id}","starred_url":"https://api.github.com/users/hanszoons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanszoons/subscriptions","organizations_url":"https://api.github.com/users/hanszoons/orgs","repos_url":"https://api.github.com/users/hanszoons/repos","events_url":"https://api.github.com/users/hanszoons/events{/privacy}","received_events_url":"https://api.github.com/users/hanszoons/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3229642339,"node_id":"MDU6TGFiZWwzMjI5NjQyMzM5","url":"https://api.github.com/repos/sveltejs/kit/labels/p2-nice-to-have","name":"p2-nice-to-have","color":"A7463B","default":false,"description":"SvelteKit cannot be used by a small number of people, quality of life improvements, etc."},{"id":4463615035,"node_id":"LA_kwDOEiPr8c8AAAABCg1cOw","url":"https://api.github.com/repos/sveltejs/kit/labels/forms","name":"forms","color":"fef2c0","default":false,"description":"Stuff relating to forms and form actions"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-10-06T09:40:16Z","updated_at":"2022-10-10T15:50:55Z","closed_at":"2022-10-10T15:50:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\n> Without an argument, ```use:enhance``` will emulate the browser-native behaviour, just without the full-page reloads.\r\n\r\nNative browser behaviour clears form inputs after submit (or rather the associated page reload does that).\r\n\r\nThe progressively enhanced forms do not. This would require resetting the form in the enhance callback. This works:\r\n```js\r\n<form\r\n\tmethod=\"post\"\r\n\taction=\"?/doSomething\"\r\n\tuse:enhance={({ form }) => {\r\n\t\treturn async ({ update }) => {\r\n\t\t\tform.reset();\r\n\t\t\tawait update();\r\n\t\t};\r\n\t}}\r\n>\r\n```\r\n\r\nBut is still a hassle.\r\n\r\n### Reproduction\r\n\r\nThis applies to all SvelteKit installs.\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.6\r\n    CPU: (10) arm64 Apple M1 Pro\r\n    Memory: 7.58 GB / 32.00 GB\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 18.9.0 - ~/.nvm/versions/node/v18.9.0/bin/node\r\n    npm: 8.19.1 - ~/.nvm/versions/node/v18.9.0/bin/npm\r\n  Browsers:\r\n    Chrome: 105.0.5195.125\r\n    Firefox: 105.0.1\r\n    Safari: 16.0\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^1.0.0-next.76 => 1.0.0-next.80 \r\n    @sveltejs/adapter-node: ^1.0.0-next.96 => 1.0.0-next.96 \r\n    @sveltejs/adapter-vercel: ^1.0.0-next.77 => 1.0.0-next.77 \r\n    @sveltejs/kit: ^1.0.0-next.489 => 1.0.0-next.507 \r\n    svelte: ^3.50.1 => 3.50.1 \r\n    vite: ^3.1.4 => 3.1.4\r\n```\r\n\r\n\r\n### Severity\r\n\r\nannoyance\r\n\r\n### Additional Information\r\n\r\n_No response_","closed_by":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7163/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7163/timeline","performed_via_github_app":null,"state_reason":"completed"}