[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383235936","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3383235936","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3383235936,"node_id":"IC_kwDOEiPr8c7JqBVg","user":{"login":"PatrickG","id":196478,"node_id":"MDQ6VXNlcjE5NjQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/196478?v=4","gravatar_id":"","url":"https://api.github.com/users/PatrickG","html_url":"https://github.com/PatrickG","followers_url":"https://api.github.com/users/PatrickG/followers","following_url":"https://api.github.com/users/PatrickG/following{/other_user}","gists_url":"https://api.github.com/users/PatrickG/gists{/gist_id}","starred_url":"https://api.github.com/users/PatrickG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PatrickG/subscriptions","organizations_url":"https://api.github.com/users/PatrickG/orgs","repos_url":"https://api.github.com/users/PatrickG/repos","events_url":"https://api.github.com/users/PatrickG/events{/privacy}","received_events_url":"https://api.github.com/users/PatrickG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-08T21:05:32Z","updated_at":"2025-10-08T21:05:32Z","body":"How about that?\n```html\n<script lang=\"ts\">\n  import { testForm } from \"./test.remote.js\";\n  let count = testForm.fields.arr.value()?.length || 1;\n</script>\n\n<button onclick={() => count++}>Add Item</button>\n\n<form {...testForm}>\n  {#each { length: count } as _, i}\n    <p>\n      <label>{i + 1}</label>\n      <input {...testForm.fields.arr[i].as('text')} />\n    </p>\n  {/each}\n  <p><button>Submit</button></p>\n</form>\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383235936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PatrickG","id":196478,"node_id":"MDQ6VXNlcjE5NjQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/196478?v=4","gravatar_id":"","url":"https://api.github.com/users/PatrickG","html_url":"https://github.com/PatrickG","followers_url":"https://api.github.com/users/PatrickG/followers","following_url":"https://api.github.com/users/PatrickG/following{/other_user}","gists_url":"https://api.github.com/users/PatrickG/gists{/gist_id}","starred_url":"https://api.github.com/users/PatrickG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PatrickG/subscriptions","organizations_url":"https://api.github.com/users/PatrickG/orgs","repos_url":"https://api.github.com/users/PatrickG/repos","events_url":"https://api.github.com/users/PatrickG/events{/privacy}","received_events_url":"https://api.github.com/users/PatrickG/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383272545","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3383272545","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3383272545,"node_id":"IC_kwDOEiPr8c7JqKRh","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-08T21:18:41Z","updated_at":"2025-10-08T21:19:13Z","body":"That helps with `push` and `pop`, but not with any of the other methods.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383272545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383702620","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3383702620","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3383702620,"node_id":"IC_kwDOEiPr8c7JrzRc","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T01:09:14Z","updated_at":"2025-10-09T01:09:14Z","body":"It could be added like this:\n```ts\ntype RemoteFormArrayFieldMethods<T> = T extends Array<infer U> ? {\n\tpush(item: U): void;\n\tpop(): U;\n\tunshift(item: U): void;\n\tshift(): U;\n\tsplice(start: number, deleteCount: number, ...insert: U[]): U[];\n\tsort(fn: (a: U, b: U) => number): U[];\n\t// you could add more, but the mutate fns are all we really need.\n\t// the rest could be used like `.value().slice(...)` or `.value().at(-1)`\n} : {};\n\nexport type RemoteFormField<Value extends RemoteFormFieldValue> = \n\tRemoteFormFieldMethods<Value> & \n\tRemoteFormArrayFieldMethods<Value> & \n\t{ ... }\n```\n\nI tried to create wrappers myself, but `RemoteFormFieldValue` doesn't support any arrays other than `string[]` and `File[]`, even though you can actually create fields or groups of fields representing an array of numbers or objects. See the [MRE](https://stackblitz.com/edit/array-methods-308957?file=src%2Froutes%2Ftest.remote.js,src%2Froutes%2F%2Bpage.svelte,package.json) as an example.\n\nSomething like this creates a type error when you try to pass a field to it that represents an array of anything other than strings or files.\n```ts\n// ‚ùå type error on `infer U` - \"U is not assignable to type string\"\nexport function push<T extends RemoteFormField<Array<infer U>>>(field: T, item: U) {\n\tfield.set([...field.value(), item]);\n}\n\n// ‚úÖ no type error\nexport function push<T extends RemoteFormField<any[]>>(field: T, item: ReturnType<T[\"value\"]>[index]) {\n\tfield.set([...field.value(), item]);\n}\n\n// push(form.field.strings, \"\"); ‚úÖ\n// push(form.field.numbers, 0); ‚ùå\n// push(form.field.users, { name: \"\" }); ‚ùå\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383702620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383972021","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3383972021","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3383972021,"node_id":"IC_kwDOEiPr8c7Js1C1","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T03:35:32Z","updated_at":"2025-10-09T05:29:16Z","body":"Ah, I see now. What the custom wrapper above needed was the `RemoteFormFields` type (plural), not `RemoteFormField`. With some local testing and exporting the type, this works:\n\n```ts\n// ‚úÖ works now using `RemoteFormFields` instead of `RemoteFormField`\nexport function push<T extends RemoteFormFields<U[]>, U>(field: T, item: U) {\n\tfield.set([...field.value(), item]);\n}\n\n// push(form.field.strings, \"\"); ‚úÖ\n// push(form.field.numbers, 0); ‚úÖ\n// push(form.field.users, { name: \"\" }); ‚úÖ\n```\n\nUnfortunately, `RemoteFormFields` is not currently exported.\n\nAnd the previously mentioned solution would be added to `RemoteFormFieldContainer` instead.\n\n```ts\ntype RemoteFormArrayFieldMethods<T> = T extends Array<infer U> ? {\n\tpush(item: U): void;\n\tpop(): U;\n\tunshift(item: U): void;\n\tshift(): U;\n\tsplice(start: number, deleteCount: number, ...insert: U[]): U[];\n\tsort(fn: (a: U, b: U) => number): U[];\n\t// you could add more, but the mutate fns are all we really need.\n\t// the rest could be used like `.value().slice(...)` or `.value().at(-1)`\n} : {};\n\nexport type RemoteFormFieldContainer<Value> = \n\tRemoteFormFieldMethods<Value> &\n\tRemoteFormArrayFieldMethods<Value> & {\n\t\t/** Validation issues belonging to this or any of the fields that belong to it, if any */\n\t\tallIssues(): RemoteFormIssue[] | undefined;\n\t};\n```\n\nAnd voila! ü•≥ Although I haven't looked into the actual implementation yet.\n\n![Image](https://github.com/user-attachments/assets/a5b7bd20-f2df-470b-982d-03c83e0c2e95)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3383972021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T05:00:39Z","updated_at":"2025-10-09T05:00:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14663","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14663/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14663/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14663/events","html_url":"https://github.com/sveltejs/kit/pull/14663","id":3497642018,"node_id":"PR_kwDOEiPr8c6s0R6N","number":14663,"title":"feat: add array mutation methods to field arrays","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-10-09T05:00:38Z","updated_at":"2025-10-20T21:03:18Z","closed_at":"2025-10-20T21:03:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/14663","html_url":"https://github.com/sveltejs/kit/pull/14663","diff_url":"https://github.com/sveltejs/kit/pull/14663.diff","patch_url":"https://github.com/sveltejs/kit/pull/14663.patch","merged_at":null},"body":"Fixes #14662 (\"Implements\")\r\n\r\n- Adds `type RemoteFormArrayFieldMethods<T>` type and intersects it to `RemoteFormFieldContainer` and `RemoteFormField`\r\n  - Adds `.push()`, `.pop()`, `.unshift()`, `.shift()`, `.splice()`, and `.sort()` methods to field arrays\r\n- Exports `RemoteFormFields` type to allow the creation of custom field array wrapper functions and components\r\n- Adds docs\r\n- Adds test\r\n\r\nhttps://stackblitz.com/edit/array-methods-308957-ddxf7li3?file=src%2Froutes%2F%2Bpage.svelte,src%2Froutes%2Ftest.remote.js,package.json\r\n\r\n### Mutating field arrays\r\nField arrays should have the following extra methods to mutate the array: `.pop()`, `.push()`, `.shift()`, `.unshift()`, `.splice()`, and `.sort()`. Other array methods and properties can still be accessed through the `.value()` method.\r\n```svelte\r\n<script>\r\n\timport { cart } from '../data.remote';\r\n\r\n\t// add to cart\r\n\tcart.fields.items.push({\r\n\t\tsku: \"SKU12345\",\r\n\t\tname: \"TV Set\",\r\n\t\tprice: 1200,\r\n\t\tquantity: 1\r\n\t});\r\n\r\n\t// remove item at index `i`\r\n\tcart.fields.items.splice(i, 1);\r\n\t\r\n\t// cart total\r\n\tcart.fields.items.value().reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n</script>\r\n```\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [x] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n\r\n### Edits\r\n\r\n- [x] Please ensure that 'Allow edits from maintainers' is checked. PRs without this option may be closed.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14663/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14663/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20178030633,"node_id":"ITAE_lADOEiPr8c7QbMpbzwAAAASytFAp","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20178030633","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"issue_type_added","commit_id":null,"commit_url":null,"created_at":"2025-10-09T06:56:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3384398350","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3384398350","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3384398350,"node_id":"IC_kwDOEiPr8c7JudIO","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T06:58:30Z","updated_at":"2025-10-09T06:58:30Z","body":"I'd probably prefer the React/React Query way where, in a callback function, you receive the old value and you return the new one. e.g.,\n\n```ts\nform.fields.colours.set((colours) => {\n  colours.push('blue');\n  return colours;\n});\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3384398350/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20182037741,"node_id":"SE_lADOEiPr8c7QbMpbzwAAAASy8XTt","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20182037741","actor":{"login":"vladshcherbin","id":6711845,"node_id":"MDQ6VXNlcjY3MTE4NDU=","avatar_url":"https://avatars.githubusercontent.com/u/6711845?v=4","gravatar_id":"","url":"https://api.github.com/users/vladshcherbin","html_url":"https://github.com/vladshcherbin","followers_url":"https://api.github.com/users/vladshcherbin/followers","following_url":"https://api.github.com/users/vladshcherbin/following{/other_user}","gists_url":"https://api.github.com/users/vladshcherbin/gists{/gist_id}","starred_url":"https://api.github.com/users/vladshcherbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladshcherbin/subscriptions","organizations_url":"https://api.github.com/users/vladshcherbin/orgs","repos_url":"https://api.github.com/users/vladshcherbin/repos","events_url":"https://api.github.com/users/vladshcherbin/events{/privacy}","received_events_url":"https://api.github.com/users/vladshcherbin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-09T10:26:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3385628736","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3385628736","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3385628736,"node_id":"IC_kwDOEiPr8c7JzJhA","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T12:24:50Z","updated_at":"2025-10-09T12:24:50Z","body":"> form.fields.colours.set((colours) => {\n>   colours.push('blue');\n>   return colours;\n> });\n\nI think that would be a fine improvement to the `set` function, but it doesn't alleviate the problem I mentioned in the opening post in the slightest. I still think the array methods would be a very useful addition even if that change were also implemented.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3385628736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3386021564","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3386021564","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3386021564,"node_id":"IC_kwDOEiPr8c7J0pa8","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T14:01:10Z","updated_at":"2025-10-09T14:01:10Z","body":"Wondering if we should somehow support it when you're passing a state proxy into `set`, i.e. this:\n\n```svelte\n<script lang=\"ts\">\n  import { testForm } from \"./test.remote.js\";\n  let x = $state({ arr: [\"\"], nums: [0] })\n  testForm.fields.set(x);\n</script>\n\n<p>\n  <button onclick={() => {\n    x.arr.push('')\n  }}>\n    Add String\n  </button>\n  <button onclick={() => {\n    x.nums.push(0)\n  }}>\n    Add Number\n  </button>\n</p>\n```\n\nRight now this works until you modify the form via inputs, at which point the state will be overridden. The reason is that we're right now making the underlying object a `$state.raw` and update the object in an immutable fashion. Wondering if we should detect that it's a `$state` and not do that in this case, or always use `$state`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3386021564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3386127345","html_url":"https://github.com/sveltejs/kit/issues/14662#issuecomment-3386127345","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/14662","id":3386127345,"node_id":"IC_kwDOEiPr8c7J1DPx","user":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-09T14:23:12Z","updated_at":"2025-10-10T01:42:12Z","body":"I think that would also work.\n\nThis would be a pretty simple change.\n```diff\n  <script lang=\"ts\">\n    import * as API from \"$lib/remote\";\n\n    let { params } = $props();\n\n    let form = API.something.forms.form;\n+   let initial = $state(await API.something.forms.getInitial(params.id));\n  </script>\n\n  <Form {form} {initial}>\n    <!-- the form -->\n  </Form>\n```\n\n> [!note] \n> However, I still request that the `RemoteFormFields` type be exported so that we could still create wrappers on array fields if necessary.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/3386127345/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sillvva","id":5138384,"node_id":"MDQ6VXNlcjUxMzgzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5138384?v=4","gravatar_id":"","url":"https://api.github.com/users/sillvva","html_url":"https://github.com/sillvva","followers_url":"https://api.github.com/users/sillvva/followers","following_url":"https://api.github.com/users/sillvva/following{/other_user}","gists_url":"https://api.github.com/users/sillvva/gists{/gist_id}","starred_url":"https://api.github.com/users/sillvva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sillvva/subscriptions","organizations_url":"https://api.github.com/users/sillvva/orgs","repos_url":"https://api.github.com/users/sillvva/repos","events_url":"https://api.github.com/users/sillvva/events{/privacy}","received_events_url":"https://api.github.com/users/sillvva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20255978809,"node_id":"SE_lADOEiPr8c7QbMpbzwAAAAS3WbU5","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20255978809","actor":{"login":"filiabel","id":25987724,"node_id":"MDQ6VXNlcjI1OTg3NzI0","avatar_url":"https://avatars.githubusercontent.com/u/25987724?v=4","gravatar_id":"","url":"https://api.github.com/users/filiabel","html_url":"https://github.com/filiabel","followers_url":"https://api.github.com/users/filiabel/followers","following_url":"https://api.github.com/users/filiabel/following{/other_user}","gists_url":"https://api.github.com/users/filiabel/gists{/gist_id}","starred_url":"https://api.github.com/users/filiabel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filiabel/subscriptions","organizations_url":"https://api.github.com/users/filiabel/orgs","repos_url":"https://api.github.com/users/filiabel/repos","events_url":"https://api.github.com/users/filiabel/events{/privacy}","received_events_url":"https://api.github.com/users/filiabel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-13T21:38:54Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-20T12:31:07Z","updated_at":"2025-10-20T12:31:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14771","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/14771/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/14771/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/14771/events","html_url":"https://github.com/sveltejs/kit/pull/14771","id":3532265168,"node_id":"PR_kwDOEiPr8c6un1Sl","number":14771,"title":"chore: form state rework","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-10-20T12:31:05Z","updated_at":"2025-10-22T22:58:57Z","closed_at":"2025-10-20T21:00:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/14771","html_url":"https://github.com/sveltejs/kit/pull/14771","diff_url":"https://github.com/sveltejs/kit/pull/14771.diff","patch_url":"https://github.com/sveltejs/kit/pull/14771.patch","merged_at":"2025-10-20T21:00:48Z"},"body":"We now use `$state` instead of `$state.raw` for the internal representation of `value()/set(...)`. This has several advantages:\r\n- we can get rid of the version code which became quite a bit\r\n- you can put a `$state` object yourself into `set(...)` and then just push to it, making array operations very easy (closes #14662)\r\n- fine-grained without any additional footwork\r\n\r\nThe reason I made this `$state.raw` originally is so that `fields.x.value()` would fire even if something within `x` would update, but honestly that's a bad reason looking back. You _can_ get that behavior by running JSON.stringify on the result, or you just access the properties you care about and it will all take care of it automatically.\r\n\r\nThe one drawback is that prototype pollution prevention became a tiny but trickier, we now have to check for a set of keys. We should consider changing `$state` in Svelte itself to also proxify `Object.create(null)`; maybe we can make that change when the experimental async flag is on?\r\n\r\n---\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. Changesets that add features should be `minor` and those that fix bugs should be `patch`. Please prefix changeset messages with `feat:`, `fix:`, or `chore:`.\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/14771/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/14771/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20388963564,"node_id":"CE_lADOEiPr8c7QbMpbzwAAAAS_RuTs","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20388963564","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-10-20T21:00:49Z","state_reason":null,"performed_via_github_app":null},{"id":20388963624,"node_id":"REFE_lADOEiPr8c7QbMpbzwAAAAS_RuUo","url":"https://api.github.com/repos/sveltejs/kit/issues/events/20388963624","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a78d8b1ca79aef84f9ecf371ae842ac09329b498","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/a78d8b1ca79aef84f9ecf371ae842ac09329b498","created_at":"2025-10-20T21:00:49Z","performed_via_github_app":null}]