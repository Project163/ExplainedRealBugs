{"url":"https://api.github.com/repos/sveltejs/kit/issues/6201","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/6201/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/6201/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/6201/events","html_url":"https://github.com/sveltejs/kit/issues/6201","id":1348216981,"node_id":"I_kwDOEiPr8c5QXCiV","number":6201,"title":"Requests for __data.json should be skipped entirely when possible","user":{"login":"Conduitry","id":16696352,"node_id":"MDQ6VXNlcjE2Njk2MzUy","avatar_url":"https://avatars.githubusercontent.com/u/16696352?v=4","gravatar_id":"","url":"https://api.github.com/users/Conduitry","html_url":"https://github.com/Conduitry","followers_url":"https://api.github.com/users/Conduitry/followers","following_url":"https://api.github.com/users/Conduitry/following{/other_user}","gists_url":"https://api.github.com/users/Conduitry/gists{/gist_id}","starred_url":"https://api.github.com/users/Conduitry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Conduitry/subscriptions","organizations_url":"https://api.github.com/users/Conduitry/orgs","repos_url":"https://api.github.com/users/Conduitry/repos","events_url":"https://api.github.com/users/Conduitry/events{/privacy}","received_events_url":"https://api.github.com/users/Conduitry/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3229642339,"node_id":"MDU6TGFiZWwzMjI5NjQyMzM5","url":"https://api.github.com/repos/sveltejs/kit/labels/p2-nice-to-have","name":"p2-nice-to-have","color":"A7463B","default":false,"description":"SvelteKit cannot be used by a small number of people, quality of life improvements, etc."},{"id":4348376112,"node_id":"LA_kwDOEiPr8c8AAAABAy70MA","url":"https://api.github.com/repos/sveltejs/kit/labels/load%20/%20layout","name":"load / layout","color":"e99695","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-08-23T16:28:27Z","updated_at":"2022-08-30T14:11:03Z","closed_at":"2022-08-27T02:38:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nRe-running server-side `load` on each navigation is supposed to be skipped now (unless the `load` function depends on `url` etc.), but this does not appear to be fully working. Even if a given page has no `+page.server.js` file, the browser is still making requests to `__data.json` on each navigation, which return things like `{\"type\":\"data\",\"nodes\":[{\"type\":\"skip\"},null]}` - the root (layout) node is skipped, and the leaf (page) node has no data. Requests that would tell the server to skip all of the nodes for which there are no `.server.js` files should be skipped entirely.\r\n\r\n### Reproduction\r\n\r\nhttps://github.com/Conduitry-Repros/kit-6201\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n    Memory: 8.34 GB / 12.32 GB\r\n    Container: Yes\r\n    Shell: 5.0.17 - /bin/bash\r\n  Binaries:\r\n    Yarn: 1.22.19\r\n    npm: 8.15.0\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: next => 1.0.0-next.65 \r\n    @sveltejs/kit: next => 1.0.0-next.431 \r\n    svelte: ^3.44.0 => 3.49.0 \r\n    vite: ^3.0.4 => 3.0.9\r\n```\r\n\r\n\r\n### Severity\r\n\r\nserious, but I can work around it\r\n\r\n### Additional Information\r\n\r\nThis is the situation I referred to in https://github.com/sveltejs/kit/pull/6056#issuecomment-1220125221 - it seems like it was not correctly (or fully?) handled.","closed_by":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/6201/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/6201/timeline","performed_via_github_app":null,"state_reason":"completed"}