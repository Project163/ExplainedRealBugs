[{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236024390","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1236024390","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1236024390,"node_id":"IC_kwDOEiPr8c5JrDxG","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T01:58:10Z","updated_at":"2022-09-03T01:58:10Z","body":"Might be nice to throw in `sign` and `unsign` methods that work with WebCrypto ([cookie-signature](https://www.npmjs.com/package/cookie-signature) works with Node's built-in `crypto` and is therefore unsuitable for many SvelteKit apps)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236024390/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7316430249,"node_id":"LE_lADOEiPr8c5RGvfBzwAAAAG0F92p","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7316430249","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-03T01:58:24Z","label":{"name":"breaking change","color":"F859C7"},"performed_via_github_app":null},{"id":7316430274,"node_id":"MIE_lADOEiPr8c5RGvfBzwAAAAG0F93C","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7316430274","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-09-03T01:58:26Z","milestone":{"title":"1.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236024469","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1236024469","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1236024469,"node_id":"IC_kwDOEiPr8c5JrDyV","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T01:58:49Z","updated_at":"2022-09-03T01:58:49Z","body":"Marking as a breaking change since we'd probably want to prevent `setHeaders({ 'set-cookie': [...} })` if we did this","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236024469/reactions","total_count":2,"+1":0,"-1":2,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236269463","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1236269463","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1236269463,"node_id":"IC_kwDOEiPr8c5Jr_mX","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T06:23:57Z","updated_at":"2022-09-04T06:23:57Z","body":"I'm split on this. It adds a new API for one specific use case - I don't see others outside this. There was the idea in another issue to be able to pass data back into load, maybe something like this can be used here, too, so we can solve both these use cases with one API.\nRegardless, I think making setHeaders throw on cookie feels a little weird - why restrict people there? Using it is fine outside of the actions use case.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236269463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236389907","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1236389907","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1236389907,"node_id":"IC_kwDOEiPr8c5JsdAT","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T18:10:46Z","updated_at":"2022-09-04T18:10:46Z","body":"It is a specific use case, but it's one that isn't currently served. `load` needs to be able to read cookies that were set in an action, and that's not currently possible.\r\n\r\n`setHeaders` treating `set-cookie` differently to other headers wouldn't be all that weird — it _already_ treats them differently:\r\n\r\n<img width=\"737\" alt=\"image\" src=\"https://user-images.githubusercontent.com/1162160/188327175-189d2b67-51d5-4016-88d0-b7f65137fb64.png\">\r\n\r\n`set-cookie` is a unique header in that its value always has to be treated by JavaScript as an array, which is a long-running source of confusion — see https://github.com/whatwg/fetch/issues/973 and e.g. [this section](https://nodejs.org/dist/latest-v18.x/docs/api/http.html) of the Node docs:\r\n\r\n<img width=\"658\" alt=\"image\" src=\"https://user-images.githubusercontent.com/1162160/188327461-856515c8-6e67-4aa4-884c-ceab28be1931.png\">\r\n\r\nIt's handled very differently at an implementation level. So I don't think we'd be going rogue by treating it differently at an API level (or rather, more differently than we already currently do).\r\n\r\nThe other argument in favour of this is that every non-trivial app is going to need to parse cookies at one point, and this...\r\n\r\n```js\r\n// src/routes/+layout.server.js\r\nexport async function load({ cookies }) {\r\n  const user = await db.getUserFromSessionId(cookies.get('sessionid'));\r\n  return { user };\r\n}\r\n```\r\n\r\n...just seems a lot nicer than this:\r\n\r\n```js\r\nimport * as cookie from 'cookie';\r\n\r\n// src/routes/+layout.server.js\r\nexport async function load({ request }) {\r\n  const cookies = cookie.parse(request.headers.get('cookie') ?? '');\r\n  const user = await db.getUserFromSessionId(cookies.sessionid);\r\n  return { user };\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1236389907/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237455727","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1237455727","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1237455727,"node_id":"IC_kwDOEiPr8c5JwhNv","user":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T21:04:38Z","updated_at":"2022-09-06T12:13:06Z","body":"I like this. Thoughts:\r\n\r\nDepending on the browser `Secure` cookies aren't always sent to localhost over http://. I think Safari is the only major malefactor at this point, but I know Chrome was behaving that way within living memory (maybe 8 months ago.)\r\n\r\nSign/Verify -- yes, please.  It might require changes to some people's code (e.g. I use JWTs since they are easy to sign.) But that's fine if it means I don't have to think about whether or not to sign.\r\n\r\nIt'd be nice to have the API catch the case where a cookie is over the 4K limit after ~~serialization~~ encoding and signing. This error is relatively easy to do and hard to debug -- the cookie is sent but the browser (at least Chrome) silently ignores it\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237455727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cdcarson","id":78032,"node_id":"MDQ6VXNlcjc4MDMy","avatar_url":"https://avatars.githubusercontent.com/u/78032?v=4","gravatar_id":"","url":"https://api.github.com/users/cdcarson","html_url":"https://github.com/cdcarson","followers_url":"https://api.github.com/users/cdcarson/followers","following_url":"https://api.github.com/users/cdcarson/following{/other_user}","gists_url":"https://api.github.com/users/cdcarson/gists{/gist_id}","starred_url":"https://api.github.com/users/cdcarson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdcarson/subscriptions","organizations_url":"https://api.github.com/users/cdcarson/orgs","repos_url":"https://api.github.com/users/cdcarson/repos","events_url":"https://api.github.com/users/cdcarson/events{/privacy}","received_events_url":"https://api.github.com/users/cdcarson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237510663","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1237510663","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1237510663,"node_id":"IC_kwDOEiPr8c5JwuoH","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T22:49:19Z","updated_at":"2022-09-05T22:49:19Z","body":"It'll just be `set`/`get`/`delete` for now, since we're focused on getting all the breaking changes out of the way, and `sign`/`unsign` and the 4k limit stuff can be added non-breakingly later. But yes to all of that","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237510663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7325878205,"node_id":"REFE_lADOEiPr8c5RGvfBzwAAAAG0qAe9","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7325878205","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f760a1916f992e5744646127d922e3078b9394bf","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/f760a1916f992e5744646127d922e3078b9394bf","created_at":"2022-09-05T22:59:04Z","performed_via_github_app":null},{"actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T23:01:40Z","updated_at":"2022-09-05T23:01:40Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/6593","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/6593/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/6593/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/6593/events","html_url":"https://github.com/sveltejs/kit/pull/6593","id":1362529172,"node_id":"PR_kwDOEiPr8c4-ZpKE","number":6593,"title":"add new cookies API","user":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3229669367,"node_id":"MDU6TGFiZWwzMjI5NjY5MzY3","url":"https://api.github.com/repos/sveltejs/kit/labels/breaking%20change","name":"breaking change","color":"F859C7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-05T23:01:39Z","updated_at":"2022-09-20T10:00:30Z","closed_at":"2022-09-06T11:55:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/6593","html_url":"https://github.com/sveltejs/kit/pull/6593","diff_url":"https://github.com/sveltejs/kit/pull/6593.diff","patch_url":"https://github.com/sveltejs/kit/pull/6593.patch","merged_at":"2022-09-06T11:55:19Z"},"body":"closes #6540\r\n\r\n* [x] docs\r\n* [x] update tests to read cookies with this API instead of from request headers\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [x] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. All changesets should be `patch` until SvelteKit 1.0\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/6593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/6593/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237748066","html_url":"https://github.com/sveltejs/kit/issues/6540#issuecomment-1237748066","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/6540","id":1237748066,"node_id":"IC_kwDOEiPr8c5Jxoli","user":{"login":"sourcegr","id":3933935,"node_id":"MDQ6VXNlcjM5MzM5MzU=","avatar_url":"https://avatars.githubusercontent.com/u/3933935?v=4","gravatar_id":"","url":"https://api.github.com/users/sourcegr","html_url":"https://github.com/sourcegr","followers_url":"https://api.github.com/users/sourcegr/followers","following_url":"https://api.github.com/users/sourcegr/following{/other_user}","gists_url":"https://api.github.com/users/sourcegr/gists{/gist_id}","starred_url":"https://api.github.com/users/sourcegr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sourcegr/subscriptions","organizations_url":"https://api.github.com/users/sourcegr/orgs","repos_url":"https://api.github.com/users/sourcegr/repos","events_url":"https://api.github.com/users/sourcegr/events{/privacy}","received_events_url":"https://api.github.com/users/sourcegr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T07:13:30Z","updated_at":"2022-09-06T07:14:06Z","body":"Regardless of whether this proposition passes or not, I believe someone should still be able to `setHeaders({ 'set-cookie': [...} })`.\r\n\r\nWe should not prevent the devs to set any headers they want.\r\n\r\nGranted, it creates confusion and it would be a bad practise; so we could issue a warning on `dev` mode when a `set-cookie` key is used, and be done with the `breaking change` situation.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1237748066/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sourcegr","id":3933935,"node_id":"MDQ6VXNlcjM5MzM5MzU=","avatar_url":"https://avatars.githubusercontent.com/u/3933935?v=4","gravatar_id":"","url":"https://api.github.com/users/sourcegr","html_url":"https://github.com/sourcegr","followers_url":"https://api.github.com/users/sourcegr/followers","following_url":"https://api.github.com/users/sourcegr/following{/other_user}","gists_url":"https://api.github.com/users/sourcegr/gists{/gist_id}","starred_url":"https://api.github.com/users/sourcegr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sourcegr/subscriptions","organizations_url":"https://api.github.com/users/sourcegr/orgs","repos_url":"https://api.github.com/users/sourcegr/repos","events_url":"https://api.github.com/users/sourcegr/events{/privacy}","received_events_url":"https://api.github.com/users/sourcegr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7329693176,"node_id":"CE_lADOEiPr8c5RGvfBzwAAAAG04j34","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7329693176","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-09-06T11:55:20Z","state_reason":null,"performed_via_github_app":null},{"id":7329693442,"node_id":"REFE_lADOEiPr8c5RGvfBzwAAAAG04j8C","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7329693442","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4922e26856681fdfbe3afb1a31be0d7c7000283f","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/4922e26856681fdfbe3afb1a31be0d7c7000283f","created_at":"2022-09-06T11:55:22Z","performed_via_github_app":null}]