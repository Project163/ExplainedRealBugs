{"url":"https://api.github.com/repos/sveltejs/kit/issues/7488","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7488/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7488/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7488/events","html_url":"https://github.com/sveltejs/kit/issues/7488","id":1435266533,"node_id":"I_kwDOEiPr8c5VjG3l","number":7488,"title":"Use devalue with form actions","user":{"login":"CalebBassham","id":22458879,"node_id":"MDQ6VXNlcjIyNDU4ODc5","avatar_url":"https://avatars.githubusercontent.com/u/22458879?v=4","gravatar_id":"","url":"https://api.github.com/users/CalebBassham","html_url":"https://github.com/CalebBassham","followers_url":"https://api.github.com/users/CalebBassham/followers","following_url":"https://api.github.com/users/CalebBassham/following{/other_user}","gists_url":"https://api.github.com/users/CalebBassham/gists{/gist_id}","starred_url":"https://api.github.com/users/CalebBassham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CalebBassham/subscriptions","organizations_url":"https://api.github.com/users/CalebBassham/orgs","repos_url":"https://api.github.com/users/CalebBassham/repos","events_url":"https://api.github.com/users/CalebBassham/events{/privacy}","received_events_url":"https://api.github.com/users/CalebBassham/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3229669367,"node_id":"MDU6TGFiZWwzMjI5NjY5MzY3","url":"https://api.github.com/repos/sveltejs/kit/labels/breaking%20change","name":"breaking change","color":"F859C7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/sveltejs/kit/milestones/2","html_url":"https://github.com/sveltejs/kit/milestone/2","labels_url":"https://api.github.com/repos/sveltejs/kit/milestones/2/labels","id":6044960,"node_id":"MDk6TWlsZXN0b25lNjA0NDk2MA==","number":2,"title":"1.0","description":"stuff we need to nail down before launch","creator":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":628,"state":"closed","created_at":"2020-10-29T01:17:50Z","updated_at":"2022-12-19T11:47:29Z","due_on":null,"closed_at":"2022-12-19T11:47:29Z"},"comments":1,"created_at":"2022-11-03T21:15:11Z","updated_at":"2022-11-15T14:57:04Z","closed_at":"2022-11-15T14:57:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the problem\r\n\r\nSome objects, like Date, can be persisted on the client using the `load()` in a `+page.server.js`. The same is not true of Actions in the same file. \r\n\r\nThis can be quite confusing. Because they are in the same file, even though load and Actions are not the same, many people consider them to work basically the same because of how similar they are. Not to mention how really similar they were before form actions.\r\n\r\nIt is also quite inconvenient for the developer. You can easily imagine a situation where in the load function you are sending the client a list of objects. One of the keys in the object is a Date. Let's say `lastModified`. Now, on the same page you fill out a form that creates a new record. You want to use progressive enhancement, so you create an enhance function where you are going to receive the new record, so you can display it alongside the existing ones. But wait, the returned record is not quite the same as the records you got from the initial load because you did not receive a Date. Instead you got some sort of string representing it. Now you have to deal with parsing it. Or, you go back to the load function and make it also just give a string, so you don't have to worry about the different behavior. \r\n\r\nBoth solutions make some sense, but now that you have two ways of doing something, both are probably going to be used throughout the code base. Making it harder to maintain overall.\r\n\r\n### Describe the proposed solution\r\n\r\nUse devalue to persist some objects from the server to the client when using Actions in the same way that is already done using `load()`\r\n\r\n### Alternatives considered\r\n\r\nLeave as is and make devs deal with the poor dx. ü§∑üèª \r\n\r\n### Importance\r\n\r\nwould make my life easier\r\n\r\n### Additional Information\r\n\r\nExample: https://github.com/CalebBassham/repro-sk-actions-devalue/blob/master/src/routes/%2Bpage.server.js","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7488/timeline","performed_via_github_app":null,"state_reason":"completed"}