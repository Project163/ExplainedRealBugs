{"url":"https://api.github.com/repos/sveltejs/kit/issues/10290","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/10290/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/10290/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/10290/events","html_url":"https://github.com/sveltejs/kit/issues/10290","id":1782338500,"node_id":"I_kwDOEiPr8c5qPFPE","number":10290,"title":"`kit.paths.base` can't load `css` and `js` with `@sveltejs/adapter-cloudflare` in production","user":{"login":"chientrm","id":70304839,"node_id":"MDQ6VXNlcjcwMzA0ODM5","avatar_url":"https://avatars.githubusercontent.com/u/70304839?v=4","gravatar_id":"","url":"https://api.github.com/users/chientrm","html_url":"https://github.com/chientrm","followers_url":"https://api.github.com/users/chientrm/followers","following_url":"https://api.github.com/users/chientrm/following{/other_user}","gists_url":"https://api.github.com/users/chientrm/gists{/gist_id}","starred_url":"https://api.github.com/users/chientrm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chientrm/subscriptions","organizations_url":"https://api.github.com/users/chientrm/orgs","repos_url":"https://api.github.com/users/chientrm/repos","events_url":"https://api.github.com/users/chientrm/events{/privacy}","received_events_url":"https://api.github.com/users/chientrm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470026,"node_id":"MDU6TGFiZWwyNDI4NDcwMDI2","url":"https://api.github.com/repos/sveltejs/kit/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":3565159293,"node_id":"LA_kwDOEiPr8c7UgAN9","url":"https://api.github.com/repos/sveltejs/kit/labels/pkg:adapter-cloudflare","name":"pkg:adapter-cloudflare","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-06-30T11:04:35Z","updated_at":"2023-08-23T09:02:07Z","closed_at":"2023-08-23T09:02:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nRumor has it `kit.paths.base` only works when using `adapter-static`.\r\nI can get the app on but there is no `css` or `js` loaded.\r\nI already prefix all URLs in my app with `base` from `$app/paths`.\r\n\r\n### Reproduction\r\n\r\nThe repo is here: [chientrm/sk-base-cf-bug](https://github.com/chientrm/sk-base-cf-bug)\r\nProduction page: [https://sk-base-cf-bug.pages.dev/sk-base-cf-bug/](https://sk-base-cf-bug.pages.dev/sk-base-cf-bug/)\r\n\r\nWork fine in local dev but on production it's not.\r\n\r\nThe title Home and Foo are supposed to be green (with css).\r\nThe link Foo and Back are supposed to be hydrated with SvelteKit instead of vanilla <a href>.\r\nHere is the build configuration:\r\n<img width=\"707\" alt=\"250077475-462fd425-89be-4895-88f8-65cdb78474d8\" src=\"https://github.com/sveltejs/kit/assets/70304839/1566e9c9-3c8e-4ccf-a367-984fca5e15f0\">\r\n\r\n### Logs\r\n\r\n_No response_\r\n\r\n### System Info\r\n\r\n```Shell\r\nSystem:\r\n    OS: Linux 6.2 Ubuntu 23.04 23.04 (Lunar Lobster)\r\n    CPU: (4) x64 Intel(R) Core(TM) i3-4010U CPU @ 1.70GHz\r\n    Memory: 1.71 GB / 3.50 GB\r\n    Container: Yes\r\n    Shell: 5.2.15 - /bin/bash\r\n  Binaries:\r\n    Node: 18.15.0 - ~/.nvm/versions/node/v18.15.0/bin/node\r\n    Yarn: 1.22.19 - ~/.nvm/versions/node/v18.15.0/bin/yarn\r\n    npm: 9.5.0 - ~/.nvm/versions/node/v18.15.0/bin/npm\r\n    pnpm: 8.4.0 - ~/.nvm/versions/node/v18.15.0/bin/pnpm\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: ^2.0.0 => 2.1.0 \r\n    @sveltejs/adapter-cloudflare: ^2.3.0 => 2.3.0 \r\n    @sveltejs/kit: ^1.20.4 => 1.20.5 \r\n    svelte: ^4.0.0 => 4.0.0 \r\n    vite: ^4.3.6 => 4.3.9\r\n```\r\n\r\n\r\n### Severity\r\n\r\nblocking all usage of SvelteKit\r\n\r\n### Additional Information\r\n\r\nMe and many of my homies want to use 1 domain to rule all the SvelteKit apps under subfolder but this bug is a `no no` ðŸ˜¢ ","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/10290/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/10290/timeline","performed_via_github_app":null,"state_reason":"completed"}