[{"actor":{"login":"CaptainCodeman","id":304910,"node_id":"MDQ6VXNlcjMwNDkxMA==","avatar_url":"https://avatars.githubusercontent.com/u/304910?v=4","gravatar_id":"","url":"https://api.github.com/users/CaptainCodeman","html_url":"https://github.com/CaptainCodeman","followers_url":"https://api.github.com/users/CaptainCodeman/followers","following_url":"https://api.github.com/users/CaptainCodeman/following{/other_user}","gists_url":"https://api.github.com/users/CaptainCodeman/gists{/gist_id}","starred_url":"https://api.github.com/users/CaptainCodeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaptainCodeman/subscriptions","organizations_url":"https://api.github.com/users/CaptainCodeman/orgs","repos_url":"https://api.github.com/users/CaptainCodeman/repos","events_url":"https://api.github.com/users/CaptainCodeman/events{/privacy}","received_events_url":"https://api.github.com/users/CaptainCodeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T20:49:11Z","updated_at":"2022-10-10T20:49:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7209","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7209/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7209/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7209/events","html_url":"https://github.com/sveltejs/kit/issues/7209","id":1403358394,"node_id":"I_kwDOEiPr8c5TpYy6","number":7209,"title":"adapter-node: OOM with rollup","user":{"login":"sidvishnoi","id":8426945,"node_id":"MDQ6VXNlcjg0MjY5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8426945?v=4","gravatar_id":"","url":"https://api.github.com/users/sidvishnoi","html_url":"https://github.com/sidvishnoi","followers_url":"https://api.github.com/users/sidvishnoi/followers","following_url":"https://api.github.com/users/sidvishnoi/following{/other_user}","gists_url":"https://api.github.com/users/sidvishnoi/gists{/gist_id}","starred_url":"https://api.github.com/users/sidvishnoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidvishnoi/subscriptions","organizations_url":"https://api.github.com/users/sidvishnoi/orgs","repos_url":"https://api.github.com/users/sidvishnoi/repos","events_url":"https://api.github.com/users/sidvishnoi/events{/privacy}","received_events_url":"https://api.github.com/users/sidvishnoi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2873676120,"node_id":"MDU6TGFiZWwyODczNjc2MTIw","url":"https://api.github.com/repos/sveltejs/kit/labels/pkg:adapter-node","name":"pkg:adapter-node","color":"FDECD3","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-10-10T15:28:30Z","updated_at":"2022-10-20T10:48:06Z","closed_at":"2022-10-20T10:47:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\r\n\r\nBuild crashes with \"JavaScript heap out of memory\" error. Happening since #6896. Rollup was expected to be slow, but not enough to crash.\r\nMemory usage for `vite build` climbs to 3.9GB before crash - it probably jumps before crash but hard to pin down (compared to 1.8GB with esbuild).\r\nI also see some Circular dependency warnings, which aren't seen with esbuild.\r\n\r\n### Reproduction\r\n\r\nIt's hard to reproduce as I'm not sure what to include and what not to: the project is large-ish with roughly 75 routes. It uses of postcss/tailwindcss and firebase. I'll try to add a reproduction if it'll be helpful.\r\n\r\n### Logs\r\n\r\n```shell\r\n> Using @sveltejs/adapter-node\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util/minimal.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util/longbits.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util/minimal.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/field.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/field.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/field.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/types.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/field.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/oneof.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/namespace.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/oneof.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/mapfield.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/service.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/method.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/service.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/method.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/service.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/encoder.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/encoder.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/decoder.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/decoder.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/verifier.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/verifier.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/converter.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/type.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/converter.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/object.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/root.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/enum.js\r\nCircular dependency: node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/root.js -> node_modules/.pnpm/protobufjs@7.1.2/node_modules/protobufjs/src/util.js\r\nCircular dependency: node_modules/.pnpm/google-auth-library@8.0.2/node_modules/google-auth-library/build/src/crypto/crypto.js -> node_modules/.pnpm/google-auth-library@8.0.2/node_modules/google-auth-library/build/src/crypto/browser/crypto.js -> node_modules/.pnpm/google-auth-library@8.0.2/node_modules/google-auth-library/build/src/crypto/crypto.js\r\nCircular dependency: node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/any.js -> node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/fromproto3json.js -> node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/any.js\r\nCircular dependency: node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/toproto3json.js -> node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/any.js -> node_modules/.pnpm/proto3-json-serializer@1.1.0/node_modules/proto3-json-serializer/build/src/toproto3json.js\r\nCircular dependency: node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/operationsClient.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/createApiCall.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/apiCaller.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/call.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/googleError.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js\r\nCircular dependency: node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_readable.js -> node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_duplex.js -> node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_readable.js\r\nCircular dependency: node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_duplex.js -> node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_writable.js -> node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_duplex.js\r\nCircular dependency: node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallbackProto.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js\r\nCircular dependency: node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallbackRest.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js\r\nCircular dependency: node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/iamService.js -> node_modules/.pnpm/google-gax@3.5.2/node_modules/google-gax/build/src/fallback.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/validate.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/timestamp.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/validate.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/field-value.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/serializer.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/field-value.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/index.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/bulk-writer.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/write-batch.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/field-value.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/serializer.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/index.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/reference.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/write-batch.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/reference.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/write-batch.js\r\nCircular dependency: node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/channel.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/subchannel.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/channelz.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/make-client.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/client.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/channel.js\r\nCircular dependency: node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/experimental.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js -> node_modules/.pnpm/@grpc+grpc-js@1.7.1/node_modules/@grpc/grpc-js/build/src/experimental.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/reference.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/watch.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/document.js\r\nCircular dependency: node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/index.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/recursive-delete.js -> node_modules/.pnpm/@google-cloud+firestore@6.3.0/node_modules/@google-cloud/firestore/build/src/index.js\r\nUse of eval is strongly discouraged, as it poses security risks and may cause issues with minification\r\n\r\n<--- Last few GCs --->\r\n\r\n[31:0x6956590]   112471 ms: Mark-sweep 2034.9 (2092.5) -> 2032.1 (2090.2) MB, 1082.7 / 0.0 ms  (average mu = 0.360, current mu = 0.046) allocation failure scavenge might not succeed\r\n[31:0x6956590]   114414 ms: Mark-sweep 2040.0 (2090.2) -> 2038.5 (2120.0) MB, 1932.5 / 0.0 ms  (average mu = 0.179, current mu = 0.006) allocation failure scavenge might not succeed\r\n\r\n\r\n<--- JS stacktrace --->\r\n\r\nFATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory\r\n 1: 0xb02960 node::Abort() [node]\r\n 2: 0xa18149 node::FatalError(char const*, char const*) [node]\r\n 3: 0xcdd22e v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [node]\r\n 4: 0xcdd5a7 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [node]\r\n 5: 0xe94c15  [node]\r\n 6: 0xea48dd v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [node]\r\n 7: 0xea75de v8::internal::Heap::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [node]\r\n 8: 0xe68b1a v8::internal::Factory::NewFillerObject(int, bool, v8::internal::AllocationType, v8::internal::AllocationOrigin) [node]\r\n 9: 0x11e1886 v8::internal::Runtime_AllocateInYoungGeneration(int, unsigned long*, v8::internal::Isolate*) [node]\r\n10: 0x15d54f9  [node]\r\n ELIFECYCLE  Command failed with exit code 1.\r\n```\r\n\r\n\r\n### System Info\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.5 LTS (Focal Fossa)\r\n    CPU: (24) x64 AMD Ryzen 9 3900X 12-Core Processor\r\n    Memory: 3.02 GB / 15.57 GB\r\n    Container: Yes\r\n    Shell: 5.8 - /usr/bin/zsh\r\n  Binaries:\r\n    Node: 16.14.0 - ~/.nvm/versions/node/v16.14.0/bin/node\r\n    Yarn: 1.22.15 - ~/.nvm/versions/node/v16.14.0/bin/yarn\r\n    npm: 8.4.1 - ~/.nvm/versions/node/v16.14.0/bin/npm\r\n    Watchman: 20200920.192359.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 106.0.5249.103\r\n    Firefox: 105.0\r\n  npmPackages:\r\n    @sveltejs/adapter-node: 1.0.0-next.96 => 1.0.0-next.96 \r\n    @sveltejs/kit: ^1.0.0-next.511 => 1.0.0-next.511 \r\n    svelte: ^3.50.1 => 3.50.1 \r\n    vite: ^3.1.7 => 3.1.7 \r\n    postcss: ^8.4.17\r\n```\r\n\r\n\r\n### Severity\r\n\r\nblocking an upgrade\r\n\r\n### Additional Information\r\n\r\nWorks fine with `@sveltejs/adapter-node`:`1.0.0-next.92`","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7209/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1275585956","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1275585956","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1275585956,"node_id":"IC_kwDOEiPr8c5MB-Wk","user":{"login":"leroytromp","id":84224065,"node_id":"MDQ6VXNlcjg0MjI0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/84224065?v=4","gravatar_id":"","url":"https://api.github.com/users/leroytromp","html_url":"https://github.com/leroytromp","followers_url":"https://api.github.com/users/leroytromp/followers","following_url":"https://api.github.com/users/leroytromp/following{/other_user}","gists_url":"https://api.github.com/users/leroytromp/gists{/gist_id}","starred_url":"https://api.github.com/users/leroytromp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leroytromp/subscriptions","organizations_url":"https://api.github.com/users/leroytromp/orgs","repos_url":"https://api.github.com/users/leroytromp/repos","events_url":"https://api.github.com/users/leroytromp/events{/privacy}","received_events_url":"https://api.github.com/users/leroytromp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T04:52:41Z","updated_at":"2022-10-12T04:52:41Z","body":"I can confirm reproduction of this bug. This is a severe bug that makes deployment of adapter-node apps that use firebase-admin impossible. I also have had no luck in my search for a workaround.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1275585956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leroytromp","id":84224065,"node_id":"MDQ6VXNlcjg0MjI0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/84224065?v=4","gravatar_id":"","url":"https://api.github.com/users/leroytromp","html_url":"https://github.com/leroytromp","followers_url":"https://api.github.com/users/leroytromp/followers","following_url":"https://api.github.com/users/leroytromp/following{/other_user}","gists_url":"https://api.github.com/users/leroytromp/gists{/gist_id}","starred_url":"https://api.github.com/users/leroytromp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leroytromp/subscriptions","organizations_url":"https://api.github.com/users/leroytromp/orgs","repos_url":"https://api.github.com/users/leroytromp/repos","events_url":"https://api.github.com/users/leroytromp/events{/privacy}","received_events_url":"https://api.github.com/users/leroytromp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"leroytromp","id":84224065,"node_id":"MDQ6VXNlcjg0MjI0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/84224065?v=4","gravatar_id":"","url":"https://api.github.com/users/leroytromp","html_url":"https://github.com/leroytromp","followers_url":"https://api.github.com/users/leroytromp/followers","following_url":"https://api.github.com/users/leroytromp/following{/other_user}","gists_url":"https://api.github.com/users/leroytromp/gists{/gist_id}","starred_url":"https://api.github.com/users/leroytromp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leroytromp/subscriptions","organizations_url":"https://api.github.com/users/leroytromp/orgs","repos_url":"https://api.github.com/users/leroytromp/repos","events_url":"https://api.github.com/users/leroytromp/events{/privacy}","received_events_url":"https://api.github.com/users/leroytromp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T08:17:37Z","updated_at":"2022-10-15T08:17:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7266","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7266/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7266/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7266/events","html_url":"https://github.com/sveltejs/kit/issues/7266","id":1409621531,"node_id":"I_kwDOEiPr8c5UBR4b","number":7266,"title":"on latest adapter-node `Could not dynamically require \"x\". Please configure the dynamicRequireTargets`","user":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-10-14T17:02:00Z","updated_at":"2022-10-15T08:21:12Z","closed_at":"2022-10-15T08:21:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Describe the bug\n\nAnother issue after migrating to latest sveltekit and adapter-node.\r\none of my routes, has a server route that uses shelljs  it worked fine before. But now: on dev it works, but after building with adapter-node, and running server - upon navigating to that route, I get that error Error: Could not dynamically require \"./src/cat\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work. Any ideas ?\r\n\r\nAlso not sure if it's related but on build with adapter node I get information about `Circular dependency: ../../node_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/shell.js -> ../../node_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/src/common.js -> ../../node_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/shell.js`\n\n### Reproduction\n\nUse  `shelljs` module in one of the js files that route depends on.\n\n### Logs\n\n_No response_\n\n### System Info\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (16) x64 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz\r\n    Memory: 5.42 GB / 9.72 GB\r\n    Container: Yes\r\n    Shell: 5.0.17 - /bin/bash\r\n  Binaries:\r\n    Node: 18.1.0 - ~/.nvm/versions/node/v18.1.0/bin/node\r\n    Yarn: 1.22.19 - ~/.nvm/versions/node/v18.1.0/bin/yarn\r\n    npm: 8.8.0 - ~/.nvm/versions/node/v18.1.0/bin/npm\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: 1.0.0-next.80 => 1.0.0-next.80 \r\n    @sveltejs/adapter-cloudflare: 1.0.0-next.39 => 1.0.0-next.39 \r\n    @sveltejs/adapter-node: 1.0.0-next.98 => 1.0.0-next.98 \r\n    @sveltejs/adapter-static: 1.0.0-next.44 => 1.0.0-next.44 \r\n    @sveltejs/kit: 1.0.0-next.516 => 1.0.0-next.516 \r\n    @sveltejs/package: 1.0.0-next.5 => 1.0.0-next.5 \r\n    svelte: ^3.50.1 => 3.51.0 \r\n    vite: ^3.1.4 => 3.1.8\n```\n\n\n### Severity\n\nblocking an upgrade\n\n### Additional Information\n\n_No response_","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7266/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1279693262","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1279693262","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1279693262,"node_id":"IC_kwDOEiPr8c5MRpHO","user":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T08:20:13Z","updated_at":"2022-10-15T08:20:13Z","body":"Same issue here as linked above. It bundles things that shouldn't be bundled. And they were not bundled in previous versions of adapter node.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1279693262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1280452771","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1280452771","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1280452771,"node_id":"IC_kwDOEiPr8c5MUiij","user":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T08:06:50Z","updated_at":"2022-10-17T08:06:50Z","body":"So it all happened on adapter-node 93 when it was switched from esbuild to rollup. However even going back to 92, gives me `Error: Dynamic require of \"http\" is not supported` so it's all broken now and I can't deploy with adapter-node.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1280452771/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1280491542","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1280491542","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1280491542,"node_id":"IC_kwDOEiPr8c5MUsAW","user":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T08:36:41Z","updated_at":"2022-10-17T08:36:41Z","body":"Also looks like, in my case it's because monorepo structure. So project I am building doesn't have any devDependancies or dependancies (dependancies only have workspace dependency). \r\nSo it just bundles everything. If I add module in that project to `dependancies` it does not get bundled. \r\nHowever it's a regress, as that was working fine before going to rollup.js.\r\nSo maybe there is better way to resolve dependencies, and account for mono repo structure ? ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1280491542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7619121574,"node_id":"LE_lADOEiPr8c5TqRlBzwAAAAHGIpGm","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7619121574","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-10-19T08:34:47Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":7619121579,"node_id":"LE_lADOEiPr8c5TqRlBzwAAAAHGIpGr","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7619121579","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-10-19T08:34:47Z","label":{"name":"pkg:adapter-node","color":"FDECD3"},"performed_via_github_app":null},{"id":7619121949,"node_id":"MIE_lADOEiPr8c5TqRlBzwAAAAHGIpMd","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7619121949","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-10-19T08:34:50Z","milestone":{"title":"1.0"},"performed_via_github_app":null},{"id":7619125547,"node_id":"REFE_lADOEiPr8c5TqRlBzwAAAAHGIqEr","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7619125547","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5a003246054f0ee9cf2796dcc05608acb73be0b6","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/5a003246054f0ee9cf2796dcc05608acb73be0b6","created_at":"2022-10-19T08:35:16Z","performed_via_github_app":null},{"actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T08:35:48Z","updated_at":"2022-10-19T08:35:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7311","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7311/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7311/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7311/events","html_url":"https://github.com/sveltejs/kit/pull/7311","id":1414545950,"node_id":"PR_kwDOEiPr8c5BFh2c","number":7311,"title":"[fix] take into account deep exports for external packages","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-19T08:35:48Z","updated_at":"2022-10-19T13:58:13Z","closed_at":"2022-10-19T13:58:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":304344049,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQzNDQwNDk=","name":"kit","full_name":"sveltejs/kit","private":false,"owner":{"login":"sveltejs","id":23617963,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIzNjE3OTYz","avatar_url":"https://avatars.githubusercontent.com/u/23617963?v=4","gravatar_id":"","url":"https://api.github.com/users/sveltejs","html_url":"https://github.com/sveltejs","followers_url":"https://api.github.com/users/sveltejs/followers","following_url":"https://api.github.com/users/sveltejs/following{/other_user}","gists_url":"https://api.github.com/users/sveltejs/gists{/gist_id}","starred_url":"https://api.github.com/users/sveltejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveltejs/subscriptions","organizations_url":"https://api.github.com/users/sveltejs/orgs","repos_url":"https://api.github.com/users/sveltejs/repos","events_url":"https://api.github.com/users/sveltejs/events{/privacy}","received_events_url":"https://api.github.com/users/sveltejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sveltejs/kit","description":"web development, streamlined","fork":false,"url":"https://api.github.com/repos/sveltejs/kit","forks_url":"https://api.github.com/repos/sveltejs/kit/forks","keys_url":"https://api.github.com/repos/sveltejs/kit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sveltejs/kit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sveltejs/kit/teams","hooks_url":"https://api.github.com/repos/sveltejs/kit/hooks","issue_events_url":"https://api.github.com/repos/sveltejs/kit/issues/events{/number}","events_url":"https://api.github.com/repos/sveltejs/kit/events","assignees_url":"https://api.github.com/repos/sveltejs/kit/assignees{/user}","branches_url":"https://api.github.com/repos/sveltejs/kit/branches{/branch}","tags_url":"https://api.github.com/repos/sveltejs/kit/tags","blobs_url":"https://api.github.com/repos/sveltejs/kit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sveltejs/kit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sveltejs/kit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sveltejs/kit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sveltejs/kit/statuses/{sha}","languages_url":"https://api.github.com/repos/sveltejs/kit/languages","stargazers_url":"https://api.github.com/repos/sveltejs/kit/stargazers","contributors_url":"https://api.github.com/repos/sveltejs/kit/contributors","subscribers_url":"https://api.github.com/repos/sveltejs/kit/subscribers","subscription_url":"https://api.github.com/repos/sveltejs/kit/subscription","commits_url":"https://api.github.com/repos/sveltejs/kit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sveltejs/kit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sveltejs/kit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sveltejs/kit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sveltejs/kit/contents/{+path}","compare_url":"https://api.github.com/repos/sveltejs/kit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sveltejs/kit/merges","archive_url":"https://api.github.com/repos/sveltejs/kit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sveltejs/kit/downloads","issues_url":"https://api.github.com/repos/sveltejs/kit/issues{/number}","pulls_url":"https://api.github.com/repos/sveltejs/kit/pulls{/number}","milestones_url":"https://api.github.com/repos/sveltejs/kit/milestones{/number}","notifications_url":"https://api.github.com/repos/sveltejs/kit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sveltejs/kit/labels{/name}","releases_url":"https://api.github.com/repos/sveltejs/kit/releases{/id}","deployments_url":"https://api.github.com/repos/sveltejs/kit/deployments","created_at":"2020-10-15T14:00:23Z","updated_at":"2025-11-09T20:00:19Z","pushed_at":"2025-11-09T16:24:14Z","git_url":"git://github.com/sveltejs/kit.git","ssh_url":"git@github.com:sveltejs/kit.git","clone_url":"https://github.com/sveltejs/kit.git","svn_url":"https://github.com/sveltejs/kit","homepage":"https://svelte.dev/docs/kit","size":31752,"stargazers_count":19933,"watchers_count":19933,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1029,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","svelte"],"visibility":"public","forks":2150,"open_issues":1029,"watchers":19933,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sveltejs/kit/pulls/7311","html_url":"https://github.com/sveltejs/kit/pull/7311","diff_url":"https://github.com/sveltejs/kit/pull/7311.diff","patch_url":"https://github.com/sveltejs/kit/pull/7311.patch","merged_at":"2022-10-19T13:58:12Z"},"body":"Fixes #7216\r\nMaybe related to #7209\r\n\r\n### Please don't delete this checklist! Before submitting the PR, please make sure you do the following:\r\n- [x] It's really useful if your PR references an issue where it is discussed ahead of time. In many cases, features are absent for a reason. For large changes, please create an RFC: https://github.com/sveltejs/rfcs\r\n- [x] This message body should clearly illustrate what problems it solves.\r\n- [ ] Ideally, include a test that fails without this PR but passes with it.\r\n\r\n### Tests\r\n- [x] Run the tests with `pnpm test` and lint the project with `pnpm lint` and `pnpm check`\r\n\r\n### Changesets\r\n- [x] If your PR makes a change that should be noted in one or more packages' changelogs, generate a changeset by running `pnpm changeset` and following the prompts. All changesets should be `patch` until SvelteKit 1.0\r\n","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7311/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7621893655,"node_id":"CE_lADOEiPr8c5TqRlBzwAAAAHGTN4X","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7621893655","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c2d70404d81812869bda62a664a69d394aff4608","commit_url":"https://api.github.com/repos/sveltejs/kit/commits/c2d70404d81812869bda62a664a69d394aff4608","created_at":"2022-10-19T13:58:14Z","state_reason":null,"performed_via_github_app":null},{"id":7621893673,"node_id":"CE_lADOEiPr8c5TqRlBzwAAAAHGTN4p","url":"https://api.github.com/repos/sveltejs/kit/issues/events/7621893673","actor":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-10-19T13:58:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1284214548","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1284214548","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1284214548,"node_id":"IC_kwDOEiPr8c5Mi48U","user":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T15:39:56Z","updated_at":"2022-10-19T15:39:56Z","body":"This is not fixed in my case. When there is dependancy in root package.json in monorepo in `non dev` dependancy, it's still being bundled. I have to add it to package/app  `package.json` into `dependancies` for it to be not bundled","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1284214548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gbkwiatt","id":62710468,"node_id":"MDQ6VXNlcjYyNzEwNDY4","avatar_url":"https://avatars.githubusercontent.com/u/62710468?v=4","gravatar_id":"","url":"https://api.github.com/users/gbkwiatt","html_url":"https://github.com/gbkwiatt","followers_url":"https://api.github.com/users/gbkwiatt/followers","following_url":"https://api.github.com/users/gbkwiatt/following{/other_user}","gists_url":"https://api.github.com/users/gbkwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gbkwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbkwiatt/subscriptions","organizations_url":"https://api.github.com/users/gbkwiatt/orgs","repos_url":"https://api.github.com/users/gbkwiatt/repos","events_url":"https://api.github.com/users/gbkwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/gbkwiatt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1284231485","html_url":"https://github.com/sveltejs/kit/issues/7216#issuecomment-1284231485","issue_url":"https://api.github.com/repos/sveltejs/kit/issues/7216","id":1284231485,"node_id":"IC_kwDOEiPr8c5Mi9E9","user":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T15:52:06Z","updated_at":"2022-10-19T15:52:06Z","body":"I'd argue this is the right thing to do anyway in my opinion - each package in a monorepo should explicitly list its dependencies, even if that means some packages list the same dependencies over and over.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/comments/1284231485/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false}}]