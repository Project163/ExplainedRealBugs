{"url":"https://api.github.com/repos/sveltejs/kit/issues/7436","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/7436/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/7436/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/7436/events","html_url":"https://github.com/sveltejs/kit/issues/7436","id":1428541717,"node_id":"I_kwDOEiPr8c5VJdEV","number":7436,"title":"Make \"version\" available from $app/environment","user":{"login":"CaptainCodeman","id":304910,"node_id":"MDQ6VXNlcjMwNDkxMA==","avatar_url":"https://avatars.githubusercontent.com/u/304910?v=4","gravatar_id":"","url":"https://api.github.com/users/CaptainCodeman","html_url":"https://github.com/CaptainCodeman","followers_url":"https://api.github.com/users/CaptainCodeman/followers","following_url":"https://api.github.com/users/CaptainCodeman/following{/other_user}","gists_url":"https://api.github.com/users/CaptainCodeman/gists{/gist_id}","starred_url":"https://api.github.com/users/CaptainCodeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaptainCodeman/subscriptions","organizations_url":"https://api.github.com/users/CaptainCodeman/orgs","repos_url":"https://api.github.com/users/CaptainCodeman/repos","events_url":"https://api.github.com/users/CaptainCodeman/events{/privacy}","received_events_url":"https://api.github.com/users/CaptainCodeman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470046,"node_id":"MDU6TGFiZWwyNDI4NDcwMDQ2","url":"https://api.github.com/repos/sveltejs/kit/labels/feature%20/%20enhancement","name":"feature / enhancement","color":"a2eeef","default":false,"description":"New feature or request"},{"id":4343790735,"node_id":"LA_kwDOEiPr8c8AAAABAuj8jw","url":"https://api.github.com/repos/sveltejs/kit/labels/low%20hanging%20fruit","name":"low hanging fruit","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-30T01:29:34Z","updated_at":"2022-11-16T20:01:52Z","closed_at":"2022-11-16T20:01:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the problem\n\nCaching is great, it makes things fast. But using a cached page after an app deploy means all the script references are wrong and \"bad things\". So some form of \"app version\" needs to be part of any cache key.\r\n\r\nThere is a generated version string, used for the update checks. That could be read from `build/client/_app/version.json`except ... it won't be there during the build if pre-rendering.\r\n\r\nSo you have to check if running in `dev` or `prerendering` mode before reading the file.\n\n### Describe the proposed solution\n\nI would like to be able to access the version string from `$app/environment`\n\n### Alternatives considered\n\nMaybe it's already exposed from '$service-worker'?\r\n\r\nBut I don't know if that only works if using a service-worker, and it feels odd importing it from there when it isn't _really_ anything todo with a service-worker.\n\n### Importance\n\nnice to have\n\n### Additional Information\n\n_No response_","closed_by":{"login":"Rich-Harris","id":1162160,"node_id":"MDQ6VXNlcjExNjIxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1162160?v=4","gravatar_id":"","url":"https://api.github.com/users/Rich-Harris","html_url":"https://github.com/Rich-Harris","followers_url":"https://api.github.com/users/Rich-Harris/followers","following_url":"https://api.github.com/users/Rich-Harris/following{/other_user}","gists_url":"https://api.github.com/users/Rich-Harris/gists{/gist_id}","starred_url":"https://api.github.com/users/Rich-Harris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rich-Harris/subscriptions","organizations_url":"https://api.github.com/users/Rich-Harris/orgs","repos_url":"https://api.github.com/users/Rich-Harris/repos","events_url":"https://api.github.com/users/Rich-Harris/events{/privacy}","received_events_url":"https://api.github.com/users/Rich-Harris/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/7436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/7436/timeline","performed_via_github_app":null,"state_reason":"completed"}