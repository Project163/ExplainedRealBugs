{"url":"https://api.github.com/repos/sveltejs/kit/issues/5903","repository_url":"https://api.github.com/repos/sveltejs/kit","labels_url":"https://api.github.com/repos/sveltejs/kit/issues/5903/labels{/name}","comments_url":"https://api.github.com/repos/sveltejs/kit/issues/5903/comments","events_url":"https://api.github.com/repos/sveltejs/kit/issues/5903/events","html_url":"https://github.com/sveltejs/kit/issues/5903","id":1339710640,"node_id":"I_kwDOEiPr8c5P2lyw","number":5903,"title":"Unclear error when a layout endpoint has a named layout inheritance in their filename.","user":{"login":"teemingc","id":54401897,"node_id":"MDQ6VXNlcjU0NDAxODk3","avatar_url":"https://avatars.githubusercontent.com/u/54401897?v=4","gravatar_id":"","url":"https://api.github.com/users/teemingc","html_url":"https://github.com/teemingc","followers_url":"https://api.github.com/users/teemingc/followers","following_url":"https://api.github.com/users/teemingc/following{/other_user}","gists_url":"https://api.github.com/users/teemingc/gists{/gist_id}","starred_url":"https://api.github.com/users/teemingc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teemingc/subscriptions","organizations_url":"https://api.github.com/users/teemingc/orgs","repos_url":"https://api.github.com/users/teemingc/repos","events_url":"https://api.github.com/users/teemingc/events{/privacy}","received_events_url":"https://api.github.com/users/teemingc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2428470032,"node_id":"MDU6TGFiZWwyNDI4NDcwMDMy","url":"https://api.github.com/repos/sveltejs/kit/labels/documentation","name":"documentation","color":"0075ca","default":true,"description":"Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-16T01:55:36Z","updated_at":"2022-08-16T12:54:17Z","closed_at":"2022-08-16T12:54:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nAdding an inherited layout naming convention to a layout endpoint throws an unclear error during the sveltekit sync process.\r\n\r\nInstead, the thrown error should tell the user to rename their file from `layout@example.server.ts` to `layout.server.ts`.\r\n\r\nThis happened to me while I was still in the mindset of naming the endpoint files exactly the same as the page file before the new breaking changes.\r\n\r\nI could not find any clarification about this in the official docs about this. Could it also be helpful to migrating users by clarifying this in the docs?\r\n\r\nAn example of the correct filenames would be:\r\n```\r\n+layout-root.svelte\r\n+layout@root.svelte\r\n+layout.ts\r\n+layout-another@root.svelte\r\n+layout-another.ts\r\n```\n\n### Reproduction\n\nhttps://github.com/s3812497/sveltekit-v408-bug\n\n### Logs\n\n```shell\n❯ pnpm run dev\r\n\r\n> my-app@0.0.1 dev /Users/teeming/my-app\r\n> vite dev\r\n\r\nerror when starting dev server:\r\nError: Files and directories prefixed with + are reserved (saw src/routes/+layout@root.ts)\r\n    at file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/core/sync/create_manifest_data/index.js:73:11\r\n    at Array.forEach (<anonymous>)\r\n    at create_manifest_data (file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/core/sync/create_manifest_data/index.js:60:39)\r\n    at Module.create (file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/core/sync/sync.js:25:24)\r\n    at update_manifest (file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/vite/dev/index.js:58:35)\r\n    at dev (file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/vite/dev/index.js:214:8)\r\n    at async Object.configureServer (file:///Users/teeming/my-app/node_modules/.pnpm/@sveltejs+kit@1.0.0-next.408_svelte@3.49.0+vite@3.0.7/node_modules/@sveltejs/kit/src/vite/index.js:459:11)\r\n    at async createServer (file:///Users/teeming/my-app/node_modules/.pnpm/vite@3.0.7/node_modules/vite/dist/node/chunks/dep-0f13c890.js:59303:28)\r\n    at async CAC.<anonymous> (file:///Users/teeming/my-app/node_modules/.pnpm/vite@3.0.7/node_modules/vite/dist/node/cli.js:699:24)\r\n ELIFECYCLE  Command failed with exit code 1.\n```\n\n\n### System Info\n\n```shell\nSystem:\r\n    OS: macOS 12.5\r\n    CPU: (8) arm64 Apple M1 Pro\r\n    Memory: 2.75 GB / 32.00 GB\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.16.0 - ~/.nvm/versions/node/v16.16.0/bin/node\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n  Browsers:\r\n    Brave Browser: 104.1.42.95\r\n    Chrome: 104.0.5112.79\r\n    Firefox: 103.0.1\r\n    Firefox Developer Edition: 103.0\r\n    Safari: 15.6\r\n    Safari Technology Preview: 16.0\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: next => 1.0.0-next.64 \r\n    @sveltejs/kit: next => 1.0.0-next.408 \r\n    svelte: ^3.44.0 => 3.49.0 \r\n    vite: ^3.0.0 => 3.0.7\n```\n\n\n### Severity\n\nannoyance\n\n### Additional Information\n\nconfusing for the developer","closed_by":{"login":"dummdidumm","id":5968653,"node_id":"MDQ6VXNlcjU5Njg2NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5968653?v=4","gravatar_id":"","url":"https://api.github.com/users/dummdidumm","html_url":"https://github.com/dummdidumm","followers_url":"https://api.github.com/users/dummdidumm/followers","following_url":"https://api.github.com/users/dummdidumm/following{/other_user}","gists_url":"https://api.github.com/users/dummdidumm/gists{/gist_id}","starred_url":"https://api.github.com/users/dummdidumm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummdidumm/subscriptions","organizations_url":"https://api.github.com/users/dummdidumm/orgs","repos_url":"https://api.github.com/users/dummdidumm/repos","events_url":"https://api.github.com/users/dummdidumm/events{/privacy}","received_events_url":"https://api.github.com/users/dummdidumm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sveltejs/kit/issues/5903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sveltejs/kit/issues/5903/timeline","performed_via_github_app":null,"state_reason":"completed"}