diff --git a/gdx/src/com/badlogic/gdx/graphics/g2d/GlyphLayout.java b/gdx/src/com/badlogic/gdx/graphics/g2d/GlyphLayout.java
index 9d6fa3d8a..08fb1e93c 100644
--- a/gdx/src/com/badlogic/gdx/graphics/g2d/GlyphLayout.java
+++ b/gdx/src/com/badlogic/gdx/graphics/g2d/GlyphLayout.java
@@ -201,6 +201,7 @@ public class GlyphLayout implements Poolable {
 	}
 
 	private int parseColorMarkup (CharSequence str, int start, int end) {
+		if (start == end) return -1; // String ended with "[".
 		Pool<Color> pool = Pools.get(Color.class);
 		switch (str.charAt(start)) {
 		case '#':
diff --git a/tests/gdx-tests/src/com/badlogic/gdx/tests/BitmapFontTest.java b/tests/gdx-tests/src/com/badlogic/gdx/tests/BitmapFontTest.java
index eabec71e9..cd19815de 100644
--- a/tests/gdx-tests/src/com/badlogic/gdx/tests/BitmapFontTest.java
+++ b/tests/gdx-tests/src/com/badlogic/gdx/tests/BitmapFontTest.java
@@ -100,6 +100,11 @@ public class BitmapFontTest extends GdxTest {
 			font.draw(spriteBatch, text, x, viewHeight - y, alignmentWidth, Align.right, true);
 		}
 
+		font.draw(spriteBatch, "[", 50, 60, 100, Align.left, true);
+		font.getData().markupEnabled = true;
+		font.draw(spriteBatch, "[", 100, 60, 100, Align.left, true);
+		font.getData().markupEnabled = false;
+
 		// 'R' and 'p' are in different pages
 		String txt2 = "this font uses " + multiPageFont.getRegions().length + " texture pages: RpRpRpRpRpNM";
 		spriteBatch.renderCalls = 0;
