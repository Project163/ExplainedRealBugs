{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6514","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/6514/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/6514/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/6514/events","html_url":"https://github.com/libgdx/libgdx/issues/6514","id":870533028,"node_id":"MDU6SXNzdWU4NzA1MzMwMjg=","number":6514,"title":"LibGDX app renders incorrectly on iOS after device rotation","user":{"login":"clydebarrow","id":2366188,"node_id":"MDQ6VXNlcjIzNjYxODg=","avatar_url":"https://avatars.githubusercontent.com/u/2366188?v=4","gravatar_id":"","url":"https://api.github.com/users/clydebarrow","html_url":"https://github.com/clydebarrow","followers_url":"https://api.github.com/users/clydebarrow/followers","following_url":"https://api.github.com/users/clydebarrow/following{/other_user}","gists_url":"https://api.github.com/users/clydebarrow/gists{/gist_id}","starred_url":"https://api.github.com/users/clydebarrow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clydebarrow/subscriptions","organizations_url":"https://api.github.com/users/clydebarrow/orgs","repos_url":"https://api.github.com/users/clydebarrow/repos","events_url":"https://api.github.com/users/clydebarrow/events{/privacy}","received_events_url":"https://api.github.com/users/clydebarrow/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":11336980,"node_id":"MDU6TGFiZWwxMTMzNjk4MA==","url":"https://api.github.com/repos/libgdx/libgdx/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":59604199,"node_id":"MDU6TGFiZWw1OTYwNDE5OQ==","url":"https://api.github.com/repos/libgdx/libgdx/labels/ios","name":"ios","color":"0052cc","default":false,"description":""},{"id":2313818191,"node_id":"MDU6TGFiZWwyMzEzODE4MTkx","url":"https://api.github.com/repos/libgdx/libgdx/labels/graphics","name":"graphics","color":"fbca04","default":false,"description":"Concerning Gdx.graphics"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-04-29T01:30:47Z","updated_at":"2021-05-12T14:57:43Z","closed_at":"2021-05-12T14:57:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please ensure you have given all the following requested information in your report.\r\n\r\n#### Issue details\r\nLibGDX app renders incorrectly on iOS after device rotation\r\n\r\n#### Reproduction steps\r\nCreate a boilerplate LibGDX app, ensure that the Info.plist.xml file permits all device orientations.\r\n\r\nCapture screen size in `resize()`. Do some drawing in `render()` that is dependent on the aspect ratio of the screen. Check that the result is the same if the app is started in portrait vs starting in landscape then rotating to portrait.\r\n\r\n#### Code\r\n````\r\npublic class MyGdxGame extends ApplicationAdapter {\r\n    int width = 0, height = 0;\r\n    ShapeRenderer sr;\r\n\r\n    @Override\r\n    public void create() {\r\n        super.create();\r\n        sr = new ShapeRenderer();\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n        super.resize(width, height);\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    @Override\r\n    public void render () {\r\n        super.render();\r\n        Gdx.gl.glClearColor(0.6f, 0.1f, 0.1f, 1f);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        sr.begin(ShapeRenderer.ShapeType.Filled);\r\n        sr.setColor(Color.YELLOW);\r\n        sr.rect(width/4f, height/4f, width/2f, height/2f);\r\n        sr.end();\r\n    }\r\n\r\n    @Override\r\n    public void dispose () {\r\n        super.dispose();\r\n        sr.dispose();\r\n    }\r\n}\r\n````\r\n#### Version of LibGDX and/or relevant dependencies\r\nTested with 1.9.5 and 1.10.0 - same results\r\n\r\n#### Expected result\r\n\r\nThere should be no difference in the display whether the app starts in one orientation then rotates, vs starting in the final orientation.\r\n\r\n#### Actual result\r\n\r\nAs expected on Android. Not as expected on iOS. Although `resize()` is called correctly with the new screen size, the image drawn is wrong, as though the backend is unaware of the rotation.\r\n\r\n\r\n#### Please select the affected platforms\r\n- [ ] Android\r\n- [X] iOS\r\n- [ ] HTML/GWT\r\n- [ ] Windows\r\n- [ ] Linux\r\n- [ ] MacOS\r\n\r\n#### Screenshots\r\n\r\n![gdx](https://user-images.githubusercontent.com/2366188/116491598-98385700-a8dd-11eb-8970-2b9ca99913d3.jpg)\r\n","closed_by":{"login":"obigu","id":1794492,"node_id":"MDQ6VXNlcjE3OTQ0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/1794492?v=4","gravatar_id":"","url":"https://api.github.com/users/obigu","html_url":"https://github.com/obigu","followers_url":"https://api.github.com/users/obigu/followers","following_url":"https://api.github.com/users/obigu/following{/other_user}","gists_url":"https://api.github.com/users/obigu/gists{/gist_id}","starred_url":"https://api.github.com/users/obigu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obigu/subscriptions","organizations_url":"https://api.github.com/users/obigu/orgs","repos_url":"https://api.github.com/users/obigu/repos","events_url":"https://api.github.com/users/obigu/events{/privacy}","received_events_url":"https://api.github.com/users/obigu/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/6514/timeline","performed_via_github_app":null,"state_reason":"completed"}