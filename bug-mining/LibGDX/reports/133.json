{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2322","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/2322/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/2322/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/2322/events","html_url":"https://github.com/libgdx/libgdx/issues/2322","id":42540658,"node_id":"MDU6SXNzdWU0MjU0MDY1OA==","number":2322,"title":"Changing a button's skin to one with a smaller margin keeps the old size","user":{"login":"manixrock","id":785247,"node_id":"MDQ6VXNlcjc4NTI0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/785247?v=4","gravatar_id":"","url":"https://api.github.com/users/manixrock","html_url":"https://github.com/manixrock","followers_url":"https://api.github.com/users/manixrock/followers","following_url":"https://api.github.com/users/manixrock/following{/other_user}","gists_url":"https://api.github.com/users/manixrock/gists{/gist_id}","starred_url":"https://api.github.com/users/manixrock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manixrock/subscriptions","organizations_url":"https://api.github.com/users/manixrock/orgs","repos_url":"https://api.github.com/users/manixrock/repos","events_url":"https://api.github.com/users/manixrock/events{/privacy}","received_events_url":"https://api.github.com/users/manixrock/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2014-09-11T15:59:30Z","updated_at":"2014-09-18T14:42:16Z","closed_at":"2014-09-11T18:41:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When creating , and button.setStyle() is called with a smaller margin, the button will now appear larger than it should, exactly as large as it was with the larger skin.\n\nWhat steps will reproduce the problem?\n1. Create 2 skins, one containing a 9-patch with a certain margin, and another with a smaller margin (the same 9-patch resized works).\n2. Create a ImageTextButton button with the larger skin applied and any image.\n3. Call button.setStyle() with the smaller skin. Optionally, then call button.pack(), button.invalidate() and button.invalidateHierarchy().\n\nWhat is the expected output? What do you see instead?\nThe button should look smaller, like it would be if the smaller skin were applied directly. Instead the button has the new skin but is very large. The same applies to all button types.\n\nWhat version of libgdx are you using? If not using the master git\nbranch, please try that before filing a bug.\n\n1.2.0\n\nPlease provide any additional information below.\n\nThe bug seems to be caused because the inherited Table.background variable retains the old background when getPrefWidth() is called internally at Table.getPrefWidth(), line \"if (background != null) return Math.max(width, background.getMinWidth());\", which sets the Cell width/height to keep the old size. The background variable is changed when draw() is called, but by then it's too late and it is always drawn too big.\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/2322/timeline","performed_via_github_app":null,"state_reason":"completed"}