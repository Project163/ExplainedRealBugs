[{"id":881242570,"node_id":"MDExOkNsb3NlZEV2ZW50ODgxMjQyNTcw","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/881242570","actor":{"login":"badlogic","id":514052,"node_id":"MDQ6VXNlcjUxNDA1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/514052?v=4","gravatar_id":"","url":"https://api.github.com/users/badlogic","html_url":"https://github.com/badlogic","followers_url":"https://api.github.com/users/badlogic/followers","following_url":"https://api.github.com/users/badlogic/following{/other_user}","gists_url":"https://api.github.com/users/badlogic/gists{/gist_id}","starred_url":"https://api.github.com/users/badlogic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badlogic/subscriptions","organizations_url":"https://api.github.com/users/badlogic/orgs","repos_url":"https://api.github.com/users/badlogic/repos","events_url":"https://api.github.com/users/badlogic/events{/privacy}","received_events_url":"https://api.github.com/users/badlogic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"54c2dfb2756b0f1dc561c7ec2bae02a2d926559b","commit_url":"https://api.github.com/repos/libgdx/libgdx/commits/54c2dfb2756b0f1dc561c7ec2bae02a2d926559b","created_at":"2016-12-04T12:53:15Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"Zomby2D","id":5513720,"node_id":"MDQ6VXNlcjU1MTM3MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5513720?v=4","gravatar_id":"","url":"https://api.github.com/users/Zomby2D","html_url":"https://github.com/Zomby2D","followers_url":"https://api.github.com/users/Zomby2D/followers","following_url":"https://api.github.com/users/Zomby2D/following{/other_user}","gists_url":"https://api.github.com/users/Zomby2D/gists{/gist_id}","starred_url":"https://api.github.com/users/Zomby2D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zomby2D/subscriptions","organizations_url":"https://api.github.com/users/Zomby2D/orgs","repos_url":"https://api.github.com/users/Zomby2D/repos","events_url":"https://api.github.com/users/Zomby2D/events{/privacy}","received_events_url":"https://api.github.com/users/Zomby2D/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T22:01:46Z","updated_at":"2018-01-08T22:01:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5042","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/5042/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/5042/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/5042/events","html_url":"https://github.com/libgdx/libgdx/issues/5042","id":285009584,"node_id":"MDU6SXNzdWUyODUwMDk1ODQ=","number":5042,"title":"AndroidGraphicsLiveWallpaper deadlocks on resume","user":{"login":"cypherdare","id":1843131,"node_id":"MDQ6VXNlcjE4NDMxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1843131?v=4","gravatar_id":"","url":"https://api.github.com/users/cypherdare","html_url":"https://github.com/cypherdare","followers_url":"https://api.github.com/users/cypherdare/followers","following_url":"https://api.github.com/users/cypherdare/following{/other_user}","gists_url":"https://api.github.com/users/cypherdare/gists{/gist_id}","starred_url":"https://api.github.com/users/cypherdare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cypherdare/subscriptions","organizations_url":"https://api.github.com/users/cypherdare/orgs","repos_url":"https://api.github.com/users/cypherdare/repos","events_url":"https://api.github.com/users/cypherdare/events{/privacy}","received_events_url":"https://api.github.com/users/cypherdare/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":59604218,"node_id":"MDU6TGFiZWw1OTYwNDIxOA==","url":"https://api.github.com/repos/libgdx/libgdx/labels/android","name":"android","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-28T23:44:34Z","updated_at":"2020-09-13T21:49:18Z","closed_at":"2020-09-13T21:49:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":5373551,"node_id":"MDEwOlJlcG9zaXRvcnk1MzczNTUx","name":"libgdx","full_name":"libgdx/libgdx","private":false,"owner":{"login":"libgdx","id":509841,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwOTg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/509841?v=4","gravatar_id":"","url":"https://api.github.com/users/libgdx","html_url":"https://github.com/libgdx","followers_url":"https://api.github.com/users/libgdx/followers","following_url":"https://api.github.com/users/libgdx/following{/other_user}","gists_url":"https://api.github.com/users/libgdx/gists{/gist_id}","starred_url":"https://api.github.com/users/libgdx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libgdx/subscriptions","organizations_url":"https://api.github.com/users/libgdx/orgs","repos_url":"https://api.github.com/users/libgdx/repos","events_url":"https://api.github.com/users/libgdx/events{/privacy}","received_events_url":"https://api.github.com/users/libgdx/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libgdx/libgdx","description":"Desktop/Android/HTML5/iOS Java game development framework","fork":false,"url":"https://api.github.com/repos/libgdx/libgdx","forks_url":"https://api.github.com/repos/libgdx/libgdx/forks","keys_url":"https://api.github.com/repos/libgdx/libgdx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libgdx/libgdx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libgdx/libgdx/teams","hooks_url":"https://api.github.com/repos/libgdx/libgdx/hooks","issue_events_url":"https://api.github.com/repos/libgdx/libgdx/issues/events{/number}","events_url":"https://api.github.com/repos/libgdx/libgdx/events","assignees_url":"https://api.github.com/repos/libgdx/libgdx/assignees{/user}","branches_url":"https://api.github.com/repos/libgdx/libgdx/branches{/branch}","tags_url":"https://api.github.com/repos/libgdx/libgdx/tags","blobs_url":"https://api.github.com/repos/libgdx/libgdx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libgdx/libgdx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libgdx/libgdx/git/refs{/sha}","trees_url":"https://api.github.com/repos/libgdx/libgdx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libgdx/libgdx/statuses/{sha}","languages_url":"https://api.github.com/repos/libgdx/libgdx/languages","stargazers_url":"https://api.github.com/repos/libgdx/libgdx/stargazers","contributors_url":"https://api.github.com/repos/libgdx/libgdx/contributors","subscribers_url":"https://api.github.com/repos/libgdx/libgdx/subscribers","subscription_url":"https://api.github.com/repos/libgdx/libgdx/subscription","commits_url":"https://api.github.com/repos/libgdx/libgdx/commits{/sha}","git_commits_url":"https://api.github.com/repos/libgdx/libgdx/git/commits{/sha}","comments_url":"https://api.github.com/repos/libgdx/libgdx/comments{/number}","issue_comment_url":"https://api.github.com/repos/libgdx/libgdx/issues/comments{/number}","contents_url":"https://api.github.com/repos/libgdx/libgdx/contents/{+path}","compare_url":"https://api.github.com/repos/libgdx/libgdx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libgdx/libgdx/merges","archive_url":"https://api.github.com/repos/libgdx/libgdx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libgdx/libgdx/downloads","issues_url":"https://api.github.com/repos/libgdx/libgdx/issues{/number}","pulls_url":"https://api.github.com/repos/libgdx/libgdx/pulls{/number}","milestones_url":"https://api.github.com/repos/libgdx/libgdx/milestones{/number}","notifications_url":"https://api.github.com/repos/libgdx/libgdx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libgdx/libgdx/labels{/name}","releases_url":"https://api.github.com/repos/libgdx/libgdx/releases{/id}","deployments_url":"https://api.github.com/repos/libgdx/libgdx/deployments","created_at":"2012-08-10T19:34:38Z","updated_at":"2025-11-10T04:33:39Z","pushed_at":"2025-11-06T12:05:30Z","git_url":"git://github.com/libgdx/libgdx.git","ssh_url":"git@github.com:libgdx/libgdx.git","clone_url":"https://github.com/libgdx/libgdx.git","svn_url":"https://github.com/libgdx/libgdx","homepage":"http://www.libgdx.com/","size":1106561,"stargazers_count":24506,"watchers_count":24506,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6516,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":320,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["2d","3d","android","cross-platform","framework","game","game-development","game-engine","gamedev","html5","ios","java","libgdx","linux","macosx","windows"],"visibility":"public","forks":6516,"open_issues":320,"watchers":24506,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### Issue details\r\nThe application can deadlock  in a waiting condition when AndroidGraphicsLiveWallpaper resumes. I don't know the circumstances causing it. It used to be an extremely rare crash I've seen across all my live wallpapers the past several years. On my latest live wallpaper, it is affecting more than 1% of users. This is my first live wallpaper that uses the gyroscope or rotation vector sensor, so maybe it's triggering a race condition.\r\n\r\n#### Reproduction steps/code\r\nI haven't personally reproduced it. It affects over 1% of my users in my live wallpaper that uses the gyroscope/rotation vector sensor.\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\n1.9.7\r\n\r\n#### Stacktrace\r\nThere are a few variations of this, depending on what we are resuming from. It seems like maybe `resume` is getting called on the UI thread, although that shouldn't happen. It might be an Android bug that we can work around by checking the current thread before waiting. \r\n\r\n```java\r\n\"main\" prio=5 tid=1 Waiting\r\n  | group=\"main\" sCount=1 dsCount=0 obj=0x74a1baf0 self=0x7f86e96a00\r\n  | sysTid=3100 nice=0 cgrp=bg_non_interactive sched=0/0 handle=0x7f8b285a98\r\n  | state=S schedstat=( 7982502995 15063996268 37343 ) utm=516 stm=282 core=0 HZ=100\r\n  | stack=0x7fd9f7b000-0x7fd9f7d000 stackSize=8MB\r\n  | held mutexes=\r\n  at java.lang.Object.wait! (Native method)\r\n- waiting on <0x0f5a7e2b> (a java.lang.Object)\r\n  at com.badlogic.gdx.backends.android.AndroidGraphicsLiveWallpaper.resume (AndroidGraphicsLiveWallpaper.java:139)\r\n- locked <0x0f5a7e2b> (a java.lang.Object)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaper.onResume (AndroidLiveWallpaper.java:159)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onResume (AndroidLiveWallpaperService.java:402)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.notifyVisibilityChanged (AndroidLiveWallpaperService.java:369)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onVisibilityChanged (AndroidLiveWallpaperService.java:361)\r\n  at android.service.wallpaper.WallpaperService$Engine.reportVisibility (WallpaperService.java:942)\r\n  at android.service.wallpaper.WallpaperService$Engine.doVisibilityChanged (WallpaperService.java:913)\r\n  at android.service.wallpaper.WallpaperService$IWallpaperEngineWrapper.executeMessage (WallpaperService.java:1238)\r\n  at com.android.internal.os.HandlerCaller$MyHandler.handleMessage (HandlerCaller.java:37)\r\n  at android.os.Handler.dispatchMessage (Handler.java:102)\r\n  at android.os.Looper.loop (Looper.java:159)\r\n  at android.app.ActivityThread.main (ActivityThread.java:6146)\r\n  at java.lang.reflect.Method.invoke! (Native method)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:886)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:776)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/5042/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ArdiDev","id":5691092,"node_id":"MDQ6VXNlcjU2OTEwOTI=","avatar_url":"https://avatars.githubusercontent.com/u/5691092?v=4","gravatar_id":"","url":"https://api.github.com/users/ArdiDev","html_url":"https://github.com/ArdiDev","followers_url":"https://api.github.com/users/ArdiDev/followers","following_url":"https://api.github.com/users/ArdiDev/following{/other_user}","gists_url":"https://api.github.com/users/ArdiDev/gists{/gist_id}","starred_url":"https://api.github.com/users/ArdiDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArdiDev/subscriptions","organizations_url":"https://api.github.com/users/ArdiDev/orgs","repos_url":"https://api.github.com/users/ArdiDev/repos","events_url":"https://api.github.com/users/ArdiDev/events{/privacy}","received_events_url":"https://api.github.com/users/ArdiDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T19:36:54Z","updated_at":"2018-06-20T19:36:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5276","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/5276/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/5276/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/5276/events","html_url":"https://github.com/libgdx/libgdx/issues/5276","id":334220162,"node_id":"MDU6SXNzdWUzMzQyMjAxNjI=","number":5276,"title":"AndroidGraphicsLiveWallpaper ANR on resume ","user":{"login":"ArdiDev","id":5691092,"node_id":"MDQ6VXNlcjU2OTEwOTI=","avatar_url":"https://avatars.githubusercontent.com/u/5691092?v=4","gravatar_id":"","url":"https://api.github.com/users/ArdiDev","html_url":"https://github.com/ArdiDev","followers_url":"https://api.github.com/users/ArdiDev/followers","following_url":"https://api.github.com/users/ArdiDev/following{/other_user}","gists_url":"https://api.github.com/users/ArdiDev/gists{/gist_id}","starred_url":"https://api.github.com/users/ArdiDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArdiDev/subscriptions","organizations_url":"https://api.github.com/users/ArdiDev/orgs","repos_url":"https://api.github.com/users/ArdiDev/repos","events_url":"https://api.github.com/users/ArdiDev/events{/privacy}","received_events_url":"https://api.github.com/users/ArdiDev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-06-20T19:36:54Z","updated_at":"2025-03-31T12:57:39Z","closed_at":"2018-07-16T15:20:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":5373551,"node_id":"MDEwOlJlcG9zaXRvcnk1MzczNTUx","name":"libgdx","full_name":"libgdx/libgdx","private":false,"owner":{"login":"libgdx","id":509841,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwOTg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/509841?v=4","gravatar_id":"","url":"https://api.github.com/users/libgdx","html_url":"https://github.com/libgdx","followers_url":"https://api.github.com/users/libgdx/followers","following_url":"https://api.github.com/users/libgdx/following{/other_user}","gists_url":"https://api.github.com/users/libgdx/gists{/gist_id}","starred_url":"https://api.github.com/users/libgdx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libgdx/subscriptions","organizations_url":"https://api.github.com/users/libgdx/orgs","repos_url":"https://api.github.com/users/libgdx/repos","events_url":"https://api.github.com/users/libgdx/events{/privacy}","received_events_url":"https://api.github.com/users/libgdx/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libgdx/libgdx","description":"Desktop/Android/HTML5/iOS Java game development framework","fork":false,"url":"https://api.github.com/repos/libgdx/libgdx","forks_url":"https://api.github.com/repos/libgdx/libgdx/forks","keys_url":"https://api.github.com/repos/libgdx/libgdx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libgdx/libgdx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libgdx/libgdx/teams","hooks_url":"https://api.github.com/repos/libgdx/libgdx/hooks","issue_events_url":"https://api.github.com/repos/libgdx/libgdx/issues/events{/number}","events_url":"https://api.github.com/repos/libgdx/libgdx/events","assignees_url":"https://api.github.com/repos/libgdx/libgdx/assignees{/user}","branches_url":"https://api.github.com/repos/libgdx/libgdx/branches{/branch}","tags_url":"https://api.github.com/repos/libgdx/libgdx/tags","blobs_url":"https://api.github.com/repos/libgdx/libgdx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libgdx/libgdx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libgdx/libgdx/git/refs{/sha}","trees_url":"https://api.github.com/repos/libgdx/libgdx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libgdx/libgdx/statuses/{sha}","languages_url":"https://api.github.com/repos/libgdx/libgdx/languages","stargazers_url":"https://api.github.com/repos/libgdx/libgdx/stargazers","contributors_url":"https://api.github.com/repos/libgdx/libgdx/contributors","subscribers_url":"https://api.github.com/repos/libgdx/libgdx/subscribers","subscription_url":"https://api.github.com/repos/libgdx/libgdx/subscription","commits_url":"https://api.github.com/repos/libgdx/libgdx/commits{/sha}","git_commits_url":"https://api.github.com/repos/libgdx/libgdx/git/commits{/sha}","comments_url":"https://api.github.com/repos/libgdx/libgdx/comments{/number}","issue_comment_url":"https://api.github.com/repos/libgdx/libgdx/issues/comments{/number}","contents_url":"https://api.github.com/repos/libgdx/libgdx/contents/{+path}","compare_url":"https://api.github.com/repos/libgdx/libgdx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libgdx/libgdx/merges","archive_url":"https://api.github.com/repos/libgdx/libgdx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libgdx/libgdx/downloads","issues_url":"https://api.github.com/repos/libgdx/libgdx/issues{/number}","pulls_url":"https://api.github.com/repos/libgdx/libgdx/pulls{/number}","milestones_url":"https://api.github.com/repos/libgdx/libgdx/milestones{/number}","notifications_url":"https://api.github.com/repos/libgdx/libgdx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libgdx/libgdx/labels{/name}","releases_url":"https://api.github.com/repos/libgdx/libgdx/releases{/id}","deployments_url":"https://api.github.com/repos/libgdx/libgdx/deployments","created_at":"2012-08-10T19:34:38Z","updated_at":"2025-11-10T04:33:39Z","pushed_at":"2025-11-06T12:05:30Z","git_url":"git://github.com/libgdx/libgdx.git","ssh_url":"git@github.com:libgdx/libgdx.git","clone_url":"https://github.com/libgdx/libgdx.git","svn_url":"https://github.com/libgdx/libgdx","homepage":"http://www.libgdx.com/","size":1106561,"stargazers_count":24506,"watchers_count":24506,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6516,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":320,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["2d","3d","android","cross-platform","framework","game","game-development","game-engine","gamedev","html5","ios","java","libgdx","linux","macosx","windows"],"visibility":"public","forks":6516,"open_issues":320,"watchers":24506,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"\r\n#### Issue details\r\nHello,\r\nI want to show here an ANR that I'm getting from several times on my live wallpaper apps. It's a deadlock on the resume method of AndroidGraphicsLiveWallpaper class. It is impossible for me to reproduce and it happens randomly on my users.\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\nVersion: 1.9.8.   \r\n\r\n#### Stacktrace\r\n```java\r\n\r\n\"main\" tid=1 Waiting\r\n\"main\" prio=5 tid=1 Waiting\r\n  | group=\"main\" sCount=1 dsCount=0 obj=0x75796250 self=0xa6784400\r\n  | sysTid=4483 nice=0 cgrp=default sched=0/0 handle=0xa9428534\r\n  | state=S schedstat=( 30824104337 11300023843 31183 ) utm=2744 stm=338 core=3 HZ=100\r\n  | stack=0xbe3c1000-0xbe3c3000 stackSize=8MB\r\n  | held mutexes=\r\n  at java.lang.Object.wait! (Native method)\r\n- waiting on <0x0c8f2468> (a java.lang.Object)\r\n  at com.badlogic.gdx.backends.android.AndroidGraphicsLiveWallpaper.resume (AndroidGraphicsLiveWallpaper.java:139)\r\n- locked <0x0c8f2468> (a java.lang.Object)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaper.onResume (AndroidLiveWallpaper.java:159)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onResume (AndroidLiveWallpaperService.java:402)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.notifyVisibilityChanged (AndroidLiveWallpaperService.java:369)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onVisibilityChanged (AndroidLiveWallpaperService.java:361)\r\n  at android.service.wallpaper.WallpaperService$Engine.reportVisibility (WallpaperService.java:925)\r\n  at android.service.wallpaper.WallpaperService$Engine$3.onDisplayChanged (WallpaperService.java:1061)\r\n  at android.hardware.display.DisplayManagerGlobal$DisplayListenerDelegate.handleMessage (DisplayManagerGlobal.java:462)\r\n  at android.os.Handler.dispatchMessage (Handler.java:102)\r\n  at android.os.Looper.loop (Looper.java:154)\r\n  at android.app.ActivityThread.main (ActivityThread.java:6119)\r\n  at java.lang.reflect.Method.invoke! (Native method)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:886)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:776)\r\n```\r\n\r\n#### Please select the affected platforms\r\n- [x] Android\r\n\r\n\r\nIt looks like the same problem has been reported on issue #4267 and  #5042 but I see no solution implemented till now. If someone has found a workaround to this please let me know because it is really frustrating and I'm loosing visibility on my apps day after day thanks to this ANR (It is present on all my live wallpaper apps). Any help is appreciated, many thanks in advance.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/5276/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"ufoq","id":3118864,"node_id":"MDQ6VXNlcjMxMTg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3118864?v=4","gravatar_id":"","url":"https://api.github.com/users/ufoq","html_url":"https://github.com/ufoq","followers_url":"https://api.github.com/users/ufoq/followers","following_url":"https://api.github.com/users/ufoq/following{/other_user}","gists_url":"https://api.github.com/users/ufoq/gists{/gist_id}","starred_url":"https://api.github.com/users/ufoq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufoq/subscriptions","organizations_url":"https://api.github.com/users/ufoq/orgs","repos_url":"https://api.github.com/users/ufoq/repos","events_url":"https://api.github.com/users/ufoq/events{/privacy}","received_events_url":"https://api.github.com/users/ufoq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T17:30:49Z","updated_at":"2020-06-09T17:30:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6074","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/6074/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/6074/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/6074/events","html_url":"https://github.com/libgdx/libgdx/pull/6074","id":635631621,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMxOTYwNDI5","number":6074,"title":"Fix Android fast pause/resume bug","user":{"login":"ufoq","id":3118864,"node_id":"MDQ6VXNlcjMxMTg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3118864?v=4","gravatar_id":"","url":"https://api.github.com/users/ufoq","html_url":"https://github.com/ufoq","followers_url":"https://api.github.com/users/ufoq/followers","following_url":"https://api.github.com/users/ufoq/following{/other_user}","gists_url":"https://api.github.com/users/ufoq/gists{/gist_id}","starred_url":"https://api.github.com/users/ufoq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufoq/subscriptions","organizations_url":"https://api.github.com/users/ufoq/orgs","repos_url":"https://api.github.com/users/ufoq/repos","events_url":"https://api.github.com/users/ufoq/events{/privacy}","received_events_url":"https://api.github.com/users/ufoq/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-09T17:30:49Z","updated_at":"2020-06-11T05:45:01Z","closed_at":"2020-06-11T05:45:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":5373551,"node_id":"MDEwOlJlcG9zaXRvcnk1MzczNTUx","name":"libgdx","full_name":"libgdx/libgdx","private":false,"owner":{"login":"libgdx","id":509841,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUwOTg0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/509841?v=4","gravatar_id":"","url":"https://api.github.com/users/libgdx","html_url":"https://github.com/libgdx","followers_url":"https://api.github.com/users/libgdx/followers","following_url":"https://api.github.com/users/libgdx/following{/other_user}","gists_url":"https://api.github.com/users/libgdx/gists{/gist_id}","starred_url":"https://api.github.com/users/libgdx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/libgdx/subscriptions","organizations_url":"https://api.github.com/users/libgdx/orgs","repos_url":"https://api.github.com/users/libgdx/repos","events_url":"https://api.github.com/users/libgdx/events{/privacy}","received_events_url":"https://api.github.com/users/libgdx/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/libgdx/libgdx","description":"Desktop/Android/HTML5/iOS Java game development framework","fork":false,"url":"https://api.github.com/repos/libgdx/libgdx","forks_url":"https://api.github.com/repos/libgdx/libgdx/forks","keys_url":"https://api.github.com/repos/libgdx/libgdx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/libgdx/libgdx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/libgdx/libgdx/teams","hooks_url":"https://api.github.com/repos/libgdx/libgdx/hooks","issue_events_url":"https://api.github.com/repos/libgdx/libgdx/issues/events{/number}","events_url":"https://api.github.com/repos/libgdx/libgdx/events","assignees_url":"https://api.github.com/repos/libgdx/libgdx/assignees{/user}","branches_url":"https://api.github.com/repos/libgdx/libgdx/branches{/branch}","tags_url":"https://api.github.com/repos/libgdx/libgdx/tags","blobs_url":"https://api.github.com/repos/libgdx/libgdx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/libgdx/libgdx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/libgdx/libgdx/git/refs{/sha}","trees_url":"https://api.github.com/repos/libgdx/libgdx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/libgdx/libgdx/statuses/{sha}","languages_url":"https://api.github.com/repos/libgdx/libgdx/languages","stargazers_url":"https://api.github.com/repos/libgdx/libgdx/stargazers","contributors_url":"https://api.github.com/repos/libgdx/libgdx/contributors","subscribers_url":"https://api.github.com/repos/libgdx/libgdx/subscribers","subscription_url":"https://api.github.com/repos/libgdx/libgdx/subscription","commits_url":"https://api.github.com/repos/libgdx/libgdx/commits{/sha}","git_commits_url":"https://api.github.com/repos/libgdx/libgdx/git/commits{/sha}","comments_url":"https://api.github.com/repos/libgdx/libgdx/comments{/number}","issue_comment_url":"https://api.github.com/repos/libgdx/libgdx/issues/comments{/number}","contents_url":"https://api.github.com/repos/libgdx/libgdx/contents/{+path}","compare_url":"https://api.github.com/repos/libgdx/libgdx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/libgdx/libgdx/merges","archive_url":"https://api.github.com/repos/libgdx/libgdx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/libgdx/libgdx/downloads","issues_url":"https://api.github.com/repos/libgdx/libgdx/issues{/number}","pulls_url":"https://api.github.com/repos/libgdx/libgdx/pulls{/number}","milestones_url":"https://api.github.com/repos/libgdx/libgdx/milestones{/number}","notifications_url":"https://api.github.com/repos/libgdx/libgdx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/libgdx/libgdx/labels{/name}","releases_url":"https://api.github.com/repos/libgdx/libgdx/releases{/id}","deployments_url":"https://api.github.com/repos/libgdx/libgdx/deployments","created_at":"2012-08-10T19:34:38Z","updated_at":"2025-11-10T04:33:39Z","pushed_at":"2025-11-06T12:05:30Z","git_url":"git://github.com/libgdx/libgdx.git","ssh_url":"git@github.com:libgdx/libgdx.git","clone_url":"https://github.com/libgdx/libgdx.git","svn_url":"https://github.com/libgdx/libgdx","homepage":"http://www.libgdx.com/","size":1106561,"stargazers_count":24506,"watchers_count":24506,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":6516,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":320,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["2d","3d","android","cross-platform","framework","game","game-development","game-engine","gamedev","html5","ios","java","libgdx","linux","macosx","windows"],"visibility":"public","forks":6516,"open_issues":320,"watchers":24506,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/libgdx/libgdx/pulls/6074","html_url":"https://github.com/libgdx/libgdx/pull/6074","diff_url":"https://github.com/libgdx/libgdx/pull/6074.diff","patch_url":"https://github.com/libgdx/libgdx/pull/6074.patch","merged_at":"2020-06-11T05:45:01Z"},"body":"Bug is there for like 8 years...\r\nI can easily reproduce it by double clicking screen-lock button on Xiaomi mi4 and mi8.\r\n\r\nFor some reason when you instantly resume activity that hasn't fully paused then internally android stops trigerring `onDrawFrame` in GL thread what causes deadlock, cos `synch.wait()` needs `notify` from `onDrawFrame`.\r\nIt can be solved by executing what we need in GL Thread with `GLSurfaceView#queueEvent`. It doesn't have requirements like usual `onDrawFrame` calls from `GLSurfaceView` (f.e. frame cap, some synchronization etc).\r\n\r\nThere were multiple PRs that tried to fix this but were dirty hacks that use executors (that may cause pause to be ran from non-gl thread) or used another locking techniques on top of Java synchronized/monitors, that could reason in other deadlock.\r\nRelated PRs: #4267 #5696 and more","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6074/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/6074/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/808884588","html_url":"https://github.com/libgdx/libgdx/issues/4267#issuecomment-808884588","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/4267","id":808884588,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODg4NDU4OA==","user":{"login":"snowzoor","id":6862044,"node_id":"MDQ6VXNlcjY4NjIwNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6862044?v=4","gravatar_id":"","url":"https://api.github.com/users/snowzoor","html_url":"https://github.com/snowzoor","followers_url":"https://api.github.com/users/snowzoor/followers","following_url":"https://api.github.com/users/snowzoor/following{/other_user}","gists_url":"https://api.github.com/users/snowzoor/gists{/gist_id}","starred_url":"https://api.github.com/users/snowzoor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snowzoor/subscriptions","organizations_url":"https://api.github.com/users/snowzoor/orgs","repos_url":"https://api.github.com/users/snowzoor/repos","events_url":"https://api.github.com/users/snowzoor/events{/privacy}","received_events_url":"https://api.github.com/users/snowzoor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T11:37:09Z","updated_at":"2021-03-28T11:39:02Z","body":"I am still getting this error. I can't reproduce, but it happens to nearly all my users. I have noticed that it happens when I come either from locked screen or from another app.\r\n\r\n**Stacktrace**\r\n\r\nType\r\n\"main\" prio=5 tid=1 Waiting\r\n\r\n  at java.lang.Object.wait (Native method)\r\n  at java.lang.Object.wait (Object.java:442)\r\n  at java.lang.Object.wait (Object.java:568)\r\n  at com.badlogic.gdx.backends.android.AndroidGraphicsLiveWallpaper.resume (AndroidGraphicsLiveWallpaper.java:139)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaper.onResume (AndroidLiveWallpaper.java:159)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onResume (AndroidLiveWallpaperService.java:402)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.notifyVisibilityChanged (AndroidLiveWallpaperService.java:369)\r\n  at com.badlogic.gdx.backends.android.AndroidLiveWallpaperService$AndroidWallpaperEngine.onVisibilityChanged (AndroidLiveWallpaperService.java:361)\r\n  at android.service.wallpaper.WallpaperService$Engine.reportVisibility (WallpaperService.java:1514)\r\n  at android.service.wallpaper.WallpaperService$Engine.doVisibilityChanged (WallpaperService.java:1489)\r\n  at android.service.wallpaper.WallpaperService$IWallpaperEngineWrapper.executeMessage (WallpaperService.java:1870)\r\n  at com.android.internal.os.HandlerCaller$MyHandler.handleMessage (HandlerCaller.java:44)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loop (Looper.java:246)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8506)\r\n  at java.lang.reflect.Method.invoke (Native method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:602)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1130)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/808884588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"snowzoor","id":6862044,"node_id":"MDQ6VXNlcjY4NjIwNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6862044?v=4","gravatar_id":"","url":"https://api.github.com/users/snowzoor","html_url":"https://github.com/snowzoor","followers_url":"https://api.github.com/users/snowzoor/followers","following_url":"https://api.github.com/users/snowzoor/following{/other_user}","gists_url":"https://api.github.com/users/snowzoor/gists{/gist_id}","starred_url":"https://api.github.com/users/snowzoor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snowzoor/subscriptions","organizations_url":"https://api.github.com/users/snowzoor/orgs","repos_url":"https://api.github.com/users/snowzoor/repos","events_url":"https://api.github.com/users/snowzoor/events{/privacy}","received_events_url":"https://api.github.com/users/snowzoor/received_events","type":"User","user_view_type":"public","site_admin":false}}]