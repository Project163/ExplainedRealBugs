{"url":"https://api.github.com/repos/libgdx/libgdx/issues/4370","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/4370/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/4370/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/4370/events","html_url":"https://github.com/libgdx/libgdx/issues/4370","id":183414698,"node_id":"MDU6SXNzdWUxODM0MTQ2OTg=","number":4370,"title":"AndroidApplicationConfiguration.useWakeLock is misleading","user":{"login":"Betalord","id":22757675,"node_id":"MDQ6VXNlcjIyNzU3Njc1","avatar_url":"https://avatars.githubusercontent.com/u/22757675?v=4","gravatar_id":"","url":"https://api.github.com/users/Betalord","html_url":"https://github.com/Betalord","followers_url":"https://api.github.com/users/Betalord/followers","following_url":"https://api.github.com/users/Betalord/following{/other_user}","gists_url":"https://api.github.com/users/Betalord/gists{/gist_id}","starred_url":"https://api.github.com/users/Betalord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Betalord/subscriptions","organizations_url":"https://api.github.com/users/Betalord/orgs","repos_url":"https://api.github.com/users/Betalord/repos","events_url":"https://api.github.com/users/Betalord/events{/privacy}","received_events_url":"https://api.github.com/users/Betalord/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-10-17T13:22:49Z","updated_at":"2016-12-04T12:07:27Z","closed_at":"2016-12-04T12:07:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The use of \"useWakeLock\" seems misleading to me; let me explain:\n\nAndroid uses two different mechanisms to keep the screen on at all times (so that it doesn't dim out or turn off due to inactivity). One of them is via FLAG_KEEP_SCREEN_ON flag and is done this way:\n\ngetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\nThe other, more complex (which needs a special permission in the manifest) is called Wakelock and is achieved like this:\n\nmWakeLock = mPowerManager.newWakeLock(PowerManager.SCREEN_BRIGHT_WAKE_LOCK, \n                getClass().getName());\n\n(and needs to be released as well).\n\nNow, the \"useWakelock\" modifier that libgdx uses obviously seems to apply use of Wakelock mechanism. However, it turns out this is not the case. If you look at the AndroidApplication.java (libgdx/backends/gdx-backend-android/src/com/badlogic/gdx/backends/android/AndroidApplication.java), you will see it calls createWakeLock() method in it's init() method. Now let's see it's implementation:\n\n```\nprotected void createWakeLock (boolean use) {\n    if (use) {\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n    }\n}\n```\n\nAs can be seen from this source code, it uses the FLAG_KEEP_SCREEN_ON mechanism which has nothing to do with the Wakelock mechanism (which offers much more control, requires a permission in the application's manifest etc.).\n\nSo, can someone verify this? I think this is an issue and needs to be taken care of.\n","closed_by":{"login":"badlogic","id":514052,"node_id":"MDQ6VXNlcjUxNDA1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/514052?v=4","gravatar_id":"","url":"https://api.github.com/users/badlogic","html_url":"https://github.com/badlogic","followers_url":"https://api.github.com/users/badlogic/followers","following_url":"https://api.github.com/users/badlogic/following{/other_user}","gists_url":"https://api.github.com/users/badlogic/gists{/gist_id}","starred_url":"https://api.github.com/users/badlogic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badlogic/subscriptions","organizations_url":"https://api.github.com/users/badlogic/orgs","repos_url":"https://api.github.com/users/badlogic/repos","events_url":"https://api.github.com/users/badlogic/events{/privacy}","received_events_url":"https://api.github.com/users/badlogic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/4370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/4370/timeline","performed_via_github_app":null,"state_reason":"completed"}