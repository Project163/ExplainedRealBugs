[{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94623781","html_url":"https://github.com/libgdx/libgdx/issues/3035#issuecomment-94623781","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3035","id":94623781,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NjIzNzgx","user":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-21T03:04:53Z","updated_at":"2015-04-21T03:04:53Z","body":"GlyphLayout has just changed a bit. I don't see the problem with your example code using the latest in Git (it wraps correctly), but then it could be that the floats misbehave in another case. Any chance you can provide an updated example?\n\nLabel relies on the bounds from `computeSize` so it can align the entire text within the label. Note this alignment is separate from the text layout left/center/right alignment. Eg, paragraphs of text can wrap and be left aligned, then have all of that text centered horizontally within the Label.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94623781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94628365","html_url":"https://github.com/libgdx/libgdx/issues/3035#issuecomment-94628365","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3035","id":94628365,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NjI4MzY1","user":{"login":"RobRendell","id":1848870,"node_id":"MDQ6VXNlcjE4NDg4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1848870?v=4","gravatar_id":"","url":"https://api.github.com/users/RobRendell","html_url":"https://github.com/RobRendell","followers_url":"https://api.github.com/users/RobRendell/followers","following_url":"https://api.github.com/users/RobRendell/following{/other_user}","gists_url":"https://api.github.com/users/RobRendell/gists{/gist_id}","starred_url":"https://api.github.com/users/RobRendell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobRendell/subscriptions","organizations_url":"https://api.github.com/users/RobRendell/orgs","repos_url":"https://api.github.com/users/RobRendell/repos","events_url":"https://api.github.com/users/RobRendell/events{/privacy}","received_events_url":"https://api.github.com/users/RobRendell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-21T03:35:44Z","updated_at":"2015-04-21T03:35:44Z","body":"Ok, here's a version that searches for a string that exercises the bug.  With the version of 1.5.7-SNAPSHOT I currently have, it found it with \"test with AMWWWM AMWWWM issue\".\n\n```\npublic class FontWrapIssue extends ApplicationAdapter {\n\n    private static final float GAME_WIDTH = 230.4f;\n\n    private static final String CHARACTERS = \"WMGCwATFLkJyrfIil\";\n    private static final int NUM_CHARACTERS = CHARACTERS.length();\n\n    private Stage stage;\n\n    private LabelHack label;\n\n    private boolean searching = true;\n    private long combination = NUM_CHARACTERS * NUM_CHARACTERS * NUM_CHARACTERS * NUM_CHARACTERS * NUM_CHARACTERS;\n\n    public static void main (String[] args) throws Exception {\n        new LwjglApplication(new FontWrapIssue());\n    }\n\n    @Override\n    public void create () {\n        float gameScale = GAME_WIDTH / Gdx.graphics.getWidth();\n        int gameHeight = (int) (Gdx.graphics.getHeight() * gameScale + 0.5);\n        stage = new Stage(new FitViewport(GAME_WIDTH, gameHeight));\n        Gdx.input.setInputProcessor(stage);\n        resize(Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(\"data/arial.ttf\"));\n        FreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n        parameter.size = (int) (20 / gameScale + 0.5);\n        BitmapFont font = generator.generateFont(parameter);\n        font.getData().setScale(gameScale);\n        Label.LabelStyle labelStyle = new Label.LabelStyle();\n        labelStyle.font = font;\n        labelStyle.fontColor = Color.WHITE;\n        Table table = new Table();\n        table.setFillParent(true);\n        addLabel(table, \"\", labelStyle);\n        stage.addActor(table);\n        table.debug();\n    }\n\n    private void addLabel(Table table, String text, Label.LabelStyle labelStyle) {\n        label = new LabelHack(text, labelStyle);\n        label.setWrap(true);\n        table.add(label).fillX().expandX().row();\n\n    }\n\n    @Override\n    public void render () {\n        if (searching) {\n            combination++;\n            label.setText(String.format(\"test with %s %s issue\", generateCombination(combination), generateCombination(combination)));\n        }\n        Gdx.gl.glClearColor(0, 0, 0, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        stage.act(Gdx.graphics.getDeltaTime());\n        stage.draw();\n        if (searching) {\n            int cacheLines = 0;\n            for (GlyphLayout glyphLayout : label.getCache().getLayouts()) {\n                cacheLines += glyphLayout.runs.size;\n            }\n            int boundLines = (int) (label.getHeight() / label.getStyle().font.getLineHeight() + 0.5);\n            searching = (cacheLines == boundLines);\n        }\n    }\n\n    private String generateCombination(long combination) {\n        StringBuilder builder = new StringBuilder();\n        while (combination > 0) {\n            builder.append(CHARACTERS.charAt((int) (combination % NUM_CHARACTERS)));\n            combination /= NUM_CHARACTERS;\n        }\n        return builder.toString();\n    }\n\n    public static class LabelHack extends Label {\n\n        public LabelHack(CharSequence text, LabelStyle style) {\n            super(text, style);\n        }\n\n        public BitmapFontCache getCache() {\n            return getBitmapFontCache();\n        }\n    }\n}\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94628365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RobRendell","id":1848870,"node_id":"MDQ6VXNlcjE4NDg4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1848870?v=4","gravatar_id":"","url":"https://api.github.com/users/RobRendell","html_url":"https://github.com/RobRendell","followers_url":"https://api.github.com/users/RobRendell/followers","following_url":"https://api.github.com/users/RobRendell/following{/other_user}","gists_url":"https://api.github.com/users/RobRendell/gists{/gist_id}","starred_url":"https://api.github.com/users/RobRendell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobRendell/subscriptions","organizations_url":"https://api.github.com/users/RobRendell/orgs","repos_url":"https://api.github.com/users/RobRendell/repos","events_url":"https://api.github.com/users/RobRendell/events{/privacy}","received_events_url":"https://api.github.com/users/RobRendell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94753122","html_url":"https://github.com/libgdx/libgdx/issues/3035#issuecomment-94753122","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3035","id":94753122,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NzUzMTIy","user":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-21T11:25:44Z","updated_at":"2015-04-21T11:25:44Z","body":"Nice test, thanks!\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/94753122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":286097549,"node_id":"MDExOkNsb3NlZEV2ZW50Mjg2MDk3NTQ5","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/286097549","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c0db51bbdbb834ad6eed56964d14bd6b32daf250","commit_url":"https://api.github.com/repos/libgdx/libgdx/commits/c0db51bbdbb834ad6eed56964d14bd6b32daf250","created_at":"2015-04-21T11:25:45Z","state_reason":null,"performed_via_github_app":null}]