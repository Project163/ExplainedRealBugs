{"url":"https://api.github.com/repos/libgdx/libgdx/issues/1250","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/1250/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/1250/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/1250/events","html_url":"https://github.com/libgdx/libgdx/issues/1250","id":26345711,"node_id":"MDU6SXNzdWUyNjM0NTcxMQ==","number":1250,"title":"Broken viewport check in Stage.touchDown() & Stage.mouseMoved()","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-01-27T11:11:18Z","updated_at":"2014-01-27T12:02:18Z","closed_at":"2014-01-27T12:02:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"![viewport](https://f.cloud.github.com/assets/6476580/2007900/1a96b1c4-873f-11e3-9d6b-383ca11a054a.png)\n\nI have a Stage with the depicted viewport setup. Rendered via Gdx.gl.glViewport(..) providing the same boundaries.\n\nSince glViewport has its origin in the bottom left corner and the touch input's origin is in the top left corner, all touchDown(..) and mouseMoved(..) events return false, due to a broken viewport boundaries check.\n\nIn Stage.java - line 256:\n\n``` java\npublic boolean touchDown (int screenX, int screenY, int pointer, int button) {\n    if (screenX < viewportX || screenX >= viewportX + viewportWidth) return false;\n    if (screenY < viewportY || screenY >= viewportY + viewportHeight) return false;\n[..]\n```\n\nStage.java - line 357:\n\n``` java\npublic boolean mouseMoved (int screenX, int screenY) {\n    if (screenX < viewportX || screenX >= viewportX + viewportWidth) return false;\n    if (screenY < viewportY || screenY >= viewportY + viewportHeight) return false;\n[..]\n```\n\nThis is easily fixed with:\n\n``` java\npublic boolean touchDown (int screenX, int screenY, int pointer, int button) {\n    if (screenX < viewportX || screenX >= viewportX + viewportWidth) return false;\n    if (Gdx.graphics.getHeight() - screenY < viewportY || Gdx.graphics.getHeight() - screenY >= viewportY + viewportHeight) return false;\n```\n\nBest regards,\nHelge\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/1250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/1250/timeline","performed_via_github_app":null,"state_reason":"completed"}