{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6345","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/6345/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/6345/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/6345/events","html_url":"https://github.com/libgdx/libgdx/issues/6345","id":779158926,"node_id":"MDU6SXNzdWU3NzkxNTg5MjY=","number":6345,"title":"AndroidFiles initialization does disk I/O on UI thread (Android)","user":{"login":"cthomis","id":76450321,"node_id":"MDQ6VXNlcjc2NDUwMzIx","avatar_url":"https://avatars.githubusercontent.com/u/76450321?v=4","gravatar_id":"","url":"https://api.github.com/users/cthomis","html_url":"https://github.com/cthomis","followers_url":"https://api.github.com/users/cthomis/followers","following_url":"https://api.github.com/users/cthomis/following{/other_user}","gists_url":"https://api.github.com/users/cthomis/gists{/gist_id}","starred_url":"https://api.github.com/users/cthomis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cthomis/subscriptions","organizations_url":"https://api.github.com/users/cthomis/orgs","repos_url":"https://api.github.com/users/cthomis/repos","events_url":"https://api.github.com/users/cthomis/events{/privacy}","received_events_url":"https://api.github.com/users/cthomis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":59604218,"node_id":"MDU6TGFiZWw1OTYwNDIxOA==","url":"https://api.github.com/repos/libgdx/libgdx/labels/android","name":"android","color":"0052cc","default":false,"description":""},{"id":2414854790,"node_id":"MDU6TGFiZWwyNDE0ODU0Nzkw","url":"https://api.github.com/repos/libgdx/libgdx/labels/file%20handling","name":"file handling","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-01-05T15:13:30Z","updated_at":"2021-01-20T10:31:55Z","closed_at":"2021-01-19T09:54:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Issue details\r\nInitializing the AndroidFiles object (for example, from com.badlogic.gdx.backends.android.AndroidFragmentApplication#initializeForView) will cause a disk read on the UI thread. \r\nAs of 1.9.12, there is also a potential write to disk from the UI thread at com.badlogic.gdx.backends.android.AndroidFiles#<init> -- since https://github.com/libgdx/libgdx/pull/6126 causes the AndroidFiles external path to be eagerly initialized, this can cause the application to try and create those directories on the UI thread if they haven't yet been initialized. \r\n\r\n#### Reproduction steps/code\r\nEnable StrictMode on an Android application (https://developer.android.com/reference/android/os/StrictMode), disallow disk reads and writes, and observe errors on application startup when initializing AndroidFiles.\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\nDisk read seems to have been an issue for a while, disk write issue introduced as of 1.9.12.\r\n\r\n#### Please select the affected platforms\r\n- [x ] Android\r\n- [ ] iOS\r\n- [ ] HTML/GWT\r\n- [ ] Windows\r\n- [ ] Linux\r\n- [ ] MacOS\r\n","closed_by":{"login":"noblemaster","id":2363626,"node_id":"MDQ6VXNlcjIzNjM2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/2363626?v=4","gravatar_id":"","url":"https://api.github.com/users/noblemaster","html_url":"https://github.com/noblemaster","followers_url":"https://api.github.com/users/noblemaster/followers","following_url":"https://api.github.com/users/noblemaster/following{/other_user}","gists_url":"https://api.github.com/users/noblemaster/gists{/gist_id}","starred_url":"https://api.github.com/users/noblemaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblemaster/subscriptions","organizations_url":"https://api.github.com/users/noblemaster/orgs","repos_url":"https://api.github.com/users/noblemaster/repos","events_url":"https://api.github.com/users/noblemaster/events{/privacy}","received_events_url":"https://api.github.com/users/noblemaster/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/6345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/6345/timeline","performed_via_github_app":null,"state_reason":"completed"}