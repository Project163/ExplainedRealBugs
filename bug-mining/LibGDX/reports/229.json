{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2996","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/2996/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/2996/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/2996/events","html_url":"https://github.com/libgdx/libgdx/issues/2996","id":65556824,"node_id":"MDU6SXNzdWU2NTU1NjgyNA==","number":2996,"title":"Wrapped fonts can compute incorrect bounds","user":{"login":"RobRendell","id":1848870,"node_id":"MDQ6VXNlcjE4NDg4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1848870?v=4","gravatar_id":"","url":"https://api.github.com/users/RobRendell","html_url":"https://github.com/RobRendell","followers_url":"https://api.github.com/users/RobRendell/followers","following_url":"https://api.github.com/users/RobRendell/following{/other_user}","gists_url":"https://api.github.com/users/RobRendell/gists{/gist_id}","starred_url":"https://api.github.com/users/RobRendell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobRendell/subscriptions","organizations_url":"https://api.github.com/users/RobRendell/orgs","repos_url":"https://api.github.com/users/RobRendell/repos","events_url":"https://api.github.com/users/RobRendell/events{/privacy}","received_events_url":"https://api.github.com/users/RobRendell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-03-31T22:00:15Z","updated_at":"2015-04-01T07:53:13Z","closed_at":"2015-03-31T22:57:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Using 1.5.6-SNAPSHOT, it's possible to get text to wrap in such a way that the last row extends outside the computed bounds.  See screenshot and code below.\n\nThis issue seems to be quite sensitive to the specific text and font scale, so I'm guessing it's some sort of edge case in the text wrapping code.\n\n![fontsizeissue](https://cloud.githubusercontent.com/assets/1848870/6930212/ee85fc88-d84c-11e4-9ac6-c16d226f70e0.png)\n\n```\npublic class FontSizeIssue extends ApplicationAdapter {\n\n    private static final int GAME_HEIGHT = 120;\n\n    private Stage stage;\n    private float gameScale;\n\n    @Override\n    public void create () {\n        gameScale = (float) GAME_HEIGHT / Gdx.graphics.getHeight();\n        int gameWidth = (int) (Gdx.graphics.getWidth() * gameScale + 0.5);\n        stage = new Stage(new FitViewport(gameWidth, GAME_HEIGHT));\n        Gdx.input.setInputProcessor(stage);\n        resize(Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(\"tubular.ttf\"));\n        FreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n        parameter.size = (int) (5 / gameScale + 0.5);\n        BitmapFont font = generator.generateFont(parameter);\n        font.getData().setScale(gameScale);\n        Label.LabelStyle labelStyle = new Label.LabelStyle();\n        labelStyle.font = font;\n        labelStyle.fontColor = Color.WHITE;\n        String text = \"Lorem ipsum dolor sit amet, sea cu labore incorrupte persequeris, ne quodsi dolorum percipit pri. Ne tempor intellegam sed. Ne qui noluisse delectus. Mei ut officiis antiopam.\";\n        Table table = new Table();\n        table.setFillParent(true);\n        table.debug();\n        stage.addActor(table);\n        addLabel(table, text, labelStyle);\n        addLabel(table, text, labelStyle);\n        addLabel(table, text, labelStyle);\n        addLabel(table, text, labelStyle);\n        addLabel(table, text, labelStyle);\n        addLabel(table, text, labelStyle);\n    }\n\n    private void addLabel(Table table, String text, Label.LabelStyle labelStyle) {\n        Label label = new Label(text, labelStyle);\n        label.setWrap(true);\n        table.add(label).fillX().expandX().row();\n    }\n\n    @Override\n    public void render () {\n        Gdx.gl.glClearColor(0, 0, 0, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        stage.act(Gdx.graphics.getDeltaTime());\n        stage.draw();\n    }\n}\n```\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/2996/timeline","performed_via_github_app":null,"state_reason":"completed"}