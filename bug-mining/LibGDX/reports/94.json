{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2007","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/2007/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/2007/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/2007/events","html_url":"https://github.com/libgdx/libgdx/issues/2007","id":36229967,"node_id":"MDU6SXNzdWUzNjIyOTk2Nw==","number":2007,"title":"Mesh.create creates broken model","user":{"login":"alex55i","id":3694019,"node_id":"MDQ6VXNlcjM2OTQwMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3694019?v=4","gravatar_id":"","url":"https://api.github.com/users/alex55i","html_url":"https://github.com/alex55i","followers_url":"https://api.github.com/users/alex55i/followers","following_url":"https://api.github.com/users/alex55i/following{/other_user}","gists_url":"https://api.github.com/users/alex55i/gists{/gist_id}","starred_url":"https://api.github.com/users/alex55i/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex55i/subscriptions","organizations_url":"https://api.github.com/users/alex55i/orgs","repos_url":"https://api.github.com/users/alex55i/repos","events_url":"https://api.github.com/users/alex55i/events{/privacy}","received_events_url":"https://api.github.com/users/alex55i/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-06-21T19:05:36Z","updated_at":"2014-06-21T22:18:35Z","closed_at":"2014-06-21T22:18:35Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"If you call Mesh.create (boolean isStatic, final Mesh base, final Matrix4[] transformations), the created mesh is fine, but Mesh.create (boolean isStatic, final Mesh[] meshes, final Matrix4[] transformations) creates broken mesh.\nI have created a basic test reproducing the issue:\n\n```\nimport java.util.Arrays;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.Camera;\nimport com.badlogic.gdx.graphics.GL20;\nimport com.badlogic.gdx.graphics.Mesh;\nimport com.badlogic.gdx.graphics.PerspectiveCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.VertexAttributes.Usage;\nimport com.badlogic.gdx.graphics.g3d.Material;\nimport com.badlogic.gdx.graphics.g3d.ModelBatch;\nimport com.badlogic.gdx.graphics.g3d.Renderable;\nimport com.badlogic.gdx.graphics.g3d.attributes.TextureAttribute;\nimport com.badlogic.gdx.graphics.g3d.utils.MeshBuilder;\nimport com.badlogic.gdx.math.Matrix4;\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.math.Vector3;\n\npublic class BadlogicArmyClonesTest extends ApplicationAdapter {\n    Renderable renderable;\n    ModelBatch batch;\n    Camera cam;\n\n    @Override\n    public void create () {\n        final int n = 20;\n        batch = new ModelBatch();\n        cam = new PerspectiveCamera(60, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        cam.position.set(-4, 4, -4);\n        cam.lookAt(n / 2, -2, n / 2);\n        cam.update();\n\n        final MeshBuilder builder = new MeshBuilder();\n        builder.begin(Usage.Position | Usage.Normal | Usage.TextureCoordinates);\n        builder.part(\"part\", GL20.GL_TRIANGLES);\n        builder.sphere(1, 1, 1, 10, 10);\n        final Mesh base = builder.end();\n\n        final Matrix4[] transformations = new Matrix4[n * n];\n        for (int i = 0; i < n * n; i++) {\n            transformations[i] = new Matrix4().setToTranslation(i % n, 0, i / n);\n        }\n\n        // This creates broken mesh\n        Mesh[] meshes = new Mesh[n * n];\n        Arrays.fill(meshes, base);\n        final Mesh result = Mesh.create(true, meshes, transformations);\n\n        // This works\n        // final Mesh result = Mesh.create(true, base, transformations);\n\n        renderable = new Renderable();\n        renderable.mesh = result;\n        renderable.meshPartOffset = 0;\n        renderable.meshPartSize = result.getNumIndices();\n        renderable.primitiveType = GL20.GL_TRIANGLES;\n        renderable.material = new Material(TextureAttribute.createDiffuse(new Texture(\"data/badlogic.jpg\")));\n    }\n\n    @Override\n    public void render () {\n        Gdx.gl.glClearColor(0, 0, 0, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n        batch.begin(cam);\n        batch.render(renderable);\n        batch.end();\n    }\n\n}\n```\n","closed_by":{"login":"xoppa","id":2349087,"node_id":"MDQ6VXNlcjIzNDkwODc=","avatar_url":"https://avatars.githubusercontent.com/u/2349087?v=4","gravatar_id":"","url":"https://api.github.com/users/xoppa","html_url":"https://github.com/xoppa","followers_url":"https://api.github.com/users/xoppa/followers","following_url":"https://api.github.com/users/xoppa/following{/other_user}","gists_url":"https://api.github.com/users/xoppa/gists{/gist_id}","starred_url":"https://api.github.com/users/xoppa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xoppa/subscriptions","organizations_url":"https://api.github.com/users/xoppa/orgs","repos_url":"https://api.github.com/users/xoppa/repos","events_url":"https://api.github.com/users/xoppa/events{/privacy}","received_events_url":"https://api.github.com/users/xoppa/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/2007/timeline","performed_via_github_app":null,"state_reason":"completed"}