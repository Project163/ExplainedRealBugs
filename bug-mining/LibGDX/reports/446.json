{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5191","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/5191/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/5191/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/5191/events","html_url":"https://github.com/libgdx/libgdx/issues/5191","id":317718056,"node_id":"MDU6SXNzdWUzMTc3MTgwNTY=","number":5191,"title":"Pointer not always removed from 'touched' Array in AndroidInput","user":{"login":"issork","id":12477395,"node_id":"MDQ6VXNlcjEyNDc3Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/12477395?v=4","gravatar_id":"","url":"https://api.github.com/users/issork","html_url":"https://github.com/issork","followers_url":"https://api.github.com/users/issork/followers","following_url":"https://api.github.com/users/issork/following{/other_user}","gists_url":"https://api.github.com/users/issork/gists{/gist_id}","starred_url":"https://api.github.com/users/issork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/issork/subscriptions","organizations_url":"https://api.github.com/users/issork/orgs","repos_url":"https://api.github.com/users/issork/repos","events_url":"https://api.github.com/users/issork/events{/privacy}","received_events_url":"https://api.github.com/users/issork/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2018-04-25T17:13:36Z","updated_at":"2018-05-22T14:52:53Z","closed_at":"2018-05-22T14:52:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Issue details\r\nThis issue can be reproduced by executing the movements below, but I've also experienced this with far less complex movements. (but not without using multiple fingers yet)\r\n\r\nBasically, sometimes the pointers don't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput, resulting in Gdx.input.isTouched() always returning true and the pointer id affected being stuck in the Array. \r\n\r\nThis isn't an issue for projects that only detect a input once. I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset. This was an attempt for a workaround, I've been using the touchUp method before.\r\n\r\nPointers also get stuck on buttons, which will appear to be always hovered over.\r\n\r\n**Edit**: I have now noticed the following message in the console;\r\n\r\n> 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl: [ViewRootImpl] action cancel - 1, eccen:1.4761904\r\n\r\n#### Reproduction steps/code\r\nI've been able to reproduce this issue multiple times with the following movements;\r\n1. touch the upper part of the phones touch display with 3 fingertips\r\n2. slowly lower your hand, make sure your fingers keep contact with the screen until your palm touches the screen\r\n\r\nOR\r\n\r\n- slide across the screen with your fingers as if you are grabbing something that is on your screen (completely close your hand, so your fist rests on your screen)\r\n\r\n**Edit**: Code to reproduce this issue;\r\n\r\n\tpackage bug.report;\r\n\r\n\timport com.badlogic.gdx.ApplicationAdapter;\r\n\timport com.badlogic.gdx.Gdx;\r\n\timport com.badlogic.gdx.graphics.GL20;\r\n\timport com.badlogic.gdx.scenes.scene2d.Stage;\r\n\timport com.badlogic.gdx.scenes.scene2d.ui.Label;\r\n\timport com.badlogic.gdx.graphics.g2d.BitmapFont;\r\n\timport com.badlogic.gdx.graphics.Color;\r\n\timport com.badlogic.gdx.utils.viewport.ScreenViewport;\r\n\r\n\tpublic class BugReport extends ApplicationAdapter {\r\n\r\n\t\tprivate Stage stage;\r\n\t\tprivate Label label;\r\n\t\tprivate boolean lastRenderTouched = false;\r\n\t\r\n\t\t@Override\r\n\t\tpublic void create () {\r\n\t\t\tstage = new Stage(new ScreenViewport());\r\n\t\t\tlabel = new Label(\"Not touched!\", new Label.LabelStyle(new BitmapFont(), Color.WHITE));\r\n\t\t\tlabel.setColor(1, 0, 0, 1);\r\n\t\t\tlabel.setPosition(Gdx.graphics.getWidth()*0.5F, Gdx.graphics.getHeight()*0.5F);\r\n\t\t\tstage.addActor(label);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void render () {\r\n\t\t\tGdx.gl.glClearColor(0, 0, 0, 1);\r\n\t\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\t\tif(Gdx.input.isTouched() != lastRenderTouched) {\r\n\t\t\t\tif(!lastRenderTouched) {\r\n        \t        \t\tlabel.setColor(0, 1, 0,1);\r\n        \t        \t\tlabel.setText(\"Touched!\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n                \t\t\tlabel.setColor(1, 0, 0,1);\r\n\t\t        \t\tlabel.setText(\"Not touched!\");\r\n          \t\t\t}\r\n          \t\t}\r\n        \t\tlastRenderTouched = Gdx.input.isTouched();\r\n\t\t\tstage.draw();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void dispose() {\r\n\t\t\tstage.dispose();\r\n\t\t}\r\n\t}\r\n\r\nThe labels color will always be green once the issue triggers.\r\n\r\nI've experienced this on a Samsung Galaxy S7 Edge, the device itself does detect that there are no longer any fingers touching the display.\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\ngdxVersion = '1.9.8'\r\n\r\n#### Please select the affected platforms\r\n- [x] Android\r\n- [ ] iOS (robovm)\r\n- [ ] iOS (MOE)\r\n- [ ] HTML/GWT\r\n- [ ] Windows\r\n- [ ] Linux\r\n- [ ] MacOS\r\n\r\nI wasn't able to test any other platform than android, so others might be affected too. It is unlikely that non-mobile devices are affected, as I wasn't able to reproduce it using a single finger yet.\r\n","closed_by":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/5191/timeline","performed_via_github_app":null,"state_reason":"completed"}