{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3190","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/3190/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/3190/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/3190/events","html_url":"https://github.com/libgdx/libgdx/issues/3190","id":84607762,"node_id":"MDU6SXNzdWU4NDYwNzc2Mg==","number":3190,"title":"Font without dot character causes crash on Label Ellipsis","user":{"login":"rotter","id":918721,"node_id":"MDQ6VXNlcjkxODcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/918721?v=4","gravatar_id":"","url":"https://api.github.com/users/rotter","html_url":"https://github.com/rotter","followers_url":"https://api.github.com/users/rotter/followers","following_url":"https://api.github.com/users/rotter/following{/other_user}","gists_url":"https://api.github.com/users/rotter/gists{/gist_id}","starred_url":"https://api.github.com/users/rotter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rotter/subscriptions","organizations_url":"https://api.github.com/users/rotter/orgs","repos_url":"https://api.github.com/users/rotter/repos","events_url":"https://api.github.com/users/rotter/events{/privacy}","received_events_url":"https://api.github.com/users/rotter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-06-03T14:57:31Z","updated_at":"2015-06-25T18:01:52Z","closed_at":"2015-06-25T15:57:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Originally I had this crash when using a plain Dialog, but I have replicated the bug below without the Dialog overhead. To replicate with Dialog is a one liner: new Dialog(...).show(...), but you need to create a skin, stage, etc, and of course using a font without the dot character.\n\nSome info:\n\n1) This happens on LibGDX 1.6.1 (it didnt happen on 1.6.0)\n\n2) Adding the Label to the Table using the \"addActor\" is needed so the Label \"lingers\" on the Table and is not affected by the layout() method's resizing of the cells.\n\n3) Using a Group instead of a Table doesnt cause the crash because the Group doesnt have the \"pack\" mechanism (which is where the crash happens).\n\n4) As a suggestion I put on the other GlyphLayout issue, maybe one could set the string for the ellipsis on the Label, so he can avoid the crash without being forced to add the dot character on the font texture. BUT this is not sufficient IMHO, I think the mechanism should still check if the ellipsis characters exist, and if not simply truncate the Label without any ellipsis fluffiness.\n\nThis is the relevant code, but you need to create a font without the . (dot) character:\n\n``` java\nBitmapFont fontWithoutDotChar = new BitmapFont(Gdx.files.internal(\"font_dummy.fnt\"), Gdx.files.internal(\"font_dummy.png\"), false);\n\nLabel thisLabelWillCrash = new Label(\"Any 2 or more chars string will crash\", new LabelStyle(fontWithoutDotChar, Color.BLACK));\nthisLabelWillCrash.setEllipsis(true);\n\n// This is needed to crash, or it won't force the truncate\n// Note that on Dialog this line doesnt exist, but something there forces the Label width to 0 which has the same effect\nthisLabelWillCrash.setWidth(10f);\n\nTable containerToLabel = new Table();\n\n// This is needed to crash: \"addActor\" instead of \"add\", the same way it's done in the Dialog class\ncontainerToLabel.addActor(thisLabelWillCrash);\n\ncontainerToLabel.pack();\n```\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/3190/timeline","performed_via_github_app":null,"state_reason":"completed"}