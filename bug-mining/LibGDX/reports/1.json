{"url":"https://api.github.com/repos/libgdx/libgdx/issues/1186","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/1186/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/1186/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/1186/events","html_url":"https://github.com/libgdx/libgdx/issues/1186","id":25466744,"node_id":"MDU6SXNzdWUyNTQ2Njc0NA==","number":1186,"title":"SpriteBatch and ShapeRenderer conflicts","user":{"login":"JFixby","id":1580663,"node_id":"MDQ6VXNlcjE1ODA2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1580663?v=4","gravatar_id":"","url":"https://api.github.com/users/JFixby","html_url":"https://github.com/JFixby","followers_url":"https://api.github.com/users/JFixby/followers","following_url":"https://api.github.com/users/JFixby/following{/other_user}","gists_url":"https://api.github.com/users/JFixby/gists{/gist_id}","starred_url":"https://api.github.com/users/JFixby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JFixby/subscriptions","organizations_url":"https://api.github.com/users/JFixby/orgs","repos_url":"https://api.github.com/users/JFixby/repos","events_url":"https://api.github.com/users/JFixby/events{/privacy}","received_events_url":"https://api.github.com/users/JFixby/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2014-01-12T18:04:32Z","updated_at":"2014-10-13T17:07:28Z","closed_at":"2014-01-12T19:11:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi\n\nThere is this general issue occurring when render() method uses both SpriteBatch and ShapeRenderer. Render cycle combining these components demonstrates unpredictable behaviors like: randomly changing shape colors, shape transparency problems, skipping some sprites or shapes from render and so on, and so forth.\n\nFor now I use the following hack to avoid it.\n\n---\n\nSpriteBatch sprite_batch...\nShapeRenderer shape_renderer...\n\npublic void render() {\n\nGdx.gl.glClearColor(back.r, back.g, back.b, back.a);\nGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n   sprite_batch.begin();\n{ HERE I render my scene ignoring all shapes and drawing sprites only; }\n{here I draw one fake sprite}\n   sprite_batch.end();\n\n   Gdx.gl.glEnable(GL20.GL_BLEND);\n{ HERE I render my scene again but this time I'm ignoring all sprites and drawing shapes only; }\n   Gdx.gl.glDisable(GL20.GL_BLEND);\n\n}\n\n---\n\nThis ugly hack partially resolves issues mentioned above, still I have some problems with shapes. For example when the scene has no sprites to render, shape colors loose ability to be transparent (this one I handle by drawing the fake sprite). I understand these problems are result of the fact that I'm not deeply understanding the low level render mechanics of libGDX. Obviously I'm missing some logic in here. \n\nAnyway, about the issue: Looks like we have some irregular behavior when we use together SpriteBatch and ShapeRenderer. However there is no error and exception is thrown by the engine. I believe there should be some sort of an alert when SpriteBatch and ShapeRenderer are used in a wrong way and have conflict.\n\nThank you.\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/1186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/1186/timeline","performed_via_github_app":null,"state_reason":"completed"}