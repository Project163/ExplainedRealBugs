{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2786","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/2786/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/2786/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/2786/events","html_url":"https://github.com/libgdx/libgdx/issues/2786","id":55998955,"node_id":"MDU6SXNzdWU1NTk5ODk1NQ==","number":2786,"title":"PixmapPacker.updateTextureAtlas can return prematurely","user":{"login":"RobRendell","id":1848870,"node_id":"MDQ6VXNlcjE4NDg4NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1848870?v=4","gravatar_id":"","url":"https://api.github.com/users/RobRendell","html_url":"https://github.com/RobRendell","followers_url":"https://api.github.com/users/RobRendell/followers","following_url":"https://api.github.com/users/RobRendell/following{/other_user}","gists_url":"https://api.github.com/users/RobRendell/gists{/gist_id}","starred_url":"https://api.github.com/users/RobRendell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobRendell/subscriptions","organizations_url":"https://api.github.com/users/RobRendell/orgs","repos_url":"https://api.github.com/users/RobRendell/repos","events_url":"https://api.github.com/users/RobRendell/events{/privacy}","received_events_url":"https://api.github.com/users/RobRendell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-30T06:21:52Z","updated_at":"2015-02-02T16:24:57Z","closed_at":"2015-02-02T16:24:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"If many pixmaps are packed into a PixmapPacker and then updateTextureAtlas is called, the code can return prematurely.\n\n```\npublic synchronized void updateTextureAtlas (TextureAtlas atlas, TextureFilter minFilter, TextureFilter magFilter,\n    boolean useMipMaps) {\n    for (Page page : pages) {\n        if (page.texture == null) {\n            ...\n        } else {\n            if (page.addedRects.size > 0) {\n                ...\n                return;\n            }\n        }\n    }\n}\n```\n\nThe return statement at the end of the code snippet above (line 386 in the current version of the file) will cause the method to return if there exists a page with a texture and added rects, even if subsequent pages in the pages array have not yet been processed.\n\nThis can be reproduced by adding a single Pixmap to the packer, calling updateTextureAtlas() to pack that one image, adding another Pixmap that fits on the same page, and then adding enough additional Pixmaps (or one very large Pixmap) that causes the packer to overflow to a new page.  When updateTextureAtlas is called again, the first page completes its packing, but the second page does not.\n","closed_by":{"login":"badlogic","id":514052,"node_id":"MDQ6VXNlcjUxNDA1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/514052?v=4","gravatar_id":"","url":"https://api.github.com/users/badlogic","html_url":"https://github.com/badlogic","followers_url":"https://api.github.com/users/badlogic/followers","following_url":"https://api.github.com/users/badlogic/following{/other_user}","gists_url":"https://api.github.com/users/badlogic/gists{/gist_id}","starred_url":"https://api.github.com/users/badlogic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badlogic/subscriptions","organizations_url":"https://api.github.com/users/badlogic/orgs","repos_url":"https://api.github.com/users/badlogic/repos","events_url":"https://api.github.com/users/badlogic/events{/privacy}","received_events_url":"https://api.github.com/users/badlogic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/2786/timeline","performed_via_github_app":null,"state_reason":"completed"}