[{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/193491934","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-193491934","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":193491934,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzQ5MTkzNA==","user":{"login":"davebaol","id":2366334,"node_id":"MDQ6VXNlcjIzNjYzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2366334?v=4","gravatar_id":"","url":"https://api.github.com/users/davebaol","html_url":"https://github.com/davebaol","followers_url":"https://api.github.com/users/davebaol/followers","following_url":"https://api.github.com/users/davebaol/following{/other_user}","gists_url":"https://api.github.com/users/davebaol/gists{/gist_id}","starred_url":"https://api.github.com/users/davebaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davebaol/subscriptions","organizations_url":"https://api.github.com/users/davebaol/orgs","repos_url":"https://api.github.com/users/davebaol/repos","events_url":"https://api.github.com/users/davebaol/events{/privacy}","received_events_url":"https://api.github.com/users/davebaol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-07T22:51:53Z","updated_at":"2016-03-07T22:51:53Z","body":"Sounds very similar to issue #3843\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/193491934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davebaol","id":2366334,"node_id":"MDQ6VXNlcjIzNjYzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2366334?v=4","gravatar_id":"","url":"https://api.github.com/users/davebaol","html_url":"https://github.com/davebaol","followers_url":"https://api.github.com/users/davebaol/followers","following_url":"https://api.github.com/users/davebaol/following{/other_user}","gists_url":"https://api.github.com/users/davebaol/gists{/gist_id}","starred_url":"https://api.github.com/users/davebaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davebaol/subscriptions","organizations_url":"https://api.github.com/users/davebaol/orgs","repos_url":"https://api.github.com/users/davebaol/repos","events_url":"https://api.github.com/users/davebaol/events{/privacy}","received_events_url":"https://api.github.com/users/davebaol/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197934263","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-197934263","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":197934263,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzkzNDI2Mw==","user":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-17T15:32:41Z","updated_at":"2016-03-17T15:32:41Z","body":"Agreed, in my case I also saw differences in capacity/size between the original and the copy. In 1.7.2 some changes were made in parts of the code which affects the capacity/size (with next power of 2) but this has broken the original copy constructor code...\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197934263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197938557","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-197938557","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":197938557,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzkzODU1Nw==","user":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-17T15:42:44Z","updated_at":"2016-03-17T15:42:44Z","body":"We can resolve these issues by just making a complete clone of all settings, not a very elegant solution mind you.  Generating with a load of 1 resolves most of the issues, but there are still one or two variables that are out of sync.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197938557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197944732","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-197944732","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":197944732,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Nzk0NDczMg==","user":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-17T15:54:14Z","updated_at":"2016-03-17T15:54:14Z","body":"I don't know the code that well but the new constructor code has:\n\n``` java\ninitialCapacity = MathUtils.nextPowerOfTwo((int)Math.ceil(initialCapacity / loadFactor));\n```\n\nand will get the _next_ power of 2, so a copy with original size 64 gets size 128...\n\nWill changing\n\n``` java\npublic ObjectMap (ObjectMap<? extends K, ? extends V> map) {\n        this(map.capacity, map.loadFactor);\n```\n\ninto\n\n``` java\npublic ObjectMap (ObjectMap<? extends K, ? extends V> map) {\n        this(map.capacity-1, map.loadFactor);\n```\n\nDo the trick in this case? Maybe Nathan is available to check this?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197944732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197949669","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-197949669","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":197949669,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Nzk0OTY2OQ==","user":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-17T16:04:44Z","updated_at":"2016-03-17T16:04:44Z","body":"``` java\n    public ObjectMap (ObjectMap<? extends K, ? extends V> map) {\n        this(map.capacity, 1f);\n        stashSize = map.stashSize;\n        loadFactor = map.loadFactor;\n        threshold = map.threshold;\n        size = map.size;\n        System.arraycopy(map.keyTable, 0, keyTable, 0, map.keyTable.length);\n        System.arraycopy(map.valueTable, 0, valueTable, 0, map.valueTable.length);\n    }\n```\n\nWill give you an identical ObjectMap\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197949669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197957378","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-197957378","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":197957378,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Nzk1NzM3OA==","user":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-17T16:21:50Z","updated_at":"2016-03-17T16:21:50Z","body":"Nice, is there any unit-testing code with these classes?\nI guess not, otherwise this bug would have been caught earlier ;-)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/197957378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JohanStolk","id":3437419,"node_id":"MDQ6VXNlcjM0Mzc0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3437419?v=4","gravatar_id":"","url":"https://api.github.com/users/JohanStolk","html_url":"https://github.com/JohanStolk","followers_url":"https://api.github.com/users/JohanStolk/followers","following_url":"https://api.github.com/users/JohanStolk/following{/other_user}","gists_url":"https://api.github.com/users/JohanStolk/gists{/gist_id}","starred_url":"https://api.github.com/users/JohanStolk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohanStolk/subscriptions","organizations_url":"https://api.github.com/users/JohanStolk/orgs","repos_url":"https://api.github.com/users/JohanStolk/repos","events_url":"https://api.github.com/users/JohanStolk/events{/privacy}","received_events_url":"https://api.github.com/users/JohanStolk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/198934479","html_url":"https://github.com/libgdx/libgdx/issues/3908#issuecomment-198934479","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/3908","id":198934479,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODkzNDQ3OQ==","user":{"login":"FredGithub","id":1611174,"node_id":"MDQ6VXNlcjE2MTExNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1611174?v=4","gravatar_id":"","url":"https://api.github.com/users/FredGithub","html_url":"https://github.com/FredGithub","followers_url":"https://api.github.com/users/FredGithub/followers","following_url":"https://api.github.com/users/FredGithub/following{/other_user}","gists_url":"https://api.github.com/users/FredGithub/gists{/gist_id}","starred_url":"https://api.github.com/users/FredGithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FredGithub/subscriptions","organizations_url":"https://api.github.com/users/FredGithub/orgs","repos_url":"https://api.github.com/users/FredGithub/repos","events_url":"https://api.github.com/users/FredGithub/events{/privacy}","received_events_url":"https://api.github.com/users/FredGithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-20T14:07:15Z","updated_at":"2016-03-20T14:07:15Z","body":"I noticed that another way to solve the broken copy constructor is by adding this line, rather than setting the load factor to 1, but I have no clue if it's correct or not:\n\n```\nmask = map.mask;\n```\n\nThere are unit tests (CollectionTests.java) but they do not test the copy constructors.\n\nWill someone solve that issue? I would gladly do a pull request but I'm not sure I'm the most adequate person for that task.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/198934479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FredGithub","id":1611174,"node_id":"MDQ6VXNlcjE2MTExNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1611174?v=4","gravatar_id":"","url":"https://api.github.com/users/FredGithub","html_url":"https://github.com/FredGithub","followers_url":"https://api.github.com/users/FredGithub/followers","following_url":"https://api.github.com/users/FredGithub/following{/other_user}","gists_url":"https://api.github.com/users/FredGithub/gists{/gist_id}","starred_url":"https://api.github.com/users/FredGithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FredGithub/subscriptions","organizations_url":"https://api.github.com/users/FredGithub/orgs","repos_url":"https://api.github.com/users/FredGithub/repos","events_url":"https://api.github.com/users/FredGithub/events{/privacy}","received_events_url":"https://api.github.com/users/FredGithub/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":606114748,"node_id":"MDExOkNsb3NlZEV2ZW50NjA2MTE0NzQ4","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/606114748","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8c19647bcfa1f276e54d334c696fadd2df0af5d8","commit_url":"https://api.github.com/repos/libgdx/libgdx/commits/8c19647bcfa1f276e54d334c696fadd2df0af5d8","created_at":"2016-03-29T04:21:15Z","state_reason":null,"performed_via_github_app":null}]