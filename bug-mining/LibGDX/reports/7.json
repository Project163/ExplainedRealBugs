{"url":"https://api.github.com/repos/libgdx/libgdx/issues/810","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/810/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/810/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/810/events","html_url":"https://github.com/libgdx/libgdx/issues/810","id":20619709,"node_id":"MDU6SXNzdWUyMDYxOTcwOQ==","number":810,"title":"Json deserialization of Map<K,V> broken","user":{"login":"gerritdrost","id":5630275,"node_id":"MDQ6VXNlcjU2MzAyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/5630275?v=4","gravatar_id":"","url":"https://api.github.com/users/gerritdrost","html_url":"https://github.com/gerritdrost","followers_url":"https://api.github.com/users/gerritdrost/followers","following_url":"https://api.github.com/users/gerritdrost/following{/other_user}","gists_url":"https://api.github.com/users/gerritdrost/gists{/gist_id}","starred_url":"https://api.github.com/users/gerritdrost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerritdrost/subscriptions","organizations_url":"https://api.github.com/users/gerritdrost/orgs","repos_url":"https://api.github.com/users/gerritdrost/repos","events_url":"https://api.github.com/users/gerritdrost/events{/privacy}","received_events_url":"https://api.github.com/users/gerritdrost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2013-10-07T15:41:42Z","updated_at":"2013-10-08T11:46:10Z","closed_at":"2013-10-08T11:46:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In commit 841f50b233da7da97f67e24893093d3e10400b87 metadata code was changed in the method `public FieldMetadata (Field field)` in gdx/src/com/badlogic/gdx/utils/Json.java. \n\nIn that commit, a special case was added for the types ObjectMap and HashMap, but the interface Map which is implemented by HashMap was left out. As a result, when deserializing a field of type Map, the value data was expected to be of the key type, and it could no longer be deserialized. We hotfixed this by temporarily changing the type of the field to HashMap. As far as I can see, this should be a trivial fix by adding the type Map to the ternary operation that special cases the Map types:\n\n``` java\nint index = (ClassReflection.isAssignableFrom(ObjectMap.class, field.getType()) || ClassReflection.isAssignableFrom(HashMap.class, field.getType()) || ClassReflection.isAssignableFrom(Map.class, field.getType())) ? 1 : 0;\n```\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/810/timeline","performed_via_github_app":null,"state_reason":"completed"}