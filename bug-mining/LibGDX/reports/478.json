{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5612","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/5612/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/5612/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/5612/events","html_url":"https://github.com/libgdx/libgdx/issues/5612","id":434181674,"node_id":"MDU6SXNzdWU0MzQxODE2NzQ=","number":5612,"title":"gradle tests:gdx-tests-android:installDebug cause dex file error","user":{"login":"vporoxnenko","id":578489,"node_id":"MDQ6VXNlcjU3ODQ4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/578489?v=4","gravatar_id":"","url":"https://api.github.com/users/vporoxnenko","html_url":"https://github.com/vporoxnenko","followers_url":"https://api.github.com/users/vporoxnenko/followers","following_url":"https://api.github.com/users/vporoxnenko/following{/other_user}","gists_url":"https://api.github.com/users/vporoxnenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vporoxnenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vporoxnenko/subscriptions","organizations_url":"https://api.github.com/users/vporoxnenko/orgs","repos_url":"https://api.github.com/users/vporoxnenko/repos","events_url":"https://api.github.com/users/vporoxnenko/events{/privacy}","received_events_url":"https://api.github.com/users/vporoxnenko/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-17T09:27:31Z","updated_at":"2019-05-26T13:07:29Z","closed_at":"2019-05-26T13:07:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please ensure you have given all the following requested information in your report.\r\n\r\n#### Issue details\r\ngradle task tests:gdx-tests-android:installDebug execution failed with next message:\r\nD8: Cannot fit requested classes in a single dex file. Try supplying a main-dex list.\r\n# methods: 74953 > 65536\r\n\r\n#### Reproduction steps/code\r\ncheckout libgdx from master\r\ncall ./gradlew fetchNatives\r\ncall ./gradlew build\r\nor tests:gdx-tests-android:transformDexArchiveWithDexMergerForDebug\r\nor tests:gdx-tests-android:installDebug\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\n1.9.9-SNAPSHOT\r\n\r\n#### Stacktrace\r\n./gradlew build       \r\n\r\n> Configure project :tests:gdx-tests-android \r\nWARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation'.\r\nIt will be removed at the end of 2018\r\n\r\n> Configure project :tests:gdx-tests-ios-intel \r\nUsing already downloaded SDK: /home/valentin/.moe/moe-sdk-1.4.0\r\n\r\n> Task :tests:gdx-tests-android:transformDexArchiveWithDexMergerForDebug FAILED\r\nD8: Cannot fit requested classes in a single dex file. Try supplying a main-dex list.\r\n# methods: 74953 > 65536\r\njava.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/37, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/externalLibsDexMerger/debug/0, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/25.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/26.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/27.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/28.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/29.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/30.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/31.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/32.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/33.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/34.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/35.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/36.jar\r\nThe number of method references in a .dex file cannot exceed 64K.\r\nLearn how to resolve this issue at https://developer.android.com/tools/building/multidex.html\r\n        at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1431)\r\n        at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n        at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:326)\r\n        at java.util.concurrent.ForkJoinTask.doJoin(ForkJoinTask.java:391)\r\n        at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:719)\r\n        at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:397)\r\n        at com.android.build.gradle.internal.transforms.DexMergerTransform.transform(DexMergerTransform.java:221)\r\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)\r\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)\r\n        at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\r\n        at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n        at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:597)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/37, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/externalLibsDexMerger/debug/0, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/25.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/26.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/27.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/28.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/29.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/30.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/31.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/32.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/33.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/34.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/35.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/36.jar\r\nThe number of method references in a .dex file cannot exceed 64K.\r\nLearn how to resolve this issue at https://developer.android.com/tools/building/multidex.html\r\n        at com.android.builder.dexing.D8DexArchiveMerger.getExceptionToRethrow(D8DexArchiveMerger.java:124)\r\n        at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:109)\r\n        at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:101)\r\n        at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:36)\r\n        at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\r\n        ... 58 more\r\nCaused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete\r\n        at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:76)\r\n        at com.android.tools.r8.utils.ExceptionUtils.withD8CompilationHandler(ExceptionUtils.java:45)\r\n        at com.android.tools.r8.D8.run(D8.java:88)\r\n        at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:107)\r\n        ... 61 more\r\nCaused by: com.android.tools.r8.utils.AbortException\r\n        at com.android.tools.r8.utils.Reporter.failIfPendingErrors(Reporter.java:77)\r\n        at com.android.tools.r8.utils.Reporter.fatalError(Reporter.java:67)\r\n        at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:62)\r\n        ... 64 more\r\n        Suppressed: com.android.tools.r8.errors.DexOverflowException: Cannot fit requested classes in a single dex file (# methods: 74953 > 65536)\r\n                at com.android.tools.r8.dex.VirtualFile.throwIfFull(VirtualFile.java:182)\r\n                at com.android.tools.r8.dex.VirtualFile$MonoDexDistributor.run(VirtualFile.java:395)\r\n                at com.android.tools.r8.dex.ApplicationWriter.distribute(ApplicationWriter.java:144)\r\n                at com.android.tools.r8.dex.ApplicationWriter.write(ApplicationWriter.java:164)\r\n                at com.android.tools.r8.D8.run(D8.java:167)\r\n                at com.android.tools.r8.D8.lambda$run$1(D8.java:91)\r\n                at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:58)\r\n                ... 64 more\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':tests:gdx-tests-android:transformDexArchiveWithDexMergerForDebug'.\r\n> com.android.build.api.transform.TransformException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/37, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/externalLibsDexMerger/debug/0, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/25.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/26.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/27.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/28.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/29.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/30.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/31.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/32.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/33.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/34.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/35.jar, /home/valentin/Dev/Projects/gdx/libgdx/tests/gdx-tests-android/build/intermediates/transforms/dexBuilder/debug/36.jar\r\n  The number of method references in a .dex file cannot exceed 64K.\r\n  Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html\r\n\r\n#### Please select the affected platforms\r\n- [* ] Android\r\n","closed_by":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/5612/timeline","performed_via_github_app":null,"state_reason":"completed"}