{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3070","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/3070/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/3070/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/3070/events","html_url":"https://github.com/libgdx/libgdx/issues/3070","id":72011948,"node_id":"MDU6SXNzdWU3MjAxMTk0OA==","number":3070,"title":"x/y rounding causes text jumps in Label","user":{"login":"FyiurAmron","id":11016998,"node_id":"MDQ6VXNlcjExMDE2OTk4","avatar_url":"https://avatars.githubusercontent.com/u/11016998?v=4","gravatar_id":"","url":"https://api.github.com/users/FyiurAmron","html_url":"https://github.com/FyiurAmron","followers_url":"https://api.github.com/users/FyiurAmron/followers","following_url":"https://api.github.com/users/FyiurAmron/following{/other_user}","gists_url":"https://api.github.com/users/FyiurAmron/gists{/gist_id}","starred_url":"https://api.github.com/users/FyiurAmron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FyiurAmron/subscriptions","organizations_url":"https://api.github.com/users/FyiurAmron/orgs","repos_url":"https://api.github.com/users/FyiurAmron/repos","events_url":"https://api.github.com/users/FyiurAmron/events{/privacy}","received_events_url":"https://api.github.com/users/FyiurAmron/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-04-29T22:58:43Z","updated_at":"2015-04-30T01:14:38Z","closed_at":"2015-04-30T01:12:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/Label.java#L181\nhttps://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/Label.java#L195\n\nBoth `width`, `height`, `textWidth` & `textHeight` are float values. With e.g. https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/Label.java#L179 , this causes desired behaviour - the actual positioning of the text is linearly dependent on those values. However, when L181 is triggered, the average is clamped to int, resulting in accuracy loss & discrete, nonlinear jump - extremely visible when the positioning is done in e.g. (0,0)-(1,1) coordinate system.\n\nThe simplest way to reproduce it is to tween the font scale of label from e.g. 0.001 to 0.1 in such coordinate system - it will trigger a \"jump\" in e.g. Y direction each time when a treshold value has been reached.\n\nProposed solution is to drop the `(int)` casting in both of those lines or to provide an explicit way to trigger that behaviour, i.e. no truncation on the floats. Dropping the casts fixes the issue without any apparent side-effects.\n\nNote: I am aware of the `BitmapFont#setUseIntegerPositions( boolean integer )` etc. If the truncation is provided here for the same or similar reason (doubful, since e.g. L179 does no such rounding), it still should be possible to disable the rounding in a similar way here.\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/3070/timeline","performed_via_github_app":null,"state_reason":"completed"}