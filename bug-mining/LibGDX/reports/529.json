{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2524","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/2524/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/2524/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/2524/events","html_url":"https://github.com/libgdx/libgdx/issues/2524","id":47281962,"node_id":"MDU6SXNzdWU0NzI4MTk2Mg==","number":2524,"title":"LwjglInput numeric keyboard keycode mismatches","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":11336982,"node_id":"MDU6TGFiZWwxMTMzNjk4Mg==","url":"https://api.github.com/repos/libgdx/libgdx/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":119244972,"node_id":"MDU6TGFiZWwxMTkyNDQ5NzI=","url":"https://api.github.com/repos/libgdx/libgdx/labels/desktop","name":"desktop","color":"0052cc","default":false,"description":""},{"id":2307681316,"node_id":"MDU6TGFiZWwyMzA3NjgxMzE2","url":"https://api.github.com/repos/libgdx/libgdx/labels/input","name":"input","color":"fbca04","default":false,"description":"Concerning Gdx.input"}],"state":"closed","locked":false,"assignee":{"login":"MrStahlfelge","id":26038055,"node_id":"MDQ6VXNlcjI2MDM4MDU1","avatar_url":"https://avatars.githubusercontent.com/u/26038055?v=4","gravatar_id":"","url":"https://api.github.com/users/MrStahlfelge","html_url":"https://github.com/MrStahlfelge","followers_url":"https://api.github.com/users/MrStahlfelge/followers","following_url":"https://api.github.com/users/MrStahlfelge/following{/other_user}","gists_url":"https://api.github.com/users/MrStahlfelge/gists{/gist_id}","starred_url":"https://api.github.com/users/MrStahlfelge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrStahlfelge/subscriptions","organizations_url":"https://api.github.com/users/MrStahlfelge/orgs","repos_url":"https://api.github.com/users/MrStahlfelge/repos","events_url":"https://api.github.com/users/MrStahlfelge/events{/privacy}","received_events_url":"https://api.github.com/users/MrStahlfelge/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MrStahlfelge","id":26038055,"node_id":"MDQ6VXNlcjI2MDM4MDU1","avatar_url":"https://avatars.githubusercontent.com/u/26038055?v=4","gravatar_id":"","url":"https://api.github.com/users/MrStahlfelge","html_url":"https://github.com/MrStahlfelge","followers_url":"https://api.github.com/users/MrStahlfelge/followers","following_url":"https://api.github.com/users/MrStahlfelge/following{/other_user}","gists_url":"https://api.github.com/users/MrStahlfelge/gists{/gist_id}","starred_url":"https://api.github.com/users/MrStahlfelge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrStahlfelge/subscriptions","organizations_url":"https://api.github.com/users/MrStahlfelge/orgs","repos_url":"https://api.github.com/users/MrStahlfelge/repos","events_url":"https://api.github.com/users/MrStahlfelge/events{/privacy}","received_events_url":"https://api.github.com/users/MrStahlfelge/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":17,"created_at":"2014-10-30T15:12:46Z","updated_at":"2020-12-04T12:22:23Z","closed_at":"2020-12-04T12:22:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Current implementation has one serious flaw: while it allows to easily recognize numpad 0-9, and + \\* keys, as well as NumLock (named Num in Keys class for some reason), it makes it completely impossible to distinguish numpad Enter, slash, minus and period from regular one - and this distinction is quite important in many games. It wouldn't be a problem for KeyTyped, but it certainly is bad for KeyDown, as it breaks the \"one key, one keycode\" principle - I know it's not the case in 100%, but at least POLA requires to try to stick to it, and it _does_ work for every other key on my keyboard, with exception of those unlucky two.\n\nLWJGL offers this possibility natively, and since desktop is IMO actually the only platform that should get this correction, I reckon it shouldn't break any compatibility whatsoever. The outline of my proposal is as follows:\n\n_com.badlogic.gdx.Input.java_, _Keys_ class\n\n``` java\n        public static final int NUMPAD_9 = 153;\n```\n\nchanged to \n\n``` java\n        public static final int NUMPAD_9 = 153;\n\n        public static final int NUMPAD_DIVIDE = 154;\n        public static final int NUMPAD_MULTIPLY = 155;\n        public static final int NUMPAD_SUBTRACT= 156;\n        public static final int NUMPAD_ADD = 157;\n        public static final int NUMPAD_DOT = 158;\n        public static final int NUMPAD_COMMA= 159;\n        public static final int NUMPAD_ENTER = 160;\n\n        public static final int NUMLOCK = NUM; // to keep the backward compatibility but offer a more \"regular\" name, as per http://en.wikipedia.org/wiki/Num_lock\n```\n\nand to _com.badlogic.gdx.backends.lwjgl.LwjglInput.java_\nin _getGdxKeyCode()_\n\n``` java\ncase Keyboard.KEY_NUMLOCK:\nreturn Input.Keys.NUMLOCK;\ncase Keyboard.KEY_DECIMAL:\nreturn Input.Keys.NUMPAD_DOT;\ncase Keyboard.KEY_DIVIDE:\nreturn Input.Keys.SLASH;\ncase Keyboard.KEY_LMETA:\nreturn Input.Keys.SYM;\ncase Keyboard.KEY_RMETA:\nreturn Input.Keys.SYM;\ncase Keyboard.KEY_NUMPADEQUALS:\nreturn Input.Keys.EQUALS;\ncase Keyboard.KEY_AT:\nreturn Input.Keys.AT;\ncase Keyboard.KEY_EQUALS:\nreturn Input.Keys.EQUALS;\ncase Keyboard.KEY_NUMPADCOMMA:\nreturn Input.Keys.COMMA;\ncase Keyboard.KEY_NUMPADENTER:\nreturn Input.Keys.ENTER;\n```\n\nto\n\n``` java\ncase Keyboard.KEY_NUMLOCK:\nreturn Input.Keys.NUMLOCK;\ncase Keyboard.KEY_DECIMAL:\nreturn Input.Keys.NUMPAD_DOT;\ncase Keyboard.KEY_DIVIDE:\nreturn Input.Keys.SLASH;\ncase Keyboard.KEY_LMETA:\nreturn Input.Keys.SYM;\ncase Keyboard.KEY_RMETA:\nreturn Input.Keys.SYM;\ncase Keyboard.KEY_NUMPADEQUALS:\nreturn Input.Keys.EQUALS;\ncase Keyboard.KEY_AT:\nreturn Input.Keys.AT;\ncase Keyboard.KEY_EQUALS:\nreturn Input.Keys.EQUALS;\ncase Keyboard.KEY_NUMPADCOMMA:\nreturn Input.Keys.NUMPAD_COMMA;\ncase Keyboard.KEY_NUMPADENTER:\nreturn Input.Keys.NUMPAD_ENTER;\n```\n\nand (in _getLwjglKeyCode()_)\n\n``` java\ncase Input.Keys.NUMPAD_9:\nreturn Keyboard.KEY_NUMPAD9;\n```\n\nto\n\n``` java\ncase Input.Keys.NUMPAD_9:\nreturn Keyboard.KEY_NUMPAD9;\ncase Input.Keys.NUMPAD_ENTER:\nreturn Keyboard.KEY_NUMPADENTER;\ncase Input.Keys.NUMPAD_DOT:\nreturn Keyboard.KEY_DECIMAL;\ncase Input.Keys.NUMPAD_COMMA:\nreturn Keyboard.KEY_NUMPADCOMMA;\n```\n\nand so on for other numpad keys (/ and, possibly, + - *)\n\nPS. Is changing current case-based key matching to map-based one sensible? AFAIK Java does that internally for big switch/case blocks in newest versions, but counting on that for Java 6 is a bit far-fetched IMO (and I don't know if Delvik is doing that at all); I use LwjglInput changed to map-based keycode translation myself, so if you consider this change sensible I'll gladly contribute the code. It shortens the keycode translation code in half, BTW.\n","closed_by":{"login":"MrStahlfelge","id":26038055,"node_id":"MDQ6VXNlcjI2MDM4MDU1","avatar_url":"https://avatars.githubusercontent.com/u/26038055?v=4","gravatar_id":"","url":"https://api.github.com/users/MrStahlfelge","html_url":"https://github.com/MrStahlfelge","followers_url":"https://api.github.com/users/MrStahlfelge/followers","following_url":"https://api.github.com/users/MrStahlfelge/following{/other_user}","gists_url":"https://api.github.com/users/MrStahlfelge/gists{/gist_id}","starred_url":"https://api.github.com/users/MrStahlfelge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrStahlfelge/subscriptions","organizations_url":"https://api.github.com/users/MrStahlfelge/orgs","repos_url":"https://api.github.com/users/MrStahlfelge/repos","events_url":"https://api.github.com/users/MrStahlfelge/events{/privacy}","received_events_url":"https://api.github.com/users/MrStahlfelge/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/2524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/2524/timeline","performed_via_github_app":null,"state_reason":"completed"}