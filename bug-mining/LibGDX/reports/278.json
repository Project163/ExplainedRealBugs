{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3284","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/3284/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/3284/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/3284/events","html_url":"https://github.com/libgdx/libgdx/issues/3284","id":95298247,"node_id":"MDU6SXNzdWU5NTI5ODI0Nw==","number":3284,"title":"TextureMapObject loaded with incorrect y value?","user":{"login":"p-brz","id":1710573,"node_id":"MDQ6VXNlcjE3MTA1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1710573?v=4","gravatar_id":"","url":"https://api.github.com/users/p-brz","html_url":"https://github.com/p-brz","followers_url":"https://api.github.com/users/p-brz/followers","following_url":"https://api.github.com/users/p-brz/following{/other_user}","gists_url":"https://api.github.com/users/p-brz/gists{/gist_id}","starred_url":"https://api.github.com/users/p-brz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/p-brz/subscriptions","organizations_url":"https://api.github.com/users/p-brz/orgs","repos_url":"https://api.github.com/users/p-brz/repos","events_url":"https://api.github.com/users/p-brz/events{/privacy}","received_events_url":"https://api.github.com/users/p-brz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-07-15T21:49:44Z","updated_at":"2015-07-19T21:34:02Z","closed_at":"2015-07-19T21:25:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am have some problems to position correctly an TextureMapObject loaded from an tiled map.\n\nThe objects are loaded with an negative offset on y axis (equals to the size of the tile).\nThat is, the object is positionated below the expected position (viewed on tiled editor).\n\nIt seems that the problem is due to the fact that the x,y positions returned from tiled corresponds\nto the bottom left point of the image, instead of the top-left point (like an rectangle object).\nThis can be checked on tiled, positioning an rectangle object and an image object on same position.\nThe rectangle should be drawed below the image.\n\nThe fix seems to be simple. Changing the line correspondent to the 243 line on BaseTmxMapLoader (on method loadObject).\nChanging this:\n\n```\n     object.getProperties().put(\"y\", (flipY ? y - height : y) * scaleY);\n```\n\nto this:\n\n```\n      object.getProperties().put(\"y\", y * scaleY);\n```\n\n I had tested quickly the change by extending the TmxMapLoader and copying the loadObject method.\nBut i have not tested this with an not flipped map.\n\nTo know, i am using the 0.12.3 version of tiled and i am rendering these objects with the following code (i had extended the OrthogonalTiledMapRenderer):\n\n```\n   @Override\npublic void renderObject(MapObject object) {\n    if(object instanceof TextureMapObject){\n        TextureMapObject textObj = (TextureMapObject)object;\n        TextureRegion texRegion = textObj.getTextureRegion();\n\n        getBatch().draw(texRegion\n                        , textObj.getX() \n                        , textObj.getY() \n                        , textObj.getOriginX() \n                        , textObj.getOriginY()\n                        , texRegion.getRegionWidth()\n                        , texRegion.getRegionHeight()\n                        , textObj.getScaleX() \n                        , textObj.getScaleY()\n                        , textObj.getRotation()\n                        );\n    }\n}\n```\n\nI hope have been clear. If you want, i can make a pull request with those little changes.\n\nThanks! \n","closed_by":{"login":"MobiDevelop","id":1095464,"node_id":"MDQ6VXNlcjEwOTU0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1095464?v=4","gravatar_id":"","url":"https://api.github.com/users/MobiDevelop","html_url":"https://github.com/MobiDevelop","followers_url":"https://api.github.com/users/MobiDevelop/followers","following_url":"https://api.github.com/users/MobiDevelop/following{/other_user}","gists_url":"https://api.github.com/users/MobiDevelop/gists{/gist_id}","starred_url":"https://api.github.com/users/MobiDevelop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MobiDevelop/subscriptions","organizations_url":"https://api.github.com/users/MobiDevelop/orgs","repos_url":"https://api.github.com/users/MobiDevelop/repos","events_url":"https://api.github.com/users/MobiDevelop/events{/privacy}","received_events_url":"https://api.github.com/users/MobiDevelop/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/3284/timeline","performed_via_github_app":null,"state_reason":"completed"}