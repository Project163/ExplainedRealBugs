{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3324","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/3324/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/3324/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/3324/events","html_url":"https://github.com/libgdx/libgdx/issues/3324","id":99252487,"node_id":"MDU6SXNzdWU5OTI1MjQ4Nw==","number":3324,"title":"FrameBuffer may not always dispose texture","user":{"login":"mgsx-dev","id":8074238,"node_id":"MDQ6VXNlcjgwNzQyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/8074238?v=4","gravatar_id":"","url":"https://api.github.com/users/mgsx-dev","html_url":"https://github.com/mgsx-dev","followers_url":"https://api.github.com/users/mgsx-dev/followers","following_url":"https://api.github.com/users/mgsx-dev/following{/other_user}","gists_url":"https://api.github.com/users/mgsx-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/mgsx-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgsx-dev/subscriptions","organizations_url":"https://api.github.com/users/mgsx-dev/orgs","repos_url":"https://api.github.com/users/mgsx-dev/repos","events_url":"https://api.github.com/users/mgsx-dev/events{/privacy}","received_events_url":"https://api.github.com/users/mgsx-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-08-05T17:08:00Z","updated_at":"2015-08-12T04:20:54Z","closed_at":"2015-08-05T18:01:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\n\nHas discussed [here](http://stackoverflow.com/questions/24003582/libgdx-drawing-to-a-framebuffer-does-not-work), it is not possible to dispose framebuffer and use the texture later since dispose method dispose the texture as well.\nIt's not possible to change the colorTexture neither which is a big limitation for some use-cases : \n- use the same FBO to render multiple textures.\n- texture swap for multipass shader algorithm.\n\nFBO and texture attached to it may not have the same lifecycle.\nFor now my \"ugly\" workaround is to extends FrameBuffer in that way : \n\n``` java\npublic class RenderToTexture extends FrameBuffer\n{\n  ...\n    public Texture swapColorTexture()\n    {\n        Texture result = colorTexture;\n        setupTexture();     \n\n        bind();\n        Gdx.gl20.glFramebufferTexture2D(GL20.GL_FRAMEBUFFER, GL20.GL_COLOR_ATTACHMENT0, GL20.GL_TEXTURE_2D,\n                colorTexture.getTextureObjectHandle(), 0);\n        unbind();\n\n        return result;\n    }\n\n}\n```\n\nBut it's not a perfect solution for many reasons : \n- This generate one texture more which is never used (just used to dispose it).\n- FrameBufferCubeMap needs to be extended in the same way.\n- this not cover all the use cases.\n\nI could make a pull request with modifications on GLFrameBuffer class but i want to discuss about the solution before.\n\nIMO, the color buffer may have to be controlled by user code.\nThe idea would be : \n- default behavior still unchanged, a color texture is always created, attached and disposed.\n- a new method to create and attach a new texture.\n- a new method to attach a texture created before.\n- a new method to detach the current texture (to not be automatically disposed when FBO is disposed).\n- when the \"manual mode\" is used, user code is responsible to dispose detached textures.\n\nWhat do you think ?\n","closed_by":{"login":"xoppa","id":2349087,"node_id":"MDQ6VXNlcjIzNDkwODc=","avatar_url":"https://avatars.githubusercontent.com/u/2349087?v=4","gravatar_id":"","url":"https://api.github.com/users/xoppa","html_url":"https://github.com/xoppa","followers_url":"https://api.github.com/users/xoppa/followers","following_url":"https://api.github.com/users/xoppa/following{/other_user}","gists_url":"https://api.github.com/users/xoppa/gists{/gist_id}","starred_url":"https://api.github.com/users/xoppa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xoppa/subscriptions","organizations_url":"https://api.github.com/users/xoppa/orgs","repos_url":"https://api.github.com/users/xoppa/repos","events_url":"https://api.github.com/users/xoppa/events{/privacy}","received_events_url":"https://api.github.com/users/xoppa/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/3324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/3324/timeline","performed_via_github_app":null,"state_reason":"completed"}