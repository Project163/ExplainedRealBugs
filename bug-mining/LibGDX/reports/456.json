{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5316","repository_url":"https://api.github.com/repos/libgdx/libgdx","labels_url":"https://api.github.com/repos/libgdx/libgdx/issues/5316/labels{/name}","comments_url":"https://api.github.com/repos/libgdx/libgdx/issues/5316/comments","events_url":"https://api.github.com/repos/libgdx/libgdx/issues/5316/events","html_url":"https://github.com/libgdx/libgdx/issues/5316","id":343075612,"node_id":"MDU6SXNzdWUzNDMwNzU2MTI=","number":5316,"title":"LWJGL2 OpenALMusic - ArrayIndexOutOfBoundsException on update()","user":{"login":"someguy233","id":2951900,"node_id":"MDQ6VXNlcjI5NTE5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2951900?v=4","gravatar_id":"","url":"https://api.github.com/users/someguy233","html_url":"https://github.com/someguy233","followers_url":"https://api.github.com/users/someguy233/followers","following_url":"https://api.github.com/users/someguy233/following{/other_user}","gists_url":"https://api.github.com/users/someguy233/gists{/gist_id}","starred_url":"https://api.github.com/users/someguy233/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/someguy233/subscriptions","organizations_url":"https://api.github.com/users/someguy233/orgs","repos_url":"https://api.github.com/users/someguy233/repos","events_url":"https://api.github.com/users/someguy233/events{/privacy}","received_events_url":"https://api.github.com/users/someguy233/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-07-20T11:39:19Z","updated_at":"2018-07-20T17:42:48Z","closed_at":"2018-07-20T17:42:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Issue details\r\nMy game has a media player where you can seek randomly on an audio file. From player crash reports and feedback, it seems this happens if you repeatedly seek to near the end of the file.\r\n\r\n#### Reproduction steps/code\r\nJust the render() of an empty ApplicationListener:\r\n```java\r\n            Music music = null;\r\n\r\n            @Override\r\n            public void render() {\r\n                int frameNumber = (int)Gdx.graphics.getFrameId();\r\n                Gdx.app.log(\"CRASH\", \"Frame \" + frameNumber);\r\n                switch (frameNumber) {\r\n                    case 0:\r\n                        // Frame 1\r\n                        music = Gdx.audio.newMusic(Gdx.files.external(\"any_audio_file.ogg\"));\r\n                        music.play();\r\n                        break;\r\n\r\n                    case 1:\r\n                        // Frame 2\r\n                        music.setPosition(26.300f);     // must be within at least 200ms from the end\r\n                        break;\r\n\r\n                    case 2:\r\n                        // Frame 3\r\n                        music.setPosition(26.300f);     // must be within at least 200ms from the end\r\n                        break;\r\n\r\n                        // Crash happens around frame 58 ~ 59\r\n                }\r\n            }\r\n```\r\n\r\n\r\n#### Version of LibGDX and/or relevant dependencies\r\n1.9.9-SNAPSHOT\r\n\r\n#### Stacktrace\r\n```java\r\njava.lang.ArrayIndexOutOfBoundsException: -1\r\n\tat com.badlogic.gdx.utils.FloatArray.pop(FloatArray.java:254)\r\n\tat com.badlogic.gdx.backends.lwjgl.audio.OpenALMusic.update(OpenALMusic.java:233)\r\n\tat com.badlogic.gdx.backends.lwjgl.audio.OpenALAudio.update(OpenALAudio.java:227)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop(LwjglApplication.java:218)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:126) \r\n```\r\n\r\n#### Please select the affected platforms\r\n- [ ] Android\r\n- [ ] iOS (robovm)\r\n- [ ] iOS (MOE)\r\n- [ ] HTML/GWT\r\n- [X] Windows\r\n- [ ] Linux\r\n- [ ] MacOS\r\n","closed_by":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/5316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libgdx/libgdx/issues/5316/timeline","performed_via_github_app":null,"state_reason":"completed"}