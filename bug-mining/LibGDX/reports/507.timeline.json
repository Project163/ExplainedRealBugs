[{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/657794739","html_url":"https://github.com/libgdx/libgdx/issues/6098#issuecomment-657794739","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/6098","id":657794739,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzc5NDczOQ==","user":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T21:08:41Z","updated_at":"2020-07-23T19:50:04Z","body":"Label does layout twice: first to determine the wrapped width, then again using that width. Maybe this could be avoided, I don't remember why the first one isn't sufficient. It sure does a good job finding bugs though.\r\n\r\nFor the first layout, this check:\r\nhttps://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/GlyphLayout.java#L180\r\nThe glyph `r` (in \"water\") has a `glyphWidth` of 26 and the `xAdvance` is 17. `x` is 347, so + 17 = 364. The period after `r` is narrow at 7 wide, so 364 + 7 = 371, which is the GlyphLayout width.\r\n\r\nThe second layout should fit within 371, but 347 + the 26 width of `r` = 373. The `r` is so large it extends past the period, something like this, where the red line is the `xAdvance`:\r\n![](http://n4te.com/x/607-JKzK.png)\r\n\r\nThis is a discrepancy between the GlyphLayout width and the width which will fit the text without wrapping. Wrapping wants to fit the whole glyph. The bounds are tightly fitting using only the last glyph. I suppose the bounds should use the max of any glyph, which would fix this.\r\n\r\nThis isn't a rounding problem. If that is an issue maybe we can ceil or compare with an epsilon somewhere, but it hasn't been reported as reproducible.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/657794739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3541474453,"node_id":"MDExOkNsb3NlZEV2ZW50MzU0MTQ3NDQ1Mw==","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/3541474453","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"64cfa9231d398e322aea69167c55d787812de41d","commit_url":"https://api.github.com/repos/libgdx/libgdx/commits/64cfa9231d398e322aea69167c55d787812de41d","created_at":"2020-07-13T22:05:40Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/658388248","html_url":"https://github.com/libgdx/libgdx/issues/6098#issuecomment-658388248","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/6098","id":658388248,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODM4ODI0OA==","user":{"login":"lucas-viva","id":56004737,"node_id":"MDQ6VXNlcjU2MDA0NzM3","avatar_url":"https://avatars.githubusercontent.com/u/56004737?v=4","gravatar_id":"","url":"https://api.github.com/users/lucas-viva","html_url":"https://github.com/lucas-viva","followers_url":"https://api.github.com/users/lucas-viva/followers","following_url":"https://api.github.com/users/lucas-viva/following{/other_user}","gists_url":"https://api.github.com/users/lucas-viva/gists{/gist_id}","starred_url":"https://api.github.com/users/lucas-viva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucas-viva/subscriptions","organizations_url":"https://api.github.com/users/lucas-viva/orgs","repos_url":"https://api.github.com/users/lucas-viva/repos","events_url":"https://api.github.com/users/lucas-viva/events{/privacy}","received_events_url":"https://api.github.com/users/lucas-viva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T20:10:14Z","updated_at":"2020-07-14T20:10:14Z","body":"Thanks Nathan for looking into this. I appreciate your time!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/658388248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucas-viva","id":56004737,"node_id":"MDQ6VXNlcjU2MDA0NzM3","avatar_url":"https://avatars.githubusercontent.com/u/56004737?v=4","gravatar_id":"","url":"https://api.github.com/users/lucas-viva","html_url":"https://github.com/lucas-viva","followers_url":"https://api.github.com/users/lucas-viva/followers","following_url":"https://api.github.com/users/lucas-viva/following{/other_user}","gists_url":"https://api.github.com/users/lucas-viva/gists{/gist_id}","starred_url":"https://api.github.com/users/lucas-viva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucas-viva/subscriptions","organizations_url":"https://api.github.com/users/lucas-viva/orgs","repos_url":"https://api.github.com/users/lucas-viva/repos","events_url":"https://api.github.com/users/lucas-viva/events{/privacy}","received_events_url":"https://api.github.com/users/lucas-viva/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3581436475,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQzNTgxNDM2NDc1","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/3581436475","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2020-07-23T19:36:32Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/663197221","html_url":"https://github.com/libgdx/libgdx/issues/6098#issuecomment-663197221","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/6098","id":663197221,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzE5NzIyMQ==","user":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T19:44:04Z","updated_at":"2020-07-23T19:44:04Z","body":"Sorry, the fix is not good. The wrapping code modifies the run, so the max width that was stored before that is too large.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/663197221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3581695678,"node_id":"MDExOkNsb3NlZEV2ZW50MzU4MTY5NTY3OA==","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/3581695678","actor":{"login":"NathanSweet","id":434010,"node_id":"MDQ6VXNlcjQzNDAxMA==","avatar_url":"https://avatars.githubusercontent.com/u/434010?v=4","gravatar_id":"","url":"https://api.github.com/users/NathanSweet","html_url":"https://github.com/NathanSweet","followers_url":"https://api.github.com/users/NathanSweet/followers","following_url":"https://api.github.com/users/NathanSweet/following{/other_user}","gists_url":"https://api.github.com/users/NathanSweet/gists{/gist_id}","starred_url":"https://api.github.com/users/NathanSweet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NathanSweet/subscriptions","organizations_url":"https://api.github.com/users/NathanSweet/orgs","repos_url":"https://api.github.com/users/NathanSweet/repos","events_url":"https://api.github.com/users/NathanSweet/events{/privacy}","received_events_url":"https://api.github.com/users/NathanSweet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8937bde60bf6ffe9a582996c67917d9861fb0801","commit_url":"https://api.github.com/repos/libgdx/libgdx/commits/8937bde60bf6ffe9a582996c67917d9861fb0801","created_at":"2020-07-23T20:57:07Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/749037274","html_url":"https://github.com/libgdx/libgdx/issues/6098#issuecomment-749037274","issue_url":"https://api.github.com/repos/libgdx/libgdx/issues/6098","id":749037274,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTAzNzI3NA==","user":{"login":"mttkay","id":102802,"node_id":"MDQ6VXNlcjEwMjgwMg==","avatar_url":"https://avatars.githubusercontent.com/u/102802?v=4","gravatar_id":"","url":"https://api.github.com/users/mttkay","html_url":"https://github.com/mttkay","followers_url":"https://api.github.com/users/mttkay/followers","following_url":"https://api.github.com/users/mttkay/following{/other_user}","gists_url":"https://api.github.com/users/mttkay/gists{/gist_id}","starred_url":"https://api.github.com/users/mttkay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mttkay/subscriptions","organizations_url":"https://api.github.com/users/mttkay/orgs","repos_url":"https://api.github.com/users/mttkay/repos","events_url":"https://api.github.com/users/mttkay/events{/privacy}","received_events_url":"https://api.github.com/users/mttkay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T15:38:07Z","updated_at":"2020-12-21T15:38:41Z","body":"Just in case anyone else runs into this: I experienced broken text rendering after bumping libgdx from 1.9.10 to 1.9.11 (this issue I presume?) I was rendering a `TypingLabel` inside a `ScrollPane`, and letters were cut off at the end instead of the word being wrapped into a new line. It also looked like table padding was not taken into account, since text would spill over the padding.\r\n\r\nI found that updating to 1.9.12 fixes this problem again, presumably due to this fix:\r\n\r\n> - Fixed GlyphLayout not laying out correctly with color markup.\r\n\r\nhttps://github.com/libgdx/libgdx/blob/master/CHANGES\r\n\r\nBut I'm not sure. I just wanted to mention it because I lost over an hour staring at my own code trying to figure out what I broke when it came to me that I might have pulled in the problem via the version bump that I clearly did not test well enough :-)\r\n\r\nAnyway, thanks for putting a fix together so quickly! Appreciate it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/libgdx/libgdx/issues/comments/749037274/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mttkay","id":102802,"node_id":"MDQ6VXNlcjEwMjgwMg==","avatar_url":"https://avatars.githubusercontent.com/u/102802?v=4","gravatar_id":"","url":"https://api.github.com/users/mttkay","html_url":"https://github.com/mttkay","followers_url":"https://api.github.com/users/mttkay/followers","following_url":"https://api.github.com/users/mttkay/following{/other_user}","gists_url":"https://api.github.com/users/mttkay/gists{/gist_id}","starred_url":"https://api.github.com/users/mttkay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mttkay/subscriptions","organizations_url":"https://api.github.com/users/mttkay/orgs","repos_url":"https://api.github.com/users/mttkay/repos","events_url":"https://api.github.com/users/mttkay/events{/privacy}","received_events_url":"https://api.github.com/users/mttkay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13700426907,"node_id":"REFE_lADOAFH-b84m_ZCzzwAAAAMwm-yb","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/13700426907","actor":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"64cfa9231d398e322aea69167c55d787812de41d","commit_url":"https://api.github.com/repos/Tom-Ski/libgdx/commits/64cfa9231d398e322aea69167c55d787812de41d","created_at":"2024-07-30T19:26:22Z","performed_via_github_app":null},{"id":13700426946,"node_id":"REFE_lADOAFH-b84m_ZCzzwAAAAMwm-zC","url":"https://api.github.com/repos/libgdx/libgdx/issues/events/13700426946","actor":{"login":"Tom-Ski","id":4346114,"node_id":"MDQ6VXNlcjQzNDYxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4346114?v=4","gravatar_id":"","url":"https://api.github.com/users/Tom-Ski","html_url":"https://github.com/Tom-Ski","followers_url":"https://api.github.com/users/Tom-Ski/followers","following_url":"https://api.github.com/users/Tom-Ski/following{/other_user}","gists_url":"https://api.github.com/users/Tom-Ski/gists{/gist_id}","starred_url":"https://api.github.com/users/Tom-Ski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tom-Ski/subscriptions","organizations_url":"https://api.github.com/users/Tom-Ski/orgs","repos_url":"https://api.github.com/users/Tom-Ski/repos","events_url":"https://api.github.com/users/Tom-Ski/events{/privacy}","received_events_url":"https://api.github.com/users/Tom-Ski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8937bde60bf6ffe9a582996c67917d9861fb0801","commit_url":"https://api.github.com/repos/Tom-Ski/libgdx/commits/8937bde60bf6ffe9a582996c67917d9861fb0801","created_at":"2024-07-30T19:26:22Z","performed_via_github_app":null}]