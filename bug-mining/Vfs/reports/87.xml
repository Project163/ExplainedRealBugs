<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-296] [FTP] Socket timeout setting doesn&apos;t work if connect hangs</title>
                <link>https://issues.apache.org/jira/browse/VFS-296</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-216&quot; title=&quot;FTP configuration does not include option for setting socket timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-216&quot;&gt;&lt;del&gt;VFS-216&lt;/del&gt;&lt;/a&gt; doesn&apos;t help if the ftp server doesn&apos;t reply with any messages at all (could happen if it&apos;s behind a badly configured firewall for example). What happens is that the client.connect() called from FtpClientFactory hangs, and this line is before timeout parameter is set.&lt;/p&gt;

&lt;p&gt;I suggest the change in the attached patch.&lt;/p&gt;

&lt;p&gt;The scenario can be tested with &quot;netcat -l&quot; instead of a real ftp server.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12445316">VFS-296</key>
            <summary>[FTP] Socket timeout setting doesn&apos;t work if connect hangs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andreasp">Andreas Persson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jan 2010 17:03:28 +0000</created>
                <updated>Thu, 19 May 2016 18:25:32 +0000</updated>
                            <resolved>Sat, 12 May 2012 20:34:03 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13273899" author="andreasp" created="Sat, 12 May 2012 09:18:36 +0000"  >&lt;p&gt;Attached a new version of the patch (trivial port to VFS 2.0).&lt;/p&gt;</comment>
                            <comment id="13274066" author="garydgregory" created="Sat, 12 May 2012 20:34:03 +0000"  >&lt;p&gt;Committed revision 1337638.&lt;/p&gt;</comment>
                            <comment id="14608489" author="remkop@yahoo.com" created="Tue, 30 Jun 2015 15:26:15 +0000"  >&lt;p&gt;At my company we are using version 2.0 and have recently experienced our app hanging while trying to send files over FTP. This has happened 4 times in the previous 9 business days. We are not sure what (if anything) has changed. At the moment we are manually recovering any time this happens. We would love to upgrade to a version that includes this fix but 2.1 is not out yet. Is there a plan to release 2.1 in the near future?&lt;/p&gt;</comment>
                            <comment id="14608808" author="b.eckenfels" created="Tue, 30 Jun 2015 18:27:50 +0000"  >&lt;p&gt;Hello, if you have a stack trace of such a hang it might be good to check.&lt;/p&gt;

&lt;p&gt;Yes there is a plan, but dont hold your breath &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;a href=&quot;https://wiki.apache.org/commons/VfsReleaseState&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/commons/VfsReleaseState&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14609478" author="remkop@yahoo.com" created="Wed, 1 Jul 2015 02:45:44 +0000"  >&lt;p&gt;We will try to use jstack if the problem occurs again.&lt;br/&gt;
Is there a snapshot or beta build somewhere that includes this fix?&lt;/p&gt;</comment>
                            <comment id="14609647" author="fiveo" created="Wed, 1 Jul 2015 06:55:57 +0000"  >&lt;p&gt;Hi Bernd, so the only blocking ticket to release 2.1 is the &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-498&quot; title=&quot;OSGI MANIFEST.MF &amp;quot;Import-Package&amp;quot; should be &amp;quot;;resolution:=optional&amp;quot; for Maven &amp;quot;optional&amp;quot; dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-498&quot;&gt;&lt;del&gt;VFS-498&lt;/del&gt;&lt;/a&gt; ? Please let us know how we can help you releasing finally a next version? We are all waiting for this release!!!&lt;/p&gt;</comment>
                            <comment id="14610894" author="b.eckenfels" created="Wed, 1 Jul 2015 19:40:53 +0000"  >&lt;p&gt;As of the ASF bylaws we make nightly builds not officially available, but if you check out the staged (future) site of commons-vfs on &lt;a href=&quot;http://people.apache.org/~ecki/commons-vfs/integration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~ecki/commons-vfs/integration.html&lt;/a&gt; you can find the integration server. It contains a trunk build (w/o sandbox). I would recommend to build it yourself, it just needs maven and JDK 7.&lt;/p&gt;</comment>
                            <comment id="14610897" author="b.eckenfels" created="Wed, 1 Jul 2015 19:42:39 +0000"  >&lt;p&gt;It is not a question of a blocker bug, it is a question of time for all the other todos.&lt;/p&gt;</comment>
                            <comment id="14611160" author="sebb@apache.org" created="Wed, 1 Jul 2015 23:17:52 +0000"  >&lt;p&gt;Or you can use builds from the ASF SNAPSHOT repository. Most Commons components are regularly built on CI servers and the jars are normally uploaded to the snapshot repo.&lt;/p&gt;

&lt;p&gt;Such builds are not subject to review or QA and are used at the developer&apos;s risk; they should never be used in production code.&lt;br/&gt;
However developers are welcome to use them to help solve bugs.&lt;br/&gt;
Note that the snapshot builds are not stable, as they will be superseded whenever there is a new CI build.&lt;/p&gt;</comment>
                            <comment id="14614110" author="remkop@yahoo.com" created="Sun, 5 Jul 2015 02:22:46 +0000"  >&lt;p&gt;About a week ago we started to use the timeout methods available in 2.0 (data timeout and so timeout). Since then we have not seen out app hanging (fingers crossed).&lt;br/&gt;
If it happens again we will try to get a jstack dump before restarting, good tip, thanks!&lt;/p&gt;</comment>
                            <comment id="15291706" author="b.eckenfels" created="Thu, 19 May 2016 18:25:32 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12400707">VFS-216</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12430032" name="sotimeout.patch" size="1339" author="andreasp" created="Tue, 12 Jan 2010 17:06:30 +0000"/>
                            <attachment id="12526618" name="sotimeout_v2.patch" size="1340" author="andreasp" created="Sat, 12 May 2012 09:18:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200340</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13767:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>