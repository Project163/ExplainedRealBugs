<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:15:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-822] [SFTP] getGroupIds() throws NumberFormatException when a user has no groups</title>
                <link>https://issues.apache.org/jira/browse/VFS-822</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L258&lt;/a&gt; the groupIds are retrieved using the command id -G. If a user has no groups (gid=0 for example) then the result is that:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L264&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;will have an array with one entry being an empty string. This results in a NumberFormatException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13473740">VFS-822</key>
            <summary>[SFTP] getGroupIds() throws NumberFormatException when a user has no groups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="van der Walle">Mark van der Walle</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jul 2022 09:28:32 +0000</created>
                <updated>Thu, 1 Sep 2022 10:35:26 +0000</updated>
                            <resolved>Thu, 28 Jul 2022 19:27:36 +0000</resolved>
                                    <version>2.9.0</version>
                                    <fixVersion>2.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17571835" author="garydgregory" created="Wed, 27 Jul 2022 10:37:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=van+der+Walle&quot; class=&quot;user-hover&quot; rel=&quot;van der Walle&quot;&gt;van der Walle&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;Would you mind posting a stack trace?&lt;/p&gt;

&lt;p&gt;Does your use case also touch &lt;a href=&quot;https://github.com/apache/commons-vfs/blob/e538088c2f8cc9c31d742e39cc0f6b5d316f3474/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/blob/e538088c2f8cc9c31d742e39cc0f6b5d316f3474/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java#L319&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="17571840" author="JIRAUSER293479" created="Wed, 27 Jul 2022 10:53:17 +0000"  >&lt;p&gt;i will post a stack trace shortly and also working on a PR. I will try id -u aswell, however I think that is unaffected by this.&lt;/p&gt;</comment>
                            <comment id="17571847" author="JIRAUSER293479" created="Wed, 27 Jul 2022 11:11:38 +0000"  >&lt;p&gt;I created a bare minimum example. i omitted the URI to the file as I am not allowed to share that.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO: Authentication succeeded (password).
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.vfs2.FileSystemException: Could not determine &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; file &lt;span class=&quot;code-quote&quot;&gt;&quot;omittedforprivacyreasons&quot;&lt;/span&gt;&#160;is readable.
&#160;&#160; &#160;at org.apache.commons.vfs2.provider.AbstractFileObject.isReadable(AbstractFileObject.java:1582)
&#160;&#160; &#160;at nl.ocwduo.sftptest.VFSTest.main(VFSTest.java:39)
Caused by: java.lang.NumberFormatException: For input string: &quot;&quot;
&#160;&#160; &#160;at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
&#160;&#160; &#160;at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.java:662)
&#160;&#160; &#160;at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.java:770)
&#160;&#160; &#160;at org.apache.commons.vfs2.provider.sftp.SftpFileSystem.getGroupsIds(SftpFileSystem.java:267)
&#160;&#160; &#160;at org.apache.commons.vfs2.provider.sftp.SftpFileObject.getPermissions(SftpFileObject.java:467)
&#160;&#160; &#160;at org.apache.commons.vfs2.provider.sftp.SftpFileObject.doIsReadable(SftpFileObject.java:257)
&#160;&#160; &#160;at org.apache.commons.vfs2.provider.AbstractFileObject.isReadable(AbstractFileObject.java:1580)
&#160;&#160; &#160;... 1 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17571850" author="JIRAUSER293479" created="Wed, 27 Jul 2022 11:16:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; I created a PR to address the issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/280&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17572618" author="garydgregory" created="Thu, 28 Jul 2022 19:27:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=van+der+Walle&quot; class=&quot;user-hover&quot; rel=&quot;van der Walle&quot;&gt;van der Walle&lt;/a&gt;&lt;br/&gt;
Thank you for your PR, changes are in Git master now and  &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please verify and close.&lt;/p&gt;</comment>
                            <comment id="17572806" author="JIRAUSER293479" created="Fri, 29 Jul 2022 07:57:34 +0000"  >&lt;p&gt;I have verified the changes and confirm that our issue is resolved with the latest version&lt;/p&gt;</comment>
                            <comment id="17598810" author="JIRAUSER293479" created="Thu, 1 Sep 2022 08:27:58 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I was wondering when we could expect a 2.10 release of commons-vfs2 that incorporates this fix?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Mark&lt;/p&gt;</comment>
                            <comment id="17598875" author="garydgregory" created="Thu, 1 Sep 2022 10:35:26 +0000"  >&lt;p&gt;Within a month or so. I am waiting on the release of the Apache RAT plugin, so I can release Commons Parent, and then I can start releasing components again...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z178dk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>