<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-325] Bad handling of hashs (#) in file names when walking a file tree using findFiles()</title>
                <link>https://issues.apache.org/jira/browse/VFS-325</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Consider a local directory tree containing files with hashs in their name, such as &lt;tt&gt;test-hash-#.txt&lt;/tt&gt;.&lt;br/&gt;
When walking the tree using FileObject.findFiles(), the file is correctly found and returned, but it&apos;s URL is truncated to the #: &lt;tt&gt;test-hash-&lt;/tt&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Calling file.getURL().toString() returns &lt;tt&gt;&lt;a href=&quot;file://my/dir/test-hash-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://my/dir/test-hash-&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Calling file.toString() returns the correct URL &lt;tt&gt;&lt;a href=&quot;file://my/dir/test-hash-#.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://my/dir/test-hash-#.txt&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;For the sake of testing, calling new URL(&quot;http://my/file/with/hash-#.txt&quot;).toString() returns &lt;tt&gt;&lt;a href=&quot;http://my/file/with/hash-#.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://my/file/with/hash-#.txt&lt;/a&gt;&lt;/tt&gt; (It&apos;s not an java.net.URL problem)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think file.getURL().toString() should return &lt;tt&gt;test-hash-#.txt&lt;/tt&gt;, otherwise caller have to rely on file.toString() to retrieve the URL of the file, which is probably bad.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Seven, JDK 1.6 64 bit&lt;/p&gt;</environment>
        <key id="12477803">VFS-325</key>
            <summary>Bad handling of hashs (#) in file names when walking a file tree using findFiles()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nguillaumin">Nicolas Guillaumin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2010 23:24:36 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:44 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 08:08:42 +0000</resolved>
                                    <version>1.0</version>
                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12970682" author="larryreeve" created="Mon, 13 Dec 2010 02:11:58 +0000"  >&lt;p&gt;Attached is archive submission of patch file and new files to resolve this issue.&lt;/p&gt;

&lt;p&gt;New files are:&lt;br/&gt;
1) core/src/test/java/org/apache/commons/vfs2/provider/local/test/UrlTests.java&lt;br/&gt;
This a source file containing new unit tests around URL handling for this issue.&lt;/p&gt;

&lt;p&gt;2) core/src/test/resources/test-data/test-hash-#test.txt&lt;br/&gt;
A test file to test the FindFiles operation as part of the unit test.&lt;/p&gt;


&lt;p&gt;Patched source files are:&lt;br/&gt;
1) core/src/test/java/org/apache/commons/vfs2/provider/local/test/LocalProviderTestCase.java&lt;br/&gt;
Add new URL test cases.&lt;/p&gt;

&lt;p&gt;2) core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java&lt;br/&gt;
Overrides getURL() method in abstract base class AbstractFileObject.java for local files.&lt;/p&gt;

&lt;p&gt;3) core/src/main/java/org/apache/commons/vfs2/provider/AbstractFileObject.java&lt;br/&gt;
Exposes VfsComponentContext for use in LocalFile.java&lt;/p&gt;</comment>
                            <comment id="12970766" author="joehni" created="Mon, 13 Dec 2010 10:06:35 +0000"  >&lt;p&gt;Sorry, this solution is wrong. A hash &apos;#&apos; has a special meaning in a URL. If a filename contains such a character, the URL must contain it in the encoded form &quot;%23&quot;.&lt;/p&gt;</comment>
                            <comment id="12971538" author="larryreeve" created="Wed, 15 Dec 2010 03:20:44 +0000"  >&lt;p&gt;Revised patch based on Joerg&apos;s feedback.&lt;/p&gt;</comment>
                            <comment id="13113930" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 08:08:42 +0000"  >&lt;p&gt;The patch has been applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15291837" author="b.eckenfels" created="Thu, 19 May 2016 18:26:18 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466112" name="PATCH-vfs-325.tar" size="16384" author="larryreeve" created="Mon, 13 Dec 2010 02:11:58 +0000"/>
                            <attachment id="12466285" name="PATCHB-vfs-325.tar" size="13824" author="larryreeve" created="Wed, 15 Dec 2010 03:20:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>