<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:15:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-793] GenericFileName.getURI() returns invalid URI.</title>
                <link>https://issues.apache.org/jira/browse/VFS-793</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The following test case demonstrates the problem&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testGenericFileName() 
	&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
{
	{
	        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//blanks:blanks@localhost/path/file_b%20lanks&quot;&lt;/span&gt;;
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName n = FtpFileNameParser.getInstance().parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, uri);
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; n &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; GenericFileName;
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; genericUri = n.getURI();
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; genericUri.equals(uri.toString());
	}
		
	{
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//b%20lanks:b%20lanks@localhost/path/file&quot;&lt;/span&gt;;
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName n = FtpFileNameParser.getInstance().parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, uri);
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; n &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; GenericFileName;
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; genericUri = n.getURI();
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; genericUri.equals(uri.toString());
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The blanks in authority are not properly encoded.&lt;br/&gt;
As a result the following fragment does not work either&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URI uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(&lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//b%20lanks:b%20lanks@localhost:21/path/file&quot;&lt;/span&gt;);
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; ( &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemManager m = VFS.getManager() )
{
	&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; ( &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject f = m.resolveFile(uri) )
	{
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; f &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; FtpFileObject;
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URI vfsUri = f.getURI();
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; uri.equals(vfsUri);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The call &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;f.getURI();&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;throws exception&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Illegal character in authority at index 6: ftp://b lanks:b lanks@localhost/path/file
	at java.net.URI.create(Unknown Source)
	at org.apache.commons.vfs2.FileObject.getURI(FileObject.java:303)
	at GetUriTest.testGetUri_ftp(GetUriTest.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)
	at java.util.ArrayList.forEach(Unknown Source)
	at org.testng.TestRunner.privateRun(TestRunner.java:764)
	at org.testng.TestRunner.run(TestRunner.java:585)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)
	at org.testng.TestNG.runSuites(TestNG.java:1069)
	at org.testng.TestNG.run(TestNG.java:1037)
	at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)
Caused by: java.net.URISyntaxException: Illegal character in authority at index 6: ftp://b lanks:b lanks@localhost/path/file
	at java.net.URI$Parser.fail(Unknown Source)
	at java.net.URI$Parser.parseAuthority(Unknown Source)
	at java.net.URI$Parser.parseHierarchical(Unknown Source)
	at java.net.URI$Parser.parse(Unknown Source)
	at java.net.URI.&amp;lt;init&amp;gt;(Unknown Source)
	... 31 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="13361143">VFS-793</key>
            <summary>GenericFileName.getURI() returns invalid URI.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vnashkev">Vitali Nashkevich</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Feb 2021 09:23:25 +0000</created>
                <updated>Fri, 26 Nov 2021 12:56:42 +0000</updated>
                            <resolved>Thu, 25 Nov 2021 18:50:56 +0000</resolved>
                                    <version>2.7.0</version>
                                    <fixVersion>2.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17291651" author="garydgregory" created="Fri, 26 Feb 2021 13:45:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vnashkev&quot; class=&quot;user-hover&quot; rel=&quot;vnashkev&quot;&gt;vnashkev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;May you please try with git master to verify if this is still an issue?&lt;/p&gt;

&lt;p&gt;TY!&lt;/p&gt;</comment>
                            <comment id="17291652" author="woonsan" created="Fri, 26 Feb 2021 13:45:30 +0000"  >&lt;p&gt;It looks like related to &lt;tt&gt;org.apache.commons.vfs2.provider.HostFileNameParser.parseUri(VfsComponentContext, FileName, String)&lt;/tt&gt;, not to &lt;tt&gt;GenericFileName&lt;/tt&gt;. So, the title could be better with something like &quot;URI parsing error with HostFileNameParser.&quot;&lt;br/&gt;
The related unit test is &lt;tt&gt;org.apache.commons.vfs2.provider.UriParserTestCase&lt;/tt&gt;, where I cannot find an example with blanks at the moment.&lt;/p&gt;</comment>
                            <comment id="17449287" author="garydgregory" created="Thu, 25 Nov 2021 18:50:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vnashkev&quot; class=&quot;user-hover&quot; rel=&quot;vnashkev&quot;&gt;vnashkev&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=woonsan&quot; class=&quot;user-hover&quot; rel=&quot;woonsan&quot;&gt;woonsan&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I addressed this in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-810&quot; title=&quot;Percent encoded backslashes in authority of URLs aren&amp;#39;t allowed for WebDav&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-810&quot;&gt;&lt;del&gt;VFS-810&lt;/del&gt;&lt;/a&gt;. See also the new test &lt;tt&gt;org.apache.commons.vfs2.provider.ftp.FtpFileNameParserTestCase&lt;/tt&gt;.&lt;br/&gt;
May you please verify and close if appropriate?&lt;/p&gt;

&lt;p&gt;TY!&lt;/p&gt;</comment>
                            <comment id="17449556" author="woonsan" created="Fri, 26 Nov 2021 12:56:42 +0000"  >&lt;p&gt;Looks great! Thank you so much, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;!&lt;br/&gt;
+1 on closing this ticket.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13413791">VFS-810</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0o3b4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>