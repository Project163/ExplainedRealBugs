<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-645] VfsClassLoaderTests and JarProviderTestCase fails on Java 9 and up</title>
                <link>https://issues.apache.org/jira/browse/VFS-645</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Running the build with Oracle Java 9 on Windows 10 fails. The same failures happen with version 2.1.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 84, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 4.01 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.vfs2.provider.jar.test.NestedJarTestCase
testSealing(org.apache.commons.vfs2.impl.test.VfsClassLoaderTests)  Time elapsed: 0 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.ClassNotFoundException: code.sealed.AnotherClass
        at org.apache.commons.vfs2.impl.VFSClassLoader.findClass(VFSClassLoader.java:152)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:563)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)
        at org.apache.commons.vfs2.impl.test.VfsClassLoaderTests.testSealing(VfsClassLoaderTests.java:88)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:564)
        at org.apache.commons.vfs2.test.AbstractProviderTestCase.runTest(AbstractProviderTestCase.java:190)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23)
        at org.apache.commons.vfs2.test.AbstractTestSuite$1.protect(AbstractTestSuite.java:132)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at org.apache.commons.vfs2.test.AbstractTestSuite.run(AbstractTestSuite.java:137)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.apache.commons.vfs2.FileSystemException: Could not retrieve the certificates of &quot;jar:jar:file:///C:/vcs/svn/apache/commons/trunks-proper/vfs/commons-vfs2/target/test-classes/test-data/nested.jar!/test.jar!/code/sealed/AnotherClass.class&quot;.
        at org.apache.commons.vfs2.provider.DefaultFileContent.getCertificates(DefaultFileContent.java:331)
        at org.apache.commons.vfs2.impl.VFSClassLoader.defineClass(VFSClassLoader.java:180)
        at org.apache.commons.vfs2.impl.VFSClassLoader.findClass(VFSClassLoader.java:150)
        ... 27 more
Caused by: java.lang.IllegalStateException: zip file closed
        at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:664)
        at java.base/java.util.zip.ZipFile.getInputStream(ZipFile.java:334)
        at java.base/java.util.jar.JarFile.getBytes(JarFile.java:761)
        at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:970)
        at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:366)
        at java.base/java.util.jar.JarFile$JarFileEntry.realEntry(JarFile.java:642)
        at java.base/java.util.jar.JarFile$JarFileEntry.getCertificates(JarFile.java:626)
        at org.apache.commons.vfs2.provider.jar.JarFileObject.doGetCertificates(JarFileObject.java:120)
        at org.apache.commons.vfs2.provider.DefaultFileContent.getCertificates(DefaultFileContent.java:325)
        ... 29 more

testLoadClass(org.apache.commons.vfs2.impl.test.VfsClassLoaderTests)  Time elapsed: 0 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.ClassNotFoundException: code.ClassToLoad
        at org.apache.commons.vfs2.impl.VFSClassLoader.findClass(VFSClassLoader.java:152)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:563)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)
        at org.apache.commons.vfs2.impl.test.VfsClassLoaderTests.testLoadClass(VfsClassLoaderTests.java:61)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:564)
        at org.apache.commons.vfs2.test.AbstractProviderTestCase.runTest(AbstractProviderTestCase.java:190)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23)
        at org.apache.commons.vfs2.test.AbstractTestSuite$1.protect(AbstractTestSuite.java:132)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at org.apache.commons.vfs2.test.AbstractTestSuite.run(AbstractTestSuite.java:137)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.apache.commons.vfs2.FileSystemException: Could not retrieve the certificates of &quot;jar:jar:file:///C:/vcs/svn/apache/commons/trunks-proper/vfs/commons-vfs2/target/test-classes/test-data/nested.jar!/test.jar!/code/ClassToLoad.class&quot;.
        at org.apache.commons.vfs2.provider.DefaultFileContent.getCertificates(DefaultFileContent.java:331)
        at org.apache.commons.vfs2.impl.VFSClassLoader.defineClass(VFSClassLoader.java:180)
        at org.apache.commons.vfs2.impl.VFSClassLoader.findClass(VFSClassLoader.java:150)
        ... 27 more
Caused by: java.lang.IllegalStateException: zip file closed
        at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:664)
        at java.base/java.util.zip.ZipFile.getInputStream(ZipFile.java:334)
        at java.base/java.util.jar.JarFile.getBytes(JarFile.java:761)
        at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:970)
        at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:366)
        at java.base/java.util.jar.JarFile$JarFileEntry.realEntry(JarFile.java:642)
        at java.base/java.util.jar.JarFile$JarFileEntry.getCertificates(JarFile.java:626)
        at org.apache.commons.vfs2.provider.jar.JarFileObject.doGetCertificates(JarFileObject.java:120)
        at org.apache.commons.vfs2.provider.DefaultFileContent.getCertificates(DefaultFileContent.java:325)
        ... 29 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, we get these warnings:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.commons.vfs2.test.AbstractTestSuite (file:/C:/vcs/svn/apache/commons/trunks-proper/vfs/commons-vfs2/target/test-classes/) to field java.lang.Thread.target
WARNING: Please consider reporting this to the maintainers of org.apache.commons.vfs2.test.AbstractTestSuite
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We get the same kind of failures on Java 11 using:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T14:41:47-04:00)
Maven home: C:\Java\apache-maven-3.6.0\bin\..
Java version: 11.0.1, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk-11.0.1
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test &lt;tt&gt;org.apache.commons.vfs2.provider.jar.test.JarProviderTestCase&lt;/tt&gt; also fails.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T13:39:06-06:00)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.5.0\bin\..&lt;br/&gt;
Java version: 9, vendor: Oracle Corporation&lt;br/&gt;
Java home: C:\Program Files\Java\jdk-9&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="13106566">VFS-645</key>
            <summary>VfsClassLoaderTests and JarProviderTestCase fails on Java 9 and up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Oct 2017 22:18:22 +0000</created>
                <updated>Thu, 17 Jan 2019 22:38:40 +0000</updated>
                            <resolved>Thu, 17 Jan 2019 15:33:07 +0000</resolved>
                                    <version>Nightly Builds</version>
                    <version>2.1</version>
                    <version>2.2</version>
                                    <fixVersion>2.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16745208" author="garydgregory" created="Thu, 17 Jan 2019 15:33:07 +0000"  >&lt;p&gt;In svn trunk.&lt;/p&gt;</comment>
                            <comment id="16745258" author="ottobackwards" created="Thu, 17 Jan 2019 16:24:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; I was going to test this, but found I could not install java9 and had to use java11.&lt;/p&gt;

&lt;p&gt;With java 11 after these fixes there are still errors. &#160;Should I open up another jira?&lt;/p&gt;</comment>
                            <comment id="16745259" author="ottobackwards" created="Thu, 17 Jan 2019 16:24:44 +0000"  >&lt;p&gt;note they are not the same errors&lt;/p&gt;</comment>
                            <comment id="16745287" author="ottobackwards" created="Thu, 17 Jan 2019 16:58:08 +0000"  >&lt;p&gt;OK, I managed to get java9 from AdoptOpenJDK installed, and testing fails there too:&lt;/p&gt;

&lt;p&gt;Tests in error:&lt;br/&gt;
 AbstractFtpsProviderTestCase$FtpProviderTestSuite&amp;gt;AbstractTestSuite.run:137-&amp;gt;setUp:153-&amp;gt;AbstractTestSuite.setUp:166 &#187; FileSystem&lt;br/&gt;
 AbstractFtpsProviderTestCase$FtpProviderTestSuite&amp;gt;AbstractTestSuite.run:137-&amp;gt;setUp:153-&amp;gt;AbstractTestSuite.setUp:166 &#187; FileSystem&lt;br/&gt;
 MultipleConnectionTestCase.testConnectRoot:55-&amp;gt;resolveRoot:49 &#187; FileSystem Cou...&lt;br/&gt;
 MultipleConnectionTestCase.testUnderlyingConnect:65 &#187; SSL Unsupported or unrec...&lt;br/&gt;
org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest.org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest&lt;br/&gt;
 Run 1: HdfsFileProviderTest.setUp:91 &#187; NoClassDefFound Could not initialize class org...&lt;br/&gt;
 Run 2: HdfsFileProviderTest.tearDown:135 NullPointer&lt;/p&gt;

&lt;p&gt;HdfsFileProviderTestCase$HdfsProviderTestSuite&amp;gt;AbstractTestSuite.run:137-&amp;gt;setUp:98 &#187; ExceptionInInitializer&lt;/p&gt;

&lt;p&gt;Tests run: 2177, Failures: 0, Errors: 6, Skipped: 4&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;sample:&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Running org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTestCase&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.22 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTestCase&lt;br/&gt;
junit.framework.TestSuite@51ec2856(org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTestCase$HdfsProviderTestSuite) Time elapsed: 0.22 sec &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.ExceptionInInitializerError&lt;br/&gt;
 at org.apache.hadoop.util.StringUtils.&amp;lt;clinit&amp;gt;(StringUtils.java:79)&lt;br/&gt;
 at org.apache.hadoop.conf.Configuration.getTrimmedStringCollection(Configuration.java:1747)&lt;br/&gt;
 at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getStorageDirs(FSNamesystem.java:1407)&lt;br/&gt;
 at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getNamespaceDirs(FSNamesystem.java:1388)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.createNameNodesAndSetConf(MiniDFSCluster.java:931)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:807)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:738)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTestCase$HdfsProviderTestSuite.setUp(HdfsFileProviderTestCase.java:98)&lt;br/&gt;
 at org.apache.commons.vfs2.test.AbstractTestSuite$1.protect(AbstractTestSuite.java:131)&lt;br/&gt;
 at junit.framework.TestResult.runProtected(TestResult.java:142)&lt;br/&gt;
 at org.apache.commons.vfs2.test.AbstractTestSuite.run(AbstractTestSuite.java:137)&lt;br/&gt;
 at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)&lt;br/&gt;
Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 2&lt;br/&gt;
 at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)&lt;br/&gt;
 at java.base/java.lang.String.substring(String.java:1874)&lt;br/&gt;
 at org.apache.hadoop.util.Shell.&amp;lt;clinit&amp;gt;(Shell.java:49)&lt;br/&gt;
 ... 19 more&lt;/p&gt;

&lt;p&gt;Running org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.03 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest&lt;br/&gt;
org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest Time elapsed: 0.03 sec &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.util.StringUtils&lt;br/&gt;
 at org.apache.hadoop.conf.Configuration.getTrimmedStringCollection(Configuration.java:1747)&lt;br/&gt;
 at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getStorageDirs(FSNamesystem.java:1407)&lt;br/&gt;
 at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getNamespaceDirs(FSNamesystem.java:1388)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.createNameNodesAndSetConf(MiniDFSCluster.java:931)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.initMiniDFSCluster(MiniDFSCluster.java:807)&lt;br/&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:738)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest.setUp(HdfsFileProviderTest.java:91)&lt;br/&gt;
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
 at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
 at java.base/java.lang.reflect.Method.invoke(Method.java:566)&lt;br/&gt;
 at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)&lt;br/&gt;
 at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)&lt;br/&gt;
 at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)&lt;br/&gt;
 at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)&lt;br/&gt;
 at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)&lt;br/&gt;
 at org.junit.runners.ParentRunner.run(ParentRunner.java:363)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest Time elapsed: 0.03 sec &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
 at org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest.tearDown(HdfsFileProviderTest.java:135)&lt;br/&gt;
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
 at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
 at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
 at java.base/java.lang.reflect.Method.invoke(Method.java:566)&lt;br/&gt;
 at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)&lt;br/&gt;
 at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)&lt;br/&gt;
 at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)&lt;br/&gt;
 at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)&lt;br/&gt;
 at org.junit.runners.ParentRunner.run(ParentRunner.java:363)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)&lt;/p&gt;

&lt;p&gt;Running org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase&lt;br/&gt;
2019-01-17 11:49:59,741 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR: unavailable&lt;br/&gt;
java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &apos;bootstrap&apos;)&lt;br/&gt;
 at org.apache.jasper.compiler.JspRuntimeContext.&amp;lt;init&amp;gt;(JspRuntimeContext.java:174)&lt;br/&gt;
 at org.apache.jasper.servlet.JspServlet.init(JspServlet.java:150)&lt;br/&gt;
 at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:431)&lt;br/&gt;
 at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)&lt;br/&gt;
 at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
 at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:643)&lt;br/&gt;
 at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)&lt;br/&gt;
 at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1234)&lt;br/&gt;
 at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)&lt;br/&gt;
 at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:460)&lt;br/&gt;
 at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
 at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
 at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)&lt;br/&gt;
 at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
 at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
 at org.mortbay.jetty.Server.doStart(Server.java:222)&lt;br/&gt;
 at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.webdav.test.JackrabbitMain.run(JackrabbitMain.java:232)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.startJackrabbit(WebdavProviderTestCase.java:237)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.setUpClass(WebdavProviderTestCase.java:216)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.access$100(WebdavProviderTestCase.java:55)&lt;br/&gt;
 at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1.setUp(WebdavProviderTestCase.java:245)&lt;br/&gt;
 at org.apache.commons.vfs2.test.AbstractTestSuite$1.protect(AbstractTestSuite.java:131)&lt;br/&gt;
 at junit.framework.TestResult.runProtected(TestResult.java:142)&lt;br/&gt;
 at org.apache.commons.vfs2.test.AbstractTestSuite.run(AbstractTestSuite.java:137)&lt;br/&gt;
 at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)&lt;br/&gt;
 at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)&lt;br/&gt;
 at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)&lt;/p&gt;</comment>
                            <comment id="16745288" author="ottobackwards" created="Thu, 17 Jan 2019 16:58:36 +0000"  >&lt;p&gt;java -version&lt;br/&gt;
openjdk version &quot;9&quot;&lt;br/&gt;
OpenJDK Runtime Environment (build 9+181)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 9+181, mixed mode)&lt;/p&gt;</comment>
                            <comment id="16745563" author="ottobackwards" created="Thu, 17 Jan 2019 22:20:15 +0000"  >&lt;p&gt;I apologize. &#160;Please ignore. &#160;I believe that the additional failures are java 11 only.&lt;/p&gt;

&lt;p&gt;Even though I had set my env to java 9, my $JAVA_HOME was still 11.&lt;/p&gt;

&lt;p&gt;Sorry&lt;/p&gt;</comment>
                            <comment id="16745583" author="garydgregory" created="Thu, 17 Jan 2019 22:38:40 +0000"  >&lt;p&gt;This ticket only addressed the two tests mentioned. There are indeed other failures on Java 11.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ksx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>