<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-424] VFS 2.0 class loading breaks in OSGi, regression from 1.0</title>
                <link>https://issues.apache.org/jira/browse/VFS-424</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Class loading changed between version 1.0 and 2.0 in org.apache.commons.vfs2.impl.StandardFileSystemManager.init()&lt;/p&gt;

&lt;p&gt;This breaks our app server running under OSGi (Equinox) like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.commons.vfs2.FileSystemException: Could not create a file system manager of class &quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;.
    at org.apache.commons.vfs2.VFS.createManager(VFS.java:99)
    at org.apache.commons.vfs2.VFS.getManager(VFS.java:50)
    at com.seagullsw.toolbox.config.ConfigurationDirectory.resolveFileObject(ConfigurationDirectory.java:315)
    at com.seagullsw.toolbox.config.Configuration.resolveFileObject(Configuration.java:135)
&amp;lt;Snip: ...my app frames...&amp;gt;
    at com.seagullsw.appinterface.server.osgi.JCicsOsgiTestCase.testJcicsOsgiRoundtrip(JCicsOsgiTestCase.java:226)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:307)
    at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)
    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:112)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:73)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)
    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)
    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)
    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)
    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)
    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:102)
    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;bundleresource://7.fwk545215872:34/org/apache/commons/vfs2/impl/providers.xml&quot;.
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:199)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.init(StandardFileSystemManager.java:123)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.commons.vfs2.VFS.createManager(VFS.java:88)
    ... 49 more
Caused by: java.lang.ClassCastException: org.apache.commons.vfs2.provider.local.DefaultLocalFileProvider cannot be cast to org.apache.commons.vfs2.provider.FileProvider
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.addProvider(StandardFileSystemManager.java:371)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:270)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:195)
    ... 55 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which I work around with this hack:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void initVfs() {
        StandardFileSystemManager fsm = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StandardFileSystemManager();
        fsm.setClassLoader(fsm.getClass().getClassLoader());
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            FieldUtils.writeDeclaredStaticField(VFS.class, &lt;span class=&quot;code-quote&quot;&gt;&quot;instance&quot;&lt;/span&gt;, fsm, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            fsm.init();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e) {
            ...
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IllegalAccessException e) {
            ...
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Two questions:&lt;/p&gt;

&lt;p&gt;(1) Why is org.apache.commons.vfs2.VFS.getManager() coded with a class name ref instead of the a real Class object or an actual instance:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; FileSystemManager getManager()
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            instance = createManager(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; instance;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why not:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; FileSystemManager getManager()
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            instance = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StandardFileSystemManager();
            &lt;span class=&quot;code-comment&quot;&gt;// where the StandardFileSystemManager constructor calls init();
&lt;/span&gt;        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; instance;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If not, what about adding a setManager(FileSystemManager)?&lt;/p&gt;

&lt;p&gt;This did not happen in 1.0, it worked fine in OSGi.&lt;/p&gt;

&lt;p&gt;In 1.0, the init() method is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-comment&quot;&gt;// Set the replicator and temporary file store (use the same component)
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultFileReplicator replicator = createDefaultFileReplicator();
        setReplicator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedFileReplicator(replicator));
        setTemporaryFileStore(replicator);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (classLoader == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; classloader
&lt;/span&gt;            classLoader = getClass().getClassLoader();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (configUri == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; config
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URL url = getClass().getResource(CONFIG_RESOURCE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(&lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.impl/find-config-file.error&quot;&lt;/span&gt;, CONFIG_RESOURCE);
            }
            configUri = url;
        }

        &lt;span class=&quot;code-comment&quot;&gt;// Configure
&lt;/span&gt;        configure(configUri);

        &lt;span class=&quot;code-comment&quot;&gt;// Configure Plugins
&lt;/span&gt;        configurePlugins();

        &lt;span class=&quot;code-comment&quot;&gt;// Initialise &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;-class
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.init();
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In 2.0, the init() method is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-comment&quot;&gt;// Set the replicator and temporary file store (use the same component)
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultFileReplicator replicator = createDefaultFileReplicator();
        setReplicator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedFileReplicator(replicator));
        setTemporaryFileStore(replicator);

        /* replaced by findClassLoader
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (classLoader == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; classloader
&lt;/span&gt;            classLoader = getClass().getClassLoader();
        }
        */

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (configUri == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; config
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URL url = getClass().getResource(CONFIG_RESOURCE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(&lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.impl/find-config-file.error&quot;&lt;/span&gt;, CONFIG_RESOURCE);
            }
            configUri = url;
        }

        &lt;span class=&quot;code-comment&quot;&gt;// Configure
&lt;/span&gt;        configure(configUri);

        &lt;span class=&quot;code-comment&quot;&gt;// Configure Plugins
&lt;/span&gt;        configurePlugins();

        &lt;span class=&quot;code-comment&quot;&gt;// Initialise &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;-class
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.init();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12595515">VFS-424</key>
            <summary>VFS 2.0 class loading breaks in OSGi, regression from 1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jun 2012 01:24:56 +0000</created>
                <updated>Thu, 11 Aug 2016 17:24:13 +0000</updated>
                            <resolved>Fri, 2 Oct 2015 15:14:10 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13399062" author="garydgregory" created="Fri, 22 Jun 2012 01:27:54 +0000"  >&lt;p&gt;ML discussion started here: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201206.mbox/%3CCACZkXPxuSFDURpaMkwF31re2GxD%2BOUtrNOHMBVy8eqmMbfXvDQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201206.mbox/%3CCACZkXPxuSFDURpaMkwF31re2GxD%2BOUtrNOHMBVy8eqmMbfXvDQ%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14941242" author="b.eckenfels" created="Fri, 2 Oct 2015 15:14:10 +0000"  >&lt;p&gt;Fixed in this commit: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1706429&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1706429&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291729" author="b.eckenfels" created="Thu, 19 May 2016 18:25:39 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="15417073" author="barak066" created="Thu, 11 Aug 2016 11:43:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt;&lt;br/&gt;
I am facing the same error even on version 2.1 &lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;jar:&lt;a href=&quot;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&lt;/a&gt;&quot;.&lt;br/&gt;
java.util.concurrent.ExecutionException: org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;jar:&lt;a href=&quot;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&lt;/a&gt;&quot;. &lt;br/&gt;
at java.util.concurrent.FutureTask.report(FutureTask.java:122) &lt;br/&gt;
at java.util.concurrent.FutureTask.get(FutureTask.java:206) &lt;/p&gt;</comment>
                            <comment id="15417588" author="garydgregory" created="Thu, 11 Aug 2016 17:00:55 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-621&quot; title=&quot;Add API VFS.setManager(FileSystemManager)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-621&quot;&gt;&lt;del&gt;VFS-621&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15417628" author="b.eckenfels" created="Thu, 11 Aug 2016 17:24:13 +0000"  >&lt;p&gt;Do you deploy VFS as its own bundle or is it embedded or shadowed in the application bundle or a different service bundle? In the later case, did you include the xml resources as well?&lt;/p&gt;

&lt;p&gt;I am using VFS in OSGi without the VFS.getManager(). I simply instantiate the manager myself. I think this is much better as it avoids sharing the instance and you have better control over classloading and configuration.&lt;/p&gt;

&lt;p&gt;(That said, yes we should fix it anyway, using the (new) setter does not look like we should require it for OSGi use)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12996127">VFS-621</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kn0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>