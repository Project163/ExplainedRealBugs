<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-427] [HTTP] NPE on HttpFileObject.getContent().getContentInfo()</title>
                <link>https://issues.apache.org/jira/browse/VFS-427</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;It looks like the &quot;head&quot; httpMethod is getting set to null, but is used in the getContentInfo() call.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598440">VFS-427</key>
            <summary>[HTTP] NPE on HttpFileObject.getContent().getContentInfo()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="awelynant">Craig Skinfill</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 19:46:51 +0000</created>
                <updated>Thu, 19 May 2016 18:25:46 +0000</updated>
                            <resolved>Mon, 16 Jul 2012 20:19:26 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13411999" author="garydgregory" created="Wed, 11 Jul 2012 21:10:13 +0000"  >&lt;p&gt;What version are you using?&lt;/p&gt;

&lt;p&gt;Please get the latest from trunk and see:&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.test.ProviderReadTests.testContentInfo()&lt;/p&gt;

&lt;p&gt;Can you reproduce your problems there? Or provide reproducible test case in code?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13412015" author="awelynant" created="Wed, 11 Jul 2012 21:28:04 +0000"  >&lt;p&gt;Here&apos;s what I&apos;m seeing&lt;/p&gt;


&lt;p&gt;FileSystemManager fsManager = VFS.getManager();&lt;br/&gt;
FileObject fo = fsManager.resolveFile(&quot;http://www.google.com/images/logos/ps_logo2.png&quot;);&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.vfs2.provider.http.HttpFileContentInfoFactory.create(HttpFileContentInfoFactory.java:43)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.DefaultFileContent.getContentInfo(DefaultFileContent.java:731)&lt;/p&gt;


&lt;p&gt;However, it appears to work fine if I put&lt;br/&gt;
FileObject fo = fsManager.resolveFile(uri2use);&lt;br/&gt;
fo.getType();&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;or if I do&lt;br/&gt;
FileObject fo = fsManager.resolveFile(uri2use);&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getSize();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;In those two cases it works properly (no NPE).  Looks like the headMethod in the HttpFileObject needs to be initialized earlier?&lt;/p&gt;</comment>
                            <comment id="13412472" author="garydgregory" created="Thu, 12 Jul 2012 03:00:28 +0000"  >&lt;p&gt;1) You did not reply to which version of VFS you are using.&lt;/p&gt;

&lt;p&gt;2) Can you dupliicate this with trunk?&lt;/p&gt;

&lt;p&gt;I added another test in trunk: org.apache.commons.vfs2.provider.http.test.HttpProviderTestCase.testGetContentInfo()&lt;/p&gt;

&lt;p&gt;I can see where the code might cause an NPE, but I&apos;d like to have a test case in trunk that breaks before I change any code.&lt;/p&gt;</comment>
                            <comment id="13412494" author="awelynant" created="Thu, 12 Jul 2012 03:59:57 +0000"  >&lt;p&gt;1) I&apos;m using version 2.0 from maven repo.&lt;/p&gt;

&lt;p&gt;2) I haven&apos;t tried against trunk.  I&apos;ll try tomorrow.&lt;/p&gt;</comment>
                            <comment id="13415366" author="garydgregory" created="Mon, 16 Jul 2012 16:37:20 +0000"  >&lt;p&gt;Any more info?&lt;/p&gt;</comment>
                            <comment id="13415374" author="awelynant" created="Mon, 16 Jul 2012 16:50:32 +0000"  >&lt;p&gt;I tried it against trunk, and it still threw the exception if i don&apos;t call fo.getType() first.&lt;/p&gt;</comment>
                            <comment id="13415397" author="garydgregory" created="Mon, 16 Jul 2012 17:08:08 +0000"  >&lt;p&gt;Ok, I can reproduce, will fix today or tomorrow...&lt;/p&gt;</comment>
                            <comment id="13415600" author="garydgregory" created="Mon, 16 Jul 2012 20:19:26 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-427&quot; title=&quot;[HTTP] NPE on HttpFileObject.getContent().getContentInfo()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-427&quot;&gt;&lt;del&gt;VFS-427&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;HTTP&amp;#93;&lt;/span&gt; NPE on HttpFileObject.getContent().getContentInfo().&quot; (7 paths specified)&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileContentInfoFactory.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileObject.java&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/http/test/GetContentInfoFunctionalTest.java&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https/test&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https/test/GetContentInfoFunctionalTest.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1362235.&lt;/p&gt;</comment>
                            <comment id="15291749" author="b.eckenfels" created="Thu, 19 May 2016 18:25:46 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12965235">VFS-605</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>