<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:13:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-69] FTPFileObject monitor doesn&apos;t retrieve lastModifiedTime</title>
                <link>https://issues.apache.org/jira/browse/VFS-69</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Monitoring of files on a ftp server using DefaultFileMonitor doesn&apos;t seem to register changes in the last modified time.&lt;/p&gt;

&lt;p&gt;From the email correspondance with Mario:&lt;/p&gt;

&lt;p&gt;1.&lt;br/&gt;
This is how I&apos;ve set up my DefaultFileMonitor:&lt;/p&gt;

&lt;p&gt;  DefaultFileMonitor fm = new DefaultFileMonitor(new FileListener() {&lt;br/&gt;
    public void fileCreated(FileChangeEvent arg0) throws Exception &lt;/p&gt;
{
	System.out.println(&quot;File created. &quot; + arg0.getFile().getName());
    }
&lt;p&gt;    public void fileDeleted(FileChangeEvent arg0) throws Exception &lt;/p&gt;
{
	System.out.println(&quot;File deleted. &quot; + arg0.getFile().getName());
    }
&lt;p&gt;    public void fileChanged(FileChangeEvent arg0) throws Exception &lt;/p&gt;
{
	System.out.println(&quot;File changed. &quot; + arg0.getFile().getName());
  }
&lt;p&gt;  });&lt;/p&gt;

&lt;p&gt;  fm.setDelay(60000);&lt;br/&gt;
  fm.addFile(file);&lt;br/&gt;
  fm.start();&lt;/p&gt;


&lt;p&gt;2.&lt;br/&gt;
Thanks for the code snipped. I tried it with the default&lt;br/&gt;
VFS.getManager() (without setting the CacheStrategy) and it works here with my ftp server as expected.&lt;br/&gt;
I am pretty sure for your tests you do not use a delay of 60000, do you?&lt;br/&gt;
I tried it with 5000 (5 seconds) and get the events promptly.&lt;br/&gt;
But ...... I pointed the monitor to a directory ....&lt;/p&gt;

&lt;p&gt;&amp;gt; And this is how I run my checks:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;   try {&lt;br/&gt;
&amp;gt;     for (int i = 0; 1 &amp;lt; 100; i++) &lt;/p&gt;
{
&amp;gt;       Thread.sleep(60000); //  1 minute
&amp;gt;       System.out.println(file.getContent().getLastModifiedTime() + &quot;  &quot;
&amp;gt; + file.getName());
&amp;gt;     }
&lt;p&gt;&amp;gt;   } catch (InterruptedException ie) &lt;/p&gt;
{
&amp;gt;     ie.printStackTrace();
&amp;gt;   }
&lt;p&gt;&amp;gt;   &lt;br/&gt;
.... ok - got it. Its a bug in the FTPFileObject, unhappily I have no workaround yet.&lt;/p&gt;

&lt;p&gt;Thank you for your help and sorry again for the extra work.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Java version 1.4.2 (this is the version of Java that WebSphere Portal 5.1 runs on), WebSphere Portal&lt;/p&gt;</environment>
        <key id="12345541">VFS-69</key>
            <summary>FTPFileObject monitor doesn&apos;t retrieve lastModifiedTime</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="imario">Mario Ivankovits</assignee>
                                    <reporter username="firesoft">Tony Cooke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jul 2006 15:42:30 +0000</created>
                <updated>Sat, 9 Dec 2006 07:48:20 +0000</updated>
                            <resolved>Sat, 9 Dec 2006 07:48:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12457048" author="imario" created="Sat, 9 Dec 2006 07:48:13 +0000"  >&lt;p&gt;Should be fixed now, though, it looks not very performant as we have to refetch the whole parent listing.&lt;br/&gt;
Maybe there is room for improvement in the future.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05jpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>