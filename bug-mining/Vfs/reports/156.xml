<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-498] OSGI MANIFEST.MF &quot;Import-Package&quot; should be &quot;;resolution:=optional&quot; for Maven &quot;optional&quot; dependencies</title>
                <link>https://issues.apache.org/jira/browse/VFS-498</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;In the Maven &quot;pom.xml&quot; there are several &quot;optional&quot; dependencies like &quot;jsch&quot;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;com.jcraft&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;jsch&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In the &quot;Import-Package&quot; section of the MANIFEST.MF it should also be &quot;optional&quot; like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;com.jcraft.jsch;resolution:=optional,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;At the moment all dependencies are always required. This is a problem if you want to use VFS in an OSGI environment as you have to install ALL dependencies and not only the ones you really need.&lt;/p&gt;

&lt;p&gt;The mechanism creating the MANIFEST should be adjusted to reflect the optional dependencies also in the MANIFEST. (Unfortunatelly this could mean to list all packages which should be optional).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675995">VFS-498</key>
            <summary>OSGI MANIFEST.MF &quot;Import-Package&quot; should be &quot;;resolution:=optional&quot; for Maven &quot;optional&quot; dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="michael-schnell">Michael Schnell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Oct 2013 13:30:51 +0000</created>
                <updated>Mon, 5 Mar 2018 11:06:39 +0000</updated>
                            <resolved>Wed, 12 Aug 2015 14:42:32 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13864306" author="mwebber" created="Tue, 7 Jan 2014 14:54:55 +0000"  >&lt;p&gt;Note: &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-448&quot; title=&quot;commons-vfs 2.0 JAR has flawed OSGi MANIFEST.MF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-448&quot;&gt;&lt;del&gt;VFS-448&lt;/del&gt;&lt;/a&gt; also mentions this problem&lt;/p&gt;

&lt;p&gt;We would also be very interested in getting this fixed. Is there any chance of a 2.1 release with this fixed up?&lt;/p&gt;

&lt;p&gt;We are using VFS 1.0 at the moment just to get around this, but that has its own drawbacks.&lt;/p&gt;
</comment>
                            <comment id="13864343" author="garydgregory" created="Tue, 7 Jan 2014 15:53:22 +0000"  >&lt;p&gt;Please feel free to provide a patch against the SVN trunk code base.&lt;/p&gt;

&lt;p&gt;I&apos;d like to get a 2.1 release ASAP but my Apache time is limited.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13889740" author="b.eckenfels" created="Mon, 3 Feb 2014 18:49:06 +0000"  >&lt;p&gt;I added this to &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-448&quot; title=&quot;commons-vfs 2.0 JAR has flawed OSGi MANIFEST.MF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-448&quot;&gt;&lt;del&gt;VFS-448&lt;/del&gt;&lt;/a&gt; as there was a solution suggested there but it seems not to work without additional work:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Currently the 2.1-SN trunk has common-parent:32 and the effective POM shows maven-bundle-plugin:2.4.0.&lt;br/&gt;
However this does not help the situation.&lt;br/&gt;
Claus Ibsen, I have not seen a way to honor optional dependencies, can you maybe point us to a reference whant the plugin would need? Otherwise I would provide a patch using the *;resolution=optional pattern, but this is a bit ugly as I dont want to maintain mandatotey package list.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13890369" author="b.eckenfels" created="Tue, 4 Feb 2014 04:30:17 +0000"  >&lt;p&gt;I found the reference, it is supposed to be implemented in maven-bundle-plugin:2.3.4 as of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-2809&lt;/a&gt; From that source it seems to not need an option. Any idea why it is not working?&lt;/p&gt;
</comment>
                            <comment id="14269984" author="b.eckenfels" created="Thu, 8 Jan 2015 20:18:08 +0000"  >&lt;p&gt;Ok it works, but only if the Bnd tool actually sees those dependencies. The commons-parent does exclude all dependencies by default, essentially dumbing down the manifest generation process. I wonder if this is intentional?&lt;/p&gt;

&lt;p&gt;If I overwrite the setting the resolution=optional are correctly added (and version ranges for some of the packages. The later I am not sure if this is a good idea to introduce it in 2.1, but on the other hand as the import seems quite broken in 2.0 I guess nobody would mind...)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;configuration&amp;gt;
      &amp;lt;excludeDependencies combine.self=&lt;span class=&quot;code-quote&quot;&gt;&quot;override&quot;&lt;/span&gt;&amp;gt;none&amp;lt;/excludeDependencies&amp;gt;
    &amp;lt;/configuration&amp;gt;
  &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14270032" author="b.eckenfels" created="Thu, 8 Jan 2015 20:53:20 +0000"  >&lt;p&gt;Results in the following includes (need to fixup hadoop):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;com.jcraft.jsch;resolution:=optional,
org.apache.commons.collections4.map;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[4.0,5)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.commons.compress.archivers;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.compress.archivers.tar;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.compress.compressors.bzip2;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.commons.httpclient;resolution:=optional,
org.apache.commons.httpclient.auth;resolution:=optional,
org.apache.commons.httpclient.methods;resolution:=optional,
org.apache.commons.httpclient.params;resolution:=optional,
org.apache.commons.httpclient.util;resolution:=optional,

org.apache.commons.logging;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.2,2)&quot;&lt;/span&gt;,

org.apache.commons.net;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.ftp;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.ftp.parser;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.util;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.hadoop.conf,
org.apache.hadoop.fs,
org.apache.hadoop.fs.permission,

org.apache.jackrabbit.webdav;resolution:=optional,
org.apache.jackrabbit.webdav.client.methods;resolution:=optional,
org.apache.jackrabbit.webdav.property;resolution:=optional,
org.apache.jackrabbit.webdav.version;resolution:=optional,
org.apache.jackrabbit.webdav.xml;resolution:=optional,

org.apache.tools.ant;resolution:=optional,

javax.crypto,
javax.crypto.spec,
javax.net.ssl,
javax.xml.parsers,
org.w3c.dom
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14526487" author="fiveo" created="Mon, 4 May 2015 10:04:00 +0000"  >&lt;p&gt;What is the status of this ticket now? Does the added &quot;resolution:=optional&quot; now solves the reported issue? Is there any more testing required? &lt;/p&gt;</comment>
                            <comment id="14693608" author="b.eckenfels" created="Wed, 12 Aug 2015 14:42:32 +0000"  >&lt;p&gt;Fixed by Commit r1688726 and r1695539.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1688726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1688726&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/r1695539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1695539&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some extra HDFS integration testing would be good.&lt;/p&gt;</comment>
                            <comment id="15291761" author="b.eckenfels" created="Thu, 19 May 2016 18:25:51 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="16384718" author="amergey" created="Sat, 3 Mar 2018 16:20:58 +0000"  >&lt;p&gt;This one should be reopened in version 2.2 some dependences are not optional anymore:&lt;/p&gt;

&lt;p&gt;hadoop, jackrabit and ant&lt;/p&gt;</comment>
                            <comment id="16384848" author="b.eckenfels" created="Sat, 3 Mar 2018 20:39:12 +0000"  >&lt;p&gt;You can open a new bug, its easier to track that way.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12833403">VFS-571</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13142468">VFS-655</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1paav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>