<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-490] [vfsclassloader] tries to open folders with .zip or .jar extension</title>
                <link>https://issues.apache.org/jira/browse/VFS-490</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When adding folders with a name ending in &lt;tt&gt;.zip&lt;/tt&gt; or &lt;tt&gt;.jar&lt;/tt&gt; to the &lt;tt&gt;VFSClassLoader&lt;/tt&gt; will fail to load resources from this search path. &lt;/p&gt;

&lt;p&gt;It tries to open it as a layered filesystem. This can be fixed in the classloader by checking that the file type has content, but most likely it is a more generic bug in &lt;tt&gt;canCreateFileSystem()&lt;/tt&gt; which does not do this distinction.&lt;/p&gt;

&lt;p&gt;The following is a quick fixed version (it also inlines the Resource class)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ecki/seeburger-vfs2/blob/master/vfs2provider-jdbctable/src/main/java/com/seeburger/vfs2/util/VFSClassLoader.java#L152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ecki/seeburger-vfs2/blob/master/vfs2provider-jdbctable/src/main/java/com/seeburger/vfs2/util/VFSClassLoader.java#L152&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664163">VFS-490</key>
            <summary>[vfsclassloader] tries to open folders with .zip or .jar extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 23:12:58 +0000</created>
                <updated>Thu, 19 May 2016 18:26:03 +0000</updated>
                            <resolved>Thu, 1 Oct 2015 14:28:27 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13770374" author="b.eckenfels" created="Wed, 18 Sep 2013 03:26:25 +0000"  >&lt;p&gt;I proposed an alternative fix for `FileTypeMap#getScheme(FileObject)`&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13770743" author="garydgregory" created="Wed, 18 Sep 2013 13:00:04 +0000"  >&lt;p&gt;Bernd,&lt;/p&gt;

&lt;p&gt;Could you please create a patch for a unit test?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13770841" author="b.eckenfels" created="Wed, 18 Sep 2013 14:57:10 +0000"  >&lt;p&gt;Gary, I have one (will attach it later its on another machine) however it does not really work because it makes problems with the generic tast framework harness which I dont really understand. I will attach it here, maybe you can tell me what to do.&lt;/p&gt;

&lt;p&gt;When adding it to the VfsClassLoaderTest it sill run against all providers, which should work however it requires the manager to be reconfigued to have Replication and JAR provider added. But even when I do it it does not work on all Filesystems. So alternative option would be a stand alone test against a well constructed manager, but this seems to be kind of the wrong approach.&lt;/p&gt;</comment>
                            <comment id="13771989" author="b.eckenfels" created="Thu, 19 Sep 2013 15:56:50 +0000"  >&lt;p&gt;Started Question/Discussion on the commons-dev list: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201309.mbox/%3Cop.w3mhbqc47zan39%40eckenfels02.seeburger.de%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201309.mbox/%3Cop.w3mhbqc47zan39%40eckenfels02.seeburger.de%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13774722" author="garydgregory" created="Mon, 23 Sep 2013 16:59:35 +0000"  >&lt;p&gt;Patches FileTypeMap as suggested but also shows more problems with using a folder with &quot;.jar&quot; in the name, see subdir4.jar.&lt;/p&gt;</comment>
                            <comment id="14935366" author="b.eckenfels" created="Tue, 29 Sep 2015 16:03:14 +0000"  >&lt;p&gt;Gary, can you elaborate some more, not sure I get the meaning.&lt;/p&gt;</comment>
                            <comment id="14935368" author="garydgregory" created="Tue, 29 Sep 2015 16:05:48 +0000"  >&lt;p&gt;That was two years ago, I do not recall off the top of my head... I might have time tomorrow night to look.&lt;/p&gt;</comment>
                            <comment id="14938257" author="b.eckenfels" created="Wed, 30 Sep 2015 18:45:06 +0000"  >&lt;p&gt;Think I have sorted out the test harness setup, will commit a fix with some unit tests.&lt;/p&gt;</comment>
                            <comment id="14939889" author="b.eckenfels" created="Thu, 1 Oct 2015 14:28:27 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1706261&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1706261&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291794" author="b.eckenfels" created="Thu, 19 May 2016 18:26:03 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604626" name="VFS-490.diff" size="6215" author="ggregory" created="Mon, 23 Sep 2013 16:59:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ncnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>