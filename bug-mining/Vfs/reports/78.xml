<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:14:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[VFS-364] WebdavFileObject.isCurrentFile fails if response.getHref returns just the path.</title>
                <link>https://issues.apache.org/jira/browse/VFS-364</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;WebdavFileObject checks the returned list of children to exclude the current directory from the list of children. This fails with Oracle XML DB as it only returns the path and does not include the protocol, host and port.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS/X&lt;/p&gt;</environment>
        <key id="12524505">VFS-364</key>
            <summary>WebdavFileObject.isCurrentFile fails if response.getHref returns just the path.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2011 07:12:21 +0000</created>
                <updated>Fri, 20 May 2016 10:01:47 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 16:12:29 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13113920" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:21:09 +0000"  >&lt;p&gt;isCurrentFile now checks for just a matching path in addition to a full match.&lt;/p&gt;</comment>
                            <comment id="13113921" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:21:27 +0000"  >&lt;p&gt;Fix validated&lt;/p&gt;</comment>
                            <comment id="14242742" author="b.eckenfels" created="Thu, 11 Dec 2014 16:12:20 +0000"  >&lt;p&gt;Resolved till shipped.&lt;/p&gt;</comment>
                            <comment id="15291797" author="b.eckenfels" created="Thu, 19 May 2016 18:26:04 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="15292857" author="felixjongleur42" created="Fri, 20 May 2016 07:02:03 +0000"  >&lt;p&gt;I can confirm that this is still a bug, talking to a Milton WebDAV Server.&lt;br/&gt;
The code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isCurrentFile(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; href, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileName fileName)
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = hrefString(fileName);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (href.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;) &amp;amp;&amp;amp; !name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;))
        {
            name += &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; href.equals(name) || href.equals(fileName.getPath());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I had the case where in the last line:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;name is the complete URL&lt;/li&gt;
	&lt;li&gt;href is the relative URL with a trailing slash, and&lt;/li&gt;
	&lt;li&gt;fileName.getPath() returns the relative path &lt;b&gt;without&lt;/b&gt; the trailing slash&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;thus the method returns false where it should return true.&lt;/p&gt;</comment>
                            <comment id="15293101" author="felixjongleur42" created="Fri, 20 May 2016 10:01:47 +0000"  >&lt;p&gt;Oh, and this also breaks&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.commons.vfs2.FileObject.deleteAll()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which is quite a pain.&lt;br/&gt;
This does not only affect OS/X obviously, my tests are under Windows 8.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>