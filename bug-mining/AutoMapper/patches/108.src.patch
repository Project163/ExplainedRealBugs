diff --git a/src/AutoMapper/ConfigurationStore.cs b/src/AutoMapper/ConfigurationStore.cs
index 6f0a5d62..f516f7a3 100644
--- a/src/AutoMapper/ConfigurationStore.cs
+++ b/src/AutoMapper/ConfigurationStore.cs
@@ -435,8 +435,8 @@ public bool HasOpenGenericTypeMapDefined(ResolutionContext context)
         private IEnumerable<TypePair> GetRelatedTypePairs(TypePair root)
         {
             var subTypePairs =
-                from sourceType in GetAllTypes(root.SourceType)
                 from destinationType in GetAllTypes(root.DestinationType)
+                from sourceType in GetAllTypes(root.SourceType)
                 select new TypePair(sourceType, destinationType);
             return subTypePairs;
         }
diff --git a/src/IntegrationTests.Net4/IntegrationTests.Net4.csproj b/src/IntegrationTests.Net4/IntegrationTests.Net4.csproj
index 814c8cfb..30962e66 100644
--- a/src/IntegrationTests.Net4/IntegrationTests.Net4.csproj
+++ b/src/IntegrationTests.Net4/IntegrationTests.Net4.csproj
@@ -76,6 +76,7 @@
     <Compile Include="OverrideDestinationMappingsTest.cs" />
     <Compile Include="ProjectToAbstractType.cs" />
     <Compile Include="Properties\AssemblyInfo.cs" />
+    <Compile Include="ProxyTests.cs" />
   </ItemGroup>
   <ItemGroup>
     <None Include="App.config" />
diff --git a/src/IntegrationTests.Net4/ProxyTests.cs b/src/IntegrationTests.Net4/ProxyTests.cs
new file mode 100644
index 00000000..14375eb5
--- /dev/null
+++ b/src/IntegrationTests.Net4/ProxyTests.cs
@@ -0,0 +1,113 @@
+ï»¿namespace AutoMapper.IntegrationTests.Net4
+{
+    using System.Collections.Generic;
+    using System.ComponentModel.DataAnnotations;
+    using System.Data.Entity;
+    using System.Linq;
+    using Xunit;
+
+    public class ProxyTests
+    {
+        [Fact]
+        public void Test()
+        {
+            Database.SetInitializer(new Initializer());
+
+            Mapper.Initialize(cfg => {
+                cfg.CreateMap<TrainingCourse, TrainingCourseDto>().Include<TrainingCourse, ParentTrainingCourseDto>();
+                cfg.CreateMap<TrainingCourse, ParentTrainingCourseDto>();
+                cfg.CreateMap<TrainingContent, TrainingContentDto>();
+            });
+            Mapper.AssertConfigurationIsValid();
+
+            var context = new ClientContext();
+            var course = context.TrainingCourses.FirstOrDefault(n => n.CourseName == "Course 1");
+            var dto = Mapper.Map<TrainingCourseDto>(course);
+        }
+
+        class Initializer : DropCreateDatabaseAlways<ClientContext>
+        {
+            protected override void Seed(ClientContext context)
+            {
+                var course = new TrainingCourse { CourseName = "Course 1" };
+                context.TrainingCourses.Add(course);
+                var content = new TrainingContent { ContentName = "Content 1", Course = course };
+                context.TrainingContents.Add(content);
+                course.Content.Add(content);
+            }
+        }
+
+        class ClientContext : DbContext
+        {
+            public ClientContext() : base(@"Server=(localdb)\v12.0;Integrated Security=true;Initial Catalog = ClientContext;")
+            {
+            }
+
+            public DbSet<TrainingCourse> TrainingCourses { get; set; }
+            public DbSet<TrainingContent> TrainingContents { get; set; }
+        }
+
+        public class TrainingCourse
+        {
+            public TrainingCourse()
+            {
+                Content = new List<TrainingContent>();
+            }
+
+            public TrainingCourse(TrainingCourse entity)
+            {
+                Mapper.Map(entity, this);
+            }
+
+            [Key]
+            public int CourseId { get; set; }
+
+            public string CourseName { get; set; }
+
+            public virtual ICollection<TrainingContent> Content { get; set; }
+        }
+
+        public class TrainingContent
+        {
+            public TrainingContent()
+            {
+            }
+
+            [Key]
+            public int ContentId { get; set; }
+
+            public string ContentName { get; set; }
+
+            public virtual TrainingCourse Course { get; set; }
+
+            //  public int CourseId { get; set; }
+
+        }
+
+        public class TrainingCourseDto
+        {
+            public int CourseId { get; set; }
+
+            public string CourseName { get; set; }
+
+            public virtual ICollection<TrainingContentDto> Content { get; set; }
+        }
+
+        public class ParentTrainingCourseDto : TrainingCourseDto
+        {
+            [IgnoreMap]
+            public override ICollection<TrainingContentDto> Content { get; set; }
+        }
+
+        public class TrainingContentDto
+        {
+            public int ContentId { get; set; }
+
+            public string ContentName { get; set; }
+
+            public ParentTrainingCourseDto Course { get; set; }
+
+            //  public int CourseId { get; set; }
+        }
+    }
+}
\ No newline at end of file
