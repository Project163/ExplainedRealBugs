{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075","repository_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper","labels_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075/labels{/name}","comments_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075/comments","events_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075/events","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/1075","id":130960137,"node_id":"MDU6SXNzdWUxMzA5NjAxMzc=","number":1075,"title":"IncludeBase failure in 4.2 (worked in 4.1 and below)","user":{"login":"richardlawley","id":1608083,"node_id":"MDQ6VXNlcjE2MDgwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1608083?v=4","gravatar_id":"","url":"https://api.github.com/users/richardlawley","html_url":"https://github.com/richardlawley","followers_url":"https://api.github.com/users/richardlawley/followers","following_url":"https://api.github.com/users/richardlawley/following{/other_user}","gists_url":"https://api.github.com/users/richardlawley/gists{/gist_id}","starred_url":"https://api.github.com/users/richardlawley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardlawley/subscriptions","organizations_url":"https://api.github.com/users/richardlawley/orgs","repos_url":"https://api.github.com/users/richardlawley/repos","events_url":"https://api.github.com/users/richardlawley/events{/privacy}","received_events_url":"https://api.github.com/users/richardlawley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":92629237,"node_id":"MDU6TGFiZWw5MjYyOTIzNw==","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/milestones/18","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/milestone/18","labels_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/milestones/18/labels","id":1548192,"node_id":"MDk6TWlsZXN0b25lMTU0ODE5Mg==","number":18,"title":"5.0.0-beta-1","description":"","creator":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":92,"state":"closed","created_at":"2016-01-28T03:40:14Z","updated_at":"2016-07-25T14:05:11Z","due_on":"2016-03-01T08:00:00Z","closed_at":"2016-05-18T04:29:33Z"},"comments":22,"created_at":"2016-02-03T09:03:25Z","updated_at":"2019-05-07T19:05:28Z","closed_at":"2016-03-23T14:52:49Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Since I upgraded to 4.2, some of my unit tests have been breaking on an AssertConfigurationIsValid.  I've now managed to cut down my classes to a minimum example necessary to reproduce the problem\n\nClasses:\n\n```\npublic abstract class BaseBaseSource {  }\npublic class BaseSource : BaseBaseSource {\n    public string Foo { get; set; }\n}\npublic class Source : BaseSource { }\n\npublic abstract class BaseBaseDest {\n    public string Foo { get; set; }\n}\npublic class BaseDest : BaseBaseDest {  }\npublic class Dest : BaseDest { }\n```\n\nMapping Profile:\n\n```\npublic class TestProfile : Profile {\n    protected override void Configure() {\n        CreateMap<BaseSource, BaseDest>();\n        CreateMap<Source, Dest>()\n            .IncludeBase<BaseSource, BaseDest>();\n    }\n}\n```\n\nUnit Test:\n\n```\n[TestMethod]\npublic void IncludeBase_AutoMapper42() {\n    var config = new MapperConfiguration(cfg => cfg.AddProfile<TestProfile>());\n    config.AssertConfigurationIsValid();\n}\n\n// [TestMethod]\n// public void IncludeBase_AutoMapper41() {\n//  Mapper.Initialize(cfg => cfg.AddProfile<TestProfile>());\n//  Mapper.AssertConfigurationIsValid();\n// }\n```\n\nMapping failure error message:\n\n> BaseBaseSource -> BaseBaseDest (Destination member list)\n> AutoMapper42.BaseBaseSource -> AutoMapper42.BaseBaseDest (Destination member list)\n> \n> Unmapped properties:\n> Foo\n\nThis test fails in AutoMapper 4.2, but passes in 4.1.1.  To reproduce this, it seems to require multiple levels of inheritance, and for the property being matched NOT to be at the same level.  For example, if you move Foo fo BaseBaseSource, the property is at the same level and the mapping works.\n\nThe problem disappears if you remove `.IncludeBase` (which in this case works because Foo is the same on both sides, but my full example requires mapping statements).\n","closed_by":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/1075/timeline","performed_via_github_app":null,"state_reason":"completed"}