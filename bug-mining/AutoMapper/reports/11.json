{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48","repository_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper","labels_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48/labels{/name}","comments_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48/comments","events_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48/events","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/48","id":1545715,"node_id":"MDU6SXNzdWUxNTQ1NzE1","number":48,"title":"Conditional mapping executes mapping function even for conditions that aren't met","user":{"login":"jdosullivan","id":824682,"node_id":"MDQ6VXNlcjgyNDY4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/824682?v=4","gravatar_id":"","url":"https://api.github.com/users/jdosullivan","html_url":"https://github.com/jdosullivan","followers_url":"https://api.github.com/users/jdosullivan/followers","following_url":"https://api.github.com/users/jdosullivan/following{/other_user}","gists_url":"https://api.github.com/users/jdosullivan/gists{/gist_id}","starred_url":"https://api.github.com/users/jdosullivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdosullivan/subscriptions","organizations_url":"https://api.github.com/users/jdosullivan/orgs","repos_url":"https://api.github.com/users/jdosullivan/repos","events_url":"https://api.github.com/users/jdosullivan/events{/privacy}","received_events_url":"https://api.github.com/users/jdosullivan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":180230,"node_id":"MDU6TGFiZWwxODAyMzA=","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/labels/Feature%20Request","name":"Feature Request","color":"02e10c","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-09-01T20:52:40Z","updated_at":"2019-05-08T21:32:24Z","closed_at":"2011-12-15T22:41:18Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\n\nI find it confusing that automapper still executes mapping code for objects that don't meet the specified condition. Shouldn't it skip trying to map the value in the first test?\nThis forces me to handle properties that I'm not even trying to map. For instance, null values on reference type properties.\n\nE.g: For the mapping below, both tests hit the TestMapping method.\nMapper.Initialize(cfg =>\n{\ncfg.CreateMap<Source, Destination>().ForMember(dest => dest.Value, opt => { opt.Condition(src => src.Value > 0); } opt.MapFrom(s => TestMapping(s.Value)); });\n});\n\nint TestMapping(int value) { return value + 1; }\n\n[Test]\npublic void Should_skip_the_mapping_when_the_condition_is_true()\n{\nvar destination = Mapper.Map<Source, Destination>(new Source {Value = -1});\ndestination.Value.ShouldEqual(0);\n}\n\n[Test]\npublic void Should_execute_the_mapping_when_the_condition_is_false()\n{\nvar destination = Mapper.Map<Source, Destination>(new Source { Value = 7 });\ndestination.Value.ShouldEqual(7);\n}\n\nIs there a way to get it to simply skip altogether?\n","closed_by":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/48/timeline","performed_via_github_app":null,"state_reason":"completed"}