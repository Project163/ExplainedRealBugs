{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446","repository_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper","labels_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446/labels{/name}","comments_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446/comments","events_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446/events","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/446","id":25645577,"node_id":"MDU6SXNzdWUyNTY0NTU3Nw==","number":446,"title":"Evaluate IMemberConfigurationExpression conditions before resolve value","user":{"login":"ChristianBirkl","id":6393404,"node_id":"MDQ6VXNlcjYzOTM0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6393404?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristianBirkl","html_url":"https://github.com/ChristianBirkl","followers_url":"https://api.github.com/users/ChristianBirkl/followers","following_url":"https://api.github.com/users/ChristianBirkl/following{/other_user}","gists_url":"https://api.github.com/users/ChristianBirkl/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristianBirkl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristianBirkl/subscriptions","organizations_url":"https://api.github.com/users/ChristianBirkl/orgs","repos_url":"https://api.github.com/users/ChristianBirkl/repos","events_url":"https://api.github.com/users/ChristianBirkl/events{/privacy}","received_events_url":"https://api.github.com/users/ChristianBirkl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":92629422,"node_id":"MDU6TGFiZWw5MjYyOTQyMg==","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/labels/Feature","name":"Feature","color":"009800","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/milestones/8","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/milestone/8","labels_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/milestones/8/labels","id":546697,"node_id":"MDk6TWlsZXN0b25lNTQ2Njk3","number":8,"title":"3.2.0","description":"","creator":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":49,"state":"closed","created_at":"2014-01-24T16:31:56Z","updated_at":"2014-04-25T14:41:28Z","due_on":null,"closed_at":"2014-04-15T12:58:17Z"},"comments":2,"created_at":"2014-01-15T13:00:39Z","updated_at":"2019-05-08T14:06:08Z","closed_at":"2014-04-10T02:54:02Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\n\nit would be nice if conditions are evaluated before ResolveValue is called in order to avoid executing code (i.e. calling the getter of the underlying property) which won't be needed anyway because a condition will return false. \n\nSpecifing IMemberConfigurationExpression.Ignore() would work since this is evaluated before resolving the value but my use case depends on dynamic variables.\n\nSource:\n\n```\nTypeMapObjectMapperRegistry::PropertyMapMappingStrategy:MapPropertyValue()\n```\n\nAll conditions are evaluated in line 133, but the source value is resolved in line 104.\n\n```\ntry\n{\n   result = propertyMap.ResolveValue(context);\n}\n\n// snip...\n\nif (!propertyMap.ShouldAssignValue(newContext))\n                        return;\n```\n\nUse Case where this is helpful:\n\nIf you have an application with EntityFramework and have implemented a property based security layer which may or may not map a certain property based on privileges you can use the op.Condition () method to define these rules. But currently AutoMapper invokes the getter and therefore triggers an SELECT which may not be needed since the condition returns false anyway.\n","closed_by":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/446/timeline","performed_via_github_app":null,"state_reason":"completed"}