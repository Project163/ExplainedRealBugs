[{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17618744","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17618744","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17618744,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjE4NzQ0","user":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-08T16:49:45Z","updated_at":"2013-05-08T16:49:45Z","body":"Use ResolveUsing instead of MapFrom, have you tried that?\n\nOn Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\nnotifications@github.comwrote:\n\n> The following code does not work as expected:\n> \n> .ForMember(dest => dest.Number, opt =>\n> {\n> opt.Condition(src => src.NullableNumber.HasValue);\n> opt.MapFrom(src => new DestObject(src.Name, src.NullableNumber.Value,\n> null));\n> })\n> \n> Throws an exception if the source NullableNumber is null. The exception is\n> {\"Nullable object must have a value.\"}. It seems that the new DestObject()\n> statement is executed before the Condition statement. Changing it to\n> something that does not create an object in the MapFrom function makes the\n> code work as expected.\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17618744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17629583","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17629583","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17629583,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjI5NTgz","user":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-08T19:51:39Z","updated_at":"2013-05-08T19:51:39Z","body":"That would work I guess, but it's not a \"clean\" solution: I want the code\nexecuted _only_ when the condition is met. It seems that this is a bug or\nat least inconsistent behaviour in AutoMapper that as long as it's dealing\nwith \"primatives\" it will resolve the condition before the mapping\nstatement but not if the mapping statement has a \"new\" keyword.\n\nOn 8 May 2013 18:49, Jimmy Bogard notifications@github.com wrote:\n\n> Use ResolveUsing instead of MapFrom, have you tried that?\n> \n> On Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\n> notifications@github.comwrote:\n> \n> > The following code does not work as expected:\n> > \n> > .ForMember(dest => dest.Number, opt =>\n> > {\n> > opt.Condition(src => src.NullableNumber.HasValue);\n> > opt.MapFrom(src => new DestObject(src.Name, src.NullableNumber.Value,\n> > null));\n> > })\n> > \n> > Throws an exception if the source NullableNumber is null. The exception\n> > is\n> > {\"Nullable object must have a value.\"}. It seems that the new\n> > DestObject()\n> > statement is executed before the Condition statement. Changing it to\n> > something that does not create an object in the MapFrom function makes\n> > the\n> > code work as expected.\n> > \n> > —\n> > Reply to this email directly or view it on GitHub<\n> > https://github.com/AutoMapper/AutoMapper/issues/335>\n> > .\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17618744\n> .\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17629583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17645087","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17645087","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17645087,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjQ1MDg3","user":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-09T01:49:54Z","updated_at":"2013-05-09T01:49:54Z","body":"The MapFrom statement isn't meant for anything but redirecting properties\nfrom one to another - not something more complex like the new operator.\n\nMake sense?\n\nOn Wed, May 8, 2013 at 2:51 PM, Rob van Geloven notifications@github.comwrote:\n\n> That would work I guess, but it's not a \"clean\" solution: I want the code\n> executed _only_ when the condition is met. It seems that this is a bug or\n> at least inconsistent behaviour in AutoMapper that as long as it's dealing\n> with \"primatives\" it will resolve the condition before the mapping\n> statement but not if the mapping statement has a \"new\" keyword.\n> \n> On 8 May 2013 18:49, Jimmy Bogard notifications@github.com wrote:\n> \n> > Use ResolveUsing instead of MapFrom, have you tried that?\n> > \n> > On Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\n> > notifications@github.comwrote:\n> > \n> > > The following code does not work as expected:\n> > > \n> > > .ForMember(dest => dest.Number, opt =>\n> > > {\n> > > opt.Condition(src => src.NullableNumber.HasValue);\n> > > opt.MapFrom(src => new DestObject(src.Name, src.NullableNumber.Value,\n> > > null));\n> > > })\n> > > \n> > > Throws an exception if the source NullableNumber is null. The\n> > > exception\n> > > is\n> > > {\"Nullable object must have a value.\"}. It seems that the new\n> > > DestObject()\n> > > statement is executed before the Condition statement. Changing it to\n> > > something that does not create an object in the MapFrom function makes\n> > > the\n> > > code work as expected.\n> > > \n> > > —\n> > > Reply to this email directly or view it on GitHub<\n> > > https://github.com/AutoMapper/AutoMapper/issues/335>\n> > > .\n> > \n> > —\n> > Reply to this email directly or view it on GitHub<\n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17618744>\n> > \n> > .\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17629583\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17645087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17653224","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17653224","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17653224,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjUzMjI0","user":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-09T07:43:07Z","updated_at":"2013-05-09T07:43:07Z","body":"Yes it does, though wouldn't you agree that the bug is still a valid one?\nThe object in question has two properties that are separate but related\nfields on the source object. A simple projection really and it's skirting\nthe line of \"just redirecting\" fairly close..\n\nWith this use case, ResolveUsing is still the preferred way I guess?\n\nThank you for your time btw!\nOn 9 May 2013 03:50, \"Jimmy Bogard\" notifications@github.com wrote:\n\n> The MapFrom statement isn't meant for anything but redirecting properties\n> from one to another - not something more complex like the new operator.\n> \n> Make sense?\n> \n> On Wed, May 8, 2013 at 2:51 PM, Rob van Geloven notifications@github.comwrote:\n> \n> > That would work I guess, but it's not a \"clean\" solution: I want the\n> > code\n> > executed _only_ when the condition is met. It seems that this is a bug\n> > or\n> > at least inconsistent behaviour in AutoMapper that as long as it's\n> > dealing\n> > with \"primatives\" it will resolve the condition before the mapping\n> > statement but not if the mapping statement has a \"new\" keyword.\n> > \n> > On 8 May 2013 18:49, Jimmy Bogard notifications@github.com wrote:\n> > \n> > > Use ResolveUsing instead of MapFrom, have you tried that?\n> > > \n> > > On Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\n> > > notifications@github.comwrote:\n> > > \n> > > > The following code does not work as expected:\n> > > > \n> > > > .ForMember(dest => dest.Number, opt =>\n> > > > {\n> > > > opt.Condition(src => src.NullableNumber.HasValue);\n> > > > opt.MapFrom(src => new DestObject(src.Name,\n> > > > src.NullableNumber.Value,\n> > > > null));\n> > > > })\n> > > > \n> > > > Throws an exception if the source NullableNumber is null. The\n> > > > exception\n> > > > is\n> > > > {\"Nullable object must have a value.\"}. It seems that the new\n> > > > DestObject()\n> > > > statement is executed before the Condition statement. Changing it to\n> > > > something that does not create an object in the MapFrom function\n> > > > makes\n> > > > the\n> > > > code work as expected.\n> > > > \n> > > > —\n> > > > Reply to this email directly or view it on GitHub<\n> > > > https://github.com/AutoMapper/AutoMapper/issues/335>\n> > > > .\n> > > \n> > > —\n> > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17618744>\n> > \n> > > .\n> > \n> > —\n> > Reply to this email directly or view it on GitHub<\n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17629583>\n> > \n> > .\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17645087\n> .\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17653224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17664215","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17664215","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17664215,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjY0MjE1","user":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-09T13:31:58Z","updated_at":"2013-05-09T13:31:58Z","body":"The idea of MapFrom is to imitate flattening behavior (auto-suppression of\nnull reference exceptions being one), but I could do a little better on\nup-front catching of this to prevent weird bugs.\n\nOn Thu, May 9, 2013 at 2:43 AM, Rob van Geloven notifications@github.comwrote:\n\n> Yes it does, though wouldn't you agree that the bug is still a valid one?\n> The object in question has two properties that are separate but related\n> fields on the source object. A simple projection really and it's skirting\n> the line of \"just redirecting\" fairly close..\n> \n> With this use case, ResolveUsing is still the preferred way I guess?\n> \n> Thank you for your time btw!\n> On 9 May 2013 03:50, \"Jimmy Bogard\" notifications@github.com wrote:\n> \n> > The MapFrom statement isn't meant for anything but redirecting\n> > properties\n> > from one to another - not something more complex like the new operator.\n> > \n> > Make sense?\n> > \n> > On Wed, May 8, 2013 at 2:51 PM, Rob van Geloven <\n> > notifications@github.com>wrote:\n> > \n> > > That would work I guess, but it's not a \"clean\" solution: I want the\n> > > code\n> > > executed _only_ when the condition is met. It seems that this is a bug\n> > > or\n> > > at least inconsistent behaviour in AutoMapper that as long as it's\n> > > dealing\n> > > with \"primatives\" it will resolve the condition before the mapping\n> > > statement but not if the mapping statement has a \"new\" keyword.\n> > > \n> > > On 8 May 2013 18:49, Jimmy Bogard notifications@github.com wrote:\n> > > \n> > > > Use ResolveUsing instead of MapFrom, have you tried that?\n> > > > \n> > > > On Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\n> > > > notifications@github.comwrote:\n> > > > \n> > > > > The following code does not work as expected:\n> > > > > \n> > > > > .ForMember(dest => dest.Number, opt =>\n> > > > > {\n> > > > > opt.Condition(src => src.NullableNumber.HasValue);\n> > > > > opt.MapFrom(src => new DestObject(src.Name,\n> > > > > src.NullableNumber.Value,\n> > > > > null));\n> > > > > })\n> > > > > \n> > > > > Throws an exception if the source NullableNumber is null. The\n> > > > > exception\n> > > > > is\n> > > > > {\"Nullable object must have a value.\"}. It seems that the new\n> > > > > DestObject()\n> > > > > statement is executed before the Condition statement. Changing it\n> > > > > to\n> > > > > something that does not create an object in the MapFrom function\n> > > > > makes\n> > > > > the\n> > > > > code work as expected.\n> > > > > \n> > > > > —\n> > > > > Reply to this email directly or view it on GitHub<\n> > > > > https://github.com/AutoMapper/AutoMapper/issues/335>\n> > > > > .\n> > > > \n> > > > —\n> > > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17618744>\n> > \n> > > > .\n> > > \n> > > —\n> > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17629583>\n> > \n> > > .\n> > \n> > —\n> > Reply to this email directly or view it on GitHub<\n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17645087>\n> > \n> > .\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17653224\n> .\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17664215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17813996","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17813996","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17813996,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODEzOTk2","user":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-13T14:13:25Z","updated_at":"2013-05-13T14:13:25Z","body":"A bit further testing shows that this code also does not execute as\nexpected:\n\n.ForMember(dest => dest.ID, opt =>\n                    {\n                        opt.Condition(src =>\n!string.IsNullOrWhiteSpace(src.ClientID));\n                        opt.MapFrom(src => src.ClientID);\n                    })\n\nAm I misunderstanding what \"Condition\" does or is supposed to do?\n\nOn 9 May 2013 15:32, Jimmy Bogard notifications@github.com wrote:\n\n> The idea of MapFrom is to imitate flattening behavior (auto-suppression of\n> null reference exceptions being one), but I could do a little better on\n> up-front catching of this to prevent weird bugs.\n> \n> On Thu, May 9, 2013 at 2:43 AM, Rob van Geloven notifications@github.comwrote:\n> \n> > Yes it does, though wouldn't you agree that the bug is still a valid\n> > one?\n> > The object in question has two properties that are separate but related\n> > fields on the source object. A simple projection really and it's\n> > skirting\n> > the line of \"just redirecting\" fairly close..\n> > \n> > With this use case, ResolveUsing is still the preferred way I guess?\n> > \n> > Thank you for your time btw!\n> > On 9 May 2013 03:50, \"Jimmy Bogard\" notifications@github.com wrote:\n> > \n> > > The MapFrom statement isn't meant for anything but redirecting\n> > > properties\n> > > from one to another - not something more complex like the new\n> > > operator.\n> > > \n> > > Make sense?\n> > > \n> > > On Wed, May 8, 2013 at 2:51 PM, Rob van Geloven <\n> > > notifications@github.com>wrote:\n> > > \n> > > > That would work I guess, but it's not a \"clean\" solution: I want the\n> > > > code\n> > > > executed _only_ when the condition is met. It seems that this is a\n> > > > bug\n> > > > or\n> > > > at least inconsistent behaviour in AutoMapper that as long as it's\n> > > > dealing\n> > > > with \"primatives\" it will resolve the condition before the mapping\n> > > > statement but not if the mapping statement has a \"new\" keyword.\n> > > > \n> > > > On 8 May 2013 18:49, Jimmy Bogard notifications@github.com wrote:\n> > > > \n> > > > > Use ResolveUsing instead of MapFrom, have you tried that?\n> > > > > \n> > > > > On Wed, May 8, 2013 at 11:01 AM, Rob van Geloven\n> > > > > notifications@github.comwrote:\n> > > > > \n> > > > > > The following code does not work as expected:\n> > > > > > \n> > > > > > .ForMember(dest => dest.Number, opt =>\n> > > > > > {\n> > > > > > opt.Condition(src => src.NullableNumber.HasValue);\n> > > > > > opt.MapFrom(src => new DestObject(src.Name,\n> > > > > > src.NullableNumber.Value,\n> > > > > > null));\n> > > > > > })\n> > > > > > \n> > > > > > Throws an exception if the source NullableNumber is null. The\n> > > > > > exception\n> > > > > > is\n> > > > > > {\"Nullable object must have a value.\"}. It seems that the new\n> > > > > > DestObject()\n> > > > > > statement is executed before the Condition statement. Changing\n> > > > > > it\n> > > > > > to\n> > > > > > something that does not create an object in the MapFrom function\n> > > > > > makes\n> > > > > > the\n> > > > > > code work as expected.\n> > > > > > \n> > > > > > —\n> > > > > > Reply to this email directly or view it on GitHub<\n> > > > > > https://github.com/AutoMapper/AutoMapper/issues/335>\n> > > > > > .\n> > > > > \n> > > > > —\n> > > > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17618744>\n> > \n> > > > > .\n> > > > \n> > > > —\n> > > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17629583>\n> > \n> > > > .\n> > > \n> > > —\n> > > Reply to this email directly or view it on GitHub<\n> > \n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17645087>\n> > \n> > > .\n> > \n> > —\n> > Reply to this email directly or view it on GitHub<\n> > https://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17653224>\n> > \n> > .\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/AutoMapper/AutoMapper/issues/335#issuecomment-17664215\n> .\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17813996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17817222","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-17817222","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":17817222,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODE3MjIy","user":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-13T15:00:03Z","updated_at":"2013-05-13T15:00:03Z","body":"A small update, it seems to be related to an \"Include\" statement, a small test case I wrote.\n\nThe mapping from ClientID to ID will not work for the \"ChildDest\" object unless I specifically add that mapping.\nAccording to the wiki this should work (I'm using version 2.2.1.0), according to Google this has more people stumped \n\n class Source\n    {\n        public string ClientID\n        {\n            get;\n            set;\n        }\n\n```\n    public string Foo\n    {\n        get;\n        set;\n    }\n}\n\nclass Dest\n{\n    public Dest()\n    {\n        ID = \"12345\";\n    }\n\n    public string ID\n    {\n        get;\n        set;\n    }\n\n    public string Foo\n    {\n        get;\n        set;\n    }\n}\n\nclass ChildDest : Dest\n{\n    public string Bar\n    {\n        get;\n        set;\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Mapper.CreateMap<Source, Dest>()\n            .ForMember(dest => dest.ID, opt =>\n                {\n                    opt.Condition(src => !string.IsNullOrWhiteSpace(src.ClientID));\n                    opt.MapFrom(src => src.ClientID);\n                })\n            .Include<Source, ChildDest>();\n\n        Mapper.CreateMap<Source, ChildDest>()\n            .ForMember(dest => dest.Bar, opt => opt.Ignore());\n\n        var source = new Source()\n        {\n            ClientID = \"\",\n            Foo = \"Bar\"\n        };\n\n        var parentDest = Mapper.Map<Dest>(source);\n        var childDest = Mapper.Map<ChildDest>(source);\n\n        Debug.Assert(parentDest.ID == \"12345\");\n        Debug.Assert(childDest.ID == \"12345\");\n    }\n}\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/17817222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robvangeloven","id":1044817,"node_id":"MDQ6VXNlcjEwNDQ4MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1044817?v=4","gravatar_id":"","url":"https://api.github.com/users/robvangeloven","html_url":"https://github.com/robvangeloven","followers_url":"https://api.github.com/users/robvangeloven/followers","following_url":"https://api.github.com/users/robvangeloven/following{/other_user}","gists_url":"https://api.github.com/users/robvangeloven/gists{/gist_id}","starred_url":"https://api.github.com/users/robvangeloven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robvangeloven/subscriptions","organizations_url":"https://api.github.com/users/robvangeloven/orgs","repos_url":"https://api.github.com/users/robvangeloven/repos","events_url":"https://api.github.com/users/robvangeloven/events{/privacy}","received_events_url":"https://api.github.com/users/robvangeloven/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":73698629,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDczNjk4NjI5","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/events/73698629","actor":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4715b48f7c752293d4567f4c765cac3bb81ca977","commit_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/commits/4715b48f7c752293d4567f4c765cac3bb81ca977","created_at":"2013-11-02T22:21:27Z","performed_via_github_app":null},{"id":73698630,"node_id":"MDExOkNsb3NlZEV2ZW50NzM2OTg2MzA=","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/events/73698630","actor":{"login":"jbogard","id":104498,"node_id":"MDQ6VXNlcjEwNDQ5OA==","avatar_url":"https://avatars.githubusercontent.com/u/104498?v=4","gravatar_id":"","url":"https://api.github.com/users/jbogard","html_url":"https://github.com/jbogard","followers_url":"https://api.github.com/users/jbogard/followers","following_url":"https://api.github.com/users/jbogard/following{/other_user}","gists_url":"https://api.github.com/users/jbogard/gists{/gist_id}","starred_url":"https://api.github.com/users/jbogard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbogard/subscriptions","organizations_url":"https://api.github.com/users/jbogard/orgs","repos_url":"https://api.github.com/users/jbogard/repos","events_url":"https://api.github.com/users/jbogard/events{/privacy}","received_events_url":"https://api.github.com/users/jbogard/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4715b48f7c752293d4567f4c765cac3bb81ca977","commit_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/commits/4715b48f7c752293d4567f4c765cac3bb81ca977","created_at":"2013-11-02T22:21:27Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/490548253","html_url":"https://github.com/LuckyPennySoftware/AutoMapper/issues/335#issuecomment-490548253","issue_url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/335","id":490548253,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDU0ODI1Mw==","user":{"login":"lock[bot]","id":33595554,"node_id":"MDM6Qm90MzM1OTU1NTQ=","avatar_url":"https://avatars.githubusercontent.com/in/6672?v=4","gravatar_id":"","url":"https://api.github.com/users/lock%5Bbot%5D","html_url":"https://github.com/apps/lock","followers_url":"https://api.github.com/users/lock%5Bbot%5D/followers","following_url":"https://api.github.com/users/lock%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lock%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lock%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lock%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lock%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lock%5Bbot%5D/repos","events_url":"https://api.github.com/users/lock%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lock%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T16:06:31Z","updated_at":"2019-05-08T16:06:31Z","body":"This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/comments/490548253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lock[bot]","id":33595554,"node_id":"MDM6Qm90MzM1OTU1NTQ=","avatar_url":"https://avatars.githubusercontent.com/in/6672?v=4","gravatar_id":"","url":"https://api.github.com/users/lock%5Bbot%5D","html_url":"https://github.com/apps/lock","followers_url":"https://api.github.com/users/lock%5Bbot%5D/followers","following_url":"https://api.github.com/users/lock%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lock%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lock%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lock%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lock%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lock%5Bbot%5D/repos","events_url":"https://api.github.com/users/lock%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lock%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":2327730914,"node_id":"MDExOkxvY2tlZEV2ZW50MjMyNzczMDkxNA==","url":"https://api.github.com/repos/LuckyPennySoftware/AutoMapper/issues/events/2327730914","actor":{"login":"lock[bot]","id":33595554,"node_id":"MDM6Qm90MzM1OTU1NTQ=","avatar_url":"https://avatars.githubusercontent.com/in/6672?v=4","gravatar_id":"","url":"https://api.github.com/users/lock%5Bbot%5D","html_url":"https://github.com/apps/lock","followers_url":"https://api.github.com/users/lock%5Bbot%5D/followers","following_url":"https://api.github.com/users/lock%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lock%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lock%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lock%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lock%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lock%5Bbot%5D/repos","events_url":"https://api.github.com/users/lock%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lock%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2019-05-08T16:06:31Z","lock_reason":"resolved","performed_via_github_app":null}]