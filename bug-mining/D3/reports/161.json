{"url":"https://api.github.com/repos/d3/d3/issues/1413","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/1413/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/1413/comments","events_url":"https://api.github.com/repos/d3/d3/issues/1413/events","html_url":"https://github.com/d3/d3/issues/1413","id":17013647,"node_id":"MDU6SXNzdWUxNzAxMzY0Nw==","number":1413,"title":"right way to make a copy of a d3 map","user":{"login":"porcus","id":1274180,"node_id":"MDQ6VXNlcjEyNzQxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1274180?v=4","gravatar_id":"","url":"https://api.github.com/users/porcus","html_url":"https://github.com/porcus","followers_url":"https://api.github.com/users/porcus/followers","following_url":"https://api.github.com/users/porcus/following{/other_user}","gists_url":"https://api.github.com/users/porcus/gists{/gist_id}","starred_url":"https://api.github.com/users/porcus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/porcus/subscriptions","organizations_url":"https://api.github.com/users/porcus/orgs","repos_url":"https://api.github.com/users/porcus/repos","events_url":"https://api.github.com/users/porcus/events{/privacy}","received_events_url":"https://api.github.com/users/porcus/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/d3/d3/milestones/26","html_url":"https://github.com/d3/d3/milestone/26","labels_url":"https://api.github.com/repos/d3/d3/milestones/26/labels","id":345190,"node_id":"MDk6TWlsZXN0b25lMzQ1MTkw","number":26,"title":"3.2.x","description":"","creator":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":65,"state":"closed","created_at":"2013-05-30T21:24:47Z","updated_at":"2013-08-22T08:25:21Z","due_on":null,"closed_at":"2013-08-22T08:25:21Z"},"comments":7,"created_at":"2013-07-21T01:35:04Z","updated_at":"2013-08-01T14:41:13Z","closed_at":"2013-08-01T14:41:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've a question about the \"right way\" to do something.  I attempted to do something using d3.map similar to the following:\n\n```\nvar m = d3.map();\nm.set('key', 'value');\nvar m2 = d3.map(m);\nm2.get('key');  // returns undefined  :(\n```\n\nI was a little perplexed until I looked at the source code.  I then tried the following and got the result I was expecting:\n\n```\nm2.get('\\0key');  // returns \"value\"  :)\n```\n\nI don't know why I assumed that I could make a copy of a d3 map, given another d3 map instance, but it seemed logical at the time.  And I didn't even discover that it wasn't working until I tried getting the value using what I thought was the correct key.  What was really perplexing to me for about 15 minutes was that because '\\0' is a non-printable character, listing the keys of m2 made it appear that 'key' was the correct key when in fact it wasn't.  \n\nIf I want to make a copy of an existing map, what's the right way to do it?  I know I can do it like this...\n\n```\nm.forEach( function(k,v) { m2.set(k,v) } );\n```\n\n... but is there not a simpler way to do this?  (My guess is that there isn't based upon the source code I've looked over.)  If not, might you consider augmenting the d3.map() method to handle this special case when given another instance of a map?  Just a suggestion.  :)\n\nThanks in advance!\n\nPaul\n","closed_by":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/d3/d3/issues/1413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/1413/timeline","performed_via_github_app":null,"state_reason":"completed"}