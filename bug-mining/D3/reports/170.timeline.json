[{"url":"https://api.github.com/repos/d3/d3/issues/comments/21251284","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21251284","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21251284,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjUxMjg0","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-19T14:05:16Z","updated_at":"2013-07-19T14:13:30Z","body":"Yes, it was luck that it worked previously. ;)\n\nThe problem here is that a new transition doesn’t interrupt an old transition until it starts. And since the delay is set after the transition is created, even a zero-delay transition does not start until after one tick passes, which is typically about 16ms. (D3 does not have a formal run loop, so the only way it can tell when you’re done defining a transition is by waiting one tick.) Thus your new transition cancels the old transition, but allows one tick of the old transition before it is interrupted by the new one.\n\nWhat changed in [3.1.10](https://github.com/mbostock/d3/releases/tag/v3.1.10) is that transition callbacks are now called in the order they were registered, rather than in reverse order. So the example works in 3.1.6 because the new transition’s callbacks are invoked _before_ the old transition callback, whereas in 3.1.10+ the new transition’s callbacks are invoked _after_ the old ones. 3.1.10 makes the in-order invocation of callbacks explicit (per #1245) and 3.2.7 further solidifies this behavior (as we discussed previously in #1402).\n\nI think what we need here is an explicit way to cancel any currently-running transition, rather than relying on the implicit behavior that scheduling a new transition will interrupt the previous one. The simple way to do that in your example is to reset the active transition:\n\n``` js\nselection.each(function() { this.__transition__.active = 0; });\n```\n\nThis only cancels the current active transition; it won’t prevent any scheduled but not currently active transitions from starting in the future. It will crash if there isn’t a transition scheduled, so a more robust way of writing it would be:\n\n``` js\nselection.each(function() {\n  var lock = this.__transition__;\n  if (lock) lock.active = 0;\n});\n```\n\nYou could also monkey-patch this into the selection prototype:\n\n``` js\nd3.selection.prototype.interrupt = function() {\n  return this.each(function() {\n    var lock = this.__transition__;\n    if (lock) lock.active = 0;\n  });\n};\n```\n\nIf you also want to prevent any currently-scheduled transitions from starting in the future, you could find the latest scheduled transition and set the active transition to its id (rather than zero):\n\n``` js\nselection.each(function() {\n  var lock = this.__transition__;\n  if (lock) {\n    var active = -1;\n    for (var id in lock) if ((id = +id) > active) active = id;\n    lock.active = active + 1;\n  }\n});\n```\n\nYou can also solve this problem without explicitly canceling current transitions, simply by moving your modifications to the transition rather than doing it synchronously to the selection. For example, you could set the transition duration to zero (the delay is zero by default):\n\n``` js\nselection.transition()\n    .duration(0)\n    .attr(\"cx\", 50);\n```\n\nOr likewise you could perform your operations when the transition starts (and since the transition doesn’t actually do anything, you don’t have to specify a duration or delay):\n\n``` js\nselection.transition()\n    .each(\"start\", function() { d3.select(this).attr(\"cx\", 50); });\n```\n\nBut, these have the downside of taking place one tick after the user event, so are slightly more sluggish than canceling the active transition immediately. So explicitly interrupting the transition is probably best here.\n\nI am changing this issue into a feature request to add selection.interrupt (or equivalent API per subsequent discussion).\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21251284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21256898","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21256898","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21256898,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjU2ODk4","user":{"login":"pjanik","id":767857,"node_id":"MDQ6VXNlcjc2Nzg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/767857?v=4","gravatar_id":"","url":"https://api.github.com/users/pjanik","html_url":"https://github.com/pjanik","followers_url":"https://api.github.com/users/pjanik/followers","following_url":"https://api.github.com/users/pjanik/following{/other_user}","gists_url":"https://api.github.com/users/pjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/pjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjanik/subscriptions","organizations_url":"https://api.github.com/users/pjanik/orgs","repos_url":"https://api.github.com/users/pjanik/repos","events_url":"https://api.github.com/users/pjanik/events{/privacy}","received_events_url":"https://api.github.com/users/pjanik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-19T15:30:30Z","updated_at":"2013-07-19T15:30:30Z","body":"I've finally implemented:\n\n``` javascript\n  d3.selection.prototype.interrupt = function() {\n    return this.each(function() {\n      var lock = this.__transition__;\n      if (lock) {\n        var active = -1;\n        for (var id in lock) if ((id = +id) > active) active = id;\n        lock.active = active + 1;\n      }\n    });\n  };\n```\n\nworks like a charm. Thanks again!\n\nBTW I'm not sure if you are planning to extend D3 API with only one variant of .interrupt() implementation (cancel only current transition vs cancel all currently-scheduled transitions), but I could easily find use cases for both of them.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21256898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pjanik","id":767857,"node_id":"MDQ6VXNlcjc2Nzg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/767857?v=4","gravatar_id":"","url":"https://api.github.com/users/pjanik","html_url":"https://github.com/pjanik","followers_url":"https://api.github.com/users/pjanik/followers","following_url":"https://api.github.com/users/pjanik/following{/other_user}","gists_url":"https://api.github.com/users/pjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/pjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjanik/subscriptions","organizations_url":"https://api.github.com/users/pjanik/orgs","repos_url":"https://api.github.com/users/pjanik/repos","events_url":"https://api.github.com/users/pjanik/events{/privacy}","received_events_url":"https://api.github.com/users/pjanik/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21260164","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21260164","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21260164,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjYwMTY0","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-19T16:19:47Z","updated_at":"2013-07-19T16:19:47Z","body":"Yeah, I think we’d probably want both. Perhaps even the ability to cancel up to a given transition.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21260164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21347123","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21347123","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21347123,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzQ3MTIz","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-22T14:21:54Z","updated_at":"2013-07-22T14:22:14Z","body":"It occurred to me there is another way to interrupt the current transition synchronously using [d3.timer.flush](https://github.com/mbostock/d3/wiki/Transitions#wiki-d3_timer_flush):\n\n``` js\nselection.transition(); // schedule an immediate transition\nd3.timer.flush(); // start the transition now!\nselection.attr(\"cx\", 50); // you are now safe to modify\n```\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21347123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21347178","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21347178","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21347178,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzQ3MTc4","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-22T14:22:31Z","updated_at":"2013-07-22T14:22:31Z","body":"I think it’s probably worth expanding the transitions API to enable greater control in situations like this. Here are some use cases to consider:\n- Queueing a transition following the current transition (if any), and interrupting any later scheduled transitions.\n- Queueing a transition after all scheduled transitions (if any). (Or perhaps after a specific transition, or if there is a gap in transitions?)\n- Checking whether an element is currently transitioning or has scheduled transitions.\n- Interrupting the current transition.\n- Canceling (undoing) a specific scheduled transition.\n- Canceling (undoing) all scheduled transitions.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21347178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-22T14:23:39Z","updated_at":"2013-07-22T14:23:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/d3/d3/issues/1416","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/1416/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/1416/comments","events_url":"https://api.github.com/repos/d3/d3/issues/1416/events","html_url":"https://github.com/d3/d3/issues/1416","id":17043943,"node_id":"MDU6SXNzdWUxNzA0Mzk0Mw==","number":1416,"title":"Queuing transitions in event callback","user":{"login":"j0hnsmith","id":118963,"node_id":"MDQ6VXNlcjExODk2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/118963?v=4","gravatar_id":"","url":"https://api.github.com/users/j0hnsmith","html_url":"https://github.com/j0hnsmith","followers_url":"https://api.github.com/users/j0hnsmith/followers","following_url":"https://api.github.com/users/j0hnsmith/following{/other_user}","gists_url":"https://api.github.com/users/j0hnsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/j0hnsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j0hnsmith/subscriptions","organizations_url":"https://api.github.com/users/j0hnsmith/orgs","repos_url":"https://api.github.com/users/j0hnsmith/repos","events_url":"https://api.github.com/users/j0hnsmith/events{/privacy}","received_events_url":"https://api.github.com/users/j0hnsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2013-07-22T12:34:03Z","updated_at":"2013-07-22T14:23:39Z","closed_at":"2013-07-22T14:23:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":943149,"node_id":"MDEwOlJlcG9zaXRvcnk5NDMxNDk=","name":"d3","full_name":"d3/d3","private":false,"owner":{"login":"d3","id":1562726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjI3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1562726?v=4","gravatar_id":"","url":"https://api.github.com/users/d3","html_url":"https://github.com/d3","followers_url":"https://api.github.com/users/d3/followers","following_url":"https://api.github.com/users/d3/following{/other_user}","gists_url":"https://api.github.com/users/d3/gists{/gist_id}","starred_url":"https://api.github.com/users/d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d3/subscriptions","organizations_url":"https://api.github.com/users/d3/orgs","repos_url":"https://api.github.com/users/d3/repos","events_url":"https://api.github.com/users/d3/events{/privacy}","received_events_url":"https://api.github.com/users/d3/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/d3/d3","description":"Bring data to life with SVG, Canvas and HTML. :bar_chart::chart_with_upwards_trend::tada:","fork":false,"url":"https://api.github.com/repos/d3/d3","forks_url":"https://api.github.com/repos/d3/d3/forks","keys_url":"https://api.github.com/repos/d3/d3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/d3/d3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/d3/d3/teams","hooks_url":"https://api.github.com/repos/d3/d3/hooks","issue_events_url":"https://api.github.com/repos/d3/d3/issues/events{/number}","events_url":"https://api.github.com/repos/d3/d3/events","assignees_url":"https://api.github.com/repos/d3/d3/assignees{/user}","branches_url":"https://api.github.com/repos/d3/d3/branches{/branch}","tags_url":"https://api.github.com/repos/d3/d3/tags","blobs_url":"https://api.github.com/repos/d3/d3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/d3/d3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/d3/d3/git/refs{/sha}","trees_url":"https://api.github.com/repos/d3/d3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/d3/d3/statuses/{sha}","languages_url":"https://api.github.com/repos/d3/d3/languages","stargazers_url":"https://api.github.com/repos/d3/d3/stargazers","contributors_url":"https://api.github.com/repos/d3/d3/contributors","subscribers_url":"https://api.github.com/repos/d3/d3/subscribers","subscription_url":"https://api.github.com/repos/d3/d3/subscription","commits_url":"https://api.github.com/repos/d3/d3/commits{/sha}","git_commits_url":"https://api.github.com/repos/d3/d3/git/commits{/sha}","comments_url":"https://api.github.com/repos/d3/d3/comments{/number}","issue_comment_url":"https://api.github.com/repos/d3/d3/issues/comments{/number}","contents_url":"https://api.github.com/repos/d3/d3/contents/{+path}","compare_url":"https://api.github.com/repos/d3/d3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/d3/d3/merges","archive_url":"https://api.github.com/repos/d3/d3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/d3/d3/downloads","issues_url":"https://api.github.com/repos/d3/d3/issues{/number}","pulls_url":"https://api.github.com/repos/d3/d3/pulls{/number}","milestones_url":"https://api.github.com/repos/d3/d3/milestones{/number}","notifications_url":"https://api.github.com/repos/d3/d3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/d3/d3/labels{/name}","releases_url":"https://api.github.com/repos/d3/d3/releases{/id}","deployments_url":"https://api.github.com/repos/d3/d3/deployments","created_at":"2010-09-27T17:22:42Z","updated_at":"2025-11-09T18:23:06Z","pushed_at":"2025-07-27T11:30:40Z","git_url":"git://github.com/d3/d3.git","ssh_url":"git@github.com:d3/d3.git","clone_url":"https://github.com/d3/d3.git","svn_url":"https://github.com/d3/d3","homepage":"https://d3js.org","size":59341,"stargazers_count":111757,"watchers_count":111757,"language":"Shell","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":22847,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"isc","name":"ISC License","spdx_id":"ISC","url":"https://api.github.com/licenses/isc","node_id":"MDc6TGljZW5zZTEw"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["chart","charts","d3","data-visualization","svg","visualization"],"visibility":"public","forks":22847,"open_issues":25,"watchers":111757,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"How do you queue a new transition on the current element in an event callback? Here's an example of what I'm trying to do\n\n```\nsomeJoin.enter()\n    .append('path')\n        .attr('foo', 'bar')\n        .on('mouseover', function() {\n            if (this.__transition__) {\n                // current transition exists\n                // d3.select(this).transition() // wipes out existing transition\n\n                // how do you get a ref to the existing transition here in order to chain it here?\n            } else {\n                d3.select(this)\n                    .transition()\n                    ...\n            }\n        });\n```\n","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/1416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/1416/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21770757","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-21770757","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":21770757,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzcwNzU3","user":{"login":"scameron","id":984276,"node_id":"MDQ6VXNlcjk4NDI3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/984276?v=4","gravatar_id":"","url":"https://api.github.com/users/scameron","html_url":"https://github.com/scameron","followers_url":"https://api.github.com/users/scameron/followers","following_url":"https://api.github.com/users/scameron/following{/other_user}","gists_url":"https://api.github.com/users/scameron/gists{/gist_id}","starred_url":"https://api.github.com/users/scameron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scameron/subscriptions","organizations_url":"https://api.github.com/users/scameron/orgs","repos_url":"https://api.github.com/users/scameron/repos","events_url":"https://api.github.com/users/scameron/events{/privacy}","received_events_url":"https://api.github.com/users/scameron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-30T05:42:25Z","updated_at":"2013-07-30T05:42:25Z","body":"I'm hitting a version of this problem also.  I was just getting ready to submit an issue when I came across this one.  I, too, have the need to cancel a transition and ensure it doesn't run even once more.\n\nI was going to ask if a possible simple way to cancel transitions immediately might be to move `lock.active = id;` out of the `start` function and instead do it in `d3_transitionNode` when the lock object is created.  This would stop previously scheduled transitions in their tracks as soon as a new transition was created.  And since `id` is incremented with each new transition, it seems like it shouldn't cause any new negative behavior to have the lock active for longer.  But maybe I'm not thinking of something here...\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21770757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"scameron","id":984276,"node_id":"MDQ6VXNlcjk4NDI3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/984276?v=4","gravatar_id":"","url":"https://api.github.com/users/scameron","html_url":"https://github.com/scameron","followers_url":"https://api.github.com/users/scameron/followers","following_url":"https://api.github.com/users/scameron/following{/other_user}","gists_url":"https://api.github.com/users/scameron/gists{/gist_id}","starred_url":"https://api.github.com/users/scameron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scameron/subscriptions","organizations_url":"https://api.github.com/users/scameron/orgs","repos_url":"https://api.github.com/users/scameron/repos","events_url":"https://api.github.com/users/scameron/events{/privacy}","received_events_url":"https://api.github.com/users/scameron/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/22417572","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-22417572","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":22417572,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDE3NTcy","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-08-09T19:20:31Z","updated_at":"2013-08-09T19:20:31Z","body":"The original proposal of setting `this.__transition__.active = 0` has the undesired side-effect of re-enabling transitions that would have been superseded by the current transition. For example, if you schedule transition 1 to start with a delay of 500ms, and then schedule transition 2 to start with a delay of 0ms, transition 2 supersedes transition 1, and so transition 1 should never start. However, if you reset the `active` transition to zero, then when transition 2 starts it thinks it’s safe to proceed.\n\nSo, the correct way to interrupt the current transition (without affecting other scheduled transitions) is simply to increment `active`:\n\n``` js\nd3.selection.prototype.interrupt = function() {\n  return this.each(function() {\n    var lock = this.__transition__;\n    if (lock) ++lock.active;\n  });\n};\n```\n\nIf you _also_ want to cancel any scheduled transitions to prevent them from running in the future, the simplest thing is to combine an interrupt with a no-op transition:\n\n``` js\nselection\n    .interrupt() // interrupt current transition (if any)\n    .transition(); // preempt scheduled transitions (if any)\n```\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/22417572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":60249002,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDYwMjQ5MDAy","url":"https://api.github.com/repos/d3/d3/issues/events/60249002","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3922ba34934ef05d91ba8725c415a1306c9e9c38","commit_url":"https://api.github.com/repos/d3/d3/commits/3922ba34934ef05d91ba8725c415a1306c9e9c38","created_at":"2013-08-09T19:35:24Z","performed_via_github_app":null},{"id":60532192,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDYwNTMyMTky","url":"https://api.github.com/repos/d3/d3/issues/events/60532192","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e7e6c3a6168c8997ae4c6125282372696a5be50c","commit_url":"https://api.github.com/repos/d3/d3/commits/e7e6c3a6168c8997ae4c6125282372696a5be50c","created_at":"2013-08-12T23:33:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/22598781","html_url":"https://github.com/d3/d3/issues/1410#issuecomment-22598781","issue_url":"https://api.github.com/repos/d3/d3/issues/1410","id":22598781,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTk4Nzgx","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-08-13T21:24:08Z","updated_at":"2013-08-13T21:24:08Z","body":"Fixed in #1458 and staged for 3.3.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/22598781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":60707931,"node_id":"MDExOkNsb3NlZEV2ZW50NjA3MDc5MzE=","url":"https://api.github.com/repos/d3/d3/issues/events/60707931","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2013-08-13T21:24:08Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-11T11:59:19Z","updated_at":"2013-11-11T11:59:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/d3/d3/issues/1624","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/1624/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/1624/comments","events_url":"https://api.github.com/repos/d3/d3/issues/1624/events","html_url":"https://github.com/d3/d3/issues/1624","id":22443175,"node_id":"MDU6SXNzdWUyMjQ0MzE3NQ==","number":1624,"title":"line graph with smooth update animation behave differently under v2 and v3","user":{"login":"ArnoldZokas","id":159256,"node_id":"MDQ6VXNlcjE1OTI1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/159256?v=4","gravatar_id":"","url":"https://api.github.com/users/ArnoldZokas","html_url":"https://github.com/ArnoldZokas","followers_url":"https://api.github.com/users/ArnoldZokas/followers","following_url":"https://api.github.com/users/ArnoldZokas/following{/other_user}","gists_url":"https://api.github.com/users/ArnoldZokas/gists{/gist_id}","starred_url":"https://api.github.com/users/ArnoldZokas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArnoldZokas/subscriptions","organizations_url":"https://api.github.com/users/ArnoldZokas/orgs","repos_url":"https://api.github.com/users/ArnoldZokas/repos","events_url":"https://api.github.com/users/ArnoldZokas/events{/privacy}","received_events_url":"https://api.github.com/users/ArnoldZokas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2013-11-11T11:46:16Z","updated_at":"2013-11-11T13:27:27Z","closed_at":"2013-11-11T11:59:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":943149,"node_id":"MDEwOlJlcG9zaXRvcnk5NDMxNDk=","name":"d3","full_name":"d3/d3","private":false,"owner":{"login":"d3","id":1562726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjI3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1562726?v=4","gravatar_id":"","url":"https://api.github.com/users/d3","html_url":"https://github.com/d3","followers_url":"https://api.github.com/users/d3/followers","following_url":"https://api.github.com/users/d3/following{/other_user}","gists_url":"https://api.github.com/users/d3/gists{/gist_id}","starred_url":"https://api.github.com/users/d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d3/subscriptions","organizations_url":"https://api.github.com/users/d3/orgs","repos_url":"https://api.github.com/users/d3/repos","events_url":"https://api.github.com/users/d3/events{/privacy}","received_events_url":"https://api.github.com/users/d3/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/d3/d3","description":"Bring data to life with SVG, Canvas and HTML. :bar_chart::chart_with_upwards_trend::tada:","fork":false,"url":"https://api.github.com/repos/d3/d3","forks_url":"https://api.github.com/repos/d3/d3/forks","keys_url":"https://api.github.com/repos/d3/d3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/d3/d3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/d3/d3/teams","hooks_url":"https://api.github.com/repos/d3/d3/hooks","issue_events_url":"https://api.github.com/repos/d3/d3/issues/events{/number}","events_url":"https://api.github.com/repos/d3/d3/events","assignees_url":"https://api.github.com/repos/d3/d3/assignees{/user}","branches_url":"https://api.github.com/repos/d3/d3/branches{/branch}","tags_url":"https://api.github.com/repos/d3/d3/tags","blobs_url":"https://api.github.com/repos/d3/d3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/d3/d3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/d3/d3/git/refs{/sha}","trees_url":"https://api.github.com/repos/d3/d3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/d3/d3/statuses/{sha}","languages_url":"https://api.github.com/repos/d3/d3/languages","stargazers_url":"https://api.github.com/repos/d3/d3/stargazers","contributors_url":"https://api.github.com/repos/d3/d3/contributors","subscribers_url":"https://api.github.com/repos/d3/d3/subscribers","subscription_url":"https://api.github.com/repos/d3/d3/subscription","commits_url":"https://api.github.com/repos/d3/d3/commits{/sha}","git_commits_url":"https://api.github.com/repos/d3/d3/git/commits{/sha}","comments_url":"https://api.github.com/repos/d3/d3/comments{/number}","issue_comment_url":"https://api.github.com/repos/d3/d3/issues/comments{/number}","contents_url":"https://api.github.com/repos/d3/d3/contents/{+path}","compare_url":"https://api.github.com/repos/d3/d3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/d3/d3/merges","archive_url":"https://api.github.com/repos/d3/d3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/d3/d3/downloads","issues_url":"https://api.github.com/repos/d3/d3/issues{/number}","pulls_url":"https://api.github.com/repos/d3/d3/pulls{/number}","milestones_url":"https://api.github.com/repos/d3/d3/milestones{/number}","notifications_url":"https://api.github.com/repos/d3/d3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/d3/d3/labels{/name}","releases_url":"https://api.github.com/repos/d3/d3/releases{/id}","deployments_url":"https://api.github.com/repos/d3/d3/deployments","created_at":"2010-09-27T17:22:42Z","updated_at":"2025-11-09T18:23:06Z","pushed_at":"2025-07-27T11:30:40Z","git_url":"git://github.com/d3/d3.git","ssh_url":"git@github.com:d3/d3.git","clone_url":"https://github.com/d3/d3.git","svn_url":"https://github.com/d3/d3","homepage":"https://d3js.org","size":59341,"stargazers_count":111757,"watchers_count":111757,"language":"Shell","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":22847,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"isc","name":"ISC License","spdx_id":"ISC","url":"https://api.github.com/licenses/isc","node_id":"MDc6TGljZW5zZTEw"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["chart","charts","d3","data-visualization","svg","visualization"],"visibility":"public","forks":22847,"open_issues":25,"watchers":111757,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This Animated Line Graphs example from http://bl.ocks.org/benjchristensen/1148374 works correctly under v2, but doesn't animate under v3.3.9\n\n```\n<div id=\"graph1\" class=\"aGraph\" style=\"width:600px; height:60px;\"></div>\n\n<script>\n    function draw(id, width, height, updateDelay, transitionDelay) {\n        var graph = d3.select(id).append(\"svg:svg\").attr(\"width\", \"100%\").attr(\"height\", \"100%\");\n        var data = [3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 3, 6, 3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 9];\n\n    var x = d3.scale.linear().domain([0, 48]).range([-5, width]);\n    var y = d3.scale.linear().domain([0, 10]).range([0, height]);\n\n    var line = d3.svg.line()\n            .x(function(d, i) { return x(i); })\n            .y(function(d) { return y(d); })\n            .interpolate(\"basis\");\n\n    graph.selectAll(\"path\")\n            .data([data])\n            .enter()\n            .append(\"svg:path\")\n            .attr(\"d\", line);\n\n    function redraw() {\n        graph.selectAll(\"path\")\n                .data([data])\n                .attr(\"transform\", \"translate(\" + x(1) + \")\")\n                .attr(\"d\", line)\n                .transition()\n                .ease(\"linear\")\n                .duration(transitionDelay)\n                .attr(\"transform\", \"translate(\" + x(0) + \")\");\n    }\n\n    setInterval(function () {\n                data.push(data.shift());\n                redraw();\n        }, updateDelay);\n    }\n\n    draw(\"#graph1\", 300, 30, 1000, 1000);\n</script>\n```\n\nAre there any radical differences between v2 and v3 that make the above script invalid?\n","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/1624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/1624/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":116076413,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDExNjA3NjQxMw==","url":"https://api.github.com/repos/d3/d3/issues/events/116076413","actor":{"login":"robinhouston","id":103315,"node_id":"MDQ6VXNlcjEwMzMxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/103315?v=4","gravatar_id":"","url":"https://api.github.com/users/robinhouston","html_url":"https://github.com/robinhouston","followers_url":"https://api.github.com/users/robinhouston/followers","following_url":"https://api.github.com/users/robinhouston/following{/other_user}","gists_url":"https://api.github.com/users/robinhouston/gists{/gist_id}","starred_url":"https://api.github.com/users/robinhouston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robinhouston/subscriptions","organizations_url":"https://api.github.com/users/robinhouston/orgs","repos_url":"https://api.github.com/users/robinhouston/repos","events_url":"https://api.github.com/users/robinhouston/events{/privacy}","received_events_url":"https://api.github.com/users/robinhouston/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c2bcac8b833caa9a0150ad33ea3ebcf4efb8a8df","commit_url":"https://api.github.com/repos/kiln/talkie/commits/c2bcac8b833caa9a0150ad33ea3ebcf4efb8a8df","created_at":"2014-04-29T10:53:13Z","performed_via_github_app":null}]