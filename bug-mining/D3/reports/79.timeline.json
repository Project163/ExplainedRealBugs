[{"id":19020666,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDIwNjY2","url":"https://api.github.com/repos/d3/d3/issues/events/19020666","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-06-29T23:51:05Z","performed_via_github_app":null},{"id":19020667,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTkwMjA2Njc=","url":"https://api.github.com/repos/d3/d3/issues/events/19020667","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2012-06-29T23:51:05Z","performed_via_github_app":null},{"id":19020668,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5MDIwNjY4","url":"https://api.github.com/repos/d3/d3/issues/events/19020668","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-06-29T23:51:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6692874","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6692874","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6692874,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTI4NzQ=","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-01T11:51:55Z","updated_at":"2012-07-01T11:51:55Z","body":"I started working on a fix for clipping a while ago, sorry it’s taken so long! I should have some time to look at this soon, as I need it to work for an upcoming project.\n\nFor clipping, I can see two possibilities:\n1. Essentially like we are doing now, project into Cartesian 3-space and clip based on distance from the clip circle origin. This can be optimised somewhat for an origin of [0, 0] as we can just check the z-coordinate (z=0 would be 90°). The advantage here is that these Cartesian coordinates can be cached and reused for the azimuthal projection itself, for different rotations.\n2. Alternatively, we can generate a convex polygon representing the clipping circle to a certain degree of precision in spherical coordinates. Then we could apply the clipping algorithm directly in spherical coordinates, before projecting each point. However, the time spent clipping now depends on the number of edges in the convex polygon, since I think it would take time O(mn) where m, n are the number of edges in the clipping and subject polygons.\n\nIn both cases I would use Weiler-Atherton as it handles holes correctly, and my preference is for no. 1 as I think it's faster and you can reuse the projected coordinates.\n\nAs for resampling, this was there mainly to handle the clipped edges, since most unclipped geo polygons are reasonably high precision already. At the moment, we just resample everything after clipping, regardless if it was a clipped or unclipped edge. So I think it would be reasonable to only resample clipped edges. If necessary, polygons can be resampled beforehand e.g. for the grid, but this wouldn't be necessary in most cases e.g. most country polygons.\n\nDo you have any ideas about how reusing the Cartesian coordinates would look for the API? (It could also just be the sin/cos values if that's more usable). Perhaps the cached values could be piggy-backed onto the coordinates array, but that seems like a hack. Or we could expose projecting to Cartesian space so that it's explicitly cached, and this can be used for any animated projections. If a projection receives spherical coordinates, it can just convert on-the-fly instead.\n\nAnyway, I guess fixing the clipping bug should be done first, then optimised afterwards. :)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6692874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6700816","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6700816","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6700816,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA4MTY=","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-02T05:33:30Z","updated_at":"2012-07-02T05:33:30Z","body":"Thanks for looking into this! I think the bug might be how the interpolation point is generated; I'm not sure `(d0 - radians) / (d0 - d1)` is the correct calculation.\n\nClipping to a circle sounds simpler than clipping to a convex polygon, and also more precise. I don't have any specific guidance on other improvements to make yet. Mainly I'd like to fix the clipping bug. :)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6700816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6700978","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6700978","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6700978,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA5Nzg=","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-02T05:51:10Z","updated_at":"2012-07-02T05:51:10Z","body":"Here is a fixed version of the spinning globe that only clips points (no resampling): http://bl.ocks.org/3031319\n\nIt also uses d3.svg.line’s defined property to split clipped lines into multiple segments. Clever, eh? :)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6700978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6702983","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6702983","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6702983,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI5ODM=","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-02T08:33:08Z","updated_at":"2012-07-02T08:33:08Z","body":"Ooh, very nice! See #695 for a fix, it turns out the last interpolation step was buggy.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6702983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19144090,"node_id":"MDExOkNsb3NlZEV2ZW50MTkxNDQwOTA=","url":"https://api.github.com/repos/d3/d3/issues/events/19144090","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"10570e915d6781f4af0e335bc67805764174678a","commit_url":"https://api.github.com/repos/d3/d3/commits/10570e915d6781f4af0e335bc67805764174678a","created_at":"2012-07-02T18:12:50Z","state_reason":null,"performed_via_github_app":null},{"id":19502627,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQxOTUwMjYyNw==","url":"https://api.github.com/repos/d3/d3/issues/events/19502627","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2012-07-06T16:22:56Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6809686","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6809686","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6809686,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDk2ODY=","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-06T16:25:26Z","updated_at":"2012-07-06T16:31:28Z","body":"There’s still a bug. It's fairly easy to see if you reduce the geodesic subdivision to 1 and clip an icosahedron: http://bl.ocks.org/3061181. I suspect that the bug is still related to how we handle closed polygons. Would love if you could take another look, @jasondavies. :)\n\n![geodesic bug](http://i.imgur.com/P0SZe.png)\n\nEdit: Actually, you don't get this bug when using d3.geodesic.multilinestring (as in the grid example), because those aren't closed polygons. You only get it with a multipolygon or polygons.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6809686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19502888,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTk1MDI4ODg=","url":"https://api.github.com/repos/d3/d3/issues/events/19502888","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2012-07-06T16:25:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6831502","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6831502","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6831502,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzE1MDI=","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T14:08:41Z","updated_at":"2012-07-08T14:08:41Z","body":"I have devised a solution for closed polygons (with holes). Now I just need to implement it. Watch this space. :)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6831502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-09T12:53:17Z","updated_at":"2012-07-09T12:53:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/d3/d3/issues/706","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/706/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/706/comments","events_url":"https://api.github.com/repos/d3/d3/issues/706/events","html_url":"https://github.com/d3/d3/pull/706","id":5497953,"node_id":"MDExOlB1bGxSZXF1ZXN0MTc0NTU1OA==","number":706,"title":"Fix d3.geo.circle clipping.","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":50044,"node_id":"MDU6TGFiZWw1MDA0NA==","url":"https://api.github.com/repos/d3/d3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn’t working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2012-07-09T12:53:17Z","updated_at":"2014-06-15T16:19:32Z","closed_at":"2012-10-05T22:28:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":943149,"node_id":"MDEwOlJlcG9zaXRvcnk5NDMxNDk=","name":"d3","full_name":"d3/d3","private":false,"owner":{"login":"d3","id":1562726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjI3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1562726?v=4","gravatar_id":"","url":"https://api.github.com/users/d3","html_url":"https://github.com/d3","followers_url":"https://api.github.com/users/d3/followers","following_url":"https://api.github.com/users/d3/following{/other_user}","gists_url":"https://api.github.com/users/d3/gists{/gist_id}","starred_url":"https://api.github.com/users/d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d3/subscriptions","organizations_url":"https://api.github.com/users/d3/orgs","repos_url":"https://api.github.com/users/d3/repos","events_url":"https://api.github.com/users/d3/events{/privacy}","received_events_url":"https://api.github.com/users/d3/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/d3/d3","description":"Bring data to life with SVG, Canvas and HTML. :bar_chart::chart_with_upwards_trend::tada:","fork":false,"url":"https://api.github.com/repos/d3/d3","forks_url":"https://api.github.com/repos/d3/d3/forks","keys_url":"https://api.github.com/repos/d3/d3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/d3/d3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/d3/d3/teams","hooks_url":"https://api.github.com/repos/d3/d3/hooks","issue_events_url":"https://api.github.com/repos/d3/d3/issues/events{/number}","events_url":"https://api.github.com/repos/d3/d3/events","assignees_url":"https://api.github.com/repos/d3/d3/assignees{/user}","branches_url":"https://api.github.com/repos/d3/d3/branches{/branch}","tags_url":"https://api.github.com/repos/d3/d3/tags","blobs_url":"https://api.github.com/repos/d3/d3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/d3/d3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/d3/d3/git/refs{/sha}","trees_url":"https://api.github.com/repos/d3/d3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/d3/d3/statuses/{sha}","languages_url":"https://api.github.com/repos/d3/d3/languages","stargazers_url":"https://api.github.com/repos/d3/d3/stargazers","contributors_url":"https://api.github.com/repos/d3/d3/contributors","subscribers_url":"https://api.github.com/repos/d3/d3/subscribers","subscription_url":"https://api.github.com/repos/d3/d3/subscription","commits_url":"https://api.github.com/repos/d3/d3/commits{/sha}","git_commits_url":"https://api.github.com/repos/d3/d3/git/commits{/sha}","comments_url":"https://api.github.com/repos/d3/d3/comments{/number}","issue_comment_url":"https://api.github.com/repos/d3/d3/issues/comments{/number}","contents_url":"https://api.github.com/repos/d3/d3/contents/{+path}","compare_url":"https://api.github.com/repos/d3/d3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/d3/d3/merges","archive_url":"https://api.github.com/repos/d3/d3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/d3/d3/downloads","issues_url":"https://api.github.com/repos/d3/d3/issues{/number}","pulls_url":"https://api.github.com/repos/d3/d3/pulls{/number}","milestones_url":"https://api.github.com/repos/d3/d3/milestones{/number}","notifications_url":"https://api.github.com/repos/d3/d3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/d3/d3/labels{/name}","releases_url":"https://api.github.com/repos/d3/d3/releases{/id}","deployments_url":"https://api.github.com/repos/d3/d3/deployments","created_at":"2010-09-27T17:22:42Z","updated_at":"2025-11-09T18:23:06Z","pushed_at":"2025-07-27T11:30:40Z","git_url":"git://github.com/d3/d3.git","ssh_url":"git@github.com:d3/d3.git","clone_url":"https://github.com/d3/d3.git","svn_url":"https://github.com/d3/d3","homepage":"https://d3js.org","size":59341,"stargazers_count":111757,"watchers_count":111757,"language":"Shell","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":22847,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"isc","name":"ISC License","spdx_id":"ISC","url":"https://api.github.com/licenses/isc","node_id":"MDc6TGljZW5zZTEw"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["chart","charts","d3","data-visualization","svg","visualization"],"visibility":"public","forks":22847,"open_issues":25,"watchers":111757,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/d3/d3/pulls/706","html_url":"https://github.com/d3/d3/pull/706","diff_url":"https://github.com/d3/d3/pull/706.diff","patch_url":"https://github.com/d3/d3/pull/706.patch","merged_at":null},"body":"This uses a new algorithm, based on Weiler-Atherton. The difference is\nthat we only need to clip against a single line (the circle), so this\nsimplifies things somewhat. Rough summary:\n1. For each ring in each polygon, intersect with the circle and generate\n   an array of segments. This same routine is used on its own for\n   LineString and MultiLineString features.\n2. Since we're dealing with closed polygons, we check the first and last\n   segment to see if they should be merged into one.\n3. Create a circular linked list containing the intersection points, in\n   clockwise order of their position on the circle. For each start\n   point, include a reference to the end point.\n4. Finally, traverse the linked list, starting with an entering\n   intersection point, inserting the segment and then following the\n   reference to the end point. Then, interpolate along the circle edge\n   to the next (clockwise) point, which should always be an entering\n   point, and repeat until the start point is reached. The resulting\n   ring is added as a polygon.\n5. Continue with step 3 until all entering points have been visited.\n\nTo do: assign holes to their correct polygons, perhaps using winding\nnumbers. At the moment holes are essentially added as separate polygons,\nwhich works for drawing since they're in anticlockwise order.\n\nFixes #691.\n","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/706/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6845654","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6845654","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6845654,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDU2NTQ=","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-09T12:55:14Z","updated_at":"2012-07-09T12:55:14Z","body":"The icosahedron bug is actually due to a bug in the way d3.geodesic inserts the final point; it should be:\n\n``` js\nface.push(face[0])\n```\n\nInstead of:\n\n``` js\nface.push(face[2])\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6845654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6845708","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6845708","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6845708,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDU3MDg=","user":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-09T12:57:21Z","updated_at":"2012-07-09T12:57:21Z","body":"The fixed version: http://bl.ocks.org/3072830\n\nAlthough note that it's using my new clipping algorithm now, too. :)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6845708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jasondavies","id":31223,"node_id":"MDQ6VXNlcjMxMjIz","avatar_url":"https://avatars.githubusercontent.com/u/31223?v=4","gravatar_id":"","url":"https://api.github.com/users/jasondavies","html_url":"https://github.com/jasondavies","followers_url":"https://api.github.com/users/jasondavies/followers","following_url":"https://api.github.com/users/jasondavies/following{/other_user}","gists_url":"https://api.github.com/users/jasondavies/gists{/gist_id}","starred_url":"https://api.github.com/users/jasondavies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasondavies/subscriptions","organizations_url":"https://api.github.com/users/jasondavies/orgs","repos_url":"https://api.github.com/users/jasondavies/repos","events_url":"https://api.github.com/users/jasondavies/events{/privacy}","received_events_url":"https://api.github.com/users/jasondavies/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/6856785","html_url":"https://github.com/d3/d3/issues/691#issuecomment-6856785","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":6856785,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTY3ODU=","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-09T19:23:21Z","updated_at":"2012-07-09T19:23:21Z","body":"Aw, man! Nice find on the bug, and sorry it was my fault. :) Let me know how the new clipping algorithm progresses.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/6856785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19673634,"node_id":"MDExOkNsb3NlZEV2ZW50MTk2NzM2MzQ=","url":"https://api.github.com/repos/d3/d3/issues/events/19673634","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2012-07-09T19:23:21Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/9628267","html_url":"https://github.com/d3/d3/issues/691#issuecomment-9628267","issue_url":"https://api.github.com/repos/d3/d3/issues/691","id":9628267,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjgyNjc=","user":{"login":"boydgreenfield","id":535969,"node_id":"MDQ6VXNlcjUzNTk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/535969?v=4","gravatar_id":"","url":"https://api.github.com/users/boydgreenfield","html_url":"https://github.com/boydgreenfield","followers_url":"https://api.github.com/users/boydgreenfield/followers","following_url":"https://api.github.com/users/boydgreenfield/following{/other_user}","gists_url":"https://api.github.com/users/boydgreenfield/gists{/gist_id}","starred_url":"https://api.github.com/users/boydgreenfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boydgreenfield/subscriptions","organizations_url":"https://api.github.com/users/boydgreenfield/orgs","repos_url":"https://api.github.com/users/boydgreenfield/repos","events_url":"https://api.github.com/users/boydgreenfield/events{/privacy}","received_events_url":"https://api.github.com/users/boydgreenfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-20T05:18:06Z","updated_at":"2012-10-20T05:18:06Z","body":"Hey guys -- I think I'm experiencing a related set of issues to the above with `geo.circle.clip`. But, I am unfortunately having a lot of trouble debugging it as it seems like an error in how the browser parses the svg paths. \n\nBasically, I get an error `Error: Problem parsing d=\"\"` when trying to rotate an orthographic azimuthal projection with a mouseover. For simple representations, it doesn't seem to cause any noticeable problems, but when I have a layer of points projected across a globe I then get random behavior like Argentina and Azerbaijan changing from the background country gray color I have specified to the red color of the points. \n\nThe error occurs for me on the latest versions of Chrome and Safari on OS X, though I can't seem to reproduce it in Firefox. It's also apparent in the above referenced Orthographic Clipping example and older examples ():\n- http://bl.ocks.org/3021474 (Orthographic Clipping)\n- http://bl.ocks.org/3031319 (Orthographic Shading)\n- http://mbostock.github.com/d3/talk/20111018/azimuthal.html (Azimuthal Projects example from 2011)\n\nNotably, I can't get the console to squawk for this example in either Safari or Chrome: \n- http://bl.ocks.org/2974930 (I imagine this is because the shapes aren't actually being clipped, but I haven't looked at the code for it in detail)\n\nI've also gone so far as to litter my own copy of the lastest `master` branch `d3.js` with `console.log()` statements and _believe_ that the issue may only occur for `Polygon` and `MultiPolygon` GeoJSON shapes. That's mostly speculation however as I'm not sure how to catch and debug the actual SVG parsing error.\n\nI hope the above details are helpful in tracking down some deeper bug, rather than simply dealing with some aberrant edge case.\\* Please let me know if there's anything I can do to help, though I'm basically brand new to the world of JS and know next-to-nothing about SVG as well (sorry!).\n\nThanks for all the work on this -- it's an awesome library.\n\nNick\n- I don't believe it's a data quality issue, as I've manually checked the coordinates for some of the bad Polygons in question and they close correctly, etc. It's also unlikely to be data-related given that the regular grid in the above examples also causes this behavior. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/9628267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"boydgreenfield","id":535969,"node_id":"MDQ6VXNlcjUzNTk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/535969?v=4","gravatar_id":"","url":"https://api.github.com/users/boydgreenfield","html_url":"https://github.com/boydgreenfield","followers_url":"https://api.github.com/users/boydgreenfield/followers","following_url":"https://api.github.com/users/boydgreenfield/following{/other_user}","gists_url":"https://api.github.com/users/boydgreenfield/gists{/gist_id}","starred_url":"https://api.github.com/users/boydgreenfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boydgreenfield/subscriptions","organizations_url":"https://api.github.com/users/boydgreenfield/orgs","repos_url":"https://api.github.com/users/boydgreenfield/repos","events_url":"https://api.github.com/users/boydgreenfield/events{/privacy}","received_events_url":"https://api.github.com/users/boydgreenfield/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"boydgreenfield","id":535969,"node_id":"MDQ6VXNlcjUzNTk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/535969?v=4","gravatar_id":"","url":"https://api.github.com/users/boydgreenfield","html_url":"https://github.com/boydgreenfield","followers_url":"https://api.github.com/users/boydgreenfield/followers","following_url":"https://api.github.com/users/boydgreenfield/following{/other_user}","gists_url":"https://api.github.com/users/boydgreenfield/gists{/gist_id}","starred_url":"https://api.github.com/users/boydgreenfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boydgreenfield/subscriptions","organizations_url":"https://api.github.com/users/boydgreenfield/orgs","repos_url":"https://api.github.com/users/boydgreenfield/repos","events_url":"https://api.github.com/users/boydgreenfield/events{/privacy}","received_events_url":"https://api.github.com/users/boydgreenfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-20T05:21:33Z","updated_at":"2012-10-20T05:21:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/d3/d3/issues/861","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/861/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/861/comments","events_url":"https://api.github.com/repos/d3/d3/issues/861/events","html_url":"https://github.com/d3/d3/issues/861","id":7735087,"node_id":"MDU6SXNzdWU3NzM1MDg3","number":861,"title":"Experiencing geo.circle.clip errors that may be related to issue #691","user":{"login":"boydgreenfield","id":535969,"node_id":"MDQ6VXNlcjUzNTk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/535969?v=4","gravatar_id":"","url":"https://api.github.com/users/boydgreenfield","html_url":"https://github.com/boydgreenfield","followers_url":"https://api.github.com/users/boydgreenfield/followers","following_url":"https://api.github.com/users/boydgreenfield/following{/other_user}","gists_url":"https://api.github.com/users/boydgreenfield/gists{/gist_id}","starred_url":"https://api.github.com/users/boydgreenfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boydgreenfield/subscriptions","organizations_url":"https://api.github.com/users/boydgreenfield/orgs","repos_url":"https://api.github.com/users/boydgreenfield/repos","events_url":"https://api.github.com/users/boydgreenfield/events{/privacy}","received_events_url":"https://api.github.com/users/boydgreenfield/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-10-20T05:21:33Z","updated_at":"2012-10-20T19:21:32Z","closed_at":"2012-10-20T16:11:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":943149,"node_id":"MDEwOlJlcG9zaXRvcnk5NDMxNDk=","name":"d3","full_name":"d3/d3","private":false,"owner":{"login":"d3","id":1562726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjI3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1562726?v=4","gravatar_id":"","url":"https://api.github.com/users/d3","html_url":"https://github.com/d3","followers_url":"https://api.github.com/users/d3/followers","following_url":"https://api.github.com/users/d3/following{/other_user}","gists_url":"https://api.github.com/users/d3/gists{/gist_id}","starred_url":"https://api.github.com/users/d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d3/subscriptions","organizations_url":"https://api.github.com/users/d3/orgs","repos_url":"https://api.github.com/users/d3/repos","events_url":"https://api.github.com/users/d3/events{/privacy}","received_events_url":"https://api.github.com/users/d3/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/d3/d3","description":"Bring data to life with SVG, Canvas and HTML. :bar_chart::chart_with_upwards_trend::tada:","fork":false,"url":"https://api.github.com/repos/d3/d3","forks_url":"https://api.github.com/repos/d3/d3/forks","keys_url":"https://api.github.com/repos/d3/d3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/d3/d3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/d3/d3/teams","hooks_url":"https://api.github.com/repos/d3/d3/hooks","issue_events_url":"https://api.github.com/repos/d3/d3/issues/events{/number}","events_url":"https://api.github.com/repos/d3/d3/events","assignees_url":"https://api.github.com/repos/d3/d3/assignees{/user}","branches_url":"https://api.github.com/repos/d3/d3/branches{/branch}","tags_url":"https://api.github.com/repos/d3/d3/tags","blobs_url":"https://api.github.com/repos/d3/d3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/d3/d3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/d3/d3/git/refs{/sha}","trees_url":"https://api.github.com/repos/d3/d3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/d3/d3/statuses/{sha}","languages_url":"https://api.github.com/repos/d3/d3/languages","stargazers_url":"https://api.github.com/repos/d3/d3/stargazers","contributors_url":"https://api.github.com/repos/d3/d3/contributors","subscribers_url":"https://api.github.com/repos/d3/d3/subscribers","subscription_url":"https://api.github.com/repos/d3/d3/subscription","commits_url":"https://api.github.com/repos/d3/d3/commits{/sha}","git_commits_url":"https://api.github.com/repos/d3/d3/git/commits{/sha}","comments_url":"https://api.github.com/repos/d3/d3/comments{/number}","issue_comment_url":"https://api.github.com/repos/d3/d3/issues/comments{/number}","contents_url":"https://api.github.com/repos/d3/d3/contents/{+path}","compare_url":"https://api.github.com/repos/d3/d3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/d3/d3/merges","archive_url":"https://api.github.com/repos/d3/d3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/d3/d3/downloads","issues_url":"https://api.github.com/repos/d3/d3/issues{/number}","pulls_url":"https://api.github.com/repos/d3/d3/pulls{/number}","milestones_url":"https://api.github.com/repos/d3/d3/milestones{/number}","notifications_url":"https://api.github.com/repos/d3/d3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/d3/d3/labels{/name}","releases_url":"https://api.github.com/repos/d3/d3/releases{/id}","deployments_url":"https://api.github.com/repos/d3/d3/deployments","created_at":"2010-09-27T17:22:42Z","updated_at":"2025-11-09T18:23:06Z","pushed_at":"2025-07-27T11:30:40Z","git_url":"git://github.com/d3/d3.git","ssh_url":"git@github.com:d3/d3.git","clone_url":"https://github.com/d3/d3.git","svn_url":"https://github.com/d3/d3","homepage":"https://d3js.org","size":59341,"stargazers_count":111757,"watchers_count":111757,"language":"Shell","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":22847,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"isc","name":"ISC License","spdx_id":"ISC","url":"https://api.github.com/licenses/isc","node_id":"MDc6TGljZW5zZTEw"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["chart","charts","d3","data-visualization","svg","visualization"],"visibility":"public","forks":22847,"open_issues":25,"watchers":111757,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I just wanted to quickly note that I am experiencing issues that appear to be related to issue #691. I've left a comment there, but wasn't sure that a notification would occur since the issue is marked closed.\n\nPlease feel free to delete this if it's easier to address there.\n\nOhp -- it appears that there's a whole thread of these: #691, #695, #706, #820, #846. Sorry for leaving those off.\n\nLink to my specific issue for reference: https://github.com/mbostock/d3/issues/691#issuecomment-9628267\n","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/861/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]