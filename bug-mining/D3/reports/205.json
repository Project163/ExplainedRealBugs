{"url":"https://api.github.com/repos/d3/d3/issues/1600","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/1600/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/1600/comments","events_url":"https://api.github.com/repos/d3/d3/issues/1600/events","html_url":"https://github.com/d3/d3/issues/1600","id":21545452,"node_id":"MDU6SXNzdWUyMTU0NTQ1Mg==","number":1600,"title":"drag behavior acts inconsistently for multiple touches","user":{"login":"eweitnauer","id":53043,"node_id":"MDQ6VXNlcjUzMDQz","avatar_url":"https://avatars.githubusercontent.com/u/53043?v=4","gravatar_id":"","url":"https://api.github.com/users/eweitnauer","html_url":"https://github.com/eweitnauer","followers_url":"https://api.github.com/users/eweitnauer/followers","following_url":"https://api.github.com/users/eweitnauer/following{/other_user}","gists_url":"https://api.github.com/users/eweitnauer/gists{/gist_id}","starred_url":"https://api.github.com/users/eweitnauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eweitnauer/subscriptions","organizations_url":"https://api.github.com/users/eweitnauer/orgs","repos_url":"https://api.github.com/users/eweitnauer/repos","events_url":"https://api.github.com/users/eweitnauer/events{/privacy}","received_events_url":"https://api.github.com/users/eweitnauer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":50044,"node_id":"MDU6TGFiZWw1MDA0NA==","url":"https://api.github.com/repos/d3/d3/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isnâ€™t working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/d3/d3/milestones/30","html_url":"https://github.com/d3/d3/milestone/30","labels_url":"https://api.github.com/repos/d3/d3/milestones/30/labels","id":532798,"node_id":"MDk6TWlsZXN0b25lNTMyNzk4","number":30,"title":"3.4.x","description":"","creator":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":79,"state":"closed","created_at":"2014-01-10T18:32:18Z","updated_at":"2014-12-06T22:25:44Z","due_on":null,"closed_at":"2014-12-06T22:25:44Z"},"comments":2,"created_at":"2013-10-24T19:25:07Z","updated_at":"2014-03-19T21:43:46Z","closed_at":"2014-03-19T21:43:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The d3.behavior.drag registers an own set of event listeners for each individual touch and it dispatches drag and dragend events per touch.\n\nThere are currently two inconsistencies:\n1. When one touch is released (touchend event received), all touches dispatch a dragend event and unregister themself. The consistent behavior would be to just dispatch a dragend event + unregister the specific touch that was released.\n2. Each time the browser sends a touchmove event, all touches in the drag behavior dispatch a drag event. The consistent behavior would be to check the event.changedTouches list and only dispatch drag events for those touches that actually moved.\n\nThese issues would be very easy to fix. Simply check whether the current touch is in the changedTouches list of the touch event, and if not, just ignore the event in the moved() and ended() functions. Here's a method that checks whether a touch changed:\n\n```\nfunction touch_changed(id) {\n    if (!d3.event.changedTouches) return true; // mouse\n    for (var i=0, N=d3.event.changedTouches.length; i<N; i++) {\n        if (d3.event.changedTouches[i].identifier === id) return true;\n    }\n    return false;\n  }\n```\n","closed_by":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/d3/d3/issues/1600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/1600/timeline","performed_via_github_app":null,"state_reason":"completed"}