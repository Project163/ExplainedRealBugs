[{"url":"https://api.github.com/repos/d3/d3/issues/comments/21196676","html_url":"https://github.com/d3/d3/issues/1402#issuecomment-21196676","issue_url":"https://api.github.com/repos/d3/d3/issues/1402","id":21196676,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTk2Njc2","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-18T16:38:35Z","updated_at":"2013-07-18T16:44:04Z","body":"It was basically luck that it worked before, but I think we can fix this.\n\nThe way transitions are currently implemented, there is no guarantee that the \"end\" event listener for transition _i_ will be notified before the start of transition _i_+1. In the past it happened to work out that way, but it was luck. Prior to 2e1b96a8e21f5b9bdaa221c80066f5b9d2c79817, timers were called back in the opposite order they were registered; now they are called back in the order they were registered, which is much less surprising and fixes  #1245. However, this change broke the usage pattern you described.\n\nSince timers are called back in the order they are registered, I think we can guarantee that the start callback for transition _i+1_ is registered after the tick callback of transition _i_. Currently, that’s not the case, because it goes like this:\n1. Transition 1 registers its schedule callback.\n2. Transition 2 registers its schedule callback.\n3. Transition 3 registers its schedule callback.\n4. Transition 1 receives its schedule callback and starts immediately.\n5. Transition 1 registers its tick callback.\n6. Transition 2 receives its schedule callback, and registers its start callback.\n7. Transition 3 receives its schedule callback, and registers its start callback.\n8. Transition 1 receives some number of tick callbacks.\n9. Transition 1 ends.\n10. Transition 2 receives its start callback, and registers its tick callback.\n11. Transition 2 receives some number of tick callbacks.\n12. Transition 3 receives its start callback (<b>interrupting transition 2</b>), and registers its tick callback.\n13. Transition 3 receives some number of tick callbacks.\n14. Transition 3 ends.\n\nIn short, the immediate problem is that transition 2’s tick callback is registered _after_ transition 3’s start callback. Another way to look at it is the priority of the callbacks because of the order in which they are registered:\n1. Transition 1 schedule\n2. Transition 2 schedule\n3. Transition 3 schedule\n4. Transition 1 tick\n5. Transition 2 start\n6. Transition 3 start\n7. Transition 2 tick\n8. Transition 3 tick\n\nSo, the simplest fix is probably to adjust the implementation such that transition 2’s tick callback is registered before transition 3’s start callback, perhaps by combining the start and tick callbacks. Alternatively, we could do implement more formal ordering for the d3.timer queue to guarantee that transition 2’s callbacks always get called before transition 3… but I think it will be easier to just fix the one condition that violates this now, rather than complicate the run loop.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21196676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":57112605,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MTEyNjA1","url":"https://api.github.com/repos/d3/d3/issues/events/57112605","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"be2bee767a21e4f4c84f34662fea5521e26e2a01","commit_url":"https://api.github.com/repos/d3/d3/commits/be2bee767a21e4f4c84f34662fea5521e26e2a01","created_at":"2013-07-18T17:08:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21198924","html_url":"https://github.com/d3/d3/issues/1402#issuecomment-21198924","issue_url":"https://api.github.com/repos/d3/d3/issues/1402","id":21198924,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTk4OTI0","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-18T17:11:03Z","updated_at":"2013-07-18T17:11:03Z","body":"I propose #1404 as a fix. Please try the [fix-transition-callback-order](https://github.com/mbostock/d3/tree/fix-transition-callback-order) branch and let me know if that works for you.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21198924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21200664","html_url":"https://github.com/d3/d3/issues/1402#issuecomment-21200664","issue_url":"https://api.github.com/repos/d3/d3/issues/1402","id":21200664,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjAwNjY0","user":{"login":"pjanik","id":767857,"node_id":"MDQ6VXNlcjc2Nzg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/767857?v=4","gravatar_id":"","url":"https://api.github.com/users/pjanik","html_url":"https://github.com/pjanik","followers_url":"https://api.github.com/users/pjanik/followers","following_url":"https://api.github.com/users/pjanik/following{/other_user}","gists_url":"https://api.github.com/users/pjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/pjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjanik/subscriptions","organizations_url":"https://api.github.com/users/pjanik/orgs","repos_url":"https://api.github.com/users/pjanik/repos","events_url":"https://api.github.com/users/pjanik/events{/privacy}","received_events_url":"https://api.github.com/users/pjanik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-18T17:36:52Z","updated_at":"2013-07-18T17:36:52Z","body":"Yes, it fixes this problem. Thanks for the blazing fast answer and the fix!\n\nHowever, some other things in our animation based on chained transitions [1] are broken after changing from v3.1.6 to v3.2.6. It looks like there were some breaking changes or our implementation is based on some other \"lucky\" features. :) I will investigate this and create separate issues in case of need. \n\nThanks for help!\n\n[1] http://lab.concord.org/version/0.5.2/interactives.html#interactives/sam/DNA-to-proteins/3-modeling-translation.json (working version based on D3 v3.1.6)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21200664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pjanik","id":767857,"node_id":"MDQ6VXNlcjc2Nzg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/767857?v=4","gravatar_id":"","url":"https://api.github.com/users/pjanik","html_url":"https://github.com/pjanik","followers_url":"https://api.github.com/users/pjanik/followers","following_url":"https://api.github.com/users/pjanik/following{/other_user}","gists_url":"https://api.github.com/users/pjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/pjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjanik/subscriptions","organizations_url":"https://api.github.com/users/pjanik/orgs","repos_url":"https://api.github.com/users/pjanik/repos","events_url":"https://api.github.com/users/pjanik/events{/privacy}","received_events_url":"https://api.github.com/users/pjanik/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/d3/d3/issues/comments/21210167","html_url":"https://github.com/d3/d3/issues/1402#issuecomment-21210167","issue_url":"https://api.github.com/repos/d3/d3/issues/1402","id":21210167,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjEwMTY3","user":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-18T19:56:27Z","updated_at":"2013-07-18T19:56:27Z","body":"OK, thanks. Do let me know if there are other things I can investigate.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/comments/21210167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":57195739,"node_id":"MDExOkNsb3NlZEV2ZW50NTcxOTU3Mzk=","url":"https://api.github.com/repos/d3/d3/issues/events/57195739","actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"be2bee767a21e4f4c84f34662fea5521e26e2a01","commit_url":"https://api.github.com/repos/d3/d3/commits/be2bee767a21e4f4c84f34662fea5521e26e2a01","created_at":"2013-07-19T03:32:05Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-19T14:05:16Z","updated_at":"2013-07-19T14:05:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/d3/d3/issues/1410","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/1410/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/1410/comments","events_url":"https://api.github.com/repos/d3/d3/issues/1410/events","html_url":"https://github.com/d3/d3/issues/1410","id":16970452,"node_id":"MDU6SXNzdWUxNjk3MDQ1Mg==","number":1410,"title":"Add API to interrupt / cancel / queue transitions.","user":{"login":"pjanik","id":767857,"node_id":"MDQ6VXNlcjc2Nzg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/767857?v=4","gravatar_id":"","url":"https://api.github.com/users/pjanik","html_url":"https://github.com/pjanik","followers_url":"https://api.github.com/users/pjanik/followers","following_url":"https://api.github.com/users/pjanik/following{/other_user}","gists_url":"https://api.github.com/users/pjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/pjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjanik/subscriptions","organizations_url":"https://api.github.com/users/pjanik/orgs","repos_url":"https://api.github.com/users/pjanik/repos","events_url":"https://api.github.com/users/pjanik/events{/privacy}","received_events_url":"https://api.github.com/users/pjanik/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/d3/d3/milestones/27","html_url":"https://github.com/d3/d3/milestone/27","labels_url":"https://api.github.com/repos/d3/d3/milestones/27/labels","id":345191,"node_id":"MDk6TWlsZXN0b25lMzQ1MTkx","number":27,"title":"3.3","description":"","creator":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":24,"state":"closed","created_at":"2013-05-30T21:26:02Z","updated_at":"2013-09-02T21:21:03Z","due_on":null,"closed_at":"2013-08-22T08:25:23Z"},"comments":8,"created_at":"2013-07-19T13:19:07Z","updated_at":"2013-11-11T11:59:19Z","closed_at":"2013-08-13T21:24:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":943149,"node_id":"MDEwOlJlcG9zaXRvcnk5NDMxNDk=","name":"d3","full_name":"d3/d3","private":false,"owner":{"login":"d3","id":1562726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1NjI3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1562726?v=4","gravatar_id":"","url":"https://api.github.com/users/d3","html_url":"https://github.com/d3","followers_url":"https://api.github.com/users/d3/followers","following_url":"https://api.github.com/users/d3/following{/other_user}","gists_url":"https://api.github.com/users/d3/gists{/gist_id}","starred_url":"https://api.github.com/users/d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d3/subscriptions","organizations_url":"https://api.github.com/users/d3/orgs","repos_url":"https://api.github.com/users/d3/repos","events_url":"https://api.github.com/users/d3/events{/privacy}","received_events_url":"https://api.github.com/users/d3/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/d3/d3","description":"Bring data to life with SVG, Canvas and HTML. :bar_chart::chart_with_upwards_trend::tada:","fork":false,"url":"https://api.github.com/repos/d3/d3","forks_url":"https://api.github.com/repos/d3/d3/forks","keys_url":"https://api.github.com/repos/d3/d3/keys{/key_id}","collaborators_url":"https://api.github.com/repos/d3/d3/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/d3/d3/teams","hooks_url":"https://api.github.com/repos/d3/d3/hooks","issue_events_url":"https://api.github.com/repos/d3/d3/issues/events{/number}","events_url":"https://api.github.com/repos/d3/d3/events","assignees_url":"https://api.github.com/repos/d3/d3/assignees{/user}","branches_url":"https://api.github.com/repos/d3/d3/branches{/branch}","tags_url":"https://api.github.com/repos/d3/d3/tags","blobs_url":"https://api.github.com/repos/d3/d3/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/d3/d3/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/d3/d3/git/refs{/sha}","trees_url":"https://api.github.com/repos/d3/d3/git/trees{/sha}","statuses_url":"https://api.github.com/repos/d3/d3/statuses/{sha}","languages_url":"https://api.github.com/repos/d3/d3/languages","stargazers_url":"https://api.github.com/repos/d3/d3/stargazers","contributors_url":"https://api.github.com/repos/d3/d3/contributors","subscribers_url":"https://api.github.com/repos/d3/d3/subscribers","subscription_url":"https://api.github.com/repos/d3/d3/subscription","commits_url":"https://api.github.com/repos/d3/d3/commits{/sha}","git_commits_url":"https://api.github.com/repos/d3/d3/git/commits{/sha}","comments_url":"https://api.github.com/repos/d3/d3/comments{/number}","issue_comment_url":"https://api.github.com/repos/d3/d3/issues/comments{/number}","contents_url":"https://api.github.com/repos/d3/d3/contents/{+path}","compare_url":"https://api.github.com/repos/d3/d3/compare/{base}...{head}","merges_url":"https://api.github.com/repos/d3/d3/merges","archive_url":"https://api.github.com/repos/d3/d3/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/d3/d3/downloads","issues_url":"https://api.github.com/repos/d3/d3/issues{/number}","pulls_url":"https://api.github.com/repos/d3/d3/pulls{/number}","milestones_url":"https://api.github.com/repos/d3/d3/milestones{/number}","notifications_url":"https://api.github.com/repos/d3/d3/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/d3/d3/labels{/name}","releases_url":"https://api.github.com/repos/d3/d3/releases{/id}","deployments_url":"https://api.github.com/repos/d3/d3/deployments","created_at":"2010-09-27T17:22:42Z","updated_at":"2025-11-09T18:23:06Z","pushed_at":"2025-07-27T11:30:40Z","git_url":"git://github.com/d3/d3.git","ssh_url":"git@github.com:d3/d3.git","clone_url":"https://github.com/d3/d3.git","svn_url":"https://github.com/d3/d3","homepage":"https://d3js.org","size":59341,"stargazers_count":111757,"watchers_count":111757,"language":"Shell","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":22847,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":25,"license":{"key":"isc","name":"ISC License","spdx_id":"ISC","url":"https://api.github.com/licenses/isc","node_id":"MDc6TGljZW5zZTEw"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["chart","charts","d3","data-visualization","svg","visualization"],"visibility":"public","forks":22847,"open_issues":25,"watchers":111757,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Original title: Breaking change in transitions support between 3.1.6 and 3.2.7 (?)\n\nPlease compare:\n- D3 v3.1.6 http://jsfiddle.net/WVKmp/\n- D3 v3.2.7 http://jsfiddle.net/mjYqd/\n\nClick \"Cancel transition\" before animation ends. You will notice that when D3 v3.2.7 is used, the circle isn't reset to its initial position. However when v3.1.6 is used, the circle position is reset.\n\nIf you open console you will notice that logs for v3.1.6 look like:\n\n```\nstep, (...), step, Click!\n```\n\nwhile when v3.2.7 is used:\n\n```\nstep, (...), step, Click!, step\n```\n\nAfter starting a new transition (whose main goal is just to cancel previous one), there is one more step of old transition executed. Small thing, but it's enough to break existing apps. This single step sets \"cx\" attribute back to some value between 50 and 450.\n\nOf course I know that previous behavior wasn't specified and guaranteed at all (was I \"lucky\" that it worked? ;)). Also the way I cancel transitions is a bit icky (however, is there any better approach? I guess this one was recommended on mailing list). So if I can fix this problem on my side, I'm happy to do it. If not, it would be great if the previous behavior is restored.\n","reactions":{"url":"https://api.github.com/repos/d3/d3/issues/1410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/1410/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]