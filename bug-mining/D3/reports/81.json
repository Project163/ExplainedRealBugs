{"url":"https://api.github.com/repos/d3/d3/issues/711","repository_url":"https://api.github.com/repos/d3/d3","labels_url":"https://api.github.com/repos/d3/d3/issues/711/labels{/name}","comments_url":"https://api.github.com/repos/d3/d3/issues/711/comments","events_url":"https://api.github.com/repos/d3/d3/issues/711/events","html_url":"https://github.com/d3/d3/issues/711","id":5666448,"node_id":"MDU6SXNzdWU1NjY2NDQ4","number":711,"title":"d3.time.day incorrectly handles dates earlier than year 100","user":{"login":"bunkat","id":665885,"node_id":"MDQ6VXNlcjY2NTg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/665885?v=4","gravatar_id":"","url":"https://api.github.com/users/bunkat","html_url":"https://github.com/bunkat","followers_url":"https://api.github.com/users/bunkat/followers","following_url":"https://api.github.com/users/bunkat/following{/other_user}","gists_url":"https://api.github.com/users/bunkat/gists{/gist_id}","starred_url":"https://api.github.com/users/bunkat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bunkat/subscriptions","organizations_url":"https://api.github.com/users/bunkat/orgs","repos_url":"https://api.github.com/users/bunkat/repos","events_url":"https://api.github.com/users/bunkat/events{/privacy}","received_events_url":"https://api.github.com/users/bunkat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2012-07-17T15:20:23Z","updated_at":"2012-07-17T20:53:01Z","closed_at":"2012-07-17T20:53:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems like d3.time.day (and possibly other time functions) treats any 2 digit year as being in the 1900's even if date.getFullYear() returns a value below 100.\n\nFor example, using d3.time.day on the date: \n\n```\nDate {Wed Jul 09 0098 01:39:51 GMT-0700 (LMT)}\n```\n\nreturns\n\n```\nDate {Thu Jul 09 1998 00:00:00 GMT-0700 (PDT)}\n```\n\nYou can see an example of the problem at http://bl.ocks.org/3129952.  Move the selection rectangle on the bottom axis to the left until it crosses the year 100 threshold.  It will disappear and the top axis will start showing dates in the 1900's.  \n\nModifying\n\n```\nvar rects, labels\n    , minExtent = d3.time.day(brush.extent()[0])\n    , maxExtent = d3.time.day(brush.extent()[1])\n```\n\nto\n\n```\nvar rects, labels\n    , minExtent = brush.extent()[0]\n    , maxExtent = brush.extent()[1]\n```\n\nallows the chart to work as expected.\n","closed_by":{"login":"mbostock","id":230541,"node_id":"MDQ6VXNlcjIzMDU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/230541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbostock","html_url":"https://github.com/mbostock","followers_url":"https://api.github.com/users/mbostock/followers","following_url":"https://api.github.com/users/mbostock/following{/other_user}","gists_url":"https://api.github.com/users/mbostock/gists{/gist_id}","starred_url":"https://api.github.com/users/mbostock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbostock/subscriptions","organizations_url":"https://api.github.com/users/mbostock/orgs","repos_url":"https://api.github.com/users/mbostock/repos","events_url":"https://api.github.com/users/mbostock/events{/privacy}","received_events_url":"https://api.github.com/users/mbostock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/d3/d3/issues/711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/d3/d3/issues/711/timeline","performed_via_github_app":null,"state_reason":"completed"}