diff --git a/src/layout/treemap.js b/src/layout/treemap.js
index 1a1d94af..cc0803a6 100644
--- a/src/layout/treemap.js
+++ b/src/layout/treemap.js
@@ -148,10 +148,9 @@ d3.layout.treemap = function() {
   function treemap(d) {
     var nodes = stickies || hierarchy(d),
         root = nodes[0];
-    root.x = 0;
-    root.y = 0;
-    root.dx = size[0];
-    root.dy = size[1];
+    root.x = root.y = 0;
+    if (root.value) root.dx = size[0], root.dy = size[1];
+    else root.dx = root.dy = 0;
     if (stickies) hierarchy.revalue(root);
     scale([root], root.dx * root.dy / root.value);
     (stickies ? stickify : squarify)(root);
diff --git a/test/layout/treemap-test.js b/test/layout/treemap-test.js
index a25b37f2..11fb055b 100644
--- a/test/layout/treemap-test.js
+++ b/test/layout/treemap-test.js
@@ -144,7 +144,7 @@ suite.addBatch({
     },
     "can handle an empty children array": function(treemap) {
       assert.deepEqual(treemap().nodes({children: []}).map(layout), [
-        {x: 0, y: 0, dx: 1, dy: 1}
+        {x: 0, y: 0, dx: 0, dy: 0}
       ]);
       assert.deepEqual(treemap().nodes({children: [{children: []}, {value: 1}]}).map(layout), [
         {x: 0, y: 0, dx: 1, dy: 1},
@@ -152,6 +152,23 @@ suite.addBatch({
         {x: 0, y: 0, dx: 1, dy: 1}
       ]);
     },
+    "can handle a zero-value node with children": function(treemap) {
+      assert.deepEqual(treemap().nodes({children: [{value: 1}, {children: [{value: 0}, {value: 0}]}]}).map(layout), [
+        {x: 0, y: 0, dx: 1, dy: 1},
+        {x: 0, y: 0, dx: 1, dy: 1},
+        {x: 0, y: 0, dx: 0, dy: 1},
+        {x: 0, y: 0, dx: 0, dy: 1},
+        {x: 0, y: 0, dx: 0, dy: 1}
+      ]);
+    },
+    "can handle a zero-value root": function(treemap) {
+      assert.deepEqual(treemap().nodes({children: [{children: [{value: 0}, {value: 0}]}]}).map(layout), [
+        {x: 0, y: 0, dx: 0, dy: 0},
+        {x: 0, y: 0, dx: 0, dy: 0},
+        {x: 0, y: 0, dx: 0, dy: 0},
+        {x: 0, y: 0, dx: 0, dy: 0}
+      ]);
+    },
     "slice-dice": function(treemap) {
       assert.deepEqual(treemap().size([100, 10]).mode("slice-dice").nodes({children: [
         {children: [{value: 1}, {value: 1}]},
