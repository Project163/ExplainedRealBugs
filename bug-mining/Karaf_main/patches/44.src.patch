diff --git a/main/src/main/java/org/apache/karaf/main/InstanceHelper.java b/main/src/main/java/org/apache/karaf/main/InstanceHelper.java
index e02dd67097..e8aca8fdd8 100644
--- a/main/src/main/java/org/apache/karaf/main/InstanceHelper.java
+++ b/main/src/main/java/org/apache/karaf/main/InstanceHelper.java
@@ -65,7 +65,7 @@ public class InstanceHelper {
                             //looking for root instance entry
                             String name = props.getProperty("item." + i + ".name");
                             boolean root = Boolean.parseBoolean(props.getProperty("item." + i + ".root", "false"));
-                            if (root && !name.equals(instanceName)) {
+                            if (name != null && root && !name.equals(instanceName)) {
                                 props.setProperty("item." + i + ".name", instanceName);
                             }
                         }
