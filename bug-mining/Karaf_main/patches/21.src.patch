diff --git a/main/src/main/java/org/apache/karaf/main/Main.java b/main/src/main/java/org/apache/karaf/main/Main.java
index 7b6844301b..0b24d737b0 100644
--- a/main/src/main/java/org/apache/karaf/main/Main.java
+++ b/main/src/main/java/org/apache/karaf/main/Main.java
@@ -38,6 +38,7 @@ import java.util.regex.Pattern;
 
 import org.osgi.framework.Bundle;
 import org.osgi.framework.BundleContext;
+import org.osgi.framework.BundleException;
 import org.osgi.framework.Constants;
 import org.osgi.framework.FrameworkEvent;
 import org.osgi.framework.ServiceReference;
@@ -260,11 +261,25 @@ public class Main {
                 	FrameworkEvent event;
 	                if (callback != null) {
 	                	callback.waitingForShutdown();
-	                	framework.stop();
-	                	do {
+	                	event = framework.waitForStop(timeout);
+	                	//do the stoping in an extra thread
+	                	Runnable stopper = new Runnable() {
+							
+							public void run() {
+								try {
+									
+									framework.stop();
+								} catch (BundleException e) {
+									System.err.println("Exception while stoping framework: " + e);
+								}
+							}
+						};
+	                	Thread t = new Thread(stopper);
+	                	t.start();
+	                	while (t.getState() != Thread.State.TERMINATED && event.getType() == FrameworkEvent.WAIT_TIMEDOUT) {
 	                		callback.waitingForShutdown();
 	                		event = framework.waitForStop(timeout);
-	                	} while(event.getType() == FrameworkEvent.WAIT_TIMEDOUT);
+	                	} 
 	                	break;
                 	} else {
                 		event = framework.waitForStop(0);
