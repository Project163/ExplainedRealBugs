<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-670] Missing ${karaf.base}/system cause NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/KARAF-670</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;I manually created an instance and set karaf.base to the new instance folder, but I forgot to create the folder ${karaf.base}/system. This missing folder died on dir.listFiles() in Main.findFiles(). That method checks theFile for existence, but its caller forgets to check bundleDir.&lt;/p&gt;

&lt;p&gt;Could not create framework: java.lang.NullPointerException&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.karaf.main.Main.findFile(Main.java:1063)&lt;br/&gt;
	at org.apache.karaf.main.Main.findFile(Main.java:1048)&lt;br/&gt;
	at org.apache.karaf.main.Main.processConfigurationProperties(Main.java:1014)&lt;br/&gt;
	at org.apache.karaf.main.Main.loadConfigProperties(Main.java:873)&lt;br/&gt;
	at org.apache.karaf.main.Main.launch(Main.java:225)&lt;br/&gt;
	at org.apache.karaf.main.Main.main(Main.java:416)&lt;br/&gt;
Error occured shutting down framework: java.lang.NullPointerException&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.karaf.main.Main.awaitShutdown(Main.java:274)&lt;br/&gt;
	at org.apache.karaf.main.Main.main(Main.java:423)&lt;/p&gt;</description>
                <environment>&lt;p&gt;running karaf via Talend Service Factory 2.4.0.0, Win7, Oracle JDK1.6.0.25&lt;/p&gt;</environment>
        <key id="12509475">KARAF-670</key>
            <summary>Missing ${karaf.base}/system cause NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="cdolan">Chris Dolan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 15:34:06 +0000</created>
                <updated>Fri, 14 Sep 2018 08:37:44 +0000</updated>
                            <resolved>Thu, 9 Jun 2011 09:57:17 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13046368" author="jbonofre" created="Thu, 9 Jun 2011 07:15:12 +0000"  >&lt;p&gt;Karaf can&apos;t start without the system folder as it contains the OSGi framework (Apache Felix framework and Equinox).&lt;/p&gt;

&lt;p&gt;So, I&apos;m gonna add a check in the Main to see if the system folder (identified by ${karaf.default.repository}/system) is available at bootstrap.&lt;br/&gt;
In the same way, etc folder should be check.&lt;/p&gt;</comment>
                            <comment id="13046400" author="jbonofre" created="Thu, 9 Jun 2011 08:43:05 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/karaf/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/karaf/trunk&lt;/a&gt; ...&lt;br/&gt;
        M       main/src/main/java/org/apache/karaf/main/Main.java&lt;br/&gt;
Committed r1133718&lt;/p&gt;</comment>
                            <comment id="13046441" author="jbonofre" created="Thu, 9 Jun 2011 09:57:06 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x&lt;/a&gt; ...&lt;br/&gt;
        M       main/src/main/java/org/apache/karaf/main/Main.java&lt;br/&gt;
Committed r1133759&lt;/p&gt;</comment>
                            <comment id="13059544" author="jgoodyear" created="Mon, 4 Jul 2011 18:52:23 +0000"  >&lt;p&gt;Fixed in Apache Karaf 2.2.2.&lt;/p&gt;</comment>
                            <comment id="13969177" author="msqr" created="Tue, 15 Apr 2014 03:23:53 +0000"  >&lt;p&gt;I just ran into this issue in Karaf 2.3.5. I started with KARAF_BASE set to a directory that had only &lt;b&gt;etc&lt;/b&gt;, &lt;b&gt;data&lt;/b&gt;, and &lt;b&gt;deploy&lt;/b&gt; directories, and Karaf fails with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Unable to update instance pid: Child instance started but no root registered in /usr/local/opt/cave-2.3.5/instances/instance.properties
Could not create framework: java.lang.NullPointerException
java.lang.NullPointerException
	at org.apache.karaf.main.Main.findFile(Main.java:1223)
	at org.apache.karaf.main.Main.findFile(Main.java:1208)
	at org.apache.karaf.main.Main.processConfigurationProperties(Main.java:1171)
	at org.apache.karaf.main.Main.loadStartupProperties(Main.java:1015)
	at org.apache.karaf.main.Main.launch(Main.java:297)
	at org.apache.karaf.main.Main.main(Main.java:507)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Perhaps there is a regression?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0at5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>