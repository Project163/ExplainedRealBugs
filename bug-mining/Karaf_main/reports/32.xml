<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-1064] BootstrapLogManager does not reuse the instantiated Handler</title>
                <link>https://issues.apache.org/jira/browse/KARAF-1064</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;When running Karaf in Master/Slave mode, the method getDefaultHandler() in class org.apache.karaf.main.BootstrapLogManager is being invoked twice, one time in org.apache.karaf.main.Main and another one in the lock file class (SimpleFileLock or DefaultJDBCLock), but the object instance of the Handler class is created without closing the previous one. &lt;/p&gt;

&lt;p&gt;I have created a patch which completes the singleton pattern, returning the previous handler if the instance is not null. The patch has been created against the trunk, but you can apply it to branch karaf-2.2.x.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533253">KARAF-1064</key>
            <summary>BootstrapLogManager does not reuse the instantiated Handler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pieber">Andreas Pieber</assignee>
                                    <reporter username="alvaro.alda">&#193;lvaro Alda</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2011 07:55:09 +0000</created>
                <updated>Fri, 14 Sep 2018 08:37:29 +0000</updated>
                            <resolved>Thu, 1 Dec 2011 08:10:55 +0000</resolved>
                                    <version>2.2.4</version>
                    <version>3.0.0</version>
                                    <fixVersion>2.2.5</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13159996" author="iocanel" created="Wed, 30 Nov 2011 12:39:30 +0000"  >&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;I would make the getHandler method synchronized, just to be 100% that there isn&apos;t going to be a second handler created.&lt;/p&gt;</comment>
                            <comment id="13160065" author="pieber" created="Wed, 30 Nov 2011 14:14:25 +0000"  >&lt;p&gt;I&apos;ve the same already in my queue (including sync); just having some problems to compile karaf trunk right now. Feel free to ahead and apply/close this issue; I&apos;ll try to fix the/my problems tonight otherwise&lt;/p&gt;</comment>
                            <comment id="13160650" author="pieber" created="Thu, 1 Dec 2011 05:26:45 +0000"  >&lt;p&gt;@&#193;lvaro: can you please reattach your patch checking the ASF License Agreement? (the checkbox besides the feather during the upload). Otherwise I wont be able to apply your patch.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13160714" author="alvaro.alda" created="Thu, 1 Dec 2011 08:00:27 +0000"  >&lt;p&gt;Attached with grants. Sorry...&lt;/p&gt;</comment>
                            <comment id="13160717" author="pieber" created="Thu, 1 Dec 2011 08:10:55 +0000"  >&lt;p&gt;thank you very much for the grant!&lt;/p&gt;

&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/karaf/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/karaf/trunk&lt;/a&gt; ...&lt;br/&gt;
        M       main/src/main/java/org/apache/karaf/main/util/BootstrapLogManager.java&lt;br/&gt;
Committed r1208988&lt;/p&gt;

&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x&lt;/a&gt; ...&lt;br/&gt;
        M       main/src/main/java/org/apache/karaf/main/BootstrapLogManager.java&lt;br/&gt;
Committed r1208989&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12505738" name="patchfile.txt" size="463" author="alvaro.alda" created="Thu, 1 Dec 2011 08:00:27 +0000"/>
                            <attachment id="12505586" name="patchfile.txt" size="463" author="alvaro.alda" created="Wed, 30 Nov 2011 07:56:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0arqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>