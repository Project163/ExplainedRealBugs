<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-5116] Defining karaf.log.console as a log4j2 log level causes exceptions</title>
                <link>https://issues.apache.org/jira/browse/KARAF-5116</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;Running karaf 4.1.1, defining karaf.log.console as DEBUG to switch on the console appender (to get to logging when running under pax-exam) results in the following exceptions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalArgumentException: Bad level &lt;span class=&quot;code-quote&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;
        at java.util.logging.Level.parse(Level.java:482)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlersInternal(BootstrapLogManager.java:109)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlers(BootstrapLogManager.java:70)
        at org.apache.karaf.main.util.BootstrapLogManager.configureLogger(BootstrapLogManager.java:75)
        at org.apache.karaf.main.Main.launch(Main.java:244)
        at org.apache.karaf.main.Main.main(Main.java:178)
java.lang.IllegalArgumentException: Bad level &lt;span class=&quot;code-quote&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;
        at java.util.logging.Level.parse(Level.java:482)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlersInternal(BootstrapLogManager.java:109)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlers(BootstrapLogManager.java:70)
        at org.apache.karaf.main.util.BootstrapLogManager.configureLogger(BootstrapLogManager.java:75)
        at org.apache.karaf.main.KarafActivatorManager.&amp;lt;init&amp;gt;(KarafActivatorManager.java:49)
        at org.apache.karaf.main.Main.launch(Main.java:280)
        at org.apache.karaf.main.Main.main(Main.java:178)
java.lang.IllegalArgumentException: Bad level &lt;span class=&quot;code-quote&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;
        at java.util.logging.Level.parse(Level.java:482)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlersInternal(BootstrapLogManager.java:109)
        at org.apache.karaf.main.util.BootstrapLogManager.getDefaultHandlers(BootstrapLogManager.java:70)
        at org.apache.karaf.main.util.BootstrapLogManager.configureLogger(BootstrapLogManager.java:75)
        at org.apache.karaf.main.lock.SimpleFileLock.&amp;lt;init&amp;gt;(SimpleFileLock.java:40)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
        at org.apache.karaf.main.Main.createLock(Main.java:476)
        at org.apache.karaf.main.Main.doMonitor(Main.java:378)
        at org.apache.karaf.main.Main.access$100(Main.java:75)
        at org.apache.karaf.main.Main$3.run(Main.java:369)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like BootstrapLogManager attempts to use java.util.logging levels which DEBUG is not one of them. This however does result in valid logging out via log4j2 to the console appender. &lt;/p&gt;

&lt;p&gt;Using a valid java.util.logger level (tried FINE during testing) results in logging to the console from &apos;SimpleFileLock&apos; but nothing from log4j2.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13069370">KARAF-5116</key>
            <summary>Defining karaf.log.console as a log4j2 log level causes exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggrzybek">Grzegorz Grzybek</assignee>
                                    <reporter username="jamie.kemp">Jamie Kemp</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 May 2017 08:33:06 +0000</created>
                <updated>Thu, 19 Dec 2019 17:30:08 +0000</updated>
                            <resolved>Tue, 4 Jul 2017 06:00:52 +0000</resolved>
                                    <version>4.1.1</version>
                                    <fixVersion>4.1.2</fixVersion>
                    <fixVersion>4.2.0.M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16073151" author="gzres" created="Tue, 4 Jul 2017 05:56:55 +0000"  >&lt;p&gt;&lt;tt&gt;java.util.logging.Level&lt;/tt&gt; uses:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;SEVERE (highest value)&lt;/li&gt;
	&lt;li&gt;WARNING&lt;/li&gt;
	&lt;li&gt;INFO&lt;/li&gt;
	&lt;li&gt;CONFIG&lt;/li&gt;
	&lt;li&gt;FINE&lt;/li&gt;
	&lt;li&gt;FINER&lt;/li&gt;
	&lt;li&gt;FINEST  (lowest value)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;tt&gt;BootstrapLogManager&lt;/tt&gt; is only temporary JUL logging facility to be used before starting fully-fledged pax-logging-[service|logback|log4j2].&lt;/p&gt;

&lt;p&gt;If you want to have proper pax-logging configuration under pax-exam, please see how it&apos;s done with pax-web:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;log4j2.properties: &lt;a href=&quot;https://github.com/ops4j/org.ops4j.pax.web/blob/web-6.0.5/pax-web-itest/pax-web-itest-base/src/main/resources/log4j2.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ops4j/org.ops4j.pax.web/blob/web-6.0.5/pax-web-itest/pax-web-itest-base/src/main/resources/log4j2.properties&lt;/a&gt; which is ...&lt;/li&gt;
	&lt;li&gt;referenced from pax-logging.properties: &lt;a href=&quot;https://github.com/ops4j/org.ops4j.pax.web/blob/web-6.0.5/pax-web-itest/pax-web-itest-container/pax-web-itest-container-jetty/src/test/resources/pax-logging.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ops4j/org.ops4j.pax.web/blob/web-6.0.5/pax-web-itest/pax-web-itest-container/pax-web-itest-container-jetty/src/test/resources/pax-logging.properties&lt;/a&gt;, which is ...&lt;/li&gt;
	&lt;li&gt;referenced from system property &lt;a href=&quot;https://github.com/ops4j/org.ops4j.pax.web/blob/web-6.0.5/pax-web-itest/pax-web-itest-base/src/main/java/org/ops4j/pax/web/itest/base/AbstractControlledTestBase.java#L113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;set here&lt;/a&gt; using:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;systemProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.ops4j.pax.logging.property.file&quot;&lt;/span&gt;).value(&lt;span class=&quot;code-quote&quot;&gt;&quot;src/test/resources/pax-logging.properties&quot;&lt;/span&gt;),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;org.ops4j.pax.logging.property.file&lt;/tt&gt; property is read by pax-logging-log4j2 in &lt;tt&gt;org.ops4j.pax.logging.log4j2.internal.Activator#start()&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll just update documentation&lt;/p&gt;</comment>
                            <comment id="16073154" author="jira-bot" created="Tue, 4 Jul 2017 05:58:05 +0000"  >&lt;p&gt;Commit 816df200a7b9700f034e2c59325a5d3d009b0eda in karaf&apos;s branch refs/heads/karaf-4.0.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=816df20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=816df20&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; Updating documentation related to karaf.log.console property&lt;/p&gt;</comment>
                            <comment id="16073155" author="jira-bot" created="Tue, 4 Jul 2017 05:58:07 +0000"  >&lt;p&gt;Commit e1c98d182f5c8c4ab9a289bac18517aa19d84a81 in karaf&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=e1c98d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=e1c98d1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; Updating documentation related to karaf.log.console property&lt;/p&gt;</comment>
                            <comment id="16073157" author="gzres" created="Tue, 4 Jul 2017 05:59:24 +0000"  >&lt;p&gt;Resolved by adding &lt;a href=&quot;https://github.com/apache/karaf/blob/e1c98d182f5c8c4ab9a289bac18517aa19d84a81/manual/src/main/asciidoc/user-guide/log.adoc#karaflogconsole-property&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;new configuration section about &lt;tt&gt;karaf.log.console&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16073158" author="jira-bot" created="Tue, 4 Jul 2017 06:00:12 +0000"  >&lt;p&gt;Commit d111d7f22b7221228beec612a443c670e113e1fa in karaf&apos;s branch refs/heads/karaf-4.1.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=d111d7f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=d111d7f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; Updating documentation related to karaf.log.console property&lt;/p&gt;</comment>
                            <comment id="16073487" author="jira-bot" created="Tue, 4 Jul 2017 11:13:20 +0000"  >&lt;p&gt;Commit 2384d2a1d216000348bcded27555ef7eec927c52 in karaf&apos;s branch refs/heads/karaf-4.1.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=2384d2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=2384d2a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; We may use log4j(2) levels in karaf.log.console property&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 9946fb23d006a47f202ceed868321cc0a67a72b0)&lt;/p&gt;</comment>
                            <comment id="16073488" author="jira-bot" created="Tue, 4 Jul 2017 11:13:26 +0000"  >&lt;p&gt;Commit 9946fb23d006a47f202ceed868321cc0a67a72b0 in karaf&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=9946fb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=9946fb2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; We may use log4j(2) levels in karaf.log.console property&lt;/p&gt;</comment>
                            <comment id="16073491" author="jira-bot" created="Tue, 4 Jul 2017 11:14:22 +0000"  >&lt;p&gt;Commit 2a564c9a062a46460aed030efba8abe61cc28f9d in karaf&apos;s branch refs/heads/karaf-4.0.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=2a564c9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;h=2a564c9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-5116&quot; title=&quot;Defining karaf.log.console as a log4j2 log level causes exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-5116&quot;&gt;&lt;del&gt;KARAF-5116&lt;/del&gt;&lt;/a&gt; Updating documentation related to karaf.log.console property&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit 816df200a7b9700f034e2c59325a5d3d009b0eda.&lt;/p&gt;</comment>
                            <comment id="16073493" author="gzres" created="Tue, 4 Jul 2017 11:15:47 +0000"  >&lt;p&gt;Log4j levels may be used as well. And it&apos;s actually recommended (and described in manual) to use them, because the same property is referenced for log4j2 configuration in &lt;tt&gt;etc/org.ops4j.pax.logging.cfg&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;log4j2.rootLogger.appenderRef.Console.filter.threshold.type = ThresholdFilter
log4j2.rootLogger.appenderRef.Console.filter.threshold.level = ${karaf.log.console:-OFF}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ej0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>