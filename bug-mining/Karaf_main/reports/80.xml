<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-4005] Different locations for KARAF_HOME and KARAF_BASE</title>
                <link>https://issues.apache.org/jira/browse/KARAF-4005</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;I would like to change the directories for KARAF_BASE, KARAF_HOME, KARAF_DATE and KARAF_ETC.&lt;/p&gt;

&lt;p&gt;Using separate directories for KARAF_BASE and KARAF_HOME result in error messages on start and stop of the Karaf container (I shortened the path):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Unable to update instance pid: Child instance started but no root&lt;br/&gt;
registered in /home/maggu2810/.../karaf/home/instances/instance.properties&lt;/li&gt;
	&lt;li&gt;Unable to update instance pid: Child instance stopped but no root&lt;br/&gt;
registered in /home/maggu2810/.../karaf/home/instances/instance.properties&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The class org.apache.karaf.main.InstanceHelper is using:&lt;br/&gt;
final boolean isRoot = karafHome.equals(karafBase);&lt;br/&gt;
If the properties are empty and isRoot is false, this error message and an IllegalStateException is thrown.&lt;/p&gt;

&lt;p&gt;So, IMHO the intention of that variables is to support using different directories. But this seems to be broken (do not run in a problem at runtime after a short test, but the code throw the exception).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://karaf.922171.n3.nabble.com/Custom-distribution-change-directory-layout-tp4042677p4042691.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://karaf.922171.n3.nabble.com/Custom-distribution-change-directory-layout-tp4042677p4042691.html&lt;/a&gt;&lt;br/&gt;
&quot;The purpose of the current variables is more to be able to adapt to your machine/administrator constraint: put KARAF_ETC in /etc/karaf, put KARAF_BASE in /var/karaf and KARAF_HOME in /home/karaf for instance (by moving the directories).&quot;&lt;/p&gt;

&lt;p&gt;I checked in an example, so you could easily reproduce it: &lt;br/&gt;
repo: git@github.com:maggu2810/karaf-custom-distribution.git &lt;br/&gt;
branch: dir-layout&lt;br/&gt;
Build it and test the custom artifact.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12895090">KARAF-4005</key>
            <summary>Different locations for KARAF_HOME and KARAF_BASE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="maggu2810">Markus Rathgeb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Sep 2015 10:52:28 +0000</created>
                <updated>Sat, 15 Sep 2018 05:03:17 +0000</updated>
                            <resolved>Fri, 9 Oct 2015 14:39:12 +0000</resolved>
                                    <version>4.0.1</version>
                                    <fixVersion>4.0.2</fixVersion>
                                    <component>karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14950485" author="jbonofre" created="Fri, 9 Oct 2015 14:39:02 +0000"  >&lt;p&gt;Fixed on master: &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=karaf.git;a=commitdiff;h=693daef9186c323808b1236786bc6615e2281b4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=karaf.git;a=commitdiff;h=693daef9186c323808b1236786bc6615e2281b4f&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lc9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>