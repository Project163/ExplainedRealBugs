<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-2144] MainStartTest test fails when methods are executed in reverse order</title>
                <link>https://issues.apache.org/jira/browse/KARAF-2144</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;Sometimes I get spammed with this Exception when building karaf&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Jan 27, 2013 2:56:20 AM org.apache.karaf.main.lock.SimpleFileLock lock
INFO: Trying to lock /home/christoph/oss/karaf/main/target/test-classes/test-karaf-home/lock
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1017)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1154)
	at org.apache.karaf.main.lock.SimpleFileLock.lock(SimpleFileLock.java:63)
	at org.apache.karaf.main.lock.LockManager.runLockManager(LockManager.java:61)
	at org.apache.karaf.main.lock.LockManager.access$000(LockManager.java:21)
	at org.apache.karaf.main.lock.LockManager$1.run(LockManager.java:49)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Java 7 the reflection-implementation was changed so that tests in the same test-class are not necessarily executed in the same order they are written. Changing the order of the tests and using JDK-6 makes this issue 100% reproducible for me.&lt;/p&gt;

&lt;p&gt;This may cause the Tests in MainStartTest to be executed in reverse order, which will cause &quot;testAutoStart&quot; to fail because &quot;testStopWithTimeout&quot; did not clean up correctly.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.7.0_09&quot;&lt;br/&gt;
OpenJDK Runtime Environment (IcedTea7 2.3.4) (ArchLinux build 7.u9_2.3.4-1-x86_64)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 23.2-b09, mixed mode)&lt;/p&gt;</environment>
        <key id="12629417">KARAF-2144</key>
            <summary>MainStartTest test fails when methods are executed in reverse order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pieber">Andreas Pieber</assignee>
                                    <reporter username="christophg">Christoph Gritschenberger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jan 2013 01:58:04 +0000</created>
                <updated>Fri, 14 Sep 2018 08:36:32 +0000</updated>
                            <resolved>Fri, 1 Feb 2013 12:38:53 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13568701" author="pieber" created="Fri, 1 Feb 2013 12:38:53 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Committing to https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/karaf/trunk ...
&lt;/span&gt;        M       main/src/test/java/org/apache/karaf/main/MainStartTest.java
Committed r1441425
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566654" name="test-fix.patch" size="2072" author="christophg" created="Sun, 27 Jan 2013 02:01:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>