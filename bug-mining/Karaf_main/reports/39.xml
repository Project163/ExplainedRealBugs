<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:13:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KARAF-1938] Lock logic should wait for start level change to occur</title>
                <link>https://issues.apache.org/jira/browse/KARAF-1938</link>
                <project id="12311140" key="KARAF">Karaf</project>
                    <description>&lt;p&gt;Consider the case where we have a master and slave Karaf instance:&lt;/p&gt;

&lt;p&gt;1. Master has acquired lock&lt;br/&gt;
... time passes... &lt;br/&gt;
2. Network problem happens&lt;br/&gt;
3. Master loses lock (due to the network problem) and reduces start level accordingly&lt;br/&gt;
4. Before start level reduction is complete master manages to grab the lock&lt;br/&gt;
6. Start level is set back to normal&lt;/p&gt;

&lt;p&gt;Seems that flipping the start level around before the container has time to complete is not safe. Proposed solution is to just pause the locking loop until the start level is actually complete before trying to regain the lock. This will prevent flipping of the start level too quickly. Patch coming soon&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612264">KARAF-1938</key>
            <summary>Lock logic should wait for start level change to occur</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="janstey">Jonathan Anstey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 17:49:36 +0000</created>
                <updated>Wed, 31 Oct 2012 00:36:36 +0000</updated>
                            <resolved>Wed, 31 Oct 2012 00:36:36 +0000</resolved>
                                    <version>2.2.9</version>
                                    <fixVersion>2.2.10</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13478074" author="janstey" created="Wed, 17 Oct 2012 17:52:03 +0000"  >&lt;p&gt;Patch to fix issue for 2.2.x. I can do up an additional patch for trunk, etc if this change is OK.&lt;/p&gt;</comment>
                            <comment id="13480025" author="janstey" created="Fri, 19 Oct 2012 13:54:46 +0000"  >&lt;p&gt;Oh, and if it wasn&apos;t obvious, this patch needs to be applied in the main dir (&lt;a href=&quot;http://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x/main/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/karaf/branches/karaf-2.2.x/main/&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13481260" author="ffang" created="Mon, 22 Oct 2012 08:25:13 +0000"  >&lt;p&gt;apply patch on behalf of Jonathan Anstey with thanks.&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1400794&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1400794&amp;amp;view=rev&lt;/a&gt; for 2.2.x branch&lt;/p&gt;

&lt;p&gt;@Jon&lt;br/&gt;
Do you mind also provide patch against 2.3.x branch and trunk?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13481352" author="janstey" created="Mon, 22 Oct 2012 13:20:14 +0000"  >&lt;p&gt;Thanks Freeman. Yeah, I&apos;ll find some time soon to do up trunk &amp;amp; 2.3 patches.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Jon&lt;/p&gt;</comment>
                            <comment id="13483250" author="janstey" created="Wed, 24 Oct 2012 14:05:29 +0000"  >&lt;p&gt;Here are the patches to fix trunk and the 2.3.x branch.&lt;/p&gt;</comment>
                            <comment id="13487410" author="ffang" created="Wed, 31 Oct 2012 00:36:36 +0000"  >&lt;p&gt;Apply patch on behalf of Jonathan Anstey with thanks&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1400794&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1400794&amp;amp;view=rev&lt;/a&gt; for 2.2.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1401944&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1401944&amp;amp;view=rev&lt;/a&gt; for 2.3.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1403940&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1403940&amp;amp;view=rev&lt;/a&gt; for trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550628" name="KARAF-1938.2.3.x.patch" size="10838" author="janstey" created="Wed, 24 Oct 2012 14:05:29 +0000"/>
                            <attachment id="12549537" name="KARAF-1938.patch" size="11081" author="janstey" created="Wed, 17 Oct 2012 17:52:03 +0000"/>
                            <attachment id="12550629" name="KARAF-1938.trunk.patch" size="9887" author="janstey" created="Wed, 24 Oct 2012 14:05:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a71j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>