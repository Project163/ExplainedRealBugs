[{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/683476687","html_url":"https://github.com/launchbadge/sqlx/issues/663#issuecomment-683476687","issue_url":"https://api.github.com/repos/launchbadge/sqlx/issues/663","id":683476687,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ3NjY4Nw==","user":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T22:08:55Z","updated_at":"2020-08-30T22:08:55Z","body":"We need to emit `include_str!()` from the macro so the compiler knows to watch the file for changes. The slightly difficult part is that `query_file_as!()` and `include_str!()` resolve file paths from different locations, but I think we can just canonicalize the file path and emit it as absolute. \r\n\r\nThat's normally an anti-pattern as it makes the project not-portable to other machines but since we're canonicalizing on the fly it should be fine.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/683476687/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3722035941,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3MjIwMzU5NDE=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/3722035941","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-02T22:23:52Z","label":{"name":"E-easy","color":"d8c0f9"},"performed_via_github_app":null},{"id":3722035943,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3MjIwMzU5NDM=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/3722035943","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-02T22:23:52Z","label":{"name":"help wanted","color":"008672"},"performed_via_github_app":null},{"id":3722035944,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3MjIwMzU5NDQ=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/3722035944","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-02T22:23:53Z","label":{"name":"macros","color":"c42f6d"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771614784","html_url":"https://github.com/launchbadge/sqlx/issues/663#issuecomment-771614784","issue_url":"https://api.github.com/repos/launchbadge/sqlx/issues/663","id":771614784,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTYxNDc4NA==","user":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T12:54:04Z","updated_at":"2021-02-02T12:54:04Z","body":"The same should apply to `sqlx-data.json`, shouldn't it?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771614784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771620150","html_url":"https://github.com/launchbadge/sqlx/issues/663#issuecomment-771620150","issue_url":"https://api.github.com/repos/launchbadge/sqlx/issues/663","id":771620150,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTYyMDE1MA==","user":{"login":"jplatte","id":951129,"node_id":"MDQ6VXNlcjk1MTEyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/951129?v=4","gravatar_id":"","url":"https://api.github.com/users/jplatte","html_url":"https://github.com/jplatte","followers_url":"https://api.github.com/users/jplatte/followers","following_url":"https://api.github.com/users/jplatte/following{/other_user}","gists_url":"https://api.github.com/users/jplatte/gists{/gist_id}","starred_url":"https://api.github.com/users/jplatte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jplatte/subscriptions","organizations_url":"https://api.github.com/users/jplatte/orgs","repos_url":"https://api.github.com/users/jplatte/repos","events_url":"https://api.github.com/users/jplatte/events{/privacy}","received_events_url":"https://api.github.com/users/jplatte/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T13:04:04Z","updated_at":"2021-02-02T13:04:04Z","body":"@Freax13 This seems like a very rare edge case but I think you're right. I'd wouldn't recommend working on that though, I'm currently working on #941 to hopefully get that into 0.5.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771620150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jplatte","id":951129,"node_id":"MDQ6VXNlcjk1MTEyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/951129?v=4","gravatar_id":"","url":"https://api.github.com/users/jplatte","html_url":"https://github.com/jplatte","followers_url":"https://api.github.com/users/jplatte/followers","following_url":"https://api.github.com/users/jplatte/following{/other_user}","gists_url":"https://api.github.com/users/jplatte/gists{/gist_id}","starred_url":"https://api.github.com/users/jplatte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jplatte/subscriptions","organizations_url":"https://api.github.com/users/jplatte/orgs","repos_url":"https://api.github.com/users/jplatte/repos","events_url":"https://api.github.com/users/jplatte/events{/privacy}","received_events_url":"https://api.github.com/users/jplatte/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4279181717,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI3OTE4MTcxNw==","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/4279181717","actor":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-02T13:04:05Z","performed_via_github_app":null},{"id":4279181721,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNzkxODE3MjE=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/4279181721","actor":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-02T13:04:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771622856","html_url":"https://github.com/launchbadge/sqlx/issues/663#issuecomment-771622856","issue_url":"https://api.github.com/repos/launchbadge/sqlx/issues/663","id":771622856,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTYyMjg1Ng==","user":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T13:08:56Z","updated_at":"2021-02-02T13:08:56Z","body":"@jplatte ok, that's great :+1: ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments/771622856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Freax13","id":14952658,"node_id":"MDQ6VXNlcjE0OTUyNjU4","avatar_url":"https://avatars.githubusercontent.com/u/14952658?v=4","gravatar_id":"","url":"https://api.github.com/users/Freax13","html_url":"https://github.com/Freax13","followers_url":"https://api.github.com/users/Freax13/followers","following_url":"https://api.github.com/users/Freax13/following{/other_user}","gists_url":"https://api.github.com/users/Freax13/gists{/gist_id}","starred_url":"https://api.github.com/users/Freax13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freax13/subscriptions","organizations_url":"https://api.github.com/users/Freax13/orgs","repos_url":"https://api.github.com/users/Freax13/repos","events_url":"https://api.github.com/users/Freax13/events{/privacy}","received_events_url":"https://api.github.com/users/Freax13/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4279203677,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDI3OTIwMzY3Nw==","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/4279203677","actor":{"login":"jplatte","id":951129,"node_id":"MDQ6VXNlcjk1MTEyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/951129?v=4","gravatar_id":"","url":"https://api.github.com/users/jplatte","html_url":"https://github.com/jplatte","followers_url":"https://api.github.com/users/jplatte/followers","following_url":"https://api.github.com/users/jplatte/following{/other_user}","gists_url":"https://api.github.com/users/jplatte/gists{/gist_id}","starred_url":"https://api.github.com/users/jplatte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jplatte/subscriptions","organizations_url":"https://api.github.com/users/jplatte/orgs","repos_url":"https://api.github.com/users/jplatte/repos","events_url":"https://api.github.com/users/jplatte/events{/privacy}","received_events_url":"https://api.github.com/users/jplatte/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-02-02T13:08:56Z","performed_via_github_app":null},{"id":4279203680,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyNzkyMDM2ODA=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/4279203680","actor":{"login":"jplatte","id":951129,"node_id":"MDQ6VXNlcjk1MTEyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/951129?v=4","gravatar_id":"","url":"https://api.github.com/users/jplatte","html_url":"https://github.com/jplatte","followers_url":"https://api.github.com/users/jplatte/followers","following_url":"https://api.github.com/users/jplatte/following{/other_user}","gists_url":"https://api.github.com/users/jplatte/gists{/gist_id}","starred_url":"https://api.github.com/users/jplatte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jplatte/subscriptions","organizations_url":"https://api.github.com/users/jplatte/orgs","repos_url":"https://api.github.com/users/jplatte/repos","events_url":"https://api.github.com/users/jplatte/events{/privacy}","received_events_url":"https://api.github.com/users/jplatte/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-02-02T13:08:56Z","performed_via_github_app":null},{"actor":{"login":"jplatte","id":951129,"node_id":"MDQ6VXNlcjk1MTEyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/951129?v=4","gravatar_id":"","url":"https://api.github.com/users/jplatte","html_url":"https://github.com/jplatte","followers_url":"https://api.github.com/users/jplatte/followers","following_url":"https://api.github.com/users/jplatte/following{/other_user}","gists_url":"https://api.github.com/users/jplatte/gists{/gist_id}","starred_url":"https://api.github.com/users/jplatte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jplatte/subscriptions","organizations_url":"https://api.github.com/users/jplatte/orgs","repos_url":"https://api.github.com/users/jplatte/repos","events_url":"https://api.github.com/users/jplatte/events{/privacy}","received_events_url":"https://api.github.com/users/jplatte/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T12:06:38Z","updated_at":"2021-02-04T12:06:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/788","repository_url":"https://api.github.com/repos/launchbadge/sqlx","labels_url":"https://api.github.com/repos/launchbadge/sqlx/issues/788/labels{/name}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/issues/788/comments","events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/788/events","html_url":"https://github.com/launchbadge/sqlx/issues/788","id":734965055,"node_id":"MDU6SXNzdWU3MzQ5NjUwNTU=","number":788,"title":"`cargo sqlx prepare` only works after `cargo clean`","user":{"login":"colmanhumphrey","id":6945891,"node_id":"MDQ6VXNlcjY5NDU4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6945891?v=4","gravatar_id":"","url":"https://api.github.com/users/colmanhumphrey","html_url":"https://github.com/colmanhumphrey","followers_url":"https://api.github.com/users/colmanhumphrey/followers","following_url":"https://api.github.com/users/colmanhumphrey/following{/other_user}","gists_url":"https://api.github.com/users/colmanhumphrey/gists{/gist_id}","starred_url":"https://api.github.com/users/colmanhumphrey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colmanhumphrey/subscriptions","organizations_url":"https://api.github.com/users/colmanhumphrey/orgs","repos_url":"https://api.github.com/users/colmanhumphrey/repos","events_url":"https://api.github.com/users/colmanhumphrey/events{/privacy}","received_events_url":"https://api.github.com/users/colmanhumphrey/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-11-03T02:17:28Z","updated_at":"2025-05-17T00:50:44Z","closed_at":"2021-04-28T01:53:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":230595891,"node_id":"MDEwOlJlcG9zaXRvcnkyMzA1OTU4OTE=","name":"sqlx","full_name":"launchbadge/sqlx","private":false,"owner":{"login":"launchbadge","id":10077001,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEwMDc3MDAx","avatar_url":"https://avatars.githubusercontent.com/u/10077001?v=4","gravatar_id":"","url":"https://api.github.com/users/launchbadge","html_url":"https://github.com/launchbadge","followers_url":"https://api.github.com/users/launchbadge/followers","following_url":"https://api.github.com/users/launchbadge/following{/other_user}","gists_url":"https://api.github.com/users/launchbadge/gists{/gist_id}","starred_url":"https://api.github.com/users/launchbadge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/launchbadge/subscriptions","organizations_url":"https://api.github.com/users/launchbadge/orgs","repos_url":"https://api.github.com/users/launchbadge/repos","events_url":"https://api.github.com/users/launchbadge/events{/privacy}","received_events_url":"https://api.github.com/users/launchbadge/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/launchbadge/sqlx","description":"ðŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, and SQLite.","fork":false,"url":"https://api.github.com/repos/launchbadge/sqlx","forks_url":"https://api.github.com/repos/launchbadge/sqlx/forks","keys_url":"https://api.github.com/repos/launchbadge/sqlx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/launchbadge/sqlx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/launchbadge/sqlx/teams","hooks_url":"https://api.github.com/repos/launchbadge/sqlx/hooks","issue_events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/events{/number}","events_url":"https://api.github.com/repos/launchbadge/sqlx/events","assignees_url":"https://api.github.com/repos/launchbadge/sqlx/assignees{/user}","branches_url":"https://api.github.com/repos/launchbadge/sqlx/branches{/branch}","tags_url":"https://api.github.com/repos/launchbadge/sqlx/tags","blobs_url":"https://api.github.com/repos/launchbadge/sqlx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/launchbadge/sqlx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/launchbadge/sqlx/git/refs{/sha}","trees_url":"https://api.github.com/repos/launchbadge/sqlx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/launchbadge/sqlx/statuses/{sha}","languages_url":"https://api.github.com/repos/launchbadge/sqlx/languages","stargazers_url":"https://api.github.com/repos/launchbadge/sqlx/stargazers","contributors_url":"https://api.github.com/repos/launchbadge/sqlx/contributors","subscribers_url":"https://api.github.com/repos/launchbadge/sqlx/subscribers","subscription_url":"https://api.github.com/repos/launchbadge/sqlx/subscription","commits_url":"https://api.github.com/repos/launchbadge/sqlx/commits{/sha}","git_commits_url":"https://api.github.com/repos/launchbadge/sqlx/git/commits{/sha}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/comments{/number}","issue_comment_url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments{/number}","contents_url":"https://api.github.com/repos/launchbadge/sqlx/contents/{+path}","compare_url":"https://api.github.com/repos/launchbadge/sqlx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/launchbadge/sqlx/merges","archive_url":"https://api.github.com/repos/launchbadge/sqlx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/launchbadge/sqlx/downloads","issues_url":"https://api.github.com/repos/launchbadge/sqlx/issues{/number}","pulls_url":"https://api.github.com/repos/launchbadge/sqlx/pulls{/number}","milestones_url":"https://api.github.com/repos/launchbadge/sqlx/milestones{/number}","notifications_url":"https://api.github.com/repos/launchbadge/sqlx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/launchbadge/sqlx/labels{/name}","releases_url":"https://api.github.com/repos/launchbadge/sqlx/releases{/id}","deployments_url":"https://api.github.com/repos/launchbadge/sqlx/deployments","created_at":"2019-12-28T10:40:57Z","updated_at":"2025-11-10T07:15:41Z","pushed_at":"2025-10-29T18:37:49Z","git_url":"git://github.com/launchbadge/sqlx.git","ssh_url":"git@github.com:launchbadge/sqlx.git","clone_url":"https://github.com/launchbadge/sqlx.git","svn_url":"https://github.com/launchbadge/sqlx","homepage":"","size":9641,"stargazers_count":15938,"watchers_count":15938,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1502,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":701,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["async","await","mariadb","mysql","postgres","postgresql","rust","sql","sqlite"],"visibility":"public","forks":1502,"open_issues":701,"watchers":15938,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This may already be solved, as I'm running on version `0.4.0-beta.1`.\r\n\r\n## Issue\r\n\r\nI run `cargo sqlx prepare -- --bin <bin name>` and get a correctly specified `sqlx-data.json` file. However, if I run it again, I now get the \"empty\" file, only specifying what db I'm using:\r\n```\r\n{\r\n  \"db\": \"PostgreSQL\"\r\n}\r\n```\r\nAnd along with this, I get ``warning: no queries found; do you have the `offline` feature enabled``, which seems off, since I do have \"offline\" enabled. \r\n\r\nIndeed the same issue arises if I run `cargo sqlx prepare --check -- --bin <bin name>`\r\n\r\n## Workaround\r\n\r\nIf I run `cargo clean` before the commands, everything works fine. This is both in terms of rerunning the builder, and running `--check`. \r\n\r\n### What Else I've Tried\r\n\r\n- From https://github.com/launchbadge/sqlx/pull/722, I tried just manually deleting `./target/sqlx` instead of full `cargo clean` but that didn't work - the folder is empty anyway. \r\n- I tried just deleting `target/CACHEDIR.TAG`, didn't work; same for `target/.rustc_info.json`\r\n- I trashed just `./target/debug` and that worked... But this is rather similar to running `cargo clean` I guess\r\n- On quick search, didn't find a matching issue here or on Discord\r\n\r\n## Version\r\n\r\nMy `sqlx` setup:\r\n\r\n```\r\n[dependencies.sqlx]\r\nversion = \"0.4.0-beta.1\"\r\ndefault-features = false\r\nfeatures = [ \"runtime-tokio\", \"macros\", \"postgres\", \"uuid\", \"chrono\", \"migrate\", \"offline\" ]\r\n```\r\n\r\nPostgres: `postgres (PostgreSQL) 13.0 (Debian 13.0-1.pgdg100+1)` running on postgres Docker (image 817f2d3d51ec)\r\n\r\n## Thanks\r\n\r\nFor the great crate!","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/788/reactions","total_count":24,"+1":21,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":3},"timeline_url":"https://api.github.com/repos/launchbadge/sqlx/issues/788/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T01:54:42Z","updated_at":"2021-04-28T01:54:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/681","repository_url":"https://api.github.com/repos/launchbadge/sqlx","labels_url":"https://api.github.com/repos/launchbadge/sqlx/issues/681/labels{/name}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/issues/681/comments","events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/681/events","html_url":"https://github.com/launchbadge/sqlx/issues/681","id":701497033,"node_id":"MDU6SXNzdWU3MDE0OTcwMzM=","number":681,"title":"Force recompile when migrations changed","user":{"login":"dmarcuse","id":5429337,"node_id":"MDQ6VXNlcjU0MjkzMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5429337?v=4","gravatar_id":"","url":"https://api.github.com/users/dmarcuse","html_url":"https://github.com/dmarcuse","followers_url":"https://api.github.com/users/dmarcuse/followers","following_url":"https://api.github.com/users/dmarcuse/following{/other_user}","gists_url":"https://api.github.com/users/dmarcuse/gists{/gist_id}","starred_url":"https://api.github.com/users/dmarcuse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmarcuse/subscriptions","organizations_url":"https://api.github.com/users/dmarcuse/orgs","repos_url":"https://api.github.com/users/dmarcuse/repos","events_url":"https://api.github.com/users/dmarcuse/events{/privacy}","received_events_url":"https://api.github.com/users/dmarcuse/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-09-14T23:30:18Z","updated_at":"2021-07-21T23:36:23Z","closed_at":"2021-07-21T23:36:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":230595891,"node_id":"MDEwOlJlcG9zaXRvcnkyMzA1OTU4OTE=","name":"sqlx","full_name":"launchbadge/sqlx","private":false,"owner":{"login":"launchbadge","id":10077001,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEwMDc3MDAx","avatar_url":"https://avatars.githubusercontent.com/u/10077001?v=4","gravatar_id":"","url":"https://api.github.com/users/launchbadge","html_url":"https://github.com/launchbadge","followers_url":"https://api.github.com/users/launchbadge/followers","following_url":"https://api.github.com/users/launchbadge/following{/other_user}","gists_url":"https://api.github.com/users/launchbadge/gists{/gist_id}","starred_url":"https://api.github.com/users/launchbadge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/launchbadge/subscriptions","organizations_url":"https://api.github.com/users/launchbadge/orgs","repos_url":"https://api.github.com/users/launchbadge/repos","events_url":"https://api.github.com/users/launchbadge/events{/privacy}","received_events_url":"https://api.github.com/users/launchbadge/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/launchbadge/sqlx","description":"ðŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, and SQLite.","fork":false,"url":"https://api.github.com/repos/launchbadge/sqlx","forks_url":"https://api.github.com/repos/launchbadge/sqlx/forks","keys_url":"https://api.github.com/repos/launchbadge/sqlx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/launchbadge/sqlx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/launchbadge/sqlx/teams","hooks_url":"https://api.github.com/repos/launchbadge/sqlx/hooks","issue_events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/events{/number}","events_url":"https://api.github.com/repos/launchbadge/sqlx/events","assignees_url":"https://api.github.com/repos/launchbadge/sqlx/assignees{/user}","branches_url":"https://api.github.com/repos/launchbadge/sqlx/branches{/branch}","tags_url":"https://api.github.com/repos/launchbadge/sqlx/tags","blobs_url":"https://api.github.com/repos/launchbadge/sqlx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/launchbadge/sqlx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/launchbadge/sqlx/git/refs{/sha}","trees_url":"https://api.github.com/repos/launchbadge/sqlx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/launchbadge/sqlx/statuses/{sha}","languages_url":"https://api.github.com/repos/launchbadge/sqlx/languages","stargazers_url":"https://api.github.com/repos/launchbadge/sqlx/stargazers","contributors_url":"https://api.github.com/repos/launchbadge/sqlx/contributors","subscribers_url":"https://api.github.com/repos/launchbadge/sqlx/subscribers","subscription_url":"https://api.github.com/repos/launchbadge/sqlx/subscription","commits_url":"https://api.github.com/repos/launchbadge/sqlx/commits{/sha}","git_commits_url":"https://api.github.com/repos/launchbadge/sqlx/git/commits{/sha}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/comments{/number}","issue_comment_url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments{/number}","contents_url":"https://api.github.com/repos/launchbadge/sqlx/contents/{+path}","compare_url":"https://api.github.com/repos/launchbadge/sqlx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/launchbadge/sqlx/merges","archive_url":"https://api.github.com/repos/launchbadge/sqlx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/launchbadge/sqlx/downloads","issues_url":"https://api.github.com/repos/launchbadge/sqlx/issues{/number}","pulls_url":"https://api.github.com/repos/launchbadge/sqlx/pulls{/number}","milestones_url":"https://api.github.com/repos/launchbadge/sqlx/milestones{/number}","notifications_url":"https://api.github.com/repos/launchbadge/sqlx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/launchbadge/sqlx/labels{/name}","releases_url":"https://api.github.com/repos/launchbadge/sqlx/releases{/id}","deployments_url":"https://api.github.com/repos/launchbadge/sqlx/deployments","created_at":"2019-12-28T10:40:57Z","updated_at":"2025-11-10T07:15:41Z","pushed_at":"2025-10-29T18:37:49Z","git_url":"git://github.com/launchbadge/sqlx.git","ssh_url":"git@github.com:launchbadge/sqlx.git","clone_url":"https://github.com/launchbadge/sqlx.git","svn_url":"https://github.com/launchbadge/sqlx","homepage":"","size":9641,"stargazers_count":15938,"watchers_count":15938,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1502,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":701,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["async","await","mariadb","mysql","postgres","postgresql","rust","sql","sqlite"],"visibility":"public","forks":1502,"open_issues":701,"watchers":15938,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The `migrate!` macro is very handy right now, but it would be nice if it would also handle changes to the migrations - currently, the compiler will just ignore changes to these files when determining whether to use the cached build or not. Emitting `const _: &[u8] = include_bytes!(...)` for each migration should solve this.","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/launchbadge/sqlx/issues/681/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T08:23:53Z","updated_at":"2021-07-14T08:23:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/rust/issues/38546","repository_url":"https://api.github.com/repos/rust-lang/rust","labels_url":"https://api.github.com/repos/rust-lang/rust/issues/38546/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/rust/issues/38546/comments","events_url":"https://api.github.com/repos/rust-lang/rust/issues/38546/events","html_url":"https://github.com/rust-lang/rust/issues/38546","id":197196513,"node_id":"MDU6SXNzdWUxOTcxOTY1MTM=","number":38546,"title":"Allow access to location information from proc_macro TokenStreams","user":{"login":"djc","id":158471,"node_id":"MDQ6VXNlcjE1ODQ3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/158471?v=4","gravatar_id":"","url":"https://api.github.com/users/djc","html_url":"https://github.com/djc","followers_url":"https://api.github.com/users/djc/followers","following_url":"https://api.github.com/users/djc/following{/other_user}","gists_url":"https://api.github.com/users/djc/gists{/gist_id}","starred_url":"https://api.github.com/users/djc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djc/subscriptions","organizations_url":"https://api.github.com/users/djc/orgs","repos_url":"https://api.github.com/users/djc/repos","events_url":"https://api.github.com/users/djc/events{/privacy}","received_events_url":"https://api.github.com/users/djc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":211668062,"node_id":"MDU6TGFiZWwyMTE2NjgwNjI=","url":"https://api.github.com/repos/rust-lang/rust/labels/T-libs-api","name":"T-libs-api","color":"bfd4f2","default":false,"description":"Relevant to the library API team, which will review and decide on the PR/issue."},{"id":630652267,"node_id":"MDU6TGFiZWw2MzA2NTIyNjc=","url":"https://api.github.com/repos/rust-lang/rust/labels/C-feature-request","name":"C-feature-request","color":"f5f1fd","default":false,"description":"Category: A feature request, i.e: not implemented / a PR."},{"id":2079070889,"node_id":"MDU6TGFiZWwyMDc5MDcwODg5","url":"https://api.github.com/repos/rust-lang/rust/labels/A-proc-macros","name":"A-proc-macros","color":"f7e101","default":false,"description":"Area: Procedural macros"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2016-12-22T15:17:23Z","updated_at":"2021-07-14T12:12:42Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":724712,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ3MTI=","name":"rust","full_name":"rust-lang/rust","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/rust","description":"Empowering everyone to build reliable and efficient software.","fork":false,"url":"https://api.github.com/repos/rust-lang/rust","forks_url":"https://api.github.com/repos/rust-lang/rust/forks","keys_url":"https://api.github.com/repos/rust-lang/rust/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/rust/teams","hooks_url":"https://api.github.com/repos/rust-lang/rust/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/rust/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/rust/events","assignees_url":"https://api.github.com/repos/rust-lang/rust/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/rust/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/rust/tags","blobs_url":"https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/rust/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/rust/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/rust/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/rust/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/rust/languages","stargazers_url":"https://api.github.com/repos/rust-lang/rust/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/rust/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/rust/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/rust/subscription","commits_url":"https://api.github.com/repos/rust-lang/rust/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/rust/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/rust/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/rust/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/rust/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/rust/merges","archive_url":"https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/rust/downloads","issues_url":"https://api.github.com/repos/rust-lang/rust/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/rust/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/rust/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/rust/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/rust/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/rust/deployments","created_at":"2010-06-16T20:39:03Z","updated_at":"2025-11-10T11:58:04Z","pushed_at":"2025-11-10T11:47:44Z","git_url":"git://github.com/rust-lang/rust.git","ssh_url":"git@github.com:rust-lang/rust.git","clone_url":"https://github.com/rust-lang/rust.git","svn_url":"https://github.com/rust-lang/rust","homepage":"https://www.rust-lang.org","size":804826,"stargazers_count":107750,"watchers_count":107750,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13961,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":11736,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","language","rust"],"visibility":"public","forks":13961,"open_issues":11736,"watchers":107750,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I would like to build a template engine that leverages custom derive to attach a template rendering function to a struct at compile time. I was planning on attaching an attribute to the struct to specify the path to the template file, which could then be read and transpiled into Rust. However, it seems it is currently not possible to get at the path to the source file where the `TokenStream` originated. As such, it seems I would have to rely on absolute paths to template files or on the current working directory. Even assuming cargo compiles (including workspaces), this does not seem reliable.\r\n\r\nThe `Item`s that are part of the `TokenStream` contain a `Span`, but I don't think the `CodeMap` they index into is currently available to a proc_macro. Would that be a viable implementation strategy?","reactions":{"url":"https://api.github.com/repos/rust-lang/rust/issues/38546/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/rust/issues/38546/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5041530282,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE1MzAyODI=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5041530282","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"39124c50e5c9022307e21bdbbf545148a9f694ca","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/39124c50e5c9022307e21bdbbf545148a9f694ca","created_at":"2021-07-20T01:45:06Z","performed_via_github_app":null},{"id":5041537876,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE1Mzc4NzY=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5041537876","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ee2b14ec83aa53aefe23b671a31ecc0d79f588fb","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/ee2b14ec83aa53aefe23b671a31ecc0d79f588fb","created_at":"2021-07-20T01:48:16Z","performed_via_github_app":null},{"id":5041587190,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE1ODcxOTA=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5041587190","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6fe2cca09af0ffa3e4243cbdd3ba2379f13f9368","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/6fe2cca09af0ffa3e4243cbdd3ba2379f13f9368","created_at":"2021-07-20T02:04:46Z","performed_via_github_app":null},{"actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T02:11:13Z","updated_at":"2021-07-20T02:11:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332","repository_url":"https://api.github.com/repos/launchbadge/sqlx","labels_url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332/labels{/name}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332/comments","events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332/events","html_url":"https://github.com/launchbadge/sqlx/pull/1332","id":948182884,"node_id":"MDExOlB1bGxSZXF1ZXN0NjkzMDU5NDQ4","number":1332,"title":"fix(macros): tell the compiler about external files/env vars to watch","user":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/launchbadge/sqlx/milestones/7","html_url":"https://github.com/launchbadge/sqlx/milestone/7","labels_url":"https://api.github.com/repos/launchbadge/sqlx/milestones/7/labels","id":6962902,"node_id":"MI_kwDODb6dM84Aaj7W","number":7,"title":"0.5.6","description":"","creator":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":5,"state":"closed","created_at":"2021-07-20T02:20:28Z","updated_at":"2021-08-30T20:39:07Z","due_on":null,"closed_at":"2021-08-30T20:39:07Z"},"comments":0,"created_at":"2021-07-20T02:11:13Z","updated_at":"2021-07-21T23:36:24Z","closed_at":"2021-07-21T23:36:23Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":230595891,"node_id":"MDEwOlJlcG9zaXRvcnkyMzA1OTU4OTE=","name":"sqlx","full_name":"launchbadge/sqlx","private":false,"owner":{"login":"launchbadge","id":10077001,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEwMDc3MDAx","avatar_url":"https://avatars.githubusercontent.com/u/10077001?v=4","gravatar_id":"","url":"https://api.github.com/users/launchbadge","html_url":"https://github.com/launchbadge","followers_url":"https://api.github.com/users/launchbadge/followers","following_url":"https://api.github.com/users/launchbadge/following{/other_user}","gists_url":"https://api.github.com/users/launchbadge/gists{/gist_id}","starred_url":"https://api.github.com/users/launchbadge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/launchbadge/subscriptions","organizations_url":"https://api.github.com/users/launchbadge/orgs","repos_url":"https://api.github.com/users/launchbadge/repos","events_url":"https://api.github.com/users/launchbadge/events{/privacy}","received_events_url":"https://api.github.com/users/launchbadge/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/launchbadge/sqlx","description":"ðŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, and SQLite.","fork":false,"url":"https://api.github.com/repos/launchbadge/sqlx","forks_url":"https://api.github.com/repos/launchbadge/sqlx/forks","keys_url":"https://api.github.com/repos/launchbadge/sqlx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/launchbadge/sqlx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/launchbadge/sqlx/teams","hooks_url":"https://api.github.com/repos/launchbadge/sqlx/hooks","issue_events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/events{/number}","events_url":"https://api.github.com/repos/launchbadge/sqlx/events","assignees_url":"https://api.github.com/repos/launchbadge/sqlx/assignees{/user}","branches_url":"https://api.github.com/repos/launchbadge/sqlx/branches{/branch}","tags_url":"https://api.github.com/repos/launchbadge/sqlx/tags","blobs_url":"https://api.github.com/repos/launchbadge/sqlx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/launchbadge/sqlx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/launchbadge/sqlx/git/refs{/sha}","trees_url":"https://api.github.com/repos/launchbadge/sqlx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/launchbadge/sqlx/statuses/{sha}","languages_url":"https://api.github.com/repos/launchbadge/sqlx/languages","stargazers_url":"https://api.github.com/repos/launchbadge/sqlx/stargazers","contributors_url":"https://api.github.com/repos/launchbadge/sqlx/contributors","subscribers_url":"https://api.github.com/repos/launchbadge/sqlx/subscribers","subscription_url":"https://api.github.com/repos/launchbadge/sqlx/subscription","commits_url":"https://api.github.com/repos/launchbadge/sqlx/commits{/sha}","git_commits_url":"https://api.github.com/repos/launchbadge/sqlx/git/commits{/sha}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/comments{/number}","issue_comment_url":"https://api.github.com/repos/launchbadge/sqlx/issues/comments{/number}","contents_url":"https://api.github.com/repos/launchbadge/sqlx/contents/{+path}","compare_url":"https://api.github.com/repos/launchbadge/sqlx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/launchbadge/sqlx/merges","archive_url":"https://api.github.com/repos/launchbadge/sqlx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/launchbadge/sqlx/downloads","issues_url":"https://api.github.com/repos/launchbadge/sqlx/issues{/number}","pulls_url":"https://api.github.com/repos/launchbadge/sqlx/pulls{/number}","milestones_url":"https://api.github.com/repos/launchbadge/sqlx/milestones{/number}","notifications_url":"https://api.github.com/repos/launchbadge/sqlx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/launchbadge/sqlx/labels{/name}","releases_url":"https://api.github.com/repos/launchbadge/sqlx/releases{/id}","deployments_url":"https://api.github.com/repos/launchbadge/sqlx/deployments","created_at":"2019-12-28T10:40:57Z","updated_at":"2025-11-10T07:15:41Z","pushed_at":"2025-10-29T18:37:49Z","git_url":"git://github.com/launchbadge/sqlx.git","ssh_url":"git@github.com:launchbadge/sqlx.git","clone_url":"https://github.com/launchbadge/sqlx.git","svn_url":"https://github.com/launchbadge/sqlx","homepage":"","size":9641,"stargazers_count":15938,"watchers_count":15938,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1502,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":701,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["async","await","mariadb","mysql","postgres","postgresql","rust","sql","sqlite"],"visibility":"public","forks":1502,"open_issues":701,"watchers":15938,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/launchbadge/sqlx/pulls/1332","html_url":"https://github.com/launchbadge/sqlx/pull/1332","diff_url":"https://github.com/launchbadge/sqlx/pull/1332.diff","patch_url":"https://github.com/launchbadge/sqlx/pull/1332.patch","merged_at":"2021-07-21T23:36:23Z"},"body":"closes #663\r\ncloses #681\r\n\r\ncc @jplatte @mehcode \r\n\r\nWe've had long-standing bugs about changes to external files not triggering recompilation of our proc-macros, be it with `query_file*!()` (#663) or `migrate!()` (#681).\r\n\r\nWhere it makes sense to do so, i.e. with `query_file*!()` and existing migration files, we can emit `include_str!()` which has the compiler open the file and include it as a string literal, as well as adds that file to the watchlist for triggering recompilation.\r\n\r\nHowever, that's undesirable to do for other files, e.g. the `.env` as it may contain sensitive information (database credentials, API keys, etc.) that shouldn't be published with the binary. So instead, with `RUSTFLAGS='--cfg procmacro2_semver_exempt'` we utilize a couple of `proc_macro` APIs that only recently landed on nightly:\r\n\r\n* [`proc_macro::tracked_path::path()`](https://doc.rust-lang.org/nightly/proc_macro/tracked_path/fn.path.html)\r\n* [`proc_macro::tracked_env::var()`](https://doc.rust-lang.org/nightly/proc_macro/tracked_env/fn.var.html)\r\n\r\n`tracked_path::path()` does not explicitly specify that it works for directories, but it seems to do so for now so hopefully that becomes part of its specified behavior instead of being treated like a bug (https://github.com/rust-lang/rust/issues/73921#issuecomment-882953071). By using it to track the `migrations/` directory it appears that the issue of #681 is completely fixed as you can add or remove migrations and it will properly recompile.\r\n\r\n`tracked_env::var()` is just a nice way to tell the compiler what env vars we watch instead of using `opt_env!()` in the emitted code. Since basically no one is complaining about this one I didn't really bother to provide a solution that also works on stable. Also `opt_env!(\"DATABASE_URL\")` would leak database credentials in the binary, which is a non-starter.\r\n\r\n**Why a cfg-flag and not a feature flag**?\r\n**Why `procmacro2_semver_exempt`**?\r\nI gave justification for these choices in the docs for `migrate!()`, though this is open to bikeshedding: https://github.com/launchbadge/sqlx/pull/1332/files#diff-315c02cd05738da173861537577d159833f70f79cfda8cd7cf1a0d7a28ace31bR776-R792\r\n\r\nIf we do decide to change the cfg-flag name, I would make it accept _either_ that new flag name or `procmacro2_semver_exempt`.\r\n\r\n### Optional/bikeshed: `sqlx-cli` changes\r\n\r\nI also took the liberty of adding `sqlx migrate build-script` which will generate the build-script from the `sqlx::migrate!()` docs in the current directory.\r\n\r\nAlso, `sqlx migrate add` in a new project will suggest using the `migrate!()` macro to embed migrations, and also to use the build script to ensure that the compiler always picks up new migrations.\r\n\r\nI did this in a separate commit so if we decide we don't want this functionality I can easily drop it from this PR.","reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/launchbadge/sqlx/issues/1332/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5041636454,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE2MzY0NTQ=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5041636454","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"33c3ec4b060be2c09ddc9c2e64f8a242bc8539c7","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/33c3ec4b060be2c09ddc9c2e64f8a242bc8539c7","created_at":"2021-07-20T02:23:04Z","performed_via_github_app":null},{"id":5041720992,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE3MjA5OTI=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5041720992","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"edb6b5f1266a05a42f942ac1b049e769bc7e5b66","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/edb6b5f1266a05a42f942ac1b049e769bc7e5b66","created_at":"2021-07-20T03:01:55Z","performed_via_github_app":null},{"id":5047438583,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDc0Mzg1ODM=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5047438583","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e1f9b51e1f818ba368c4dc870e3a7df71191f1fd","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/e1f9b51e1f818ba368c4dc870e3a7df71191f1fd","created_at":"2021-07-21T00:46:53Z","performed_via_github_app":null},{"id":5052993727,"node_id":"MDExOkNsb3NlZEV2ZW50NTA1Mjk5MzcyNw==","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5052993727","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-07-21T23:36:23Z","state_reason":null,"performed_via_github_app":null},{"id":5052993798,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNTI5OTM3OTg=","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5052993798","actor":{"login":"abonander","id":3198595,"node_id":"MDQ6VXNlcjMxOTg1OTU=","avatar_url":"https://avatars.githubusercontent.com/u/3198595?v=4","gravatar_id":"","url":"https://api.github.com/users/abonander","html_url":"https://github.com/abonander","followers_url":"https://api.github.com/users/abonander/followers","following_url":"https://api.github.com/users/abonander/following{/other_user}","gists_url":"https://api.github.com/users/abonander/gists{/gist_id}","starred_url":"https://api.github.com/users/abonander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abonander/subscriptions","organizations_url":"https://api.github.com/users/abonander/orgs","repos_url":"https://api.github.com/users/abonander/repos","events_url":"https://api.github.com/users/abonander/events{/privacy}","received_events_url":"https://api.github.com/users/abonander/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e89cb0971ab9c9646bb9f6909e47a53e4c76e4c2","commit_url":"https://api.github.com/repos/launchbadge/sqlx/commits/e89cb0971ab9c9646bb9f6909e47a53e4c76e4c2","created_at":"2021-07-21T23:36:24Z","performed_via_github_app":null},{"id":5647416874,"node_id":"REFE_lADODb6dM84pCyWHzwAAAAFQnL4q","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5647416874","actor":{"login":"placrosse","id":974306,"node_id":"MDQ6VXNlcjk3NDMwNg==","avatar_url":"https://avatars.githubusercontent.com/u/974306?v=4","gravatar_id":"","url":"https://api.github.com/users/placrosse","html_url":"https://github.com/placrosse","followers_url":"https://api.github.com/users/placrosse/followers","following_url":"https://api.github.com/users/placrosse/following{/other_user}","gists_url":"https://api.github.com/users/placrosse/gists{/gist_id}","starred_url":"https://api.github.com/users/placrosse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/placrosse/subscriptions","organizations_url":"https://api.github.com/users/placrosse/orgs","repos_url":"https://api.github.com/users/placrosse/repos","events_url":"https://api.github.com/users/placrosse/events{/privacy}","received_events_url":"https://api.github.com/users/placrosse/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6cdb35d950517078969ac0d06b7e3a6e8a7f775c","commit_url":"https://api.github.com/repos/JetASAP/sqlx/commits/6cdb35d950517078969ac0d06b7e3a6e8a7f775c","created_at":"2021-11-19T19:49:23Z","performed_via_github_app":null},{"id":5649296348,"node_id":"REFE_lADODb6dM84pCyWHzwAAAAFQuWvc","url":"https://api.github.com/repos/launchbadge/sqlx/issues/events/5649296348","actor":{"login":"placrosse","id":974306,"node_id":"MDQ6VXNlcjk3NDMwNg==","avatar_url":"https://avatars.githubusercontent.com/u/974306?v=4","gravatar_id":"","url":"https://api.github.com/users/placrosse","html_url":"https://github.com/placrosse","followers_url":"https://api.github.com/users/placrosse/followers","following_url":"https://api.github.com/users/placrosse/following{/other_user}","gists_url":"https://api.github.com/users/placrosse/gists{/gist_id}","starred_url":"https://api.github.com/users/placrosse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/placrosse/subscriptions","organizations_url":"https://api.github.com/users/placrosse/orgs","repos_url":"https://api.github.com/users/placrosse/repos","events_url":"https://api.github.com/users/placrosse/events{/privacy}","received_events_url":"https://api.github.com/users/placrosse/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b5a95c4ec0638231009eb438b2823afa0d20dd10","commit_url":"https://api.github.com/repos/JetASAP/sqlx/commits/b5a95c4ec0638231009eb438b2823afa0d20dd10","created_at":"2021-11-20T20:19:52Z","performed_via_github_app":null},{"actor":{"login":"vbeffa","id":6473744,"node_id":"MDQ6VXNlcjY0NzM3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6473744?v=4","gravatar_id":"","url":"https://api.github.com/users/vbeffa","html_url":"https://github.com/vbeffa","followers_url":"https://api.github.com/users/vbeffa/followers","following_url":"https://api.github.com/users/vbeffa/following{/other_user}","gists_url":"https://api.github.com/users/vbeffa/gists{/gist_id}","starred_url":"https://api.github.com/users/vbeffa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vbeffa/subscriptions","organizations_url":"https://api.github.com/users/vbeffa/orgs","repos_url":"https://api.github.com/users/vbeffa/repos","events_url":"https://api.github.com/users/vbeffa/events{/privacy}","received_events_url":"https://api.github.com/users/vbeffa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T16:03:25Z","updated_at":"2021-11-29T16:03:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vbeffa/sqlx/issues/8","repository_url":"https://api.github.com/repos/vbeffa/sqlx","labels_url":"https://api.github.com/repos/vbeffa/sqlx/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/vbeffa/sqlx/issues/8/comments","events_url":"https://api.github.com/repos/vbeffa/sqlx/issues/8/events","html_url":"https://github.com/vbeffa/sqlx/pull/8","id":1066213541,"node_id":"PR_kwDOFuvn9s4vIxXI","number":8,"title":"Update ws-support (#15)","user":{"login":"vbeffa","id":6473744,"node_id":"MDQ6VXNlcjY0NzM3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6473744?v=4","gravatar_id":"","url":"https://api.github.com/users/vbeffa","html_url":"https://github.com/vbeffa","followers_url":"https://api.github.com/users/vbeffa/followers","following_url":"https://api.github.com/users/vbeffa/following{/other_user}","gists_url":"https://api.github.com/users/vbeffa/gists{/gist_id}","starred_url":"https://api.github.com/users/vbeffa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vbeffa/subscriptions","organizations_url":"https://api.github.com/users/vbeffa/orgs","repos_url":"https://api.github.com/users/vbeffa/repos","events_url":"https://api.github.com/users/vbeffa/events{/privacy}","received_events_url":"https://api.github.com/users/vbeffa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-11-29T16:03:24Z","updated_at":"2021-11-29T16:03:56Z","closed_at":"2021-11-29T16:03:55Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":384559094,"node_id":"MDEwOlJlcG9zaXRvcnkzODQ1NTkwOTQ=","name":"sqlx","full_name":"vbeffa/sqlx","private":false,"owner":{"login":"vbeffa","id":6473744,"node_id":"MDQ6VXNlcjY0NzM3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6473744?v=4","gravatar_id":"","url":"https://api.github.com/users/vbeffa","html_url":"https://github.com/vbeffa","followers_url":"https://api.github.com/users/vbeffa/followers","following_url":"https://api.github.com/users/vbeffa/following{/other_user}","gists_url":"https://api.github.com/users/vbeffa/gists{/gist_id}","starred_url":"https://api.github.com/users/vbeffa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vbeffa/subscriptions","organizations_url":"https://api.github.com/users/vbeffa/orgs","repos_url":"https://api.github.com/users/vbeffa/repos","events_url":"https://api.github.com/users/vbeffa/events{/privacy}","received_events_url":"https://api.github.com/users/vbeffa/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vbeffa/sqlx","description":"ðŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, SQLite, and MSSQL.","fork":true,"url":"https://api.github.com/repos/vbeffa/sqlx","forks_url":"https://api.github.com/repos/vbeffa/sqlx/forks","keys_url":"https://api.github.com/repos/vbeffa/sqlx/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vbeffa/sqlx/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vbeffa/sqlx/teams","hooks_url":"https://api.github.com/repos/vbeffa/sqlx/hooks","issue_events_url":"https://api.github.com/repos/vbeffa/sqlx/issues/events{/number}","events_url":"https://api.github.com/repos/vbeffa/sqlx/events","assignees_url":"https://api.github.com/repos/vbeffa/sqlx/assignees{/user}","branches_url":"https://api.github.com/repos/vbeffa/sqlx/branches{/branch}","tags_url":"https://api.github.com/repos/vbeffa/sqlx/tags","blobs_url":"https://api.github.com/repos/vbeffa/sqlx/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vbeffa/sqlx/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vbeffa/sqlx/git/refs{/sha}","trees_url":"https://api.github.com/repos/vbeffa/sqlx/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vbeffa/sqlx/statuses/{sha}","languages_url":"https://api.github.com/repos/vbeffa/sqlx/languages","stargazers_url":"https://api.github.com/repos/vbeffa/sqlx/stargazers","contributors_url":"https://api.github.com/repos/vbeffa/sqlx/contributors","subscribers_url":"https://api.github.com/repos/vbeffa/sqlx/subscribers","subscription_url":"https://api.github.com/repos/vbeffa/sqlx/subscription","commits_url":"https://api.github.com/repos/vbeffa/sqlx/commits{/sha}","git_commits_url":"https://api.github.com/repos/vbeffa/sqlx/git/commits{/sha}","comments_url":"https://api.github.com/repos/vbeffa/sqlx/comments{/number}","issue_comment_url":"https://api.github.com/repos/vbeffa/sqlx/issues/comments{/number}","contents_url":"https://api.github.com/repos/vbeffa/sqlx/contents/{+path}","compare_url":"https://api.github.com/repos/vbeffa/sqlx/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vbeffa/sqlx/merges","archive_url":"https://api.github.com/repos/vbeffa/sqlx/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vbeffa/sqlx/downloads","issues_url":"https://api.github.com/repos/vbeffa/sqlx/issues{/number}","pulls_url":"https://api.github.com/repos/vbeffa/sqlx/pulls{/number}","milestones_url":"https://api.github.com/repos/vbeffa/sqlx/milestones{/number}","notifications_url":"https://api.github.com/repos/vbeffa/sqlx/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vbeffa/sqlx/labels{/name}","releases_url":"https://api.github.com/repos/vbeffa/sqlx/releases{/id}","deployments_url":"https://api.github.com/repos/vbeffa/sqlx/deployments","created_at":"2021-07-09T21:59:18Z","updated_at":"2021-11-29T16:01:05Z","pushed_at":"2021-11-29T16:04:42Z","git_url":"git://github.com/vbeffa/sqlx.git","ssh_url":"git@github.com:vbeffa/sqlx.git","clone_url":"https://github.com/vbeffa/sqlx.git","svn_url":"https://github.com/vbeffa/sqlx","homepage":"","size":5488,"stargazers_count":0,"watchers_count":0,"language":"Rust","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/vbeffa/sqlx/pulls/8","html_url":"https://github.com/vbeffa/sqlx/pull/8","diff_url":"https://github.com/vbeffa/sqlx/pull/8.diff","patch_url":"https://github.com/vbeffa/sqlx/pull/8.patch","merged_at":"2021-11-29T16:03:55Z"},"body":"* release: v0.5.4\r\n\r\n* Fix infinite compile loop regression from recursive Lazy reference\r\n\r\n* release: v0.5.5\r\n\r\n* Improve root README.md and sqlx-cli/README.md (#1262)\r\n\r\n* readme: Fix inconsistent list style\r\n\r\n* readme: Improve text alignment\r\n\r\n* readme: Fix missing links\r\n\r\n* readme: Consistently use code formatting for runtime & TLS crates and dedup links\r\n\r\n* readme: Add SQLx is not an ORM section\r\n\r\n* readme: Improve documentation about offline mode\r\n\r\n* Rename _expr to expr (#1264)\r\n\r\n* Fix error message about wildcard overrides (#1276)\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* Fix error message about wildcard overrides (#1276) (#8)\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\nCo-authored-by: Jonas Platte <jplatte@users.noreply.github.com>\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* Fix error message about wildcard overrides (#1276) (#10)\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\nCo-authored-by: Jonas Platte <jplatte@users.noreply.github.com>\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* feat(docs): add an FAQ (#1319)\r\n\r\n* doc(faq): mention how to invert `= ANY($1)`\r\n\r\n* doc(faq): empty array cases for `ANY` and `ALL`\r\n\r\n* doc(faq): fix wording for empty cases\r\n\r\n* Update crc 1.8.1 -> 2.0.0 (#1256)\r\n\r\n* Support MACADDR in Postgres (#1329)\r\n\r\n* fix(mysql): implement type traits for `chrono::DateTime<Local>` (#1335)\r\n\r\ncloses #1222\r\n\r\n* Keep track of column typing in SQLite EXPLAIN parsing (#1323)\r\n\r\n* NewRowid, Column opcodes, better pointer handling\r\n\r\n* Implement tracking of column typing on sqlite explain parser\r\n\r\n* fmt for sqlite column typing for explain parsing\r\n\r\nCo-authored-by: marshoepial <marshoepial@gmail.com>\r\n\r\n* fix(pool): reimplement pool internals with `futures-intrusive` (#1320)\r\n\r\n* fix(pg_money): handle negative values correctly in `PgMoney::from_decimal()` (#1334)\r\n\r\ncloses #1321\r\n\r\n* fix(macros): tell the compiler about external files/env vars to watch (#1332)\r\n\r\n* fix(macros): tell the compiler about external files/env vars to watch\r\n\r\ncloses #663\r\ncloses #681\r\n\r\n* feat(cli): add `migrate` subcommand for generating a build script\r\n\r\nsuggest embedding migrations on `sqlx migrate add` in a new project\r\n\r\n* fix(macros): prefix generated variable names in `query_as!()` (#1336)\r\n\r\ncloses #1322\r\n\r\n* Use tokio `spawn_blocking` instead of `block_in_place` (#1333)\r\n\r\nThis fixes a panic when sharing an SQLite connection pool between tokio runtime and actix runtime\r\n\r\n* Mark the original DatabaseError as source. (#1197)\r\n\r\n* Use postgres as maintenance db unless maintaining postgres itself (#1339)\r\n\r\nFixes #1283.\r\n\r\n* Fix GitHub Actions and integration test (#1346)\r\n\r\n* fix test suite\r\n\r\n* rustfmt\r\n\r\n* need Row\r\n\r\n* test: fix integration test scripts and update the upstream supported databases\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* ci(actions): update supported databases\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* ci(actions): use `pg_isready` instead of `sleep` to avoid error cause by database not ready\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* feat(core): add `trait PgConnectionInfo` for connection parameter status from server\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* test(postgres): fix integration test for postgres\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* test(mysql): fix integration tests\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* ci(actions): test database against the oldest and newest supported versions\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* docs(core): document `trait PgConnectionInfo`\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\nCo-authored-by: Montana Low <montanalow@gmail.com>\r\n\r\n* build(deps): bump git2 from 0.13.19 to 0.13.20 (#1362)\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* sqlite: fix a couple segfaults (#1351)\r\n\r\n* sqlite: use Arc instead of Copy-able StatementHandle\r\n\r\nThis guarantees that StatementHandle is never used after calling\r\n`sqlite3_finalize`. Now `sqlite3_finalize` is only called when\r\nStatementHandle is dropped.\r\n\r\n(cherry picked from commit 5eebc05dc371512bae14cf94498087bdadeddec0)\r\n\r\n* sqlite: use Weak poiter to StatementHandle in the worker\r\n\r\nOtherwise some tests fail to close connection.\r\n\r\n(cherry picked from commit 5461eeeee30772e54e8874f60805b04bdc989278)\r\n\r\n* Fix segfault due to race condition in sqlite (#1300)\r\n\r\n(cherry picked from commit bb62cf767e3e44896bf4607da8e18237241ed170)\r\n\r\n* fix(sqlite): run `sqlite3_reset()` in `StatementWorker`\r\n\r\nthis avoids possible race conditions without using a mutex\r\n\r\n* fix(sqlite): have `StatementWorker` keep a strong ref to `ConnectionHandle`\r\n\r\nthis should prevent the database handle from being finalized before all statement handles\r\nhave been finalized\r\n\r\n* fix(sqlite/test): make `concurrent_resets_dont_segfault` runtime-agnostic\r\n\r\nCo-authored-by: link2xt <link2xt@testrun.org>\r\nCo-authored-by: Adam CigÃ¡nek <adam.ciganek@gmail.com>\r\n\r\n* Add docs for fetch_all, example for postgres transactions (#1255)\r\n\r\n* reference fetch_all() in query macros\r\n\r\n* add example for using transactions in postgres\r\n\r\n* fix: Ignore __CARGO_FIX_PLZ when running \"cargo metadata\" in macro (#1352)\r\n\r\n* Fix bug for PostgreSQL if the statement has type holes (#1363)\r\n\r\n* fix: wait until ready after executing other helper queries while pg quering is executing\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* fix: use tls parameter for testing target\r\n\r\nSigned-off-by: Atkins Chang <atkinschang@gmail.com>\r\n\r\n* fix(cli): pin `clap_derive` version (#1381)\r\n\r\nWhen `clap_derive 3.0.0-beta.4` released, new invocations of `cargo install sqlx-cli` would try to compile that against `clap 3.0.0-beta.2` which caused some breakages.\r\n\r\nUntil `clap 3.0.0` proper is released, we need to pin both versions to insure against potential breakages from automatic upgrades.\r\n\r\ncloses #1378\r\n\r\n* cockroachdb fix for macro (#1386)\r\n\r\n* preparing 0.5.6 release (#1382)\r\n\r\n* fix(pool): reenable connection reaper\r\n\r\n* fix warnings\r\n\r\n* chore: bump published crates to 0.5.6\r\n\r\n* chore: update CHANGELOG.md for 0.5.6\r\n\r\n* chore: bump versions of sqlx-* in dependencies\r\n\r\n* fix(macros): use `resolve_path` when getting path for `include_str!()` (#1392)\r\n\r\nfixes #1387\r\n\r\n* fix(postgres): avoid recursively spawning tasks in `PgListener::drop()` (#1393)\r\n\r\nrefactor(pool): deprecate `PoolConnection::release()`, provide renamed alts\r\n\r\n* chore: prepare 0.5.7 (hotfix) release (#1394)\r\n\r\n* fix(cli) move database_url #1391 (#1400)\r\n\r\n* Use promptly instead of dialoguer (#1410)\r\n\r\nSee #1409\r\n\r\nCo-authored-by: David James <davidcjames@gmail.com>\r\n\r\n* Getting current Handle in Drop (#1395)\r\n\r\nSigned-off-by: Freyskeyd <simon.paitrault@gmail.com>\r\n\r\n* Add more debugging info to unresolved type declaration panic (#1416)\r\n\r\n* Don't require cargo to build offline queries (#1415)\r\n\r\nIn particular building with bazel and cargo-raze doesn't imply having\r\ncargo at all, and deferring the lookup allows same-crate builds to\r\nsucceed with no change to semantics.\r\n\r\nFixes #1414\r\n\r\nSigned-off-by: Robert Collins <robert.collins@cognite.com>\r\n\r\n* Add executor trait \"aliases\" (#1412)\r\n\r\n* feat: allow log level customization (#1371)\r\n\r\n* don't assert #[repr(...)] on `#[derive(sqlx::Type)]` unless needed (#1305)\r\n\r\n* Reduce futures-util features (#1427)\r\n\r\n* Reduce futures-util features\r\n\r\n* Remove unused futures crate from sqlx-macros\r\n\r\n* Fix issue #1431 (#1432)\r\n\r\nWhy: dotenv() must execute before clap's get_matches()\r\n\r\nCo-authored-by: David James <davidcjames@gmail.com>\r\n\r\n* Fix CIDR[] not being compatible with Vec<IpNetwork> (#1433)\r\n\r\n* Support the immutable option on SQLite connections (#1289)\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* Finish support for Postgres COPY (#1345)\r\n\r\n* feat(postgres): WIP implement `COPY FROM/TO STDIN`\r\n\r\nSigned-off-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* feat(postgres): WIP implement `COPY FROM/TO STDIN`\r\n\r\nSigned-off-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* test and complete support for postgres copy\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* fix: run `cargo fmt`\r\n\r\n* Support custom initial options for sqlite  (#1295)\r\n\r\n* Support custom initial options for sqlite\r\n\r\nApply suggestions from code review\r\n\r\nCo-authored-by: Austin Bonander <austin.bonander@gmail.com>\r\n\r\nApply suggestions from code review\r\n\r\nCo-authored-by: Austin Bonander <austin.bonander@gmail.com>\r\n\r\nUse order-preserving map to set pragmas for an initial sqlite statement\r\n\r\n Use Cow<'static, str> instead of String\r\n\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* docs: added a note about MySQL syntax in the README example (#1445)\r\n\r\n* fix(mysql): handle multiple waiting results correctly (#1439)\r\n\r\n* test(mysql): add test case for pending rows and dropped transaction\r\n\r\n* fix(mysql): handle multiple waiting results correctly\r\n\r\n* Fix a panic in the worker thread when dropping the connection while `SqliteRow`s still exist (#1450)\r\n\r\n* chore(sqlite): add repro for #1419\r\n\r\n* fix(sqlite): hold a reference to the connection in `SqliteRow`\r\n\r\nfixes #1419\r\n\r\n* Upgrade hmac to 0.11 (#1443)\r\n\r\n* Update postgres 14 test to 14rc1 (#1454)\r\n\r\n* Shut down statement worker in Sqlite Connection::close (#1453)\r\n\r\n* add explicit shutdown of sqlite statement worker in Connection::close()\r\n\r\nSigned-off-by: Andrew Whitehead <cywolf@gmail.com>\r\n\r\n* test sqlite database close method\r\n\r\nSigned-off-by: Andrew Whitehead <cywolf@gmail.com>\r\n\r\n* await worker shutdown after dropping SqliteConnection\r\n\r\nSigned-off-by: Andrew Whitehead <cywolf@gmail.com>\r\n\r\n* restore explicit drop\r\n\r\nSigned-off-by: Andrew Whitehead <cywolf@gmail.com>\r\n\r\n* Revert \"feat: allow log level customization (#1371)\" (#1465)\r\n\r\nThis reverts commit 719d80038b2f685ab52ce15bb15e953f1f162b42.\r\n\r\n* [SQLite] encoding & decoding `NaiveTime` with correct format (#1459)\r\n\r\n* Fix SQLite encoding format\r\n\r\n* Update SQLite decoding format\r\n\r\n* Update sqlx-core/src/sqlite/types/chrono.rs\r\n\r\n* fixup: add `#[rustfmt::skip]`\r\n\r\nCo-authored-by: Austin Bonander <austin.bonander@gmail.com>\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\n\r\n* Add reverting instructions to README (#1468)\r\n\r\nInstructions on reverting migrations are missing from the README. Here are some that others may find helpful.\r\n\r\n* preparing 0.5.8 release (#1466)\r\n\r\n* preparing 0.5.8 release\r\n\r\n* fix warnings before release\r\n\r\n* prepare 0.5.9 hotfix release (#1469)\r\n\r\n* Update README.md (#1479)\r\n\r\n* fix(test): fix mismatched type error in MySQL type tests (#1517)\r\n\r\n* fix new warning about trailing semicolon in expression macros\r\n\r\n* fix(test): fix mismatched type error in MySQL type tests\r\n\r\n* Add support for serialized threading mode to sqlite (#1514)\r\n\r\n* Add support for serialized threading mode\r\n\r\n* Typos\r\n\r\n* Fix build\r\n\r\n* Add persistent setter (#1503) (#1508)\r\n\r\n* Reduce indexmap version to 1.6.2 (#1501)\r\n\r\ndeno_core currently uses `=1.6.2` for indexmap, and Cargo refuses to resolve a version with sqlx's requirement of 1.7.0.\r\n\r\nhttps://github.com/denoland/deno/blob/004d07dccd69c9fae8370665632d90401f770938/core/Cargo.toml#L18\r\n\r\n* fix(postgres): allow rust_decimal::Decimal in PgRange (#1523)\r\n\r\n* fix(postgres): allow rust_decimal::Decimal in PgRange\r\n\r\n* test(postgres): add tests for BigDecimal and Decimal in ranges\r\n\r\n* Update FAQ to include building on docs.rs (#1497)\r\n\r\nThanks to @jplatte in the sqlx Discord for providing this solution.\r\n\r\n* docs: revise `Pool` docs in a couple places (#1526)\r\n\r\n* derive Clone, Copy for AnyKind (#1474)\r\n\r\n* fix panic when converting negative chrono::Duration into PgInterval (#1475)\r\n\r\n* fix PgInterval convert failure for negative chrono::Duration\r\n\r\n* add unit tests for PgInterval\r\n\r\n* Fix: remove redundancy because nanosecond overflow implies microsecond overflow\r\n\r\n* Encode/Decode impl for Cow<'_, str> (#1343)\r\n\r\n* Encode/Decode impl for Cow<'_, str>\r\n\r\nresolves #1214\r\n\r\n* --wip-- [skip ci]\r\n\r\n* Add Cow decode/encode to other databases and fix build\r\n\r\n* Include a reference to the shape of the migration files in the migrate macro documentation (#1498)\r\n\r\n* fix(readme): link to `dotenv` crate\r\n\r\ncloses #1405\r\n\r\n* fix(readme): show runtime features in quickstart\r\n\r\ncloses #1492\r\n\r\n* fix(readme): mention `offline` feature\r\n\r\ncloses #1490\r\n\r\n* fix(readme): mention examples\r\n\r\n* fix(sqlx-cli/readme): mention `openssl-vendored`\r\n\r\n* Copy API improvement (#1536) (#1537)\r\n\r\n* expose PgCopyIn\r\n\r\n* downgrade Pool<Posgres> copy_in_raw/out_row to take &self\r\n\r\n* bump libsqlite3-sys to 0.23.1 (#1535)\r\n\r\n* add #[cfg(not(target_arch = \"wasm32\"))] to fix compile errors\r\n\r\nCo-authored-by: Ryan Leckey <ryan@launchbadge.com>\r\nCo-authored-by: toshokan <toshokan@shojigate.net>\r\nCo-authored-by: Jonas Platte <jplatte@users.noreply.github.com>\r\nCo-authored-by: Rohan Sharma <rhnsharma5113@gmail.com>\r\nCo-authored-by: Austin Bonander <austin@launchbadge.com>\r\nCo-authored-by: Akhil Velagapudi <4@4khil.com>\r\nCo-authored-by: nomick <michael.rossberg@tu-ilmenau.de>\r\nCo-authored-by: marshoepial <54693067+marshoepial@users.noreply.github.com>\r\nCo-authored-by: marshoepial <marshoepial@gmail.com>\r\nCo-authored-by: guylapid <53928652+guylapid@users.noreply.github.com>\r\nCo-authored-by: Luca Palmieri <lucapalmieri1993@hotmail.com>\r\nCo-authored-by: Daniel Faust <hessijames@mailbox.org>\r\nCo-authored-by: Atkins <atkinschang@gmail.com>\r\nCo-authored-by: Montana Low <montanalow@gmail.com>\r\nCo-authored-by: link2xt <link2xt@testrun.org>\r\nCo-authored-by: Adam CigÃ¡nek <adam.ciganek@gmail.com>\r\nCo-authored-by: Rafael EpplÃ©e <raffomania@users.noreply.github.com>\r\nCo-authored-by: Fredrik Ã˜strem <1686349+frxstrem@users.noreply.github.com>\r\nCo-authored-by: Altan Ã–zlÃ¼ <altanozlu7@gmail.com>\r\nCo-authored-by: Evan Cameron <cameron.evan@gmail.com>\r\nCo-authored-by: David James <4576329+xpe@users.noreply.github.com>\r\nCo-authored-by: David James <davidcjames@gmail.com>\r\nCo-authored-by: Simon Paitrault <freyskeyd@gmail.com>\r\nCo-authored-by: Robert Collins <robertc@robertcollins.net>\r\nCo-authored-by: Elise <elise@headpat.services>\r\nCo-authored-by: Emil GardstrÃ¶m <emil.gardstrom@gmail.com>\r\nCo-authored-by: Paolo Barbolini <paolo@paolo565.org>\r\nCo-authored-by: David Marcin <david@metawork.com>\r\nCo-authored-by: Montana Low <montanalow@users.noreply.github.com>\r\nCo-authored-by: Ghass Mo <45806536+ghassmo@users.noreply.github.com>\r\nCo-authored-by: Vlad Frolov <frolvlad@gmail.com>\r\nCo-authored-by: Kohei Suzuki <github@wanko.cc>\r\nCo-authored-by: Andrew Whitehead <cywolf@gmail.com>\r\nCo-authored-by: Billy Chan <30400950+billy1624@users.noreply.github.com>\r\nCo-authored-by: Austin Bonander <austin.bonander@gmail.com>\r\nCo-authored-by: Erik <eraker@gmail.com>\r\nCo-authored-by: Yerkebulan Tulibergenov <yerkebulan@gmail.com>\r\nCo-authored-by: Lucille Blumire <llblumire@gmail.com>\r\nCo-authored-by: Akira Hayakawa <ruby.wktk@gmail.com>\r\nCo-authored-by: Daniel Imfeld <daniel@imfeld.dev>\r\nCo-authored-by: meh <meh@schizofreni.co>\r\nCo-authored-by: Russ Weas <russweas@gmail.com>\r\nCo-authored-by: yuyawk <46620009+yuyawk@users.noreply.github.com>\r\nCo-authored-by: Kirill Mironov <vetrokm@gmail.com>\r\nCo-authored-by: Zbigniew Å»oÅ‚nierowicz <zbigniew.zolnierowicz@gmail.com>\r\nCo-authored-by: Akira Hayakawa <akira.hayakawa@supership.jp>\r\nCo-authored-by: David Yamnitsky <david@yamnitsky.com>","reactions":{"url":"https://api.github.com/repos/vbeffa/sqlx/issues/8/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vbeffa/sqlx/issues/8/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]