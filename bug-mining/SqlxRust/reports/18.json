{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/283","repository_url":"https://api.github.com/repos/launchbadge/sqlx","labels_url":"https://api.github.com/repos/launchbadge/sqlx/issues/283/labels{/name}","comments_url":"https://api.github.com/repos/launchbadge/sqlx/issues/283/comments","events_url":"https://api.github.com/repos/launchbadge/sqlx/issues/283/events","html_url":"https://github.com/launchbadge/sqlx/issues/283","id":607785711,"node_id":"MDU6SXNzdWU2MDc3ODU3MTE=","number":283,"title":"[postgres] Problem with bigdecimal","user":{"login":"funtoy","id":7245988,"node_id":"MDQ6VXNlcjcyNDU5ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7245988?v=4","gravatar_id":"","url":"https://api.github.com/users/funtoy","html_url":"https://github.com/funtoy","followers_url":"https://api.github.com/users/funtoy/followers","following_url":"https://api.github.com/users/funtoy/following{/other_user}","gists_url":"https://api.github.com/users/funtoy/gists{/gist_id}","starred_url":"https://api.github.com/users/funtoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/funtoy/subscriptions","organizations_url":"https://api.github.com/users/funtoy/orgs","repos_url":"https://api.github.com/users/funtoy/repos","events_url":"https://api.github.com/users/funtoy/events{/privacy}","received_events_url":"https://api.github.com/users/funtoy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1757378993,"node_id":"MDU6TGFiZWwxNzU3Mzc4OTkz","url":"https://api.github.com/repos/launchbadge/sqlx/labels/bug","name":"bug","color":"e11d21","default":true,"description":""},{"id":1757436691,"node_id":"MDU6TGFiZWwxNzU3NDM2Njkx","url":"https://api.github.com/repos/launchbadge/sqlx/labels/db:postgres","name":"db:postgres","color":"336791","default":false,"description":"Related to PostgreSQL"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-04-27T19:14:31Z","updated_at":"2020-04-28T10:31:45Z","closed_at":"2020-04-28T10:31:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"my wallet_balance default value(numeric) is 0 in my database, and the value is 0 too.\r\nhere is my code\r\n```rust\r\nsqlx = { version = \"0.3.4\", features = [ \"postgres\", \"bigdecimal\" ] }\r\n\r\nuse anyhow::Result;\r\nuse sqlx::postgres::PgPool;\r\nuse sqlx::{PgConnection, Pool};\r\nuse sqlx::prelude::*;\r\nuse sqlx::types::BigDecimal;\r\n\r\n#[derive(Debug, sqlx::FromRow, sqlx::Type)]\r\npub struct ClientMember {\r\n    pub id: i32,\r\n    pub wallet_balance: BigDecimal,\r\n}\r\n\r\n#[actix_rt::main]\r\nasync fn main() -> Result<(), sqlx::Error> {\r\n    let url = \"postgres://postgres:postgres@localhost/my_db\";\r\n    let pool = PgPool::builder()\r\n        .max_size(5)\r\n        .build(url).await?;\r\n\r\n    let c = get_columns(pool).await?;\r\n    println!(\"{:?}\", c);\r\n\r\n    Ok(())\r\n}\r\n\r\nasync fn get_columns(pool: Pool<PgConnection>) -> Result<ClientMember, sqlx::Error> {\r\n    let rec = sqlx::query_as(r#\"SELECT id,wallet_balance FROM my_table where id=$1\"#)\r\n        .bind(655929_i32)\r\n        .fetch_one(&pool).await?;\r\n\r\n    Ok(rec)\r\n}\r\n```\r\nit panic when i run the code,\r\nmessage:\r\n```text\r\nthread 'main' panicked at 'assertion failed: !v.is_empty() && !radix.is_power_of_two()', /Users/xxx/.cargo/registry/src/github.com-1ecc6299db9ec823/num-bigint-0.2.6/src/biguint.rs:199:5\r\nstack backtrace:\r\n   0: backtrace::backtrace::libunwind::trace\r\n             at /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/libunwind.rs:86\r\n   1: backtrace::backtrace::trace_unsynchronized\r\n             at /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/mod.rs:66\r\n   2: std::sys_common::backtrace::_print_fmt\r\n             at src/libstd/sys_common/backtrace.rs:78\r\n   3: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n             at src/libstd/sys_common/backtrace.rs:59\r\n...\r\n```\r\nBut when i update my wallet_balance to 0.1, it works! Did i miss the `derive` or something else?\r\ni am new to rust.\r\nthanks.\r\n","closed_by":{"login":"funtoy","id":7245988,"node_id":"MDQ6VXNlcjcyNDU5ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7245988?v=4","gravatar_id":"","url":"https://api.github.com/users/funtoy","html_url":"https://github.com/funtoy","followers_url":"https://api.github.com/users/funtoy/followers","following_url":"https://api.github.com/users/funtoy/following{/other_user}","gists_url":"https://api.github.com/users/funtoy/gists{/gist_id}","starred_url":"https://api.github.com/users/funtoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/funtoy/subscriptions","organizations_url":"https://api.github.com/users/funtoy/orgs","repos_url":"https://api.github.com/users/funtoy/repos","events_url":"https://api.github.com/users/funtoy/events{/privacy}","received_events_url":"https://api.github.com/users/funtoy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/launchbadge/sqlx/issues/283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/launchbadge/sqlx/issues/283/timeline","performed_via_github_app":null,"state_reason":"completed"}