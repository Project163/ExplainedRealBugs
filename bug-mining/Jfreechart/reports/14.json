{"url":"https://api.github.com/repos/jfree/jfreechart/issues/175","repository_url":"https://api.github.com/repos/jfree/jfreechart","labels_url":"https://api.github.com/repos/jfree/jfreechart/issues/175/labels{/name}","comments_url":"https://api.github.com/repos/jfree/jfreechart/issues/175/comments","events_url":"https://api.github.com/repos/jfree/jfreechart/issues/175/events","html_url":"https://github.com/jfree/jfreechart/issues/175","id":709432705,"node_id":"MDU6SXNzdWU3MDk0MzI3MDU=","number":175,"title":"LayeredBarRenderer does not respect Base attribute from BarRenderer","user":{"login":"jfree","id":1835893,"node_id":"MDQ6VXNlcjE4MzU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1835893?v=4","gravatar_id":"","url":"https://api.github.com/users/jfree","html_url":"https://github.com/jfree","followers_url":"https://api.github.com/users/jfree/followers","following_url":"https://api.github.com/users/jfree/following{/other_user}","gists_url":"https://api.github.com/users/jfree/gists{/gist_id}","starred_url":"https://api.github.com/users/jfree/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfree/subscriptions","organizations_url":"https://api.github.com/users/jfree/orgs","repos_url":"https://api.github.com/users/jfree/repos","events_url":"https://api.github.com/users/jfree/events{/privacy}","received_events_url":"https://api.github.com/users/jfree/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-26T05:32:26Z","updated_at":"2020-09-26T06:03:56Z","closed_at":"2020-09-26T06:03:56Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The LayeredBarRenderer is assuming that the base for bars is at value 0.0, however this default can be overridden by calling the setBase() method that is inherited from the BarRenderer class.  The rendering code, however, is ignoring this override.\r\n\r\nBorrowing the demo code from #169 with a slight amendment - here the bar base is being set to 20.0 but this is ignored:\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.ChartUtils;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.CategoryAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.axis.ValueAxis;\r\nimport org.jfree.chart.labels.StandardCategoryItemLabelGenerator;\r\nimport org.jfree.chart.labels.StandardCategoryToolTipGenerator;\r\nimport org.jfree.chart.plot.CategoryPlot;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.renderer.category.LayeredBarRenderer;\r\nimport org.jfree.data.category.CategoryDataset;\r\nimport org.jfree.data.general.DatasetUtils;\r\nimport org.jfree.chart.ui.ApplicationFrame;\r\n\r\n/** @see https://stackoverflow.com/a/63464855/230513 */\r\npublic final class LayeredBarChartDemo extends ApplicationFrame {\r\n\r\n    private static final String TITLE = \"Layered Bar Chart Demo\";\r\n\r\n    public LayeredBarChartDemo(final String title) {\r\n        super(title);\r\n        final double[][] data = new double[][]{{55, 60}, {25, 13}};\r\n        final CategoryDataset dataset = DatasetUtils.createCategoryDataset(\"Series \", \"Factor \", data);\r\n        final CategoryAxis categoryAxis = new CategoryAxis(\"Category\");\r\n        final ValueAxis valueAxis = new NumberAxis(\"Score (%)\");\r\n        final LayeredBarRenderer renderer = new LayeredBarRenderer();\r\n        renderer.setDefaultToolTipGenerator(new StandardCategoryToolTipGenerator());\r\n        renderer.setDefaultItemLabelGenerator(new StandardCategoryItemLabelGenerator());\r\n        renderer.setDefaultItemLabelsVisible(true);\r\n        renderer.setBase(20.0);\r\n        final CategoryPlot plot = new CategoryPlot(dataset, categoryAxis, valueAxis, renderer);\r\n        plot.setOrientation(PlotOrientation.VERTICAL);\r\n        final JFreeChart chart = new JFreeChart(TITLE, JFreeChart.DEFAULT_TITLE_FONT, plot, true);\r\n        ChartUtils.applyCurrentTheme(chart);\r\n        add(new ChartPanel(chart) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 480);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n        EventQueue.invokeLater(() -> {\r\n            final LayeredBarChartDemo demo = new LayeredBarChartDemo(TITLE);\r\n            demo.pack();\r\n            demo.setLocationRelativeTo(null);\r\n            demo.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```","closed_by":{"login":"jfree","id":1835893,"node_id":"MDQ6VXNlcjE4MzU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1835893?v=4","gravatar_id":"","url":"https://api.github.com/users/jfree","html_url":"https://github.com/jfree","followers_url":"https://api.github.com/users/jfree/followers","following_url":"https://api.github.com/users/jfree/following{/other_user}","gists_url":"https://api.github.com/users/jfree/gists{/gist_id}","starred_url":"https://api.github.com/users/jfree/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfree/subscriptions","organizations_url":"https://api.github.com/users/jfree/orgs","repos_url":"https://api.github.com/users/jfree/repos","events_url":"https://api.github.com/users/jfree/events{/privacy}","received_events_url":"https://api.github.com/users/jfree/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jfree/jfreechart/issues/175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jfree/jfreechart/issues/175/timeline","performed_via_github_app":null,"state_reason":"completed"}