{"url":"https://api.github.com/repos/google/google-java-format/issues/169","repository_url":"https://api.github.com/repos/google/google-java-format","labels_url":"https://api.github.com/repos/google/google-java-format/issues/169/labels{/name}","comments_url":"https://api.github.com/repos/google/google-java-format/issues/169/comments","events_url":"https://api.github.com/repos/google/google-java-format/issues/169/events","html_url":"https://github.com/google/google-java-format/issues/169","id":247555007,"node_id":"MDU6SXNzdWUyNDc1NTUwMDc=","number":169,"title":"Maven coordinates for shaded javac seem incorrect","user":{"login":"ZacSweers","id":1361086,"node_id":"MDQ6VXNlcjEzNjEwODY=","avatar_url":"https://avatars.githubusercontent.com/u/1361086?v=4","gravatar_id":"","url":"https://api.github.com/users/ZacSweers","html_url":"https://github.com/ZacSweers","followers_url":"https://api.github.com/users/ZacSweers/followers","following_url":"https://api.github.com/users/ZacSweers/following{/other_user}","gists_url":"https://api.github.com/users/ZacSweers/gists{/gist_id}","starred_url":"https://api.github.com/users/ZacSweers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZacSweers/subscriptions","organizations_url":"https://api.github.com/users/ZacSweers/orgs","repos_url":"https://api.github.com/users/ZacSweers/repos","events_url":"https://api.github.com/users/ZacSweers/events{/privacy}","received_events_url":"https://api.github.com/users/ZacSweers/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"cushon","id":478458,"node_id":"MDQ6VXNlcjQ3ODQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/478458?v=4","gravatar_id":"","url":"https://api.github.com/users/cushon","html_url":"https://github.com/cushon","followers_url":"https://api.github.com/users/cushon/followers","following_url":"https://api.github.com/users/cushon/following{/other_user}","gists_url":"https://api.github.com/users/cushon/gists{/gist_id}","starred_url":"https://api.github.com/users/cushon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cushon/subscriptions","organizations_url":"https://api.github.com/users/cushon/orgs","repos_url":"https://api.github.com/users/cushon/repos","events_url":"https://api.github.com/users/cushon/events{/privacy}","received_events_url":"https://api.github.com/users/cushon/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"cushon","id":478458,"node_id":"MDQ6VXNlcjQ3ODQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/478458?v=4","gravatar_id":"","url":"https://api.github.com/users/cushon","html_url":"https://github.com/cushon","followers_url":"https://api.github.com/users/cushon/followers","following_url":"https://api.github.com/users/cushon/following{/other_user}","gists_url":"https://api.github.com/users/cushon/gists{/gist_id}","starred_url":"https://api.github.com/users/cushon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cushon/subscriptions","organizations_url":"https://api.github.com/users/cushon/orgs","repos_url":"https://api.github.com/users/cushon/repos","events_url":"https://api.github.com/users/cushon/events{/privacy}","received_events_url":"https://api.github.com/users/cushon/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":12,"created_at":"2017-08-02T23:52:22Z","updated_at":"2017-08-29T17:21:26Z","closed_at":"2017-08-29T16:02:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In looking at the 1.3 release pom, it seems like the javac configuration is incorrect.\r\n\r\nFrom: https://search.maven.org/remotecontent?filepath=com/google/googlejavaformat/google-java-format-parent/1.3/google-java-format-parent-1.3.pom\r\n\r\n```xml\r\n<properties>\r\n<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n<java.version>1.8</java.version>\r\n<guava.version>19.0</guava.version>\r\n<javac.version>9-dev-r3297-1-shaded</javac.version>\r\n</properties>\r\n<dependencyManagement>\r\n<dependencies>\r\n<!--  Required runtime dependencies  -->\r\n<dependency>\r\n<groupId>com.google.guava</groupId>\r\n<artifactId>guava</artifactId>\r\n<version>${guava.version}</version>\r\n</dependency>\r\n<dependency>\r\n<groupId>com.google.errorprone</groupId>\r\n<artifactId>javac</artifactId>\r\n<version>${javac.version}</version>\r\n</dependency>\r\n```\r\n\r\nThe maven coordinates for the shaded javac are still the same as the normal javac, which means it will compete with any existing javac jars on the path even though the sources used by GJF are shaded, so if the normal javac jar is on the path and wins, GJF will fail to find the classes because they won't be shaded. It seems to me that the `artifactId` should also be different.\r\n\r\nThis is to say: If someone has another version of the error-prone javac jar on the path, it could be used instead of this shaded one, and subsequently break GJF since it depends on shaded package names that would no longer be present.","closed_by":{"login":"cushon","id":478458,"node_id":"MDQ6VXNlcjQ3ODQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/478458?v=4","gravatar_id":"","url":"https://api.github.com/users/cushon","html_url":"https://github.com/cushon","followers_url":"https://api.github.com/users/cushon/followers","following_url":"https://api.github.com/users/cushon/following{/other_user}","gists_url":"https://api.github.com/users/cushon/gists{/gist_id}","starred_url":"https://api.github.com/users/cushon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cushon/subscriptions","organizations_url":"https://api.github.com/users/cushon/orgs","repos_url":"https://api.github.com/users/cushon/repos","events_url":"https://api.github.com/users/cushon/events{/privacy}","received_events_url":"https://api.github.com/users/cushon/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google/google-java-format/issues/169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/google-java-format/issues/169/timeline","performed_via_github_app":null,"state_reason":"completed"}