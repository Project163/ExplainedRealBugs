{"url":"https://api.github.com/repos/google/google-java-format/issues/1081","repository_url":"https://api.github.com/repos/google/google-java-format","labels_url":"https://api.github.com/repos/google/google-java-format/issues/1081/labels{/name}","comments_url":"https://api.github.com/repos/google/google-java-format/issues/1081/comments","events_url":"https://api.github.com/repos/google/google-java-format/issues/1081/events","html_url":"https://github.com/google/google-java-format/issues/1081","id":2175378523,"node_id":"I_kwDOAhznzM6BqaRb","number":1081,"title":"Excess indentation with method-receiving text blocks","user":{"login":"Stephan202","id":513280,"node_id":"MDQ6VXNlcjUxMzI4MA==","avatar_url":"https://avatars.githubusercontent.com/u/513280?v=4","gravatar_id":"","url":"https://api.github.com/users/Stephan202","html_url":"https://github.com/Stephan202","followers_url":"https://api.github.com/users/Stephan202/followers","following_url":"https://api.github.com/users/Stephan202/following{/other_user}","gists_url":"https://api.github.com/users/Stephan202/gists{/gist_id}","starred_url":"https://api.github.com/users/Stephan202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stephan202/subscriptions","organizations_url":"https://api.github.com/users/Stephan202/orgs","repos_url":"https://api.github.com/users/Stephan202/repos","events_url":"https://api.github.com/users/Stephan202/events{/privacy}","received_events_url":"https://api.github.com/users/Stephan202/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-08T06:41:38Z","updated_at":"2024-04-01T20:18:27Z","closed_at":"2024-04-01T20:18:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The new `fmt-maven-plugin` release [comes with](https://github.com/spotify/fmt-maven-plugin/compare/2.22.1...2.23#diff-9c5fb3d1b7e3b0f54bc5c4182965c4fe1f9023d449017cece3005d3f90e8e4d8R87-R91) an upgrade from GJF 1.19.2 to GJF 1.21.0. With this upgrade it appears that text blocks ~inside lambda expressions~ that are the receiver of a method are indented too far to the right. See [PicnicSupermarket/error-prone-support@`a2196ee` (#1069)](https://github.com/PicnicSupermarket/error-prone-support/pull/1069/commits/a2196eea69465a5809b1f299cd9a489bba600e10) for an example. This is what that code would look like if the text block contents are shifted to the right to match the new position of the text block start marker:\r\n```java\r\nunexpectedMatchesByLineNumber.entries().stream()\r\n    .map(\r\n        e ->\r\n                \"\"\"\r\n                Rule `%s` matches on line %s, while it should match in a method named \\\r\n                `test%s`.\"\"\"\r\n                .formatted(e.getValue(), e.getKey(), e.getValue()))\r\n```\r\n\r\nI.e.: an amount of indentation that better matches `AOSP` rather than `GOOGLE` style. I assume that this is a side-effect of ce3cb59a8d649359a8e6e7fcc5f2f21bb79b3df1.\r\n\r\n(Apologies for not providing a 100% stand-alone reproduction case; can do that ~this weekend if desired.)","closed_by":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google/google-java-format/issues/1081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/google-java-format/issues/1081/timeline","performed_via_github_app":null,"state_reason":"completed"}