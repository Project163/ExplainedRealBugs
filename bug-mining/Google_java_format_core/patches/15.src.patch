diff --git a/core/pom.xml b/core/pom.xml
index f30c7b4..2993318 100644
--- a/core/pom.xml
+++ b/core/pom.xml
@@ -137,6 +137,20 @@
           </execution>
         </executions>
       </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-jar-plugin</artifactId>
+        <configuration>
+          <archive>
+            <manifest>
+              <mainClass>com.google.googlejavaformat.java.Main</mainClass>
+              <addDefaultImplementationEntries>
+                true
+              </addDefaultImplementationEntries>
+            </manifest>
+          </archive>
+        </configuration>
+      </plugin>
     </plugins>
   </build>
 </project>
diff --git a/core/src/main/java/com/google/googlejavaformat/java/GoogleJavaFormatVersion.java b/core/src/main/java/com/google/googlejavaformat/java/GoogleJavaFormatVersion.java
index e858d9e..045db3c 100644
--- a/core/src/main/java/com/google/googlejavaformat/java/GoogleJavaFormatVersion.java
+++ b/core/src/main/java/com/google/googlejavaformat/java/GoogleJavaFormatVersion.java
@@ -14,6 +14,9 @@
 
 package com.google.googlejavaformat.java;
 
+import com.google.common.base.MoreObjects;
+
 public class GoogleJavaFormatVersion {
-  public static final String VERSION = "1.0";
+  public static final String VERSION =
+      MoreObjects.firstNonNull(Main.class.getPackage().getImplementationVersion(), "dev");
 }
