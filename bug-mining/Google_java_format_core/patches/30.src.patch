diff --git a/core/src/main/java/com/google/googlejavaformat/java/JavaCommentsHelper.java b/core/src/main/java/com/google/googlejavaformat/java/JavaCommentsHelper.java
index 2b96960..c4eca03 100644
--- a/core/src/main/java/com/google/googlejavaformat/java/JavaCommentsHelper.java
+++ b/core/src/main/java/com/google/googlejavaformat/java/JavaCommentsHelper.java
@@ -102,8 +102,10 @@ public final class JavaCommentsHelper implements CommentsHelper {
     return builder.toString();
   }
 
+  // Preserve special `//noinspection` and `//$NON-NLS-x$` comments used by IDEs, which cannot
+  // contain leading spaces.
   private static final Pattern LINE_COMMENT_MISSING_SPACE_PREFIX =
-      Pattern.compile("^(//+)(?!noinspection)[^\\s/]");
+      Pattern.compile("^(//+)(?!noinspection|\\$NON-NLS-\\d+\\$)[^\\s/]");
 
   private List<String> wrapLineComments(
       List<String> lines, int column0, JavaFormatterOptions options) {
diff --git a/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.input b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.input
new file mode 100644
index 0000000..6320a38
--- /dev/null
+++ b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.input
@@ -0,0 +1,8 @@
+class I221 {
+  {
+    logger.log(
+        Level.WARNING,
+        "Unable to obtain jst.web facet version from selected project", //$NON-NLS-1$
+        ex);
+  }
+}
diff --git a/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.output b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.output
new file mode 100644
index 0000000..6320a38
--- /dev/null
+++ b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i221.output
@@ -0,0 +1,8 @@
+class I221 {
+  {
+    logger.log(
+        Level.WARNING,
+        "Unable to obtain jst.web facet version from selected project", //$NON-NLS-1$
+        ex);
+  }
+}
