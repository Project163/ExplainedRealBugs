diff --git a/core/src/main/java/com/google/googlejavaformat/java/JavaInputAstVisitor.java b/core/src/main/java/com/google/googlejavaformat/java/JavaInputAstVisitor.java
index 478aef6..ffbd421 100644
--- a/core/src/main/java/com/google/googlejavaformat/java/JavaInputAstVisitor.java
+++ b/core/src/main/java/com/google/googlejavaformat/java/JavaInputAstVisitor.java
@@ -645,6 +645,11 @@ public final class JavaInputAstVisitor extends TreePathScanner<Void, Void> {
     token("new");
     builder.space();
     addTypeArguments(node.getTypeArguments(), plusFour);
+    if (node.getClassBody() != null) {
+      builder.addAll(
+          visitModifiers(
+              node.getClassBody().getModifiers(), Direction.HORIZONTAL, Optional.absent()));
+    }
     scan(node.getIdentifier(), null);
     addArguments(node.getArguments(), plusFour);
     builder.close();
diff --git a/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.input b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.input
new file mode 100644
index 0000000..abc1698
--- /dev/null
+++ b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.input
@@ -0,0 +1,8 @@
+public class AnonInnerDefaults {
+
+  public void tryStuff(final UIElement e) {
+    PolyIface p =
+      new @UI PolyIface() {
+      };
+  }
+}
diff --git a/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.output b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.output
new file mode 100644
index 0000000..c96813e
--- /dev/null
+++ b/core/src/test/resources/com/google/googlejavaformat/java/testdata/i98.output
@@ -0,0 +1,6 @@
+public class AnonInnerDefaults {
+
+  public void tryStuff(final UIElement e) {
+    PolyIface p = new @UI PolyIface() {};
+  }
+}
