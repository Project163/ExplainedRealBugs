<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:45:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-186] jsvc consumes 100% CPU when redirecting errfile (and not outfile) to syslog</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-186</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;When you run jsvc redirecting -errfile to syslog but not -outfile to syslog the jsvc process in charge of the redirection to syslog daemon consumes 100% CPU.&lt;br/&gt;
The problem dissapears when redirecting both (-errfile and -outfile) to syslog.&lt;br/&gt;
The problem appears when only one is redirected to syslog and the other parameter is not specified or redirected to a file.&lt;/p&gt;

&lt;p&gt;The problem in the process appears to be the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsvc  tries to open 2 file descriptors, one for the standard output and one for the error output, and listen to both file descriptors&lt;/li&gt;
	&lt;li&gt;when it receives a message from one of both descriptors it sends the message to syslog daemon.&lt;/li&gt;
	&lt;li&gt;In the case that only -errfile is specified (and not -outfile), when jsvc tries to open the stardard output file descriptor it fails and the file descriptor points to &quot;0&quot; (default value, /dev/null).&lt;/li&gt;
	&lt;li&gt;The jsvc listen to both descriptors, the error output (that was correctly opened) and the 0 file descriptor, and jsvc is receiving data continously from this &quot;broken&quot; file descriptor. So it enters in a loop that consumes 100% of CPU.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Ubuntu&lt;/p&gt;</environment>
        <key id="12479103">DAEMON-186</key>
            <summary>jsvc consumes 100% CPU when redirecting errfile (and not outfile) to syslog</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mturk@apache.org">Mladen Turk</assignee>
                                    <reporter username="ana.solano.ros">Ana Solano Ros</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Nov 2010 14:14:45 +0000</created>
                <updated>Mon, 6 Jun 2011 14:55:37 +0000</updated>
                            <resolved>Mon, 6 Jun 2011 14:55:37 +0000</resolved>
                                    <version>1.0.1</version>
                    <version>1.0.2</version>
                    <version>1.0.4</version>
                    <version>1.0.5</version>
                                    <fixVersion>1.0.6</fixVersion>
                                    <component>Jsvc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12928241" author="mturk@apache.org" created="Thu, 4 Nov 2010 15:40:46 +0000"  >&lt;p&gt;You have specified that the affected version is 1.0.1.&lt;br/&gt;
Since we don&apos;t make patches for old releases, can you verify if that&apos;s a case for newest release (1.0.4)&lt;/p&gt;
</comment>
                            <comment id="12928530" author="ana.solano.ros" created="Fri, 5 Nov 2010 07:47:02 +0000"  >&lt;p&gt;I have just tested it and the problem also happens with 1.0.4&lt;/p&gt;</comment>
                            <comment id="12983082" author="mturk@apache.org" created="Tue, 18 Jan 2011 08:58:21 +0000"  >&lt;p&gt;Fixed in the trunk.&lt;br/&gt;
It would be nice if you could confirm the fix resolves the issue so we can release 1.0.6&lt;/p&gt;</comment>
                            <comment id="13044894" author="mturk@apache.org" created="Mon, 6 Jun 2011 14:55:37 +0000"  >&lt;p&gt;Fixed in the trunk&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12495626">DAEMON-194</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tk9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>