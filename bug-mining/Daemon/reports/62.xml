<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:45:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-218] CLONE - procrun as tomcat5.exe from Tomcat 5.5.17 does not start, when installed into the file path containing non-ascii character</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-218</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;Tomcat Service can not be started if Tomcat was installed into the path, &lt;br/&gt;
containing non-ASCII (e.g. Japanese or Chinese) symbols.&lt;/p&gt;

&lt;p&gt;The problem is apparently due to the improper treatment of non-ascii &lt;br/&gt;
characters in the &quot;Java classpath&quot; section of the Service settings.&lt;/p&gt;

&lt;p&gt;In tomcat5w.exe GUI or windows registry I could see proper PATH, namely&lt;br/&gt;
C:[ONE CHINESE HIEROGLIPH]\Tomcat 5.5\bin\bootstrap.jar&lt;/p&gt;

&lt;p&gt;Unfortunately, service doesn&apos;t get started with the following log:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2006-09-15 18:29:17&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;457  javajni.c&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; FindClass &lt;br/&gt;
org/apache/catalina/startup/Bootstrap failed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2006-09-15 18:29:17&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;935  prunsrv.c&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; Failed loading main &lt;br/&gt;
org/apache/catalina/startup/Bootstrap class C:\ss\Tomcat 5.5\bin\bootstrap.jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2006-09-15 18:29:17&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1179 prunsrv.c&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ServiceStart returned 3&lt;/p&gt;

&lt;p&gt;where the non-ascii symbol gets replaced with improper ascii &apos;ss&apos; sequence.&lt;/p&gt;


&lt;p&gt;Moreover, I tried to define environmental variables PR_CLASSPATH and &lt;br/&gt;
PR_STARTPATH instead of using corresponding service params. The result is &lt;br/&gt;
exactly the same.&lt;/p&gt;

&lt;p&gt;Please, suggest me the workaround to make Tomcat service run.&lt;/p&gt;

&lt;p&gt;P.S. The problem is stable either under JRE 1.5.0_02 or 1.4.2_10 (within &lt;br/&gt;
tomcat compatibility package). The problem exist apparently under all OS (in &lt;br/&gt;
particular, it was detected on Windows 2000 and Windows XP Pro 2002 SP2 either &lt;br/&gt;
Chinese version or standard English with Chinese System locale installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525032">DAEMON-218</key>
            <summary>CLONE - procrun as tomcat5.exe from Tomcat 5.5.17 does not start, when installed into the file path containing non-ascii character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mturk@apache.org">Mladen Turk</assignee>
                                    <reporter username="xelagr">Alexey Grishkov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2011 09:09:59 +0000</created>
                <updated>Thu, 3 Nov 2011 13:41:32 +0000</updated>
                            <resolved>Thu, 3 Nov 2011 09:05:54 +0000</resolved>
                                    <version>1.0.7</version>
                                    <fixVersion>1.0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13116305" author="xelagr" created="Wed, 28 Sep 2011 09:12:26 +0000"  >&lt;p&gt;I had this problem on tomcat 6.0.20 even with fixes from &lt;a href=&quot;https://issues.apache.org/jira/browse/DAEMON-87&quot; title=&quot;procrun as tomcat5.exe from Tomcat 5.5.17 does not start, when installed into the file path containing non-ascii character&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DAEMON-87&quot;&gt;&lt;del&gt;DAEMON-87&lt;/del&gt;&lt;/a&gt; included.&lt;br/&gt;
I installed it on Russian and Japanese machines and got the error.&lt;/p&gt;

&lt;p&gt;It seems that java requires classpath and other options in current system encoding, not in UTF-8, so I tried to convert them to ANSI encoding and tomcat started to works.&lt;/p&gt;

&lt;p&gt;I attach fixed files with ANSI conversion (sources are taken from daemon 1.0.2)&lt;/p&gt;</comment>
                            <comment id="13139193" author="mturk@apache.org" created="Sat, 29 Oct 2011 11:36:05 +0000"  >&lt;p&gt;Correct, JVM uses locale-&amp;gt;unicode conversion &lt;br/&gt;
Will be fixed in 1.0.8&lt;/p&gt;</comment>
                            <comment id="13142976" author="mturk@apache.org" created="Thu, 3 Nov 2011 09:05:54 +0000"  >&lt;p&gt;Fixed by using the Wide -&amp;gt; ANSI conversion instead Wide -&amp;gt; UTF8.&lt;/p&gt;</comment>
                            <comment id="13143077" author="mturk@apache.org" created="Thu, 3 Nov 2011 12:37:32 +0000"  >
&lt;p&gt;Didn&apos;t we agree that the Fix Version/s should reflect the version fixed?&lt;br/&gt;
We had that discussion couple of months back and the&lt;br/&gt;
Fix Version/s means: Version fixed not version containing the fix!&lt;br/&gt;
You were even contacting and opened upstream JIRA ticket for that.&lt;/p&gt;

&lt;p&gt;So please stop editing those properties, and revert the changes.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
^TM&lt;/p&gt;</comment>
                            <comment id="13143101" author="sebb@apache.org" created="Thu, 3 Nov 2011 12:58:41 +0000"  >&lt;p&gt;My recollection was that:&lt;/p&gt;

&lt;p&gt;&quot;Affects versions&quot; is used to document the versions to which the issue applies.&lt;/p&gt;

&lt;p&gt;&quot;Fix version&quot; means the first version containing the fix, i.e. the fixed version.&lt;/p&gt;

&lt;p&gt;For new features it then corresponds to the @since tag (if used).&lt;/p&gt;

&lt;p&gt;Otherwise, there is little point in having the field.&lt;/p&gt;

&lt;p&gt;AUIU that is how all the other Commons components use the field.&lt;/p&gt;

&lt;p&gt;It&apos;s also useful to be able to extract all the &quot;Fix Version&quot; = 1.0.8 to see what was fixed in 1.0.8; that should agree with the release notes.&lt;/p&gt;</comment>
                            <comment id="13143167" author="mturk@apache.org" created="Thu, 3 Nov 2011 13:41:32 +0000"  >
&lt;p&gt;Seems I&apos;m the one that forgot the agreement. Sorry for the noise.&lt;/p&gt;


&lt;p&gt;Cheers&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
^TM&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12350222">DAEMON-87</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12496862" name="prunsrv.c" size="55123" author="xelagr" created="Wed, 28 Sep 2011 09:12:26 +0000"/>
                            <attachment id="12496861" name="utils.c" size="27210" author="xelagr" created="Wed, 28 Sep 2011 09:12:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tjaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>