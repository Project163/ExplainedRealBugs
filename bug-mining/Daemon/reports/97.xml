<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:45:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-388] jsvc does not play nice with JMX</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-388</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;Installed Commons Daemon through Ports, installed Tomcat 8.5 (uses JSVC) through Ports.&lt;/li&gt;
	&lt;li&gt;Started Tomcat&lt;/li&gt;
	&lt;li&gt;Launched JConsole locally to attach to VM&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The VM does not display with its PID. After some search, I figured out that &lt;tt&gt;com.sun.management.jmxremote&lt;/tt&gt; is not set, but enabled by &lt;tt&gt;java(1)&lt;/tt&gt; since version 6. I&apos;d expect the same behavior. After setting it, the VM is visible in JConsole, but the startup class is not visible.&lt;/p&gt;</description>
                <environment>&lt;p&gt;FreeBSD 10.4-STABLE #22 r333394: Wed May  9 08:53:46 CEST 2018 i386&lt;/p&gt;</environment>
        <key id="13160999">DAEMON-388</key>
            <summary>jsvc does not play nice with JMX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michael-o">Michael Osipov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2018 09:19:06 +0000</created>
                <updated>Tue, 28 May 2019 09:15:38 +0000</updated>
                            <resolved>Fri, 3 May 2019 12:43:51 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                    <component>Jsvc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16831900" author="markt" created="Thu, 2 May 2019 19:31:17 +0000"  >&lt;p&gt;That you need to set&#160;com.sun.management.jmxremote is not a Commons Daemon nor a Tomcat issue.&#160;You&apos;d need to take that up with your JVM vendor.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The empty name column in jvm mode is a result of how JConsole obtains the name and Daemon starts Java.&#160;After some digging into the JRE source, it appears that setting the sun.java.command system property will&#160;cause the name column in JConsole to be populated. That should be possible to do when&#160;creating the&#160;JVM.&lt;/p&gt;</comment>
                            <comment id="16831910" author="michael-o" created="Thu, 2 May 2019 19:49:58 +0000"  >&lt;p&gt;The whole point is that the behavior is different to the one in java directly. I&apos;d expect this to be as  similar as possible or properly documented.&lt;/p&gt;</comment>
                            <comment id="16832380" author="markt" created="Fri, 3 May 2019 09:11:58 +0000"  >&lt;p&gt;When running Java&#160;apps in jvm mode with jsvc&#160;on&#160;other platforms, there is no need to set&#160;com.sun.management.jmxremote for the process to be visible to jconsole. That you need to do that on FreeBSD points to an issue with the Java vendor / build / configuration you are using on FreeBSD.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The blank name is arguably a bug in JConsole that assumes all Java processes are started from the command line and ignores the possibility of&#160;using the invocation API. It looks like we can workaround it but the workaround is going to be&#160;fragile.&lt;/p&gt;</comment>
                            <comment id="16832471" author="markt" created="Fri, 3 May 2019 12:43:51 +0000"  >&lt;p&gt;jconsole now shows the&#160;class name, as it does when starting normally.&lt;/p&gt;</comment>
                            <comment id="16848792" author="michael-o" created="Mon, 27 May 2019 10:04:18 +0000"  >&lt;p&gt;Do you think it is worthwile to add &lt;a href=&quot;https://github.com/dmlloyd/openjdk/blob/c9f3c7dda232dabcfe297486d8d2f341bcb1e901/hotspot/src/share/vm/prims/jvm.cpp#L3791-L3793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;these&lt;/a&gt; too?&lt;/p&gt;</comment>
                            <comment id="16849447" author="markt" created="Tue, 28 May 2019 07:59:43 +0000"  >&lt;p&gt;What problem are you trying to solve by adding the additional properties?&lt;/p&gt;</comment>
                            <comment id="16849513" author="michael-o" created="Tue, 28 May 2019 09:15:38 +0000"  >&lt;p&gt;No real problem, but I&apos;d expect the deamon to look like &lt;tt&gt;java(1)&lt;/tt&gt; for external tools like jconsole, jps, etc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tzlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>