<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:45:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-391] Log level set by Tomcat-GUI under Windows not recognized.</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-391</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;I&apos;m using Tomcat7 which provides a GUI to configure various aspects of the Windows-service, like log level and such, which seem to be managed by &quot;prunmgr&quot; of your project in the end. If I set the log level to &quot;Warning&quot; using that GUI, I still get logged lines using &quot;info&quot; in the default log file:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2018-09-10 09:45:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;12744&amp;#93;&lt;/span&gt; Commons Daemon procrun (1.1.0.0 64-bit) started&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I used ProcMon to check that the correct settings were read from the registry, which was the case:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;09:45:47,6441892 Tomcat7.exe 8764 RegQueryValue HKLM\SOFTWARE\WOW6432Node\Apache Software Foundation\Procrun 2.0\Tomcat7\Parameters\Log\Level SUCCESS Type: REG_SZ, Length: 16, Data: Warning&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Your docs mention the following values for the log level:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Defines the logging level and can be either Error, Info, Warn or&lt;br/&gt;
Debug. (Case insensitive).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://commons.apache.org/proper/commons-daemon/procrun.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-daemon/procrun.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So I&apos;ve tested using &quot;--LogLevel=WARN&quot; at the command line and changed the value in the registry from &quot;Warning&quot; to &quot;Warn&quot; as well. Both succeeded, I don&apos;t get any log messages anymore. But the GUI is unable to recognize the value &quot;Warn&quot; now and instead falls back to &quot;Debug&quot;, so there&apos;s most likely some naming mismatch.&lt;/p&gt;

&lt;p&gt;I think the underlying problem is that &quot;prunmgr&quot; uses the phrase &quot;Warning&quot;, while the logging logic is mapping &quot;warn&quot; only instead:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;#define LOGL_WARN           L&quot;Warning&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-daemon/blob/trunk/src/native/windows/apps/prunmgr/prunmgr.c#L49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-daemon/blob/trunk/src/native/windows/apps/prunmgr/prunmgr.c#L49&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;else if (!lstrcmpiW(szLevel, L&quot;warn&quot;))&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-daemon/blob/trunk/src/native/windows/src/log.c#L276&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-daemon/blob/trunk/src/native/windows/src/log.c#L276&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I guess &quot;Warning&quot; could simply be changed to &quot;Warn&quot; to make things work and am attaching a patch doing so. This is untested, though!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201809.mbox/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201809.mbox/&lt;/a&gt;&amp;lt;161449685.20180910102700%40am-soft.de&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13184012">DAEMON-391</key>
            <summary>Log level set by Tomcat-GUI under Windows not recognized.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tschoening">Thorsten Sch&#246;ning</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Sep 2018 11:11:04 +0000</created>
                <updated>Thu, 2 May 2019 15:27:20 +0000</updated>
                            <resolved>Thu, 2 May 2019 15:27:20 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                    <component>Procrun</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16621421" author="garydgregory" created="Thu, 20 Sep 2018 02:24:39 +0000"  >&lt;p&gt;So we need someone to test this...&lt;/p&gt;</comment>
                            <comment id="16831689" author="markt" created="Thu, 2 May 2019 15:27:20 +0000"  >&lt;p&gt;Thanks for the patch. I can confirm the issue and the fix.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12939068" name="LOGL_WARN.patch" size="704" author="tschoening" created="Mon, 10 Sep 2018 11:09:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xwp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>