<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:46:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-411] Services can&apos;t be installed as Type=Interactive anymore</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-411</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;Installing a service with the parameter --Type=interactive no longer works. prunsrv.exe outputs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
prunsrv.exe &lt;span class=&quot;code-comment&quot;&gt;//IS//MyService --Install=&lt;span class=&quot;code-quote&quot;&gt;&quot;C:\service\commons-daemon-1.2.2-bin\windows\amd64\prunsrv.exe&quot;&lt;/span&gt; --Type=interactive --ServiceUser=&lt;span class=&quot;code-quote&quot;&gt;&quot;LocalSystem&quot;&lt;/span&gt;
&lt;/span&gt;The parameter is incorrect.
Failed to install service.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No other log is output, even with Debug level. As a workaround the service can be installed without the type interactive and then updated to use the flag.&lt;/p&gt;

&lt;p&gt;The same call still worked in 1.1.0.&lt;/p&gt;</description>
                <environment>&lt;p&gt;openjdk version &quot;1.8.0_222&quot;&lt;br/&gt;
 OpenJDK Runtime Environment (Zulu 8.40.0.25-CA-win64) (build 1.8.0_222-b10)&lt;br/&gt;
 OpenJDK 64-Bit Server VM (Zulu 8.40.0.25-CA-win64) (build 25.222-b10, mixed mode)&lt;/p&gt;

&lt;p&gt;Tested on Windows 10 1607 and Windows 7 7601.&lt;/p&gt;</environment>
        <key id="13264829">DAEMON-411</key>
            <summary>Services can&apos;t be installed as Type=Interactive anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="markus.adelsberger">Markus Adelsberger</reporter>
                        <labels>
                            <label>windows</label>
                    </labels>
                <created>Mon, 28 Oct 2019 14:22:01 +0000</created>
                <updated>Fri, 30 Jul 2021 14:43:37 +0000</updated>
                            <resolved>Fri, 30 Jul 2021 14:43:37 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.3</fixVersion>
                                    <component>Procrun</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16961153" author="garydgregory" created="Mon, 28 Oct 2019 15:21:09 +0000"  >&lt;p&gt;Note that Windows Server (2012) no longer has interactive services enabled by default as opposed to Windows Server 2008.&lt;/p&gt;</comment>
                            <comment id="16961854" author="markus.adelsberger" created="Tue, 29 Oct 2019 09:46:29 +0000"  >&lt;p&gt;Hi Gary, thanks for your input, but the problem is happening on Windows 7 and 10.&lt;/p&gt;</comment>
                            <comment id="16979414" author="markt" created="Thu, 21 Nov 2019 16:45:38 +0000"  >&lt;p&gt;OK. I&apos;ve figured out why this is. You have to be running as LocalSystem to be interactive and the default user changed to LocalService. This requirement is documented but even with the correct --ServiceUser this won&apos;t work.&lt;/p&gt;

&lt;p&gt;The error handling needs some improvement and I&apos;ll fix the start-up so you can use --Type=interactive if you specify the correct user. I&apos;ll also look at the Manager app to ensure it enforces the same requirement.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16979639" author="markt" created="Thu, 21 Nov 2019 21:50:39 +0000"  >&lt;p&gt;This has been fixed. There were multiple issues (all have been fixed):&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;No error message if specified with wrong user (has to be LocalSystem)&lt;/li&gt;
	&lt;li&gt;Didn&apos;t configure option when set when installing new service&lt;/li&gt;
	&lt;li&gt;Made option available with wrong users in GUI&lt;/li&gt;
	&lt;li&gt;Failed to save option correctly when setting option was only change&lt;br/&gt;
 made in GUI&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17390448" author="mturk@apache.org" created="Fri, 30 Jul 2021 09:39:14 +0000"  >&lt;p&gt;Setting default service user to&#160;&quot;NT Authority&lt;br class=&quot;atl-forced-newline&quot; /&gt;LocalService&quot; breaks Tomcat installs due to limited ACL. Default service user should be NULL unless explicitly set by &quot;&#8211;ServiceUser foo&lt;br class=&quot;atl-forced-newline&quot; /&gt;bar&quot; parameter.&lt;/p&gt;</comment>
                            <comment id="17390455" author="markt" created="Fri, 30 Jul 2021 09:46:19 +0000"  >&lt;p&gt;Breaks which version of Tomcat, on which version of Windows, how? I haven&apos;t noticed any issues in my local testing. Also this patch has been in place for 2+ years and I don&apos;t recall Tomcat users reporting this as an issue.&lt;/p&gt;

&lt;p&gt;I would very strongly against changing the default user back to LocalSystem because of the security implications.&lt;/p&gt;</comment>
                            <comment id="17390467" author="mturk@apache.org" created="Fri, 30 Jul 2021 10:10:54 +0000"  >&lt;p&gt;By default every service is created using LocalSystem account unless explicitly different &quot;Log On&quot; account is given.&lt;br/&gt;
Switching to &quot;LocalService&quot; account as default changes ACL, so Tomcat cannot access files created&lt;br/&gt;
by users that are only members of local/global Administrator groups&#160;&lt;/p&gt;</comment>
                            <comment id="17390470" author="markt" created="Fri, 30 Jul 2021 10:14:40 +0000"  >&lt;p&gt;The Tomcat Installer for Windows was updated at the same time as the switch to Daemon 1.2.0 to set the correct permissions. See &lt;a href=&quot;https://github.com/apache/tomcat/commit/e110331129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tomcat/commit/e110331129&lt;/a&gt;&lt;br/&gt;
 It appears that the installer you are using hasn&apos;t made the same update.&lt;/p&gt;</comment>
                            <comment id="17390482" author="mturk@apache.org" created="Fri, 30 Jul 2021 10:29:08 +0000"  >&lt;p&gt;Using LocalService as default instead LocalSystem is regression IMHO.&lt;br/&gt;
Everything works fine if you edit existing installed web.xml, but LocalService&lt;br/&gt;
account cannot access web.xml created (not edited) by Adminisistrator account after install.&lt;/p&gt;</comment>
                            <comment id="17390624" author="mturk@apache.org" created="Fri, 30 Jul 2021 14:43:37 +0000"  >&lt;p&gt;Closing the issue since v 1.2.4 already contains the patch, so reverting it would be counter-productive&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12984174" name="prunsrv.png" size="32751" author="markus.adelsberger" created="Mon, 28 Oct 2019 14:18:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z080js:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>