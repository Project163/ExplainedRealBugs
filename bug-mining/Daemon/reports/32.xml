<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:44:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-148] Incorrect case on parameter causes silent failure</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-148</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;Unknown parameters passed to procrun halt command line option processing, silently ignoring the other options, then reports as successful.&lt;/p&gt;

&lt;p&gt;For example:&lt;br/&gt;
C:\Data\tomcat\bin\tomcat6.exe //US//Tomcat ^&lt;br/&gt;
  --LogPath C:\Data\tomcat\logs ^&lt;br/&gt;
  --LogPrefix commons-daemon ^&lt;br/&gt;
  --LogLevel debug ^&lt;br/&gt;
  --Description &quot;Apache Tomcat - Company app&quot; ^&lt;br/&gt;
  --StartClass org.apache.catalina.startup.Bootstrap ^&lt;br/&gt;
  --StopClass org.apache.catalina.startup.Bootstrap ^&lt;br/&gt;
  --StartParams start ^&lt;br/&gt;
  --StopParams stop ^&lt;br/&gt;
  --DependsOn MySQL ^&lt;br/&gt;
  --StartMode jvm ^&lt;br/&gt;
  --StopMode jvm ^&lt;br/&gt;
  --JvmOptions -Dcatalina.base=C:\Data\tomcat ^&lt;br/&gt;
  --JvmOptions -Dcatalina.home=C:\Data\tomcat ^&lt;br/&gt;
  --JvmOptions -Djava.endorsed.dirs=C:\Data\tomcat\endorsed ^&lt;br/&gt;
  --classpath C:\Data\tomcat\bin\bootstrap.jar ^&lt;br/&gt;
  --JvmOptions -Djava.io.tmpdir=C:\Data\tomcat\temp ^&lt;br/&gt;
  --JvmOptions -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager ^&lt;br/&gt;
  --JvmOptions -Djava.util.logging.config.file=C:\Data\tomcat\conf\logging.properties ^&lt;br/&gt;
  --JvmOptions -Dcom.sun.management.jmxremote ^&lt;br/&gt;
  --JvmOptions -Dcom.sun.management.jmxremote.port=8181 ^&lt;br/&gt;
  --JvmOptions -Dcom.sun.management.jmxremote.authenticate=false ^&lt;br/&gt;
  --JvmOptions -Dcom.sun.management.jmxremote.ssl=false ^&lt;br/&gt;
  --JvmOptions -XX:+HeapDumpOnOutOfMemoryError ^&lt;br/&gt;
  --JvmMs 256 ^&lt;br/&gt;
  --JvmMx 512 ^&lt;br/&gt;
  --Jvm c:\data\java\bin\server\jvm.dll ^&lt;br/&gt;
  --JavaHome c:\data\java ^&lt;br/&gt;
  --Startup auto&lt;/p&gt;

&lt;p&gt;The   &quot;--classpath C:\Data\tomcat\bin\bootstrap.jar ^&quot; line introduces an invalid command line parameter. It should be --Classpath instead of --classpath.&lt;/p&gt;

&lt;p&gt;The log reads:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:1412) Commons Daemon procrun log initialized&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; Commons Daemon procrun (1.0.3.0) started&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; Updating service...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ( service.c:126 ) The specified service does not exist as an installed service.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:507 ) Installing service...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; Service Tomcat name &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:559 ) Setting service description Apache Tomcat - Quantel Dino&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; Service &apos;Tomcat&apos; installed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2010-03-18 16:56:00&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; Commons Daemon procrun finished&lt;/p&gt;

&lt;p&gt;Showing that the installation was successful. However if you load up tomcat6w then you can see in the Java tab that the last option to be processed was &quot;--JvmOptions -Djava.endorsed.dirs....&quot; every other entry after that is ignored.&lt;/p&gt;

&lt;p&gt;This creates an ordering issue with the command line options. If the LogPath is at the end of the parameter list then no output file will be created.&lt;br/&gt;
As a result running the service always fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459540">DAEMON-148</key>
            <summary>Incorrect case on parameter causes silent failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davidnewcomb">David Newcomb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Mar 2010 17:03:24 +0000</created>
                <updated>Fri, 23 Apr 2010 15:26:57 +0000</updated>
                            <resolved>Fri, 23 Apr 2010 10:10:28 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                    <component>Procrun</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12859911" author="mturk@apache.org" created="Thu, 22 Apr 2010 17:18:28 +0000"  >&lt;p&gt;This is not a bug but rather a feature &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Seriously, silent discarding of unknown command line options was made by purpose&lt;br/&gt;
so that we can add config options without breaking binary compatibility.&lt;br/&gt;
We cannot even check for --Classpath  missing, cause one can later use the //US//Foo --Classpath=x.jar at any time&lt;/p&gt;

&lt;p&gt;Make sure you don&apos;t make typos &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12860097" author="davidnewcomb" created="Fri, 23 Apr 2010 01:40:37 +0000"  >&lt;p&gt;Then, by your own admission it is a bug. It ignores the valid commands after the invalid one.&lt;br/&gt;
So changing the order of the parameters changes the initialisation of the program.&lt;br/&gt;
If you were to remove/rename a parameter it would break everyone else&apos;s start up depending on the order they specified their parameter list.&lt;/p&gt;

&lt;p&gt;I understand the benefits of ignoring unknown commands but the bug is in the fact that it doesn&apos;t process the rest of the valid parameters.&lt;/p&gt;</comment>
                            <comment id="12860205" author="mturk@apache.org" created="Fri, 23 Apr 2010 10:10:28 +0000"  >&lt;p&gt;OK. Fixed the code so that error is reported on unknown option.&lt;br/&gt;
This will also cause the procrun to fail the operation and exit with error code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tjrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>