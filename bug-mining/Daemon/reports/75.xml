<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:45:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DAEMON-282] Failed to stop &apos;xx&apos; service: The data area passed to a system call is too small</title>
                <link>https://issues.apache.org/jira/browse/DAEMON-282</link>
                <project id="12310468" key="DAEMON">Commons Daemon</project>
                    <description>&lt;p&gt;The Apache mailing list shows that they have the same problem before. However it said procrun 1.0.8 fixed this problem. I tried different versions of procrun however it showed no luck.&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-user/201204.mbox/%3C4F9503F4.6020500@apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-user/201204.mbox/%3C4F9503F4.6020500@apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;both installation and start work perfectly. However it always reported error when stopping the service. &lt;br/&gt;
Failed to stop &apos;TestApplication&apos; service&lt;br/&gt;
The data area passed to a system call is too small.&lt;br/&gt;
In fact, the stop was successful after the processing was complete.&lt;/p&gt;

&lt;p&gt;Here is the log generated:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:1672) [ 4172] Commons Daemon procrun log initialized&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:1676) [ 4172] Commons Daemon procrun (1.0.13.0 64-bit) started&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:686 ) [ 4172] Stopping service &apos;TestApplication&apos; ...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:843 ) [ 1276] reportServiceStatusE: 3, 0, 3000, 0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:942 ) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Stopping service...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:38&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( javajni.c:927 ) [  748] Java Worker thread started com/company/project/startup/WindowServiceApplication:stop&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:39&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:988 ) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Waiting for java jni stop worker to finish...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:42&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ( prunsrv.c:707 ) [ 4172] Failed to stop &apos;TestApplication&apos; service&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:42&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ( prunsrv.c:707 ) [ 4172] The data area passed to a system call is too small.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:42&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:715 ) [ 4172] Stop service finished.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:42&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ( prunsrv.c:1748) [ 4172] Commons Daemon procrun failed with exit value: 6 (Failed to stop service)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:42&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; ( prunsrv.c:1748) [ 4172] The data area passed to a system call is too small.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( javajni.c:948 ) [  748] Java Worker thread finished com/company/project/startup/WindowServiceApplication:stop with status=0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:990 ) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Java jni stop worker finished.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:843 ) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; reportServiceStatusE: 3, 0, 120000, 0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:1091) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Waiting for worker to die naturally...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:1102) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Worker finished gracefully in 0 ms.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:1112) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; Service stopped.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;debug&amp;#93;&lt;/span&gt; ( prunsrv.c:843 ) &lt;span class=&quot;error&quot;&gt;&amp;#91;10180&amp;#93;&lt;/span&gt; reportServiceStatusE: 1, 0, 0, 0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:1591) [ 1276] Run service finished.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-03-01 18:49:47&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt;  ( prunsrv.c:1757) [ 1276] Commons Daemon procrun finished&lt;/p&gt;

&lt;p&gt;Checked TestApplicaton code and found out that when prunsrv threw that exception, the java main thread was sleeping for 5 seconds. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Procrun version tried: &lt;br/&gt;
1.0.8&lt;br/&gt;
1.0.12&lt;br/&gt;
1.0.13&lt;/p&gt;

&lt;p&gt;System environment: &lt;br/&gt;
Windows XP SP3 32bit&lt;br/&gt;
Windows 7 64bit&lt;br/&gt;
Windows 2008 Server 32bit&lt;/p&gt;</environment>
        <key id="12634801">DAEMON-282</key>
            <summary>Failed to stop &apos;xx&apos; service: The data area passed to a system call is too small</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="busbby">Hua Lan</reporter>
                        <labels>
                            <label>procrun</label>
                    </labels>
                <created>Fri, 1 Mar 2013 12:33:42 +0000</created>
                <updated>Thu, 23 Nov 2017 09:48:23 +0000</updated>
                            <resolved>Mon, 28 Nov 2016 17:23:46 +0000</resolved>
                                    <version>1.0.8</version>
                    <version>1.0.12</version>
                    <version>1.0.13</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Procrun</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                            <timeestimate seconds="1209600">336h</timeestimate>
                                        <comments>
                            <comment id="13594578" author="mturk@apache.org" created="Wed, 6 Mar 2013 10:31:28 +0000"  >&lt;p&gt;Changed priority to minor.&lt;br/&gt;
From the log I see the service is stopped, so it seems it logs failure for long stop methods (you said you simulate that with 5 second delay).&lt;/p&gt;</comment>
                            <comment id="13772901" author="sbeutel" created="Fri, 20 Sep 2013 09:31:09 +0000"  >&lt;p&gt;I&apos;ve the same problem, Tomcat service didn&apos;t stopped. Here&apos;s the log output of commons-daemon.log:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:40&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; [ 3816] Commons Daemon procrun (1.0.15.0 64-bit) started &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:40&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; [ 3816] Stopping service &apos;SERVICENAME&apos; ... &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:44&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; [ 3816] Failed to stop &apos;SERVICENAME&apos; service &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:44&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; [ 3816] The data area passed to a system call is too small. &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:44&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;info&amp;#93;&lt;/span&gt; [ 3816] Stop service finished. &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:44&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; [ 3816] Commons Daemon procrun failed with exit value: 6 (Failed to stop service) &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2013-09-19 01:32:44&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;error&amp;#93;&lt;/span&gt; [ 3816] The data area passed to a system call is too small. &lt;/p&gt;

&lt;p&gt;In the log the service stop was finished, but if I want to delete a file (e.g. bootstrap.jar of Tomcat), it&apos;s &lt;br/&gt;
not possible and if I look into the services manager of Windows, the service is in the stopping mode and can&apos;t&lt;br/&gt;
be edited anymore. The only way to stop the service is to kill the task in Windows Task Manager.&lt;/p&gt;

&lt;p&gt;Is there any quickfix available (e.g. set a high timeout)? &lt;/p&gt;</comment>
                            <comment id="13781697" author="hsehdar" created="Mon, 30 Sep 2013 09:18:48 +0000"  >&lt;p&gt;The app built by us is with a long stop of 30 seconds.  Here too same issue is encountered&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2013-08-20 12:27:33] [error] [ 5556] Failed to stop &apos;busybee&apos; service
[2013-08-20 12:27:33] [error] [ 5556] The data area passed to a system call is too small.
[2013-08-20 12:27:33] [error] [ 5556] Commons Daemon procrun failed with exit value: 6 (Failed to stop service)
[2013-08-20 12:27:33] [error] [ 5556] The data area passed to a system call is too small.
[2013-08-20 12:28:35] [error] [ 4908] Failed to start &apos;busybee&apos; service
[2013-08-20 12:28:35] [error] [ 4908] An instance of the service is already running.
[2013-08-20 12:28:35] [error] [ 4908] Commons Daemon procrun failed with exit value: 5 (Failed to start service)
[2013-08-20 12:28:35] [error] [ 4908] An instance of the service is already running.
[2013-08-20 12:30:50] [error] [ 2220] Failed to set service status
[2013-08-20 12:30:50] [error] [ 2220] The handle is invalid.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14095197" author="sbeutel" created="Wed, 13 Aug 2014 06:08:36 +0000"  >&lt;p&gt;Any updates? The problem still exists with Tomcat 7.0.52.&lt;/p&gt;</comment>
                            <comment id="14191697" author="emassip" created="Fri, 31 Oct 2014 11:14:56 +0000"  >&lt;p&gt;FWIW using the right amd64 executable worked for me.&lt;/p&gt;</comment>
                            <comment id="14510905" author="tryte" created="Fri, 24 Apr 2015 11:51:16 +0000"  >&lt;p&gt;I&apos;ve run into the same issue when trying to &lt;tt&gt;prunsrv stop &amp;lt;servicename&amp;gt;&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2015-04-24 13:17:17] [debug] ( prunsrv.c:1679) [ 3320] Commons Daemon procrun log initialized
[2015-04-24 13:17:17] [info]  ( prunsrv.c:1683) [ 3320] Commons Daemon procrun (1.0.15.0 64-bit) started
[2015-04-24 13:17:17] [info]  ( prunsrv.c:687 ) [ 3320] Stopping service &apos;&amp;lt;servicename&amp;gt;&apos; ...
[2015-04-24 13:17:17] [warn]  ( service.c:140 ) [ 3320] Failed to obtain service description
[2015-04-24 13:17:18] [debug] ( prunsrv.c:844 ) [ 2552] reportServiceStatusE: 3, 0, 3000, 0
[2015-04-24 13:17:18] [info]  ( prunsrv.c:943 ) [ 2700] Stopping service...
[2015-04-24 13:17:18] [debug] ( javajni.c:888 ) [ 4108] argv[0] = stop
[2015-04-24 13:17:18] [debug] ( javajni.c:941 ) [ 4108] Java Worker thread started org/apache/catalina/startup/Bootstrap:main
[2015-04-24 13:17:19] [debug] ( prunsrv.c:990 ) [ 2700] Waiting for java jni stop worker to finish...
[2015-04-24 13:17:22] [error] ( prunsrv.c:708 ) [ 3320] Failed to stop &apos;&amp;lt;servicename&amp;gt;&apos; service
[2015-04-24 13:17:22] [error] ( prunsrv.c:708 ) [ 3320] Der an einen Systemaufruf &#252;bergebene Datenbereich ist zu klein.
[2015-04-24 13:17:23] [info]  ( prunsrv.c:716 ) [ 3320] Stop service finished.
[2015-04-24 13:17:23] [error] ( prunsrv.c:1755) [ 3320] Commons Daemon procrun failed with exit value: 6 (Failed to stop service)
[2015-04-24 13:17:23] [error] ( prunsrv.c:1755) [ 3320] Der an einen Systemaufruf &#252;bergebene Datenbereich ist zu klein.
[2015-04-24 13:17:26] [debug] ( javajni.c:964 ) [ 4092] Java Worker thread finished org/apache/catalina/startup/Bootstrap:main with status=0
[2015-04-24 13:17:26] [debug] ( javajni.c:964 ) [ 4108] Java Worker thread finished org/apache/catalina/startup/Bootstrap:main with status=0
[2015-04-24 13:17:26] [debug] ( prunsrv.c:1533) [ 4180] Worker finished.
[2015-04-24 13:17:26] [debug] ( prunsrv.c:992 ) [ 2700] Java jni stop worker finished.
[2015-04-24 13:17:26] [debug] ( prunsrv.c:1542) [ 4180] Waiting for ShutdownEvent
[2015-04-24 13:17:26] [debug] ( prunsrv.c:844 ) [ 4180] reportServiceStatusE: 3, 0, 60000, 0
[2015-04-24 13:17:26] [debug] ( prunsrv.c:844 ) [ 2700] reportServiceStatusE: 3, 0, 300000, 0
[2015-04-24 13:17:26] [debug] ( prunsrv.c:1093) [ 2700] Waiting for worker to die naturally...
[2015-04-24 13:17:27] [debug] ( prunsrv.c:1104) [ 2700] Worker finished gracefully in 0 ms.
[2015-04-24 13:17:27] [info]  ( prunsrv.c:1114) [ 2700] Service stop thread completed.
[2015-04-24 13:17:27] [debug] ( prunsrv.c:1545) [ 4180] ShutdownEvent signaled
[2015-04-24 13:17:27] [debug] ( prunsrv.c:1550) [ 4180] Waiting 1 minute for all threads to exit
[2015-04-24 13:17:27] [debug] ( prunsrv.c:844 ) [ 4180] reportServiceStatusE: 3, 0, 60000, 0
[2015-04-24 13:17:28] [debug] ( prunsrv.c:1563) [ 4180] JVM destroyed.
[2015-04-24 13:17:28] [debug] ( prunsrv.c:844 ) [ 4180] reportServiceStatusE: 1, 0, 0, 0
[2015-04-24 13:17:28] [info]  ( prunsrv.c:1598) [ 2552] Run service finished.
[2015-04-24 13:17:28] [info]  ( prunsrv.c:1764) [ 2552] Commons Daemon procrun finished
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Der an einen Systemaufruf &#252;bergebene Datenbereich ist zu klein.&lt;/em&gt; is the German version of &lt;em&gt;The data area passed to a system call is too small.&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The system is a &lt;tt&gt;Windows Server 2008 R2 Standard&lt;/tt&gt;, 64 bits.&lt;br/&gt;
The issue occurs both with the 64 bit &lt;tt&gt;amd64\prunsrv.exe&lt;/tt&gt; as well as the 32 bit &lt;tt&gt;prunsrv.exe&lt;/tt&gt;. I&apos;ve tried &lt;tt&gt;1.0.15&lt;/tt&gt; (current as of writing this comment), &lt;tt&gt;1.0.14&lt;/tt&gt; and &lt;tt&gt;1.0.13&lt;/tt&gt;.&lt;br/&gt;
The process in question is a &lt;tt&gt;Liferay Portal&lt;/tt&gt; server with &lt;tt&gt;Tomcat 7.0.42&lt;/tt&gt;, running with &lt;tt&gt;--StartMode jvm&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Changed priority to minor.&lt;br/&gt;
From the log I see the service is stopped, so it seems it logs failure for long stop methods (you said you simulate that with 5 second delay).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In my case the server is still in progress of shutting down when &lt;tt&gt;prunsrv&lt;/tt&gt; emits above error messages to the log. Using a high value for &lt;tt&gt;--StopTimeout&lt;/tt&gt; did not make a difference.&lt;br/&gt;
By the time &lt;tt&gt;prunsrv&lt;/tt&gt; actually exits, the server shutdown completes as well.&lt;/p&gt;

&lt;p&gt;The problem here is &lt;tt&gt;exit value: 6 (Failed to stop service)&lt;/tt&gt;, since our tooling interprets this as a failure. We could work around this by checking service status ourselves and ignoring &lt;tt&gt;prunsrv&lt;/tt&gt;&apos;s exit value, but this does not seem right.&lt;/p&gt;</comment>
                            <comment id="15702558" author="markt" created="Mon, 28 Nov 2016 17:23:46 +0000"  >&lt;p&gt;The issue with the spurious &quot;The data area passed to a system call is too small&quot; message has been fixed.&lt;/p&gt;

&lt;p&gt;It was a leftover last error code from an expected error that was then logged when the service failed to stop on the assumption it was the root cause of the failure to stop which it was not.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13078906">DAEMON-360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13078906">DAEMON-360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ieon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>