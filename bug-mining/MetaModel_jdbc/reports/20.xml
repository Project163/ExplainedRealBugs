<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[METAMODEL-1119] MetaModel does not work with Hive JDBC without patched JAR</title>
                <link>https://issues.apache.org/jira/browse/METAMODEL-1119</link>
                <project id="12314523" key="METAMODEL">Apache MetaModel (Retired)</project>
                    <description>&lt;p&gt;This is not &lt;em&gt;really&lt;/em&gt; a MetaModel issue, but it might be nice to fix in MetaModel: Apache Hive&apos;s JDBC driver is... Flawed. Its MetaData class throws SQLException (which &lt;em&gt;should&lt;/em&gt; mean database access problems, not &quot;we didn&apos;t feel like implementing&quot;) in many cases where it should really just return null, false or an empty string. In our case, it affects our ability to get the schema name in the case where there are more than a single schema(/database), as we expect &lt;tt&gt;getUrl&lt;/tt&gt; and &lt;tt&gt;getUserName&lt;/tt&gt; to behave properly.&lt;/p&gt;

&lt;p&gt;I&apos;ve made a PR for Hive here: &lt;a href=&quot;https://github.com/apache/hive/pull/106/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/106/files&lt;/a&gt; but as it seems to often take a long time to get Hive PRs merged, and since the 2.x Hive JDBC driver doesn&apos;t seem to be compatible with 1.2.1 and earlier which used by most Hadoop distributions (I don&apos;t expect that it will be backported to 1.2.x), it would be nice to not break when getting the exception.&lt;/p&gt;

&lt;p&gt;Workaround: You can find a patched Hive JDBC driver here: &lt;a href=&quot;https://datacleaner.org/resources/public/hive-jdbc-1.2.1.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://datacleaner.org/resources/public/hive-jdbc-1.2.1.jar&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13009816">METAMODEL-1119</key>
            <summary>MetaModel does not work with Hive JDBC without patched JAR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="losd">Dennis Du Kr&#248;ger</assignee>
                                    <reporter username="losd">Dennis Du Kr&#248;ger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Oct 2016 09:28:44 +0000</created>
                <updated>Thu, 13 Oct 2016 19:46:12 +0000</updated>
                            <resolved>Thu, 13 Oct 2016 19:46:10 +0000</resolved>
                                                    <fixVersion>4.5.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15559426" author="kaspersor" created="Sun, 9 Oct 2016 06:48:01 +0000"  >&lt;p&gt;We could quite easily (I would think) just use the existing constant &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JdbcDataContext.DATABASE_PRODUCT_HIVE&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; and a bunch of if-statements (&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (DATABASE_PRODUCT_HIVE.equals(_databaseProductName)) { ... }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;) to work around the issue from MMs perspective...?&lt;/p&gt;</comment>
                            <comment id="15559924" author="losd" created="Sun, 9 Oct 2016 12:37:26 +0000"  >&lt;p&gt;Yeah, that would be a good solution. I was thinking of just always just logging SQLExceptions, but that could hide legitimate access problems. &lt;/p&gt;</comment>
                            <comment id="15560085" author="losd" created="Sun, 9 Oct 2016 14:32:57 +0000"  >&lt;p&gt;(no, I didn&apos;t mean &lt;em&gt;everywhere&lt;/em&gt;, only in the schema name extraction... &#9786;) &lt;/p&gt;</comment>
                            <comment id="15562515" author="githubbot" created="Mon, 10 Oct 2016 14:58:24 +0000"  >&lt;p&gt;GitHub user LosD opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Don&apos;t get killed by Hive SQLExceptions when finding default schema name&lt;/p&gt;

&lt;p&gt;    This will allow Hive to throw its exceptions while we&apos;re trying to determine the default schema name, without that failing.&lt;/p&gt;

&lt;p&gt;    Also fixes a problem where columns types without a width would fail by specifying maximum allowed column width for VARCHAR types. (Maybe I should have fixed this in another PR, but it broke the Hive integration test, which drove me mad... Let me know if I should split them).&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-1119&quot; title=&quot;MetaModel does not work with Hive JDBC without patched JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-1119&quot;&gt;&lt;del&gt;METAMODEL-1119&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/LosD/metamodel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/LosD/metamodel&lt;/a&gt; bug/&lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-1119&quot; title=&quot;MetaModel does not work with Hive JDBC without patched JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-1119&quot;&gt;&lt;del&gt;METAMODEL-1119&lt;/del&gt;&lt;/a&gt;-workaround-hive-issue&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/133.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/133.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #133&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4d81aef06eb9a93fbb70fb63b8d9645f25741615&lt;br/&gt;
Author: Dennis Du Kr&#248;ger &amp;lt;d@hp23c.dk&amp;gt;&lt;br/&gt;
Date:   2016-10-10T14:32:43Z&lt;/p&gt;

&lt;p&gt;    Don&apos;t get killed by Hive SQLExceptions when finding default schema name&lt;/p&gt;

&lt;p&gt;    This will allow Hive to throw its exceptions while we&#248;re trying to determine the default schema name, without that failing.&lt;/p&gt;

&lt;p&gt;    Also fixes a problem where columns types without a width would fail by specifying maximum allowed column width for VARCHAR types. (Maybe I should have fixed this in another PR, but it broke the Hive integration test, which drove me mad... Let me know if I should split them).&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-1119&quot; title=&quot;MetaModel does not work with Hive JDBC without patched JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-1119&quot;&gt;&lt;del&gt;METAMODEL-1119&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15572944" author="githubbot" created="Thu, 13 Oct 2016 19:38:13 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/133&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34go7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>