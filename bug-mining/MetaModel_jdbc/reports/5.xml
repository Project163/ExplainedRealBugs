<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[METAMODEL-131] Create table with composite primary key gives error.</title>
                <link>https://issues.apache.org/jira/browse/METAMODEL-131</link>
                <project id="12314523" key="METAMODEL">Apache MetaModel (Retired)</project>
                    <description>&lt;p&gt;Creating table with primary key is not possible since while generating sql we add &quot;PRIMARY KEY&quot; keyword to each column which results in error in case of composite primary keys. Below is the code.&lt;/p&gt;

&lt;p&gt;context.executeUpdate(new UpdateScript() {&lt;/p&gt;

&lt;p&gt;			@Override&lt;br/&gt;
			public void run(UpdateCallback callback) &lt;/p&gt;
{
				callback.createTable(&quot;amass&quot;, &quot;test&quot;).
				withColumn(&quot;id&quot;).ofType(ColumnType.INTEGER).ofSize(16).asPrimaryKey()
				.withColumn(&quot;name&quot;).ofType(ColumnType.VARCHAR).ofSize(255).asPrimaryKey()
				.execute();
			}
&lt;p&gt;		});&lt;/p&gt;

&lt;p&gt;I am using mysql. Am I using it in the wrong way?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12788347">METAMODEL-131</key>
            <summary>Create table with composite primary key gives error.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narahari92">Hosur Narahari</assignee>
                                    <reporter username="narahari92">Hosur Narahari</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Apr 2015 14:32:08 +0000</created>
                <updated>Thu, 9 Apr 2015 09:00:16 +0000</updated>
                            <resolved>Thu, 9 Apr 2015 09:00:16 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14396325" author="kaspersor" created="Sun, 5 Apr 2015 17:00:02 +0000"  >&lt;p&gt;I think you&apos;re using it right, but yes this is currently not something we handle very well. Ideally we should have some SQL dialect thing in place for CREATE statements, like we have for queries. &lt;/p&gt;</comment>
                            <comment id="14481430" author="githubbot" created="Mon, 6 Apr 2015 17:03:43 +0000"  >&lt;p&gt;GitHub user narahari92 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-131&quot; title=&quot;Create table with composite primary key gives error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-131&quot;&gt;&lt;del&gt;METAMODEL-131&lt;/del&gt;&lt;/a&gt; defect fix&lt;/p&gt;

&lt;p&gt;    Hi,&lt;/p&gt;

&lt;p&gt;    I have made following changes to support creating tables with composite primary key. In unit test cases where sql statement is compared as string, I have made necessary changes. Please review.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/narahari92/metamodel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/narahari92/metamodel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-131&quot; title=&quot;Create table with composite primary key gives error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-131&quot;&gt;&lt;del&gt;METAMODEL-131&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #14&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7a2e335c898aaa545ac77ebe4df65cfc889f35f8&lt;br/&gt;
Author: Hosur Narahari &amp;lt;hnr1992@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-06T16:59:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-131&quot; title=&quot;Create table with composite primary key gives error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-131&quot;&gt;&lt;del&gt;METAMODEL-131&lt;/del&gt;&lt;/a&gt; defect fix&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14481453" author="githubbot" created="Mon, 6 Apr 2015 17:21:35 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90161694&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90161694&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the patch, but I don&apos;t think this approach will fly. First I have to mention that there are code styling issues (tabs instead of spaces, no spaces in front of parenthesis etc.) but that&apos;s less important right now ...&lt;/p&gt;

&lt;p&gt;    Important part is: Different databases have different SQL dialects and in this patch it is proposed to switch from one dialect (that was very common but less flexible) to the other dialect which is AFAIK less supported.&lt;/p&gt;

&lt;p&gt;    Here&apos;s some sources of inspiration maybe:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.w3schools.com/sql/sql_primarykey.asp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3schools.com/sql/sql_primarykey.asp&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.techonthenet.com/sql/primary_keys.php&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.techonthenet.com/sql/primary_keys.php&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    To make this work we should only touch the JdbcCreateTableBuilder IMO. The abstract one is not supposed/guaranteed to generate perfect SQL for all databases, just like Query.toSql() will not generate SQL that is working on all databases. It is in the concrete implementation of CreateTableBuilder that we figure that part out (and in non-JDBC modules it is not a CREATE TABLE statement but some other operation anyway).&lt;/p&gt;

&lt;p&gt;    The JdbcCreateTableBuilder should take advice or delegate to the QueryRewriter interface. This is our current mechanism to allow different databases to have different dialects. I suggest we continue with that approach unless there&apos;s some better idea.&lt;/p&gt;</comment>
                            <comment id="14481513" author="githubbot" created="Mon, 6 Apr 2015 18:01:41 +0000"  >&lt;p&gt;Github user narahari92 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90176813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90176813&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, what you said is true. But the reason I thought of above fix is, all the databases METAMODEL supports have a same syntax for creating table. So It would be unnecessary overhead writing like QueryRewriter(Different databases have slightly different Query syntax). &lt;/p&gt;

&lt;p&gt;    Is there any such database with different create table syntax?&lt;/p&gt;</comment>
                            <comment id="14481548" author="githubbot" created="Mon, 6 Apr 2015 18:19:03 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90182736&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90182736&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK maybe that&apos;s the case - I didn&apos;t think so because of the above articles. When you say &quot;all databases MetaModel supports&quot;, do you then include the ones that are not included in the (non-integration) tests?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;PostgreSQL&lt;/li&gt;
	&lt;li&gt;MS SQL Server&lt;/li&gt;
	&lt;li&gt;Oracle&lt;/li&gt;
	&lt;li&gt;MySQL&lt;/li&gt;
	&lt;li&gt;IBM DB2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Those are needed to work.&lt;/p&gt;

&lt;p&gt;    Do we have a test case to ensure that the new syntax is working (see JdbcTestTemplates which is used for most unit and integration tests).&lt;/p&gt;</comment>
                            <comment id="14481589" author="githubbot" created="Mon, 6 Apr 2015 18:38:57 +0000"  >&lt;p&gt;Github user narahari92 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90191257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90191257&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes, above databases also have same syntax. &lt;/p&gt;

&lt;p&gt;    And as for unit test cases, I have already committed it(DerbyTest and h2DatabaseTest with create table check). Is it enough?&lt;/p&gt;</comment>
                            <comment id="14481596" author="githubbot" created="Mon, 6 Apr 2015 18:41:41 +0000"  >&lt;p&gt;Github user kaspersorensen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#discussion_r27818657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#discussion_r27818657&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/metamodel/create/AbstractTableCreationBuilder.java &amp;#8212;&lt;br/&gt;
    @@ -123,9 +123,22 @@ public String toSql() {&lt;br/&gt;
                         &amp;amp;&amp;amp; !column.isNullable().booleanValue()) &lt;/p&gt;
{
                     sb.append(&quot; NOT NULL&quot;);
                 }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (column.isPrimaryKey()) 
{
    -                sb.append(&quot; PRIMARY KEY&quot;);
    -            }
&lt;p&gt;    +        }&lt;br/&gt;
    +        boolean primaryKeyExists = false;&lt;br/&gt;
    +        for(int i = 0 ; i &amp;lt; columns.length ; i++) {&lt;br/&gt;
    +        	if(columns&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.isPrimaryKey()) {&lt;br/&gt;
    +        		if(!primaryKeyExists) {&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I see mixed use of tabs and spaces in this line and a few others.&lt;/p&gt;</comment>
                            <comment id="14481597" author="githubbot" created="Mon, 6 Apr 2015 18:42:02 +0000"  >&lt;p&gt;Github user kaspersorensen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#discussion_r27818705&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#discussion_r27818705&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/metamodel/create/AbstractTableCreationBuilder.java &amp;#8212;&lt;br/&gt;
    @@ -123,9 +123,22 @@ public String toSql() {&lt;br/&gt;
                         &amp;amp;&amp;amp; !column.isNullable().booleanValue()) &lt;/p&gt;
{
                     sb.append(&quot; NOT NULL&quot;);
                 }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (column.isPrimaryKey()) 
{
    -                sb.append(&quot; PRIMARY KEY&quot;);
    -            }
&lt;p&gt;    +        }&lt;br/&gt;
    +        boolean primaryKeyExists = false;&lt;br/&gt;
    +        for(int i = 0 ; i &amp;lt; columns.length ; i++) {&lt;br/&gt;
    +        	if(columns&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.isPrimaryKey()) {&lt;br/&gt;
    +        		if(!primaryKeyExists) {&lt;br/&gt;
    +        			sb.append(&quot; , PRIMARY KEY(&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    The space in front of the comma is not needed. It&apos;s pretty minor I know, but let&apos;s keep it tidy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14481599" author="githubbot" created="Mon, 6 Apr 2015 18:43:11 +0000"  >&lt;p&gt;Github user kaspersorensen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#discussion_r27818813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#discussion_r27818813&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/metamodel/create/AbstractTableCreationBuilder.java &amp;#8212;&lt;br/&gt;
    @@ -123,9 +123,22 @@ public String toSql() {&lt;br/&gt;
                         &amp;amp;&amp;amp; !column.isNullable().booleanValue()) &lt;/p&gt;
{
                     sb.append(&quot; NOT NULL&quot;);
                 }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (column.isPrimaryKey()) 
{
    -                sb.append(&quot; PRIMARY KEY&quot;);
    -            }
&lt;p&gt;    +        }&lt;br/&gt;
    +        boolean primaryKeyExists = false;&lt;br/&gt;
    +        for(int i = 0 ; i &amp;lt; columns.length ; i++) {&lt;br/&gt;
    +        	if(columns&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.isPrimaryKey()) {&lt;br/&gt;
    +        		if(!primaryKeyExists) {&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Oh I see that the original file is actually using tabs ... strange. I guess we should reformat the whole file then :-/&lt;/p&gt;</comment>
                            <comment id="14481601" author="githubbot" created="Mon, 6 Apr 2015 18:43:39 +0000"  >&lt;p&gt;Github user kaspersorensen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#discussion_r27818877&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#discussion_r27818877&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: jdbc/src/main/java/org/apache/metamodel/jdbc/JdbcCreateTableBuilder.java &amp;#8212;&lt;br/&gt;
    @@ -114,10 +114,23 @@ private String createSqlStatement(Table table) {&lt;br/&gt;
     			if (column.isNullable() != null &amp;amp;&amp;amp; !column.isNullable().booleanValue()) &lt;/p&gt;
{
     				sb.append(&quot; NOT NULL&quot;);
     			}
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (column.isPrimaryKey()) 
{
    -				sb.append(&quot; PRIMARY KEY&quot;);
    -			}
&lt;p&gt;     		}&lt;br/&gt;
    +        boolean primaryKeyExists = false;&lt;br/&gt;
    +        for(int i = 0 ; i &amp;lt; columns.length ; i++) {&lt;br/&gt;
    +        	if(columns&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.isPrimaryKey()) &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {    +        		if(!primaryKeyExists) {
    +        			sb.append(&quot; , PRIMARY KEY(&quot;);
    +        			sb.append(columns[i].getName());
    +        			primaryKeyExists = true;
    +        		} else {
    +        			sb.append(&quot;,&quot;);
    +        			sb.append(columns[i].getName());
    +        		}    +        	}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;    +        }&lt;br/&gt;
    +        if(primaryKeyExists) &lt;/p&gt;
{
    +        	sb.append(&quot;)&quot;);
    +        }
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Same comments as in AbstractTableCreationBuilder also applies here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14481604" author="githubbot" created="Mon, 6 Apr 2015 18:44:11 +0000"  >&lt;p&gt;Github user narahari92 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90192758&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90192758&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    oops.. sorry.. didn&apos;t see that.. I&apos;ll correct it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14481607" author="githubbot" created="Mon, 6 Apr 2015 18:44:35 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90192911&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90192911&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK let&apos;s then just take attention to the small code styling thingies &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Once done I will do a round of integration tests locally (not covered by Travis CI) so that I feel certain about giving it my +1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14483397" author="githubbot" created="Tue, 7 Apr 2015 15:49:45 +0000"  >&lt;p&gt;Github user narahari92 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90616924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90616924&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hey, I did made the formatting as discussed.&lt;/p&gt;</comment>
                            <comment id="14483471" author="githubbot" created="Tue, 7 Apr 2015 16:43:39 +0000"  >&lt;p&gt;Github user kaspersorensen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#discussion_r27895955&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#discussion_r27895955&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/metamodel/create/AbstractTableCreationBuilder.java &amp;#8212;&lt;br/&gt;
    @@ -123,9 +123,22 @@ public String toSql() {&lt;br/&gt;
                         &amp;amp;&amp;amp; !column.isNullable().booleanValue()) &lt;/p&gt;
{
                     sb.append(&quot; NOT NULL&quot;);
                 }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (column.isPrimaryKey()) 
{
    -                sb.append(&quot; PRIMARY KEY&quot;);
    -            }
&lt;p&gt;    +        }&lt;br/&gt;
    +        boolean primaryKeyExists = false;&lt;br/&gt;
    +        for(int i = 0 ; i &amp;lt; columns.length ; i++) {&lt;br/&gt;
    +            if(columns&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.isPrimaryKey()) {&lt;br/&gt;
    +                if(!primaryKeyExists) {&lt;br/&gt;
    +                    sb.append(&quot; ,PRIMARY KEY(&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Heh, I meant the other space ... like we would normally write (space after each comma, none before):&lt;/p&gt;

&lt;p&gt;    one, two, three&lt;/p&gt;</comment>
                            <comment id="14483474" author="githubbot" created="Tue, 7 Apr 2015 16:44:30 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90641748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90641748&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    There&apos;s also a minor unittest failure now due to the comma-related change.&lt;/p&gt;</comment>
                            <comment id="14483496" author="githubbot" created="Tue, 7 Apr 2015 16:58:16 +0000"  >&lt;p&gt;Github user narahari92 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-90645834&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-90645834&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ya..  I have changed it now along with the unit tests.&lt;/p&gt;</comment>
                            <comment id="14486880" author="githubbot" created="Thu, 9 Apr 2015 07:17:51 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-91133667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-91133667&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    My integration-test verification progress:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] PostgreSQL&lt;/li&gt;
	&lt;li&gt;[ ] MySQL&lt;/li&gt;
	&lt;li&gt;[ ] DB2&lt;/li&gt;
	&lt;li&gt;[ ] SQL Server&lt;/li&gt;
	&lt;li&gt;[ ] Oracle&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14486991" author="githubbot" created="Thu, 9 Apr 2015 08:54:41 +0000"  >&lt;p&gt;Github user kaspersorensen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14#issuecomment-91156920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14#issuecomment-91156920&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks good! I will commit it with an addition of a bunch of integration tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14487000" author="githubbot" created="Thu, 9 Apr 2015 08:59:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/14&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14487003" author="kaspersor" created="Thu, 9 Apr 2015 09:00:16 +0000"  >&lt;p&gt;Fixed as of commit 1bc0887ef3853d11903259133d45e4acce10213c&lt;/p&gt;

&lt;p&gt;Thank you Hosur &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27st3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>