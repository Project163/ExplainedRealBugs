<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[METAMODEL-1132] Metamodel doesn&apos;t support a native paging on SQL Server and Oracle database</title>
                <link>https://issues.apache.org/jira/browse/METAMODEL-1132</link>
                <project id="12314523" key="METAMODEL">Apache MetaModel (Retired)</project>
                    <description>&lt;h2&gt;&lt;a name=&quot;Problemdescription&quot;&gt;&lt;/a&gt;Problem description&lt;/h2&gt;
&lt;p&gt;If a database contains a lot of records, let say a million of records, and user wants to execute a query with a good performance then he will probably use a native paging constucts of the database dialect. Without this feature the user cannot efficiently execute select queries.&lt;/p&gt;

&lt;p&gt;The MetaModel supports it just in MySQL and PostgreSQL. In this case a query properties firstRow and maxRows are rewritten to OFFSET and LIMIT constructs. See MySQLQueryRewriter which extends LimitOffsetQueryRewriter where you can find the method with it.&lt;/p&gt;

&lt;p&gt;SQLServerQueryRewriter supports the special construct TOP which equals maxRows but says nothing about firstRow. Althrough the user set the firstRow attribute. It will be IGNORED and couse a big performance issue.&lt;/p&gt;

&lt;p&gt;A similar issue you can find in OracleQueryRewriter.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Currentbehavior&quot;&gt;&lt;/a&gt;Current behavior&lt;/h2&gt;
&lt;p&gt;OracleQueryRewriter and SQLServerQueryRewriter ignores Query.setFirstRow(). OracleQueryRewriter ignores maxRows, too.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Expectedbehavior&quot;&gt;&lt;/a&gt;Expected behavior&lt;/h2&gt;
&lt;p&gt;There are possibilities to rewrite queries to SQL Server and Oracle dialects.&lt;/p&gt;

&lt;p&gt;for example: SQL Server 2012+ or Oracle 12c &lt;br/&gt;
SELECT fieldA,fieldB &lt;br/&gt;
FROM table &lt;br/&gt;
ORDER BY fieldA &lt;br/&gt;
OFFSET 5 ROWS FETCH NEXT 14 ROWS ONLY;&lt;/p&gt;</description>
                <environment>Metamodel with SQL Server or Oracle database</environment>
        <key id="13026128">METAMODEL-1132</key>
            <summary>Metamodel doesn&apos;t support a native paging on SQL Server and Oracle database</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rposkocil">Radek Posko&#269;il</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Tue, 6 Dec 2016 21:33:00 +0000</created>
                <updated>Wed, 21 Dec 2016 07:57:05 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 07:57:05 +0000</resolved>
                                    <version>4.5.4</version>
                                    <fixVersion>4.5.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15735166" author="githubbot" created="Fri, 9 Dec 2016 12:08:55 +0000"  >&lt;p&gt;GitHub user rposkocil opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/137&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Metamodel 1132 sql native paging&lt;/p&gt;

&lt;p&gt;    fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-1132&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/METAMODEL-1132&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rposkocil/metamodel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rposkocil/metamodel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-1132&quot; title=&quot;Metamodel doesn&amp;#39;t support a native paging on SQL Server and Oracle database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-1132&quot;&gt;&lt;del&gt;METAMODEL-1132&lt;/del&gt;&lt;/a&gt;-sql-native-paging&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/137.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/137.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #137&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 002c23778cbcbcb442e6e51a596a9461c504251e&lt;br/&gt;
Author: rposkocil &amp;lt;r.poskocil@gmc.net&amp;gt;&lt;br/&gt;
Date:   2016-12-08T19:52:42Z&lt;/p&gt;

&lt;p&gt;    Added OffsetFetchQueryRewriter to support the OFFSET-FETCH clause&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;set for SQLServer 2012+ and Oracle 12+&lt;/li&gt;
	&lt;li&gt;added new tests of the clause creation&lt;/li&gt;
	&lt;li&gt;fix tests of SQL Server and Oracle&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 717fc0049515339911a78466748dba1dfc4efc78&lt;br/&gt;
Author: rposkocil &amp;lt;r.poskocil@gmc.net&amp;gt;&lt;br/&gt;
Date:   2016-12-09T12:04:57Z&lt;/p&gt;

&lt;p&gt;    Added OffsetFetchQueryRewriter to support the OFFSET-FETCH clause&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;moved the code pieces to better places&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15766394" author="githubbot" created="Wed, 21 Dec 2016 07:54:29 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/137&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3796n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>