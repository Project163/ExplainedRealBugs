[{"id":1090677011,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwOTA2NzcwMTE=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1090677011","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-20T22:47:41Z","label":{"name":"3.x","color":"006b75"},"performed_via_github_app":null},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T23:29:12Z","updated_at":"2017-11-28T23:29:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332","repository_url":"https://api.github.com/repos/FasterXML/jackson-core","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332/events","html_url":"https://github.com/FasterXML/jackson-core/issues/332","id":188962841,"node_id":"MDU6SXNzdWUxODg5NjI4NDE=","number":332,"title":"get rid of String.intern","user":{"login":"vladimirdolzhenko","id":209440,"node_id":"MDQ6VXNlcjIwOTQ0MA==","avatar_url":"https://avatars.githubusercontent.com/u/209440?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirdolzhenko","html_url":"https://github.com/vladimirdolzhenko","followers_url":"https://api.github.com/users/vladimirdolzhenko/followers","following_url":"https://api.github.com/users/vladimirdolzhenko/following{/other_user}","gists_url":"https://api.github.com/users/vladimirdolzhenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirdolzhenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirdolzhenko/subscriptions","organizations_url":"https://api.github.com/users/vladimirdolzhenko/orgs","repos_url":"https://api.github.com/users/vladimirdolzhenko/repos","events_url":"https://api.github.com/users/vladimirdolzhenko/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirdolzhenko/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-core/milestones/35","html_url":"https://github.com/FasterXML/jackson-core/milestone/35","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones/35/labels","id":2766580,"node_id":"MDk6TWlsZXN0b25lMjc2NjU4MA==","number":35,"title":"3.0.0","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":20,"state":"open","created_at":"2017-09-14T19:56:02Z","updated_at":"2025-11-04T02:19:36Z","due_on":null,"closed_at":null},"comments":38,"created_at":"2016-11-13T10:18:53Z","updated_at":"2018-08-29T22:48:25Z","closed_at":"2017-01-10T01:42:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3037907,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM3OTA3","name":"jackson-core","full_name":"FasterXML/jackson-core","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-core","description":"Core part of Jackson that defines Streaming API as well as basic shared abstractions","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-core","forks_url":"https://api.github.com/repos/FasterXML/jackson-core/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-core/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-core/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-core/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-core/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-core/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-core/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-core/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-core/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-core/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-core/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-core/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-core/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-core/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-core/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-core/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-core/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-core/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-core/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-core/deployments","created_at":"2011-12-23T02:00:51Z","updated_at":"2025-11-07T22:08:37Z","pushed_at":"2025-11-07T22:08:31Z","git_url":"git://github.com/FasterXML/jackson-core.git","ssh_url":"git@github.com:FasterXML/jackson-core.git","clone_url":"https://github.com/FasterXML/jackson-core.git","svn_url":"https://github.com/FasterXML/jackson-core","homepage":"","size":27088,"stargazers_count":2331,"watchers_count":2331,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":820,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":27,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","json"],"visibility":"public","forks":820,"open_issues":27,"watchers":2331,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"[InternCache](https://github.com/FasterXML/jackson-core/blob/fa64390b1bd5f1435daa9d2b17a58594cfb22817/src/main/java/com/fasterxml/jackson/core/util/InternCache.java) is used in jackson for json property names only and solves the problem of extra memory footprint.\r\nIn the same time it uses `String.intern` - that is not an issue rather than misusage of it. The purpose of using string.intern is jvm specific: usually it maintains string literal pool (and covers internal jvm cases). \r\n\r\nThere are several known drawbacks of using intern: \r\n- [String pool Hashtable](http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/924777755fad/src/share/vm/classfile/symbolTable.hpp#l73) is non-resizable table. That means: we suffer of hash code collisions when table will have items more than its size (suffer as much as many items in string.intern pool)\r\n- The other drawback is involve GC into that: string intern pool is subject for minor collection too. So, app suffers of using string.intern implicitly via GC phases.\r\n\r\nThere is no use cases of check the equality of strings using `==` and therefore no any reasons of using `String.intern` - the biggest profit is to have string deduplication (already achieved). \r\n\r\n## patch\r\n```patch\r\n===================================================================\r\n--- src/main/java/com/fasterxml/jackson/core/util/InternCache.java  (revision 489becbfb28a41980f0d5147d6069b30fa3b5864)\r\n+++ src/main/java/com/fasterxml/jackson/core/util/InternCache.java  (revision )\r\n@@ -58,7 +58,7 @@\r\n                 }\r\n             }\r\n         }\r\n-        result = input.intern();\r\n+        result = input;\r\n         put(result, result);\r\n         return result;\r\n     }\r\n```\r\n\r\n## Test case\r\n\r\nThe general idea behind syntenic json is used in test (a flat json structure with 10000 properties with prefix **someQName**) is provide lots of different property names to trigger usage of `string.intern` within `InternCache` - that is close to real apps use cases where amount of unique property names is on a scale from hundreds to thousands.  \r\n```json\r\n{\r\n    \"someQName0\": 0,\r\n    \"someQName1\": 1,\r\n    ....\r\n    \"someQName9999\": 9999\r\n}\r\n``` \r\n\r\n### JMH test\r\nLet's measure performance of a single json parse with interting and w/o it: [PerfInternCache.java](https://gist.github.com/vladimirdolzhenko/4116b4042f9abff0b03570984cb92346)\r\n\r\n```diff\r\nBenchmark                   Mode  Cnt     Score     Error  Units\r\n-PerfInternCache.intern      avgt    5  4098.696 ± 164.484  us/op\r\n+PerfInternCache.noIntern    avgt    5  2320.159 ± 204.301  us/op\r\n```\r\n\r\n### GC\r\n\r\nAnother test is to measure how intern is affecting implicitly via GC: handle 10k the same jsons as we use in previous test (the use case is very very close to real one in real apps like web service / microsevices): \r\n[InternCache GC timings java test](https://gist.github.com/vladimirdolzhenko/4f50037e09aac8fa72e61021019e1eb5)\r\n\r\nRun it with `-verbose:gc -XX:+PrintGCDetails -Xloggc:gc.log` \r\n\r\nand after that get the total GC pause time \r\n`$ grep \"GC\" gc.log | grep \"Times: \" | awk '{S+=$8}END{print S}'`\r\n\r\n```diff\r\n-intern      0.1907254 +- 0.00469 sec\r\n+w/o intern  0.07665   +- 0.00498 sec\r\n``` \r\n\r\n# Conclusion\r\nUsing **intern** harms application performance as explicitly via more expencive `InternCache.intern` and implicitly via GC. In the same time we keep memory footprint on the same low possible level.","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332/reactions","total_count":14,"+1":14,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/332/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347700391","html_url":"https://github.com/FasterXML/jackson-core/issues/378#issuecomment-347700391","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/378","id":347700391,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzcwMDM5MQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T23:33:38Z","updated_at":"2017-11-28T23:33:38Z","body":"I have worked on a performance optimization for field name handling, to try to avoid dual-lookup (first to map from byte sequence to String, then from String to property object), and an interesting side benefit here is that this should remove benefit of `String.intern()` at streaming level.\r\n(it may or may not make sense within `jackson-databind`, but set of symbols there is bounded).\r\n\r\nAssuming this development (addition of new variant of `nextFieldName()`, `FieldNameMatcher` abstraction) succeeds as it should (I have implemented it for majority of format modules) I will change the default setting for `3.0` so that interning is disabled by default for `JsonFactory` (and other format parser/generator factories).\r\n\r\nSo in the end I think there is a solution that works nicely for all use cases.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347700391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1362508113,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTM2MjUwODExMw==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1362508113","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-11-28T23:34:01Z","rename":{"from":"Consider using different default setting for `JsonFactory.Feature.INTERN_FIELD_NAMES` for different usage","to":"Change default for `JsonFactory.Feature.INTERN_FIELD_NAMES` to `false` for Jackson 3.x"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347839228","html_url":"https://github.com/FasterXML/jackson-core/issues/378#issuecomment-347839228","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/378","id":347839228,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzgzOTIyOA==","user":{"login":"IRus","id":493656,"node_id":"MDQ6VXNlcjQ5MzY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/493656?v=4","gravatar_id":"","url":"https://api.github.com/users/IRus","html_url":"https://github.com/IRus","followers_url":"https://api.github.com/users/IRus/followers","following_url":"https://api.github.com/users/IRus/following{/other_user}","gists_url":"https://api.github.com/users/IRus/gists{/gist_id}","starred_url":"https://api.github.com/users/IRus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IRus/subscriptions","organizations_url":"https://api.github.com/users/IRus/orgs","repos_url":"https://api.github.com/users/IRus/repos","events_url":"https://api.github.com/users/IRus/events{/privacy}","received_events_url":"https://api.github.com/users/IRus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T11:58:09Z","updated_at":"2017-11-29T11:58:24Z","body":"You can write own string pool to implement what `String.intern()` do. So than you may benefit from identity check, and doesn't harm overall JVM performance.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347839228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"IRus","id":493656,"node_id":"MDQ6VXNlcjQ5MzY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/493656?v=4","gravatar_id":"","url":"https://api.github.com/users/IRus","html_url":"https://github.com/IRus","followers_url":"https://api.github.com/users/IRus/followers","following_url":"https://api.github.com/users/IRus/following{/other_user}","gists_url":"https://api.github.com/users/IRus/gists{/gist_id}","starred_url":"https://api.github.com/users/IRus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IRus/subscriptions","organizations_url":"https://api.github.com/users/IRus/orgs","repos_url":"https://api.github.com/users/IRus/repos","events_url":"https://api.github.com/users/IRus/events{/privacy}","received_events_url":"https://api.github.com/users/IRus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347921607","html_url":"https://github.com/FasterXML/jackson-core/issues/378#issuecomment-347921607","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/378","id":347921607,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzkyMTYwNw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T16:46:15Z","updated_at":"2017-11-29T16:46:15Z","body":"@IRus Jackson has (and has had) its canonicalizer(s) since first versions. This mostly helps in avoiding allocation overhead, but can not quite be used for identity checks for couple of reasons (separate one for byte- and char-backed sources, out of necessity; databind has no access; these are per `JsonFactory`, not global to avoid classloader problems and overflow).\r\nIt is true that technically it would be possible to implement global singleton (over per-factory one), but that is fortunately not necessary after changes. Same benefits (for databind at least) can be achieved by sort of per-nameset canonicalizer passed by databind (via deserializers) and used by parser.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/347921607/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1363935931,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTM2MzkzNTkzMQ==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1363935931","actor":{"login":"IRus","id":493656,"node_id":"MDQ6VXNlcjQ5MzY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/493656?v=4","gravatar_id":"","url":"https://api.github.com/users/IRus","html_url":"https://github.com/IRus","followers_url":"https://api.github.com/users/IRus/followers","following_url":"https://api.github.com/users/IRus/following{/other_user}","gists_url":"https://api.github.com/users/IRus/gists{/gist_id}","starred_url":"https://api.github.com/users/IRus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IRus/subscriptions","organizations_url":"https://api.github.com/users/IRus/orgs","repos_url":"https://api.github.com/users/IRus/repos","events_url":"https://api.github.com/users/IRus/events{/privacy}","received_events_url":"https://api.github.com/users/IRus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-11-29T16:46:16Z","performed_via_github_app":null},{"id":1363935932,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEzNjM5MzU5MzI=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1363935932","actor":{"login":"IRus","id":493656,"node_id":"MDQ6VXNlcjQ5MzY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/493656?v=4","gravatar_id":"","url":"https://api.github.com/users/IRus","html_url":"https://github.com/IRus","followers_url":"https://api.github.com/users/IRus/followers","following_url":"https://api.github.com/users/IRus/following{/other_user}","gists_url":"https://api.github.com/users/IRus/gists{/gist_id}","starred_url":"https://api.github.com/users/IRus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IRus/subscriptions","organizations_url":"https://api.github.com/users/IRus/orgs","repos_url":"https://api.github.com/users/IRus/repos","events_url":"https://api.github.com/users/IRus/events{/privacy}","received_events_url":"https://api.github.com/users/IRus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-11-29T16:46:16Z","performed_via_github_app":null},{"id":1365252162,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzNjUyNTIxNjI=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1365252162","actor":{"login":"plokhotnyuk","id":890289,"node_id":"MDQ6VXNlcjg5MDI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/890289?v=4","gravatar_id":"","url":"https://api.github.com/users/plokhotnyuk","html_url":"https://github.com/plokhotnyuk","followers_url":"https://api.github.com/users/plokhotnyuk/followers","following_url":"https://api.github.com/users/plokhotnyuk/following{/other_user}","gists_url":"https://api.github.com/users/plokhotnyuk/gists{/gist_id}","starred_url":"https://api.github.com/users/plokhotnyuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plokhotnyuk/subscriptions","organizations_url":"https://api.github.com/users/plokhotnyuk/orgs","repos_url":"https://api.github.com/users/plokhotnyuk/repos","events_url":"https://api.github.com/users/plokhotnyuk/events{/privacy}","received_events_url":"https://api.github.com/users/plokhotnyuk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2fc21e2df1902a176e934c031d81203a8073e6ec","commit_url":"https://api.github.com/repos/plokhotnyuk/jsoniter-scala/commits/2fc21e2df1902a176e934c031d81203a8073e6ec","created_at":"2017-11-30T09:43:59Z","performed_via_github_app":null},{"id":1395123942,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTM5NTEyMzk0Mg==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1395123942","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-12-19T22:49:37Z","rename":{"from":"Change default for `JsonFactory.Feature.INTERN_FIELD_NAMES` to `false` for Jackson 3.x","to":"Change default for `TokenStreamFactory.Feature.INTERN_FIELD_NAMES` to `false`"},"performed_via_github_app":null},{"id":1395126459,"node_id":"MDExOkNsb3NlZEV2ZW50MTM5NTEyNjQ1OQ==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1395126459","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"3713194485e0436ef1ea63dd9403484fb6a09b01","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/3713194485e0436ef1ea63dd9403484fb6a09b01","created_at":"2017-12-19T22:51:37Z","state_reason":null,"performed_via_github_app":null},{"id":1395126558,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDEzOTUxMjY1NTg=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/1395126558","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-12-19T22:51:41Z","milestone":{"title":"3.0.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/352911644","html_url":"https://github.com/FasterXML/jackson-core/issues/378#issuecomment-352911644","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/378","id":352911644,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjkxMTY0NA==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T22:53:50Z","updated_at":"2017-12-19T22:53:50Z","body":"After updating all codecs to implement `nextFieldName(FieldNameMatcher)`, corresponding databind changes, intern()ing is now disabled by default.\r\n\r\nAnd with other changes databind is typically 10-20% faster, despite not being able to use identity checks. So this ended up being win/win situation after all.\r\n\r\nThank you everyone who helped convince me this was worth the effort. :)\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/352911644/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"amirhadadi","id":2148876,"node_id":"MDQ6VXNlcjIxNDg4NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2148876?v=4","gravatar_id":"","url":"https://api.github.com/users/amirhadadi","html_url":"https://github.com/amirhadadi","followers_url":"https://api.github.com/users/amirhadadi/followers","following_url":"https://api.github.com/users/amirhadadi/following{/other_user}","gists_url":"https://api.github.com/users/amirhadadi/gists{/gist_id}","starred_url":"https://api.github.com/users/amirhadadi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirhadadi/subscriptions","organizations_url":"https://api.github.com/users/amirhadadi/orgs","repos_url":"https://api.github.com/users/amirhadadi/repos","events_url":"https://api.github.com/users/amirhadadi/events{/privacy}","received_events_url":"https://api.github.com/users/amirhadadi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-10T20:18:27Z","updated_at":"2019-03-10T20:18:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890/events","html_url":"https://github.com/elastic/elasticsearch/issues/39890","id":419227400,"node_id":"MDU6SXNzdWU0MTkyMjc0MDA=","number":39890,"title":"Poor query parsing performance with the REST client","user":{"login":"amirhadadi","id":2148876,"node_id":"MDQ6VXNlcjIxNDg4NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2148876?v=4","gravatar_id":"","url":"https://api.github.com/users/amirhadadi","html_url":"https://github.com/amirhadadi","followers_url":"https://api.github.com/users/amirhadadi/followers","following_url":"https://api.github.com/users/amirhadadi/following{/other_user}","gists_url":"https://api.github.com/users/amirhadadi/gists{/gist_id}","starred_url":"https://api.github.com/users/amirhadadi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amirhadadi/subscriptions","organizations_url":"https://api.github.com/users/amirhadadi/orgs","repos_url":"https://api.github.com/users/amirhadadi/repos","events_url":"https://api.github.com/users/amirhadadi/events{/privacy}","received_events_url":"https://api.github.com/users/amirhadadi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Data%20Management","name":"Team:Data Management","color":"fef2c0","default":false,"description":"Meta label for data/management team"}],"state":"closed","locked":false,"assignee":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2019-03-10T20:18:27Z","updated_at":"2024-03-08T16:55:06Z","closed_at":"2024-03-08T16:55:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":507775,"node_id":"MDEwOlJlcG9zaXRvcnk1MDc3NzU=","name":"elasticsearch","full_name":"elastic/elasticsearch","private":false,"owner":{"login":"elastic","id":6764390,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY3NjQzOTA=","avatar_url":"https://avatars.githubusercontent.com/u/6764390?v=4","gravatar_id":"","url":"https://api.github.com/users/elastic","html_url":"https://github.com/elastic","followers_url":"https://api.github.com/users/elastic/followers","following_url":"https://api.github.com/users/elastic/following{/other_user}","gists_url":"https://api.github.com/users/elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elastic/subscriptions","organizations_url":"https://api.github.com/users/elastic/orgs","repos_url":"https://api.github.com/users/elastic/repos","events_url":"https://api.github.com/users/elastic/events{/privacy}","received_events_url":"https://api.github.com/users/elastic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/elastic/elasticsearch","description":"Free and Open Source, Distributed, RESTful Search Engine","fork":false,"url":"https://api.github.com/repos/elastic/elasticsearch","forks_url":"https://api.github.com/repos/elastic/elasticsearch/forks","keys_url":"https://api.github.com/repos/elastic/elasticsearch/keys{/key_id}","collaborators_url":"https://api.github.com/repos/elastic/elasticsearch/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/elastic/elasticsearch/teams","hooks_url":"https://api.github.com/repos/elastic/elasticsearch/hooks","issue_events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/events{/number}","events_url":"https://api.github.com/repos/elastic/elasticsearch/events","assignees_url":"https://api.github.com/repos/elastic/elasticsearch/assignees{/user}","branches_url":"https://api.github.com/repos/elastic/elasticsearch/branches{/branch}","tags_url":"https://api.github.com/repos/elastic/elasticsearch/tags","blobs_url":"https://api.github.com/repos/elastic/elasticsearch/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/elastic/elasticsearch/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/elastic/elasticsearch/git/refs{/sha}","trees_url":"https://api.github.com/repos/elastic/elasticsearch/git/trees{/sha}","statuses_url":"https://api.github.com/repos/elastic/elasticsearch/statuses/{sha}","languages_url":"https://api.github.com/repos/elastic/elasticsearch/languages","stargazers_url":"https://api.github.com/repos/elastic/elasticsearch/stargazers","contributors_url":"https://api.github.com/repos/elastic/elasticsearch/contributors","subscribers_url":"https://api.github.com/repos/elastic/elasticsearch/subscribers","subscription_url":"https://api.github.com/repos/elastic/elasticsearch/subscription","commits_url":"https://api.github.com/repos/elastic/elasticsearch/commits{/sha}","git_commits_url":"https://api.github.com/repos/elastic/elasticsearch/git/commits{/sha}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/comments{/number}","issue_comment_url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments{/number}","contents_url":"https://api.github.com/repos/elastic/elasticsearch/contents/{+path}","compare_url":"https://api.github.com/repos/elastic/elasticsearch/compare/{base}...{head}","merges_url":"https://api.github.com/repos/elastic/elasticsearch/merges","archive_url":"https://api.github.com/repos/elastic/elasticsearch/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/elastic/elasticsearch/downloads","issues_url":"https://api.github.com/repos/elastic/elasticsearch/issues{/number}","pulls_url":"https://api.github.com/repos/elastic/elasticsearch/pulls{/number}","milestones_url":"https://api.github.com/repos/elastic/elasticsearch/milestones{/number}","notifications_url":"https://api.github.com/repos/elastic/elasticsearch/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/elastic/elasticsearch/labels{/name}","releases_url":"https://api.github.com/repos/elastic/elasticsearch/releases{/id}","deployments_url":"https://api.github.com/repos/elastic/elasticsearch/deployments","created_at":"2010-02-08T13:20:56Z","updated_at":"2025-11-08T18:18:08Z","pushed_at":"2025-11-08T16:44:21Z","git_url":"git://github.com/elastic/elasticsearch.git","ssh_url":"git@github.com:elastic/elasticsearch.git","clone_url":"https://github.com/elastic/elasticsearch.git","svn_url":"https://github.com/elastic/elasticsearch","homepage":"https://www.elastic.co/products/elasticsearch","size":1502124,"stargazers_count":75387,"watchers_count":75387,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":25596,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":5498,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["elasticsearch","java","search-engine"],"visibility":"public","forks":25596,"open_issues":5498,"watchers":75387,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Elasticsearch version**: 6.3.2\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version**: 1.8.144\r\n\r\n**OS version**: Linux 3.13.0-88-generic #135-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nWhen migrating from the transport client to the high level rest client, we saw our cluster throughput decrease by ~15%.\r\nProfiling with JVisualVM, we determined the culprit to be calls to String.intern from Jackson InternCache:\r\n![image](https://user-images.githubusercontent.com/2148876/54090625-d0d3ea00-437e-11e9-90f1-62b735385bc7.png)\r\n\r\nThese calls come from ScriptScoreFunctionBuilder::parse, as we have a fairly large parameter section (a few hundred parameters) in our custom scripts.\r\nWhen using -XX:PrintStringTableStatistics to determine the average bucket size of the string table, we found it to be 4 with ~240K distinct strings. 4 strings on average is quite high, but I would not expect it to cause such a serious performance impact. It's just that interning is a [bad idea](https://shipilev.net/jvm/anatomy-quarks/10-string-intern/).\r\n\r\nInterning in Jackson was discussed [here](https://github.com/FasterXML/jackson-core/issues/332) with benchmarks showing that disabling interning using JsonFactory.Feature.INTERN_FIELD_NAMES helps performance. Following that observation, in Jackson 3 [interning is disabled by default](https://github.com/FasterXML/jackson-core/issues/378).\r\n\r\nI suggest disabling field name interning in JsonXContent's jsonFactory.\r\n\r\n**Steps to reproduce**:\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n","reactions":{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39890/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":12332749800,"node_id":"REFE_lADOAC5a084NuFRJzwAAAALfFtPo","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/12332749800","actor":{"login":"timo-a","id":1398557,"node_id":"MDQ6VXNlcjEzOTg1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1398557?v=4","gravatar_id":"","url":"https://api.github.com/users/timo-a","html_url":"https://github.com/timo-a","followers_url":"https://api.github.com/users/timo-a/followers","following_url":"https://api.github.com/users/timo-a/following{/other_user}","gists_url":"https://api.github.com/users/timo-a/gists{/gist_id}","starred_url":"https://api.github.com/users/timo-a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timo-a/subscriptions","organizations_url":"https://api.github.com/users/timo-a/orgs","repos_url":"https://api.github.com/users/timo-a/repos","events_url":"https://api.github.com/users/timo-a/events{/privacy}","received_events_url":"https://api.github.com/users/timo-a/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3713194485e0436ef1ea63dd9403484fb6a09b01","commit_url":"https://api.github.com/repos/timo-a/jackson-core/commits/3713194485e0436ef1ea63dd9403484fb6a09b01","created_at":"2024-04-02T22:30:35Z","performed_via_github_app":null}]