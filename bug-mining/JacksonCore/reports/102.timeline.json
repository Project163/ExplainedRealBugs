[{"id":4777000176,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc3NzAwMDE3Ng==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4777000176","actor":{"login":"type","id":1222811,"node_id":"MDQ6VXNlcjEyMjI4MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1222811?v=4","gravatar_id":"","url":"https://api.github.com/users/type","html_url":"https://github.com/type","followers_url":"https://api.github.com/users/type/followers","following_url":"https://api.github.com/users/type/following{/other_user}","gists_url":"https://api.github.com/users/type/gists{/gist_id}","starred_url":"https://api.github.com/users/type/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/type/subscriptions","organizations_url":"https://api.github.com/users/type/orgs","repos_url":"https://api.github.com/users/type/repos","events_url":"https://api.github.com/users/type/events{/privacy}","received_events_url":"https://api.github.com/users/type/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-21T03:38:59Z","performed_via_github_app":null},{"id":4777000177,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3NzcwMDAxNzc=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4777000177","actor":{"login":"type","id":1222811,"node_id":"MDQ6VXNlcjEyMjI4MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1222811?v=4","gravatar_id":"","url":"https://api.github.com/users/type","html_url":"https://github.com/type","followers_url":"https://api.github.com/users/type/followers","following_url":"https://api.github.com/users/type/following{/other_user}","gists_url":"https://api.github.com/users/type/gists{/gist_id}","starred_url":"https://api.github.com/users/type/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/type/subscriptions","organizations_url":"https://api.github.com/users/type/orgs","repos_url":"https://api.github.com/users/type/repos","events_url":"https://api.github.com/users/type/events{/privacy}","received_events_url":"https://api.github.com/users/type/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-21T03:38:59Z","performed_via_github_app":null},{"id":4777001217,"node_id":"MDE3OlVuc3Vic2NyaWJlZEV2ZW50NDc3NzAwMTIxNw==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4777001217","actor":{"login":"type","id":1222811,"node_id":"MDQ6VXNlcjEyMjI4MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1222811?v=4","gravatar_id":"","url":"https://api.github.com/users/type","html_url":"https://github.com/type","followers_url":"https://api.github.com/users/type/followers","following_url":"https://api.github.com/users/type/following{/other_user}","gists_url":"https://api.github.com/users/type/gists{/gist_id}","starred_url":"https://api.github.com/users/type/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/type/subscriptions","organizations_url":"https://api.github.com/users/type/orgs","repos_url":"https://api.github.com/users/type/repos","events_url":"https://api.github.com/users/type/events{/privacy}","received_events_url":"https://api.github.com/users/type/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-21T03:39:28Z","performed_via_github_app":null},{"id":4777170106,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDc3NzE3MDEwNg==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4777170106","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-05-21T05:01:17Z","rename":{"from":"Unable to ignore fields when deserializing. TokenFilter seems broken","to":"Unable to ignore properties when deserializing. TokenFilter seems broken"},"performed_via_github_app":null},{"id":4802374824,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4MDIzNzQ4MjQ=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4802374824","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-26T23:10:14Z","label":{"name":"2.13","color":"c5def5"},"performed_via_github_app":null},{"id":4802376323,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50NDgwMjM3NjMyMw==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4802376323","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2021-05-26T23:10:45Z","label":{"name":"2.13","color":"c5def5"},"performed_via_github_app":null},{"id":4802377377,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4MDIzNzczNzc=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4802377377","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-26T23:11:08Z","label":{"name":"2.13","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/849182602","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849182602","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":849182602,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTE4MjYwMg==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T23:20:18Z","updated_at":"2021-05-26T23:20:18Z","body":"First things first: `withoutAttribute()` would not have any effect as \"attribute\" is metadata associated with `DeserializationContext` and has no direct effect on input being read. Entries in JSON Objects are never called attributes in Jackson API (they are referred to as \"properties\" or in some cases \"fields\").\r\n\r\nMix-in, however, should safely ignore field. But your test case above has 2 problems:\r\n\r\n1. Mix-in adds ignore for `@kind` (`@JsonIgnoreProperties({\"@kind\"})`) -- but you are feeding `@type`?\r\n2. Code is trying to register mix-in dynamically but it MUST be registered RIGHT AFTER construction: the first time `ObjectMapper` is used it will use current settings and further changes will have no effect. In this case it may or may not be ignored, depending on order in which tests are run. So you should create separate `ObjectMapper` for test cases\r\n\r\nSo I think it should be possible to make this (mix-in) approach work.\r\n\r\nFilter case is interesting and I don't know for sure what the issue might be: I would like to have a look if I have time, to see what is causing issues.\r\n\r\nAlso, if you can specify a helper class like:\r\n\r\n```\r\n@JsonIgnoreProperties({\"@type\"})\r\npublic class MyLongMap extends\r\n    HashMap<Long, Map<Long, Long>> {\r\n}\r\n```\r\n\r\nyou can avoid using mix-ins, and simplify code to something like\r\n\r\n```\r\nMyLongMap  map = mapper.readValue(json, MyLongMap.class);\r\n```\r\n\r\nwhich might be the simplest way to do it.\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/849182602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/849292518","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-849292518","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":849292518,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTI5MjUxOA==","user":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T03:33:32Z","updated_at":"2021-05-27T03:40:45Z","body":"hi, @cowtowncoder, I've updated the test case.\r\nUnfortunately, none of the methods you mentioned solved the problem.\r\n\r\n```java\r\npackage com.alibaba.dapr.serialization.json;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.filter.FilteringParserDelegate;\r\nimport com.fasterxml.jackson.core.filter.TokenFilter;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ObjectReader;\r\nimport org.junit.Ignore;\r\nimport org.junit.Test;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\n\r\n@Ignore\r\npublic class IgnorePropertyTest {\r\n    private final ObjectMapper mapper = new ObjectMapper().addMixIn(Map.class, MixIn.class);\r\n    private final String LONG_INNER_MAP_WITH_AUTO_TYPE = \"{\\\"@type\\\":\\\"java.util.LinkedHashMap\\\",\\\"111\\\":{\\\"@type\\\":\\\"java.util.LinkedHashMap\\\",\\\"1\\\":11,\\\"2\\\":22}}\";\r\n\r\n    @Test\r\n    public void testTokenFilter() throws Exception {\r\n        final TokenFilter tokenFilter = new TokenFilter() {\r\n            @Override\r\n            public TokenFilter includeProperty(String name) {\r\n                if (\"@type\".equals(name)) {\r\n                    return null;\r\n                }\r\n                return this;\r\n            }\r\n        };\r\n        JsonParser jsonParser = new FilteringParserDelegate(\r\n                mapper.createParser(LONG_INNER_MAP_WITH_AUTO_TYPE),\r\n                tokenFilter,\r\n                TokenFilter.Inclusion.INCLUDE_ALL_AND_PATH,\r\n                true);\r\n        Map<Long, Map<Long, Long>> data = mapper.readValue(jsonParser, new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testReader() throws Exception {\r\n        ObjectReader reader = mapper.readerFor(new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        Map<Long, Map<Long, Long>> data = reader.withoutAttribute(\"@type\").readValue(LONG_INNER_MAP_WITH_AUTO_TYPE);\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testMixin() throws Exception {\r\n        Map<Long, Map<Long, Long>> data = mapper.readValue(LONG_INNER_MAP_WITH_AUTO_TYPE, new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testCustomMap() throws Exception {\r\n        Map data = mapper.readValue(LONG_INNER_MAP_WITH_AUTO_TYPE, new TypeReference<MyLongMap>() {});\r\n        check(data);\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    public static class MyLongMap extends HashMap<Long, MyInnerLongMap> {\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    public static class MyInnerLongMap extends HashMap<Long, Long> {\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    private static abstract class MixIn {\r\n    }\r\n\r\n    private void check(Map<Long, Map<Long, Long>> data) {\r\n        assertEquals(1, data.size());\r\n        assertEquals(2, data.get(111L).size());\r\n        assertEquals(11L, (long)data.get(111L).get(1L));\r\n        assertEquals(22L, (long)data.get(111L).get(2L));\r\n    }\r\n}\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/849292518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4803066103,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgwMzA2NjEwMw==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4803066103","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-27T03:33:32Z","performed_via_github_app":null},{"id":4803066105,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MDMwNjYxMDU=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/4803066105","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-27T03:33:32Z","performed_via_github_app":null},{"actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T06:32:07Z","updated_at":"2021-07-16T06:32:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708","repository_url":"https://api.github.com/repos/FasterXML/jackson-core","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708/events","html_url":"https://github.com/FasterXML/jackson-core/issues/708","id":945988094,"node_id":"MDU6SXNzdWU5NDU5ODgwOTQ=","number":708,"title":"`FilteringParserDelegate` cannot deserialize empty list","user":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":9352384600,"node_id":"LA_kwDOAC5a088AAAACLXIQWA","url":"https://api.github.com/repos/FasterXML/jackson-core/labels/2.21","name":"2.21","color":"1d76db","default":false,"description":"Issues planned (at earliest) for 2.21"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-core/milestones/90","html_url":"https://github.com/FasterXML/jackson-core/milestone/90","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones/90/labels","id":13708723,"node_id":"MI_kwDOAC5a084A0S2z","number":90,"title":"2.21.0","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":8,"state":"open","created_at":"2025-09-17T01:19:51Z","updated_at":"2025-11-04T01:57:14Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2021-07-16T06:32:07Z","updated_at":"2025-11-03T01:56:26Z","closed_at":"2025-11-03T01:56:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3037907,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM3OTA3","name":"jackson-core","full_name":"FasterXML/jackson-core","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-core","description":"Core part of Jackson that defines Streaming API as well as basic shared abstractions","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-core","forks_url":"https://api.github.com/repos/FasterXML/jackson-core/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-core/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-core/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-core/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-core/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-core/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-core/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-core/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-core/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-core/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-core/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-core/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-core/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-core/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-core/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-core/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-core/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-core/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-core/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-core/deployments","created_at":"2011-12-23T02:00:51Z","updated_at":"2025-11-07T22:08:37Z","pushed_at":"2025-11-07T22:08:31Z","git_url":"git://github.com/FasterXML/jackson-core.git","ssh_url":"git@github.com:FasterXML/jackson-core.git","clone_url":"https://github.com/FasterXML/jackson-core.git","svn_url":"https://github.com/FasterXML/jackson-core","homepage":"","size":27088,"stargazers_count":2331,"watchers_count":2331,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":820,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":27,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","json"],"visibility":"public","forks":820,"open_issues":27,"watchers":2331,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This is a follow up issue of https://github.com/FasterXML/jackson-core/issues/700 .\r\n\r\nIf using FilteringParserDelegate to filter out a part of json, it throws the following exception when the input json is an empty list (\"[]\").\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (byte[])\"[]\"; line: 1, column: 2]\r\n\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4688)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4561)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2823)\r\n\tat com.alibaba.dapr.serialization.json.FilteringParserDelegateTest.testFilteringParserDelegateWithEmptyList(FilteringParserDelegateTest.java:36)\r\n```\r\nTest case:\r\n```java\r\npackage com.alibaba.dapr.serialization.json;\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.filter.FilteringParserDelegate;\r\nimport com.fasterxml.jackson.core.filter.TokenFilter;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.junit.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static org.junit.Assert.assertTrue;\r\n\r\npublic class FilteringParserDelegateTest {\r\n    @Test\r\n    public void testFilteringParserDelegateWithEmptyList() throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        final TokenFilter tokenFilter = new TokenFilter() {\r\n            @Override\r\n            public TokenFilter includeProperty(String name) {\r\n                if (\"@type\".equals(name)) {\r\n                    return null;\r\n                }\r\n                return INCLUDE_ALL;\r\n            }\r\n        };\r\n\r\n        byte[] content = \"[]\".getBytes(StandardCharsets.UTF_8);\r\n\r\n        JsonParser jp = mapper.createParser(content);\r\n        JsonParser jsonParser = new FilteringParserDelegate(jp, tokenFilter, TokenFilter.Inclusion.INCLUDE_ALL_AND_PATH, true);\r\n\r\n        List<Map<String, String>> a = mapper.readValue(jsonParser, new TypeReference<List<Map<String, String>>>() {});\r\n        assertTrue(a.isEmpty());\r\n    }\r\n}\r\n\r\n```\r\nJackson version: 2.12.3","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/708/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/881246493","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-881246493","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":881246493,"node_id":"IC_kwDOAC5a0840hsEd","user":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T07:44:44Z","updated_at":"2021-07-16T07:45:52Z","body":"I've achieved my goal by writing my own filtering parser.\r\n```java\r\npackage com.alibaba.dapr.serialization.json;\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonToken;\r\nimport com.fasterxml.jackson.core.util.JsonParserDelegate;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static com.fasterxml.jackson.core.JsonTokenId.ID_FIELD_NAME;\r\n\r\n/**\r\n * Ignores com.alibaba.fastjson.JSON#DEFAULT_TYPE_KEY.\r\n * Because {@link com.fasterxml.jackson.core.filter.FilteringParserDelegate} is broken at the moment,\r\n * we have to write our own simple filtering parser.\r\n * @author zuojie\r\n */\r\npublic class TypeFieldFilteringParserDelegate extends JsonParserDelegate {\r\n    public TypeFieldFilteringParserDelegate(JsonParser d) {\r\n        super(d);\r\n    }\r\n\r\n    public JsonToken nextToken() throws IOException {\r\n        JsonToken t = delegate.nextToken();\r\n        if (t == null) {\r\n            return null;\r\n        }\r\n        if (t.id() == ID_FIELD_NAME) {\r\n            final String name = delegate.getCurrentName();\r\n            if (\"@type\".equals(name)) {\r\n                delegate.nextToken();\r\n                delegate.skipChildren();\r\n                return delegate.nextToken();\r\n            }\r\n        }\r\n        return t;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.alibaba.dapr.serialization.json;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.filter.FilteringParserDelegate;\r\nimport com.fasterxml.jackson.core.filter.TokenFilter;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ObjectReader;\r\nimport org.junit.Ignore;\r\nimport org.junit.Test;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\n\r\n@Ignore\r\npublic class IgnorePropertyTest {\r\n    private final ObjectMapper mapper = new ObjectMapper().addMixIn(Map.class, MixIn.class);\r\n    private final String LONG_INNER_MAP_WITH_AUTO_TYPE = \"{\\\"@type\\\":\\\"java.util.LinkedHashMap\\\",\\\"111\\\":{\\\"@type\\\":\\\"java.util.LinkedHashMap\\\",\\\"1\\\":11,\\\"2\\\":22}}\";\r\n\r\n    @Test\r\n    public void testTokenFilter() throws Exception {\r\n        final TokenFilter tokenFilter = new TokenFilter() {\r\n            @Override\r\n            public TokenFilter includeProperty(String name) {\r\n                if (\"@type\".equals(name)) {\r\n                    return null;\r\n                }\r\n                return this;\r\n            }\r\n        };\r\n        JsonParser jsonParser = new FilteringParserDelegate(\r\n                mapper.createParser(LONG_INNER_MAP_WITH_AUTO_TYPE),\r\n                tokenFilter,\r\n                TokenFilter.Inclusion.INCLUDE_ALL_AND_PATH,\r\n                true);\r\n        Map<Long, Map<Long, Long>> data = mapper.readValue(jsonParser, new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testReader() throws Exception {\r\n        ObjectReader reader = mapper.readerFor(new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        Map<Long, Map<Long, Long>> data = reader.withoutAttribute(\"@type\").readValue(LONG_INNER_MAP_WITH_AUTO_TYPE);\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testMixin() throws Exception {\r\n        Map<Long, Map<Long, Long>> data = mapper.readValue(LONG_INNER_MAP_WITH_AUTO_TYPE, new TypeReference<Map<Long, Map<Long, Long>>>() {});\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testCustomMap() throws Exception {\r\n        Map data = mapper.readValue(LONG_INNER_MAP_WITH_AUTO_TYPE, new TypeReference<MyLongMap>() {});\r\n        check(data);\r\n    }\r\n\r\n    @Test\r\n    public void testCustomFilteringParserDelegate() throws Exception {\r\n        JsonParser jsonParser = new TypeFieldFilteringParserDelegate(mapper.createParser(LONG_INNER_MAP_WITH_AUTO_TYPE));\r\n        Map data = mapper.readValue(jsonParser, new TypeReference<MyLongMap>() {});\r\n        check(data);\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    public static class MyLongMap extends HashMap<Long, MyInnerLongMap> {\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    public static class MyInnerLongMap extends HashMap<Long, Long> {\r\n    }\r\n\r\n    @JsonIgnoreProperties({\"@type\"})\r\n    private static abstract class MixIn {\r\n    }\r\n\r\n    private void check(Map<Long, Map<Long, Long>> data) {\r\n        assertEquals(1, data.size());\r\n        assertEquals(2, data.get(111L).size());\r\n        assertEquals(11L, (long)data.get(111L).get(1L));\r\n        assertEquals(22L, (long)data.get(111L).get(2L));\r\n    }\r\n}\r\n```\r\n\r\ntestCustomFilteringParserDelegate finally works.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/881246493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/882186748","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-882186748","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":882186748,"node_id":"IC_kwDOAC5a0840lRn8","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T02:33:11Z","updated_at":"2021-07-19T02:33:11Z","body":"@xiazuojie thank you for sharing your solution. I hope to have a look at your original case to see why ignoral does not work, but at least you have a work-around.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/882186748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5035838451,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTAzNTgzODQ1MQ==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5035838451","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-19T02:33:11Z","performed_via_github_app":null},{"id":5035838455,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwMzU4Mzg0NTU=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5035838455","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-19T02:33:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/882910691","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-882910691","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":882910691,"node_id":"IC_kwDOAC5a0840oCXj","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T22:48:32Z","updated_at":"2021-07-19T22:48:32Z","body":"I am able to reproduce this with even simpler case:\r\n\r\n```\r\n{'@type':'...','value':12}\r\n```\r\n\r\nwhich produces erroneous stream of \r\n\r\n```\r\n{ \"12\" }\r\n```\r\n\r\n(that is, missing value).\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/882910691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5041210262,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDEyMTAyNjI=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041210262","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5511c1f054cc383ea00184284779f96235aad9ff","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/5511c1f054cc383ea00184284779f96235aad9ff","created_at":"2021-07-19T23:28:58Z","performed_via_github_app":null},{"id":5041270625,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDEyNzA2MjU=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041270625","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3eda00d07b9434c92f529800a6a24c0401ea124e","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/3eda00d07b9434c92f529800a6a24c0401ea124e","created_at":"2021-07-19T23:53:47Z","performed_via_github_app":null},{"id":5041292251,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDEyOTIyNTE=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041292251","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"295ed9d95c986b8f480d316197f386f301aab70e","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/295ed9d95c986b8f480d316197f386f301aab70e","created_at":"2021-07-20T00:03:22Z","performed_via_github_app":null},{"id":5041317272,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDUwNDEzMTcyNzI=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041317272","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-07-20T00:13:18Z","milestone":{"title":"2.13.0-rc2"},"performed_via_github_app":null},{"id":5041328261,"node_id":"MDExOkNsb3NlZEV2ZW50NTA0MTMyODI2MQ==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041328261","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"11930a811f99f500b7c3c740d7f0b28b1c43bf74","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/11930a811f99f500b7c3c740d7f0b28b1c43bf74","created_at":"2021-07-20T00:18:10Z","state_reason":null,"performed_via_github_app":null},{"id":5041364438,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDEzNjQ0Mzg=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041364438","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"21769819d4250f5882512007edf1ddd527eddf97","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/21769819d4250f5882512007edf1ddd527eddf97","created_at":"2021-07-20T00:32:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/883001946","html_url":"https://github.com/FasterXML/jackson-core/issues/700#issuecomment-883001946","issue_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/700","id":883001946,"node_id":"IC_kwDOAC5a0840oYpa","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T02:24:02Z","updated_at":"2021-07-20T02:24:02Z","body":"Phew! Was able to figure out issues: turns out there was a code path commented out (for reasons unknown to me) responsible for the main issue -- but also, at databind level there was a minor quirk in Map deserializer as well.\r\n\r\nFix will be in 2.13.0-rc2 (if one published) or final 2.13.0 (if no more release candidates).\r\n\r\nThank you @xiazuojie for reporting this problem!\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments/883001946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5041638734,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTA0MTYzODczNA==","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041638734","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-20T02:24:02Z","performed_via_github_app":null},{"id":5041638739,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwNDE2Mzg3Mzk=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041638739","actor":{"login":"xiazuojie","id":25221069,"node_id":"MDQ6VXNlcjI1MjIxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/25221069?v=4","gravatar_id":"","url":"https://api.github.com/users/xiazuojie","html_url":"https://github.com/xiazuojie","followers_url":"https://api.github.com/users/xiazuojie/followers","following_url":"https://api.github.com/users/xiazuojie/following{/other_user}","gists_url":"https://api.github.com/users/xiazuojie/gists{/gist_id}","starred_url":"https://api.github.com/users/xiazuojie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiazuojie/subscriptions","organizations_url":"https://api.github.com/users/xiazuojie/orgs","repos_url":"https://api.github.com/users/xiazuojie/repos","events_url":"https://api.github.com/users/xiazuojie/events{/privacy}","received_events_url":"https://api.github.com/users/xiazuojie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-20T02:24:02Z","performed_via_github_app":null},{"id":5041676220,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNDE2NzYyMjA=","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/5041676220","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d10ac6912f2e076f147a21ea198818a20e68442e","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/d10ac6912f2e076f147a21ea198818a20e68442e","created_at":"2021-07-20T02:40:50Z","performed_via_github_app":null},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T02:55:19Z","updated_at":"2021-07-20T02:55:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642","repository_url":"https://api.github.com/repos/FasterXML/jackson-core","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642/events","html_url":"https://github.com/FasterXML/jackson-core/pull/642","id":713741782,"node_id":"MDExOlB1bGxSZXF1ZXN0NDk3MDA2MDA1","number":642,"title":"Applying modification pattern in #385 to FilteringParserDelegate#_nextToken2","user":{"login":"T45K","id":38446259,"node_id":"MDQ6VXNlcjM4NDQ2MjU5","avatar_url":"https://avatars.githubusercontent.com/u/38446259?v=4","gravatar_id":"","url":"https://api.github.com/users/T45K","html_url":"https://github.com/T45K","followers_url":"https://api.github.com/users/T45K/followers","following_url":"https://api.github.com/users/T45K/following{/other_user}","gists_url":"https://api.github.com/users/T45K/gists{/gist_id}","starred_url":"https://api.github.com/users/T45K/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T45K/subscriptions","organizations_url":"https://api.github.com/users/T45K/orgs","repos_url":"https://api.github.com/users/T45K/repos","events_url":"https://api.github.com/users/T45K/events{/privacy}","received_events_url":"https://api.github.com/users/T45K/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-02T16:16:37Z","updated_at":"2021-07-20T02:55:51Z","closed_at":"2021-07-20T02:55:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3037907,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM3OTA3","name":"jackson-core","full_name":"FasterXML/jackson-core","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-core","description":"Core part of Jackson that defines Streaming API as well as basic shared abstractions","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-core","forks_url":"https://api.github.com/repos/FasterXML/jackson-core/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-core/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-core/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-core/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-core/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-core/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-core/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-core/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-core/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-core/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-core/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-core/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-core/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-core/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-core/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-core/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-core/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-core/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-core/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-core/deployments","created_at":"2011-12-23T02:00:51Z","updated_at":"2025-11-07T22:08:37Z","pushed_at":"2025-11-07T22:08:31Z","git_url":"git://github.com/FasterXML/jackson-core.git","ssh_url":"git@github.com:FasterXML/jackson-core.git","clone_url":"https://github.com/FasterXML/jackson-core.git","svn_url":"https://github.com/FasterXML/jackson-core","homepage":"","size":27088,"stargazers_count":2331,"watchers_count":2331,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":820,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":27,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","json"],"visibility":"public","forks":820,"open_issues":27,"watchers":2331,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/FasterXML/jackson-core/pulls/642","html_url":"https://github.com/FasterXML/jackson-core/pull/642","diff_url":"https://github.com/FasterXML/jackson-core/pull/642.diff","patch_url":"https://github.com/FasterXML/jackson-core/pull/642.patch","merged_at":null},"body":"In #385, `FilteringParserDelegate#nextToken` was modified, but its similar method, `_nextToken2` was not modified.\r\nIsn't the same modification needed?","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/642/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-10T17:06:05Z","updated_at":"2021-09-10T17:06:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154/events","html_url":"https://github.com/elastic/elasticsearch/pull/77154","id":985731218,"node_id":"MDExOlB1bGxSZXF1ZXN0NzI0OTk5Mzc0","number":77154,"title":"Memory efficient xcontent filtering","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":73544,"node_id":"MDU6TGFiZWw3MzU0NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Enon-issue","name":">non-issue","color":"cfcfcf","default":false,"description":null},{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":1967498216,"node_id":"MDU6TGFiZWwxOTY3NDk4MjE2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Search","name":"Team:Search","color":"fef2c0","default":false,"description":"Meta label for search team"},{"id":3273858679,"node_id":"MDU6TGFiZWwzMjczODU4Njc5","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.16.0","name":"v7.16.0","color":"dddddd","default":false,"description":""},{"id":3493305981,"node_id":"LA_kwDOAAe_f87QN559","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v8.0.0-beta1","name":"v8.0.0-beta1","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2021-09-01T21:47:40Z","updated_at":"2021-12-16T17:19:51Z","closed_at":"2021-09-13T17:34:14Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":507775,"node_id":"MDEwOlJlcG9zaXRvcnk1MDc3NzU=","name":"elasticsearch","full_name":"elastic/elasticsearch","private":false,"owner":{"login":"elastic","id":6764390,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY3NjQzOTA=","avatar_url":"https://avatars.githubusercontent.com/u/6764390?v=4","gravatar_id":"","url":"https://api.github.com/users/elastic","html_url":"https://github.com/elastic","followers_url":"https://api.github.com/users/elastic/followers","following_url":"https://api.github.com/users/elastic/following{/other_user}","gists_url":"https://api.github.com/users/elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elastic/subscriptions","organizations_url":"https://api.github.com/users/elastic/orgs","repos_url":"https://api.github.com/users/elastic/repos","events_url":"https://api.github.com/users/elastic/events{/privacy}","received_events_url":"https://api.github.com/users/elastic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/elastic/elasticsearch","description":"Free and Open Source, Distributed, RESTful Search Engine","fork":false,"url":"https://api.github.com/repos/elastic/elasticsearch","forks_url":"https://api.github.com/repos/elastic/elasticsearch/forks","keys_url":"https://api.github.com/repos/elastic/elasticsearch/keys{/key_id}","collaborators_url":"https://api.github.com/repos/elastic/elasticsearch/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/elastic/elasticsearch/teams","hooks_url":"https://api.github.com/repos/elastic/elasticsearch/hooks","issue_events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/events{/number}","events_url":"https://api.github.com/repos/elastic/elasticsearch/events","assignees_url":"https://api.github.com/repos/elastic/elasticsearch/assignees{/user}","branches_url":"https://api.github.com/repos/elastic/elasticsearch/branches{/branch}","tags_url":"https://api.github.com/repos/elastic/elasticsearch/tags","blobs_url":"https://api.github.com/repos/elastic/elasticsearch/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/elastic/elasticsearch/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/elastic/elasticsearch/git/refs{/sha}","trees_url":"https://api.github.com/repos/elastic/elasticsearch/git/trees{/sha}","statuses_url":"https://api.github.com/repos/elastic/elasticsearch/statuses/{sha}","languages_url":"https://api.github.com/repos/elastic/elasticsearch/languages","stargazers_url":"https://api.github.com/repos/elastic/elasticsearch/stargazers","contributors_url":"https://api.github.com/repos/elastic/elasticsearch/contributors","subscribers_url":"https://api.github.com/repos/elastic/elasticsearch/subscribers","subscription_url":"https://api.github.com/repos/elastic/elasticsearch/subscription","commits_url":"https://api.github.com/repos/elastic/elasticsearch/commits{/sha}","git_commits_url":"https://api.github.com/repos/elastic/elasticsearch/git/commits{/sha}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/comments{/number}","issue_comment_url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments{/number}","contents_url":"https://api.github.com/repos/elastic/elasticsearch/contents/{+path}","compare_url":"https://api.github.com/repos/elastic/elasticsearch/compare/{base}...{head}","merges_url":"https://api.github.com/repos/elastic/elasticsearch/merges","archive_url":"https://api.github.com/repos/elastic/elasticsearch/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/elastic/elasticsearch/downloads","issues_url":"https://api.github.com/repos/elastic/elasticsearch/issues{/number}","pulls_url":"https://api.github.com/repos/elastic/elasticsearch/pulls{/number}","milestones_url":"https://api.github.com/repos/elastic/elasticsearch/milestones{/number}","notifications_url":"https://api.github.com/repos/elastic/elasticsearch/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/elastic/elasticsearch/labels{/name}","releases_url":"https://api.github.com/repos/elastic/elasticsearch/releases{/id}","deployments_url":"https://api.github.com/repos/elastic/elasticsearch/deployments","created_at":"2010-02-08T13:20:56Z","updated_at":"2025-11-08T18:18:08Z","pushed_at":"2025-11-08T16:44:21Z","git_url":"git://github.com/elastic/elasticsearch.git","ssh_url":"git@github.com:elastic/elasticsearch.git","clone_url":"https://github.com/elastic/elasticsearch.git","svn_url":"https://github.com/elastic/elasticsearch","homepage":"https://www.elastic.co/products/elasticsearch","size":1502124,"stargazers_count":75387,"watchers_count":75387,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":25596,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":5498,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["elasticsearch","java","search-engine"],"visibility":"public","forks":25596,"open_issues":5498,"watchers":75387,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/elastic/elasticsearch/pulls/77154","html_url":"https://github.com/elastic/elasticsearch/pull/77154","diff_url":"https://github.com/elastic/elasticsearch/pull/77154.diff","patch_url":"https://github.com/elastic/elasticsearch/pull/77154.patch","merged_at":"2021-09-13T17:34:14Z"},"body":"I found myself needing support for something like `filter_path` on\r\n`XContentParser`. It was simple enough to plug it in so I did. Then I\r\nrealized that it might offer more memory efficient source filtering\r\n(#25168) so I put together a quick benchmark comparing the source\r\nfiltering that we do in `_search`. This doesn't actually make the change\r\nto the source fetching phase - it just benchmarks how it'd be.\r\n\r\nFiltering using the parser is about 33% faster than how we filter now\r\nwhen you select a single field from a 300 byte document:\r\n```\r\nBenchmark                                          (excludes)  (includes)  (source)  Mode  Cnt     Score    Error  Units\r\nFetchSourcePhaseBenchmark.filterObjects                           message     short  avgt    5  2360.342   4.715  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentOnBuilder                 message     short  avgt    5  2010.278  15.042  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentOnParser                  message     short  avgt    5  1588.446  18.593  ns/op\r\n```\r\n\r\nThe top line is the way we filter now. The middle line is adding a\r\nfilter to `XContentBuilder` - something we can do right now without any\r\nof my plumbing work. The bottom line is filtering on the parser,\r\nrequiring all the new plumbing.\r\n\r\nThis isn't particularly impresive. 33% *sounds* great! But 700\r\nnanoseconds per document isn't going to cut into anyone's search times.\r\nIf you fetch a thousand docuents that's .7 milliseconds of savings.\r\n\r\nBut we mostly advise folks to use source filtering on fetch when the\r\nsource is large and you only want a small part of it. So I tried when\r\nthe source is about 4.3kb and you want a single field:\r\n```\r\nBenchmark                                          (excludes)  (includes)      (source)  Mode  Cnt     Score     Error  Units\r\nFetchSourcePhaseBenchmark.filterObjects                           message  one_4k_field  avgt    5  5957.128  117.402  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentOnBuilder                 message  one_4k_field  avgt    5  4999.073   96.003  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentonParser                  message  one_4k_field  avgt    5  3261.478   48.879  ns/op\r\n```\r\n\r\nThat's 45% faster. Put another way, 2.7 microseconds a document. Not\r\nbad!\r\n\r\nBut have a look at how things come out when you want a single field from\r\na 4 *megabyte* document:\r\n```\r\nBenchmark                                          (excludes)  (includes)      (source)  Mode  Cnt        Score        Error  Units\r\nFetchSourcePhaseBenchmark.filterObjects                           message  one_4m_field  avgt    5  8266343.036  176197.077  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentOnBuilder                 message  one_4m_field  avgt    5  6227560.013   68306.318  ns/op\r\nFetchSourcePhaseBenchmark.filterXContentonParser                  message  one_4m_field  avgt    5  1617153.472   80164.547  ns/op\r\n```\r\n\r\nThese documents are very large. I've encountered documents like them in\r\nreal life, but they've always been the outlier for me. But a 6.5\r\nmillisecond per document savings ain't anything to sneeze at.\r\n\r\nTake a look at what you get when I turn on gc metrics:\r\n```\r\nFetchSourcePhaseBenchmark.filterObjects                          message  one_4m_field  avgt    5   7036097.561   84721.312   ns/op\r\nFetchSourcePhaseBenchmark.filterObjects:gc.alloc.rate           message  one_4m_field  avgt    5      2166.613      25.975  MB/sec\r\nFetchSourcePhaseBenchmark.filterXContentOnBuilder                message  one_4m_field  avgt    5   6104595.992   55445.508   ns/op\r\nFetchSourcePhaseBenchmark.filterXContentOnBuilder:gc.alloc.rate message  one_4m_field  avgt    5      2496.978      22.650  MB/sec\r\nFetchSourcePhaseBenchmark.filterXContentonParser                 message  one_4m_field  avgt    5   1614980.846   31716.956   ns/op\r\nFetchSourcePhaseBenchmark.filterXContentonParser:gc.alloc.rate  message  one_4m_field  avgt    5         1.755       0.035  MB/sec\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/elastic/elasticsearch/issues/77154/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"jhaber","id":611459,"node_id":"MDQ6VXNlcjYxMTQ1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/611459?v=4","gravatar_id":"","url":"https://api.github.com/users/jhaber","html_url":"https://github.com/jhaber","followers_url":"https://api.github.com/users/jhaber/followers","following_url":"https://api.github.com/users/jhaber/following{/other_user}","gists_url":"https://api.github.com/users/jhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/jhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhaber/subscriptions","organizations_url":"https://api.github.com/users/jhaber/orgs","repos_url":"https://api.github.com/users/jhaber/repos","events_url":"https://api.github.com/users/jhaber/events{/privacy}","received_events_url":"https://api.github.com/users/jhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-24T19:14:17Z","updated_at":"2022-01-24T19:14:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649","repository_url":"https://api.github.com/repos/FasterXML/jackson-core","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649/events","html_url":"https://github.com/FasterXML/jackson-core/issues/649","id":738173845,"node_id":"MDU6SXNzdWU3MzgxNzM4NDU=","number":649,"title":"Bug in FilteringParserDelegate","user":{"login":"jhaber","id":611459,"node_id":"MDQ6VXNlcjYxMTQ1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/611459?v=4","gravatar_id":"","url":"https://api.github.com/users/jhaber","html_url":"https://github.com/jhaber","followers_url":"https://api.github.com/users/jhaber/followers","following_url":"https://api.github.com/users/jhaber/following{/other_user}","gists_url":"https://api.github.com/users/jhaber/gists{/gist_id}","starred_url":"https://api.github.com/users/jhaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhaber/subscriptions","organizations_url":"https://api.github.com/users/jhaber/orgs","repos_url":"https://api.github.com/users/jhaber/repos","events_url":"https://api.github.com/users/jhaber/events{/privacy}","received_events_url":"https://api.github.com/users/jhaber/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-11-07T05:05:47Z","updated_at":"2022-01-27T16:39:11Z","closed_at":"2022-01-27T16:39:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3037907,"node_id":"MDEwOlJlcG9zaXRvcnkzMDM3OTA3","name":"jackson-core","full_name":"FasterXML/jackson-core","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-core","description":"Core part of Jackson that defines Streaming API as well as basic shared abstractions","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-core","forks_url":"https://api.github.com/repos/FasterXML/jackson-core/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-core/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-core/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-core/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-core/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-core/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-core/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-core/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-core/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-core/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-core/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-core/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-core/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-core/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-core/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-core/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-core/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-core/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-core/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-core/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-core/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-core/deployments","created_at":"2011-12-23T02:00:51Z","updated_at":"2025-11-07T22:08:37Z","pushed_at":"2025-11-07T22:08:31Z","git_url":"git://github.com/FasterXML/jackson-core.git","ssh_url":"git@github.com:FasterXML/jackson-core.git","clone_url":"https://github.com/FasterXML/jackson-core.git","svn_url":"https://github.com/FasterXML/jackson-core","homepage":"","size":27088,"stargazers_count":2331,"watchers_count":2331,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":820,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":27,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","jackson","json"],"visibility":"public","forks":820,"open_issues":27,"watchers":2331,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"There seems to be a bug in `FilteringParserDelegate` that specifically manifests when trying to filter out arrays. Here's a test that reproduces the behavior (can be added to `BasicParserFilteringTest`):\r\n```java\r\n    public void testExcludeArrays() throws Exception\r\n    {\r\n        class NoArraysFilter extends TokenFilter\r\n        {\r\n            @Override\r\n            public TokenFilter filterStartArray() {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        String jsonString = aposToQuotes(\"{'a':123,'array':[1,2]}\");\r\n        JsonParser p0 = JSON_F.createParser(jsonString);\r\n        FilteringParserDelegate p = new FilteringParserDelegate(p0,\r\n            new NoArraysFilter(),\r\n            true, // includePath\r\n            true // multipleMatches\r\n        );\r\n        String result = readAndWrite(JSON_F, p);\r\n        assertEquals(aposToQuotes(\"{'a':123}\"), result);\r\n        assertEquals(1, p.getMatchCount());\r\n    }\r\n```\r\n\r\nThis test fails with:\r\n```\r\njunit.framework.ComparisonFailure: \r\nExpected :{\"a\":123}\r\nActual   :{\"a\"}\r\n```\r\n\r\nI discovered this bug while adding test coverage for #573. However, I confirmed that the bug exists in jackson-core versions 2.8.9, 2.9.10, 2.10.5, and 2.11.3 (and therefore wasn't introduced in #573).\r\n\r\nNo one has complained yet, and a quick GitHub search suggests there isn't much code in the wild (if any) doing `filterStartArray() { return null; }` so I don't think it's a high priority to fix this. I mainly just wanted to log this issue so that I can link to it (above the commented out unit test)","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-core/issues/649/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]