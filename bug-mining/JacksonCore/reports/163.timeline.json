[{"id":11986287330,"node_id":"REFE_lADOAC5a086BBGgVzwAAAALKcDri","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/11986287330","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3cbc04f891f783062e3e1261f7ba05bdf3691f10","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/3cbc04f891f783062e3e1261f7ba05bdf3691f10","created_at":"2024-03-02T03:09:23Z","performed_via_github_app":null},{"id":11986309477,"node_id":"REFE_lADOAC5a086BBGgVzwAAAALKcJFl","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/11986309477","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5fa9105216e38cfb31808a8460e0d34824f2ffc6","commit_url":"https://api.github.com/repos/FasterXML/jackson-core/commits/5fa9105216e38cfb31808a8460e0d34824f2ffc6","created_at":"2024-03-02T03:21:23Z","performed_via_github_app":null},{"id":11986310075,"node_id":"CE_lADOAC5a086BBGgVzwAAAALKcJO7","url":"https://api.github.com/repos/FasterXML/jackson-core/issues/events/11986310075","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-02T03:21:44Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"edmocosta","id":11836452,"node_id":"MDQ6VXNlcjExODM2NDUy","avatar_url":"https://avatars.githubusercontent.com/u/11836452?v=4","gravatar_id":"","url":"https://api.github.com/users/edmocosta","html_url":"https://github.com/edmocosta","followers_url":"https://api.github.com/users/edmocosta/followers","following_url":"https://api.github.com/users/edmocosta/following{/other_user}","gists_url":"https://api.github.com/users/edmocosta/gists{/gist_id}","starred_url":"https://api.github.com/users/edmocosta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edmocosta/subscriptions","organizations_url":"https://api.github.com/users/edmocosta/orgs","repos_url":"https://api.github.com/users/edmocosta/repos","events_url":"https://api.github.com/users/edmocosta/events{/privacy}","received_events_url":"https://api.github.com/users/edmocosta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-24T13:46:00Z","updated_at":"2024-12-24T13:46:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/elastic/logstash/issues/16832","repository_url":"https://api.github.com/repos/elastic/logstash","labels_url":"https://api.github.com/repos/elastic/logstash/issues/16832/labels{/name}","comments_url":"https://api.github.com/repos/elastic/logstash/issues/16832/comments","events_url":"https://api.github.com/repos/elastic/logstash/issues/16832/events","html_url":"https://github.com/elastic/logstash/pull/16832","id":2756961865,"node_id":"PR_kwDOABCjB86GIOEm","number":16832,"title":"Apply Jackson stream read constraints defaults at runtime","user":{"login":"donoghuc","id":15354214,"node_id":"MDQ6VXNlcjE1MzU0MjE0","avatar_url":"https://avatars.githubusercontent.com/u/15354214?v=4","gravatar_id":"","url":"https://api.github.com/users/donoghuc","html_url":"https://github.com/donoghuc","followers_url":"https://api.github.com/users/donoghuc/followers","following_url":"https://api.github.com/users/donoghuc/following{/other_user}","gists_url":"https://api.github.com/users/donoghuc/gists{/gist_id}","starred_url":"https://api.github.com/users/donoghuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donoghuc/subscriptions","organizations_url":"https://api.github.com/users/donoghuc/orgs","repos_url":"https://api.github.com/users/donoghuc/repos","events_url":"https://api.github.com/users/donoghuc/events{/privacy}","received_events_url":"https://api.github.com/users/donoghuc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":90997092,"node_id":"MDU6TGFiZWw5MDk5NzA5Mg==","url":"https://api.github.com/repos/elastic/logstash/labels/bug","name":"bug","color":"9e2c2c","default":true,"description":null},{"id":7777410564,"node_id":"LA_kwDOABCjB88AAAABz5HeBA","url":"https://api.github.com/repos/elastic/logstash/labels/v8.18.0","name":"v8.18.0","color":"ededed","default":false,"description":null},{"id":7890118866,"node_id":"LA_kwDOABCjB88AAAAB1kmo0g","url":"https://api.github.com/repos/elastic/logstash/labels/v8.17.1","name":"v8.17.1","color":"ededed","default":false,"description":null},{"id":7906853224,"node_id":"LA_kwDOABCjB88AAAAB10kBaA","url":"https://api.github.com/repos/elastic/logstash/labels/v8.16.3","name":"v8.16.3","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-12-24T01:02:53Z","updated_at":"2025-01-02T22:53:35Z","closed_at":"2025-01-02T22:52:39Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":1090311,"node_id":"MDEwOlJlcG9zaXRvcnkxMDkwMzEx","name":"logstash","full_name":"elastic/logstash","private":false,"owner":{"login":"elastic","id":6764390,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY3NjQzOTA=","avatar_url":"https://avatars.githubusercontent.com/u/6764390?v=4","gravatar_id":"","url":"https://api.github.com/users/elastic","html_url":"https://github.com/elastic","followers_url":"https://api.github.com/users/elastic/followers","following_url":"https://api.github.com/users/elastic/following{/other_user}","gists_url":"https://api.github.com/users/elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elastic/subscriptions","organizations_url":"https://api.github.com/users/elastic/orgs","repos_url":"https://api.github.com/users/elastic/repos","events_url":"https://api.github.com/users/elastic/events{/privacy}","received_events_url":"https://api.github.com/users/elastic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/elastic/logstash","description":"Logstash - transport and process your logs, events, or other data","fork":false,"url":"https://api.github.com/repos/elastic/logstash","forks_url":"https://api.github.com/repos/elastic/logstash/forks","keys_url":"https://api.github.com/repos/elastic/logstash/keys{/key_id}","collaborators_url":"https://api.github.com/repos/elastic/logstash/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/elastic/logstash/teams","hooks_url":"https://api.github.com/repos/elastic/logstash/hooks","issue_events_url":"https://api.github.com/repos/elastic/logstash/issues/events{/number}","events_url":"https://api.github.com/repos/elastic/logstash/events","assignees_url":"https://api.github.com/repos/elastic/logstash/assignees{/user}","branches_url":"https://api.github.com/repos/elastic/logstash/branches{/branch}","tags_url":"https://api.github.com/repos/elastic/logstash/tags","blobs_url":"https://api.github.com/repos/elastic/logstash/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/elastic/logstash/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/elastic/logstash/git/refs{/sha}","trees_url":"https://api.github.com/repos/elastic/logstash/git/trees{/sha}","statuses_url":"https://api.github.com/repos/elastic/logstash/statuses/{sha}","languages_url":"https://api.github.com/repos/elastic/logstash/languages","stargazers_url":"https://api.github.com/repos/elastic/logstash/stargazers","contributors_url":"https://api.github.com/repos/elastic/logstash/contributors","subscribers_url":"https://api.github.com/repos/elastic/logstash/subscribers","subscription_url":"https://api.github.com/repos/elastic/logstash/subscription","commits_url":"https://api.github.com/repos/elastic/logstash/commits{/sha}","git_commits_url":"https://api.github.com/repos/elastic/logstash/git/commits{/sha}","comments_url":"https://api.github.com/repos/elastic/logstash/comments{/number}","issue_comment_url":"https://api.github.com/repos/elastic/logstash/issues/comments{/number}","contents_url":"https://api.github.com/repos/elastic/logstash/contents/{+path}","compare_url":"https://api.github.com/repos/elastic/logstash/compare/{base}...{head}","merges_url":"https://api.github.com/repos/elastic/logstash/merges","archive_url":"https://api.github.com/repos/elastic/logstash/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/elastic/logstash/downloads","issues_url":"https://api.github.com/repos/elastic/logstash/issues{/number}","pulls_url":"https://api.github.com/repos/elastic/logstash/pulls{/number}","milestones_url":"https://api.github.com/repos/elastic/logstash/milestones{/number}","notifications_url":"https://api.github.com/repos/elastic/logstash/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/elastic/logstash/labels{/name}","releases_url":"https://api.github.com/repos/elastic/logstash/releases{/id}","deployments_url":"https://api.github.com/repos/elastic/logstash/deployments","created_at":"2010-11-18T01:31:50Z","updated_at":"2025-11-07T08:51:38Z","pushed_at":"2025-11-06T16:59:30Z","git_url":"git://github.com/elastic/logstash.git","ssh_url":"git@github.com:elastic/logstash.git","clone_url":"https://github.com/elastic/logstash.git","svn_url":"https://github.com/elastic/logstash","homepage":"https://www.elastic.co/products/logstash","size":132464,"stargazers_count":14696,"watchers_count":14696,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3520,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2219,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["etl-framework","java","jruby","logging","real-time-processing","streaming"],"visibility":"public","forks":3520,"open_issues":2219,"watchers":14696,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/elastic/logstash/pulls/16832","html_url":"https://github.com/elastic/logstash/pull/16832","diff_url":"https://github.com/elastic/logstash/pull/16832.diff","patch_url":"https://github.com/elastic/logstash/pull/16832.patch","merged_at":"2025-01-02T22:52:39Z"},"body":"<!-- Type of change\r\nPlease label this PR with the release version and one of the following labels, depending on the scope of your change:\r\n- bug\r\n- enhancement\r\n- breaking change\r\n- doc\r\n-->\r\n\r\n## Release notes\r\n\r\nEnsure that the Jackson read constraints defaults (Maximum Number value length, Maximum String value length, and Maximum Nesting depth) are applied at runtime if they are absent from `jvm.options`. \r\n\r\n\r\n## What does this PR do?\r\n\r\nWhen Logstash 8.12.0 added increased Jackson stream read constraints to jvm.options, assumptions about the existence of that file's contents were invalidated. This led to issues like #16683.\r\n\r\nThis change ensures Logstash applies defaults from config at runtime:\r\n- MAX_STRING_LENGTH: 200_000_000\r\n- MAX_NUMBER_LENGTH: 10_000\r\n- MAX_NESTING_DEPTH: 1_000\r\n\r\nThese match the jvm.options defaults and are applied even when config is missing. Config values still override these defaults when present.\r\n\r\n## Why is it important/What is the impact to the user?\r\n\r\nUsers who have custom `jvm.options` files or have files that are not being updated with defaults in latest Logstash releases will still get the defaults we intend configure for the Jackson parsing lib.  \r\n\r\n## Checklist\r\n\r\n<!-- Mandatory\r\nAdd a checklist of things that are required to be reviewed in order to have the PR approved\r\n\r\nList here all the items you have verified BEFORE sending this PR. Please DO NOT remove any item, striking through those that do not apply. (Just in case, strikethrough uses two tildes. ~~Scratch this.~~)\r\n-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- ~[ ] I have made corresponding changes to the documentation~\r\n- ~[ ] I have made corresponding change to the default configuration files (and/or docker env variables)~\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n\r\n\r\n## Related issues\r\nCloses https://github.com/elastic/logstash/issues/16773\r\n","reactions":{"url":"https://api.github.com/repos/elastic/logstash/issues/16832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/elastic/logstash/issues/16832/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]