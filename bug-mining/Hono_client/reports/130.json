{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022","repository_url":"https://api.github.com/repos/eclipse-hono/hono","labels_url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022/labels{/name}","comments_url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022/comments","events_url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022/events","html_url":"https://github.com/eclipse-hono/hono/issues/1022","id":406352205,"node_id":"MDU6SXNzdWU0MDYzNTIyMDU=","number":1022,"title":"Hono client may become stalled while connecting because of stalled state in AMQP connection stack","user":{"login":"DanielMaier-BSI","id":9269795,"node_id":"MDQ6VXNlcjkyNjk3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/9269795?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielMaier-BSI","html_url":"https://github.com/DanielMaier-BSI","followers_url":"https://api.github.com/users/DanielMaier-BSI/followers","following_url":"https://api.github.com/users/DanielMaier-BSI/following{/other_user}","gists_url":"https://api.github.com/users/DanielMaier-BSI/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielMaier-BSI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielMaier-BSI/subscriptions","organizations_url":"https://api.github.com/users/DanielMaier-BSI/orgs","repos_url":"https://api.github.com/users/DanielMaier-BSI/repos","events_url":"https://api.github.com/users/DanielMaier-BSI/events{/privacy}","received_events_url":"https://api.github.com/users/DanielMaier-BSI/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":323160608,"node_id":"MDU6TGFiZWwzMjMxNjA2MDg=","url":"https://api.github.com/repos/eclipse-hono/hono/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":643682479,"node_id":"MDU6TGFiZWw2NDM2ODI0Nzk=","url":"https://api.github.com/repos/eclipse-hono/hono/labels/Client","name":"Client","color":"0e8a16","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/eclipse-hono/hono/milestones/18","html_url":"https://github.com/eclipse-hono/hono/milestone/18","labels_url":"https://api.github.com/repos/eclipse-hono/hono/milestones/18/labels","id":3781949,"node_id":"MDk6TWlsZXN0b25lMzc4MTk0OQ==","number":18,"title":"0.9","description":"https://projects.eclipse.org/projects/iot.hono/releases/0.9","creator":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":119,"state":"closed","created_at":"2018-10-30T13:36:24Z","updated_at":"2019-03-05T17:17:31Z","due_on":"2019-02-25T08:00:00Z","closed_at":"2019-02-26T15:07:37Z"},"comments":7,"created_at":"2019-02-04T14:23:44Z","updated_at":"2019-02-20T11:36:57Z","closed_at":"2019-02-20T11:36:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There are some states in AMQP connection stack used by hono where hono client ends up in a stalled state while connecting.\r\n\r\nExamples are: AMQP Server does not respond to AMQP open frame, Server does not respond while SASL handshake (see also https://github.com/vert-x3/vertx-proton/issues/92) and maybe some others.\r\n\r\nTo protect hono client against such states, caused by bugs or missing features in used libraries, I would suggest to introduce some kind of overall connection timeout for connection attempts as a fallback. This timeout should abort the running connection attempt and trigger, if configured, a connection retry. This timeout needs not necessarily to be configurable, perhaps it is sufficient and avoids confusion if hono calculates an appropriate value from the other timeouts like TCP timeout etc. \r\n\r\nWDYT?","closed_by":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eclipse-hono/hono/issues/1022/timeline","performed_via_github_app":null,"state_reason":"completed"}