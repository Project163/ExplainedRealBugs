[{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396163736","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-396163736","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":396163736,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjE2MzczNg==","user":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T08:29:30Z","updated_at":"2018-06-11T08:29:30Z","body":"A connection attempt of a HonoClient can fail at different levels:\r\n1. TCP level - possible reasons: host name cannot be resolved, no route to host, peer is not responding\r\n2. SASL level - possible reasons: client provided incorrect credentials, peer cannot verify credentials because credentials store is not available, client does not support SASL mechanisms offered by peer\r\n3. AMQP level - possible reasons: client requires capabilities not offered by the peer, desired session size not supported by peer etc.\r\n\r\nWe should try to address these issues in a way that the client can recover from most of these problems autonomously, i.e. without requiring a restart of the component that the client is part of.\r\n\r\nYour investigation seems to have revealed that at the TCP level, the proton client does not do a fresh DNS lookup for each (re-)connection attempt which can result in attempts to connect to a *stale* or *non-existent* peer address. I agree that in order to address this problem, we could set the reconnect attempts at the TCP level to a fixed number (e.g. 3) and after that, trigger a new connection attempt based on a configuration option at the Hono Client level.\r\n\r\nProblems at level 2 occur only after a TCP connection has been successfully established. For the time being we are not able to distinguish between the possible causes for the SASL handshake failure, so we currently simply try to re-connect to the peer based on the number of reconnection attempts configured at the TCP level. I also think that we should decouple this behavior from the configuration at the TCP level, e.g. by introducing a new configuration property at the HonoClient level for setting the number of reconnection attempts to perform at the SASL and AMQP level.\r\n\r\nFinally, at the AMQP level, we are mostly dealing with implementation errors which need to be addressed by fixing the corresponding source code. FMPOV we currently do not have a problem at this level.\r\n\r\n@pho-enix does this match your assessment?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396163736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1673283810,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY3MzI4MzgxMA==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1673283810","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-11T08:29:30Z","performed_via_github_app":null},{"id":1673283811,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NzMyODM4MTE=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1673283811","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-11T08:29:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396166811","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-396166811","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":396166811,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjE2NjgxMQ==","user":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T08:40:12Z","updated_at":"2018-06-11T08:40:12Z","body":"@sophokles73 great to hear that you share my objections. Yes, with the proposed changes we will provide improvements for issues on level 1. I also agree that this will no influence levels 2 and 3 - I didn't observe any particular issues in those areas.\r\n\r\nLooking forward for this new HonoClient property.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396166811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1673305223,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY3MzMwNTIyMw==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1673305223","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-11T08:40:12Z","performed_via_github_app":null},{"id":1673305224,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NzMzMDUyMjQ=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1673305224","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-11T08:40:12Z","performed_via_github_app":null},{"id":1676718613,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNjc2NzE4NjEz","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1676718613","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-06-12T16:09:39Z","assignee":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":1676718863,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE2NzY3MTg4NjM=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1676718863","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-06-12T16:09:46Z","milestone":{"title":"0.7"},"performed_via_github_app":null},{"id":1676719538,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NzY3MTk1Mzg=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1676719538","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-12T16:10:05Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":1676719543,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NzY3MTk1NDM=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1676719543","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-12T16:10:05Z","label":{"name":"Client","color":"0e8a16"},"performed_via_github_app":null},{"id":1678473006,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2Nzg0NzMwMDY=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1678473006","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c667fb87a1129c53cdda8c1c7f6800e247b3df8d","commit_url":"https://api.github.com/repos/eclipse-hono/hono/commits/c667fb87a1129c53cdda8c1c7f6800e247b3df8d","created_at":"2018-06-13T11:29:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396905566","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-396905566","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":396905566,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjkwNTU2Ng==","user":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T11:31:02Z","updated_at":"2018-06-13T11:31:02Z","body":"@pho-enix I have pushed some changes that should address the issue. See `HonoClient` JavaDoc for details. Can you check if this indeed solves your problem and if so, close this issue?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396905566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1678475633,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY3ODQ3NTYzMw==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1678475633","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-13T11:31:02Z","performed_via_github_app":null},{"id":1678475634,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2Nzg0NzU2MzQ=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1678475634","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-13T11:31:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396952683","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-396952683","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":396952683,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njk1MjY4Mw==","user":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T14:14:20Z","updated_at":"2018-06-13T14:14:20Z","body":"I took your changes and configured `config.setReconnectAttempts(10);`.\r\n\r\n* The client correctly stops reconnects after 11 attempts in reconnect handler\r\n* For each call of the reconnect handler there is a fresh DNS lookup performed\r\n\r\nWorks very good for me. Thanks for this improvement.\r\n\r\nMaybe you want to simply the Example Client:\r\n```\r\ndiff --git a/example/src/main/java/org/eclipse/hono/example/AbstractExampleClient.java b/example/src/main/java/org/eclipse/hono/example/AbstractExampleClient.java\r\nindex 6a9d135..9348d87 100644\r\n--- a/example/src/main/java/org/eclipse/hono/example/AbstractExampleClient.java\r\n+++ b/example/src/main/java/org/eclipse/hono/example/AbstractExampleClient.java\r\n@@ -34,7 +34,6 @@ import io.vertx.proton.ProtonClientOptions;\r\n abstract class AbstractExampleClient {\r\n \r\n     protected final Logger LOG = LoggerFactory.getLogger(getClass());\r\n-    protected final int DEFAULT_CONNECT_TIMEOUT_MILLIS = 1000;\r\n \r\n     protected Context ctx;\r\n     @Value(value = \"${tenant.id}\")\r\n@@ -64,8 +63,4 @@ abstract class AbstractExampleClient {\r\n     public final void setHonoClient(final HonoClient client) {\r\n         this.client = Objects.requireNonNull(client);\r\n     }\r\n-\r\n-    protected final ProtonClientOptions getClientOptions() {\r\n-        return new ProtonClientOptions().setConnectTimeout(DEFAULT_CONNECT_TIMEOUT_MILLIS).setReconnectAttempts(2);\r\n-    }\r\n }\r\ndiff --git a/example/src/main/java/org/eclipse/hono/example/AppConfiguration.java b/example/src/main/java/org/eclipse/hono/example/AppConfiguration.java\r\nindex 52c1529..41a1554 100644\r\n--- a/example/src/main/java/org/eclipse/hono/example/AppConfiguration.java\r\n+++ b/example/src/main/java/org/eclipse/hono/example/AppConfiguration.java\r\n@@ -60,6 +60,7 @@ public class AppConfiguration {\r\n     @Bean\r\n     public ClientConfigProperties honoClientConfig() {\r\n         final ClientConfigProperties config = new ClientConfigProperties();\r\n+        config.setReconnectAttempts(2);\r\n         return config;\r\n     }\r\n \r\ndiff --git a/example/src/main/java/org/eclipse/hono/example/ExampleReceiver.java b/example/src/main/java/org/eclipse/hono/example/ExampleReceiver.java\r\nindex 74ec9f0..7b1f272 100644\r\n--- a/example/src/main/java/org/eclipse/hono/example/ExampleReceiver.java\r\n+++ b/example/src/main/java/org/eclipse/hono/example/ExampleReceiver.java\r\n@@ -46,7 +46,7 @@ public class ExampleReceiver extends AbstractExampleClient {\r\n     @PostConstruct\r\n     private void start() {\r\n \r\n-        client.connect(getClientOptions(), this::onDisconnect)\r\n+        client.connect(this::onDisconnect)\r\n             .compose(connectedClient -> createConsumer(connectedClient))\r\n             .setHandler(startup -> {\r\n                 if (startup.succeeded()) {\r\n@@ -81,7 +81,7 @@ public class ExampleReceiver extends AbstractExampleClient {\r\n         // give Vert.x some time to clean up NetClient\r\n         vertx.setTimer(DEFAULT_CONNECT_TIMEOUT_MILLIS, reconnect -> {\r\n             LOG.info(\"attempting to re-connect to Hono ...\");\r\n-            client.connect(getClientOptions(), this::onDisconnect).compose(connectedClient -> createConsumer(connectedClient));\r\n+            client.connect(this::onDisconnect).compose(connectedClient -> createConsumer(connectedClient));\r\n         });\r\n     }\r\n ```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396952683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1679036331,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2NzkwMzYzMzE=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1679036331","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7e44d5169120020df9dc0713e74c428a6e68ca48","commit_url":"https://api.github.com/repos/eclipse-hono/hono/commits/7e44d5169120020df9dc0713e74c428a6e68ca48","created_at":"2018-06-13T15:27:28Z","performed_via_github_app":null},{"id":1679036333,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2NzkwMzYzMzM=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1679036333","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d14efc8f6a0d68cf328dd5df5b272a487faabda8","commit_url":"https://api.github.com/repos/eclipse-hono/hono/commits/d14efc8f6a0d68cf328dd5df5b272a487faabda8","created_at":"2018-06-13T15:27:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396979930","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-396979930","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":396979930,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njk3OTkzMA==","user":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T15:28:37Z","updated_at":"2018-06-13T15:28:37Z","body":"@pho-enix  anything else?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/396979930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1679039291,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY3OTAzOTI5MQ==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1679039291","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-13T15:28:37Z","performed_via_github_app":null},{"id":1679039292,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NzkwMzkyOTI=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1679039292","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-13T15:28:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/397181131","html_url":"https://github.com/eclipse-hono/hono/issues/649#issuecomment-397181131","issue_url":"https://api.github.com/repos/eclipse-hono/hono/issues/649","id":397181131,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzE4MTEzMQ==","user":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-14T06:03:17Z","updated_at":"2018-06-14T06:03:17Z","body":"@sophokles73 Yes, closing the issue ;) Resolved","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eclipse-hono/hono/issues/comments/397181131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1680329092,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY4MDMyOTA5Mg==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1680329092","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-14T06:03:17Z","performed_via_github_app":null},{"id":1680329094,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2ODAzMjkwOTQ=","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1680329094","actor":{"login":"sophokles73","id":5682135,"node_id":"MDQ6VXNlcjU2ODIxMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5682135?v=4","gravatar_id":"","url":"https://api.github.com/users/sophokles73","html_url":"https://github.com/sophokles73","followers_url":"https://api.github.com/users/sophokles73/followers","following_url":"https://api.github.com/users/sophokles73/following{/other_user}","gists_url":"https://api.github.com/users/sophokles73/gists{/gist_id}","starred_url":"https://api.github.com/users/sophokles73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophokles73/subscriptions","organizations_url":"https://api.github.com/users/sophokles73/orgs","repos_url":"https://api.github.com/users/sophokles73/repos","events_url":"https://api.github.com/users/sophokles73/events{/privacy}","received_events_url":"https://api.github.com/users/sophokles73/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-14T06:03:17Z","performed_via_github_app":null},{"id":1680329099,"node_id":"MDExOkNsb3NlZEV2ZW50MTY4MDMyOTA5OQ==","url":"https://api.github.com/repos/eclipse-hono/hono/issues/events/1680329099","actor":{"login":"pho-enix","id":19666623,"node_id":"MDQ6VXNlcjE5NjY2NjIz","avatar_url":"https://avatars.githubusercontent.com/u/19666623?v=4","gravatar_id":"","url":"https://api.github.com/users/pho-enix","html_url":"https://github.com/pho-enix","followers_url":"https://api.github.com/users/pho-enix/followers","following_url":"https://api.github.com/users/pho-enix/following{/other_user}","gists_url":"https://api.github.com/users/pho-enix/gists{/gist_id}","starred_url":"https://api.github.com/users/pho-enix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pho-enix/subscriptions","organizations_url":"https://api.github.com/users/pho-enix/orgs","repos_url":"https://api.github.com/users/pho-enix/repos","events_url":"https://api.github.com/users/pho-enix/events{/privacy}","received_events_url":"https://api.github.com/users/pho-enix/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-06-14T06:03:17Z","state_reason":null,"performed_via_github_app":null}]