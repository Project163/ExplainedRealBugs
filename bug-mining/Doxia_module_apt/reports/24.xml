<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:53:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DOXIA-482] add an API to avoid translating APT source comments into output comments</title>
                <link>https://issues.apache.org/jira/browse/DOXIA-482</link>
                <project id="12317230" key="DOXIA">Maven Doxia (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I have defined this as the very first lines in my apt file:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;~~ Copyright 2012 Michael Osipov
~~
~~ Licensed under the Apache License, Version 2.0 (the &lt;span class=&quot;code-quote&quot;&gt;&quot;License&quot;&lt;/span&gt;);
~~ you may not use &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file except in compliance with the License.
~~ You may obtain a copy of the License at
~~
~~     http:&lt;span class=&quot;code-comment&quot;&gt;//www.apache.org/licenses/LICENSE-2.0
&lt;/span&gt;~~
~~ Unless required by applicable law or agreed to in writing, software
~~ distributed under the License is distributed on an &lt;span class=&quot;code-quote&quot;&gt;&quot;AS IS&quot;&lt;/span&gt; BASIS,
~~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~~ See the License &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the specific language governing permissions and
~~ limitations under the License.

~~ $Id$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is unfortunately translated in&lt;br/&gt;
&lt;tt&gt;/html/body/div/div/div#bodyColumn&lt;/tt&gt; to a line-by-line comment&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;!-- Copyright 2012 Michael Osipov --&amp;gt;&amp;lt;!--  --&amp;gt;&amp;lt;!-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); --&amp;gt;&amp;lt;!-- you may not use this file except in compliance with the License. --&amp;gt;&amp;lt;!-- You may obtain a copy of the License at --&amp;gt;&amp;lt;!--  --&amp;gt;&amp;lt;!-- http://www.apache.org/licenses/LICENSE-2.0 --&amp;gt;&amp;lt;!--  --&amp;gt;&amp;lt;!-- Unless required by applicable law or agreed to in writing, software --&amp;gt;&amp;lt;!-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS, --&amp;gt;&amp;lt;!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --&amp;gt;&amp;lt;!-- See the License for the specific language governing permissions and --&amp;gt;&amp;lt;!-- limitations under the License. --&amp;gt;&amp;lt;!-- $Id$ --&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This, of course, is somewhat useless. I&apos;d rather would have split comments like in JSP or Velocity. Template comments are left out and HTML comments remain untouched.&lt;/p&gt;

&lt;p&gt;I obviously do not need the ASL somewhere in the middle of by page as comment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12801355">DOXIA-482</key>
            <summary>add an API to avoid translating APT source comments into output comments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hboutemy">Herv&#233; Boutemy</assignee>
                                    <reporter username="michael-o">Michael Osipov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jan 2013 15:07:53 +0000</created>
                <updated>Tue, 15 Jul 2025 09:58:43 +0000</updated>
                            <resolved>Tue, 2 Feb 2016 20:35:57 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Module - Apt</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14431976" author="sebb@apache.org" created="Fri, 7 Jun 2013 16:05:25 +0000"  >&lt;p&gt;I fully agree that APT comments should be omitted entirely from the output.&lt;/p&gt;

&lt;p&gt;This would also be useful for disabling certain sections of the file if they aren&apos;t yet ready for publication.&lt;br/&gt;
Also for adding developer notes that don&apos;t belong in the final output. etc.&lt;/p&gt;</comment>
                            <comment id="15076735" author="michael-o" created="Sun, 3 Jan 2016 00:53:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hboutemy&quot; class=&quot;user-hover&quot; rel=&quot;hboutemy&quot;&gt;hboutemy&lt;/a&gt;, I think we should finally admit that input comments should never result in output. It seems just to be line 2234 in &lt;tt&gt;AptParser&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15080398" author="hboutemy" created="Sun, 3 Jan 2016 11:06:18 +0000"  >&lt;p&gt;in fact, both usages of comments are useful, IMHO&lt;/p&gt;

&lt;p&gt;a workaround I use when I don&apos;t want to add comments in output is to use Velocity comments in Velocity processing&lt;/p&gt;

&lt;p&gt;I don&apos;t know how hard it would be to add an additional syntax for such &quot;hidden in output comments&quot;: a syntax like &lt;tt&gt;~~~&lt;/tt&gt; for example&lt;br/&gt;
this would let the choice to the user of whether his comment is useful in output or not&lt;/p&gt;</comment>
                            <comment id="15080409" author="michael-o" created="Sun, 3 Jan 2016 11:47:57 +0000"  >&lt;p&gt;I have applied the same workaround for years but I believe the behavior is inconsistent. In no markup language the comments land in the output format. I haven&apos;t tried Xdoc or Markdown but I do believe that their comments shouldn&apos;t be copied at all.&lt;/p&gt;</comment>
                            <comment id="15080417" author="hboutemy" created="Sun, 3 Jan 2016 12:35:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;In no markup language the comments land in the outpt format&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;this argument could be the right one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15080490" author="michael-o" created="Sun, 3 Jan 2016 18:06:08 +0000"  >&lt;p&gt;The author still can retain comments by using target format comments (if available). Shall I target this to 1.7?&lt;/p&gt;</comment>
                            <comment id="15080492" author="hboutemy" created="Sun, 3 Jan 2016 18:14:38 +0000"  >&lt;p&gt;while we&apos;re working on it, yes, we can do it for 1.7&lt;/p&gt;</comment>
                            <comment id="15080510" author="hboutemy" created="Sun, 3 Jan 2016 19:21:30 +0000"  >&lt;p&gt;notice that IIUC, the spirit of Doxia was to translate one markup into another with as few loss as possible.&lt;br/&gt;
With this &quot;drop comments feature&quot;, there is a little change in spirit&lt;br/&gt;
But since Daoxia is very Maven specific and used in site only, I suppose this is not really an issue&lt;/p&gt;</comment>
                            <comment id="15082173" author="hboutemy" created="Tue, 5 Jan 2016 01:29:55 +0000"  >&lt;p&gt;after thinking more at it, I&apos;d like to improve &lt;a href=&quot;http://maven.apache.org/doxia/doxia/doxia-core/apidocs/org/apache/maven/doxia/parser/Parser.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Parser API&lt;/a&gt; with a new &lt;tt&gt;setEmitComments(boolean render)&lt;/tt&gt;&lt;br/&gt;
by default, every parser has to render source comments to Sink API&lt;/p&gt;

&lt;p&gt;but when a use case doesn&apos;t want to render comments in output, it just has to call &lt;tt&gt;setEmitComments(false)&lt;/tt&gt;: this API could be used by Doxia Sitetools Doxia parsing.&lt;/p&gt;

&lt;p&gt;And this would not change the general behaviour and intend of general Doxia&lt;/p&gt;


&lt;p&gt;Notice that an equivalent &lt;tt&gt;setRenderComment(boolean)&lt;/tt&gt; feature can be added to Sink API, to drop comment even if comment event are emitted to Sink API (for example by a report).&lt;br/&gt;
But if a report emits comments, I think it expects them to be rendered: that&apos;s why I prefer to use the Parse API improvement in the case of Doxia Sitetool&lt;/p&gt;</comment>
                            <comment id="15083194" author="michael-o" created="Tue, 5 Jan 2016 15:07:43 +0000"  >&lt;p&gt;This is a very good idea. Here are some points to think about first:&lt;/p&gt;

&lt;p&gt;1. Given that I have an apt file in &lt;tt&gt;src/site/apt&lt;/tt&gt; how I am supposed to call &lt;tt&gt;setEmitComments(false)&lt;/tt&gt;? That should be a no-brainer w/o code modification.&lt;br/&gt;
2. I would not have the &lt;tt&gt;Sink&lt;/tt&gt; to drop comments because all calls to the &lt;tt&gt;Sink&lt;/tt&gt; are made by a caller deliberately and that should be honored.&lt;/p&gt;</comment>
                            <comment id="15083545" author="hboutemy" created="Tue, 5 Jan 2016 18:47:14 +0000"  >&lt;p&gt;since everything happens in &lt;a href=&quot;http://maven.apache.org/doxia/doxia-sitetools-archives/doxia-sitetools-LATEST/doxia-site-renderer/xref/org/apache/maven/doxia/siterenderer/DefaultSiteRenderer.html#L407&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DefaultDoxiaSiteRenderer.renderDocument(...)&lt;/a&gt;, it seems we&apos;ll need to add a new method to Doxia class to parse &quot;without comments&quot;&lt;/p&gt;

&lt;p&gt;the parser will drop the source comments, not the Sink implementation&lt;/p&gt;</comment>
                            <comment id="15083555" author="michael-o" created="Tue, 5 Jan 2016 18:53:30 +0000"  >&lt;p&gt;Just to get it straight. The parse must parse the comment otherwise it cannot check for the input&apos;s validity. It will drop comments when the traverse with &lt;tt&gt;sink.comment&lt;/tt&gt; happens. It will simply not pass the content to the sink.&lt;/p&gt;</comment>
                            <comment id="15084448" author="hboutemy" created="Wed, 6 Jan 2016 00:38:37 +0000"  >&lt;p&gt;yes, the parser parses source markup: and while parsing it calls Doxia Sink API on each event&lt;/p&gt;

&lt;p&gt;then comment markup is parsed, for sure: the parser just need to avoid to emit Doxia Sink comment events&lt;/p&gt;</comment>
                            <comment id="15113807" author="hboutemy" created="Sat, 23 Jan 2016 16:02:57 +0000"  >&lt;p&gt;API added, but I fear this is contrary to &lt;a href=&quot;https://issues.apache.org/jira/browse/DOXIA-532&quot; title=&quot;Update handling of comments for Server Side Includes (ie comments starting with #)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DOXIA-532&quot;&gt;&lt;del&gt;DOXIA-532&lt;/del&gt;&lt;/a&gt; = use of comments for SSI&lt;/p&gt;

&lt;p&gt;I&apos;m not really sure we should remove comments...&lt;/p&gt;</comment>
                            <comment id="15113809" author="hudson" created="Sat, 23 Jan 2016 16:05:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in doxia-all #223 (See &lt;a href=&quot;https://builds.apache.org/job/doxia-all/223/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/doxia-all/223/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DOXIA-482&quot; title=&quot;add an API to avoid translating APT source comments into output comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DOXIA-482&quot;&gt;&lt;del&gt;DOXIA-482&lt;/del&gt;&lt;/a&gt; added an API to define if comments from source markup are emitted as Doxia comment events (hboutemy: &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1726407&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1726407&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;./doxia/doxia-core/src/main/java/org/apache/maven/doxia/parser/AbstractParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-core/src/main/java/org/apache/maven/doxia/parser/AbstractXmlParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-core/src/main/java/org/apache/maven/doxia/parser/Parser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-core/src/main/java/org/apache/maven/doxia/parser/XhtmlBaseParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-modules/doxia-module-apt/src/main/java/org/apache/maven/doxia/module/apt/AptParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-modules/doxia-module-docbook-simple/src/main/java/org/apache/maven/doxia/module/docbook/DocBookParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/doxia-modules/doxia-module-fml/src/main/java/org/apache/maven/doxia/module/fml/FmlParser.java&lt;/li&gt;
	&lt;li&gt;./doxia/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15115996" author="michael-o" created="Mon, 25 Jan 2016 20:45:05 +0000"  >&lt;p&gt;SSIs abuse comments. They should rather be processing instructions.&lt;/p&gt;</comment>
                            <comment id="15128976" author="hboutemy" created="Tue, 2 Feb 2016 20:35:57 +0000"  >&lt;p&gt;ssi macro added&lt;br/&gt;
now we don&apos;t need to translate comment from source markup&lt;/p&gt;</comment>
                            <comment id="18005732" author="sparsick" created="Tue, 15 Jul 2025 09:58:43 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-doxia/issues/961&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-doxia#961&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12921120">DOXIA-532</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12927305">DOXIA-536</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12933603">DOXIASITETOOLS-146</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12780228" name="DOXIA-482.patch" size="4394" author="michael-o" created="Sun, 3 Jan 2016 01:29:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2a0zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>