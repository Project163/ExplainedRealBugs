<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:53:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DOXIA-361] Confluence: figure captions not rendered</title>
                <link>https://issues.apache.org/jira/browse/DOXIA-361</link>
                <project id="12317230" key="DOXIA">Maven Doxia (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Figure captions seem to go into the &amp;lt;img alt=&quot;&quot;&amp;gt; attribute, ie they are not rendered in the xhtml output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12801480">DOXIA-361</key>
            <summary>Confluence: figure captions not rendered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ltheussl">Lukas Theussl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 03:25:08 +0000</created>
                <updated>Tue, 15 Jul 2025 09:58:31 +0000</updated>
                            <resolved>Sat, 22 Jan 2022 16:34:50 +0000</resolved>
                                    <version>1.1</version>
                                                    <component>Module - Confluence</component>
                    <component>Module - Xhtml</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14432068" author="rfscholte" created="Wed, 10 Apr 2013 14:30:00 +0000"  >&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/maven/doxia/doxia/trunk/doxia-modules/doxia-module-xhtml/src/test/java/org/apache/maven/doxia/module/xhtml/XhtmlSinkTest.java?revision=1410919&amp;amp;view=markup#l179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;XhtmlSinkTest#getFigureBlock()&lt;/a&gt; seems to test this usecase and succeeds. Or are you talking about something else?&lt;/p&gt;</comment>
                            <comment id="14431993" author="ltheussl" created="Thu, 11 Apr 2013 00:37:15 +0000"  >&lt;p&gt;This issue is about the confluence parser. There is a test in doxia-site-renderer (see &lt;a href=&quot;http://svn.apache.org/viewvc/maven/doxia/doxia-sitetools/trunk/doxia-site-renderer/src/test/resources/site/confluence/confluence/figure.confluence?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;figure.confluence&lt;/a&gt;). As far as I can tell this test is not asserted, but the resulting figure.html file shows the defect.&lt;/p&gt;</comment>
                            <comment id="14432057" author="ltheussl" created="Thu, 11 Apr 2013 02:56:31 +0000"  >&lt;p&gt;The fix is simply to use sink events that take a SinkEventAttributeSet, see the Note at &lt;a href=&quot;http://maven.apache.org/doxia/issues/#Figure_sink_events&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/doxia/issues/#Figure_sink_events&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have checked by inspection that captions are rendered correctly in html output but got no time to properly implement a test case. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14432034" author="rfscholte" created="Fri, 12 Apr 2013 10:22:16 +0000"  >&lt;p&gt;I start to understand the confusion.&lt;br/&gt;
&lt;tt&gt;org.apache.maven.doxia.sink.XhtmlBaseSink.figure()&lt;/tt&gt; is marked as deprecated, but &lt;tt&gt;org.apache.maven.doxia.sink.Sink.figure()&lt;/tt&gt; not.&lt;br/&gt;
This is a weird situation, where the implementation decided to deprecate a method from the API.&lt;br/&gt;
So the &lt;tt&gt;ConfluenceParser&lt;/tt&gt; can call &lt;tt&gt;figure()&lt;/tt&gt; unless the &lt;tt&gt;XhtmlBaseSink&lt;/tt&gt; implementation is used. &lt;br/&gt;
We shouldn&apos;t accept special cases.&lt;br/&gt;
There are 2 options: deprecate &lt;tt&gt;org.apache.maven.doxia.sink.Sink.figure()&lt;/tt&gt; or fix &lt;tt&gt;org.apache.maven.doxia.sink.XhtmlBaseSink.figure()&lt;/tt&gt;. Agree?&lt;/p&gt;

</comment>
                            <comment id="14432093" author="ltheussl" created="Fri, 12 Apr 2013 13:05:00 +0000"  >&lt;p&gt;Hmm, I hadn&apos;t realized that... From an objective point of view, I&apos;d certainly go for option 2: XhtmlBaseSink.figure() should just forward to XhtmlBaseSink.figure( null ). Unfortunately, I don&apos;t remember the details but I suppose there were some backward-compat arguments to keep it the way it is, as otherwise I would not have specifically added the note linked above.&lt;/p&gt;</comment>
                            <comment id="14432014" author="rfscholte" created="Fri, 12 Apr 2013 14:41:33 +0000"  >&lt;p&gt;We probably have to break backwards compatibility, so pushing this forward to 2.0&lt;/p&gt;</comment>
                            <comment id="14432078" author="ltheussl" created="Fri, 12 Apr 2013 23:47:18 +0000"  >&lt;p&gt;Not sure if I&apos;m missing something but I think this issue, concerning only the confluence parser, should be fixed in 1.x. Fixing the XhtmlBaseSink should probably go into 2.0.&lt;/p&gt;</comment>
                            <comment id="14431975" author="rfscholte" created="Sat, 13 Apr 2013 02:58:50 +0000"  >&lt;p&gt;A quick scan tells me that &lt;tt&gt;Sink.figure()&lt;/tt&gt; is used by the &lt;tt&gt;ConfluenceParser&lt;/tt&gt;, &lt;tt&gt;AptParser&lt;/tt&gt; and &lt;tt&gt;TwikiParser&lt;/tt&gt;.&lt;br/&gt;
So the hotfix should be implemented for all these Parsers, which implies that &lt;tt&gt;Sink.figure()&lt;/tt&gt; would actually be deprecated.&lt;/p&gt;</comment>
                            <comment id="17480481" author="michael-o" created="Sat, 22 Jan 2022 16:34:50 +0000"  >&lt;p&gt;This module has been removed in 2.0.0-M1.&lt;/p&gt;</comment>
                            <comment id="18005647" author="sparsick" created="Tue, 15 Jul 2025 09:58:31 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-doxia/issues/360&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-doxia#360&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12715629" name="DOXIA-361.patch" size="838" author="lukas" created="Thu, 11 Apr 2013 02:56:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2a0lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>