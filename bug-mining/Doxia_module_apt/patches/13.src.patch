diff --git a/doxia-modules/doxia-module-apt/src/main/java/org/apache/maven/doxia/module/apt/AptParser.java b/doxia-modules/doxia-module-apt/src/main/java/org/apache/maven/doxia/module/apt/AptParser.java
index c15f44a0..bd069011 100644
--- a/doxia-modules/doxia-module-apt/src/main/java/org/apache/maven/doxia/module/apt/AptParser.java
+++ b/doxia-modules/doxia-module-apt/src/main/java/org/apache/maven/doxia/module/apt/AptParser.java
@@ -464,7 +464,8 @@ public class AptParser
 
                                 if ( hash.endsWith( ".html" ) && !hash.startsWith( "./" ) )
                                 {
-                                    String msg = "Ambiguous link: '" + hash + "'. If this is a local link, prepend \"./\"!";
+                                    String msg = "Ambiguous link: '" + hash
+                                            + "'. If this is a local link, prepend \"./\"!";
                                     logMessage( "ambiguousLink", msg );
                                 }
 
@@ -2890,6 +2891,11 @@ public class AptParser
             {
                 String[] param = StringUtils.split( params[i], "=" );
 
+                if ( param.length == 1 )
+                {
+                    throw new AptParseException( "Missing 'key=value' pair for macro parameter: " + params[i] );
+                }
+
                 String key = unescapeForMacro( param[0] );
                 String value = unescapeForMacro( param[1] );
 
