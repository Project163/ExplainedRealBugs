[{"id":8358623272,"node_id":"LE_lADOAGuhRc5c0dxazwAAAAHyNngo","url":"https://api.github.com/repos/python/mypy/issues/events/8358623272","actor":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-25T20:51:39Z","label":{"name":"feature","color":"84b6eb"},"performed_via_github_app":null},{"id":8359060203,"node_id":"LE_lADOAGuhRc5c0dxazwAAAAHyPSLr","url":"https://api.github.com/repos/python/mypy/issues/events/8359060203","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-25T21:57:24Z","label":{"name":"topic-attrs","color":"91f5f7"},"performed_via_github_app":null},{"actor":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T04:17:06Z","updated_at":"2023-01-26T04:17:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/14526","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/14526/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/14526/comments","events_url":"https://api.github.com/repos/python/mypy/issues/14526/events","html_url":"https://github.com/python/mypy/pull/14526","id":1557612731,"node_id":"PR_kwDOAGuhRc5IkEpu","number":14526,"title":"Add signature for attr.evolve","user":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":852620211,"node_id":"MDU6TGFiZWw4NTI2MjAyMTE=","url":"https://api.github.com/repos/python/mypy/labels/topic-attrs","name":"topic-attrs","color":"91f5f7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2023-01-26T04:16:36Z","updated_at":"2023-04-07T02:37:08Z","closed_at":"2023-03-06T05:28:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/14526","html_url":"https://github.com/python/mypy/pull/14526","diff_url":"https://github.com/python/mypy/pull/14526.diff","patch_url":"https://github.com/python/mypy/pull/14526.patch","merged_at":"2023-03-06T05:28:20Z"},"body":"Validate `attr.evolve` calls to specify correct arguments and types.\r\n\r\nThe implementation makes it so that at every point where `attr.evolve` is called, the signature is modified to expect the attrs class' initializer's arguments (but so that they're all kw-only and optional).\r\n\r\nNotes:\r\n- Added `class dict: pass` to some fixtures files since our attrs type stubs now have **kwargs and that triggers a `builtin.dict` lookup in dozens of attrs tests.\r\n- Looking up the type of the 1st argument with `ctx.api.expr_checker.accept(inst_arg)` which is a hack since it's not part of the plugin API. This is a compromise for due to #10216.\r\n\r\nFixes #14525.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/14526/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/14526/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406317462","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406317462","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406317462,"node_id":"IC_kwDOAGuhRc5T0rOW","user":{"login":"tmke8","id":7741417,"node_id":"MDQ6VXNlcjc3NDE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/7741417?v=4","gravatar_id":"","url":"https://api.github.com/users/tmke8","html_url":"https://github.com/tmke8","followers_url":"https://api.github.com/users/tmke8/followers","following_url":"https://api.github.com/users/tmke8/following{/other_user}","gists_url":"https://api.github.com/users/tmke8/gists{/gist_id}","starred_url":"https://api.github.com/users/tmke8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmke8/subscriptions","organizations_url":"https://api.github.com/users/tmke8/orgs","repos_url":"https://api.github.com/users/tmke8/repos","events_url":"https://api.github.com/users/tmke8/events{/privacy}","received_events_url":"https://api.github.com/users/tmke8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T10:36:55Z","updated_at":"2023-01-27T10:38:51Z","body":"Similar treatment for `dataclasses.replace` would also be nice. (There was previously PR #14263 but that one only checked that the first argument to `replace` is a dataclass â€“ which can also be done by just modifying the type stubs.)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406317462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmke8","id":7741417,"node_id":"MDQ6VXNlcjc3NDE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/7741417?v=4","gravatar_id":"","url":"https://api.github.com/users/tmke8","html_url":"https://github.com/tmke8","followers_url":"https://api.github.com/users/tmke8/followers","following_url":"https://api.github.com/users/tmke8/following{/other_user}","gists_url":"https://api.github.com/users/tmke8/gists{/gist_id}","starred_url":"https://api.github.com/users/tmke8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmke8/subscriptions","organizations_url":"https://api.github.com/users/tmke8/orgs","repos_url":"https://api.github.com/users/tmke8/repos","events_url":"https://api.github.com/users/tmke8/events{/privacy}","received_events_url":"https://api.github.com/users/tmke8/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406585607","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406585607","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406585607,"node_id":"IC_kwDOAGuhRc5T1ssH","user":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T14:33:35Z","updated_at":"2023-01-27T14:33:35Z","body":"By modifying the type annotations? I don't think dataclasses have any common base, do they? Or maybe through a protocol?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406585607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406591988","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406591988","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406591988,"node_id":"IC_kwDOAGuhRc5T1uP0","user":{"login":"tmke8","id":7741417,"node_id":"MDQ6VXNlcjc3NDE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/7741417?v=4","gravatar_id":"","url":"https://api.github.com/users/tmke8","html_url":"https://github.com/tmke8","followers_url":"https://api.github.com/users/tmke8/followers","following_url":"https://api.github.com/users/tmke8/following{/other_user}","gists_url":"https://api.github.com/users/tmke8/gists{/gist_id}","starred_url":"https://api.github.com/users/tmke8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmke8/subscriptions","organizations_url":"https://api.github.com/users/tmke8/orgs","repos_url":"https://api.github.com/users/tmke8/repos","events_url":"https://api.github.com/users/tmke8/events{/privacy}","received_events_url":"https://api.github.com/users/tmke8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T14:39:05Z","updated_at":"2023-01-27T14:39:05Z","body":"> By modifying the type annotations? I don't think dataclasses have any common base, do they? Or maybe through a protocol?\r\n\r\nYes, @AlexWaygood suggested doing it with a protocol: https://github.com/python/typeshed/pull/9362","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406591988/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmke8","id":7741417,"node_id":"MDQ6VXNlcjc3NDE0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/7741417?v=4","gravatar_id":"","url":"https://api.github.com/users/tmke8","html_url":"https://github.com/tmke8","followers_url":"https://api.github.com/users/tmke8/followers","following_url":"https://api.github.com/users/tmke8/following{/other_user}","gists_url":"https://api.github.com/users/tmke8/gists{/gist_id}","starred_url":"https://api.github.com/users/tmke8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmke8/subscriptions","organizations_url":"https://api.github.com/users/tmke8/orgs","repos_url":"https://api.github.com/users/tmke8/repos","events_url":"https://api.github.com/users/tmke8/events{/privacy}","received_events_url":"https://api.github.com/users/tmke8/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8373998249,"node_id":"MEE_lADOAGuhRc5c0dxazwAAAAHzIRKp","url":"https://api.github.com/repos/python/mypy/issues/events/8373998249","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-27T14:39:06Z","performed_via_github_app":null},{"id":8373998277,"node_id":"SE_lADOAGuhRc5c0dxazwAAAAHzIRLF","url":"https://api.github.com/repos/python/mypy/issues/events/8373998277","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-27T14:39:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406649607","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406649607","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406649607,"node_id":"IC_kwDOAGuhRc5T18UH","user":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T15:21:36Z","updated_at":"2023-01-27T15:21:36Z","body":"> > By modifying the type annotations? I don't think dataclasses have any common base, do they? Or maybe through a protocol?\r\n> \r\n> Yes, @AlexWaygood suggested doing it with a protocol: [python/typeshed#9362](https://github.com/python/typeshed/pull/9362)\r\n\r\nApplying the same technique to `attrs` would be difficult unless all type checkers could be counted on to synthesise `__attrs_attrs__` attributes for `attrs` classes in the same way that they can be counted on to synthesise `__dataclass_fields__` attributes for classes decorated with `@dataclass`. Mypy has a custom plugin for `attrs`, meaning it can be counted on to synthesise this attribute. On the other hand, pyright has (reasonably) resisted adding any special-casing for any third-party libraries.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406649607/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8374393657,"node_id":"MEE_lADOAGuhRc5c0dxazwAAAAHzJxs5","url":"https://api.github.com/repos/python/mypy/issues/events/8374393657","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-27T15:21:36Z","performed_via_github_app":null},{"id":8374393683,"node_id":"SE_lADOAGuhRc5c0dxazwAAAAHzJxtT","url":"https://api.github.com/repos/python/mypy/issues/events/8374393683","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-27T15:21:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406707651","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406707651","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406707651,"node_id":"IC_kwDOAGuhRc5T2KfD","user":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T16:08:43Z","updated_at":"2023-01-27T16:08:43Z","body":"If attrs ships its own type annotations, then they could decide that e.g. you could only used them with mypy and a certain plugin being installed, but I agree we cannot make this decision for typeshed's annotations.\r\n\r\nAnd for this case, the plugin can easily make this check, and I would have to in #14526 anyway.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406707651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406717415","html_url":"https://github.com/python/mypy/issues/14525#issuecomment-1406717415","issue_url":"https://api.github.com/repos/python/mypy/issues/14525","id":1406717415,"node_id":"IC_kwDOAGuhRc5T2M3n","user":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T16:15:51Z","updated_at":"2023-01-27T16:15:51Z","body":"To be clear, `attrs` does ship its own type annotations, and typeshed does not have stubs for `attrs`. If somebody did want to try a solution for `attrs` along the lines of my `dataclasses` PR to typeshed, they'd have to implement it in the annotations shipped by `attrs`, not in typeshed.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1406717415/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"OlegAlexander","id":42989765,"node_id":"MDQ6VXNlcjQyOTg5NzY1","avatar_url":"https://avatars.githubusercontent.com/u/42989765?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegAlexander","html_url":"https://github.com/OlegAlexander","followers_url":"https://api.github.com/users/OlegAlexander/followers","following_url":"https://api.github.com/users/OlegAlexander/following{/other_user}","gists_url":"https://api.github.com/users/OlegAlexander/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegAlexander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegAlexander/subscriptions","organizations_url":"https://api.github.com/users/OlegAlexander/orgs","repos_url":"https://api.github.com/users/OlegAlexander/repos","events_url":"https://api.github.com/users/OlegAlexander/events{/privacy}","received_events_url":"https://api.github.com/users/OlegAlexander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-26T23:07:56Z","updated_at":"2023-02-26T23:07:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/14793","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/14793/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/14793/comments","events_url":"https://api.github.com/repos/python/mypy/issues/14793/events","html_url":"https://github.com/python/mypy/issues/14793","id":1600237602,"node_id":"I_kwDOAGuhRc5fYbAi","number":14793,"title":"mypy should reject non-existent fields with dataclasses.replace","user":{"login":"OlegAlexander","id":42989765,"node_id":"MDQ6VXNlcjQyOTg5NzY1","avatar_url":"https://avatars.githubusercontent.com/u/42989765?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegAlexander","html_url":"https://github.com/OlegAlexander","followers_url":"https://api.github.com/users/OlegAlexander/followers","following_url":"https://api.github.com/users/OlegAlexander/following{/other_user}","gists_url":"https://api.github.com/users/OlegAlexander/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegAlexander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegAlexander/subscriptions","organizations_url":"https://api.github.com/users/OlegAlexander/orgs","repos_url":"https://api.github.com/users/OlegAlexander/repos","events_url":"https://api.github.com/users/OlegAlexander/events{/privacy}","received_events_url":"https://api.github.com/users/OlegAlexander/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488358,"node_id":"MDU6TGFiZWwyMTQ4ODM1OA==","url":"https://api.github.com/repos/python/mypy/labels/feature","name":"feature","color":"84b6eb","default":false,"description":null},{"id":3945206226,"node_id":"LA_kwDOAGuhRc7rJxHS","url":"https://api.github.com/repos/python/mypy/labels/topic-dataclasses","name":"topic-dataclasses","color":"8E9730","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-02-26T23:07:55Z","updated_at":"2023-02-26T23:23:27Z","closed_at":"2023-02-26T23:23:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This issue was originally reported by @LunarLanding here:\r\n \r\nhttps://github.com/microsoft/pyright/issues/1047\r\n\r\nI believe mypy should reject non-existent fields when dataclasses.replace is used.\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nfrom dataclasses import dataclass, replace\r\n\r\n@dataclass(frozen=True) \r\nclass A:\r\n    x : int\r\n    y : int\r\n    \r\na = A(0, 1)\r\nb = replace(a, x=1) # ok\r\nc = replace(a, not_a_field=1) # should be: error: \"A\" has no attribute \"not_a_field\"  [attr-defined]\r\n```\r\n\r\n[Mypy Playground](https://mypy-play.net/?mypy=latest&python=3.11&flags=strict&gist=92f06dd05b42698b961674ce813997e3)\r\n\r\n**Expected Behavior**\r\n\r\nError: \"A\" has no attribute \"not_a_field\"  [attr-defined]\r\n\r\n**Actual Behavior**\r\n\r\nNo error\r\n\r\n**Related Issue**\r\n\r\nhttps://github.com/python/mypy/issues/14525\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/14793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/14793/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"id":8670189060,"node_id":"CE_lADOAGuhRc5c0dxazwAAAAIEyJYE","url":"https://api.github.com/repos/python/mypy/issues/events/8670189060","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-03-06T05:28:21Z","state_reason":null,"performed_via_github_app":null},{"id":8670189168,"node_id":"REFE_lADOAGuhRc5c0dxazwAAAAIEyJZw","url":"https://api.github.com/repos/python/mypy/issues/events/8670189168","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bbc9cce76286d6d92890a9ecfa1ca4ceb6b07caf","commit_url":"https://api.github.com/repos/python/mypy/commits/bbc9cce76286d6d92890a9ecfa1ca4ceb6b07caf","created_at":"2023-03-06T05:28:22Z","performed_via_github_app":null}]