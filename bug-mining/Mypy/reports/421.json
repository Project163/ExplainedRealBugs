{"url":"https://api.github.com/repos/python/mypy/issues/10816","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/10816/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/10816/comments","events_url":"https://api.github.com/repos/python/mypy/issues/10816/events","html_url":"https://github.com/python/mypy/issues/10816","id":943400216,"node_id":"MDU6SXNzdWU5NDM0MDAyMTY=","number":10816,"title":"Support more output formats","user":{"login":"Timmmm","id":376842,"node_id":"MDQ6VXNlcjM3Njg0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/376842?v=4","gravatar_id":"","url":"https://api.github.com/users/Timmmm","html_url":"https://github.com/Timmmm","followers_url":"https://api.github.com/users/Timmmm/followers","following_url":"https://api.github.com/users/Timmmm/following{/other_user}","gists_url":"https://api.github.com/users/Timmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/Timmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Timmmm/subscriptions","organizations_url":"https://api.github.com/users/Timmmm/orgs","repos_url":"https://api.github.com/users/Timmmm/repos","events_url":"https://api.github.com/users/Timmmm/events{/privacy}","received_events_url":"https://api.github.com/users/Timmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488358,"node_id":"MDU6TGFiZWwyMTQ4ODM1OA==","url":"https://api.github.com/repos/python/mypy/labels/feature","name":"feature","color":"84b6eb","default":false,"description":null},{"id":608992726,"node_id":"MDU6TGFiZWw2MDg5OTI3MjY=","url":"https://api.github.com/repos/python/mypy/labels/topic-usability","name":"topic-usability","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2021-07-13T13:41:35Z","updated_at":"2024-05-10T23:41:03Z","closed_at":"2024-05-10T23:41:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Feature**\r\n\r\nMypy should support JSON output to stdout. Pyright has this already via `--outputjson` so it might be a decent idea to copy [their schema](https://github.com/microsoft/pyright/blob/main/docs/command-line.md#json-output) as much as possible.\r\n\r\n**Pitch**\r\n\r\nProgrammatic access to the errors is needed for:\r\n\r\n* CI integration\r\n* IDE integration\r\n\r\nParsing the current output is a bad idea because:\r\n\r\n* It's error prone and [difficult to get right](https://github.com/matangover/mypy-vscode/commit/9886437cc995013e54b269373b6e85ce65be2664) - especially for things like multi-line errors, filenames containing spaces or colons and so on.\r\n* It's easy to accidentally break it. The current output does not like it is intended to be machine readable and is therefore likely to be accidentally changed in subtle ways, breaking parsers.\r\n* It's way more effort to actually implement a Mypy error parser than a JSON parser.\r\n* It can only include a small amount of information. For example column numbers and error codes are not shown.\r\n\r\nFor example consider the [hacky regex used here for Mypy](https://github.com/matangover/mypy-vscode/blob/master/src/extension.ts#L25) vs [the simple JSON parsing used here for Pyright](https://github.com/pinterest/arcanist-linters/blob/master/src/PyrightLinter.php#L153).","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/10816/reactions","total_count":30,"+1":24,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":6,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/10816/timeline","performed_via_github_app":null,"state_reason":"completed"}