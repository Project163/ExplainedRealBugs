[{"id":8662304834,"node_id":"LE_lADOAGuhRc5f6FydzwAAAAIEUEhC","url":"https://api.github.com/repos/python/mypy/issues/events/8662304834","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-03T18:12:27Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":8662315663,"node_id":"RTE_lADOAGuhRc5f6FydzwAAAAIEUHKP","url":"https://api.github.com/repos/python/mypy/issues/events/8662315663","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-03-03T18:13:55Z","rename":{"from":"Invalid ParamSpec usage not reported","to":"Invalid ParamSpec usage in function with added kwargs not reported as error"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1453919747","html_url":"https://github.com/python/mypy/issues/14832#issuecomment-1453919747","issue_url":"https://api.github.com/repos/python/mypy/issues/14832","id":1453919747,"node_id":"IC_kwDOAGuhRc5WqQ4D","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T18:20:45Z","updated_at":"2023-03-03T18:20:45Z","body":"This is the cause of #13966 - the invalid usage is not reported there.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1453919747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8662374906,"node_id":"LE_lADOAGuhRc5f6FydzwAAAAIEUVn6","url":"https://api.github.com/repos/python/mypy/issues/events/8662374906","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-03T18:21:50Z","label":{"name":"topic-paramspec","color":"CA9FD9"},"performed_via_github_app":null},{"actor":{"login":"erictraut","id":7040122,"node_id":"MDQ6VXNlcjcwNDAxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/7040122?v=4","gravatar_id":"","url":"https://api.github.com/users/erictraut","html_url":"https://github.com/erictraut","followers_url":"https://api.github.com/users/erictraut/followers","following_url":"https://api.github.com/users/erictraut/following{/other_user}","gists_url":"https://api.github.com/users/erictraut/gists{/gist_id}","starred_url":"https://api.github.com/users/erictraut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erictraut/subscriptions","organizations_url":"https://api.github.com/users/erictraut/orgs","repos_url":"https://api.github.com/users/erictraut/repos","events_url":"https://api.github.com/users/erictraut/events{/privacy}","received_events_url":"https://api.github.com/users/erictraut/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-08T00:59:58Z","updated_at":"2023-08-08T00:59:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/15827","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/15827/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/15827/comments","events_url":"https://api.github.com/repos/python/mypy/issues/15827/events","html_url":"https://github.com/python/mypy/issues/15827","id":1840376194,"node_id":"I_kwDOAGuhRc5tsemC","number":15827,"title":"Callable protocol does not infer generic parameters","user":{"login":"devsnek","id":5952481,"node_id":"MDQ6VXNlcjU5NTI0ODE=","avatar_url":"https://avatars.githubusercontent.com/u/5952481?v=4","gravatar_id":"","url":"https://api.github.com/users/devsnek","html_url":"https://github.com/devsnek","followers_url":"https://api.github.com/users/devsnek/followers","following_url":"https://api.github.com/users/devsnek/following{/other_user}","gists_url":"https://api.github.com/users/devsnek/gists{/gist_id}","starred_url":"https://api.github.com/users/devsnek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devsnek/subscriptions","organizations_url":"https://api.github.com/users/devsnek/orgs","repos_url":"https://api.github.com/users/devsnek/repos","events_url":"https://api.github.com/users/devsnek/events{/privacy}","received_events_url":"https://api.github.com/users/devsnek/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-08-08T00:27:55Z","updated_at":"2023-09-18T23:03:50Z","closed_at":"2023-08-08T02:08:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nIf you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form instead.\r\nPlease consider:\r\n\r\n- checking our common issues page: https://mypy.readthedocs.io/en/stable/common_issues.html\r\n- searching our issue tracker: https://github.com/python/mypy/issues to see if it's already been reported\r\n- asking on gitter chat: https://gitter.im/python/typing\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nIf you're reporting a problem with a specific library function, the typeshed tracker is better suited for this report: https://github.com/python/typeshed/issues\r\n\r\nIf the project you encountered the issue in is open source, please provide a link to the project.\r\n-->\r\n\r\nCallable protocols don't seem to be working quite right with generics?\r\n\r\n**To Reproduce**\r\n\r\n```python\r\nimport functools\r\nfrom typing import Callable, TypeVar, Protocol, ParamSpec\r\n\r\nT = TypeVar('T', covariant=True)\r\nP = ParamSpec('P')\r\n\r\nclass CallableWithFoo(Protocol[P, T]):\r\n    def __call__(self, *args: P.args, foo: int, **kwargs: P.kwargs) -> T: ...\r\n\r\ndef decorator(func: CallableWithFoo[P, T]) -> Callable[P, T]:\r\n    @functools.wraps(func)\r\n    def wrapper(*args: P.args, **kwargs: P.kwargs) -> T:\r\n        return func(*args, foo=1, **kwargs)\r\n    return wrapper\r\n\r\n@decorator\r\ndef bar(foo: int) -> None:\r\n    return None\r\n    \r\nreveal_type(bar)\r\n```\r\n\r\n**Expected Behavior**\r\n\r\nI feel like this should work in theory?\r\n\r\n**Actual Behavior**\r\n\r\n```\r\nmain.py:15: error: Argument 1 to \"decorator\" has incompatible type \"Callable[[int], None]\"; expected \"CallableWithFoo[<nothing>, <nothing>]\"  [arg-type]\r\nmain.py:19: note: Revealed type is \"def (*<nothing>, **<nothing>) -> <nothing>\"\r\nFound 1 error in 1 file (checked 1 source file)\r\n```\r\n\r\n**Your Environment**\r\n\r\nhttps://mypy-play.net/?mypy=latest&python=3.11\r\n\r\n- Mypy version used: 1.4.1\r\n- Mypy command-line flags:\r\n- Mypy configuration options from `mypy.ini` (and other config files):\r\n- Python version used: 3.11\r\n\r\n<!-- You can freely edit this text, please remove all the lines you believe are unnecessary. -->\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/15827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/15827/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"Avasam","id":1350584,"node_id":"MDQ6VXNlcjEzNTA1ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1350584?v=4","gravatar_id":"","url":"https://api.github.com/users/Avasam","html_url":"https://github.com/Avasam","followers_url":"https://api.github.com/users/Avasam/followers","following_url":"https://api.github.com/users/Avasam/following{/other_user}","gists_url":"https://api.github.com/users/Avasam/gists{/gist_id}","starred_url":"https://api.github.com/users/Avasam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avasam/subscriptions","organizations_url":"https://api.github.com/users/Avasam/orgs","repos_url":"https://api.github.com/users/Avasam/repos","events_url":"https://api.github.com/users/Avasam/events{/privacy}","received_events_url":"https://api.github.com/users/Avasam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T08:31:09Z","updated_at":"2023-08-14T08:31:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/14079","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/14079/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/14079/comments","events_url":"https://api.github.com/repos/python/mypy/issues/14079/events","html_url":"https://github.com/python/mypy/issues/14079","id":1446686249,"node_id":"I_kwDOAGuhRc5WOq4p","number":14079,"title":"Multipe errors in the interaction between `Protocol`, `Callable`, `ParamSpec` and `TypeVar`","user":{"login":"Avasam","id":1350584,"node_id":"MDQ6VXNlcjEzNTA1ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1350584?v=4","gravatar_id":"","url":"https://api.github.com/users/Avasam","html_url":"https://github.com/Avasam","followers_url":"https://api.github.com/users/Avasam/followers","following_url":"https://api.github.com/users/Avasam/following{/other_user}","gists_url":"https://api.github.com/users/Avasam/gists{/gist_id}","starred_url":"https://api.github.com/users/Avasam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avasam/subscriptions","organizations_url":"https://api.github.com/users/Avasam/orgs","repos_url":"https://api.github.com/users/Avasam/repos","events_url":"https://api.github.com/users/Avasam/events{/privacy}","received_events_url":"https://api.github.com/users/Avasam/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-11-13T01:53:30Z","updated_at":"2023-08-14T08:34:03Z","closed_at":"2023-08-14T03:57:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nIf you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form instead.\r\nPlease consider:\r\n\r\n- checking our common issues page: https://mypy.readthedocs.io/en/stable/common_issues.html\r\n- searching our issue tracker: https://github.com/python/mypy/issues to see if it's already been reported\r\n- asking on gitter chat: https://gitter.im/python/typing\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nIf you're reporting a problem with a specific library function, the typeshed tracker is better suited for this report: https://github.com/python/typeshed/issues\r\n\r\nIf the project you encountered the issue in is open source, please provide a link to the project.\r\n-->\r\n\r\nI was trying to get some practice writing a stub with a complex Callable type.  See the following wrapper function in `aiofiles.os`:\r\n```py\r\nimport asyncio\r\nfrom functools import partial, wraps\r\n\r\ndef wrap(func:):\r\n    @wraps(func)\r\n    async def run(*args, loop=None, executor=None, **kwargs):\r\n        if loop is None:\r\n            loop = asyncio.get_event_loop()\r\n        pfunc = partial(func, *args, **kwargs)\r\n        return await loop.run_in_executor(executor, pfunc)\r\n\r\n    return run\r\n```\r\n\r\nIf I'm not mistaken, the inline-typing should look something like this:\r\n```py\r\nfrom __future__ import annotations\r\nimport os\r\nimport asyncio\r\nfrom functools import partial, wraps\r\nfrom collections.abc import Callable\r\nfrom typing import Any, TypeVar\r\nfrom typing_extensions import ParamSpec\r\n_T = TypeVar(\"_T\")\r\n_P = ParamSpec(\"_P\")\r\n\r\ndef wrap(func: Callable[_P, _T]):  # pyright: ignore[reportInvalidTypeVarUse]  # return type is still infered correctly\r\n    @wraps(func)\r\n    async def run(*args: _P.args, loop: AbstractEventLoop | None=None, executor: Any | None=None, **kwargs: _P.kwargs):\r\n        if loop is None:\r\n            loop = asyncio.get_event_loop()\r\n        pfunc = partial[_T](func, *args, **kwargs)\r\n        return await loop.run_in_executor(executor, pfunc)\r\n\r\n    return run\r\n```\r\n\r\n**To Reproduce**\r\nTrying to do the following in a stub file:\r\n```python\r\nimport os\r\nfrom asyncio.events import AbstractEventLoop\r\nfrom collections.abc import Callable, Coroutine\r\nfrom typing import Any, Protocol\r\nfrom typing_extensions import ParamSpec, TypeVar\r\n\r\n_T = TypeVar(\"_T\")\r\n_T_co = TypeVar(\"_T_co\", covariant=True)\r\n_P = ParamSpec(\"_P\")\r\n\r\nclass WrappedCallable(Protocol[_P, _T_co]):\r\n    def __call__(\r\n        self, *args: _P.args, loop: AbstractEventLoop | None = ..., executor: Any = ..., **kwargs: _P.kwargs\r\n    ) -> Coroutine[Any, Any, _T_co]: ...\r\n\r\ndef wrap(func: Callable[_P, _T]) -> WrappedCallable[_P, _T]: ...\r\n\r\nstat = wrap(os.stat)\r\n\r\nasync def foo() -> None:\r\n    stat_result = await stat()\r\n    reveal_type(stat)\r\n    reveal_type(stat_result)\r\n```\r\n\r\n**Expected Behavior**\r\n\r\n<!--\r\nHow did you expect mypy to behave? It’s fine if you’re not sure your understanding is correct.\r\nWrite down what you thought would happen. If you expected no errors, delete this section.\r\n-->\r\nI'm unsure, but I would like to see this being possible.\r\npyright actually gets the type of `stat_result` right, and gets wrapped callable type mostly right (it only loose the name of the generic arguments, but manages to keep both `loop` and `executor`. Which idk if there's anything that can be done about that anyway)\r\n\r\n**Actual Behavior**\r\n\r\nI get the following output:\r\n```\r\nimport os.pyi:11: error: Free type variable expected in Protocol[...]  [misc]\r\nimport os.pyi:14: error: Variable \"import os._T_co\" is not valid as a type  [valid-type]\r\nimport os.pyi:14: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\r\nimport os.pyi:16: error: Variable \"import os._T\" is not valid as a type  [valid-type]\r\nimport os.pyi:16: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\r\nimport os.pyi:22: note: Revealed type is \"import os.WrappedCallable[[[path: Union[builtins.int, builtins.str, builtins.bytes, os.PathLike[builtins.str], os.PathLike[builtins.bytes]], *, dir_fd: Union[builtins.int, None] =, follow_symlinks: builtins.bool =], _T?]]\"\r\nimport os.pyi:23: note: Revealed type is \"_T_co?\"\r\nFound 3 errors in 1 file (checked 1 source file)\r\n```\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: 0.990 (compiled: yes)\r\n- Mypy command-line flags: None\r\n- Mypy configuration options from `mypy.ini` (and other config files): None\r\n- Python version used: 3.9.13\r\n\r\n<!-- You can freely edit this text, please remove all the lines you believe are unnecessary. -->\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/14079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/14079/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"erictraut","id":7040122,"node_id":"MDQ6VXNlcjcwNDAxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/7040122?v=4","gravatar_id":"","url":"https://api.github.com/users/erictraut","html_url":"https://github.com/erictraut","followers_url":"https://api.github.com/users/erictraut/followers","following_url":"https://api.github.com/users/erictraut/following{/other_user}","gists_url":"https://api.github.com/users/erictraut/gists{/gist_id}","starred_url":"https://api.github.com/users/erictraut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erictraut/subscriptions","organizations_url":"https://api.github.com/users/erictraut/orgs","repos_url":"https://api.github.com/users/erictraut/repos","events_url":"https://api.github.com/users/erictraut/events{/privacy}","received_events_url":"https://api.github.com/users/erictraut/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-29T22:20:22Z","updated_at":"2023-08-29T22:20:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/microsoft/pyright/issues/5844","repository_url":"https://api.github.com/repos/microsoft/pyright","labels_url":"https://api.github.com/repos/microsoft/pyright/issues/5844/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/pyright/issues/5844/comments","events_url":"https://api.github.com/repos/microsoft/pyright/issues/5844/events","html_url":"https://github.com/microsoft/pyright/issues/5844","id":1872247233,"node_id":"I_kwDOCnBEvM5vmDnB","number":5844,"title":"Callable protocol definition and ParamSpec issue","user":{"login":"lmazuel","id":1050156,"node_id":"MDQ6VXNlcjEwNTAxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050156?v=4","gravatar_id":"","url":"https://api.github.com/users/lmazuel","html_url":"https://github.com/lmazuel","followers_url":"https://api.github.com/users/lmazuel/followers","following_url":"https://api.github.com/users/lmazuel/following{/other_user}","gists_url":"https://api.github.com/users/lmazuel/gists{/gist_id}","starred_url":"https://api.github.com/users/lmazuel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmazuel/subscriptions","organizations_url":"https://api.github.com/users/lmazuel/orgs","repos_url":"https://api.github.com/users/lmazuel/repos","events_url":"https://api.github.com/users/lmazuel/events{/privacy}","received_events_url":"https://api.github.com/users/lmazuel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1268932462,"node_id":"MDU6TGFiZWwxMjY4OTMyNDYy","url":"https://api.github.com/repos/microsoft/pyright/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1591444962,"node_id":"MDU6TGFiZWwxNTkxNDQ0OTYy","url":"https://api.github.com/repos/microsoft/pyright/labels/as%20designed","name":"as designed","color":"13ad96","default":false,"description":"Not a bug, working as intended"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-08-29T19:12:09Z","updated_at":"2025-09-02T14:55:51Z","closed_at":"2023-08-29T22:20:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":175129788,"node_id":"MDEwOlJlcG9zaXRvcnkxNzUxMjk3ODg=","name":"pyright","full_name":"microsoft/pyright","private":false,"owner":{"login":"microsoft","id":6154722,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxNTQ3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/6154722?v=4","gravatar_id":"","url":"https://api.github.com/users/microsoft","html_url":"https://github.com/microsoft","followers_url":"https://api.github.com/users/microsoft/followers","following_url":"https://api.github.com/users/microsoft/following{/other_user}","gists_url":"https://api.github.com/users/microsoft/gists{/gist_id}","starred_url":"https://api.github.com/users/microsoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/microsoft/subscriptions","organizations_url":"https://api.github.com/users/microsoft/orgs","repos_url":"https://api.github.com/users/microsoft/repos","events_url":"https://api.github.com/users/microsoft/events{/privacy}","received_events_url":"https://api.github.com/users/microsoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/microsoft/pyright","description":"Static Type Checker for Python","fork":false,"url":"https://api.github.com/repos/microsoft/pyright","forks_url":"https://api.github.com/repos/microsoft/pyright/forks","keys_url":"https://api.github.com/repos/microsoft/pyright/keys{/key_id}","collaborators_url":"https://api.github.com/repos/microsoft/pyright/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/microsoft/pyright/teams","hooks_url":"https://api.github.com/repos/microsoft/pyright/hooks","issue_events_url":"https://api.github.com/repos/microsoft/pyright/issues/events{/number}","events_url":"https://api.github.com/repos/microsoft/pyright/events","assignees_url":"https://api.github.com/repos/microsoft/pyright/assignees{/user}","branches_url":"https://api.github.com/repos/microsoft/pyright/branches{/branch}","tags_url":"https://api.github.com/repos/microsoft/pyright/tags","blobs_url":"https://api.github.com/repos/microsoft/pyright/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/microsoft/pyright/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/microsoft/pyright/git/refs{/sha}","trees_url":"https://api.github.com/repos/microsoft/pyright/git/trees{/sha}","statuses_url":"https://api.github.com/repos/microsoft/pyright/statuses/{sha}","languages_url":"https://api.github.com/repos/microsoft/pyright/languages","stargazers_url":"https://api.github.com/repos/microsoft/pyright/stargazers","contributors_url":"https://api.github.com/repos/microsoft/pyright/contributors","subscribers_url":"https://api.github.com/repos/microsoft/pyright/subscribers","subscription_url":"https://api.github.com/repos/microsoft/pyright/subscription","commits_url":"https://api.github.com/repos/microsoft/pyright/commits{/sha}","git_commits_url":"https://api.github.com/repos/microsoft/pyright/git/commits{/sha}","comments_url":"https://api.github.com/repos/microsoft/pyright/comments{/number}","issue_comment_url":"https://api.github.com/repos/microsoft/pyright/issues/comments{/number}","contents_url":"https://api.github.com/repos/microsoft/pyright/contents/{+path}","compare_url":"https://api.github.com/repos/microsoft/pyright/compare/{base}...{head}","merges_url":"https://api.github.com/repos/microsoft/pyright/merges","archive_url":"https://api.github.com/repos/microsoft/pyright/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/microsoft/pyright/downloads","issues_url":"https://api.github.com/repos/microsoft/pyright/issues{/number}","pulls_url":"https://api.github.com/repos/microsoft/pyright/pulls{/number}","milestones_url":"https://api.github.com/repos/microsoft/pyright/milestones{/number}","notifications_url":"https://api.github.com/repos/microsoft/pyright/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/microsoft/pyright/labels{/name}","releases_url":"https://api.github.com/repos/microsoft/pyright/releases{/id}","deployments_url":"https://api.github.com/repos/microsoft/pyright/deployments","created_at":"2019-03-12T03:38:46Z","updated_at":"2025-11-09T18:14:33Z","pushed_at":"2025-11-02T07:12:18Z","git_url":"git://github.com/microsoft/pyright.git","ssh_url":"git@github.com:microsoft/pyright.git","clone_url":"https://github.com/microsoft/pyright.git","svn_url":"https://github.com/microsoft/pyright","homepage":"","size":126983,"stargazers_count":14957,"watchers_count":14957,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1747,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":150,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1747,"open_issues":150,"watchers":14957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\n\r\nI define a callable protocol following the official doc of [Annotating callable object](https://docs.python.org/3/library/typing.html#annotating-callables). Especially the part of the end that says:\r\n\r\n> Callable cannot express complex signatures such as functions that take a variadic number of arguments, [overloaded functions](https://docs.python.org/3/library/typing.html#typing.overload), or functions that have keyword-only parameters. However, these signatures can be expressed by defining a [Protocol](https://docs.python.org/3/library/typing.html#typing.Protocol) class with a [__call__()](https://docs.python.org/3/reference/datamodel.html#object.__call__) method\r\n\r\nIn particular, I define a decorator that adds a keyword only argument to the function it decorates, and I use a callable protocol to define this kwarg-only parameter. I can't get pyright to be happy while mypy is super happy with it.\r\n\r\n**Code or Screenshots**\r\n\r\nThis is a mypy playground:\r\nhttps://mypy-play.net/?mypy=latest&python=3.11&gist=bba538a9212466a819ffb0343c925b84\r\n\r\nYou can see that mypy has no issue to type check everything, include on purposed wrong code.\r\n\r\nWhile I run the same file on Pyright, I get this:\r\n```\r\n  callable_paramspec.py:11:30 - error: Keyword parameter \"something_added\" cannot appear in signature after ParamSpec args parameter (reportGeneralTypeIssues)\r\n  callable_paramspec.py:20:28 - error: Keyword parameter \"something_added\" cannot appear in signature after ParamSpec args parameter (reportGeneralTypeIssues)\r\n  callable_paramspec.py:24:16 - error: Expression of type \"_Wrapped[P@my_decorator, T@my_decorator, (*args: P.args, something_added: bool = False, **kwargs: P.kwargs), T@my_decorator]\" cannot be assigned to return type \"TracedMethod[P@my_decorator, T@my_decorator]\"\r\n    \"_Wrapped[P@my_decorator, T@my_decorator, (*args: P.args, something_added: bool = False, **kwargs: P.kwargs), T@my_decorator]\" is incompatible with protocol \"TracedMethod[P@my_decorator, T@my_decorator]\"\r\n      \"__call__\" is an incompatible type\r\n        Type \"(*args: P.args, something_added: bool = False, **kwargs: P.kwargs) -> T@my_decorator\" cannot be assigned to type \"(*args: P.args, something_added: bool = False, **kwds: P.kwargs) -> T@TracedMethod\"\r\n          Parameter 1: type \"*tuple[P.args, ...]\" cannot be assigned to type \"*tuple[P.args, ...]\"\r\n            \"builtins.tuple\" is incompatible with \"builtins.tuple\"\r\n          Parameter 3: type \"P.kwargs\" cannot be assigned to type \"P.kwargs\"\r\n            Type \"P.kwargs\" cannot be assigned to type \"P.kwargs\" (reportGeneralTypeIssues)\r\n```\r\n\r\nI'm using pyright 1.1.324, and Python 3.11.4.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/microsoft/pyright/issues/5844/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/pyright/issues/5844/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"lmazuel","id":1050156,"node_id":"MDQ6VXNlcjEwNTAxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050156?v=4","gravatar_id":"","url":"https://api.github.com/users/lmazuel","html_url":"https://github.com/lmazuel","followers_url":"https://api.github.com/users/lmazuel/followers","following_url":"https://api.github.com/users/lmazuel/following{/other_user}","gists_url":"https://api.github.com/users/lmazuel/gists{/gist_id}","starred_url":"https://api.github.com/users/lmazuel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmazuel/subscriptions","organizations_url":"https://api.github.com/users/lmazuel/orgs","repos_url":"https://api.github.com/users/lmazuel/repos","events_url":"https://api.github.com/users/lmazuel/events{/privacy}","received_events_url":"https://api.github.com/users/lmazuel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-29T23:36:27Z","updated_at":"2023-08-29T23:36:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838","repository_url":"https://api.github.com/repos/Azure/azure-sdk-for-python","labels_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838/labels{/name}","comments_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838/comments","events_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838/events","html_url":"https://github.com/Azure/azure-sdk-for-python/pull/31838","id":1870601268,"node_id":"PR_kwDOAD75cM5Y-riy","number":31838,"title":"Improving tracing typing","user":{"login":"lmazuel","id":1050156,"node_id":"MDQ6VXNlcjEwNTAxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1050156?v=4","gravatar_id":"","url":"https://api.github.com/users/lmazuel","html_url":"https://github.com/lmazuel","followers_url":"https://api.github.com/users/lmazuel/followers","following_url":"https://api.github.com/users/lmazuel/following{/other_user}","gists_url":"https://api.github.com/users/lmazuel/gists{/gist_id}","starred_url":"https://api.github.com/users/lmazuel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmazuel/subscriptions","organizations_url":"https://api.github.com/users/lmazuel/orgs","repos_url":"https://api.github.com/users/lmazuel/repos","events_url":"https://api.github.com/users/lmazuel/events{/privacy}","received_events_url":"https://api.github.com/users/lmazuel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-08-28T22:34:56Z","updated_at":"2023-08-29T23:36:26Z","closed_at":"2023-08-29T23:36:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":4127088,"node_id":"MDEwOlJlcG9zaXRvcnk0MTI3MDg4","name":"azure-sdk-for-python","full_name":"Azure/azure-sdk-for-python","private":false,"owner":{"login":"Azure","id":6844498,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY4NDQ0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/6844498?v=4","gravatar_id":"","url":"https://api.github.com/users/Azure","html_url":"https://github.com/Azure","followers_url":"https://api.github.com/users/Azure/followers","following_url":"https://api.github.com/users/Azure/following{/other_user}","gists_url":"https://api.github.com/users/Azure/gists{/gist_id}","starred_url":"https://api.github.com/users/Azure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Azure/subscriptions","organizations_url":"https://api.github.com/users/Azure/orgs","repos_url":"https://api.github.com/users/Azure/repos","events_url":"https://api.github.com/users/Azure/events{/privacy}","received_events_url":"https://api.github.com/users/Azure/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Azure/azure-sdk-for-python","description":"This repository is for active development of the Azure SDK for Python. For consumers of the SDK we recommend visiting our public developer docs at https://learn.microsoft.com/python/azure/ or our versioned developer docs at https://azure.github.io/azure-sdk-for-python. ","fork":false,"url":"https://api.github.com/repos/Azure/azure-sdk-for-python","forks_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/forks","keys_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/teams","hooks_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/hooks","issue_events_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/events{/number}","events_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/events","assignees_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/assignees{/user}","branches_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/branches{/branch}","tags_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/tags","blobs_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/git/refs{/sha}","trees_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/statuses/{sha}","languages_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/languages","stargazers_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/stargazers","contributors_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/contributors","subscribers_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/subscribers","subscription_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/subscription","commits_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/commits{/sha}","git_commits_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/git/commits{/sha}","comments_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/comments{/number}","issue_comment_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/comments{/number}","contents_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/contents/{+path}","compare_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/merges","archive_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/downloads","issues_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues{/number}","pulls_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/pulls{/number}","milestones_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/milestones{/number}","notifications_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/labels{/name}","releases_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/releases{/id}","deployments_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/deployments","created_at":"2012-04-24T16:46:12Z","updated_at":"2025-11-09T04:12:30Z","pushed_at":"2025-11-09T19:05:07Z","git_url":"git://github.com/Azure/azure-sdk-for-python.git","ssh_url":"git@github.com:Azure/azure-sdk-for-python.git","clone_url":"https://github.com/Azure/azure-sdk-for-python.git","svn_url":"https://github.com/Azure/azure-sdk-for-python","homepage":"","size":817135,"stargazers_count":5393,"watchers_count":5393,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":3171,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1001,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["azure","azure-sdk","hacktoberfest","python"],"visibility":"public","forks":3171,"open_issues":1001,"watchers":5393,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/Azure/azure-sdk-for-python/pulls/31838","html_url":"https://github.com/Azure/azure-sdk-for-python/pull/31838","diff_url":"https://github.com/Azure/azure-sdk-for-python/pull/31838.diff","patch_url":"https://github.com/Azure/azure-sdk-for-python/pull/31838.patch","merged_at":null},"body":"Trying to see if I can push it to remove all `Any`.\r\n\r\nSo far I get mypy happy, and pyright:\r\n```\r\n          Parameter 1: type \"*tuple[P.args, ...]\" cannot be assigned to type \"*tuple[P.args, ...]\"\r\n            \"builtins.tuple\" is incompatible with \"builtins.tuple\"\r\n          Parameter 4: type \"P.kwargs\" cannot be assigned to type \"P.kwargs\"\r\n            Type \"P.kwargs\" cannot be assigned to type \"P.kwargs\" (reportGeneralTypeIssues)\r\n```\r\n\r\nwhich feels pyright bug (needs to reproduce in a smaller example).\r\n\r\nNeed to write some script with invalid typing on purpose to see if actually mypy is working, or just not complaining.","reactions":{"url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Azure/azure-sdk-for-python/issues/31838/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1851020091","html_url":"https://github.com/python/mypy/issues/14832#issuecomment-1851020091","issue_url":"https://api.github.com/repos/python/mypy/issues/14832","id":1851020091,"node_id":"IC_kwDOAGuhRc5uVFM7","user":{"login":"nickzoic","id":1487686,"node_id":"MDQ6VXNlcjE0ODc2ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1487686?v=4","gravatar_id":"","url":"https://api.github.com/users/nickzoic","html_url":"https://github.com/nickzoic","followers_url":"https://api.github.com/users/nickzoic/followers","following_url":"https://api.github.com/users/nickzoic/following{/other_user}","gists_url":"https://api.github.com/users/nickzoic/gists{/gist_id}","starred_url":"https://api.github.com/users/nickzoic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickzoic/subscriptions","organizations_url":"https://api.github.com/users/nickzoic/orgs","repos_url":"https://api.github.com/users/nickzoic/repos","events_url":"https://api.github.com/users/nickzoic/events{/privacy}","received_events_url":"https://api.github.com/users/nickzoic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T22:52:32Z","updated_at":"2023-12-11T22:52:32Z","body":"In general mypy doesn't seem to be picking up on errors around the 'rejected' behaviours, just silently ignoring the annotion?  \r\n\r\nEg: the following code, case `f1` is typed correctly but `f2` through `f5` are all incorrect:\r\n```\r\nfrom typing import Callable, ParamSpec\r\n\r\nP1 = ParamSpec('P1')\r\ndef f1(x : Callable[P1,None]):\r\n    def f11(*args: P1.args, **kwargs: P1.kwargs) -> None:\r\n        pass\r\n\r\nP2 = ParamSpec('P2')\r\ndef f2(x : Callable[P2,None]):\r\n    def f21(a: P2.args, b: P2.kwargs) -> None:\r\n        pass\r\n\r\nP3 = ParamSpec('P3')\r\ndef f3(x : Callable[P3,None]):\r\n    def f31(*args: P3.args) -> None:\r\n        pass\r\n\r\nP4 = ParamSpec('P4')\r\ndef f4(x : Callable[P4,None]):\r\n    def f41(**kwargs: P4.kwargs) -> None:\r\n        pass\r\n\r\nP5 = ParamSpec('P5')\r\ndef f5(x : Callable[P5,None]):\r\n    def f51(*args: P5.args, a: int, **kwargs: P5.kwargs) -> None:\r\n        pass\r\n```\r\n\r\nthis code generates no issues in mypy 1.0.1 but pyright 1.1.339 correctly flags errors for each of cases 2 .. 5:\r\n\r\n```\r\n/tmp/paramspec_types_2.py\r\n  /tmp/paramspec_types_2.py:10:16 - error: \"args\" member of ParamSpec is valid only when used with *args parameter\r\n  /tmp/paramspec_types_2.py:10:28 - error: \"kwargs\" member of ParamSpec is valid only when used with **kwargs parameter\r\n  /tmp/paramspec_types_2.py:15:20 - error: \"args\" and \"kwargs\" members of ParamSpec must both appear within a function signature\r\n  /tmp/paramspec_types_2.py:20:23 - error: \"args\" and \"kwargs\" members of ParamSpec must both appear within a function signature\r\n  /tmp/paramspec_types_2.py:25:29 - error: Keyword parameter \"a\" cannot appear in signature after ParamSpec args parameter (reportGeneralTypeIssues)\r\n5 errors, 0 warnings, 0 informations \r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1851020091/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"nickzoic","id":1487686,"node_id":"MDQ6VXNlcjE0ODc2ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1487686?v=4","gravatar_id":"","url":"https://api.github.com/users/nickzoic","html_url":"https://github.com/nickzoic","followers_url":"https://api.github.com/users/nickzoic/followers","following_url":"https://api.github.com/users/nickzoic/following{/other_user}","gists_url":"https://api.github.com/users/nickzoic/gists{/gist_id}","starred_url":"https://api.github.com/users/nickzoic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickzoic/subscriptions","organizations_url":"https://api.github.com/users/nickzoic/orgs","repos_url":"https://api.github.com/users/nickzoic/repos","events_url":"https://api.github.com/users/nickzoic/events{/privacy}","received_events_url":"https://api.github.com/users/nickzoic/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"flying-sheep","id":291575,"node_id":"MDQ6VXNlcjI5MTU3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/291575?v=4","gravatar_id":"","url":"https://api.github.com/users/flying-sheep","html_url":"https://github.com/flying-sheep","followers_url":"https://api.github.com/users/flying-sheep/followers","following_url":"https://api.github.com/users/flying-sheep/following{/other_user}","gists_url":"https://api.github.com/users/flying-sheep/gists{/gist_id}","starred_url":"https://api.github.com/users/flying-sheep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flying-sheep/subscriptions","organizations_url":"https://api.github.com/users/flying-sheep/orgs","repos_url":"https://api.github.com/users/flying-sheep/repos","events_url":"https://api.github.com/users/flying-sheep/events{/privacy}","received_events_url":"https://api.github.com/users/flying-sheep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-26T15:13:51Z","updated_at":"2024-02-26T15:13:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/scverse/plotting_api/issues/4","repository_url":"https://api.github.com/repos/scverse/plotting_api","labels_url":"https://api.github.com/repos/scverse/plotting_api/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/scverse/plotting_api/issues/4/comments","events_url":"https://api.github.com/repos/scverse/plotting_api/issues/4/events","html_url":"https://github.com/scverse/plotting_api/pull/4","id":2154204074,"node_id":"PR_kwDOLVKcms5n6sKD","number":4,"title":"Decorator helper","user":{"login":"flying-sheep","id":291575,"node_id":"MDQ6VXNlcjI5MTU3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/291575?v=4","gravatar_id":"","url":"https://api.github.com/users/flying-sheep","html_url":"https://github.com/flying-sheep","followers_url":"https://api.github.com/users/flying-sheep/followers","following_url":"https://api.github.com/users/flying-sheep/following{/other_user}","gists_url":"https://api.github.com/users/flying-sheep/gists{/gist_id}","starred_url":"https://api.github.com/users/flying-sheep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flying-sheep/subscriptions","organizations_url":"https://api.github.com/users/flying-sheep/orgs","repos_url":"https://api.github.com/users/flying-sheep/repos","events_url":"https://api.github.com/users/flying-sheep/events{/privacy}","received_events_url":"https://api.github.com/users/flying-sheep/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-02-26T13:36:21Z","updated_at":"2024-03-04T12:10:19Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":760388762,"node_id":"R_kgDOLVKcmg","name":"plotting_api","full_name":"scverse/plotting_api","private":false,"owner":{"login":"scverse","id":95305807,"node_id":"O_kgDOBa5ATw","avatar_url":"https://avatars.githubusercontent.com/u/95305807?v=4","gravatar_id":"","url":"https://api.github.com/users/scverse","html_url":"https://github.com/scverse","followers_url":"https://api.github.com/users/scverse/followers","following_url":"https://api.github.com/users/scverse/following{/other_user}","gists_url":"https://api.github.com/users/scverse/gists{/gist_id}","starred_url":"https://api.github.com/users/scverse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scverse/subscriptions","organizations_url":"https://api.github.com/users/scverse/orgs","repos_url":"https://api.github.com/users/scverse/repos","events_url":"https://api.github.com/users/scverse/events{/privacy}","received_events_url":"https://api.github.com/users/scverse/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/scverse/plotting_api","description":"Experimenting with a simplified plotting API for scanpy/scirpy","fork":false,"url":"https://api.github.com/repos/scverse/plotting_api","forks_url":"https://api.github.com/repos/scverse/plotting_api/forks","keys_url":"https://api.github.com/repos/scverse/plotting_api/keys{/key_id}","collaborators_url":"https://api.github.com/repos/scverse/plotting_api/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/scverse/plotting_api/teams","hooks_url":"https://api.github.com/repos/scverse/plotting_api/hooks","issue_events_url":"https://api.github.com/repos/scverse/plotting_api/issues/events{/number}","events_url":"https://api.github.com/repos/scverse/plotting_api/events","assignees_url":"https://api.github.com/repos/scverse/plotting_api/assignees{/user}","branches_url":"https://api.github.com/repos/scverse/plotting_api/branches{/branch}","tags_url":"https://api.github.com/repos/scverse/plotting_api/tags","blobs_url":"https://api.github.com/repos/scverse/plotting_api/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/scverse/plotting_api/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/scverse/plotting_api/git/refs{/sha}","trees_url":"https://api.github.com/repos/scverse/plotting_api/git/trees{/sha}","statuses_url":"https://api.github.com/repos/scverse/plotting_api/statuses/{sha}","languages_url":"https://api.github.com/repos/scverse/plotting_api/languages","stargazers_url":"https://api.github.com/repos/scverse/plotting_api/stargazers","contributors_url":"https://api.github.com/repos/scverse/plotting_api/contributors","subscribers_url":"https://api.github.com/repos/scverse/plotting_api/subscribers","subscription_url":"https://api.github.com/repos/scverse/plotting_api/subscription","commits_url":"https://api.github.com/repos/scverse/plotting_api/commits{/sha}","git_commits_url":"https://api.github.com/repos/scverse/plotting_api/git/commits{/sha}","comments_url":"https://api.github.com/repos/scverse/plotting_api/comments{/number}","issue_comment_url":"https://api.github.com/repos/scverse/plotting_api/issues/comments{/number}","contents_url":"https://api.github.com/repos/scverse/plotting_api/contents/{+path}","compare_url":"https://api.github.com/repos/scverse/plotting_api/compare/{base}...{head}","merges_url":"https://api.github.com/repos/scverse/plotting_api/merges","archive_url":"https://api.github.com/repos/scverse/plotting_api/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/scverse/plotting_api/downloads","issues_url":"https://api.github.com/repos/scverse/plotting_api/issues{/number}","pulls_url":"https://api.github.com/repos/scverse/plotting_api/pulls{/number}","milestones_url":"https://api.github.com/repos/scverse/plotting_api/milestones{/number}","notifications_url":"https://api.github.com/repos/scverse/plotting_api/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/scverse/plotting_api/labels{/name}","releases_url":"https://api.github.com/repos/scverse/plotting_api/releases{/id}","deployments_url":"https://api.github.com/repos/scverse/plotting_api/deployments","created_at":"2024-02-20T10:27:20Z","updated_at":"2025-03-19T16:23:22Z","pushed_at":"2025-11-03T17:49:59Z","git_url":"git://github.com/scverse/plotting_api.git","ssh_url":"git@github.com:scverse/plotting_api.git","clone_url":"https://github.com/scverse/plotting_api.git","svn_url":"https://github.com/scverse/plotting_api","homepage":null,"size":517,"stargazers_count":2,"watchers_count":2,"language":"Jupyter Notebook","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":5,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":5,"watchers":2,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/scverse/plotting_api/pulls/4","html_url":"https://github.com/scverse/plotting_api/pull/4","diff_url":"https://github.com/scverse/plotting_api/pull/4.diff","patch_url":"https://github.com/scverse/plotting_api/pull/4.patch","merged_at":null},"body":"The “only” problem is that this isn’t actually supported: https://github.com/python/mypy/issues/14832, https://discuss.python.org/t/type-hints-for-kwarg-overrides/47196\r\n\r\nIf it was, it would have the advantage that we wouldn’t have to manually write overloads for each individual function.","reactions":{"url":"https://api.github.com/repos/scverse/plotting_api/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/scverse/plotting_api/issues/4/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1976338668","html_url":"https://github.com/python/mypy/issues/14832#issuecomment-1976338668","issue_url":"https://api.github.com/repos/python/mypy/issues/14832","id":1976338668,"node_id":"IC_kwDOAGuhRc51zIjs","user":{"login":"flying-sheep","id":291575,"node_id":"MDQ6VXNlcjI5MTU3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/291575?v=4","gravatar_id":"","url":"https://api.github.com/users/flying-sheep","html_url":"https://github.com/flying-sheep","followers_url":"https://api.github.com/users/flying-sheep/followers","following_url":"https://api.github.com/users/flying-sheep/following{/other_user}","gists_url":"https://api.github.com/users/flying-sheep/gists{/gist_id}","starred_url":"https://api.github.com/users/flying-sheep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flying-sheep/subscriptions","organizations_url":"https://api.github.com/users/flying-sheep/orgs","repos_url":"https://api.github.com/users/flying-sheep/repos","events_url":"https://api.github.com/users/flying-sheep/events{/privacy}","received_events_url":"https://api.github.com/users/flying-sheep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T11:10:29Z","updated_at":"2024-03-04T11:10:29Z","body":"See here for a discussion to make this happen: https://discuss.python.org/t/type-hints-for-kwarg-overrides/47196","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1976338668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"flying-sheep","id":291575,"node_id":"MDQ6VXNlcjI5MTU3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/291575?v=4","gravatar_id":"","url":"https://api.github.com/users/flying-sheep","html_url":"https://github.com/flying-sheep","followers_url":"https://api.github.com/users/flying-sheep/followers","following_url":"https://api.github.com/users/flying-sheep/following{/other_user}","gists_url":"https://api.github.com/users/flying-sheep/gists{/gist_id}","starred_url":"https://api.github.com/users/flying-sheep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flying-sheep/subscriptions","organizations_url":"https://api.github.com/users/flying-sheep/orgs","repos_url":"https://api.github.com/users/flying-sheep/repos","events_url":"https://api.github.com/users/flying-sheep/events{/privacy}","received_events_url":"https://api.github.com/users/flying-sheep/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-11T02:16:16Z","updated_at":"2024-12-11T02:16:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/18278","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/18278/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/18278/comments","events_url":"https://api.github.com/repos/python/mypy/issues/18278/events","html_url":"https://github.com/python/mypy/pull/18278","id":2731625262,"node_id":"PR_kwDOAGuhRc6EyXcA","number":18278,"title":"Reject invalid ParamSpec locations","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4374012541,"node_id":"LA_kwDOAGuhRc8AAAABBLYifQ","url":"https://api.github.com/repos/python/mypy/labels/upnext","name":"upnext","color":"2FAE2F","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2024-12-11T01:57:14Z","updated_at":"2025-02-05T18:31:27Z","closed_at":"2025-01-02T20:39:04Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/18278","html_url":"https://github.com/python/mypy/pull/18278","diff_url":"https://github.com/python/mypy/pull/18278.diff","patch_url":"https://github.com/python/mypy/pull/18278.patch","merged_at":"2025-01-02T20:39:04Z"},"body":"Fixes #14832, fixes #13966, fixes #14622.\r\n\r\nStill does not report error in #14777, I'll work separately on that.\r\n\r\nMove all `ParamSpec` validity checking to `typeanal.py`. Stop treating `P.args` and `P.kwargs` as binding - only bare typevar makes it available in scope. Reject keyword arguments following `P.args`.\r\n\r\nThis also makes one more conformance test pass. Diff (against baseline on current master):\r\n\r\n```diff\r\ndiff --git a/conformance/results/mypy/generics_paramspec_components.toml b/conformance/results/mypy/generics_paramspec_components.toml\r\nindex 66a386a..86ba0b0 100644\r\n--- a/conformance/results/mypy/generics_paramspec_components.toml\r\n+++ b/conformance/results/mypy/generics_paramspec_components.toml\r\n@@ -8,10 +8,18 @@ Does not report error when keyword argument is specified between P.args and P.kw\r\n output = \"\"\"\r\n generics_paramspec_components.py:17: error: Use \"P.args\" for variadic \"*\" parameter  [valid-type]\r\n generics_paramspec_components.py:17: error: Use \"P.kwargs\" for variadic \"**\" parameter  [valid-type]\r\n+generics_paramspec_components.py:20: error: ParamSpec components are not allowed here  [valid-type]\r\n generics_paramspec_components.py:23: error: Use \"P.kwargs\" for variadic \"**\" parameter  [valid-type]\r\n+generics_paramspec_components.py:26: error: ParamSpec must have \"*args\" typed as \"P.args\" and \"**kwargs\" typed as \"P.kwargs\"  [valid-type]\r\n+generics_paramspec_components.py:30: error: ParamSpec \"P\" is unbound  [valid-type]\r\n+generics_paramspec_components.py:35: error: ParamSpec components are not allowed here  [valid-type]\r\n+generics_paramspec_components.py:36: error: ParamSpec components are not allowed here  [valid-type]\r\n+generics_paramspec_components.py:38: error: ParamSpec must have \"*args\" typed as \"P.args\" and \"**kwargs\" typed as \"P.kwargs\"  [valid-type]\r\n+generics_paramspec_components.py:41: error: ParamSpec must have \"*args\" typed as \"P.args\" and \"**kwargs\" typed as \"P.kwargs\"  [valid-type]\r\n generics_paramspec_components.py:49: error: Argument 1 has incompatible type \"*P.kwargs\"; expected \"P.args\"  [arg-type]\r\n generics_paramspec_components.py:49: error: Argument 2 has incompatible type \"**P.args\"; expected \"P.kwargs\"  [arg-type]\r\n generics_paramspec_components.py:51: error: Argument 1 has incompatible type \"int\"; expected \"P.args\"  [arg-type]\r\n+generics_paramspec_components.py:60: error: Arguments not allowed after ParamSpec.args  [valid-type]\r\n generics_paramspec_components.py:70: error: Argument 1 has incompatible type \"*P.args\"; expected \"int\"  [arg-type]\r\n generics_paramspec_components.py:70: error: Argument 2 has incompatible type \"int\"; expected \"P.args\"  [arg-type]\r\n generics_paramspec_components.py:72: error: Argument 1 has incompatible type \"*P.args\"; expected \"int\"  [arg-type]\r\n@@ -21,14 +29,6 @@ generics_paramspec_components.py:83: error: Argument 3 to \"foo\" has incompatible\r\n generics_paramspec_components.py:98: error: Argument 2 to \"twice\" has incompatible type \"str\"; expected \"int\"  [arg-type]\r\n generics_paramspec_components.py:98: error: Argument 3 to \"twice\" has incompatible type \"int\"; expected \"str\"  [arg-type]\r\n \"\"\"\r\n-conformance_automated = \"Fail\"\r\n+conformance_automated = \"Pass\"\r\n errors_diff = \"\"\"\r\n-Line 20: Expected 1 errors\r\n-Line 26: Expected 1 errors\r\n-Line 30: Expected 1 errors\r\n-Line 35: Expected 1 errors\r\n-Line 36: Expected 1 errors\r\n-Line 38: Expected 1 errors\r\n-Line 41: Expected 1 errors\r\n-Line 60: Expected 1 errors\r\n \"\"\"\r\ndiff --git a/conformance/results/mypy/version.toml b/conformance/results/mypy/version.toml\r\nindex 3030c9f..42ef13b 100644\r\n--- a/conformance/results/mypy/version.toml\r\n+++ b/conformance/results/mypy/version.toml\r\n@@ -1,2 +1,2 @@\r\n-version = \"mypy 1.14.0+dev.14974072c0a70f8ca29c17c740475187b800e714\"\r\n-test_duration = 8.4\r\n+version = \"mypy 1.14.0+dev.e580045ce62e3c8ccd17fb575f60ec7ede65c01b\"\r\n+test_duration = 8.2\r\ndiff --git a/conformance/results/results.html b/conformance/results/results.html\r\nindex e6ef533..1278a53 100644\r\n--- a/conformance/results/results.html\r\n+++ b/conformance/results/results.html\r\n@@ -158,8 +158,8 @@\r\n         </header>\r\n         <div class=\"table_container\"><table><tbody>\r\n <tr><th class=\"col1\">&nbsp;</th>\r\n-<th class='tc-header'><div class='tc-name'>mypy 1.14.0+dev.14974072c0a70f8ca29c17c740475187b800e714</div>\r\n-<div class='tc-time'>8.4sec</div>\r\n+<th class='tc-header'><div class='tc-name'>mypy 1.14.0+dev.e580045ce62e3c8ccd17fb575f60ec7ede65c01b</div>\r\n+<div class='tc-time'>8.2sec</div>\r\n </th>\r\n </tr>\r\n <tr><th class=\"column\" colspan=\"2\">\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/18278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/18278/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":15802148438,"node_id":"CE_lADOAGuhRc5f6FydzwAAAAOt4aZW","url":"https://api.github.com/repos/python/mypy/issues/events/15802148438","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-01-02T20:39:06Z","state_reason":null,"performed_via_github_app":null},{"id":15802148463,"node_id":"CE_lADOAGuhRc5f6FydzwAAAAOt4aZv","url":"https://api.github.com/repos/python/mypy/issues/events/15802148463","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"025642bbdbb9f6a00f3ed7a511be2e9d45795618","commit_url":"https://api.github.com/repos/python/mypy/commits/025642bbdbb9f6a00f3ed7a511be2e9d45795618","created_at":"2025-01-02T20:39:06Z","state_reason":null,"performed_via_github_app":null},{"id":15803342518,"node_id":"REFE_lADOAGuhRc5f6FydzwAAAAOt8962","url":"https://api.github.com/repos/python/mypy/issues/events/15803342518","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"025642bbdbb9f6a00f3ed7a511be2e9d45795618","commit_url":"https://api.github.com/repos/sysfce2/mypy/commits/025642bbdbb9f6a00f3ed7a511be2e9d45795618","created_at":"2025-01-02T23:53:09Z","performed_via_github_app":null}]