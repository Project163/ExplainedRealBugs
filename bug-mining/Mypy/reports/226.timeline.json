[{"id":7757117281,"node_id":"LE_lADOAGuhRc5Vx1fVzwAAAAHOXDdh","url":"https://api.github.com/repos/python/mypy/issues/events/7757117281","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-07T23:05:51Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":7757127691,"node_id":"LE_lADOAGuhRc5Vx1fVzwAAAAHOXGAL","url":"https://api.github.com/repos/python/mypy/issues/events/7757127691","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-07T23:08:00Z","label":{"name":"topic-reachability","color":"2EC6A6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306348700","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306348700","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306348700,"node_id":"IC_kwDOAGuhRc5N3Uyc","user":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T23:12:02Z","updated_at":"2022-11-07T23:12:02Z","body":"This bug introduces 8 false positives when mypy checks the [`flake8-pyi` codebase](https://github.com/PyCQA/flake8-pyi/blob/master/pyi.py) (we have `--warn-unreachable` enabled in our `pyproject.toml` file):\r\n\r\n<details>\r\n\r\n```\r\npyi.py:1126: error: Subclass of \"complex\" and \"int\" cannot exist: would\r\nhave incompatible method signatures  [unreachable]\r\n                    if type(literal.n) is int:\r\n                            ^~~~~~~~~\r\npyi.py:1275: error: Subclass of \"complex\" and \"int\" cannot exist: would\r\nhave incompatible method signatures  [unreachable]\r\n                    if isinstance(slc.n, int) and slc.n == 0:\r\n                                  ^~~~~\r\npyi.py:1275: error: Right operand of \"and\" is never evaluated\r\n[unreachable]\r\n                    if isinstance(slc.n, int) and slc.n == 0:\r\n                                                  ^~~~~~~~~~\r\npyi.py:1276: error: Statement is unreachable  [unreachable]\r\n                        must_be_single = True\r\n                        ^~~~~~~~~~~~~~~~~~~~~\r\npyi.py:1287: error: Subclass of \"complex\" and \"int\" cannot exist: would\r\nhave incompatible method signatures  [unreachable]\r\n                        and isinstance(slc.upper.n, int)\r\n                                       ^~~~~~~~~~~\r\npyi.py:1288: error: Right operand of \"and\" is never evaluated\r\n[unreachable]\r\n                        and slc.upper.n in (1, 2)\r\n                            ^~~~~~~~~~~~~~~~~~~~~\r\npyi.py:1290: error: Statement is unreachable  [unreachable]\r\n                        can_have_strict_equals = slc.upper.n\r\n                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\npyi.py:1313: error: Subclass of \"complex\" and \"int\" cannot exist: would\r\nhave incompatible method signatures  [unreachable]\r\n    ...nstance(comparator, ast.Num) or not isinstance(comparator.n, int):\r\n                                                      ^~~~~~~~~~~~\r\nFound 8 errors in 1 file (checked 1 source file)\r\n```\r\n\r\n</details>","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306348700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306369810","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306369810","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306369810,"node_id":"IC_kwDOAGuhRc5N3Z8S","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T23:29:58Z","updated_at":"2022-11-07T23:29:58Z","body":"cc @ilevkivskyi this is from https://github.com/python/mypy/issues/13781","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306369810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7757260047,"node_id":"MEE_lADOAGuhRc5Vx1fVzwAAAAHOXmUP","url":"https://api.github.com/repos/python/mypy/issues/events/7757260047","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-07T23:29:58Z","performed_via_github_app":null},{"id":7757260056,"node_id":"SE_lADOAGuhRc5Vx1fVzwAAAAHOXmUY","url":"https://api.github.com/repos/python/mypy/issues/events/7757260056","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-07T23:29:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306386959","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306386959","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306386959,"node_id":"IC_kwDOAGuhRc5N3eIP","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T23:54:25Z","updated_at":"2022-11-07T23:54:25Z","body":"FWIW this is intentional, `isinstance()` checks have always been determined by runtime behavior, not static subtyping. Previously promotions sometimes leaked, and caused various inconsistencies.\r\n\r\nThere is really no middle ground, if we enable promotions, there will be other issues, see, e.g. https://github.com/python/mypy/issues/6060. I would say current behavior is better because:\r\n* It is more consistent with how `isinstance()` check behaves in other situations\r\n* It may cause \"false positives\" with a strictness flag, while opposite causes false positives with default options.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306386959/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306388315","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306388315","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306388315,"node_id":"IC_kwDOAGuhRc5N3edb","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T23:56:32Z","updated_at":"2022-11-07T23:56:32Z","body":"Also fix should be trivial, use a more precise type, like `Union[int, complex]`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306388315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306390828","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306390828","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306390828,"node_id":"IC_kwDOAGuhRc5N3fEs","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T00:00:33Z","updated_at":"2022-11-08T00:00:33Z","body":"Without strictness flags, the current behavior leads code to be silently skipped as unreachable, which is arguably worse. I agree that there are few good options here though.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306390828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306390974","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306390974","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306390974,"node_id":"IC_kwDOAGuhRc5N3fG-","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T00:00:48Z","updated_at":"2022-11-08T00:00:48Z","body":"Maybe there's some hack, so we keep the better narrowing behaviour, but it doesn't affect reachability","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306390974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306393833","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306393833","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306393833,"node_id":"IC_kwDOAGuhRc5N3fzp","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T00:04:14Z","updated_at":"2022-11-08T00:04:14Z","body":"@hauntsaninja Actually, if you like hacks, I think there may be a (relatively) easy one: ignore the impossible intersection check in case if one type can be promoted to another one.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306393833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7757413168,"node_id":"MEE_lADOAGuhRc5Vx1fVzwAAAAHOYLsw","url":"https://api.github.com/repos/python/mypy/issues/events/7757413168","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-08T00:04:14Z","performed_via_github_app":null},{"id":7757413177,"node_id":"SE_lADOAGuhRc5Vx1fVzwAAAAHOYLs5","url":"https://api.github.com/repos/python/mypy/issues/events/7757413177","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-08T00:04:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306403412","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306403412","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306403412,"node_id":"IC_kwDOAGuhRc5N3iJU","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T00:14:35Z","updated_at":"2022-11-08T00:14:35Z","body":"Well, we should probably still prohibit (consider unreachable) something like:\r\n```python\r\nif isinstance(x, int) and isinstance(x, float):\r\n    ...\r\n```\r\nso it may require some work to implement.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306403412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306701014","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306701014","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306701014,"node_id":"IC_kwDOAGuhRc5N4qzW","user":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T06:29:20Z","updated_at":"2022-11-08T06:29:20Z","body":"Just making sure you all are aware of the idea in #11516\n\nSpecifically: in the if statement, split types up into this union and rely on already-existing narrowing.\n\nY'all are probably already aware, but just making sure this \"solution\" is considered. (I don't see any reasoning on that issue itself that would disqualify it)","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306701014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"kasium","id":15907922,"node_id":"MDQ6VXNlcjE1OTA3OTIy","avatar_url":"https://avatars.githubusercontent.com/u/15907922?v=4","gravatar_id":"","url":"https://api.github.com/users/kasium","html_url":"https://github.com/kasium","followers_url":"https://api.github.com/users/kasium/followers","following_url":"https://api.github.com/users/kasium/following{/other_user}","gists_url":"https://api.github.com/users/kasium/gists{/gist_id}","starred_url":"https://api.github.com/users/kasium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasium/subscriptions","organizations_url":"https://api.github.com/users/kasium/orgs","repos_url":"https://api.github.com/users/kasium/repos","events_url":"https://api.github.com/users/kasium/events{/privacy}","received_events_url":"https://api.github.com/users/kasium/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T07:52:51Z","updated_at":"2022-11-08T07:52:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/typeshed/issues/9129","repository_url":"https://api.github.com/repos/python/typeshed","labels_url":"https://api.github.com/repos/python/typeshed/issues/9129/labels{/name}","comments_url":"https://api.github.com/repos/python/typeshed/issues/9129/comments","events_url":"https://api.github.com/repos/python/typeshed/issues/9129/events","html_url":"https://github.com/python/typeshed/issues/9129","id":1439668595,"node_id":"I_kwDOAeOl_85Vz5lz","number":9129,"title":"Adapt ast types for mypy 0.990 ","user":{"login":"kasium","id":15907922,"node_id":"MDQ6VXNlcjE1OTA3OTIy","avatar_url":"https://avatars.githubusercontent.com/u/15907922?v=4","gravatar_id":"","url":"https://api.github.com/users/kasium","html_url":"https://github.com/kasium","followers_url":"https://api.github.com/users/kasium/followers","following_url":"https://api.github.com/users/kasium/following{/other_user}","gists_url":"https://api.github.com/users/kasium/gists{/gist_id}","starred_url":"https://api.github.com/users/kasium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasium/subscriptions","organizations_url":"https://api.github.com/users/kasium/orgs","repos_url":"https://api.github.com/users/kasium/repos","events_url":"https://api.github.com/users/kasium/events{/privacy}","received_events_url":"https://api.github.com/users/kasium/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-11-08T07:52:51Z","updated_at":"2022-11-14T09:41:24Z","closed_at":"2022-11-14T09:41:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":31696383,"node_id":"MDEwOlJlcG9zaXRvcnkzMTY5NjM4Mw==","name":"typeshed","full_name":"python/typeshed","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/typeshed","description":"Collection of library stubs for Python, with static types","fork":false,"url":"https://api.github.com/repos/python/typeshed","forks_url":"https://api.github.com/repos/python/typeshed/forks","keys_url":"https://api.github.com/repos/python/typeshed/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/typeshed/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/typeshed/teams","hooks_url":"https://api.github.com/repos/python/typeshed/hooks","issue_events_url":"https://api.github.com/repos/python/typeshed/issues/events{/number}","events_url":"https://api.github.com/repos/python/typeshed/events","assignees_url":"https://api.github.com/repos/python/typeshed/assignees{/user}","branches_url":"https://api.github.com/repos/python/typeshed/branches{/branch}","tags_url":"https://api.github.com/repos/python/typeshed/tags","blobs_url":"https://api.github.com/repos/python/typeshed/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/typeshed/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/typeshed/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/typeshed/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/typeshed/statuses/{sha}","languages_url":"https://api.github.com/repos/python/typeshed/languages","stargazers_url":"https://api.github.com/repos/python/typeshed/stargazers","contributors_url":"https://api.github.com/repos/python/typeshed/contributors","subscribers_url":"https://api.github.com/repos/python/typeshed/subscribers","subscription_url":"https://api.github.com/repos/python/typeshed/subscription","commits_url":"https://api.github.com/repos/python/typeshed/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/typeshed/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/typeshed/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/typeshed/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/typeshed/contents/{+path}","compare_url":"https://api.github.com/repos/python/typeshed/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/typeshed/merges","archive_url":"https://api.github.com/repos/python/typeshed/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/typeshed/downloads","issues_url":"https://api.github.com/repos/python/typeshed/issues{/number}","pulls_url":"https://api.github.com/repos/python/typeshed/pulls{/number}","milestones_url":"https://api.github.com/repos/python/typeshed/milestones{/number}","notifications_url":"https://api.github.com/repos/python/typeshed/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/typeshed/labels{/name}","releases_url":"https://api.github.com/repos/python/typeshed/releases{/id}","deployments_url":"https://api.github.com/repos/python/typeshed/deployments","created_at":"2015-03-05T04:51:28Z","updated_at":"2025-11-08T16:43:58Z","pushed_at":"2025-11-08T16:43:53Z","git_url":"git://github.com/python/typeshed.git","ssh_url":"git@github.com:python/typeshed.git","clone_url":"https://github.com/python/typeshed.git","svn_url":"https://github.com/python/typeshed","homepage":"","size":29634,"stargazers_count":4915,"watchers_count":4915,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1931,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":332,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["python","stub","types","typing"],"visibility":"public","forks":1931,"open_issues":332,"watchers":4915,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"With mypy 0.990 the complex/int/float promotion was changed (see https://github.com/python/mypy/issues/14030).\r\nTherefore checks like `isinstance(node, ast.Num) and isinstance(node.n, int)` fails with strict mode enabled.\r\n\r\nThe recommendation by mypy is to change complex to `Union[int, float, complex]`. Are there any objections to do so in the ast module?","reactions":{"url":"https://api.github.com/repos/python/typeshed/issues/9129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/typeshed/issues/9129/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306860142","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1306860142","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1306860142,"node_id":"IC_kwDOAGuhRc5N5Rpu","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T09:02:00Z","updated_at":"2022-11-08T09:02:00Z","body":"@hauntsaninja Actually after thinking some more, it seems to me we shouldn't change this, otherwise we may not flag legitimately unreachable code like\r\n```python\r\nx = 1j\r\nif isinstance(x, int):\r\n    ...\r\n```\r\nthat may potentially also hide bugs.\r\n\r\nIn general, most of the original motivation for type promotions was that practically all functions originally intended for `float` will also (accidentally) work for `int`. So to avoid forcing people to annotate all their argument types as e.g. `Union[int, float]`, this decision was made. On the opposite, if a function actually differentiates between `int` and `float`, it should be annotated as taking `Union[int, float]` to emphasize this:\r\n```python\r\ndef weighted(a: float, b: float) -> float:\r\n    return (a + 2 * b) / 3\r\nweighted(1, 2)  # This is fine\r\n\r\ndef num_type(x: float) -> str:  # Bad, should be Union[int, float]\r\n    if isinstance(x, int):\r\n        return \"Integer\"\r\n    return \"Floating\"\r\n```\r\nAnyway, it is still gray area and likely there will still be some people who likes (or used to) the old behavior. So we should clearly document this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1306860142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7760389892,"node_id":"MEE_lADOAGuhRc5Vx1fVzwAAAAHOjicE","url":"https://api.github.com/repos/python/mypy/issues/events/7760389892","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-08T09:02:00Z","performed_via_github_app":null},{"id":7760389910,"node_id":"SE_lADOAGuhRc5Vx1fVzwAAAAHOjicW","url":"https://api.github.com/repos/python/mypy/issues/events/7760389910","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-08T09:02:00Z","performed_via_github_app":null},{"id":7760394216,"node_id":"LE_lADOAGuhRc5Vx1fVzwAAAAHOjjfo","url":"https://api.github.com/repos/python/mypy/issues/events/7760394216","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-08T09:02:28Z","label":{"name":"documentation","color":"0b02e1"},"performed_via_github_app":null},{"actor":{"login":"kasium","id":15907922,"node_id":"MDQ6VXNlcjE1OTA3OTIy","avatar_url":"https://avatars.githubusercontent.com/u/15907922?v=4","gravatar_id":"","url":"https://api.github.com/users/kasium","html_url":"https://github.com/kasium","followers_url":"https://api.github.com/users/kasium/followers","following_url":"https://api.github.com/users/kasium/following{/other_user}","gists_url":"https://api.github.com/users/kasium/gists{/gist_id}","starred_url":"https://api.github.com/users/kasium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasium/subscriptions","organizations_url":"https://api.github.com/users/kasium/orgs","repos_url":"https://api.github.com/users/kasium/repos","events_url":"https://api.github.com/users/kasium/events{/privacy}","received_events_url":"https://api.github.com/users/kasium/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T09:14:33Z","updated_at":"2022-11-08T09:14:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299","repository_url":"https://api.github.com/repos/PyCQA/flake8-pyi","labels_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299/labels{/name}","comments_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299/comments","events_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299/events","html_url":"https://github.com/PyCQA/flake8-pyi/issues/299","id":1439789684,"node_id":"I_kwDOBJdtuc5V0XJ0","number":299,"title":"Y041 is not compatible with mypy 0.990","user":{"login":"kasium","id":15907922,"node_id":"MDQ6VXNlcjE1OTA3OTIy","avatar_url":"https://avatars.githubusercontent.com/u/15907922?v=4","gravatar_id":"","url":"https://api.github.com/users/kasium","html_url":"https://github.com/kasium","followers_url":"https://api.github.com/users/kasium/followers","following_url":"https://api.github.com/users/kasium/following{/other_user}","gists_url":"https://api.github.com/users/kasium/gists{/gist_id}","starred_url":"https://api.github.com/users/kasium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasium/subscriptions","organizations_url":"https://api.github.com/users/kasium/orgs","repos_url":"https://api.github.com/users/kasium/repos","events_url":"https://api.github.com/users/kasium/events{/privacy}","received_events_url":"https://api.github.com/users/kasium/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":504704219,"node_id":"MDU6TGFiZWw1MDQ3MDQyMTk=","url":"https://api.github.com/repos/PyCQA/flake8-pyi/labels/type-bug","name":"type-bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-11-08T09:14:33Z","updated_at":"2022-11-24T08:19:52Z","closed_at":"2022-11-24T08:19:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":77032889,"node_id":"MDEwOlJlcG9zaXRvcnk3NzAzMjg4OQ==","name":"flake8-pyi","full_name":"PyCQA/flake8-pyi","private":false,"owner":{"login":"PyCQA","id":8749848,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3NDk4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/8749848?v=4","gravatar_id":"","url":"https://api.github.com/users/PyCQA","html_url":"https://github.com/PyCQA","followers_url":"https://api.github.com/users/PyCQA/followers","following_url":"https://api.github.com/users/PyCQA/following{/other_user}","gists_url":"https://api.github.com/users/PyCQA/gists{/gist_id}","starred_url":"https://api.github.com/users/PyCQA/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PyCQA/subscriptions","organizations_url":"https://api.github.com/users/PyCQA/orgs","repos_url":"https://api.github.com/users/PyCQA/repos","events_url":"https://api.github.com/users/PyCQA/events{/privacy}","received_events_url":"https://api.github.com/users/PyCQA/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/PyCQA/flake8-pyi","description":"A plugin for Flake8 that provides specializations for type hinting stub files","fork":false,"url":"https://api.github.com/repos/PyCQA/flake8-pyi","forks_url":"https://api.github.com/repos/PyCQA/flake8-pyi/forks","keys_url":"https://api.github.com/repos/PyCQA/flake8-pyi/keys{/key_id}","collaborators_url":"https://api.github.com/repos/PyCQA/flake8-pyi/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/PyCQA/flake8-pyi/teams","hooks_url":"https://api.github.com/repos/PyCQA/flake8-pyi/hooks","issue_events_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/events{/number}","events_url":"https://api.github.com/repos/PyCQA/flake8-pyi/events","assignees_url":"https://api.github.com/repos/PyCQA/flake8-pyi/assignees{/user}","branches_url":"https://api.github.com/repos/PyCQA/flake8-pyi/branches{/branch}","tags_url":"https://api.github.com/repos/PyCQA/flake8-pyi/tags","blobs_url":"https://api.github.com/repos/PyCQA/flake8-pyi/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/PyCQA/flake8-pyi/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/PyCQA/flake8-pyi/git/refs{/sha}","trees_url":"https://api.github.com/repos/PyCQA/flake8-pyi/git/trees{/sha}","statuses_url":"https://api.github.com/repos/PyCQA/flake8-pyi/statuses/{sha}","languages_url":"https://api.github.com/repos/PyCQA/flake8-pyi/languages","stargazers_url":"https://api.github.com/repos/PyCQA/flake8-pyi/stargazers","contributors_url":"https://api.github.com/repos/PyCQA/flake8-pyi/contributors","subscribers_url":"https://api.github.com/repos/PyCQA/flake8-pyi/subscribers","subscription_url":"https://api.github.com/repos/PyCQA/flake8-pyi/subscription","commits_url":"https://api.github.com/repos/PyCQA/flake8-pyi/commits{/sha}","git_commits_url":"https://api.github.com/repos/PyCQA/flake8-pyi/git/commits{/sha}","comments_url":"https://api.github.com/repos/PyCQA/flake8-pyi/comments{/number}","issue_comment_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/comments{/number}","contents_url":"https://api.github.com/repos/PyCQA/flake8-pyi/contents/{+path}","compare_url":"https://api.github.com/repos/PyCQA/flake8-pyi/compare/{base}...{head}","merges_url":"https://api.github.com/repos/PyCQA/flake8-pyi/merges","archive_url":"https://api.github.com/repos/PyCQA/flake8-pyi/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/PyCQA/flake8-pyi/downloads","issues_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues{/number}","pulls_url":"https://api.github.com/repos/PyCQA/flake8-pyi/pulls{/number}","milestones_url":"https://api.github.com/repos/PyCQA/flake8-pyi/milestones{/number}","notifications_url":"https://api.github.com/repos/PyCQA/flake8-pyi/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/PyCQA/flake8-pyi/labels{/name}","releases_url":"https://api.github.com/repos/PyCQA/flake8-pyi/releases{/id}","deployments_url":"https://api.github.com/repos/PyCQA/flake8-pyi/deployments","created_at":"2016-12-21T08:28:28Z","updated_at":"2025-10-06T23:21:42Z","pushed_at":"2025-10-06T23:21:39Z","git_url":"git://github.com/PyCQA/flake8-pyi.git","ssh_url":"git@github.com:PyCQA/flake8-pyi.git","clone_url":"https://github.com/PyCQA/flake8-pyi.git","svn_url":"https://github.com/PyCQA/flake8-pyi","homepage":null,"size":584,"stargazers_count":80,"watchers_count":80,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":23,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":19,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["flake8","lint","linter","linter-plugin","mypy","pep484","python","stub-files","type-checking","typing"],"visibility":"public","forks":23,"open_issues":19,"watchers":80,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"With mypy 0.990 type promotions was changed.\r\n\r\nBefore\r\n```py\r\nclass Foo:\r\n  a: complex\r\n\r\nisinstance(Foo().a, int)  # fine\r\n```\r\n\r\nAfter\r\n```py\r\nclass Foo:\r\n  a: complex\r\n\r\nisinstance(Foo().a, int)  # fails\r\n\r\nclass Foo:\r\n  a: complex | float | int  # raises Y041 \r\n\r\nisinstance(Foo().a, int)  # fine\r\n```\r\n\r\nNot sure what to do with this check, but just raining attention.\r\nSee https://github.com/python/mypy/issues/14030 and https://github.com/python/typeshed/pull/9130","reactions":{"url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PyCQA/flake8-pyi/issues/299/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307381790","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307381790","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307381790,"node_id":"IC_kwDOAGuhRc5N7RAe","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T15:15:58Z","updated_at":"2022-11-08T15:15:58Z","body":"I agree with Ivan's proposed approach. Some thoughts on what we'd need to change:\r\n\r\n- In mypy, the new behavior can lead mypy to silently skip checking code. To make that a less likely problem, we should move forward with including `--warn-unreachable` in `--strict` (#11223).\r\n- In flake8-pyi we should drop the check against `int | float` unions (Y041).\r\n- In typeshed we should document when to use `int | float` and make changes where appropriate, including in the type for `ast.Num.n`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307381790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307458472","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307458472","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307458472,"node_id":"IC_kwDOAGuhRc5N7juo","user":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T16:07:39Z","updated_at":"2022-11-08T16:11:12Z","body":"Some thoughts from me:\r\n\r\n- I find it pretty confusing for us to say \"`int` is an implicit subtype of `float`, but only sometimes. Sometimes you can just annotate an argument with `float` and it'll mean `float | int`, but other times it'll cause surprising errors.\" Rereading PEP 484, the spec is vaguer than I remembered, so I guess this isn't going against the spec. It feels inherently confusing and pretty user-unfriendly, though, and I'm not sure any amount of documentation is going to solve that :(\r\n- I'm not exactly a fan of implicit promotions; in an ideal world, I'd love it if we could have a more principled solution to this problem. But deprecating `float/int` subtyping doesn't feel like a realistic proposal at this point in time.\r\n- I agree that we should definitely change flake8-pyi's Y041 check if mypy is sticking with this behaviour. I'm not sure if we should drop it completely or change it so that it only applies to parameter annotations in functions.\r\n- Making `--warn-unreachable` the default if you have `--strict` enabled would be great, but I don't think it's doable at the moment. It currently has loads of false positives if you're dealing with code that has platform-specific branches. You can see this if you try to enable `--warn-unreachable` for mypy's selfcheck.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307458472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307510049","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307510049","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307510049,"node_id":"IC_kwDOAGuhRc5N7wUh","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T16:42:34Z","updated_at":"2022-11-08T16:42:34Z","body":"I think that it would be least confusing if we managed to preserve the `isinstance` behavior of 0.982 while still ignoring promotions when simplifying unions generally. \r\n\r\nI think that it's okay to allow users to be explicit and annotate things as `float | int` and so on, but this feels like a pretty advanced feature and most users should need to know about it.\r\n\r\n> ... that may potentially also hide bugs.\r\n\r\nI don't think that is a significant issue. This is also possible with real subclasses and I don't think anybody has complained about code like this not generating errors:\r\n\r\n```py\r\nclass Base: pass\r\nclass Sub(Base): pass\r\n\r\no = Base()\r\nif isinstance(o, Sub): \r\n    <something>\r\n```","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307510049/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307519219","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307519219","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307519219,"node_id":"IC_kwDOAGuhRc5N7yjz","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T16:49:10Z","updated_at":"2022-11-08T16:49:10Z","body":"> I think that it would be least confusing if we managed to preserve the isinstance behavior of 0.982 while still ignoring promotions when simplifying unions generally.\r\n\r\n`isinstance()` behavior in 0.982 is just wrong, and we had issues about it, examples https://github.com/python/mypy/issues/6060, https://github.com/python/mypy/issues/12824","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307519219/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307523481","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307523481","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307523481,"node_id":"IC_kwDOAGuhRc5N7zmZ","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T16:52:31Z","updated_at":"2022-11-08T16:52:31Z","body":"> This is also possible with real subclasses and I don't think anybody has complained about code like this not generating errors\r\n\r\nThis is different. With `complex` vs `int` that branch is always unreachable, and if someone asks for `--warn-unreachable` we should warn. Not doing so is a bug.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307523481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307533121","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307533121","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307533121,"node_id":"IC_kwDOAGuhRc5N719B","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T17:00:26Z","updated_at":"2022-11-08T17:00:26Z","body":"> I find it pretty confusing for us to say \"int is an implicit subtype of float, but only sometimes...\r\n\r\nIt was always like this, since both extremes are clearly bad, we need to find a reasonable/clear midpoint. FWIW the current one seems more consistent to me than in 0.982","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307533121/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307554312","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307554312","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307554312,"node_id":"IC_kwDOAGuhRc5N77II","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T17:12:24Z","updated_at":"2022-11-08T17:12:24Z","body":"Also in general I am in favor of adding `--warn-unreachable` to `--strict`, but as it was mentioned above, this will require some work.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307554312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307574467","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307574467","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307574467,"node_id":"IC_kwDOAGuhRc5N8ADD","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T17:28:25Z","updated_at":"2022-11-08T17:28:25Z","body":"> isinstance() behavior in 0.982 is just wrong, and we had issues about it, examples https://github.com/python/mypy/issues/6060, https://github.com/python/mypy/issues/12824\r\n\r\nI don't want to resurrect those bugs. But I'd specifically like this one to not generate unreachable code:\r\n```py\r\nfrom typing import reveal_type\r\nx: complex = 1\r\nreveal_type(x)\r\nif isinstance(x, int):\r\n    reveal_type(x)\r\n```\r\nRequiring `x: complex | int = 1` here (but not generally) seems hard to explain, and having the body of the if statement unreachable could result in buggy code getting accepted if `--warn-unreachable` is not used. I may be okay with some special casing for this use case. Uses may also consider the 0.990 behavior a regression from 0.982.\r\n\r\n> This is different. With complex vs int that branch is always unreachable, and if someone asks for --warn-unreachable we should warn. Not doing so is a bug.\r\n\r\nI think that sometimes not detecting unreachable code is less of a problem than code that is silently not being type checked because mypy things that it's unreachable but it really is reachable. I'd expect that the vast majority of users aren't using `--warn-unreachable`.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307574467/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307595255","html_url":"https://github.com/python/mypy/issues/14030#issuecomment-1307595255","issue_url":"https://api.github.com/repos/python/mypy/issues/14030","id":1307595255,"node_id":"IC_kwDOAGuhRc5N8FH3","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T17:40:09Z","updated_at":"2022-11-08T17:40:09Z","body":"> I don't want to resurrect those bugs. But I'd specifically like this one to not generate unreachable code\r\n\r\nOK, as I said above it is possible with some special casing. The less easy part is how to make the special-casing consistent. e.g. should these two be flagged as unreachable?\r\n```python\r\nx: object  # Or a union\r\nif isinstance(x, complex) and isinstance(x, int):\r\n    ...\r\n\r\nif isinsatnce(x, complex):\r\n    if isinstance(x, int):\r\n        ...\r\n```\r\nIf we continue to flag them as unreachable, then it will be inconsistent with\r\n```python\r\nx: complex\r\nif isinsatnce(x, int):\r\n    ...\r\n```\r\nIf we will also make those two reachable, what type will we give to `x` inside? An impossible intersection, or make it depend on order `int` vs `complex`?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1307595255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false}}]