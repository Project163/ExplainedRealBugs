{"url":"https://api.github.com/repos/python/mypy/issues/17225","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/17225/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/17225/comments","events_url":"https://api.github.com/repos/python/mypy/issues/17225/events","html_url":"https://github.com/python/mypy/issues/17225","id":2284673198,"node_id":"I_kwDOAGuhRc6ILViu","number":17225,"title":"`name-defined` error lets Mypy forget `TypedDict` was wrapped in `Unpack`","user":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-08T04:50:23Z","updated_at":"2024-06-05T21:32:43Z","closed_at":"2024-06-05T21:32:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```python\r\nfrom typing import overload, TypedDict, Unpack\r\n\r\nclass TD(TypedDict, total=False):\r\n    x: float\r\n    y: str\r\n\r\n@overload\r\ndef f(*, x: float) -> None: ...\r\n@overload\r\ndef f(*, y: str) -> None: ...\r\ndef f(**kwargs: Unpack[TD]) -> None:  # error: Overloaded function implementation does not accept all possible arguments of signature 1 [misc]\r\n                                      # error: Overloaded function implementation does not accept all possible arguments of signature 1 [misc]\r\n    y  # error: Name \"y\" is not defined\r\n\r\nclass A:\r\n    def f(self, *, x: float) -> None: ...\r\nclass B(A):\r\n    def f(self, **kwargs: Unpack[TD]) -> None:  # error: Argument 1 of \"f\" is incompatible with supertype \"A\"; supertype defines the argument type as \"float\"  [override]\r\n        y  # type: ignore[name-defined]\r\nreveal_type(B.f)  # note: Revealed type is \"def (self: temp.B, **kwargs: TypedDict('temp.TD', {'x'?: builtins.float, 'y'?: builtins.str}))\"\r\nB().f(x=1.0)  # error: Argument \"x\" to \"f\" of \"B\" has incompatible type \"float\"; expected \"TD\"  [arg-type]\r\n```","closed_by":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/17225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/17225/timeline","performed_via_github_app":null,"state_reason":"completed"}