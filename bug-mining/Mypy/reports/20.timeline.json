[{"id":4897186377,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4OTcxODYzNzc=","url":"https://api.github.com/repos/python/mypy/issues/events/4897186377","actor":{"login":"xqzhou","id":400311,"node_id":"MDQ6VXNlcjQwMDMxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/400311?v=4","gravatar_id":"","url":"https://api.github.com/users/xqzhou","html_url":"https://github.com/xqzhou","followers_url":"https://api.github.com/users/xqzhou/followers","following_url":"https://api.github.com/users/xqzhou/following{/other_user}","gists_url":"https://api.github.com/users/xqzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/xqzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xqzhou/subscriptions","organizations_url":"https://api.github.com/users/xqzhou/orgs","repos_url":"https://api.github.com/users/xqzhou/repos","events_url":"https://api.github.com/users/xqzhou/events{/privacy}","received_events_url":"https://api.github.com/users/xqzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-16T11:12:02Z","label":{"name":"crash","color":"b60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/862343166","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-862343166","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":862343166,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjM0MzE2Ng==","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-16T12:36:31Z","updated_at":"2021-06-16T12:36:31Z","body":"Could you share the crashing code?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/862343166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/862377689","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-862377689","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":862377689,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjM3NzY4OQ==","user":{"login":"hellocoldworld","id":47581948,"node_id":"MDQ6VXNlcjQ3NTgxOTQ4","avatar_url":"https://avatars.githubusercontent.com/u/47581948?v=4","gravatar_id":"","url":"https://api.github.com/users/hellocoldworld","html_url":"https://github.com/hellocoldworld","followers_url":"https://api.github.com/users/hellocoldworld/followers","following_url":"https://api.github.com/users/hellocoldworld/following{/other_user}","gists_url":"https://api.github.com/users/hellocoldworld/gists{/gist_id}","starred_url":"https://api.github.com/users/hellocoldworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellocoldworld/subscriptions","organizations_url":"https://api.github.com/users/hellocoldworld/orgs","repos_url":"https://api.github.com/users/hellocoldworld/repos","events_url":"https://api.github.com/users/hellocoldworld/events{/privacy}","received_events_url":"https://api.github.com/users/hellocoldworld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-16T13:24:49Z","updated_at":"2021-06-16T13:24:49Z","body":"Same issue here. \r\n\r\n```sh\r\n/home/nico/.local/share/virtualenvs/blacklists_service--dBzAapY/lib/python3.9/site-packages/mode/services.py:684: error: INTERNAL ERROR -- Please try using mypy master on Github:\r\nhttps://mypy.readthedocs.io/en/stable/common_issues.html#using-a-development-mypy-build\r\nPlease report a bug at https://github.com/python/mypy/issues\r\nversion: 0.902\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"mypy/checker.py\", line 401, in accept\r\n  File \"mypy/nodes.py\", line 1073, in accept\r\n  File \"mypy/checker.py\", line 2013, in visit_assignment_stmt\r\n  File \"mypy/checker.py\", line 2051, in check_assignment\r\n  File \"mypy/checker.py\", line 2551, in check_assignment_to_multiple_lvalues\r\n  File \"mypy/checker.py\", line 2592, in check_multi_assignment\r\n  File \"mypy/checker.py\", line 2701, in check_multi_assignment_from_tuple\r\nAssertionError: \r\n/home/nico/.local/share/virtualenvs/blacklists_service--dBzAapY/lib/python3.9/site-packages/mode/services.py:684: : note: use --pdb to drop into pdb\r\n```\r\n\r\nIn this case as you can see, the error is when type-checking the package `mode`.\r\nIn particular it fails at the line:\r\n\r\n```py\r\n            done, pending = await asyncio.wait(\r\n                futures.values(),\r\n                return_when=asyncio.FIRST_COMPLETED,\r\n                timeout=timeout,\r\n                loop=self.loop,\r\n            )\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/862377689/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hellocoldworld","id":47581948,"node_id":"MDQ6VXNlcjQ3NTgxOTQ4","avatar_url":"https://avatars.githubusercontent.com/u/47581948?v=4","gravatar_id":"","url":"https://api.github.com/users/hellocoldworld","html_url":"https://github.com/hellocoldworld","followers_url":"https://api.github.com/users/hellocoldworld/followers","following_url":"https://api.github.com/users/hellocoldworld/following{/other_user}","gists_url":"https://api.github.com/users/hellocoldworld/gists{/gist_id}","starred_url":"https://api.github.com/users/hellocoldworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellocoldworld/subscriptions","organizations_url":"https://api.github.com/users/hellocoldworld/orgs","repos_url":"https://api.github.com/users/hellocoldworld/repos","events_url":"https://api.github.com/users/hellocoldworld/events{/privacy}","received_events_url":"https://api.github.com/users/hellocoldworld/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4899594214,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4OTk1OTQyMTQ=","url":"https://api.github.com/repos/python/mypy/issues/events/4899594214","actor":{"login":"afausti","id":13968086,"node_id":"MDQ6VXNlcjEzOTY4MDg2","avatar_url":"https://avatars.githubusercontent.com/u/13968086?v=4","gravatar_id":"","url":"https://api.github.com/users/afausti","html_url":"https://github.com/afausti","followers_url":"https://api.github.com/users/afausti/followers","following_url":"https://api.github.com/users/afausti/following{/other_user}","gists_url":"https://api.github.com/users/afausti/gists{/gist_id}","starred_url":"https://api.github.com/users/afausti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afausti/subscriptions","organizations_url":"https://api.github.com/users/afausti/orgs","repos_url":"https://api.github.com/users/afausti/repos","events_url":"https://api.github.com/users/afausti/events{/privacy}","received_events_url":"https://api.github.com/users/afausti/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f414737c66e71dba526545dcdb5676ead73f8c59","commit_url":"https://api.github.com/repos/lsst-sqre/kafka-aggregator/commits/f414737c66e71dba526545dcdb5676ead73f8c59","created_at":"2021-06-16T18:06:24Z","performed_via_github_app":null},{"actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T15:23:36Z","updated_at":"2021-06-17T15:23:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/10622","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/10622/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/10622/comments","events_url":"https://api.github.com/repos/python/mypy/issues/10622/events","html_url":"https://github.com/python/mypy/issues/10622","id":917446267,"node_id":"MDU6SXNzdWU5MTc0NDYyNjc=","number":10622,"title":"Release 0.910 planning","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2021-06-10T15:01:31Z","updated_at":"2021-09-05T21:26:01Z","closed_at":"2021-06-23T13:52:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm planning to release mypy 0.910 next week. It's only going to me a small feature release -- cherry-picks on top of 0.902. The main thing I want in is `mypy --install-types --non-interactive` (#10616). I'll probably also cherry-pick some typeshed fixes (#10621). If anybody wants something else in the release, please leave a comment here.\r\n\r\nI probably won't include any new features unless they address some issue introduced in 0.900.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/10622/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/10622/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/864036315","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-864036315","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":864036315,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDAzNjMxNQ==","user":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-18T13:23:08Z","updated_at":"2021-06-18T13:23:08Z","body":"73f3d73dbe723691dddfba67ac7f0c89d7189865 is the first bad commit\r\ncommit 73f3d73dbe723691dddfba67ac7f0c89d7189865\r\nAuthor: Shantanu <12621235+hauntsaninja@users.noreply.github.com>\r\nDate:   Tue Apr 20 23:06:35 2021 -0700\r\n\r\n    Sync typeshed (#10346)\r\n\r\nThis commit updates the typeshed for asyncio which triggers the internal crash","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/864036315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/864039824","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-864039824","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":864039824,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDAzOTgyNA==","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-18T13:28:30Z","updated_at":"2021-06-18T13:28:30Z","body":"Should be python/typeshed#5193 then.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/864039824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865083735","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865083735","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865083735,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTA4MzczNQ==","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:35:09Z","updated_at":"2021-06-21T14:35:09Z","body":"@TH3CHARLie Have you made any further progress with this crash? I can help if you can share a repro. I couldn't reproduce this (but I only spent a little time on this).","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865083735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4917242070,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDkxNzI0MjA3MA==","url":"https://api.github.com/repos/python/mypy/issues/events/4917242070","actor":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-21T14:35:09Z","performed_via_github_app":null},{"id":4917242073,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ5MTcyNDIwNzM=","url":"https://api.github.com/repos/python/mypy/issues/events/4917242073","actor":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-06-21T14:35:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865084900","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865084900","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865084900,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTA4NDkwMA==","user":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:36:45Z","updated_at":"2021-06-21T14:37:13Z","body":"I don't have a minimal repro right now, I can reproduce this on `mode` while this makes debugging complicated.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865084900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865109270","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865109270","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865109270,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTEwOTI3MA==","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T15:05:51Z","updated_at":"2021-06-21T15:05:51Z","body":"Here is a minimal(ish) reporo whittled down from the code in `mode`:\r\n\r\n```python\r\nimport asyncio\r\n\r\nfrom typing import Awaitable, Set\r\n\r\n\r\nasync def wait_first(*coros: Awaitable) -> None:\r\n    futures = {coro: asyncio.ensure_future(coro) for coro in coros}\r\n    done: Set[asyncio.Future]\r\n    pending: Set[asyncio.Future]\r\n    done, pending = await asyncio.wait(futures.values())\r\n```\r\n\r\n<details>\r\n<summary>stack trace</summary>\r\n\r\n```\r\n% mypy --show-traceback services.py\r\nservices.py:10: error: INTERNAL ERROR -- Please try using mypy master on Github:\r\nhttps://mypy.readthedocs.io/en/stable/common_issues.html#using-a-development-mypy-build\r\nPlease report a bug at https://github.com/python/mypy/issues\r\nversion: 0.910+dev.2ebdbca3b5afbfa1113f01b583522f4afcc4b3e3\r\nTraceback (most recent call last):\r\n  File \"/Users/jelle/py/venvs/mypy/bin/mypy\", line 33, in <module>\r\n    sys.exit(load_entry_point('mypy', 'console_scripts', 'mypy')())\r\n  File \"/Users/jelle/py/mypy/mypy/__main__.py\", line 11, in console_entry\r\n    main(None, sys.stdout, sys.stderr)\r\n  File \"/Users/jelle/py/mypy/mypy/main.py\", line 87, in main\r\n    res, messages, blockers = run_build(sources, options, fscache, t0, stdout, stderr)\r\n  File \"/Users/jelle/py/mypy/mypy/main.py\", line 165, in run_build\r\n    res = build.build(sources, options, None, flush_errors, fscache, stdout, stderr)\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 179, in build\r\n    result = _build(\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 254, in _build\r\n    graph = dispatch(sources, manager, stdout)\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 2696, in dispatch\r\n    process_graph(graph, manager)\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 3020, in process_graph\r\n    process_stale_scc(graph, scc, manager)\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 3118, in process_stale_scc\r\n    graph[id].type_check_first_pass()\r\n  File \"/Users/jelle/py/mypy/mypy/build.py\", line 2165, in type_check_first_pass\r\n    self.type_checker().check_first_pass()\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 294, in check_first_pass\r\n    self.accept(d)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 401, in accept\r\n    stmt.accept(self)\r\n  File \"/Users/jelle/py/mypy/mypy/nodes.py\", line 689, in accept\r\n    return visitor.visit_func_def(self)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 726, in visit_func_def\r\n    self._visit_func_def(defn)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 730, in _visit_func_def\r\n    self.check_func_item(defn, name=defn.name)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 792, in check_func_item\r\n    self.check_func_def(defn, typ, name)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 975, in check_func_def\r\n    self.accept(item.body)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 401, in accept\r\n    stmt.accept(self)\r\n  File \"/Users/jelle/py/mypy/mypy/nodes.py\", line 1017, in accept\r\n    return visitor.visit_block(self)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 1984, in visit_block\r\n    self.accept(s)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 401, in accept\r\n    stmt.accept(self)\r\n  File \"/Users/jelle/py/mypy/mypy/nodes.py\", line 1075, in accept\r\n    return visitor.visit_assignment_stmt(self)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 2022, in visit_assignment_stmt\r\n    self.check_assignment(s.lvalues[-1], s.rvalue, s.type is None, s.new_syntax)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 2060, in check_assignment\r\n    self.check_assignment_to_multiple_lvalues(lvalue.items, rvalue, rvalue,\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 2563, in check_assignment_to_multiple_lvalues\r\n    self.check_multi_assignment(lvalues, rvalue, context, infer_lvalue_type)\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 2604, in check_multi_assignment\r\n    self.check_multi_assignment_from_tuple(lvalues, rvalue, rvalue_type,\r\n  File \"/Users/jelle/py/mypy/mypy/checker.py\", line 2713, in check_multi_assignment_from_tuple\r\n    assert isinstance(reinferred_rvalue_type, TupleType)\r\nAssertionError: \r\nservices.py:10: : note: use --pdb to drop into pdb\r\n```\r\n</details>","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865109270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865114569","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865114569","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865114569,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTExNDU2OQ==","user":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T15:12:27Z","updated_at":"2021-06-21T15:12:27Z","body":"i remember last time i debug `mode` , checkexpr infer the rhs type as Any ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865114569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TH3CHARLie","id":22651013,"node_id":"MDQ6VXNlcjIyNjUxMDEz","avatar_url":"https://avatars.githubusercontent.com/u/22651013?v=4","gravatar_id":"","url":"https://api.github.com/users/TH3CHARLie","html_url":"https://github.com/TH3CHARLie","followers_url":"https://api.github.com/users/TH3CHARLie/followers","following_url":"https://api.github.com/users/TH3CHARLie/following{/other_user}","gists_url":"https://api.github.com/users/TH3CHARLie/gists{/gist_id}","starred_url":"https://api.github.com/users/TH3CHARLie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TH3CHARLie/subscriptions","organizations_url":"https://api.github.com/users/TH3CHARLie/orgs","repos_url":"https://api.github.com/users/TH3CHARLie/repos","events_url":"https://api.github.com/users/TH3CHARLie/events{/privacy}","received_events_url":"https://api.github.com/users/TH3CHARLie/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865122684","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865122684","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865122684,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTEyMjY4NA==","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T15:22:58Z","updated_at":"2021-06-21T15:22:58Z","body":"And here's a version with wait inlined from typeshed. Interestingly, it stops reproing when I try to inline `ensure_future` or `Task`.\r\n\r\n```python\r\nimport asyncio\r\nfrom asyncio.futures import Future\r\nfrom asyncio.tasks import Task\r\nfrom typing import Any, Awaitable, Iterable, overload, Tuple, Set, TypeVar\r\n\r\n_T = TypeVar(\"_T\")\r\n_FT = TypeVar(\"_FT\", bound=Awaitable[Any])\r\n\r\n@overload\r\ndef wait(fs: Iterable[_FT]) -> Future[Tuple[Set[_FT], Set[_FT]]]: ...\r\n@overload\r\ndef wait(fs: Iterable[Awaitable[_T]]) -> Future[Tuple[Set[Task[_T]], Set[Task[_T]]]]: ...\r\ndef wait(fs: Any) -> Any:\r\n    raise Exception\r\n\r\nasync def wait_first(*coros: Awaitable) -> None:\r\n    futures = {coro: asyncio.ensure_future(coro) for coro in coros}\r\n    done: Set[asyncio.Future]\r\n    pending: Set[asyncio.Future]\r\n    done, pending = await wait(futures.values())\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865122684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/865855457","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-865855457","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":865855457,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTg1NTQ1Nw==","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T10:14:50Z","updated_at":"2021-06-22T10:14:50Z","body":"Here's a version with still fewer dependencies that doesn't depend on asyncio:\r\n```py\r\nfrom typing import Any, Awaitable, Iterable, overload, Tuple, List, TypeVar, Generic\r\n\r\nT = TypeVar(\"T\")\r\nFT = TypeVar(\"FT\", bound=Awaitable[Any])\r\n\r\nclass Future(Awaitable[T], Iterable[T]):\r\n    pass\r\n\r\nclass Task(Future[T]):\r\n    pass\r\n\r\n@overload\r\ndef wait(fs: Iterable[FT]) -> Future[Tuple[List[FT], List[FT]]]: ...\r\n@overload\r\ndef wait(fs: Iterable[Awaitable[T]]) -> Future[Tuple[List[Task[T]], List[Task[T]]]]: ...\r\ndef wait(fs: Any) -> Any:\r\n    pass\r\n\r\nasync def f() -> None:\r\n    done: Any\r\n    pending: Any\r\n    futures: Iterable[Task[Any]]\r\n    done, pending = await wait(futures)\r\n```\r\n\r\nThe crash is clearly a mypy bug, but the signature of `wait `also looks suspect, since the overload variants are overlapping.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/865855457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4922297097,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ5MjIyOTcwOTc=","url":"https://api.github.com/repos/python/mypy/issues/events/4922297097","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ee9b70e9e9b1c468902051ea23114355ec76d573","commit_url":"https://api.github.com/repos/python/mypy/commits/ee9b70e9e9b1c468902051ea23114355ec76d573","created_at":"2021-06-22T12:05:50Z","performed_via_github_app":null},{"actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T12:06:04Z","updated_at":"2021-06-22T12:06:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/10689","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/10689/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/10689/comments","events_url":"https://api.github.com/repos/python/mypy/issues/10689/events","html_url":"https://github.com/python/mypy/pull/10689","id":927160228,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc1MzU4NjMz","number":10689,"title":"Fix crash when inferring multiple assignment with overloaded function","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-06-22T12:06:04Z","updated_at":"2021-06-22T12:38:35Z","closed_at":"2021-06-22T12:38:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/10689","html_url":"https://github.com/python/mypy/pull/10689","diff_url":"https://github.com/python/mypy/pull/10689.diff","patch_url":"https://github.com/python/mypy/pull/10689.patch","merged_at":"2021-06-22T12:38:34Z"},"body":"When using lvalue context to re-infer call to an overloaded function,\r\nthe inferred tuple type can switch to Any. Defensively accept this. It\r\nprobably means that an Any component in argument types causes ambiguity.\r\n\r\nFixes #10653.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/10689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/10689/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4922466307,"node_id":"MDExOkNsb3NlZEV2ZW50NDkyMjQ2NjMwNw==","url":"https://api.github.com/repos/python/mypy/issues/events/4922466307","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-22T12:38:34Z","state_reason":null,"performed_via_github_app":null},{"id":4922466449,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ5MjI0NjY0NDk=","url":"https://api.github.com/repos/python/mypy/issues/events/4922466449","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3319826beb8cd1b3e787b60ed5f240c86c5b3c7d","commit_url":"https://api.github.com/repos/python/mypy/commits/3319826beb8cd1b3e787b60ed5f240c86c5b3c7d","created_at":"2021-06-22T12:38:36Z","performed_via_github_app":null},{"id":4922480236,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ5MjI0ODAyMzY=","url":"https://api.github.com/repos/python/mypy/issues/events/4922480236","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"46ce325c9ac613985ce96224e45f5c90e5cfd975","commit_url":"https://api.github.com/repos/python/mypy/commits/46ce325c9ac613985ce96224e45f5c90e5cfd975","created_at":"2021-06-22T12:41:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/866080555","html_url":"https://github.com/python/mypy/issues/10653#issuecomment-866080555","issue_url":"https://api.github.com/repos/python/mypy/issues/10653","id":866080555,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjA4MDU1NQ==","user":{"login":"hellocoldworld","id":47581948,"node_id":"MDQ6VXNlcjQ3NTgxOTQ4","avatar_url":"https://avatars.githubusercontent.com/u/47581948?v=4","gravatar_id":"","url":"https://api.github.com/users/hellocoldworld","html_url":"https://github.com/hellocoldworld","followers_url":"https://api.github.com/users/hellocoldworld/followers","following_url":"https://api.github.com/users/hellocoldworld/following{/other_user}","gists_url":"https://api.github.com/users/hellocoldworld/gists{/gist_id}","starred_url":"https://api.github.com/users/hellocoldworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellocoldworld/subscriptions","organizations_url":"https://api.github.com/users/hellocoldworld/orgs","repos_url":"https://api.github.com/users/hellocoldworld/repos","events_url":"https://api.github.com/users/hellocoldworld/events{/privacy}","received_events_url":"https://api.github.com/users/hellocoldworld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T15:22:50Z","updated_at":"2021-06-22T15:22:50Z","body":"Great work! Thanks!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/866080555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hellocoldworld","id":47581948,"node_id":"MDQ6VXNlcjQ3NTgxOTQ4","avatar_url":"https://avatars.githubusercontent.com/u/47581948?v=4","gravatar_id":"","url":"https://api.github.com/users/hellocoldworld","html_url":"https://github.com/hellocoldworld","followers_url":"https://api.github.com/users/hellocoldworld/followers","following_url":"https://api.github.com/users/hellocoldworld/following{/other_user}","gists_url":"https://api.github.com/users/hellocoldworld/gists{/gist_id}","starred_url":"https://api.github.com/users/hellocoldworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellocoldworld/subscriptions","organizations_url":"https://api.github.com/users/hellocoldworld/orgs","repos_url":"https://api.github.com/users/hellocoldworld/repos","events_url":"https://api.github.com/users/hellocoldworld/events{/privacy}","received_events_url":"https://api.github.com/users/hellocoldworld/received_events","type":"User","user_view_type":"public","site_admin":false}}]