{"url":"https://api.github.com/repos/python/mypy/issues/13806","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13806/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13806/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13806/events","html_url":"https://github.com/python/mypy/issues/13806","id":1395502590,"node_id":"I_kwDOAGuhRc5TLa3-","number":13806,"title":"Support FORCE_COLOR in addition to MYPY_FORCE_COLOR","user":{"login":"hugovk","id":1324225,"node_id":"MDQ6VXNlcjEzMjQyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/1324225?v=4","gravatar_id":"","url":"https://api.github.com/users/hugovk","html_url":"https://github.com/hugovk","followers_url":"https://api.github.com/users/hugovk/followers","following_url":"https://api.github.com/users/hugovk/following{/other_user}","gists_url":"https://api.github.com/users/hugovk/gists{/gist_id}","starred_url":"https://api.github.com/users/hugovk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugovk/subscriptions","organizations_url":"https://api.github.com/users/hugovk/orgs","repos_url":"https://api.github.com/users/hugovk/repos","events_url":"https://api.github.com/users/hugovk/events{/privacy}","received_events_url":"https://api.github.com/users/hugovk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488358,"node_id":"MDU6TGFiZWwyMTQ4ODM1OA==","url":"https://api.github.com/repos/python/mypy/labels/feature","name":"feature","color":"84b6eb","default":false,"description":null},{"id":3945122249,"node_id":"LA_kwDOAGuhRc7rJcnJ","url":"https://api.github.com/repos/python/mypy/labels/topic-configuration","name":"topic-configuration","color":"17E2A3","default":false,"description":"Configuration files and flags"}],"state":"closed","locked":false,"assignee":{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"AlexWaygood","id":66076021,"node_id":"MDQ6VXNlcjY2MDc2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/66076021?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexWaygood","html_url":"https://github.com/AlexWaygood","followers_url":"https://api.github.com/users/AlexWaygood/followers","following_url":"https://api.github.com/users/AlexWaygood/following{/other_user}","gists_url":"https://api.github.com/users/AlexWaygood/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexWaygood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexWaygood/subscriptions","organizations_url":"https://api.github.com/users/AlexWaygood/orgs","repos_url":"https://api.github.com/users/AlexWaygood/repos","events_url":"https://api.github.com/users/AlexWaygood/events{/privacy}","received_events_url":"https://api.github.com/users/AlexWaygood/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-10-04T00:25:33Z","updated_at":"2022-10-04T21:31:15Z","closed_at":"2022-10-04T21:31:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Feature**\r\n\r\nForce colour when the `FORCE_COLOR` environment variable is set.\r\n\r\n**Pitch**\r\n\r\n\r\nMypy automatically adds colour to output for TTYs, or if the env var `MYPY_FORCE_COLOR` is set.\r\n\r\nFor example, GitHub Actions is not a tty but it's good to add colour to help read the logs.\r\n\r\n`FORCE_COLOR` is used by many CLI tools and libraries.\r\n\r\nIt would be good if mypy forced colour output if either `FORCE_COLOR` or `MYPY_FORCE_COLOR` is set.\r\n\r\nThis helps avoid adding lots of separate env vars for each tool/CLI, [for example](https://github.com/jazzband/pip-tools/pull/1691):\r\n\r\n```yml\r\nenv:\r\n  FORCE_COLOR: 1 # Request colored output from CLI tools supporting it\r\n  MYPY_FORCE_COLOR: 1 # MyPy's color enforcement\r\n  PIP_DISABLE_PIP_VERSION_CHECK: 1\r\n  PIP_NO_PYTHON_VERSION_WARNING: 1\r\n  PIP_NO_WARN_SCRIPT_LOCATION: 1\r\n  PY_COLORS: 1 # Recognized by the `py` package, dependency of `pytest`\r\n  TOX_PARALLEL_NO_SPINNER: 1\r\n  TOX_TESTENV_PASSENV: >-\r\n    FORCE_COLOR\r\n    MYPY_FORCE_COLOR\r\n    NO_COLOR\r\n    PY_COLORS\r\n    PYTEST_THEME\r\n    PYTEST_THEME_MODE\r\n```\r\n\r\n\r\nFor reference:\r\n\r\n* pytest [issue](https://github.com/pytest-dev/pytest/issues/7464), [PR](https://github.com/pytest-dev/pytest/pull/7466) and [docs](https://pytest.org/en/7.0.x/reference/reference.html#environment-variables)\r\n* nox [issue](https://github.com/theacodes/nox/issues/502) and [PR](https://github.com/theacodes/nox/pull/524)\r\n* tox [PR](https://github.com/tox-dev/tox/pull/1630)\r\n* rich [release](https://github.com/Textualize/rich/releases/tag/v12.6.0), [issue](https://github.com/Textualize/rich/issues/2425) and [PR](https://github.com/Textualize/rich/pull/2449)\r\n* pypa/build [PR](https://github.com/pypa/build/pull/335)\r\n* Node.js [docs](https://nodejs.org/api/tty.html#writestreamgetcolordepthenv)\r\n","closed_by":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13806/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13806/timeline","performed_via_github_app":null,"state_reason":"completed"}