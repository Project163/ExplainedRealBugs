[{"id":17333482169,"node_id":"LE_lADOAGuhRc6zQluizwAAAAQJJ_K5","url":"https://api.github.com/repos/python/mypy/issues/events/17333482169","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-04-21T03:28:04Z","label":{"name":"feature","color":"84b6eb"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817596076","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2817596076","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2817596076,"node_id":"IC_kwDOAGuhRc6n8Rqs","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-21T04:18:44Z","updated_at":"2025-04-21T04:18:44Z","body":"This sounds like you are saying mypy incorrectly typechecks operators like `+` in some cases. Could you give a self-contained example to clarify where the bug is?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817596076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817628332","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2817628332","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2817628332,"node_id":"IC_kwDOAGuhRc6n8Zis","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-21T04:50:39Z","updated_at":"2025-04-21T04:50:39Z","body":"Yeah, messing with it more I think I may have discovered a bug.\nI have a plugin like this that takes in the sum of 2 ints and returns a literal type of the sum.\n```py\nfrom mypy.types import LiteralType\nfrom mypy.plugin import Plugin\n\ndef type_add(ctx, *args):\n    lhs = ctx.type\n    rhs = ctx.arg_types[0][0]\n    print(lhs)\n    print(rhs)\n    ret = lhs.value + rhs.value\n    # ctx.api.fail(\"test\", ctx.context)\n    return LiteralType(ret, fallback=ctx.api.named_generic_type('builtins.int', []))\n\nTYPE_DICT = {\n    'builtins.int.__add__': type_add\n}\n\nclass TestPlugin(Plugin):\n\n    def get_method_hook(self, fullname):\n        print(fullname)\n        return TYPE_DICT.get(fullname, None)\n\ndef plugin(version: str):\n    return TestPlugin\n```\nThe input is essentially 3 + 4\n\n\nWhen the `ctx.api.fail` is commented out. The result is to be expected:\n```\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[3]\nLiteral[4]\nSuccess: no issues found in 1 source file\n```\nWhen the `ctx.api.fail` is used, MyPy attempts to check it multiple times. Half of which are with the LHS and RHS flipped\n```\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[3]\nLiteral[4]\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[4]\nLiteral[3]\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[3]\nLiteral[4]\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[4]\nLiteral[3]\ntest_add.py:6: error: test  [misc]\nFound 1 error in 1 file (checked 1 source file)\n```\nFrom what I can tell, the flipping part is intended (and I would like to disable it) but I am not sure why it is checking it an extra time. If you would like to see the full code, it is right here: https://github.com/arnav-jain1/mypy_bug\nLet me know if you need any more info. I can also recreate the bug in a more useful setting where the operation is non-commutative to show what I mean. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817628332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817656591","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2817656591","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2817656591,"node_id":"IC_kwDOAGuhRc6n8gcP","user":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-21T05:19:41Z","updated_at":"2025-04-21T05:19:41Z","body":"> I am not sure why it is checking it an extra time\n\nI would recommend checking the stack trace! IIRC there's a thing where if an expression fails we check whether it would work in an `await` for the suggestion so maybe something like that is the cause.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817656591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817696487","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2817696487","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2817696487,"node_id":"IC_kwDOAGuhRc6n8qLn","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-21T05:55:33Z","updated_at":"2025-04-21T05:55:33Z","body":"While that does make sense, it is still getting called with the lhs and rhs flipped, which I would like to prevent or ignore. Is there any way to do so?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2817696487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2821550299","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2821550299","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2821550299,"node_id":"IC_kwDOAGuhRc6oLXDb","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-22T14:36:47Z","updated_at":"2025-04-22T14:36:47Z","body":"Happens here:\n\nhttps://github.com/python/mypy/blob/c2749716b21e319277b49d7196c11f0c32a3c6eb/mypy/checkexpr.py#L4097-L4114\n\nIf the plugin produces any errors, we discard that variant and go try `__radd__` instead. `__radd__` shouldn't be handled by plugin (but actually is due to name confusion, see below). Both calls result in an error, so we go further and return `Any`. This is by design, but I'm not sure it is correct.\n\nL4099 is **definitely** a bug: `check_method_call` is passed `op_name` (original operator method's name), not `name` (loop variable gathered in variants), so the plugin is triggered for `int.__add__` while we're checking a call of `int.__radd__`. ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2821550299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2821933767","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2821933767","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2821933767,"node_id":"IC_kwDOAGuhRc6oM0rH","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-22T16:56:14Z","updated_at":"2025-04-22T16:58:59Z","body":"And the logic of checking `__radd__` is sound, this indeed works by design. We only check simple calls with fixed args there, so any errors do really mean \"`foo` of `foo + bar` says it doesn't want to be added to `bar`\". By convention, `foo` should return `NotImplemented` and not raise any error, so that other side has a say. If `bar` says it's perfectly addable to `foo`, there's nothing to check further: this call is valid.\n\nSince there's no standard way to statically denote \"this op method is non-cooperative and raises for unsupported arguments\" as of now, `mypy` implements the typical case as the default one. If you need to support that scenario using a plugin... well, we need to **fix the wrong method name (PRs welcome!)**, and you probably need to handle `__radd__` in plugin code to generate an error. If you post your actual use case, we may be able to suggest something else.\n\nThe fix is as easy as\n\n```diff\ndiff --git a/mypy/checkexpr.py b/mypy/checkexpr.py\nindex e7c2cba3f..9308164de 100644\n--- a/mypy/checkexpr.py\n+++ b/mypy/checkexpr.py\n@@ -4096,7 +4096,7 @@ class ExpressionChecker(ExpressionVisitor[Type], ExpressionCheckerSharedApi):\n         results = []\n         for name, method, obj, arg in variants:\n             with self.msg.filter_errors(save_filtered_errors=True) as local_errors:\n-                result = self.check_method_call(op_name, obj, method, [arg], [ARG_POS], context)\n+                result = self.check_method_call(name, obj, method, [arg], [ARG_POS], context)\n             if local_errors.has_new_errors():\n                 errors.append(local_errors.filtered_errors())\n                 results.append(result)\n```\n\nand a test may involve a custom plugin (see `test-data/unit/check-custom-plugin.test` for how it's done) that produces different errors for `__add__` and `__radd__` so that both are visible in the output.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2821933767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2825759903","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2825759903","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2825759903,"node_id":"IC_kwDOAGuhRc6obayf","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-23T23:29:17Z","updated_at":"2025-04-23T23:29:17Z","body":"Gotcha thank you! I will take a look and submit a PR","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2825759903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2828682395","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2828682395","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2828682395,"node_id":"IC_kwDOAGuhRc6omkSb","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-24T19:41:57Z","updated_at":"2025-04-24T19:41:57Z","body":"I made the change but when I was testing it against with this plugin (previous Github repo has this too) I had a question\n```py\nfrom mypy.types import LiteralType\nfrom mypy.plugin import Plugin\n\ndef type_add(ctx, *args):\n    lhs = ctx.type\n    rhs = ctx.arg_types[0][0]\n    print(lhs, rhs)\n    ret = lhs.value + rhs.value\n    ctx.api.fail(\"test\", ctx.context)\n    return LiteralType(ret, fallback=ctx.api.named_generic_type('builtins.int', []))\n\nclass TestPlugin(Plugin):\n\n    def get_method_hook(self, fullname):\n        if fullname == 'builtins.int.__add__':\n            return type_add\n        return None\n\ndef plugin(version: str):\n    return TestPlugin\n```\n\nWhen running it with the change, the output is \n```\nbuiltins.int.__add__\nbuiltins.int.__add__\nLiteral[3] Literal[4]\nbuiltins.int.__radd__\nSuccess: no issues found in 1 source file\n```\nadd is called twice and then radd is called so it is differentiating it but since there is no method for radd, there is no error so it treats it as no error. Should I leave it like this and require the plugin creator to have a radd method along with an add method (could potentially break old code, don't know though) or should I change the code so that add and radd are handled separately and if add has an error it will return the error (this I might need guidance on if there is an \"elegant\" non hacky way to do it) or any other way that you guys suggest.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2828682395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2829109659","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2829109659","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2829109659,"node_id":"IC_kwDOAGuhRc6ooMmb","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-25T00:16:02Z","updated_at":"2025-04-25T00:16:02Z","body":"Ohh. No, please don't change this existing logic, it's sound - an error in one method is now consistently interpreted as a sign that the next one should be tried instead. There's no elegant way to only filter plugin-generated errors AFAIC.\n\nThis level of breaking compat is acceptable IMO (most likely there's no single plugin in wild checking there dunders, or we'd have received a report earlier) - we'll post a notice in plugin changes issue and call it a day. If someone *really* needs to prevent using such additions, the plugin update is trivial and arguably the plugin code was incorrect if it didn't handle `__radd__` before - that's a mypy bug that `__radd__` name wasn't passed properly:)","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2829109659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2836091085","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2836091085","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2836091085,"node_id":"IC_kwDOAGuhRc6pC1DN","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-28T18:14:23Z","updated_at":"2025-04-28T18:14:23Z","body":"Gotcha. I am working on creating the test case and submitting the PR but I ran into a small issue. After making the changes, I created a test case with this as the plugin\n```py\nfrom mypy.types import LiteralType, AnyType, TypeOfAny\nfrom mypy.plugin import Plugin\n\ndef type_add(ctx, *args):\n    lhs = ctx.type\n    rhs = ctx.arg_types[0][0]\n    ret = lhs.value + rhs.value\n    ctx.api.fail(\"test\", ctx.context)\n    return AnyType(TypeOfAny.from_error)\n\ndef type_radd(ctx, *args):\n    lhs = ctx.type\n    rhs = ctx.arg_types[0][0]\n    ret = lhs.value + rhs.value\n    return LiteralType(ret, fallback=ctx.api.named_generic_type('builtins.int', []))\n\n\nclass TestPlugin(Plugin):\n\n    def get_method_hook(self, fullname):\n        if fullname == 'builtins.int.__add__':\n            return type_add\n        if fullname == 'builtins.int.__radd__':\n            return type_radd\n        return None\n\ndef plugin(version: str):\n    return TestPlugin\n```\nand this test:\n```py\nfrom typing import Literal\n\nop1: Literal[3] = 3\nop2: Literal[4] = 4\nc = op1 + op2\nreveal_type(c) # N: Revealed type is \"Literal[7]\"\n```\ncheck-custom-plugin.test:\n```\n[case magicMethodReverse]\n# flags: --config-file tmp/mypy.ini\nfrom typing import Literal\n\nop1: Literal[3] = 3\nop2: Literal[4] = 4\nc = op1 + op2\nreveal_type(c) # N: Revealed type is \"Literal[7]\"\n\n[file mypy.ini]\n\\[mypy]\nplugins=<ROOT>/test-data/unit/plugins/magic_method.py\n```\n\nFor whatever reason, whenever I use `pytest -k magicMethodReverse`, the function hooks for the test case are:\n```\n__add__\n__add__\n```\nMeaning it is not flipping the operands.\nWhen I call it locally just using the https://github.com/arnav-jain1/mypy_bug repo (which is literally the same code) with `python -m mypy --config-file ..\\\\mypy_bug\\\\mypy.ini ..\\\\mypy_bug\\\\test.py` I get the correct hooks:\n```\n__add__\n__radd__\n```\nI am printing these hooks from mypy code itself (temporarily, to figure out why the test is failing), not the plugin, so I am not sure why there is a difference in the output. \nMypy code:\n```py\n        for name, method, obj, arg in variants:\n            with self.msg.filter_errors(save_filtered_errors=True) as local_errors:\n                print(name)\n                result = self.check_method_call(name, obj, method, [arg], [ARG_POS], context)\n```\n\nThis code is also on my Github.\n\n\nI have never used pytest before, so it might be a pytest thing that I am messing up. But I am not sure why that would be the case or how to fix it. Thank you for your help!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2836091085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2836150505","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2836150505","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2836150505,"node_id":"IC_kwDOAGuhRc6pDDjp","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-28T18:37:14Z","updated_at":"2025-04-28T18:37:14Z","body":"It isn't a pytest thing, but our complicated test setup:)\n\nEvery test can optionally end with \n\n```\n[builtins fixtures/some_file.pyi]\n```\n\nIf you add such a line, it will treat the provided file as a replacement for `builtins.pyi`. Otherwise it will use another tiny fixture that only contains a few symbols (try `isinstance(c, int)` - the test will likely fail saying that `isinstance` is not defined). That's done to make our tests marginally faster (builtins aren't that small!)\n\nSo, in that stub `int` doesn't have `__radd__`. You may want to specift\n\n```\n[builtins fixtures/ops.pyi]\n```\n\nto your test (all those fixtures live in `test-data/unit/fixtures`, so you can have a look at what exactly is provided by each one).\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2836150505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-28T23:46:33Z","updated_at":"2025-04-28T23:46:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/18995","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/18995/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/18995/comments","events_url":"https://api.github.com/repos/python/mypy/issues/18995/events","html_url":"https://github.com/python/mypy/pull/18995","id":3026527322,"node_id":"PR_kwDOAGuhRc6UQKsx","number":18995,"title":"Bug fix of __r<magic_methods>__ being used under the same __<magic_method>__ hook","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-04-28T23:46:32Z","updated_at":"2025-05-12T20:54:36Z","closed_at":"2025-05-01T15:36:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/18995","html_url":"https://github.com/python/mypy/pull/18995","diff_url":"https://github.com/python/mypy/pull/18995.diff","patch_url":"https://github.com/python/mypy/pull/18995.patch","merged_at":"2025-05-01T15:36:09Z"},"body":"Fixes #18945 (This was a feature request that turned out to be a bug)\r\n\r\nEssentially, I was trying to create a custom plugin and implement __add__. In the process I discovered that __radd__ would implicitly be called if __add__ has an error but it would be called under the same __add__ hook (instead of radd) which is bad for non-commutative operations. This has been fixed.\r\nI also added a test for it.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/18995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/18995/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":17462489540,"node_id":"CE_lADOAGuhRc6zQluizwAAAAQQ2HHE","url":"https://api.github.com/repos/python/mypy/issues/events/17462489540","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-04-29T20:37:28Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840188230","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2840188230","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2840188230,"node_id":"IC_kwDOAGuhRc6pSdVG","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-29T20:37:45Z","updated_at":"2025-04-29T20:39:29Z","body":"Thank you for your help, hopefully the PR goes through soon.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840188230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840237146","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2840237146","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2840237146,"node_id":"IC_kwDOAGuhRc6pSpRa","user":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-29T21:02:59Z","updated_at":"2025-04-29T21:03:10Z","body":"I recommend leaving this issue open, and writing \"Fixes \\<issue link\\>\" in the initial PR comment (you can edit it in). This way, this issue will automatically close when that PR is merged! And if the PR is closed, this issue is still open so others can see it's still a problem.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840237146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"A5rocks","id":40616000,"node_id":"MDQ6VXNlcjQwNjE2MDAw","avatar_url":"https://avatars.githubusercontent.com/u/40616000?v=4","gravatar_id":"","url":"https://api.github.com/users/A5rocks","html_url":"https://github.com/A5rocks","followers_url":"https://api.github.com/users/A5rocks/followers","following_url":"https://api.github.com/users/A5rocks/following{/other_user}","gists_url":"https://api.github.com/users/A5rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/A5rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/A5rocks/subscriptions","organizations_url":"https://api.github.com/users/A5rocks/orgs","repos_url":"https://api.github.com/users/A5rocks/repos","events_url":"https://api.github.com/users/A5rocks/events{/privacy}","received_events_url":"https://api.github.com/users/A5rocks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17464910594,"node_id":"REE_lADOAGuhRc6zQluizwAAAAQQ_WMC","url":"https://api.github.com/repos/python/mypy/issues/events/17464910594","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2025-04-30T01:27:27Z","state_reason":"reopened","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840585770","html_url":"https://github.com/python/mypy/issues/18945#issuecomment-2840585770","issue_url":"https://api.github.com/repos/python/mypy/issues/18945","id":2840585770,"node_id":"IC_kwDOAGuhRc6pT-Yq","user":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-30T01:27:39Z","updated_at":"2025-04-30T01:27:39Z","body":"Gotcha, my bad.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2840585770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"arnav-jain1","id":116742881,"node_id":"U_kgDOBvVa4Q","avatar_url":"https://avatars.githubusercontent.com/u/116742881?v=4","gravatar_id":"","url":"https://api.github.com/users/arnav-jain1","html_url":"https://github.com/arnav-jain1","followers_url":"https://api.github.com/users/arnav-jain1/followers","following_url":"https://api.github.com/users/arnav-jain1/following{/other_user}","gists_url":"https://api.github.com/users/arnav-jain1/gists{/gist_id}","starred_url":"https://api.github.com/users/arnav-jain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arnav-jain1/subscriptions","organizations_url":"https://api.github.com/users/arnav-jain1/orgs","repos_url":"https://api.github.com/users/arnav-jain1/repos","events_url":"https://api.github.com/users/arnav-jain1/events{/privacy}","received_events_url":"https://api.github.com/users/arnav-jain1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17480104090,"node_id":"SE_lADOAGuhRc6zQluizwAAAAQR5Tia","url":"https://api.github.com/repos/python/mypy/issues/events/17480104090","actor":{"login":"ngsankha","id":1267409,"node_id":"MDQ6VXNlcjEyNjc0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1267409?v=4","gravatar_id":"","url":"https://api.github.com/users/ngsankha","html_url":"https://github.com/ngsankha","followers_url":"https://api.github.com/users/ngsankha/followers","following_url":"https://api.github.com/users/ngsankha/following{/other_user}","gists_url":"https://api.github.com/users/ngsankha/gists{/gist_id}","starred_url":"https://api.github.com/users/ngsankha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ngsankha/subscriptions","organizations_url":"https://api.github.com/users/ngsankha/orgs","repos_url":"https://api.github.com/users/ngsankha/repos","events_url":"https://api.github.com/users/ngsankha/events{/privacy}","received_events_url":"https://api.github.com/users/ngsankha/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-30T20:48:12Z","performed_via_github_app":null},{"id":17489038043,"node_id":"CE_lADOAGuhRc6zQluizwAAAAQSbYrb","url":"https://api.github.com/repos/python/mypy/issues/events/17489038043","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-05-01T15:36:10Z","state_reason":null,"performed_via_github_app":null},{"id":17489038048,"node_id":"REFE_lADOAGuhRc6zQluizwAAAAQSbYrg","url":"https://api.github.com/repos/python/mypy/issues/events/17489038048","actor":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"25b1bb8f24b2cdbac20fecdbd5a5b1deff884295","commit_url":"https://api.github.com/repos/python/mypy/commits/25b1bb8f24b2cdbac20fecdbd5a5b1deff884295","created_at":"2025-05-01T15:36:10Z","performed_via_github_app":null}]