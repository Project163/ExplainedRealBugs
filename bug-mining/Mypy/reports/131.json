{"url":"https://api.github.com/repos/python/mypy/issues/11757","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/11757/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/11757/comments","events_url":"https://api.github.com/repos/python/mypy/issues/11757/events","html_url":"https://github.com/python/mypy/issues/11757","id":1081393598,"node_id":"I_kwDOAGuhRc5AdMG-","number":11757,"title":"mypy --strict has misleading suggestion for Callable","user":{"login":"frerikandriessen","id":85996204,"node_id":"MDQ6VXNlcjg1OTk2MjA0","avatar_url":"https://avatars.githubusercontent.com/u/85996204?v=4","gravatar_id":"","url":"https://api.github.com/users/frerikandriessen","html_url":"https://github.com/frerikandriessen","followers_url":"https://api.github.com/users/frerikandriessen/followers","following_url":"https://api.github.com/users/frerikandriessen/following{/other_user}","gists_url":"https://api.github.com/users/frerikandriessen/gists{/gist_id}","starred_url":"https://api.github.com/users/frerikandriessen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frerikandriessen/subscriptions","organizations_url":"https://api.github.com/users/frerikandriessen/orgs","repos_url":"https://api.github.com/users/frerikandriessen/repos","events_url":"https://api.github.com/users/frerikandriessen/events{/privacy}","received_events_url":"https://api.github.com/users/frerikandriessen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"},{"id":608992726,"node_id":"MDU6TGFiZWw2MDg5OTI3MjY=","url":"https://api.github.com/repos/python/mypy/labels/topic-usability","name":"topic-usability","color":"d4c5f9","default":false,"description":null},{"id":932016981,"node_id":"MDU6TGFiZWw5MzIwMTY5ODE=","url":"https://api.github.com/repos/python/mypy/labels/good-first-issue","name":"good-first-issue","color":"3dc136","default":false,"description":""},{"id":3945122249,"node_id":"LA_kwDOAGuhRc7rJcnJ","url":"https://api.github.com/repos/python/mypy/labels/topic-configuration","name":"topic-configuration","color":"17E2A3","default":false,"description":"Configuration files and flags"},{"id":3945146290,"node_id":"LA_kwDOAGuhRc7rJiey","url":"https://api.github.com/repos/python/mypy/labels/topic-error-reporting","name":"topic-error-reporting","color":"A8F9AF","default":false,"description":"How we report errors"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-12-15T19:04:26Z","updated_at":"2022-05-07T18:57:59Z","closed_at":"2022-05-07T18:57:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n  If you're new to mypy and you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form\r\n  instead.\r\n  Please also consider:\r\n\r\n  - checking our common issues page: https://mypy.readthedocs.io/en/stable/common_issues.html\r\n  - searching our issue tracker: https://github.com/python/mypy/issues to see if\r\n    it's already been reported\r\n  - asking on gitter chat: https://gitter.im/python/typing\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nNote: If the problem you are reporting is about a specific library function, then the typeshed tracker is better suited\r\nfor this report: https://github.com/python/typeshed/issues\r\n-->\r\n\r\nIt's not a big issue, not sure if you should even qualify it as a bug but I fought it fitted better than other categories.\r\nWhen in strict mode, it gives a suggestion that is actually not valid in strict mode.\r\n\r\n**To Reproduce**\r\n\r\nRunning `mypy --strict` on this code\r\n```\r\nfrom typing import Callable\r\n\r\ndef my_function(callback: Callable[...]) -> None:\r\n    callback()\r\n```\r\ngives the following error message:\r\n```\r\n$ mypy callable_test.py --strict\r\ncallable_test.py:3: error: Please use \"Callable[[<parameters>], <return type>]\" or \"Callable\"        \r\nFound 1 error in 1 file (checked 1 source file)\r\n```\r\n\r\nHowever, changing the code to use the second suggestion of using `Callable`:\r\n```\r\nfrom typing import Callable\r\n\r\ndef my_function(callback: Callable) -> None:\r\n    callback()\r\n```\r\ngives a new error message:\r\n\r\n```\r\n$ mypy callable_test.py --strict\r\ncallable_test.py:3: error: Missing type parameters for generic type \"Callable\"\r\nFound 1 error in 1 file (checked 1 source file)\r\n```\r\n\r\nRunning mypy in non-strict mode does not give this error. But if it is at all possible it would be nice to remove the second suggestion in strict mode (or turn it into `Callable[..., Any]`).\r\n\r\nI got confused (didn't spot that I was missing an `Any` return value in my `Callable[...]` annotation) and kept switching back and forth wondering why the suggestion was not working. Which admittedly is my mistake. But it did bring to light for me that the suggestion is a bit misleading in this context.\r\n\r\nI don't know if this is easily done or not, if it's a relatively minor fix I'd be willing to give it a crack.\r\n\r\n\r\nAdditional info:\r\n```\r\n$ mypy --version\r\nmypy 0.902\r\n```\r\n```\r\n$ python --version\r\nPython 3.8.10\r\n```\r\n","closed_by":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/11757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/11757/timeline","performed_via_github_app":null,"state_reason":"completed"}