[{"id":19690202944,"node_id":"LE_lADOAGuhRc7Lm5PXzwAAAASVoKdA","url":"https://api.github.com/repos/python/mypy/issues/events/19690202944","actor":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-09-15T01:49:26Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3290803204","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3290803204","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3290803204,"node_id":"IC_kwDOAGuhRc7EJawE","user":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-15T07:19:32Z","updated_at":"2025-09-15T07:19:32Z","body":"+1\n\nMypy: 1.18.1\n\n```python\nasync def run_machine(\n    sm: AnyioStreamStateMachine[StreamMessage, str],\n    streams: MemoryStreams,\n    inputs: t.Sequence[StreamMessage],\n) -> t.Sequence[str]:\n    async with create_task_group() as tg:\n        tg.start_soon(send_inputs, streams, inputs)\n        tg.start_soon(sm.run, streams.input_receive, streams.output_send)\n        return await collect_outputs(streams)\n```\n\nor\n\n```python\nasync def run_machine(\n    sm: AnyioStreamStateMachine[StreamMessage, str],\n    streams: MemoryStreams,\n    inputs: t.Sequence[StreamMessage],\n) -> t.Sequence[str]:\n    async with create_task_group() as tg:\n        tg.start_soon(send_inputs, streams, inputs)\n        tg.start_soon(sm.run, streams.input_receive, streams.output_send)\n        outputs = await collect_outputs(streams)\n\n        return outputs\n```\n\nOutputs:\n\n```\ntests/integration/test_anyio.py:79: error: Missing return statement  [return]\n```\n\nThe only possible solution:\n\n```python\nasync def run_machine(\n    sm: AnyioStreamStateMachine[StreamMessage, str],\n    streams: MemoryStreams,\n    inputs: t.Sequence[StreamMessage],\n) -> t.Sequence[str]:\n    async with create_task_group() as tg:\n        tg.start_soon(send_inputs, streams, inputs)\n        tg.start_soon(sm.run, streams.input_receive, streams.output_send)\n        outputs = await collect_outputs(streams)\n\n    return outputs\n```\n\nhttps://github.com/zerlok/statomata/actions/runs/17654820898/job/50174804171?pr=11","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3290803204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292362989","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3292362989","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3292362989,"node_id":"IC_kwDOAGuhRc7EPXjt","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-15T14:07:57Z","updated_at":"2025-09-15T14:07:57Z","body":"@sMiNT0S I can't reproduce the error using 1.18.1 and python 3.13, `mypy --warn-unreachable` responds with\n\n```\nSuccess: no issues found in 1 source file\n```\n\nare you sure the snippet is representative and you are really using 1.18.1? Doesn't reproduce with `master` mypy too, neither locally nor in [playground](https://mypy-play.net/?mypy=master&python=3.13&flags=strict%2Cwarn-unreachable&gist=59098e799627231ea76187d882fa3a72) (1.18.1 is not available there yet).\n\nI tried checking the function from your repo (L200-224) in isolation, mypy also does not report any of `# type: ignore[unreachable]` lines as unreachable, so I'm really not sure what problem you're trying to report. [Playground](https://mypy-play.net/?mypy=master&python=3.12&flags=strict%2Cwarn-unreachable&gist=4a2d6635605060deeec8c9e012252294). I did not try to clone your whole repository and run `mypy` on it (and would prefer to not have any LLM code checked out on my PC for several reasons), please provide a reproducible snippet that demonstrates the issue you're encountering.\n\n@zerlok this works as intended. `with` statements are complicated: namely, they are able to \"swallow\" exceptions, and we cannot statically determine whether any given context manager does that. For example,\n\n```python\nclass CM:\n    def __enter__(self): return self\n    def __exit__(self, *args): return True\n\ndef fails() -> int:\n    if True: raise RuntimeError\n    return 0\n\ndef should_fail() -> int:\n    with CM():\n        return fails()  # raises, but exception is swallowed by CM\n    # implicit `return None` is reachable here\n\nassert should_fail() is None  # passes at runtime\n```\n\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292362989/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19702645703,"node_id":"MEE_lADOAGuhRc7Lm5PXzwAAAASWXoPH","url":"https://api.github.com/repos/python/mypy/issues/events/19702645703","actor":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:07:58Z","performed_via_github_app":null},{"id":19702645735,"node_id":"SE_lADOAGuhRc7Lm5PXzwAAAASWXoPn","url":"https://api.github.com/repos/python/mypy/issues/events/19702645735","actor":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:07:58Z","performed_via_github_app":null},{"id":19702645787,"node_id":"MEE_lADOAGuhRc7Lm5PXzwAAAASWXoQb","url":"https://api.github.com/repos/python/mypy/issues/events/19702645787","actor":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:07:58Z","performed_via_github_app":null},{"id":19702645823,"node_id":"SE_lADOAGuhRc7Lm5PXzwAAAASWXoQ_","url":"https://api.github.com/repos/python/mypy/issues/events/19702645823","actor":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:07:58Z","performed_via_github_app":null},{"id":19702687950,"node_id":"LE_lADOAGuhRc7Lm5PXzwAAAASWXyjO","url":"https://api.github.com/repos/python/mypy/issues/events/19702687950","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:09:38Z","label":{"name":"pending","color":"DA8208"},"performed_via_github_app":null},{"id":19702689871,"node_id":"LE_lADOAGuhRc7Lm5PXzwAAAASWXzBP","url":"https://api.github.com/repos/python/mypy/issues/events/19702689871","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:09:43Z","label":{"name":"topic-reachability","color":"2EC6A6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292484546","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3292484546","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3292484546,"node_id":"IC_kwDOAGuhRc7EP1PC","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-15T14:31:15Z","updated_at":"2025-09-15T14:31:15Z","body":"OK, I was able to extract a MRE. The snippet is fine as-is, but you're omitting a very important detail: `strict_optional = false` in the config file. I'd say nobody should be using that nowadays, especially globally - do you really want it disabled? \n\ncc @tyralla - you worked on reachability analysis recently, right? This is not a recent regression (passes on 1.0.0-1.7.1, fails on 1.8.0-master, I did not bisect further), and I don't know whether this problem is of any importance, but maybe it's a simple fix?)\n\nHere's a [playground link with the repro](https://mypy-play.net/?mypy=master&python=3.10&flags=no-strict-optional%2Cwarn-unreachable&gist=db2a364dcdfb5409d3707802e83d2ed3).\n\nBTW, [this](https://github.com/sMiNT0S/AIBugBench/blob/adef232dfbf0d60cfc83ddfe5c13f3bcfce7f0e5/pyproject.toml#L102):\n\n```toml\ndisable_error_code = [\"var-annotated\", \"assignment\", \"operator\", \"index\", \"call-overload\", \"import-untyped\"]\n```\n\nis essentially equivalent to \"do not type check at all\", you disabled almost all codes that indicate real type errors... ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292484546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19703236847,"node_id":"MEE_lADOAGuhRc7Lm5PXzwAAAASWZ4jv","url":"https://api.github.com/repos/python/mypy/issues/events/19703236847","actor":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:31:16Z","performed_via_github_app":null},{"id":19703236894,"node_id":"SE_lADOAGuhRc7Lm5PXzwAAAASWZ4ke","url":"https://api.github.com/repos/python/mypy/issues/events/19703236894","actor":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:31:16Z","performed_via_github_app":null},{"id":19703237654,"node_id":"UNLE_lADOAGuhRc7Lm5PXzwAAAASWZ4wW","url":"https://api.github.com/repos/python/mypy/issues/events/19703237654","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-09-15T14:31:18Z","label":{"name":"pending","color":"DA8208"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292652502","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3292652502","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3292652502,"node_id":"IC_kwDOAGuhRc7EQePW","user":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-15T15:01:45Z","updated_at":"2025-09-15T22:01:38Z","body":"@sterliakov \n\nThanks for the careful read and the MRE. Youâ€™re right: my repo config has strict_optional = false. Thatâ€™s intentional for now due to mixed-typed edges and third-party bits, but I agree itâ€™s legacy and Iâ€™ll migrate toward the default (strict_optional = true) in a follow-up.\n\nTo be precise about the reproducer: with strict_optional = false the â€œStatement is unreachableâ€ shows up; with strict_optional = true it doesnâ€™t (1.18.1). That matches your observation that this started after 1.7.x.\n\nRe the disable_error_code list: itâ€™s a temporary, repo-level compromise to keep CI noise down while I ratchet types. Core packages are checked more strictly via overrides (e.g., disallow_untyped_defs = true, no_implicit_optional = true), and in any case the current report is [unreachable], which isnâ€™t disabled. Iâ€™ll narrow the disables and scope them better as I clean up.\n\nIâ€™ve added the missing config detail to the issue body. If this is considered WAI under no-strict-optional, feel free to mark it as such; otherwise the MRE + config should make it easy to poke at the reachability bit.\n\nEDIT:\nSide note, couldn't let \"I did not try to clone your whole repository and run mypy on it (and would prefer to not have any LLM code checked out on my PC for several reasons)\" go.. : \nthis repo runs any model-generated code in a sandboxed child process with guard injection (sitecustomize), filesystem confinement to a temp root, subprocess and network disabled by default, and per-run resource limits. CI refuses to run if the security audit fails. Details live in SAFETY.md and SECURITY.md. Safety is a first-class feature here, not an afterthought. Core controls include:\nâ€¢ guarded import layer that denies risky modules/APIs\nâ€¢ temp-root filesystem jail with explicit allow-lists for read-only fixtures\nâ€¢ network egress and subprocess creation blocked by default; opt-in only via CLI flags\nâ€¢ per-run CPU/memory caps and wall-clock timeouts; clean teardown between runs\nâ€¢ honest CLI banner reflecting actual enforcement\n```text\nðŸ”’ AIBugBench Security Audit (excerpt)\nâœ… Sandbox Implementation: PASS â€” core primitives present\nâœ… Validator Integration: PASS â€” sandbox decorator active\nâœ… CLI Security Flags: PASS â€” flags + banner detected\nâœ… Temp workdir: PASS â€” sandbox uses temp directory\nâœ… Resource limits wired: PASS â€” CPU/memory limits present\nâœ… Network block: PASS â€” socket creation guarded\nâœ… Subprocess block: PASS â€” subprocess execution blocked\nâœ… Dynamic code block: PASS â€” eval/exec/compile blocked\nâœ… Dangerous imports block: PASS â€” dangerous imports blocked\nâœ… Windows Job Objects: PASS â€” Job Objects support implemented\nâœ… Banner honesty: PASS â€” banner consistent with implementation\nâ¸ Env whitelist: DEFERRED â€” environment partially scrubbed (pattern removal + clear on exit)\nâ¸ Python isolation: DEFERRED â€” -I/-S not used (guards load via sitecustomize)\nâœ… Filesystem bounds: PASS â€” comprehensive filesystem guard active\nâœ… GitHub security config: PASS â€” security workflows present\nâœ… PR Security Automation: PASS â€” workflow active\nâœ… Canary CPU loop: PASS â€” timed out as expected\nâŒ Canary Network: FAIL â€” import error: No module named 'requests'\nâ¸ Canary Subprocess: DEFERRED â€” secure_runner import failed: No module named 'requests'\nâ¸ Canary Process Spawn: DEFERRED â€” secure_runner import failed: No module named 'requests'\nâ¸ Canary Dynamic Code: DEFERRED â€” secure_runner import failed: No module named 'requests'\nâ¸ Canary Dangerous Imports: DEFERRED â€” secure_runner import failed: No module named 'requests'\nâ¸ Canary Filesystem: DEFERRED â€” secure_runner import failed: No module named 'requests'\n\nSummary: Mandatory passed: 12/17 (DEFERRED: 4). Optional/informational: 6.\nResult: Audit failed closed on the mandatory network canary (by design, the runner aborts on any mandatory miss). You can opt-in to network or run in --unsafe if you need to exercise that path explicitly.\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3292652502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19703989450,"node_id":"MEE_lADOAGuhRc7Lm5PXzwAAAASWcwTK","url":"https://api.github.com/repos/python/mypy/issues/events/19703989450","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-15T15:01:46Z","performed_via_github_app":null},{"id":19703989502,"node_id":"SE_lADOAGuhRc7Lm5PXzwAAAASWcwT-","url":"https://api.github.com/repos/python/mypy/issues/events/19703989502","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-15T15:01:46Z","performed_via_github_app":null},{"id":19706981442,"node_id":"LE_lADOAGuhRc7Lm5PXzwAAAASWoKxC","url":"https://api.github.com/repos/python/mypy/issues/events/19706981442","actor":{"login":"brianschubert","id":25313350,"node_id":"MDQ6VXNlcjI1MzEzMzUw","avatar_url":"https://avatars.githubusercontent.com/u/25313350?v=4","gravatar_id":"","url":"https://api.github.com/users/brianschubert","html_url":"https://github.com/brianschubert","followers_url":"https://api.github.com/users/brianschubert/followers","following_url":"https://api.github.com/users/brianschubert/following{/other_user}","gists_url":"https://api.github.com/users/brianschubert/gists{/gist_id}","starred_url":"https://api.github.com/users/brianschubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianschubert/subscriptions","organizations_url":"https://api.github.com/users/brianschubert/orgs","repos_url":"https://api.github.com/users/brianschubert/repos","events_url":"https://api.github.com/users/brianschubert/events{/privacy}","received_events_url":"https://api.github.com/users/brianschubert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-09-15T17:26:32Z","label":{"name":"topic-strict-optional","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3299446890","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3299446890","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3299446890,"node_id":"IC_kwDOAGuhRc7EqZBq","user":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-16T16:08:11Z","updated_at":"2025-09-16T16:08:11Z","body":"I think it's OK to keep this open now, the `[unreachable]` reported is still a false positive, no matter what configuration flags are used.\n\n> itâ€™s a temporary, repo-level compromise \n\nAh, well, that's definitely fine then - applying typing gradually definitely makes sense!\n\n> this repo runs any model-generated code...\n\nNot gonna discuss it here, but in brief - I just do not want to interact with any attempts at LLM-based code generation, it doesn't matter how secure the system is, I simply refuse to treat tokens emitted by LLMs as code and let them float around my dev environments. That's my own position, not endorsed by mypy devs or any other group I might be associated with, I just want to stay away from LLM-generated texts/code/images/dragons, as far as possible. I had to work with LLMs for plain text (not code - just text summaries) generation last year, and this was a truly horrible experience I hope to never return to again. I tried to integrate Claude and Cursor into my workflows, only to abort these attempts after 2 or 3 weeks of suffering through. Please, let me just avoid touching LLMs, especially in any professional contexts:)\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3299446890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3302782603","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3302782603","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3302782603,"node_id":"IC_kwDOAGuhRc7E3HaL","user":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-17T12:35:08Z","updated_at":"2025-09-17T12:35:08Z","body":"Understood, keeping this open makes sense since itâ€™s a false positive regardless of flags.\n\nOn LLMs: totally understandable. I do work with them, but the main reason I started my project/repo was exactly what youâ€™re describing. Not to dump a life story, but after a months long hyperfocus on Python/dev environments, noticing how responses changed around specific snippets pushed me to build a benchmark. It can be extremely frustrating, so I completely get your position.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3302782603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sMiNT0S","id":175650907,"node_id":"U_kgDOCng4Ww","avatar_url":"https://avatars.githubusercontent.com/u/175650907?v=4","gravatar_id":"","url":"https://api.github.com/users/sMiNT0S","html_url":"https://github.com/sMiNT0S","followers_url":"https://api.github.com/users/sMiNT0S/followers","following_url":"https://api.github.com/users/sMiNT0S/following{/other_user}","gists_url":"https://api.github.com/users/sMiNT0S/gists{/gist_id}","starred_url":"https://api.github.com/users/sMiNT0S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sMiNT0S/subscriptions","organizations_url":"https://api.github.com/users/sMiNT0S/orgs","repos_url":"https://api.github.com/users/sMiNT0S/repos","events_url":"https://api.github.com/users/sMiNT0S/events{/privacy}","received_events_url":"https://api.github.com/users/sMiNT0S/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3315043795","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3315043795","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3315043795,"node_id":"IC_kwDOAGuhRc7Fl43T","user":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-20T15:14:11Z","updated_at":"2025-09-20T15:14:11Z","body":"@sterliakov \n\n> `with` statements are complicated: namely, they are able to \"swallow\" exceptions, and we cannot statically determine whether any given context manager does that. For example,\n\nYou right, I forgot about that.\n\nTaking into account that CM can swallow the exception and the interpreter will just exit the scope and continue the execution, doesn't that mean that mypy should highlight possible undefined vars (spoiler it didn't in my case)? \n\n```python\nasync def run_machine(\n    sm: AnyioStreamStateMachine[StreamMessage, str],\n    streams: MemoryStreams,\n    inputs: t.Sequence[StreamMessage],\n) -> t.Sequence[str]:\n    async with create_task_group() as tg:\n        tg.start_soon(send_inputs, streams, inputs)\n        tg.start_soon(sm.run, streams.input_receive, streams.output_send)\n        outputs = await collect_outputs(streams)\n\n    return outputs  # should error: Name \"outputs\" may be undefined  [possibly-undefined]\n```\n\nThus I have to write the code like this:\n\n```python\nasync def run_machine(\n    sm: AnyioStreamStateMachine[StreamMessage, str],\n    streams: MemoryStreams,\n    inputs: t.Sequence[StreamMessage],\n) -> t.Sequence[str]:\n    output = list[str]()  # define the var for output value from before the CM scope\n\n    async with create_task_group() as tg:\n        tg.start_soon(send_inputs, streams, inputs)\n        tg.start_soon(sm.run, streams.input_receive, streams.output_send)\n        outputs = await collect_outputs(streams)\n\n    return outputs\n```\n\nP.S. I think it would be nice if mypy can distinguish CM that can swallow the error and the CM that won't do that. Not sure if current builtin interfaces of ContextManager / AsyncContextManager allow to do that, because all exit methods return `bool | None` . Maybe some new `SimpleContextManager` with `exit -> None` should be introduced.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3315043795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zerlok","id":2662297,"node_id":"MDQ6VXNlcjI2NjIyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2662297?v=4","gravatar_id":"","url":"https://api.github.com/users/zerlok","html_url":"https://github.com/zerlok","followers_url":"https://api.github.com/users/zerlok/followers","following_url":"https://api.github.com/users/zerlok/following{/other_user}","gists_url":"https://api.github.com/users/zerlok/gists{/gist_id}","starred_url":"https://api.github.com/users/zerlok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerlok/subscriptions","organizations_url":"https://api.github.com/users/zerlok/orgs","repos_url":"https://api.github.com/users/zerlok/repos","events_url":"https://api.github.com/users/zerlok/events{/privacy}","received_events_url":"https://api.github.com/users/zerlok/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19816699198,"node_id":"MEE_lADOAGuhRc7Lm5PXzwAAAASdKtU-","url":"https://api.github.com/repos/python/mypy/issues/events/19816699198","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-09-20T15:14:13Z","performed_via_github_app":null},{"id":19816699218,"node_id":"SE_lADOAGuhRc7Lm5PXzwAAAASdKtVS","url":"https://api.github.com/repos/python/mypy/issues/events/19816699218","actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-09-20T15:14:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3316172470","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3316172470","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3316172470,"node_id":"IC_kwDOAGuhRc7FqMa2","user":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-21T18:24:52Z","updated_at":"2025-09-21T18:30:01Z","body":"> cc [@tyralla](https://github.com/tyralla) - you worked on reachability analysis recently, right? This is not a recent regression (passes on 1.0.0-1.7.1, fails on 1.8.0-master, I did not bisect further), and I don't know whether this problem is of any importance, but maybe it's a simple fix?)\n\nI recently worked on a few reachability issues where loops and similar things were involved, but this one seems to be different:\n\n```python\nimport re\nx: re.Match[str] | None\nif not x:\n    x = None  # error: Statement is unreachable  [unreachable]\n```\n\nDoes anyone know what makes `Match` so special here? \n\nI am a little busy at the moment, but I could investigate later.  \n\nThere are no plans to remove the evil `no-strict-optional` option in Mypy 2, right?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3316172470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/3391148598","html_url":"https://github.com/python/mypy/issues/19849#issuecomment-3391148598","issue_url":"https://api.github.com/repos/python/mypy/issues/19849","id":3391148598,"node_id":"IC_kwDOAGuhRc7KINI2","user":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-10T16:44:37Z","updated_at":"2025-10-10T16:44:37Z","body":"The only \"special\" thing about `Match` causing the problem seems to be that it is decorated with `final`:\n\n```python\nfrom typing import final\n\n@final\nclass C: ...\n\nx: C | None\nif not x:\n    x = C()  # error: Statement is unreachable  [unreachable]\n```","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/3391148598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-10T21:39:50Z","updated_at":"2025-10-10T21:39:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/20045","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/20045/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/20045/comments","events_url":"https://api.github.com/repos/python/mypy/issues/20045/events","html_url":"https://github.com/python/mypy/pull/20045","id":3504572682,"node_id":"PR_kwDOAGuhRc6tLllq","number":20045,"title":"prevent false unreachable warnings for @final instances that occur when strict optional checking is disabled","user":{"login":"tyralla","id":25983587,"node_id":"MDQ6VXNlcjI1OTgzNTg3","avatar_url":"https://avatars.githubusercontent.com/u/25983587?v=4","gravatar_id":"","url":"https://api.github.com/users/tyralla","html_url":"https://github.com/tyralla","followers_url":"https://api.github.com/users/tyralla/followers","following_url":"https://api.github.com/users/tyralla/following{/other_user}","gists_url":"https://api.github.com/users/tyralla/gists{/gist_id}","starred_url":"https://api.github.com/users/tyralla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyralla/subscriptions","organizations_url":"https://api.github.com/users/tyralla/orgs","repos_url":"https://api.github.com/users/tyralla/repos","events_url":"https://api.github.com/users/tyralla/events{/privacy}","received_events_url":"https://api.github.com/users/tyralla/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-10-10T21:39:49Z","updated_at":"2025-10-12T00:15:16Z","closed_at":"2025-10-12T00:15:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/20045","html_url":"https://github.com/python/mypy/pull/20045","diff_url":"https://github.com/python/mypy/pull/20045.diff","patch_url":"https://github.com/python/mypy/pull/20045.patch","merged_at":"2025-10-12T00:15:16Z"},"body":"Fixes #19849\r\n\r\nSee #11717 for some background information on `--no-strict-optional`.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/20045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/20045/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20227704815,"node_id":"CE_lADOAGuhRc7Lm5PXzwAAAAS1qkfv","url":"https://api.github.com/repos/python/mypy/issues/events/20227704815","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-10-12T00:15:17Z","state_reason":null,"performed_via_github_app":null},{"id":20227961699,"node_id":"REFE_lADOAGuhRc7Lm5PXzwAAAAS1rjNj","url":"https://api.github.com/repos/python/mypy/issues/events/20227961699","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"18bfc016eb2d413d1fb3389fa8f454cb40fcebd0","commit_url":"https://api.github.com/repos/Mu-L/mypy/commits/18bfc016eb2d413d1fb3389fa8f454cb40fcebd0","created_at":"2025-10-12T01:37:30Z","performed_via_github_app":null}]