{"url":"https://api.github.com/repos/python/mypy/issues/18309","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/18309/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/18309/comments","events_url":"https://api.github.com/repos/python/mypy/issues/18309/events","html_url":"https://github.com/python/mypy/issues/18309","id":2749615494,"node_id":"I_kwDOAGuhRc6j482G","number":18309,"title":"I can not assign a value to variable of a type built from the unpacking of another type  with the new pythong 3.13 generic syntax","user":{"login":"GENDRAUD","id":18040261,"node_id":"MDQ6VXNlcjE4MDQwMjYx","avatar_url":"https://avatars.githubusercontent.com/u/18040261?v=4","gravatar_id":"","url":"https://api.github.com/users/GENDRAUD","html_url":"https://github.com/GENDRAUD","followers_url":"https://api.github.com/users/GENDRAUD/followers","following_url":"https://api.github.com/users/GENDRAUD/following{/other_user}","gists_url":"https://api.github.com/users/GENDRAUD/gists{/gist_id}","starred_url":"https://api.github.com/users/GENDRAUD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GENDRAUD/subscriptions","organizations_url":"https://api.github.com/users/GENDRAUD/orgs","repos_url":"https://api.github.com/users/GENDRAUD/repos","events_url":"https://api.github.com/users/GENDRAUD/events{/privacy}","received_events_url":"https://api.github.com/users/GENDRAUD/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"},{"id":379446833,"node_id":"MDU6TGFiZWwzNzk0NDY4MzM=","url":"https://api.github.com/repos/python/mypy/labels/crash","name":"crash","color":"b60205","default":false,"description":null},{"id":7057647935,"node_id":"LA_kwDOAGuhRc8AAAABpKspPw","url":"https://api.github.com/repos/python/mypy/labels/topic-pep-695","name":"topic-pep-695","color":"5BB174","default":false,"description":"Issues related to PEP 695 syntax"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-12-19T08:35:33Z","updated_at":"2025-01-15T09:53:18Z","closed_at":"2025-01-15T09:53:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"this code with the old generic syntax works perfectly well\r\n\r\n```python\r\nfrom collections.abc import Callable\r\nfrom typing import TypeAliasType, Unpack\r\n\r\nRK_function_args = TypeAliasType(\"RK_function_args\", tuple[float, int])\r\n\r\n# Original function type\r\nRK_function = TypeAliasType(\"RK_function\", Callable[[Unpack[RK_function_args]], int])\r\n\r\n# Attempted new function type with an additional int argument\r\nRK_functionBIS = TypeAliasType(\r\n    \"RK_functionBIS\", Callable[[Unpack[RK_function_args], int], int]\r\n)\r\n\r\ndef ff(a: float, b: int, c: int) -> int:\r\n    return 2\r\n\r\nbis: RK_functionBIS = ff\r\nres: int = bis(1.0, 2, 3)  # OK\r\nprint(res)\r\n```\r\n\r\n<\r\nthere is no problem assigning the value *ff*   tp *bis*   of type  *RK_functionBIS*. \r\nff take a float , a int and a a int as argument. And the RK_functionBIS take as argument tuple(float,int,int) unpacked\r\n\r\nBut it fails with the new new generic syntax\r\n\r\n\r\n\r\n```python\r\nfrom collections.abc import Callable\r\nfrom typing import Unpack\r\n\r\ntype RK_function_args = tuple[float, int]\r\ntype RK_function = Callable[[Unpack[RK_function_args]], int]\r\ntype RK_functionBIS = Callable[[Unpack[RK_function_args], int], int]\r\n\r\n\r\ndef f(a: float, b: int) -> int:\r\n    return 2\r\n\r\ndef ff(a: float, b: int, c: int) -> int:\r\n    return 2\r\n\r\n\r\nbis: RK_functionBIS = ff\r\nres: int = bis(1.0, 2, 3)  # OK\r\nprint(res)\r\n```\r\n\r\n\r\nerror messagee: main.py:17: error: Incompatible types in assignment (expression has type \"Callable[[float, int, int], int]\", variable has type \"Callable[[VarArg(*tuple[*tuple[float, int], int])], int]\") [assignment]\r\n\r\nnote that in both case in can run my code successfully- I am not completely sure this is a bug. Perhaps I just made a mistake but somebody in stackoverflow told me to report it as a bug:\r\n\r\nhttps://stackoverflow.com/questions/79292914/why-does-unpacking-with-the-new-generic-syntax-in-python-3-13-cause-a-mypy-error?noredirect=1#comment139825314_79292914\r\n\r\n\r\n","closed_by":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/18309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/18309/timeline","performed_via_github_app":null,"state_reason":"completed"}