{"url":"https://api.github.com/repos/python/mypy/issues/19112","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/19112/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/19112/comments","events_url":"https://api.github.com/repos/python/mypy/issues/19112/events","html_url":"https://github.com/python/mypy/issues/19112","id":3073954784,"node_id":"I_kwDOAGuhRc63ONPg","number":19112,"title":"Show more context about the base class on incompatible override","user":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488358,"node_id":"MDU6TGFiZWwyMTQ4ODM1OA==","url":"https://api.github.com/repos/python/mypy/labels/feature","name":"feature","color":"84b6eb","default":false,"description":null},{"id":608992726,"node_id":"MDU6TGFiZWw2MDg5OTI3MjY=","url":"https://api.github.com/repos/python/mypy/labels/topic-usability","name":"topic-usability","color":"d4c5f9","default":false,"description":null},{"id":932016981,"node_id":"MDU6TGFiZWw5MzIwMTY5ODE=","url":"https://api.github.com/repos/python/mypy/labels/good-first-issue","name":"good-first-issue","color":"3dc136","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-05-19T13:59:13Z","updated_at":"2025-06-06T23:38:38Z","closed_at":"2025-06-06T23:38:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Feature**\n\nWhen an override is incompatible with the base class, mypy only shows the short name of the base class (e.g. `MyClass`). Change that to show the full name (e.g. `pkg.mod.MyClass`) when the base class is defined in a different module.\n\nExample where this would make a difference:\n\n```py\n# a.py\nclass A:\n    def f(self, x: int) -> None:\n        ...\n    def g(self) -> None:\n        ...\n```\n\n```py\n# b.py\nfrom a import A\n\nclass B(A):\n    def f(self, x: str) -> None:\n        ...\n    def g(self, x: str) -> None:\n        ...\n```\nThis is the current output:\n```\nb.py:4: error: Argument 1 of \"f\" is incompatible with supertype \"A\"; supertype defines the argument type as \"int\"  [override]\nb.py:4: note: This violates the Liskov substitution principle\nb.py:4: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#incompatible-overrides\nb.py:6: error: Signature of \"g\" incompatible with supertype \"A\"  [override]\nb.py:6: note:      Superclass:\nb.py:6: note:          def g(self) -> None\nb.py:6: note:      Subclass:\nb.py:6: note:          def g(self, x: str) -> None\n```\n\nThe desired output would be `... with supertype \"a.A\" ...` instead of `... with supertype \"A\" ...`.\n\n**Pitch**\n\nThere can be a complex class hierarchy, and different base classes in the MRO can be in different modules. Currently finding the base class of the method is inconvenient, especially for somebody not using an IDE that allows them to quickly look it up. Also, it's not uncommon to have multiple classes with the same short name, so the current message is ambiguous.","closed_by":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/19112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/19112/timeline","performed_via_github_app":null,"state_reason":"completed"}