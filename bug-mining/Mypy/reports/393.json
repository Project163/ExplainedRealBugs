{"url":"https://api.github.com/repos/python/mypy/issues/16607","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/16607/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/16607/comments","events_url":"https://api.github.com/repos/python/mypy/issues/16607/events","html_url":"https://github.com/python/mypy/issues/16607","id":2022995527,"node_id":"I_kwDOAGuhRc54lHZH","number":16607,"title":"There is no way to ignore `valid-type` error for valid type alias `type` statements","user":{"login":"bmitc","id":65685447,"node_id":"MDQ6VXNlcjY1Njg1NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/65685447?v=4","gravatar_id":"","url":"https://api.github.com/users/bmitc","html_url":"https://github.com/bmitc","followers_url":"https://api.github.com/users/bmitc/followers","following_url":"https://api.github.com/users/bmitc/following{/other_user}","gists_url":"https://api.github.com/users/bmitc/gists{/gist_id}","starred_url":"https://api.github.com/users/bmitc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmitc/subscriptions","organizations_url":"https://api.github.com/users/bmitc/orgs","repos_url":"https://api.github.com/users/bmitc/repos","events_url":"https://api.github.com/users/bmitc/events{/privacy}","received_events_url":"https://api.github.com/users/bmitc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-04T04:23:10Z","updated_at":"2023-12-07T18:02:59Z","closed_at":"2023-12-07T18:02:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nIf you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form instead.\r\nPlease consider:\r\n\r\n- checking our common issues page: https://mypy.readthedocs.io/en/stable/common_issues.html\r\n- searching our issue tracker: https://github.com/python/mypy/issues to see if it's already been reported\r\n- asking on gitter chat: https://gitter.im/python/typing\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nIf you're reporting a problem with a specific library function, the typeshed tracker is better suited for this report: https://github.com/python/typeshed/issues\r\n\r\nIf the project you encountered the issue in is open source, please provide a link to the project.\r\n-->\r\n\r\nPython 3.12 added support for the [`type` statement](https://docs.python.org/3/library/typing.html#type-aliases) as described in [PEP 695](https://peps.python.org/pep-0695/). As discussed in https://github.com/python/mypy/issues/15238, Mypy does not yet support PEP 695. Unfortunately, it seems that Mypy also does not support ignoring error codes for lines using `type`.\r\n\r\n**To Reproduce**\r\n\r\nAfter reading the documentation at https://mypy.readthedocs.io/en/stable/error_codes.html#error-codes:\r\n\r\nIn `mypy.ini`:\r\n```ini\r\n[mypy]\r\ndisable_error_code = valid-type\r\n```\r\n\r\nIn a Python source file:\r\n```python\r\ntype Number = int | float # type: ignore\r\n\r\ntype AnotherNumber = int | float # type: ignore[valid-type]\r\n\r\ntype YetAnotherNumber = int | float # mypy: disable-error-code=\"valid-type\"\r\n```\r\n\r\nOn the command line:\r\n```\r\nmypy --disable-error-code='unused-ignore' ...\r\n```\r\n\r\n**Expected Behavior**\r\n\r\n<!--\r\nHow did you expect mypy to behave? It’s fine if you’re not sure your understanding is correct.\r\nWrite down what you thought would happen. If you expected no errors, delete this section.\r\n-->\r\n\r\nAll five of these examples should tell Mypy ignore the `valid-type` error code.\r\n\r\n**Actual Behavior**\r\n\r\n<!-- What went wrong? Paste mypy's output. -->\r\n\r\nThe error code is not ignored. In every case, the following error is still generated:\r\n\r\n```\r\nerror: PEP 695 type aliases are not yet supported  [valid-type]\r\n```\r\n\r\nIn a few of the cases, an error like\r\n```\r\nerror: Unused \"type: ignore\" comment  [unused-ignore]\r\n```\r\nis generated.\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: 1.7.1\r\n- Mypy command-line flags: see above\r\n- Mypy configuration options from `mypy.ini` (and other config files): see above\r\n- Python version used: 3.12\r\n\r\n<!-- You can freely edit this text, please remove all the lines you believe are unnecessary. -->\r\n","closed_by":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/16607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/16607/timeline","performed_via_github_app":null,"state_reason":"completed"}