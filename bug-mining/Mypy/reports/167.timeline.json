[{"id":7040761059,"node_id":"LE_lADOAGuhRc5OTRgvzwAAAAGjqXzj","url":"https://api.github.com/repos/python/mypy/issues/events/7040761059","actor":{"login":"vfazio","id":5265893,"node_id":"MDQ6VXNlcjUyNjU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5265893?v=4","gravatar_id":"","url":"https://api.github.com/users/vfazio","html_url":"https://github.com/vfazio","followers_url":"https://api.github.com/users/vfazio/followers","following_url":"https://api.github.com/users/vfazio/following{/other_user}","gists_url":"https://api.github.com/users/vfazio/gists{/gist_id}","starred_url":"https://api.github.com/users/vfazio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfazio/subscriptions","organizations_url":"https://api.github.com/users/vfazio/orgs","repos_url":"https://api.github.com/users/vfazio/repos","events_url":"https://api.github.com/users/vfazio/events{/privacy}","received_events_url":"https://api.github.com/users/vfazio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-21T18:59:32Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192090531","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1192090531","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1192090531,"node_id":"IC_kwDOAGuhRc5HDduj","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T01:34:19Z","updated_at":"2022-07-22T01:44:00Z","body":"In mypy 0.960 and for long, long before, mypy only looked at site packages, with some logic on top to handle `.pth` files.\r\nThe big change here was https://github.com/python/mypy/pull/11143 , which changed that so mypy looks at most of `sys.path`.\r\n\r\nThe check you're running into was to prevent people from doing `MYPYPATH=/whatever/python/site-packages`, which would do terrible things (at least historically — that check is really really old and things might be better today).\r\n\r\nIf you see the before side of #11143, this check was only against `site_packages`, not `egg_dirs` (which is where the `.pth` stuff, such as an editably installed cwd, would go). The right side of #11143 smooshes all of `sys.path` together, which is why you now get this check. This seems bad.\r\n\r\nThe connection with errors being reported in your stubs comes from https://github.com/python/mypy/blob/a6166b2f7e8e4cf9d176107277da223e45c3a6a1/mypy/build.py#L2458\r\nwhere mypy will automatically silence errors from things it's picked up from pyinfo and typeshed.\r\n\r\nJust to be explicit and reduce confusion, I'm quite sure the current pyinfo / https://github.com/python/mypy/pull/13161 is correct (and it matches the behaviour of mypy 0.960 too, in terms of what ends up where on `SearchPaths`).\r\nThe issue described by OP isn't really with cwd — it can happen with any directory that is on `sys.path` and `MYPYPATH`.\r\n\r\nI think the fix here is to either get rid of the check entirely, or to restrict it so that it only applies to actually site-package dirs, like it did in 0.960","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192090531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192091118","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1192091118","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1192091118,"node_id":"IC_kwDOAGuhRc5HDd3u","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T01:35:25Z","updated_at":"2022-07-22T01:35:25Z","body":"And thanks for the report and the extra investigation, makes it much easier to figure out what's going on!","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192091118/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192578569","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1192578569","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1192578569,"node_id":"IC_kwDOAGuhRc5HFU4J","user":{"login":"vfazio","id":5265893,"node_id":"MDQ6VXNlcjUyNjU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5265893?v=4","gravatar_id":"","url":"https://api.github.com/users/vfazio","html_url":"https://github.com/vfazio","followers_url":"https://api.github.com/users/vfazio/followers","following_url":"https://api.github.com/users/vfazio/following{/other_user}","gists_url":"https://api.github.com/users/vfazio/gists{/gist_id}","starred_url":"https://api.github.com/users/vfazio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfazio/subscriptions","organizations_url":"https://api.github.com/users/vfazio/orgs","repos_url":"https://api.github.com/users/vfazio/repos","events_url":"https://api.github.com/users/vfazio/events{/privacy}","received_events_url":"https://api.github.com/users/vfazio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T13:31:45Z","updated_at":"2022-07-22T13:31:45Z","body":"Ok, I think I kinda-sorta understand what's going on.\r\n\r\nAs a test, I reverted my hack to exclude `cwd` and dropped the `sys.exit(1)` from modulefinder after the MYPYPATH warning and I now see that the .pyi files no longer trigger warnings. \r\n\r\nFor now, we'll stick to 0.961 until there's a patch to address this behavior.\r\n\r\nIt may make sense to add a unittest for this scenario since it's a documented configuration, that way any future regressions could be caught?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192578569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vfazio","id":5265893,"node_id":"MDQ6VXNlcjUyNjU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5265893?v=4","gravatar_id":"","url":"https://api.github.com/users/vfazio","html_url":"https://github.com/vfazio","followers_url":"https://api.github.com/users/vfazio/followers","following_url":"https://api.github.com/users/vfazio/following{/other_user}","gists_url":"https://api.github.com/users/vfazio/gists{/gist_id}","starred_url":"https://api.github.com/users/vfazio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfazio/subscriptions","organizations_url":"https://api.github.com/users/vfazio/orgs","repos_url":"https://api.github.com/users/vfazio/repos","events_url":"https://api.github.com/users/vfazio/events{/privacy}","received_events_url":"https://api.github.com/users/vfazio/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192749301","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1192749301","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1192749301,"node_id":"IC_kwDOAGuhRc5HF-j1","user":{"login":"uSpike","id":5686650,"node_id":"MDQ6VXNlcjU2ODY2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5686650?v=4","gravatar_id":"","url":"https://api.github.com/users/uSpike","html_url":"https://github.com/uSpike","followers_url":"https://api.github.com/users/uSpike/followers","following_url":"https://api.github.com/users/uSpike/following{/other_user}","gists_url":"https://api.github.com/users/uSpike/gists{/gist_id}","starred_url":"https://api.github.com/users/uSpike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uSpike/subscriptions","organizations_url":"https://api.github.com/users/uSpike/orgs","repos_url":"https://api.github.com/users/uSpike/repos","events_url":"https://api.github.com/users/uSpike/events{/privacy}","received_events_url":"https://api.github.com/users/uSpike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T16:34:27Z","updated_at":"2022-07-22T16:34:27Z","body":"I think I've found the specific environment parts that are causing our error.\r\n\r\n* We use poetry\r\n* We have a namespace package and use the `packages` feature: https://python-poetry.org/docs/pyproject/#packages\r\n* `mypy.ini` contains `mypy_path=$MYPY_CONFIG_FILE_DIR/stubs`\r\n\r\nSo our pyproject.toml looks like:\r\n```\r\n[tool.poetry]\r\nname = \"test_project\"\r\n...\r\npackages = [\r\n    { include = \"namespace_pkg\" }\r\n]\r\n```\r\n\r\nUpon `poetry install`, a `test_project.pth` file is created in `<virtualenv path>/lib/python3.10/site-packages/`:\r\n```\r\n $ ls <redacted>/lib/python3.10/site-packages/ -la                                                                                                                        \r\n...                                                            \r\n-rwxr-xr-x  1 jspeicher domain users 45790632 Jul 22 11:19 f4771e8a540c98c8e0df__mypyc.cpython-310-x86_64-linux-gnu.so\r\ndrwxr-xr-x  9 jspeicher domain users    12288 Jul 22 11:19 mypy\r\ndrwxr-xr-x  2 jspeicher domain users     4096 Jul 22 11:19 mypy-0.971.dist-info\r\ndrwxr-xr-x  2 jspeicher domain users     4096 Jul 22 11:19 mypy_extensions-0.4.3.dist-info\r\n-rw-r--r--  1 jspeicher domain users     5078 Jul 22 11:19 mypy_extensions.py\r\ndrwxr-xr-x 14 jspeicher domain users     4096 Jul 22 11:19 mypyc\r\n...\r\ndrwxr-xr-x  2 jspeicher domain users     4096 Jul 22 11:20 test_project-0.1.0.dist-info\r\n-rw-r--r--  1 jspeicher domain users       30 Jul 22 11:20 test_project.pth\r\n...\r\n```\r\n\r\nWith this `test_project.pth` file, mypy errors as @vfazio commented.\r\n```\r\n$ mypy namespace_pkg\r\n<project dir> is in the MYPYPATH. Please remove it.\r\n```\r\nIf I comment-out the `packages` portion of `pyproject.toml` then the `test_project.pth` file is not created, and mypy works as expected.\r\n\r\n---\r\n\r\nI also tried this with a simple setuptools-based setup:\r\n\r\nsetup.py:\r\n```python\r\nfrom setuptools import setup\r\n\r\nsetup(\r\n   name='test_project',\r\n   version='2.0',\r\n   packages=['namespace_pkg'],\r\n)\r\n```\r\n\r\nUpon `pip install -e .`, a `venv/lib/python3.10/site-packages/test-project.egg-link` file is created, which causes the same mypy error:\r\n```\r\n$ mypy namespace_pkg\r\n<project dir> is in the MYPYPATH. Please remove it.\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192749301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"uSpike","id":5686650,"node_id":"MDQ6VXNlcjU2ODY2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5686650?v=4","gravatar_id":"","url":"https://api.github.com/users/uSpike","html_url":"https://github.com/uSpike","followers_url":"https://api.github.com/users/uSpike/followers","following_url":"https://api.github.com/users/uSpike/following{/other_user}","gists_url":"https://api.github.com/users/uSpike/gists{/gist_id}","starred_url":"https://api.github.com/users/uSpike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uSpike/subscriptions","organizations_url":"https://api.github.com/users/uSpike/orgs","repos_url":"https://api.github.com/users/uSpike/repos","events_url":"https://api.github.com/users/uSpike/events{/privacy}","received_events_url":"https://api.github.com/users/uSpike/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7047781800,"node_id":"MEE_lADOAGuhRc5OTRgvzwAAAAGkFJ2o","url":"https://api.github.com/repos/python/mypy/issues/events/7047781800","actor":{"login":"vfazio","id":5265893,"node_id":"MDQ6VXNlcjUyNjU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5265893?v=4","gravatar_id":"","url":"https://api.github.com/users/vfazio","html_url":"https://github.com/vfazio","followers_url":"https://api.github.com/users/vfazio/followers","following_url":"https://api.github.com/users/vfazio/following{/other_user}","gists_url":"https://api.github.com/users/vfazio/gists{/gist_id}","starred_url":"https://api.github.com/users/vfazio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfazio/subscriptions","organizations_url":"https://api.github.com/users/vfazio/orgs","repos_url":"https://api.github.com/users/vfazio/repos","events_url":"https://api.github.com/users/vfazio/events{/privacy}","received_events_url":"https://api.github.com/users/vfazio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-22T16:34:27Z","performed_via_github_app":null},{"id":7047781806,"node_id":"SE_lADOAGuhRc5OTRgvzwAAAAGkFJ2u","url":"https://api.github.com/repos/python/mypy/issues/events/7047781806","actor":{"login":"vfazio","id":5265893,"node_id":"MDQ6VXNlcjUyNjU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5265893?v=4","gravatar_id":"","url":"https://api.github.com/users/vfazio","html_url":"https://github.com/vfazio","followers_url":"https://api.github.com/users/vfazio/followers","following_url":"https://api.github.com/users/vfazio/following{/other_user}","gists_url":"https://api.github.com/users/vfazio/gists{/gist_id}","starred_url":"https://api.github.com/users/vfazio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfazio/subscriptions","organizations_url":"https://api.github.com/users/vfazio/orgs","repos_url":"https://api.github.com/users/vfazio/repos","events_url":"https://api.github.com/users/vfazio/events{/privacy}","received_events_url":"https://api.github.com/users/vfazio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-22T16:34:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192751061","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1192751061","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1192751061,"node_id":"IC_kwDOAGuhRc5HF-_V","user":{"login":"uSpike","id":5686650,"node_id":"MDQ6VXNlcjU2ODY2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5686650?v=4","gravatar_id":"","url":"https://api.github.com/users/uSpike","html_url":"https://github.com/uSpike","followers_url":"https://api.github.com/users/uSpike/followers","following_url":"https://api.github.com/users/uSpike/following{/other_user}","gists_url":"https://api.github.com/users/uSpike/gists{/gist_id}","starred_url":"https://api.github.com/users/uSpike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uSpike/subscriptions","organizations_url":"https://api.github.com/users/uSpike/orgs","repos_url":"https://api.github.com/users/uSpike/repos","events_url":"https://api.github.com/users/uSpike/events{/privacy}","received_events_url":"https://api.github.com/users/uSpike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T16:36:43Z","updated_at":"2022-07-22T16:36:43Z","body":"To sum up my previous comment, I think that mypy is currently incompatible with an editable-installed package (`pip install -e .`) in combination with mypy config `mypy_path=$MYPY_CONFIG_FILE_DIR/<anything>`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1192751061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"uSpike","id":5686650,"node_id":"MDQ6VXNlcjU2ODY2NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5686650?v=4","gravatar_id":"","url":"https://api.github.com/users/uSpike","html_url":"https://github.com/uSpike","followers_url":"https://api.github.com/users/uSpike/followers","following_url":"https://api.github.com/users/uSpike/following{/other_user}","gists_url":"https://api.github.com/users/uSpike/gists{/gist_id}","starred_url":"https://api.github.com/users/uSpike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uSpike/subscriptions","organizations_url":"https://api.github.com/users/uSpike/orgs","repos_url":"https://api.github.com/users/uSpike/repos","events_url":"https://api.github.com/users/uSpike/events{/privacy}","received_events_url":"https://api.github.com/users/uSpike/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7049915774,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGkNS1-","url":"https://api.github.com/repos/python/mypy/issues/events/7049915774","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fc4e7ce1f53e61b042a98ca386a0aeb2ebf70591","commit_url":"https://api.github.com/repos/hauntsaninja/mypy/commits/fc4e7ce1f53e61b042a98ca386a0aeb2ebf70591","created_at":"2022-07-23T06:16:46Z","performed_via_github_app":null},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-23T06:16:59Z","updated_at":"2022-07-23T06:16:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/13223","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13223/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13223/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13223/events","html_url":"https://github.com/python/mypy/pull/13223","id":1315575946,"node_id":"PR_kwDOAGuhRc47-sHP","number":13223,"title":"Fix site package on MYPYPATH check","user":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-07-23T06:16:59Z","updated_at":"2022-07-27T03:28:25Z","closed_at":"2022-07-25T17:28:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/13223","html_url":"https://github.com/python/mypy/pull/13223","diff_url":"https://github.com/python/mypy/pull/13223.diff","patch_url":"https://github.com/python/mypy/pull/13223.patch","merged_at":"2022-07-25T17:28:30Z"},"body":"This was a regression in 0.971\r\n\r\nFixes #13214","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13223/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-23T06:22:32Z","updated_at":"2022-07-23T06:22:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/13089","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13089/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13089/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13089/events","html_url":"https://github.com/python/mypy/issues/13089","id":1298837212,"node_id":"I_kwDOAGuhRc5Naq7c","number":13089,"title":"Release 0.970 planning","user":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3542336145,"node_id":"LA_kwDOAGuhRc7TI8KR","url":"https://api.github.com/repos/python/mypy/labels/meta","name":"meta","color":"D62A71","default":false,"description":"Issues tracking a broad area of work"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":30,"created_at":"2022-07-08T10:42:05Z","updated_at":"2022-08-21T04:05:25Z","closed_at":"2022-08-21T04:05:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I am planning to make a 0.970 release around mid July (or Jukka may overtake at some point). \r\n\r\nPlease post here any issues you'd like to see fixed in the release, or PRs you'd like to have merged. There is no release branch yet, but likely I will cut it from some if todays commits. So I would propose to only include critical PRs (e.g. regressions) on top.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13089/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"Apakottur","id":54272821,"node_id":"MDQ6VXNlcjU0MjcyODIx","avatar_url":"https://avatars.githubusercontent.com/u/54272821?v=4","gravatar_id":"","url":"https://api.github.com/users/Apakottur","html_url":"https://github.com/Apakottur","followers_url":"https://api.github.com/users/Apakottur/followers","following_url":"https://api.github.com/users/Apakottur/following{/other_user}","gists_url":"https://api.github.com/users/Apakottur/gists{/gist_id}","starred_url":"https://api.github.com/users/Apakottur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Apakottur/subscriptions","organizations_url":"https://api.github.com/users/Apakottur/orgs","repos_url":"https://api.github.com/users/Apakottur/repos","events_url":"https://api.github.com/users/Apakottur/events{/privacy}","received_events_url":"https://api.github.com/users/Apakottur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-25T14:47:22Z","updated_at":"2022-07-25T14:47:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103","repository_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins","labels_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103/comments","events_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103/events","html_url":"https://github.com/typeddjango/pytest-mypy-plugins/issues/103","id":1315958638,"node_id":"I_kwDOCYLO6c5Ob-9u","number":103,"title":"Getting `project is in the MYPYPATH. Please remove it.` with latest mypy","user":{"login":"patrick91","id":667029,"node_id":"MDQ6VXNlcjY2NzAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/667029?v=4","gravatar_id":"","url":"https://api.github.com/users/patrick91","html_url":"https://github.com/patrick91","followers_url":"https://api.github.com/users/patrick91/followers","following_url":"https://api.github.com/users/patrick91/following{/other_user}","gists_url":"https://api.github.com/users/patrick91/gists{/gist_id}","starred_url":"https://api.github.com/users/patrick91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrick91/subscriptions","organizations_url":"https://api.github.com/users/patrick91/orgs","repos_url":"https://api.github.com/users/patrick91/repos","events_url":"https://api.github.com/users/patrick91/events{/privacy}","received_events_url":"https://api.github.com/users/patrick91/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-07-24T17:06:05Z","updated_at":"2022-08-15T13:51:03Z","closed_at":"2022-07-29T16:02:05Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":159567593,"node_id":"MDEwOlJlcG9zaXRvcnkxNTk1Njc1OTM=","name":"pytest-mypy-plugins","full_name":"typeddjango/pytest-mypy-plugins","private":false,"owner":{"login":"typeddjango","id":52535716,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUyNTM1NzE2","avatar_url":"https://avatars.githubusercontent.com/u/52535716?v=4","gravatar_id":"","url":"https://api.github.com/users/typeddjango","html_url":"https://github.com/typeddjango","followers_url":"https://api.github.com/users/typeddjango/followers","following_url":"https://api.github.com/users/typeddjango/following{/other_user}","gists_url":"https://api.github.com/users/typeddjango/gists{/gist_id}","starred_url":"https://api.github.com/users/typeddjango/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/typeddjango/subscriptions","organizations_url":"https://api.github.com/users/typeddjango/orgs","repos_url":"https://api.github.com/users/typeddjango/repos","events_url":"https://api.github.com/users/typeddjango/events{/privacy}","received_events_url":"https://api.github.com/users/typeddjango/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/typeddjango/pytest-mypy-plugins","description":"pytest plugin for testing mypy types, stubs, and plugins","fork":false,"url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins","forks_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/forks","keys_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/keys{/key_id}","collaborators_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/teams","hooks_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/hooks","issue_events_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/events{/number}","events_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/events","assignees_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/assignees{/user}","branches_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/branches{/branch}","tags_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/tags","blobs_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/git/refs{/sha}","trees_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/git/trees{/sha}","statuses_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/statuses/{sha}","languages_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/languages","stargazers_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/stargazers","contributors_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/contributors","subscribers_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/subscribers","subscription_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/subscription","commits_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/commits{/sha}","git_commits_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/git/commits{/sha}","comments_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/comments{/number}","issue_comment_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/comments{/number}","contents_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/contents/{+path}","compare_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/compare/{base}...{head}","merges_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/merges","archive_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/downloads","issues_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues{/number}","pulls_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/pulls{/number}","milestones_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/milestones{/number}","notifications_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/labels{/name}","releases_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/releases{/id}","deployments_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/deployments","created_at":"2018-11-28T21:29:10Z","updated_at":"2025-10-22T10:17:40Z","pushed_at":"2025-09-19T02:53:12Z","git_url":"git://github.com/typeddjango/pytest-mypy-plugins.git","ssh_url":"git@github.com:typeddjango/pytest-mypy-plugins.git","clone_url":"https://github.com/typeddjango/pytest-mypy-plugins.git","svn_url":"https://github.com/typeddjango/pytest-mypy-plugins","homepage":"https://pypi.org/project/pytest-mypy-plugins/","size":222,"stargazers_count":120,"watchers_count":120,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":28,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":29,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mypy","mypy-plugins","mypy-stubs","pep484","pytest","pytest-plugin","python"],"visibility":"public","forks":28,"open_issues":29,"watchers":120,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi there, I've got a [PR that tries to update mypy](https://github.com/strawberry-graphql/strawberry/pull/2032) to the latest version on my project but the tests fail with the following error:\r\n\r\n```\r\nstrawberry is in the MYPYPATH. Please remove it. \r\n```\r\n\r\nI'm not sure if there's a way to fix this, I'm not setting the `MYPYPATH` anywhere.\r\n\r\nFull message:\r\n\r\n```\r\n❯ poetry run pytest -x tests/mypy                                                                                                                                                       ─╯\r\n=================================================================================== test session starts ===================================================================================\r\nplatform darwin -- Python 3.10.5, pytest-7.1.2, pluggy-1.0.0\r\nbenchmark: 3.4.1 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\r\ndjango: settings: tests.django.django_settings (from ini)\r\nrootdir: /Users/patrick/github/strawberry-graphql/strawberry, configfile: pyproject.toml\r\nplugins: snapshot-0.9.0, anyio-3.6.1, benchmark-3.4.1, emoji-0.2.0, mypy-plugins-1.9.3, asyncio-0.19.0, ddtrace-1.2.3, mock-3.8.2, xprocess-0.19.0, django-4.5.2, cov-3.0.0, aiohttp-1.0.4, flask-1.2.0\r\nasyncio: mode=auto\r\ncollected 52 items\r\n\r\ntests/mypy/test_create_type.yml 😰\r\n\r\n======================================================================================== FAILURES =========================================================================================\r\n____________________________________________________________________________________ test_create_type _____________________________________________________________________________________\r\n/Users/patrick/github/strawberry-graphql/strawberry/tests/mypy/test_create_type.yml:12:\r\nE   pytest_mypy_plugins.utils.TypecheckAssertionError: Invalid output:\r\nE   Actual:\r\nE     /Users/patrick/github/strawberry-graphql/strawberry is in the MYPYPATH. Please remove it. (diff)\r\nE     ../../../../../../private/var/folders/14/9c602b_16c9773hgk2w8r5cr0000gn/T/pytest-mypy-d5ylfr5y/See https://mypy.readthedocs.io/en/stable/running_mypy.html#how-mypy-handles-imports for more info (diff)\r\n```","reactions":{"url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/typeddjango/pytest-mypy-plugins/issues/103/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":7058435173,"node_id":"CE_lADOAGuhRc5OTRgvzwAAAAGktyxl","url":"https://api.github.com/repos/python/mypy/issues/events/7058435173","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-07-25T17:28:31Z","state_reason":null,"performed_via_github_app":null},{"id":7058435550,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGkty3e","url":"https://api.github.com/repos/python/mypy/issues/events/7058435550","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2a519c06903b93c371199f87b20e8b4963859af9","commit_url":"https://api.github.com/repos/python/mypy/commits/2a519c06903b93c371199f87b20e8b4963859af9","created_at":"2022-07-25T17:28:35Z","performed_via_github_app":null},{"actor":{"login":"mwchase","id":882845,"node_id":"MDQ6VXNlcjg4Mjg0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/882845?v=4","gravatar_id":"","url":"https://api.github.com/users/mwchase","html_url":"https://github.com/mwchase","followers_url":"https://api.github.com/users/mwchase/followers","following_url":"https://api.github.com/users/mwchase/following{/other_user}","gists_url":"https://api.github.com/users/mwchase/gists{/gist_id}","starred_url":"https://api.github.com/users/mwchase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwchase/subscriptions","organizations_url":"https://api.github.com/users/mwchase/orgs","repos_url":"https://api.github.com/users/mwchase/repos","events_url":"https://api.github.com/users/mwchase/events{/privacy}","received_events_url":"https://api.github.com/users/mwchase/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-26T16:06:31Z","updated_at":"2022-07-26T16:06:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26","repository_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing","labels_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26/labels{/name}","comments_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26/comments","events_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26/events","html_url":"https://github.com/davidfritzsche/pytest-mypy-testing/issues/26","id":1317228791,"node_id":"I_kwDODc9JGs5Og1D3","number":26,"title":"Some messages not found when running pytest as `python -m pytest` against mypy 0.971","user":{"login":"mwchase","id":882845,"node_id":"MDQ6VXNlcjg4Mjg0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/882845?v=4","gravatar_id":"","url":"https://api.github.com/users/mwchase","html_url":"https://github.com/mwchase","followers_url":"https://api.github.com/users/mwchase/followers","following_url":"https://api.github.com/users/mwchase/following{/other_user}","gists_url":"https://api.github.com/users/mwchase/gists{/gist_id}","starred_url":"https://api.github.com/users/mwchase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwchase/subscriptions","organizations_url":"https://api.github.com/users/mwchase/orgs","repos_url":"https://api.github.com/users/mwchase/repos","events_url":"https://api.github.com/users/mwchase/events{/privacy}","received_events_url":"https://api.github.com/users/mwchase/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-07-25T18:49:24Z","updated_at":"2022-07-26T16:23:52Z","closed_at":"2022-07-26T16:06:31Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":231688474,"node_id":"MDEwOlJlcG9zaXRvcnkyMzE2ODg0NzQ=","name":"pytest-mypy-testing","full_name":"davidfritzsche/pytest-mypy-testing","private":false,"owner":{"login":"davidfritzsche","id":9479371,"node_id":"MDQ6VXNlcjk0NzkzNzE=","avatar_url":"https://avatars.githubusercontent.com/u/9479371?v=4","gravatar_id":"","url":"https://api.github.com/users/davidfritzsche","html_url":"https://github.com/davidfritzsche","followers_url":"https://api.github.com/users/davidfritzsche/followers","following_url":"https://api.github.com/users/davidfritzsche/following{/other_user}","gists_url":"https://api.github.com/users/davidfritzsche/gists{/gist_id}","starred_url":"https://api.github.com/users/davidfritzsche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidfritzsche/subscriptions","organizations_url":"https://api.github.com/users/davidfritzsche/orgs","repos_url":"https://api.github.com/users/davidfritzsche/repos","events_url":"https://api.github.com/users/davidfritzsche/events{/privacy}","received_events_url":"https://api.github.com/users/davidfritzsche/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/davidfritzsche/pytest-mypy-testing","description":"pytest plugin to test mypy static type analysis","fork":false,"url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing","forks_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/forks","keys_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/teams","hooks_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/hooks","issue_events_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/events{/number}","events_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/events","assignees_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/assignees{/user}","branches_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/branches{/branch}","tags_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/tags","blobs_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/git/refs{/sha}","trees_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/statuses/{sha}","languages_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/languages","stargazers_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/stargazers","contributors_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/contributors","subscribers_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/subscribers","subscription_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/subscription","commits_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/commits{/sha}","git_commits_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/git/commits{/sha}","comments_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/comments{/number}","issue_comment_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/comments{/number}","contents_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/contents/{+path}","compare_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/merges","archive_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/downloads","issues_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues{/number}","pulls_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/pulls{/number}","milestones_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/milestones{/number}","notifications_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/labels{/name}","releases_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/releases{/id}","deployments_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/deployments","created_at":"2020-01-04T00:49:32Z","updated_at":"2025-05-15T17:54:58Z","pushed_at":"2024-03-04T23:14:24Z","git_url":"git://github.com/davidfritzsche/pytest-mypy-testing.git","ssh_url":"git@github.com:davidfritzsche/pytest-mypy-testing.git","clone_url":"https://github.com/davidfritzsche/pytest-mypy-testing.git","svn_url":"https://github.com/davidfritzsche/pytest-mypy-testing","homepage":null,"size":121,"stargazers_count":33,"watchers_count":33,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":9,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":10,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mypy","pytest-plugin"],"visibility":"public","forks":9,"open_issues":10,"watchers":33,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I don't think this is enough information to be actionable, but I hope I'm wrong, and I need some feedback on where to look next.\r\n\r\nMy typing tests started failing under mypy 0.971; reverting to 0.961 fixed the issue. All of the failures took the form of an expected message not being present. I was unable to replicate this issue in a small test file, but if I moved that file into the test folder, it exhibited the issue, even if tested individually.\r\n\r\nThings that make the issue go away:\r\n- Invoking pytest with `pytest` instead of `python -m pytest`\r\n- Downgrading mypy to 0.961\r\n- Testing the same file in a different tree (?)\r\n\r\nThings that don't make the issue go away:\r\n- Collecting only a subset of test files\r\n\r\nOf note, if I just collect the small test file, in the main tree (so I can hit the issue), then invoking `python -m pytest` (which hits the issue) completes in 0.05s pretty consistently, while invoking `pytest` (which does not) tends to take over 7s.\r\n\r\nI was poking around trying to replicate things, and I can't see any significant difference in the output from `mypy.api.run` between versions.\r\n\r\nI wish I had more to go on here, but that's what I've found so far.","reactions":{"url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/davidfritzsche/pytest-mypy-testing/issues/26/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":7074192773,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGlp52F","url":"https://api.github.com/repos/python/mypy/issues/events/7074192773","actor":{"login":"openstack-mirroring","id":63355234,"node_id":"MDQ6VXNlcjYzMzU1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/63355234?v=4","gravatar_id":"","url":"https://api.github.com/users/openstack-mirroring","html_url":"https://github.com/openstack-mirroring","followers_url":"https://api.github.com/users/openstack-mirroring/followers","following_url":"https://api.github.com/users/openstack-mirroring/following{/other_user}","gists_url":"https://api.github.com/users/openstack-mirroring/gists{/gist_id}","starred_url":"https://api.github.com/users/openstack-mirroring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openstack-mirroring/subscriptions","organizations_url":"https://api.github.com/users/openstack-mirroring/orgs","repos_url":"https://api.github.com/users/openstack-mirroring/repos","events_url":"https://api.github.com/users/openstack-mirroring/events{/privacy}","received_events_url":"https://api.github.com/users/openstack-mirroring/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d5058ed59879c88946abe3b727c7241dc5a0b5ec","commit_url":"https://api.github.com/repos/openstack/cinder/commits/d5058ed59879c88946abe3b727c7241dc5a0b5ec","created_at":"2022-07-27T15:47:23Z","performed_via_github_app":null},{"id":7074197730,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGlp7Di","url":"https://api.github.com/repos/python/mypy/issues/events/7074197730","actor":{"login":"openstack-mirroring","id":63355234,"node_id":"MDQ6VXNlcjYzMzU1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/63355234?v=4","gravatar_id":"","url":"https://api.github.com/users/openstack-mirroring","html_url":"https://github.com/openstack-mirroring","followers_url":"https://api.github.com/users/openstack-mirroring/followers","following_url":"https://api.github.com/users/openstack-mirroring/following{/other_user}","gists_url":"https://api.github.com/users/openstack-mirroring/gists{/gist_id}","starred_url":"https://api.github.com/users/openstack-mirroring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openstack-mirroring/subscriptions","organizations_url":"https://api.github.com/users/openstack-mirroring/orgs","repos_url":"https://api.github.com/users/openstack-mirroring/repos","events_url":"https://api.github.com/users/openstack-mirroring/events{/privacy}","received_events_url":"https://api.github.com/users/openstack-mirroring/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"83ef3431f18db0bfce745258e50bb2edc82a0e3d","commit_url":"https://api.github.com/repos/openstack/openstack/commits/83ef3431f18db0bfce745258e50bb2edc82a0e3d","created_at":"2022-07-27T15:48:02Z","performed_via_github_app":null},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T04:49:48Z","updated_at":"2022-08-02T04:49:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/13202","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13202/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13202/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13202/events","html_url":"https://github.com/python/mypy/issues/13202","id":1311288712,"node_id":"I_kwDOAGuhRc5OKK2I","number":13202,"title":"0.971: Namespace packages -> Source file found twice under different module names","user":{"login":"pawamoy","id":3999221,"node_id":"MDQ6VXNlcjM5OTkyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3999221?v=4","gravatar_id":"","url":"https://api.github.com/users/pawamoy","html_url":"https://github.com/pawamoy","followers_url":"https://api.github.com/users/pawamoy/followers","following_url":"https://api.github.com/users/pawamoy/following{/other_user}","gists_url":"https://api.github.com/users/pawamoy/gists{/gist_id}","starred_url":"https://api.github.com/users/pawamoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawamoy/subscriptions","organizations_url":"https://api.github.com/users/pawamoy/orgs","repos_url":"https://api.github.com/users/pawamoy/repos","events_url":"https://api.github.com/users/pawamoy/events{/privacy}","received_events_url":"https://api.github.com/users/pawamoy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-07-20T14:59:24Z","updated_at":"2022-08-21T04:05:43Z","closed_at":"2022-08-21T04:05:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Bug Report**\r\n\r\nWith mypy 0.961 I was able to scan my namespace packages without any issue. I've just upgraded today to 0.971, and I'm now getting a `Source file found twice under different module names` error.\r\n\r\n```console\r\n$ pdm run mypy src\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n\r\n$ pdm run mypy src --namespace-packages\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n\r\n$ pdm run mypy src --namespace-packages --explicit-package-bases\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n\r\n$ pdm run mypy src/namespace\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n\r\n$ pdm run mypy src/namespace --namespace-packages\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n\r\n$ pdm run mypy src/namespace --namespace-packages --explicit-package-bases\r\nsrc/namespace/package/module.py: error: Source file found twice under different module names: \"package.module\" and \"namespace.package.module\"\r\nFound 1 error in 1 file (errors prevented further checking)\r\n```\r\n\r\n**To Reproduce**\r\n\r\nCreate a namespace package and try to run mypy on it. I'll try to give an actual reproduction example tomorrow.\r\n\r\n**Expected Behavior**\r\n\r\nNo \"found twice\" error.\r\n\r\n**Actual Behavior**\r\n\r\n\"Found twice\" error.\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: 0.971\r\n- Mypy command-line flags:\r\n- Mypy configuration options from `mypy.ini` (and other config files):\r\n\r\n```ini\r\n[mypy]\r\nignore_missing_imports = true\r\nshow_error_codes = true\r\nwarn_unused_ignores = true\r\nwarn_unused_configs = true\r\n```\r\n\r\n- Python version used: 3.8.11\r\n- Operating system and version: Linux 3.10.0-862.6.3.el7.x86_64\r\n\r\nSeems related to:\r\n\r\n- https://github.com/python/mypy/issues/10172\r\n- https://github.com/python/mypy/issues/11234\r\n- https://github.com/python/mypy/issues/10728\r\n- (https://github.com/python/mypy/issues/12162)\r\n- (https://github.com/python/mypy/issues/9716)\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13202/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-10T01:34:26Z","updated_at":"2022-08-10T01:34:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/13370","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13370/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13370/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13370/events","html_url":"https://github.com/python/mypy/issues/13370","id":1333657946,"node_id":"I_kwDOAGuhRc5PfgFa","number":13370,"title":"0.971: InvocationError and MYPYPATH issue when running \"mypy src\" with Tox on GitHub Actions","user":{"login":"jakob-bagterp","id":25110864,"node_id":"MDQ6VXNlcjI1MTEwODY0","avatar_url":"https://avatars.githubusercontent.com/u/25110864?v=4","gravatar_id":"","url":"https://api.github.com/users/jakob-bagterp","html_url":"https://github.com/jakob-bagterp","followers_url":"https://api.github.com/users/jakob-bagterp/followers","following_url":"https://api.github.com/users/jakob-bagterp/following{/other_user}","gists_url":"https://api.github.com/users/jakob-bagterp/gists{/gist_id}","starred_url":"https://api.github.com/users/jakob-bagterp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakob-bagterp/subscriptions","organizations_url":"https://api.github.com/users/jakob-bagterp/orgs","repos_url":"https://api.github.com/users/jakob-bagterp/repos","events_url":"https://api.github.com/users/jakob-bagterp/events{/privacy}","received_events_url":"https://api.github.com/users/jakob-bagterp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-09T18:50:57Z","updated_at":"2022-08-10T01:34:26Z","closed_at":"2022-08-10T01:34:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Bug Report**\r\nWith 0.961 and earlier versions, I used MyPy with Tox on GitHub Actions to run automated tests for three different projects. It has worked without issues, but after upgrading version 0.971, I'm getting an `InvocationError` even though I'm using the same basic `mypy src` command to scan my files across all projects.\r\n\r\nBug reports from GitHub Actions:\r\n\r\n- [Browserist](https://github.com/jakob-bagterp/browserist/runs/7716601731?check_suite_focus=true)\r\n- [Colorist for Python](https://github.com/jakob-bagterp/colorist-for-python/runs/7752521376?check_suite_focus=true)\r\n- [Timer for Python](https://github.com/jakob-bagterp/timer-for-python/runs/7429627214?check_suite_focus=true)\r\n\r\n<img width=\"1003\" alt=\"Screenshot 2022-08-09 at 20 38 17\" src=\"https://user-images.githubusercontent.com/25110864/183736012-8c9d594b-0a2e-4f22-b8b6-8edefe2a21d4.png\">\r\n\r\nNote that when running version 0.971 on my local machine, I experience no issues:\r\n\r\n<img width=\"637\" alt=\"Screenshot 2022-08-09 at 20 35 23\" src=\"https://user-images.githubusercontent.com/25110864/183735781-24e36dfe-e464-4458-8b19-7cbaa7040c2a.png\">\r\n\r\n**To Reproduce**\r\n1. Run MyPy version 0.971 with Tox on GitHub Actions\r\n2. Use command `mypy src`\r\n\r\n**Expected Behavior**\r\nMyPy should scan the code and exit without issues.\r\n\r\n**Actual Behavior**\r\nError message:\r\n\r\n`/home/runner/work/name-of-project/name-of-project is in the MYPYPATH. Please remove it.`\r\n\r\n**Your Environment**\r\n- Mypy version used: 0.971\r\n- Mypy command-line flags: See configuration below\r\n- Python version used: 3.10\r\n- Operating system and version: Ubuntu via GitHub Actions\r\n- MyPy configuration options from `setup.cfg`:\r\n\r\n```\r\n[mypy]\r\nmypy_path = $MYPY_CONFIG_FILE_DIR/src\r\ndisallow_any_unimported = True\r\nno_implicit_reexport = True\r\nshow_error_codes = True\r\nstrict = True\r\nwarn_unreachable = True\r\n```\r\n\r\n- MyPy configuration options from `tox.ini`:\r\n\r\n```\r\n[testenv:mypy]\r\nbasepython = python3.10\r\ndeps =\r\n    -r{toxinidir}/requirements_dev.txt\r\ncommands = mypy src\r\n```","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13370/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/python/mypy/issues/comments/1214999810","html_url":"https://github.com/python/mypy/issues/13214#issuecomment-1214999810","issue_url":"https://api.github.com/repos/python/mypy/issues/13214","id":1214999810,"node_id":"IC_kwDOAGuhRc5Ia20C","user":{"login":"sobolevn","id":4660275,"node_id":"MDQ6VXNlcjQ2NjAyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4660275?v=4","gravatar_id":"","url":"https://api.github.com/users/sobolevn","html_url":"https://github.com/sobolevn","followers_url":"https://api.github.com/users/sobolevn/followers","following_url":"https://api.github.com/users/sobolevn/following{/other_user}","gists_url":"https://api.github.com/users/sobolevn/gists{/gist_id}","starred_url":"https://api.github.com/users/sobolevn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sobolevn/subscriptions","organizations_url":"https://api.github.com/users/sobolevn/orgs","repos_url":"https://api.github.com/users/sobolevn/repos","events_url":"https://api.github.com/users/sobolevn/events{/privacy}","received_events_url":"https://api.github.com/users/sobolevn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-15T13:14:57Z","updated_at":"2022-08-15T13:14:57Z","body":"Today I am solving the ~same problem: https://github.com/typeddjango/django-stubs/pull/1108\r\n\r\nMypy 0.960 works just fine, but 0.971 just does not see my stubs 😢 ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/1214999810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sobolevn","id":4660275,"node_id":"MDQ6VXNlcjQ2NjAyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4660275?v=4","gravatar_id":"","url":"https://api.github.com/users/sobolevn","html_url":"https://github.com/sobolevn","followers_url":"https://api.github.com/users/sobolevn/followers","following_url":"https://api.github.com/users/sobolevn/following{/other_user}","gists_url":"https://api.github.com/users/sobolevn/gists{/gist_id}","starred_url":"https://api.github.com/users/sobolevn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sobolevn/subscriptions","organizations_url":"https://api.github.com/users/sobolevn/orgs","repos_url":"https://api.github.com/users/sobolevn/repos","events_url":"https://api.github.com/users/sobolevn/events{/privacy}","received_events_url":"https://api.github.com/users/sobolevn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7217989575,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGuOcfH","url":"https://api.github.com/repos/python/mypy/issues/events/7217989575","actor":{"login":"openstack-mirroring","id":63355234,"node_id":"MDQ6VXNlcjYzMzU1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/63355234?v=4","gravatar_id":"","url":"https://api.github.com/users/openstack-mirroring","html_url":"https://github.com/openstack-mirroring","followers_url":"https://api.github.com/users/openstack-mirroring/followers","following_url":"https://api.github.com/users/openstack-mirroring/following{/other_user}","gists_url":"https://api.github.com/users/openstack-mirroring/gists{/gist_id}","starred_url":"https://api.github.com/users/openstack-mirroring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openstack-mirroring/subscriptions","organizations_url":"https://api.github.com/users/openstack-mirroring/orgs","repos_url":"https://api.github.com/users/openstack-mirroring/repos","events_url":"https://api.github.com/users/openstack-mirroring/events{/privacy}","received_events_url":"https://api.github.com/users/openstack-mirroring/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d5820f531901fd87b692b225c155c4e262731375","commit_url":"https://api.github.com/repos/openstack/os-brick/commits/d5820f531901fd87b692b225c155c4e262731375","created_at":"2022-08-18T22:09:27Z","performed_via_github_app":null},{"id":7217989778,"node_id":"REFE_lADOAGuhRc5OTRgvzwAAAAGuOciS","url":"https://api.github.com/repos/python/mypy/issues/events/7217989778","actor":{"login":"openstack-mirroring","id":63355234,"node_id":"MDQ6VXNlcjYzMzU1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/63355234?v=4","gravatar_id":"","url":"https://api.github.com/users/openstack-mirroring","html_url":"https://github.com/openstack-mirroring","followers_url":"https://api.github.com/users/openstack-mirroring/followers","following_url":"https://api.github.com/users/openstack-mirroring/following{/other_user}","gists_url":"https://api.github.com/users/openstack-mirroring/gists{/gist_id}","starred_url":"https://api.github.com/users/openstack-mirroring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openstack-mirroring/subscriptions","organizations_url":"https://api.github.com/users/openstack-mirroring/orgs","repos_url":"https://api.github.com/users/openstack-mirroring/repos","events_url":"https://api.github.com/users/openstack-mirroring/events{/privacy}","received_events_url":"https://api.github.com/users/openstack-mirroring/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1058b0d0c45f535283c9a58c15d86a69d213edd3","commit_url":"https://api.github.com/repos/openstack/openstack/commits/1058b0d0c45f535283c9a58c15d86a69d213edd3","created_at":"2022-08-18T22:09:31Z","performed_via_github_app":null},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T19:04:30Z","updated_at":"2022-09-01T19:04:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/13587","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/13587/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/13587/comments","events_url":"https://api.github.com/repos/python/mypy/issues/13587/events","html_url":"https://github.com/python/mypy/issues/13587","id":1359277964,"node_id":"I_kwDOAGuhRc5RBO-M","number":13587,"title":"Normalize paths before checking ","user":{"login":"mgilson","id":5216702,"node_id":"MDQ6VXNlcjUyMTY3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/5216702?v=4","gravatar_id":"","url":"https://api.github.com/users/mgilson","html_url":"https://github.com/mgilson","followers_url":"https://api.github.com/users/mgilson/followers","following_url":"https://api.github.com/users/mgilson/following{/other_user}","gists_url":"https://api.github.com/users/mgilson/gists{/gist_id}","starred_url":"https://api.github.com/users/mgilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgilson/subscriptions","organizations_url":"https://api.github.com/users/mgilson/orgs","repos_url":"https://api.github.com/users/mgilson/repos","events_url":"https://api.github.com/users/mgilson/events{/privacy}","received_events_url":"https://api.github.com/users/mgilson/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-09-01T19:01:33Z","updated_at":"2022-09-01T19:05:39Z","closed_at":"2022-09-01T19:04:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Bug Report**\r\n\r\nI'm running into some issues in some scripting where we have a local repository of stubs that generally sits in the repository at some path relative to the python code in the project.  Our linting scripts might look something like:\r\n\r\n```sh\r\nMYPYPATH=${PWD}/../stubs\r\n```\r\n\r\nThis seems to be causing some issues in https://github.com/python/mypy/blob/3c7e21600874948fb15e6ba2370d3f44a81b9378/mypy/modulefinder.py#L816-L842\r\n\r\nWould it be problematic to normalize the paths before doing the `p.startswith(...)` check?\r\n\r\n**To Reproduce**\r\n\r\n1. Find a python file that you want to check by itself.\r\n2. change your working directory to be the same directory as the file to check\r\n3. Run something like `MYPYPATH=${PWD}/../any_sibling_directory mypy file_to_check.py`  (edit as necessary if you don't use `bash` :)\r\n\r\n**Expected Behavior**\r\n\r\nI would expect mypy to be able to check this file without any problems.\r\n\r\n**Actual Behavior**\r\n\r\nmypy basically just says it won't check the file and exits (with a non-successful exit status)\r\n\r\n**Your Environment**\r\n\r\n- Mypy version used: 0.971\r\n- Mypy command-line flags: reproduced with/without `--strict`\r\n- Mypy configuration options from `mypy.ini` (and other config files):\r\n- Python version used: python3.8\r\n- Operating system and version: Linux (ubuntu 20.04)\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/13587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/13587/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T21:17:30Z","updated_at":"2022-09-16T21:17:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/7604","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/7604/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/7604/comments","events_url":"https://api.github.com/repos/python/mypy/issues/7604/events","html_url":"https://github.com/python/mypy/issues/7604","id":501573603,"node_id":"MDU6SXNzdWU1MDE1NzM2MDM=","number":7604,"title":"Restrictions on MYPYPATH","user":{"login":"orenbenkiki","id":68190,"node_id":"MDQ6VXNlcjY4MTkw","avatar_url":"https://avatars.githubusercontent.com/u/68190?v=4","gravatar_id":"","url":"https://api.github.com/users/orenbenkiki","html_url":"https://github.com/orenbenkiki","followers_url":"https://api.github.com/users/orenbenkiki/followers","following_url":"https://api.github.com/users/orenbenkiki/following{/other_user}","gists_url":"https://api.github.com/users/orenbenkiki/gists{/gist_id}","starred_url":"https://api.github.com/users/orenbenkiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orenbenkiki/subscriptions","organizations_url":"https://api.github.com/users/orenbenkiki/orgs","repos_url":"https://api.github.com/users/orenbenkiki/repos","events_url":"https://api.github.com/users/orenbenkiki/events{/privacy}","received_events_url":"https://api.github.com/users/orenbenkiki/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":46131301,"node_id":"MDU6TGFiZWw0NjEzMTMwMQ==","url":"https://api.github.com/repos/python/mypy/labels/needs%20discussion","name":"needs discussion","color":"bfdadc","default":false,"description":null},{"id":608992726,"node_id":"MDU6TGFiZWw2MDg5OTI3MjY=","url":"https://api.github.com/repos/python/mypy/labels/topic-usability","name":"topic-usability","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":27,"created_at":"2019-10-02T15:46:16Z","updated_at":"2024-07-03T08:27:21Z","closed_at":"2024-07-03T08:27:10Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Given that `PYTHONPATH` contains `.../pythonX.Y/site-packages`\r\nAnd a package that contains some private 3rd party stubs under `.../pythonX.Y/site-packages/foo/some_stubs`\r\n\r\nWhen setting `MYPYPATH` to `.../pythonX.Y/site-packages/foo/some_stubs`\r\n\r\nThen `mypy` gives the error `.../pythonX.Y/site-packages is in the MYPYPATH. Please remove it.`.\r\n\r\nThis is wrong because:\r\n\r\n1. `MYPYPATH` does *not* include `../pythonX.Y/site-packages`. It *does* include `.../pythonX.Y/site-packages/foo/some_stubs` but that is a very different directory.\r\n\r\n2. Due to this error `mypy` refuses to use the stubs listed in `MYPYPATH` in this case.\r\n\r\nThis probably isn't intentional? The relevant [PEP](https://www.python.org/dev/peps/pep-0561) explicitly allows for `MYPYPATH` and does not seem to mention any restriction on the location of stubs added via `MYPYPATH`.\r\n\r\nIt is possible to work around the problem by copying (or linking) the stubs to a directory which is *not* under `../pythonX.Y/site-packages`, say into `~/.foo-stubs` and adding this path to `MYPYPATH`.","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/7604/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/7604/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]