{"url":"https://api.github.com/repos/python/mypy/issues/14487","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/14487/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/14487/comments","events_url":"https://api.github.com/repos/python/mypy/issues/14487/events","html_url":"https://github.com/python/mypy/issues/14487","id":1551778789,"node_id":"I_kwDOAGuhRc5cfkPl","number":14487,"title":"python3 runtests.py fails if python version == 3.11","user":{"login":"aless10","id":19170381,"node_id":"MDQ6VXNlcjE5MTcwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/19170381?v=4","gravatar_id":"","url":"https://api.github.com/users/aless10","html_url":"https://github.com/aless10","followers_url":"https://api.github.com/users/aless10/followers","following_url":"https://api.github.com/users/aless10/following{/other_user}","gists_url":"https://api.github.com/users/aless10/gists{/gist_id}","starred_url":"https://api.github.com/users/aless10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aless10/subscriptions","organizations_url":"https://api.github.com/users/aless10/orgs","repos_url":"https://api.github.com/users/aless10/repos","events_url":"https://api.github.com/users/aless10/events{/privacy}","received_events_url":"https://api.github.com/users/aless10/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"},{"id":610718653,"node_id":"MDU6TGFiZWw2MTA3MTg2NTM=","url":"https://api.github.com/repos/python/mypy/labels/topic-developer","name":"topic-developer","color":"d4c5f9","default":false,"description":"Issues relevant to mypy developers"},{"id":932016981,"node_id":"MDU6TGFiZWw5MzIwMTY5ODE=","url":"https://api.github.com/repos/python/mypy/labels/good-first-issue","name":"good-first-issue","color":"3dc136","default":false,"description":""},{"id":937709516,"node_id":"MDU6TGFiZWw5Mzc3MDk1MTY=","url":"https://api.github.com/repos/python/mypy/labels/topic-tests","name":"topic-tests","color":"c2e0c6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-21T11:51:31Z","updated_at":"2023-01-23T13:37:54Z","closed_at":"2023-01-23T13:37:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nIf you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form instead.\r\nPlease consider:\r\n\r\n- checking our common issues page: https://mypy.readthedocs.io/en/stable/common_issues.html\r\n- searching our issue tracker: https://github.com/python/mypy/issues to see if it's already been reported\r\n- asking on gitter chat: https://gitter.im/python/typing\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nIf you're reporting a problem with a specific library function, the typeshed tracker is better suited for this report: https://github.com/python/typeshed/issues\r\n\r\nIf the project you encountered the issue in is open source, please provide a link to the project.\r\n-->\r\n\r\nFollowing the [contributor guide](https://github.com/python/mypy/blob/master/CONTRIBUTING.md) I run the command `python3 runtests.py` and I got an error, based on the python version that I use in my virtualenv vs the one listed in the ini file (3.7).\r\n\r\n**To Reproduce**\r\n\r\n```python\r\npython3 runtests.py\r\n```\r\n\r\n**Expected Behavior**\r\n\r\nNo errors\r\n<!--\r\nHow did you expect mypy to behave? It’s fine if you’re not sure your understanding is correct.\r\nWrite down what you thought would happen. If you expected no errors, delete this section.\r\n-->\r\n\r\n**Actual Behavior**\r\n\r\n<!-- What went wrong? Paste mypy's output. -->\r\n```\r\nrun self: ['/Users/alessioizzo/alessio/mypy/venv/bin/python3', '-m', 'mypy', '--config-file', 'mypy_self_check.ini', '-p', 'mypy']\r\nmypy/config_parser.py:16: error: Cannot find implementation or library stub for module named \"tomli\"  [import]\r\n        import tomli as tomllib\r\n    ^\r\nmypy/config_parser.py:16: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\r\nmypy/modulefinder.py:22: error: Cannot find implementation or library stub for module named \"tomli\"  [import]\r\n        import tomli as tomllib\r\n    ^\r\nFound 2 errors in 2 files (checked 169 source files)\r\n\r\nFAILED: self\r\n```\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: latest from git clone\r\n- Mypy command-line flags:\r\n- Mypy configuration options from `mypy.ini` (and other config files): mypy_self_check.ini\r\n- Python version used: 3.11\r\n- OS: macos Apple M1 Pro, Ventura 13.1 \r\n\r\n<!-- You can freely edit this text, please remove all the lines you believe are unnecessary. -->\r\n\r\nI guess that the solution can be to remove the python version from the ini file. I'm going to open a pull request for this one if this happens to be a bug.\r\n","closed_by":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/14487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/14487/timeline","performed_via_github_app":null,"state_reason":"completed"}