{"url":"https://api.github.com/repos/python/mypy/issues/10409","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/10409/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/10409/comments","events_url":"https://api.github.com/repos/python/mypy/issues/10409/events","html_url":"https://github.com/python/mypy/issues/10409","id":875054970,"node_id":"MDU6SXNzdWU4NzUwNTQ5NzA=","number":10409,"title":"mypy doesn't understand `@abc.abstractmethod` on `__getattr__`","user":{"login":"hotpxl","id":2174815,"node_id":"MDQ6VXNlcjIxNzQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2174815?v=4","gravatar_id":"","url":"https://api.github.com/users/hotpxl","html_url":"https://github.com/hotpxl","followers_url":"https://api.github.com/users/hotpxl/followers","following_url":"https://api.github.com/users/hotpxl/following{/other_user}","gists_url":"https://api.github.com/users/hotpxl/gists{/gist_id}","starred_url":"https://api.github.com/users/hotpxl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotpxl/subscriptions","organizations_url":"https://api.github.com/users/hotpxl/orgs","repos_url":"https://api.github.com/users/hotpxl/repos","events_url":"https://api.github.com/users/hotpxl/events{/privacy}","received_events_url":"https://api.github.com/users/hotpxl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-04T02:44:35Z","updated_at":"2021-12-03T13:20:30Z","closed_at":"2021-12-03T13:20:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n  If you're new to mypy and you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form\r\n  instead.\r\n-->\r\n\r\n**Bug Report**\r\n\r\n<!--\r\nNote: If the problem you are reporting is about a specific library function, then the typeshed tracker is better suited\r\nfor this report: https://github.com/python/typeshed/issues\r\n-->\r\n\r\nmypy doesn't understand\r\n```\r\n    @abc.abstractmethod\r\n    def __getattr__(self, name:str) -> Any:\r\n```\r\nand complains about missing attributes\r\n\r\n**To Reproduce**\r\n\r\nRun `mypy` on:\r\n```\r\nimport abc\r\nfrom typing import *\r\n\r\nclass CC(abc.ABC):\r\n    @abc.abstractmethod\r\n    def __getattr__(self, name:str) -> Any:\r\n        ...\r\n\r\ndef foo(c: CC) -> None:\r\n    print(c.hello)\r\n```\r\n\r\n**Expected Behavior**\r\n\r\n<!--\r\n  How did you expect your project to behave?\r\n  It’s fine if you’re not sure your understanding is correct.\r\n  Write down what you thought would happen. If you just expected no errors, you can delete this section.\r\n-->\r\n\r\n\r\nmypy shouldn't complain about attribute \"hello\" because I've overridden `__getattr__`. mypy exhibits the correct behavior when the `@abc.abstractmethod` decorator is removed.\r\n\r\n**Actual Behavior**\r\n\r\n<!--\r\n  Did something go wrong?\r\n  Is something broken, or not behaving as you expected?\r\n-->\r\nmypy complains that `main.py:11: error: \"CC\" has no attribute \"hello\"`. But if I comment out `@abc.abstractmethod` mypy will not complain.\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: mypy 0.820+dev.8bc1115a7469ac4702d29da87acf5831c696d007 (just pip installed from git)\r\n- Mypy command-line flags: `mypy main.py`\r\n- Mypy configuration options from `mypy.ini` (and other config files): None\r\n- Python version used: 3.7.3\r\n- Operating system and version: Debian GNU/Linux 10\r\n\r\n<!--\r\nYou can freely edit this text, please remove all the lines\r\nyou believe are unnecessary.\r\n-->\r\n","closed_by":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/10409/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/10409/timeline","performed_via_github_app":null,"state_reason":"completed"}