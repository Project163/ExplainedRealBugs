{"url":"https://api.github.com/repos/python/mypy/issues/11093","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/11093/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/11093/comments","events_url":"https://api.github.com/repos/python/mypy/issues/11093/events","html_url":"https://github.com/python/mypy/issues/11093","id":994008142,"node_id":"MDU6SXNzdWU5OTQwMDgxNDI=","number":11093,"title":"Need type annotation for predefined dict generic (3.9)","user":{"login":"ultrabear","id":22552258,"node_id":"MDQ6VXNlcjIyNTUyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/22552258?v=4","gravatar_id":"","url":"https://api.github.com/users/ultrabear","html_url":"https://github.com/ultrabear","followers_url":"https://api.github.com/users/ultrabear/followers","following_url":"https://api.github.com/users/ultrabear/following{/other_user}","gists_url":"https://api.github.com/users/ultrabear/gists{/gist_id}","starred_url":"https://api.github.com/users/ultrabear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ultrabear/subscriptions","organizations_url":"https://api.github.com/users/ultrabear/orgs","repos_url":"https://api.github.com/users/ultrabear/repos","events_url":"https://api.github.com/users/ultrabear/events{/privacy}","received_events_url":"https://api.github.com/users/ultrabear/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"},{"id":3945135234,"node_id":"LA_kwDOAGuhRc7rJfyC","url":"https://api.github.com/repos/python/mypy/labels/topic-type-alias","name":"topic-type-alias","color":"51FABE","default":false,"description":"TypeAlias and other type alias issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-09-12T00:43:38Z","updated_at":"2025-11-03T12:54:18Z","closed_at":"2025-11-03T12:54:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n  If you're new to mypy and you're not sure whether what you're experiencing is a mypy bug, please see the \"Question and Help\" form\r\n  instead.\r\n-->\r\n\r\n**Bug Report**\r\nmypy errors on defining a variable to a python 3.9 dict whose type signature has been previously stored in a variable\r\n\r\n<!--\r\nNote: If the problem you are reporting is about a specific library function, then the typeshed tracker is better suited\r\nfor this report: https://github.com/python/typeshed/issues\r\n-->\r\n\r\n**To Reproduce**\r\nUsing `mypy bug.py --strict`\r\nError stems from disallow untyped generics, I think\r\n```py\r\nBlock = dict[str, str]\r\n\r\ndef main() -> Block:\r\n\r\n    out = Block()  # error: Need type annotation for \"out\" (hint: \"out: Dict[<type>, <type>] = ...\")\r\n\r\n    return out\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n\r\n**Expected Behavior**\r\n\r\nMypy should be able to read the type information stored in `Block` and read it as that type being init, as it can read the type information for a return signature\r\n\r\n<!--\r\n  How did you expect your project to behave?\r\n  It’s fine if you’re not sure your understanding is correct.\r\n  Write down what you thought would happen. If you just expected no errors, you can delete this section.\r\n-->\r\n\r\n**Actual Behavior**\r\nmypy raises a untyped generic error that out needs a type annotation:\r\n`error: Need type annotation for \"out\" (hint: \"out: Dict[<type>, <type>] = ...\")`\r\n\r\n<!--\r\n  Did something go wrong?\r\n  Is something broken, or not behaving as you expected?\r\n-->\r\n\r\n\r\n**Your Environment**\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n- Mypy version used: 0.910\r\n- Mypy command-line flags: --strict\r\n- Mypy configuration options from `mypy.ini` (and other config files): none present.\r\n- Python version used: 3.9.6\r\n- Operating system and version: Linux 5.10\r\n\r\n<!--\r\nYou can freely edit this text, please remove all the lines\r\nyou believe are unnecessary.\r\n-->\r\n","closed_by":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/11093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/11093/timeline","performed_via_github_app":null,"state_reason":"completed"}