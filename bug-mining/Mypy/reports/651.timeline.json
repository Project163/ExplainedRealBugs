[{"id":15204923072,"node_id":"LE_lADOAGuhRc6di0IpzwAAAAOKSLbA","url":"https://api.github.com/repos/python/mypy/issues/events/15204923072","actor":{"login":"AAriam","id":80158628,"node_id":"MDQ6VXNlcjgwMTU4NjI4","avatar_url":"https://avatars.githubusercontent.com/u/80158628?v=4","gravatar_id":"","url":"https://api.github.com/users/AAriam","html_url":"https://github.com/AAriam","followers_url":"https://api.github.com/users/AAriam/followers","following_url":"https://api.github.com/users/AAriam/following{/other_user}","gists_url":"https://api.github.com/users/AAriam/gists{/gist_id}","starred_url":"https://api.github.com/users/AAriam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AAriam/subscriptions","organizations_url":"https://api.github.com/users/AAriam/orgs","repos_url":"https://api.github.com/users/AAriam/repos","events_url":"https://api.github.com/users/AAriam/events{/privacy}","received_events_url":"https://api.github.com/users/AAriam/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-11-08T07:35:02Z","label":{"name":"crash","color":"b60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/python/mypy/issues/comments/2464775643","html_url":"https://github.com/python/mypy/issues/18128#issuecomment-2464775643","issue_url":"https://api.github.com/repos/python/mypy/issues/18128","id":2464775643,"node_id":"IC_kwDOAGuhRc6S6X3b","user":{"login":"brianschubert","id":25313350,"node_id":"MDQ6VXNlcjI1MzEzMzUw","avatar_url":"https://avatars.githubusercontent.com/u/25313350?v=4","gravatar_id":"","url":"https://api.github.com/users/brianschubert","html_url":"https://github.com/brianschubert","followers_url":"https://api.github.com/users/brianschubert/followers","following_url":"https://api.github.com/users/brianschubert/following{/other_user}","gists_url":"https://api.github.com/users/brianschubert/gists{/gist_id}","starred_url":"https://api.github.com/users/brianschubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianschubert/subscriptions","organizations_url":"https://api.github.com/users/brianschubert/orgs","repos_url":"https://api.github.com/users/brianschubert/repos","events_url":"https://api.github.com/users/brianschubert/events{/privacy}","received_events_url":"https://api.github.com/users/brianschubert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-08T13:31:02Z","updated_at":"2024-11-12T00:15:47Z","body":"I am able to reproduce on master (3b00002ac), ~though only when using an editable install. It seems that `include-package-data = true` isn't enough to make setuptools include the data directory in the installed package for me.~ (edit: nevermind, this was due to the files being in a `.gitignore`'d directory, which caused setuptools to exclude them)\r\n\r\n```none\r\n/home/brian/Projects/open-contrib/mypy/temp_build/src/src/test_package/data: error: INTERNAL ERROR -- Please try using mypy master on GitHub:\r\nhttps://mypy.readthedocs.io/en/stable/common_issues.html#using-a-development-mypy-build\r\nIf this issue continues with mypy master, please report a bug at https://github.com/python/mypy/issues\r\nversion: 1.14.0+dev.3b00002acdf098e7241df8f2e1843f8b8260b168\r\nTraceback (most recent call last):\r\n  File \"/home/brian/Projects/open-contrib/mypy/.venv313/bin/mypy\", line 8, in <module>\r\n    sys.exit(console_entry())\r\n             ~~~~~~~~~~~~~^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/__main__.py\", line 15, in console_entry\r\n    main()\r\n    ~~~~^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/main.py\", line 109, in main\r\n    res, messages, blockers = run_build(sources, options, fscache, t0, stdout, stderr)\r\n                              ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/main.py\", line 193, in run_build\r\n    res = build.build(sources, options, None, flush_errors, fscache, stdout, stderr)\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 194, in build\r\n    result = _build(\r\n        sources, options, alt_lib_path, flush_errors, fscache, stdout, stderr, extra_plugins\r\n    )\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 269, in _build\r\n    graph = dispatch(sources, manager, stdout)\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 2940, in dispatch\r\n    process_graph(graph, manager)\r\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 3338, in process_graph\r\n    process_stale_scc(graph, scc, manager)\r\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 3443, in process_stale_scc\r\n    graph[id].finish_passes()\r\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 2402, in finish_passes\r\n    manager.report_file(self.tree, self.type_map(), self.options)\r\n    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/build.py\", line 873, in report_file\r\n    self.reports.file(file, self.modules, type_map, options)\r\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/report.py\", line 91, in file\r\n    reporter.on_file(tree, modules, type_map, options)\r\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/brian/Projects/open-contrib/mypy/mypy/report.py\", line 426, in on_file\r\n    with open(tree.path) as f:\r\n         ~~~~^^^^^^^^^^^\r\nIsADirectoryError: [Errno 21] Is a directory: '/home/brian/Projects/open-contrib/mypy/temp_build/src/src/test_package/data'\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/comments/2464775643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"brianschubert","id":25313350,"node_id":"MDQ6VXNlcjI1MzEzMzUw","avatar_url":"https://avatars.githubusercontent.com/u/25313350?v=4","gravatar_id":"","url":"https://api.github.com/users/brianschubert","html_url":"https://github.com/brianschubert","followers_url":"https://api.github.com/users/brianschubert/followers","following_url":"https://api.github.com/users/brianschubert/following{/other_user}","gists_url":"https://api.github.com/users/brianschubert/gists{/gist_id}","starred_url":"https://api.github.com/users/brianschubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianschubert/subscriptions","organizations_url":"https://api.github.com/users/brianschubert/orgs","repos_url":"https://api.github.com/users/brianschubert/repos","events_url":"https://api.github.com/users/brianschubert/events{/privacy}","received_events_url":"https://api.github.com/users/brianschubert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sterliakov","id":50529348,"node_id":"MDQ6VXNlcjUwNTI5MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50529348?v=4","gravatar_id":"","url":"https://api.github.com/users/sterliakov","html_url":"https://github.com/sterliakov","followers_url":"https://api.github.com/users/sterliakov/followers","following_url":"https://api.github.com/users/sterliakov/following{/other_user}","gists_url":"https://api.github.com/users/sterliakov/gists{/gist_id}","starred_url":"https://api.github.com/users/sterliakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sterliakov/subscriptions","organizations_url":"https://api.github.com/users/sterliakov/orgs","repos_url":"https://api.github.com/users/sterliakov/repos","events_url":"https://api.github.com/users/sterliakov/events{/privacy}","received_events_url":"https://api.github.com/users/sterliakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-23T21:53:47Z","updated_at":"2025-10-23T21:53:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/19843","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/19843/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/19843/comments","events_url":"https://api.github.com/repos/python/mypy/issues/19843/events","html_url":"https://github.com/python/mypy/issues/19843","id":3414235061,"node_id":"I_kwDOAGuhRc7LgRe1","number":19843,"title":"INTERNAL ERROR when creating cobertura output for namespace package","user":{"login":"Paebbels","id":956109,"node_id":"MDQ6VXNlcjk1NjEwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/956109?v=4","gravatar_id":"","url":"https://api.github.com/users/Paebbels","html_url":"https://github.com/Paebbels","followers_url":"https://api.github.com/users/Paebbels/followers","following_url":"https://api.github.com/users/Paebbels/following{/other_user}","gists_url":"https://api.github.com/users/Paebbels/gists{/gist_id}","starred_url":"https://api.github.com/users/Paebbels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Paebbels/subscriptions","organizations_url":"https://api.github.com/users/Paebbels/orgs","repos_url":"https://api.github.com/users/Paebbels/repos","events_url":"https://api.github.com/users/Paebbels/events{/privacy}","received_events_url":"https://api.github.com/users/Paebbels/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":379446833,"node_id":"MDU6TGFiZWwzNzk0NDY4MzM=","url":"https://api.github.com/repos/python/mypy/labels/crash","name":"crash","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2025-09-13T22:37:53Z","updated_at":"2025-10-27T17:11:42Z","closed_at":"2025-10-27T17:11:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Crash Report**\n\nGiven the following directory structure:\n```\nmyFramework/\n  Extension/\n    __init__.py\nmyPackage/\n  __init__.py\n```\n\nand this `pyproject.toml`:\n```\n[tool.mypy]\npackages = [\"myFramework\"]\nnamespace_packages = true\nfollow_untyped_imports = true\ncobertura_xml_report = \"report/typing\"\n```\n\nthen mypy crashes when using the namespace package's name in `packages` list despite having `namespace_packages` set to *true*.\n\n**Traceback**\n\n```python-traceback\nC:\\Git\\GitHub\\pyTooling\\Actions [dev ≡ +2 ~21 -0 !]> mypy --show-traceback\nC:\\Git\\GitHub\\pyTooling\\Actions\\myFramework: error: INTERNAL ERROR -- Please try using mypy master on GitHub:\nhttps://mypy.readthedocs.io/en/stable/common_issues.html#using-a-development-mypy-build\nPlease report a bug at https://github.com/python/mypy/issues\nversion: 1.18.1\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"C:\\Program Files\\Python3.13\\Scripts\\mypy.exe\\__main__.py\", line 6, in <module>\n    sys.exit(console_entry())\n  File \"mypy\\build.py\", line 2087, in wrap_context\nPermissionError: [Errno 13] Permission denied: 'myFramework'\nC:\\Git\\GitHub\\pyTooling\\Actions\\myFramework: : note: use --pdb to drop into pdb\nGenerated Cobertura report: C:\\Git\\GitHub\\pyTooling\\Actions\\report\\typing\\cobertura.xml\n```\n\n**To Reproduce**\n\nSee directory structure and `pyproject.toml` from above.  \nUsed command was `mypy --show-traceback`.  \nAll mypy parameters are loaded from `pyproject.toml`.\n\n**Your Environment**\n\n- Mypy version used: 1.18.1\n- Mypy command-line flags: `--show-traceback`\n- Mypy configuration options from `mypy.ini` (and other config files): see :pyproject.toml` above\n- Python version used: 3.13\n- Operating system and version: Windows 11\n\n**Expected Behavior**\n\n* `mypy` should not crash.\n* Don't raise a `PermissionError: [Errno 13] Permission denied: 'myFramework'`  error, because there is **NO** PermissionError.\n*  If the namespace package name should used differently, please give a hint and/or document this accordingly.\n\n**Additional Context:**\n* Using `packages = [\"myPackage\"]` works.\n* Using `packages = [\"myFramework.Extension\"]` works as well.\n* When using `packages = [\"myFramework.Ext\"]` a correct error is emitted: `Can't find package 'myFramework.Ext'`","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/19843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/19843/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"wyattscarpenter","id":27367056,"node_id":"MDQ6VXNlcjI3MzY3MDU2","avatar_url":"https://avatars.githubusercontent.com/u/27367056?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattscarpenter","html_url":"https://github.com/wyattscarpenter","followers_url":"https://api.github.com/users/wyattscarpenter/followers","following_url":"https://api.github.com/users/wyattscarpenter/following{/other_user}","gists_url":"https://api.github.com/users/wyattscarpenter/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattscarpenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattscarpenter/subscriptions","organizations_url":"https://api.github.com/users/wyattscarpenter/orgs","repos_url":"https://api.github.com/users/wyattscarpenter/repos","events_url":"https://api.github.com/users/wyattscarpenter/events{/privacy}","received_events_url":"https://api.github.com/users/wyattscarpenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-24T00:56:27Z","updated_at":"2025-10-24T00:56:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/20109","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/20109/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/20109/comments","events_url":"https://api.github.com/repos/python/mypy/issues/20109/events","html_url":"https://github.com/python/mypy/pull/20109","id":3547156257,"node_id":"PR_kwDOAGuhRc6vZXDE","number":20109,"title":"Fix IsADirectoryError for namespace packages when using --linecoverage-report","user":{"login":"wyattscarpenter","id":27367056,"node_id":"MDQ6VXNlcjI3MzY3MDU2","avatar_url":"https://avatars.githubusercontent.com/u/27367056?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattscarpenter","html_url":"https://github.com/wyattscarpenter","followers_url":"https://api.github.com/users/wyattscarpenter/followers","following_url":"https://api.github.com/users/wyattscarpenter/following{/other_user}","gists_url":"https://api.github.com/users/wyattscarpenter/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattscarpenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattscarpenter/subscriptions","organizations_url":"https://api.github.com/users/wyattscarpenter/orgs","repos_url":"https://api.github.com/users/wyattscarpenter/repos","events_url":"https://api.github.com/users/wyattscarpenter/events{/privacy}","received_events_url":"https://api.github.com/users/wyattscarpenter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":379446833,"node_id":"MDU6TGFiZWwzNzk0NDY4MzM=","url":"https://api.github.com/repos/python/mypy/labels/crash","name":"crash","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-10-24T00:56:26Z","updated_at":"2025-10-27T18:19:49Z","closed_at":"2025-10-27T17:46:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/20109","html_url":"https://github.com/python/mypy/pull/20109","diff_url":"https://github.com/python/mypy/pull/20109.diff","patch_url":"https://github.com/python/mypy/pull/20109.patch","merged_at":"2025-10-27T17:46:20Z"},"body":"Fixes #18128. This fixes an Internal Error where namespace packages were not supported properly. This fix was inspired by @sterliakov noticing that this bug was very similar to #19843, which has a similar fix. Note that we use `os.path.isdir(tree.path)` instead of trying to catch an `IsADirectoryError` exception because of a bug on Windows which causes it to throw a `PermissionError` instead in [the relevant situation](https://discuss.python.org/t/permissionerror-errno-13-permission-denied-python-2023/22360/8), which makes `except IsADirectoryError` unreliable. (We also can't just `except (IsADirectoryError, PermissionError)` because what if there is an actual permission error?) Anyway, we just early-return — which, based on my manual testing and reading the code, seems to be the right thing to do here.\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/20109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/20109/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20469707232,"node_id":"REFE_lADOAGuhRc6di0IpzwAAAATEFvHg","url":"https://api.github.com/repos/python/mypy/issues/events/20469707232","actor":{"login":"wyattscarpenter","id":27367056,"node_id":"MDQ6VXNlcjI3MzY3MDU2","avatar_url":"https://avatars.githubusercontent.com/u/27367056?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattscarpenter","html_url":"https://github.com/wyattscarpenter","followers_url":"https://api.github.com/users/wyattscarpenter/followers","following_url":"https://api.github.com/users/wyattscarpenter/following{/other_user}","gists_url":"https://api.github.com/users/wyattscarpenter/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattscarpenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattscarpenter/subscriptions","organizations_url":"https://api.github.com/users/wyattscarpenter/orgs","repos_url":"https://api.github.com/users/wyattscarpenter/repos","events_url":"https://api.github.com/users/wyattscarpenter/events{/privacy}","received_events_url":"https://api.github.com/users/wyattscarpenter/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d69ddeda1d5ad190e9b9e8c171241bf22df1b595","commit_url":"https://api.github.com/repos/wyattscarpenter/mypy/commits/d69ddeda1d5ad190e9b9e8c171241bf22df1b595","created_at":"2025-10-24T01:03:11Z","performed_via_github_app":null},{"actor":{"login":"wyattscarpenter","id":27367056,"node_id":"MDQ6VXNlcjI3MzY3MDU2","avatar_url":"https://avatars.githubusercontent.com/u/27367056?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattscarpenter","html_url":"https://github.com/wyattscarpenter","followers_url":"https://api.github.com/users/wyattscarpenter/followers","following_url":"https://api.github.com/users/wyattscarpenter/following{/other_user}","gists_url":"https://api.github.com/users/wyattscarpenter/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattscarpenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattscarpenter/subscriptions","organizations_url":"https://api.github.com/users/wyattscarpenter/orgs","repos_url":"https://api.github.com/users/wyattscarpenter/repos","events_url":"https://api.github.com/users/wyattscarpenter/events{/privacy}","received_events_url":"https://api.github.com/users/wyattscarpenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-24T03:12:16Z","updated_at":"2025-10-24T03:12:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python/mypy/issues/20111","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/20111/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/20111/comments","events_url":"https://api.github.com/repos/python/mypy/issues/20111/events","html_url":"https://github.com/python/mypy/pull/20111","id":3547430548,"node_id":"PR_kwDOAGuhRc6vaSO7","number":20111,"title":"Add a regression test for #15979, and fix linecount-report for Windows","user":{"login":"wyattscarpenter","id":27367056,"node_id":"MDQ6VXNlcjI3MzY3MDU2","avatar_url":"https://avatars.githubusercontent.com/u/27367056?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattscarpenter","html_url":"https://github.com/wyattscarpenter","followers_url":"https://api.github.com/users/wyattscarpenter/followers","following_url":"https://api.github.com/users/wyattscarpenter/following{/other_user}","gists_url":"https://api.github.com/users/wyattscarpenter/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattscarpenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattscarpenter/subscriptions","organizations_url":"https://api.github.com/users/wyattscarpenter/orgs","repos_url":"https://api.github.com/users/wyattscarpenter/repos","events_url":"https://api.github.com/users/wyattscarpenter/events{/privacy}","received_events_url":"https://api.github.com/users/wyattscarpenter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":379446833,"node_id":"MDU6TGFiZWwzNzk0NDY4MzM=","url":"https://api.github.com/repos/python/mypy/labels/crash","name":"crash","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-10-24T03:09:11Z","updated_at":"2025-10-27T18:19:29Z","closed_at":"2025-10-27T18:16:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7053637,"node_id":"MDEwOlJlcG9zaXRvcnk3MDUzNjM3","name":"mypy","full_name":"python/mypy","private":false,"owner":{"login":"python","id":1525981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MjU5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1525981?v=4","gravatar_id":"","url":"https://api.github.com/users/python","html_url":"https://github.com/python","followers_url":"https://api.github.com/users/python/followers","following_url":"https://api.github.com/users/python/following{/other_user}","gists_url":"https://api.github.com/users/python/gists{/gist_id}","starred_url":"https://api.github.com/users/python/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python/subscriptions","organizations_url":"https://api.github.com/users/python/orgs","repos_url":"https://api.github.com/users/python/repos","events_url":"https://api.github.com/users/python/events{/privacy}","received_events_url":"https://api.github.com/users/python/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python/mypy","description":"Optional static typing for Python","fork":false,"url":"https://api.github.com/repos/python/mypy","forks_url":"https://api.github.com/repos/python/mypy/forks","keys_url":"https://api.github.com/repos/python/mypy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python/mypy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python/mypy/teams","hooks_url":"https://api.github.com/repos/python/mypy/hooks","issue_events_url":"https://api.github.com/repos/python/mypy/issues/events{/number}","events_url":"https://api.github.com/repos/python/mypy/events","assignees_url":"https://api.github.com/repos/python/mypy/assignees{/user}","branches_url":"https://api.github.com/repos/python/mypy/branches{/branch}","tags_url":"https://api.github.com/repos/python/mypy/tags","blobs_url":"https://api.github.com/repos/python/mypy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python/mypy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python/mypy/git/refs{/sha}","trees_url":"https://api.github.com/repos/python/mypy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python/mypy/statuses/{sha}","languages_url":"https://api.github.com/repos/python/mypy/languages","stargazers_url":"https://api.github.com/repos/python/mypy/stargazers","contributors_url":"https://api.github.com/repos/python/mypy/contributors","subscribers_url":"https://api.github.com/repos/python/mypy/subscribers","subscription_url":"https://api.github.com/repos/python/mypy/subscription","commits_url":"https://api.github.com/repos/python/mypy/commits{/sha}","git_commits_url":"https://api.github.com/repos/python/mypy/git/commits{/sha}","comments_url":"https://api.github.com/repos/python/mypy/comments{/number}","issue_comment_url":"https://api.github.com/repos/python/mypy/issues/comments{/number}","contents_url":"https://api.github.com/repos/python/mypy/contents/{+path}","compare_url":"https://api.github.com/repos/python/mypy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python/mypy/merges","archive_url":"https://api.github.com/repos/python/mypy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python/mypy/downloads","issues_url":"https://api.github.com/repos/python/mypy/issues{/number}","pulls_url":"https://api.github.com/repos/python/mypy/pulls{/number}","milestones_url":"https://api.github.com/repos/python/mypy/milestones{/number}","notifications_url":"https://api.github.com/repos/python/mypy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python/mypy/labels{/name}","releases_url":"https://api.github.com/repos/python/mypy/releases{/id}","deployments_url":"https://api.github.com/repos/python/mypy/deployments","created_at":"2012-12-07T13:30:23Z","updated_at":"2025-11-09T16:41:25Z","pushed_at":"2025-11-08T23:13:28Z","git_url":"git://github.com/python/mypy.git","ssh_url":"git@github.com:python/mypy.git","clone_url":"https://github.com/python/mypy.git","svn_url":"https://github.com/python/mypy","homepage":"https://www.mypy-lang.org/","size":76085,"stargazers_count":19971,"watchers_count":19971,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3042,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3097,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","python","typechecker","types","typing"],"visibility":"public","forks":3042,"open_issues":3097,"watchers":19971,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python/mypy/pulls/20111","html_url":"https://github.com/python/mypy/pull/20111","diff_url":"https://github.com/python/mypy/pull/20111.diff","patch_url":"https://github.com/python/mypy/pull/20111.patch","merged_at":"2025-10-27T18:16:15Z"},"body":"https://github.com/python/mypy/pull/16019, which fixed this issue (for linux) was not accompanied by a regression test. Thus, nobody noticed that it doesn't work on Windows!\r\n\r\nThis fixes an Internal Error where namespace packages were not supported properly. This fix was inspired by @sterliakov noticing that https://github.com/python/mypy/issues/18128 was very similar to #19843, which has a similar fix. Note that we use `os.path.isdir(tree.path)` instead of trying to catch an `IsADirectoryError` exception because of a bug on Windows which causes it to throw a `PermissionError` instead in [the relevant situation](https://discuss.python.org/t/permissionerror-errno-13-permission-denied-python-2023/22360/8), which makes `except IsADirectoryError` unreliable. (We also can't just `except (IsADirectoryError, PermissionError)` because what if there is an actual permission error?)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/python/mypy/issues/20111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/20111/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20532237752,"node_id":"CE_lADOAGuhRc6di0IpzwAAAATH0RW4","url":"https://api.github.com/repos/python/mypy/issues/events/20532237752","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-10-27T17:46:21Z","state_reason":null,"performed_via_github_app":null},{"id":20532263970,"node_id":"REFE_lADOAGuhRc6di0IpzwAAAATH0Xwi","url":"https://api.github.com/repos/python/mypy/issues/events/20532263970","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"28536b5338df20465a8bc98fd34859e0714cba46","commit_url":"https://api.github.com/repos/wyattscarpenter/mypy/commits/28536b5338df20465a8bc98fd34859e0714cba46","created_at":"2025-10-27T17:47:28Z","performed_via_github_app":null},{"id":20532857615,"node_id":"REFE_lADOAGuhRc6di0IpzwAAAATH2osP","url":"https://api.github.com/repos/python/mypy/issues/events/20532857615","actor":{"login":"ilevkivskyi","id":12005495,"node_id":"MDQ6VXNlcjEyMDA1NDk1","avatar_url":"https://avatars.githubusercontent.com/u/12005495?v=4","gravatar_id":"","url":"https://api.github.com/users/ilevkivskyi","html_url":"https://github.com/ilevkivskyi","followers_url":"https://api.github.com/users/ilevkivskyi/followers","following_url":"https://api.github.com/users/ilevkivskyi/following{/other_user}","gists_url":"https://api.github.com/users/ilevkivskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilevkivskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilevkivskyi/subscriptions","organizations_url":"https://api.github.com/users/ilevkivskyi/orgs","repos_url":"https://api.github.com/users/ilevkivskyi/repos","events_url":"https://api.github.com/users/ilevkivskyi/events{/privacy}","received_events_url":"https://api.github.com/users/ilevkivskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"842a8fdcaa711c92c1067d373098844eb7d1ab57","commit_url":"https://api.github.com/repos/python/mypy/commits/842a8fdcaa711c92c1067d373098844eb7d1ab57","created_at":"2025-10-27T18:16:17Z","performed_via_github_app":null}]