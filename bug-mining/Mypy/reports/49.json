{"url":"https://api.github.com/repos/python/mypy/issues/11309","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/11309/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/11309/comments","events_url":"https://api.github.com/repos/python/mypy/issues/11309/events","html_url":"https://github.com/python/mypy/issues/11309","id":1021981168,"node_id":"I_kwDOAGuhRc486jHw","number":11309,"title":"Improved hinting / warning diagnostics where parameter named `self` is missing on instance method","user":{"login":"shoffmeister","id":3868036,"node_id":"MDQ6VXNlcjM4NjgwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3868036?v=4","gravatar_id":"","url":"https://api.github.com/users/shoffmeister","html_url":"https://github.com/shoffmeister","followers_url":"https://api.github.com/users/shoffmeister/followers","following_url":"https://api.github.com/users/shoffmeister/following{/other_user}","gists_url":"https://api.github.com/users/shoffmeister/gists{/gist_id}","starred_url":"https://api.github.com/users/shoffmeister/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shoffmeister/subscriptions","organizations_url":"https://api.github.com/users/shoffmeister/orgs","repos_url":"https://api.github.com/users/shoffmeister/repos","events_url":"https://api.github.com/users/shoffmeister/events{/privacy}","received_events_url":"https://api.github.com/users/shoffmeister/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488358,"node_id":"MDU6TGFiZWwyMTQ4ODM1OA==","url":"https://api.github.com/repos/python/mypy/labels/feature","name":"feature","color":"84b6eb","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-10-10T13:14:38Z","updated_at":"2021-10-19T14:10:54Z","closed_at":"2021-10-19T14:10:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The code below is faulty - mypy correctly emits an error \"Too many arguments for \"set_log_level\"\":\r\n```python\r\nclass LoggableDB:\r\n    def set_log_level(v):\r\n        print(type(v).__name__)\r\n\r\nLoggableDB().set_log_level(\"i am not myself\")\r\n```\r\n\r\n**Pitch**\r\n\r\nWith the code being faulty, it needs to be fixed by a developer. \r\n\r\nThe most ergonomic approach is telling the developer about a most likely fix. Therefore, it would be helpful to enrich the output with a _nudging_ diagnostic (hint, warning) to the effect of \"\\<method\\> is missing a parameter named self as the first parameter\" would be appreciated.\r\n\r\nI believe that having this diagnostic would reduce mental effort and accelerate development, by allowing a developer to merely read, without having to spend too many brain cycles.\r\n\r\nAdditionally, the added nudge would be _at the location of the real problem_ (missing `self`) as opposed to being only at the call site. Depending on the distance between definition and caller, that additional nudge might accelerate the fix.\r\n\r\nThis nudging hint would be valuable both during interactive use (in an editor) and in batch mode (CI).\r\n\r\nHiding this nudge behind a config switch would alleviate any challenges where developer have not followed / do not want to follow the convention of naming that first parameter `self`\r\n","closed_by":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/11309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/11309/timeline","performed_via_github_app":null,"state_reason":"completed"}