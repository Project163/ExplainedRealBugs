{"url":"https://api.github.com/repos/python/mypy/issues/10479","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/10479/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/10479/comments","events_url":"https://api.github.com/repos/python/mypy/issues/10479/events","html_url":"https://github.com/python/mypy/issues/10479","id":892530423,"node_id":"MDU6SXNzdWU4OTI1MzA0MjM=","number":10479,"title":"Error isn't provided when TypeVar is defined in both outer and inner class scopes","user":{"login":"erictraut","id":7040122,"node_id":"MDQ6VXNlcjcwNDAxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/7040122?v=4","gravatar_id":"","url":"https://api.github.com/users/erictraut","html_url":"https://github.com/erictraut","followers_url":"https://api.github.com/users/erictraut/followers","following_url":"https://api.github.com/users/erictraut/following{/other_user}","gists_url":"https://api.github.com/users/erictraut/gists{/gist_id}","starred_url":"https://api.github.com/users/erictraut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erictraut/subscriptions","organizations_url":"https://api.github.com/users/erictraut/orgs","repos_url":"https://api.github.com/users/erictraut/repos","events_url":"https://api.github.com/users/erictraut/events{/privacy}","received_events_url":"https://api.github.com/users/erictraut/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-15T20:17:09Z","updated_at":"2025-06-18T18:17:04Z","closed_at":"2025-06-18T18:17:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"PEP 484 says \"A generic class nested in another generic class cannot use same type variables. The scope of the type variables of the outer class doesn't cover the inner one\".\r\n\r\nIt provides the following example:\r\n\r\n```python\r\nfrom typing import Generic, Iterable, TypeVar\r\n\r\nT = TypeVar('T')\r\nS = TypeVar('S')\r\n\r\nclass Outer(Generic[T]):\r\n    class Bad(Iterable[T]):       # Error\r\n        ...\r\n```\r\n\r\nMypy does not emit an error in this case even though PEP 484 says it's not allowed.","closed_by":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/10479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/10479/timeline","performed_via_github_app":null,"state_reason":"completed"}