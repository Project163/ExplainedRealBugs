{"url":"https://api.github.com/repos/python/mypy/issues/14042","repository_url":"https://api.github.com/repos/python/mypy","labels_url":"https://api.github.com/repos/python/mypy/issues/14042/labels{/name}","comments_url":"https://api.github.com/repos/python/mypy/issues/14042/comments","events_url":"https://api.github.com/repos/python/mypy/issues/14042/events","html_url":"https://github.com/python/mypy/issues/14042","id":1440994631,"node_id":"I_kwDOAGuhRc5V49VH","number":14042,"title":"mypy 0.990 shows no errors when passing source directory as absolute path","user":{"login":"intgr","id":137616,"node_id":"MDQ6VXNlcjEzNzYxNg==","avatar_url":"https://avatars.githubusercontent.com/u/137616?v=4","gravatar_id":"","url":"https://api.github.com/users/intgr","html_url":"https://github.com/intgr","followers_url":"https://api.github.com/users/intgr/followers","following_url":"https://api.github.com/users/intgr/following{/other_user}","gists_url":"https://api.github.com/users/intgr/gists{/gist_id}","starred_url":"https://api.github.com/users/intgr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intgr/subscriptions","organizations_url":"https://api.github.com/users/intgr/orgs","repos_url":"https://api.github.com/users/intgr/repos","events_url":"https://api.github.com/users/intgr/events{/privacy}","received_events_url":"https://api.github.com/users/intgr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":21488356,"node_id":"MDU6TGFiZWwyMTQ4ODM1Ng==","url":"https://api.github.com/repos/python/mypy/labels/bug","name":"bug","color":"f9d0c4","default":true,"description":"mypy got something wrong"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2022-11-08T22:20:45Z","updated_at":"2022-11-10T17:52:02Z","closed_at":"2022-11-10T17:37:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Bug Report**\r\n\r\nI noticed that after upgrading to 0.990, mypy in djangorestframework-stubs CI no longer finds any errors.\r\n\r\nIt seems this happens when the source folder is passed as a full path, instead of relative path. `$PWD` is the full path of the current working directory:\r\n\r\n```\r\n% mypy --config-file $PWD/mypy.ini --show-traceback --hide-error-context ./drf_source/tests |tail -n1\r\nFound 569 errors in 48 files (checked 83 source files)\r\n% mypy --config-file $PWD/mypy.ini --show-traceback --hide-error-context $PWD/drf_source/tests |tail -n1\r\nSuccess: no issues found in 83 source files\r\n```\r\n\r\n~~Maybe, just maybe, this is related to #13768?~~ EDIT: seems not to be, various `--follow-imports=` options have no effect.\r\n\r\n**To Reproduce**\r\n\r\n1. Check out https://github.com/intgr/djangorestframework-stubs branch `update-to-mypy-0.990`\r\n2. Install dependencies from `requirements.txt` in a virtualenv\r\n3. Upgrade to mypy 0.990\r\n4. Run `python scripts/typecheck_tests.py`, which populates the `drf_source` directory\r\n5. Try running the commands above\r\n\r\n**Your Environment**\r\n\r\n- Mypy version used: 0.990\r\n- Mypy configuration options from `mypy.ini` (and other config files): https://github.com/typeddjango/djangorestframework-stubs/blob/06a2f2f9f6c05a07f03bc1bd7f1b54ecfd7a3c43/mypy.ini\r\n- Python version used: 3.10.8\r\n","closed_by":{"login":"JukkaL","id":1107911,"node_id":"MDQ6VXNlcjExMDc5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1107911?v=4","gravatar_id":"","url":"https://api.github.com/users/JukkaL","html_url":"https://github.com/JukkaL","followers_url":"https://api.github.com/users/JukkaL/followers","following_url":"https://api.github.com/users/JukkaL/following{/other_user}","gists_url":"https://api.github.com/users/JukkaL/gists{/gist_id}","starred_url":"https://api.github.com/users/JukkaL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JukkaL/subscriptions","organizations_url":"https://api.github.com/users/JukkaL/orgs","repos_url":"https://api.github.com/users/JukkaL/repos","events_url":"https://api.github.com/users/JukkaL/events{/privacy}","received_events_url":"https://api.github.com/users/JukkaL/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python/mypy/issues/14042/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/mypy/issues/14042/timeline","performed_via_github_app":null,"state_reason":"completed"}