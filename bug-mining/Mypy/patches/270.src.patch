diff --git a/mypy/plugins/attrs.py b/mypy/plugins/attrs.py
index 16e8891e5..50d2955d2 100644
--- a/mypy/plugins/attrs.py
+++ b/mypy/plugins/attrs.py
@@ -828,7 +828,7 @@ def _add_attrs_magic_attribute(
         ctx.cls,
         MAGIC_ATTR_NAME,
         TupleType(attributes_types, fallback=attributes_type),
-        fullname=f"{ctx.cls.fullname}.{attr_name}",
+        fullname=f"{ctx.cls.fullname}.{MAGIC_ATTR_NAME}",
         override_allow_incompatible=True,
         is_classvar=True,
     )
diff --git a/test-data/unit/fine-grained-attr.test b/test-data/unit/fine-grained-attr.test
index fd7c97da0..3fd40b774 100644
--- a/test-data/unit/fine-grained-attr.test
+++ b/test-data/unit/fine-grained-attr.test
@@ -46,3 +46,37 @@ A.__attrs_attrs__.b
 
 [out]
 ==
+
+[case magicAttributeConsistency2-only_when_cache]
+[file c.py]
+import attr
+
+@attr.s
+class Entry:
+    var: int = attr.ib()
+[builtins fixtures/attr.pyi]
+
+[file m.py]
+from typing import Any, ClassVar, Protocol
+from c import Entry
+
+class AttrsInstance(Protocol):
+    __attrs_attrs__: ClassVar[Any]
+
+def func(e: AttrsInstance) -> None: ...
+func(Entry(2))
+
+[file m.py.2]
+from typing import Any, ClassVar, Protocol
+from c import Entry
+
+class AttrsInstance(Protocol):
+    __attrs_attrs__: ClassVar[Any]
+
+def func(e: AttrsInstance) -> int:
+    return 2  # Change return type to force reanalysis
+
+func(Entry(2))
+
+[out]
+==
