diff --git a/mypy/semanal_main.py b/mypy/semanal_main.py
index 2e0d901d5..00d795c64 100644
--- a/mypy/semanal_main.py
+++ b/mypy/semanal_main.py
@@ -389,6 +389,7 @@ def semantic_analyze_target(
     analyzer.global_decls = [set()]
     analyzer.nonlocal_decls = [set()]
     analyzer.globals = tree.names
+    analyzer.imports = set()
     analyzer.progress = False
     with state.wrap_context(check_blockers=False):
         refresh_node = node
