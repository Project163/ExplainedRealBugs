diff --git a/mypy/semanal.py b/mypy/semanal.py
index a9226d2cd..0c38793d0 100644
--- a/mypy/semanal.py
+++ b/mypy/semanal.py
@@ -1906,7 +1906,11 @@ class SemanticAnalyzer(NodeVisitor[None],
                                 fullname: str,
                                 module_public: bool,
                                 context: ImportBase) -> None:
-        module_hidden = not module_public and fullname not in self.modules
+        module_hidden = not module_public and not (
+            # `from package import module` should work regardless of whether package
+            # re-exports module
+            isinstance(node.node, MypyFile) and fullname in self.modules
+        )
 
         if isinstance(node.node, PlaceholderNode):
             if self.final_iteration:
diff --git a/test-data/unit/check-modules.test b/test-data/unit/check-modules.test
index 071fcf54f..4f0aa8391 100644
--- a/test-data/unit/check-modules.test
+++ b/test-data/unit/check-modules.test
@@ -1910,6 +1910,24 @@ class C:
 
 [builtins fixtures/module.pyi]
 
+[case testReExportChildStubs3]
+from util import mod
+reveal_type(mod)  # N: Revealed type is "def () -> package.mod.mod"
+
+from util import internal_detail  # E: Module "util" has no attribute "internal_detail"
+
+[file package/__init__.pyi]
+from .mod import mod as mod
+
+[file package/mod.pyi]
+class mod: ...
+
+[file util.pyi]
+from package import mod as mod
+# stubs require explicit re-export
+from package import mod as internal_detail
+[builtins fixtures/module.pyi]
+
 [case testNoReExportChildStubs]
 import mod
 from mod import C, D  # E: Module "mod" has no attribute "C"
