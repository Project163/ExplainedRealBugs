diff --git a/test-data/unit/check-python311.test b/test-data/unit/check-python311.test
index 7196f10f8..be1f337ca 100644
--- a/test-data/unit/check-python311.test
+++ b/test-data/unit/check-python311.test
@@ -63,3 +63,17 @@ class Variadic(Generic[Unpack[Ts]]):
 variadic: Variadic[int, str]
 reveal_type(variadic)  # N: Revealed type is "__main__.Variadic[builtins.int, builtins.str]"
 [builtins fixtures/tuple.pyi]
+
+[case testAsyncGeneratorWithinComprehension]
+# flags: --python-version 3.11
+from typing import Any, Generator, List
+
+async def asynciter(iterable):
+    for x in iterable:
+        yield x
+
+async def coro() -> Generator[List[Any], None, None]:
+    return ([i async for i in asynciter([0,j])] for j in [3, 5])
+reveal_type(coro)  # N: Revealed type is "def () -> typing.Coroutine[Any, Any, typing.Generator[builtins.list[Any], None, None]]"
+[builtins fixtures/async_await.pyi]
+[typing fixtures/typing-async.pyi]
diff --git a/test-data/unit/check-python39.test b/test-data/unit/check-python39.test
index 105051a84..09d789ea4 100644
--- a/test-data/unit/check-python39.test
+++ b/test-data/unit/check-python39.test
@@ -17,3 +17,12 @@ decorator_list: List[Callable[..., Callable[[int], str]]]
 def f(x: float) -> float: ...
 reveal_type(f)  # N: Revealed type is "def (builtins.int) -> builtins.str"
 [builtins fixtures/list.pyi]
+
+[case testStarredExpressionsInForLoop]
+# flags: --python-version 3.9
+
+a = b = c = [1, 2, 3]
+for x in *a, *b, *c:
+    reveal_type(x)  # N: Revealed type is "builtins.int"
+[builtins fixtures/tuple.pyi]
+
