<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEZ-1463] Remove dependency on private class org.apache.hadoop.util.StringUtils </title>
                <link>https://issues.apache.org/jira/browse/TEZ-1463</link>
                <project id="12314426" key="TEZ">Apache Tez</project>
                    <description>&lt;p&gt;This is a private and unstable class in hadoop. We should not depend on it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12735161">TEZ-1463</key>
            <summary>Remove dependency on private class org.apache.hadoop.util.StringUtils </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="hitesh">Hitesh Shah</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Tue, 19 Aug 2014 20:33:09 +0000</created>
                <updated>Sat, 6 Sep 2014 01:35:45 +0000</updated>
                            <resolved>Sat, 23 Aug 2014 02:50:52 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14102802" author="jeagles" created="Tue, 19 Aug 2014 20:43:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hitesh&quot; class=&quot;user-hover&quot; rel=&quot;hitesh&quot;&gt;hitesh&lt;/a&gt;, can you give some guidelines on whether the replacement should be guava or apache commons?&lt;br/&gt;
&lt;a href=&quot;http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/package-summary.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/package-summary.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/package-summary.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/package-summary.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14103020" author="hitesh" created="Tue, 19 Aug 2014 23:19:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeagles&quot; class=&quot;user-hover&quot; rel=&quot;jeagles&quot;&gt;jeagles&lt;/a&gt; We seem to be using both guava and apache commons in a variety of places. At this point, it is a toss-up unless someone wants to go in and compare the 2 of them for functionality provided as well as doing some benchmarks to see which one has an upperhand. &lt;/p&gt;
</comment>
                            <comment id="14103024" author="hitesh" created="Tue, 19 Aug 2014 23:20:41 +0000"  >&lt;p&gt;Another note - guava does seem to iterate faster than commons but we are restricted to what version of guava we can leverage due to hadoop dependency restrictions. &lt;/p&gt;</comment>
                            <comment id="14103355" author="apivovarov" created="Wed, 20 Aug 2014 04:24:42 +0000"  >&lt;p&gt;There are 4 methods from hadoop StringUtils which are used in tez projects&lt;/p&gt;

&lt;p&gt;Collection&amp;lt;String&amp;gt; getTrimmedStringCollection(str)&lt;br/&gt;
String[] getTrimmedStrings(str)&lt;br/&gt;
String join(char, Iterator&amp;lt;String&amp;gt;)&lt;br/&gt;
String[] split(String, char)&lt;/p&gt;

&lt;p&gt;plus stringifyException()  which we can add to TezCommonUtils&lt;/p&gt;

&lt;p&gt;  public static String stringifyException(Throwable e) &lt;/p&gt;
{
    StringWriter stm = new StringWriter();
    PrintWriter wrt = new PrintWriter(stm);
    e.printStackTrace(wrt);
    wrt.close();
    return stm.toString();
  }</comment>
                            <comment id="14103413" author="apivovarov" created="Wed, 20 Aug 2014 05:39:17 +0000"  >&lt;p&gt;1. added getTrimmedStrings, getTrimmedStringCollection and stringifyException to TezCommonUtils.&lt;/p&gt;

&lt;p&gt;2. use join() and split() from apache commons lang 2.6&lt;/p&gt;

&lt;p&gt;3. replaced hadoop StringUtils in all places&lt;/p&gt;</comment>
                            <comment id="14103483" author="jeagles" created="Wed, 20 Aug 2014 06:27:41 +0000"  >&lt;p&gt;Both guava and apache commons have equivalent stringify exception. Let&apos;s use one of these instead of maintaining our own.&lt;br/&gt;
&lt;a href=&quot;http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/exception/ExceptionUtils.html#line.893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/exception/ExceptionUtils.html#line.893&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/src-html/com/google/common/base/Throwables.html#line.211&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/src-html/com/google/common/base/Throwables.html#line.211&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14103501" author="apivovarov" created="Wed, 20 Aug 2014 06:41:47 +0000"  >&lt;p&gt;Replaced TezCommonUtils.stringifyException with ExceptionUtils.getStackTrace&lt;/p&gt;</comment>
                            <comment id="14104552" author="jeagles" created="Wed, 20 Aug 2014 20:52:12 +0000"  >&lt;p&gt;Couple of minor nits now that I had time to fully review version 2 of this patch&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Replace emptyStringArray references with org.apache.commons.lang.ArrayUtils.EMPTY_STRING_ARRAY or remove need to reference empty array string e.g. 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;StringUtils.trimToEmpty(str).split(\\s*,\\s*);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Replace both references to 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Sets.newHashSet(TezCommonUtils.getTrimmedStringCollection&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Sets.newHashSet(TezCommonUtils.getTrimmedStrings&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; in ACLConfigurationParser so that hash set can be created more efficiently and be ideally sized&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;Remove TezCommonUtils.getTrimmedStringCollection since it is no longer needed&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14104875" author="apivovarov" created="Thu, 21 Aug 2014 00:45:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeagles&quot; class=&quot;user-hover&quot; rel=&quot;jeagles&quot;&gt;jeagles&lt;/a&gt;, thank you for reviewing patch 2. I fixed the code as you suggested.  Patch 3 is attached&lt;/p&gt;</comment>
                            <comment id="14104977" author="jeagles" created="Thu, 21 Aug 2014 02:51:38 +0000"  >&lt;p&gt;+1. I&apos;ll check this in once I have the all clear for 0.5.1 checkins&lt;/p&gt;</comment>
                            <comment id="14107820" author="jeagles" created="Sat, 23 Aug 2014 02:50:52 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14124120" author="bikassaha" created="Sat, 6 Sep 2014 01:35:45 +0000"  >&lt;p&gt;Bulk close for jiras fixed in 0.5.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12735041">TEZ-1458</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12662986" name="TEZ-1463.1.patch" size="32318" author="apivovarov" created="Wed, 20 Aug 2014 05:39:17 +0000"/>
                            <attachment id="12663063" name="TEZ-1463.2.patch" size="31769" author="apivovarov" created="Wed, 20 Aug 2014 06:41:47 +0000"/>
                            <attachment id="12663297" name="TEZ-1463.3.patch" size="31203" author="apivovarov" created="Thu, 21 Aug 2014 00:45:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z2cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327474">0.5.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>