<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEZ-1910] Build fails against hadoop-2.2.0</title>
                <link>https://issues.apache.org/jira/browse/TEZ-1910</link>
                <project id="12314426" key="TEZ">Apache Tez</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Tez-Build-Hadoop-2.2/2/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tez-Build-Hadoop-2.2/2/console&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12764317">TEZ-1910</key>
            <summary>Build fails against hadoop-2.2.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hitesh">Hitesh Shah</assignee>
                                    <reporter username="hitesh">Hitesh Shah</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2014 00:01:45 +0000</created>
                <updated>Thu, 29 Jan 2015 20:25:40 +0000</updated>
                            <resolved>Thu, 8 Jan 2015 00:10:45 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14266768" author="hitesh" created="Tue, 6 Jan 2015 21:07:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;sseth&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bikassaha&quot; class=&quot;user-hover&quot; rel=&quot;bikassaha&quot;&gt;bikassaha&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeagles&quot; class=&quot;user-hover&quot; rel=&quot;jeagles&quot;&gt;jeagles&lt;/a&gt; review please.&lt;/p&gt;</comment>
                            <comment id="14266801" author="sseth" created="Tue, 6 Jan 2015 21:28:14 +0000"  >&lt;p&gt;What was causing the build to fail ? The patch itself looks good to me, but not sure what is fixing the 2.2 build.&lt;/p&gt;</comment>
                            <comment id="14266976" author="jeagles" created="Tue, 6 Jan 2015 23:37:20 +0000"  >&lt;p&gt;Looks like we are disabling the TestATSHttpClient since the useHttps method isn&apos;t available in 2.2. The fix works, so I&apos;m ok with it. There are other ways of fixing it, like having the DAGClientTimelineImpl decide whether to default to not use https or look up the config value directly. This way is cleanest.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 0.366 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testGetDagStatusSimple(org.apache.tez.dag.api.client.TestATSHttpClient)  Time elapsed: 0.297 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.tez.dag.api.TezException: java.lang.NoSuchMethodException: org.apache.hadoop.yarn.conf.YarnConfiguration.useHttps(org.apache.hadoop.conf.Configuration)&lt;br/&gt;
	at java.lang.Class.getMethod(Class.java:1607)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.webappHttpsOnly(DAGClientTimelineImpl.java:450)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.&amp;lt;init&amp;gt;(DAGClientTimelineImpl.java:102)&lt;br/&gt;
	at org.apache.tez.dag.api.client.TestATSHttpClient.testGetDagStatusSimple(TestATSHttpClient.java:70)&lt;/p&gt;

&lt;p&gt;testGetVertexStatusSimple(org.apache.tez.dag.api.client.TestATSHttpClient)  Time elapsed: 0.001 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.tez.dag.api.TezException: java.lang.NoSuchMethodException: org.apache.hadoop.yarn.conf.YarnConfiguration.useHttps(org.apache.hadoop.conf.Configuration)&lt;br/&gt;
	at java.lang.Class.getMethod(Class.java:1607)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.webappHttpsOnly(DAGClientTimelineImpl.java:450)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.&amp;lt;init&amp;gt;(DAGClientTimelineImpl.java:102)&lt;br/&gt;
	at org.apache.tez.dag.api.client.TestATSHttpClient.testGetVertexStatusSimple(TestATSHttpClient.java:130)&lt;/p&gt;

&lt;p&gt;testGetDagStatusThrowsExceptionOnEmptyJson(org.apache.tez.dag.api.client.TestATSHttpClient)  Time elapsed: 0.003 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.tez.dag.api.TezException: java.lang.NoSuchMethodException: org.apache.hadoop.yarn.conf.YarnConfiguration.useHttps(org.apache.hadoop.conf.Configuration)&lt;br/&gt;
	at java.lang.Class.getMethod(Class.java:1607)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.webappHttpsOnly(DAGClientTimelineImpl.java:450)&lt;br/&gt;
	at org.apache.tez.dag.api.client.DAGClientTimelineImpl.&amp;lt;init&amp;gt;(DAGClientTimelineImpl.java:102)&lt;br/&gt;
	at org.apache.tez.dag.api.client.TestATSHttpClient.testGetDagStatusThrowsExceptionOnEmptyJson(TestATSHttpClient.java:46)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14267044" author="hitesh" created="Wed, 7 Jan 2015 00:18:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;sseth&lt;/a&gt; Couple of issues were seen:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Something changed in Configuration which ended up causing fs.default.name to return a null ( when fs.defaultFS was set ) - this test fails with 2.2 but works with 2.4+&lt;/li&gt;
	&lt;li&gt;The other issue was the check for https which &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeagles&quot; class=&quot;user-hover&quot; rel=&quot;jeagles&quot;&gt;jeagles&lt;/a&gt; pointed out.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeagles&quot; class=&quot;user-hover&quot; rel=&quot;jeagles&quot;&gt;jeagles&lt;/a&gt; I considered replicating the https check from hadoop-2.2 ( code below ) :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; sslEnabled = conf.getBoolean(
-            CommonConfigurationKeysPublic.HADOOP_SSL_ENABLED_KEY,
-            CommonConfigurationKeysPublic.HADOOP_SSL_ENABLED_DEFAULT);
-  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I did not want to introduce deprecated code which will likely not be used as Timeline does not even exist in 2.2.0. If someone configures the timeline client with hadoop-2.2.0, firstly this would be a user error and furthermore, there will be other failures which may happen before the https check is triggered. Comments? &lt;/p&gt;</comment>
                            <comment id="14267205" author="jeagles" created="Wed, 7 Jan 2015 02:44:15 +0000"  >&lt;p&gt;+1. I think the patch is implemented simply enough. Please add comment in TestATSHttpClient why this is disabled (API added in 2.4) since it isn&apos;t directly clear without the seeing the test failure.&lt;/p&gt;</comment>
                            <comment id="14268548" author="hitesh" created="Thu, 8 Jan 2015 00:07:24 +0000"  >&lt;p&gt;Modified patch to add relevant comments.&lt;/p&gt;</comment>
                            <comment id="14268549" author="jeagles" created="Thu, 8 Jan 2015 00:08:41 +0000"  >&lt;p&gt;+1. Will commit shortly. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hitesh&quot; class=&quot;user-hover&quot; rel=&quot;hitesh&quot;&gt;hitesh&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14268551" author="hitesh" created="Thu, 8 Jan 2015 00:10:45 +0000"  >&lt;p&gt;Committed to master and branch 0.6&lt;/p&gt;</comment>
                            <comment id="14297537" author="hitesh" created="Thu, 29 Jan 2015 20:25:40 +0000"  >&lt;p&gt;Closing jira as 0.6.0 is released. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12690411" name="TEZ-1910.1.patch" size="2739" author="hitesh" created="Tue, 6 Jan 2015 21:07:47 +0000"/>
                            <attachment id="12690668" name="TEZ-1910.2.patch" size="3023" author="hitesh" created="Thu, 8 Jan 2015 00:07:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23vaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327652">0.6.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>