{"url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731","repository_url":"https://api.github.com/repos/chartjs/Chart.js","labels_url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731/labels{/name}","comments_url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731/comments","events_url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731/events","html_url":"https://github.com/chartjs/Chart.js/issues/8731","id":842214358,"node_id":"MDU6SXNzdWU4NDIyMTQzNTg=","number":8731,"title":"Easier access to scale types","user":{"login":"joshkel","id":476338,"node_id":"MDQ6VXNlcjQ3NjMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/476338?v=4","gravatar_id":"","url":"https://api.github.com/users/joshkel","html_url":"https://github.com/joshkel","followers_url":"https://api.github.com/users/joshkel/followers","following_url":"https://api.github.com/users/joshkel/following{/other_user}","gists_url":"https://api.github.com/users/joshkel/gists{/gist_id}","starred_url":"https://api.github.com/users/joshkel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshkel/subscriptions","organizations_url":"https://api.github.com/users/joshkel/orgs","repos_url":"https://api.github.com/users/joshkel/repos","events_url":"https://api.github.com/users/joshkel/events{/privacy}","received_events_url":"https://api.github.com/users/joshkel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":32309886,"node_id":"MDU6TGFiZWwzMjMwOTg4Ng==","url":"https://api.github.com/repos/chartjs/Chart.js/labels/type:%20enhancement","name":"type: enhancement","color":"1d76db","default":false,"description":""},{"id":2389860460,"node_id":"MDU6TGFiZWwyMzg5ODYwNDYw","url":"https://api.github.com/repos/chartjs/Chart.js/labels/type:%20types","name":"type: types","color":"ae60f2","default":false,"description":"Typescript type changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-26T18:41:19Z","updated_at":"2021-03-26T20:20:59Z","closed_at":"2021-03-26T20:20:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've split my chart creation logic into several functions to make it easier to maintain, and I use TypeScript type definitions on the individual pieces to keep them manageable.\r\n\r\nIn Chart.js 3.0.0 beta 7, this was simple:\r\n\r\n```\r\nfunction createXAxisScale(range: number): ScaleOptions<'linear'> {\r\n  const tickCount = 8;\r\n  return {\r\n    type: 'linear',\r\n    min: 0,\r\n    suggestedMax: range,\r\n    ticks: { stepSize: range / tickCount },\r\n  };\r\n}\r\n```\r\n\r\nIn rc.3, it got a bit more verbose:\r\n\r\n```\r\nfunction createXAxisScale(range: number): ScaleOptionsByType<'linear'> {\r\n  const tickCount = 8;\r\n  return {\r\n    type: 'linear',\r\n    min: 0,\r\n    suggestedMax: range,\r\n    ticks: { stepSize: range / tickCount },\r\n  };\r\n}\r\n```\r\n\r\nIn rc.5, since partial was removed in #8717, this now complains if any properties of ScaleOptions are missing.\r\n\r\nI can handle this by using `Partial<ScaleOptionsByType<'linear'>>`, but since this is a common pattern in my code, I wondered if it would be worth having a type within Chart.js to make it easier.\r\n\r\nPossible solutions:\r\n\r\n* Reintroduce DeepPartial within ScaleOptionsByType.\r\n    ```\r\n    export type ScaleOptionsByType<TScale extends ScaleType = ScaleType> =\r\n      { [key in ScaleType]: { type: key } & DeepPartial<ScaleTypeRegistry[key]['options']> }[TScale]\r\n    ;\r\n    ```\r\n* Introduce a type alias for convenience:\r\n    ```\r\n    export type ScaleOptions<TScale extends ScaleType = ScaleType> = Partial<ScaleOptionsByType<TScale>>;\r\n    ```\r\n\r\nIf I'm better off using `Partial` or adding a `ScaleOptions` in my own code, that's fine, but since it seemed like a possibly unintended result of #8717, I wanted to check. Thanks!\r\n\r\nDemo: https://codesandbox.io/s/chartjs-partial-scale-bjt4e?file=/src/index.ts","closed_by":{"login":"etimberg","id":6757853,"node_id":"MDQ6VXNlcjY3NTc4NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6757853?v=4","gravatar_id":"","url":"https://api.github.com/users/etimberg","html_url":"https://github.com/etimberg","followers_url":"https://api.github.com/users/etimberg/followers","following_url":"https://api.github.com/users/etimberg/following{/other_user}","gists_url":"https://api.github.com/users/etimberg/gists{/gist_id}","starred_url":"https://api.github.com/users/etimberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/etimberg/subscriptions","organizations_url":"https://api.github.com/users/etimberg/orgs","repos_url":"https://api.github.com/users/etimberg/repos","events_url":"https://api.github.com/users/etimberg/events{/privacy}","received_events_url":"https://api.github.com/users/etimberg/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/chartjs/Chart.js/issues/8731/timeline","performed_via_github_app":null,"state_reason":"completed"}