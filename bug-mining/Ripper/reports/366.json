{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/1275","id":441720050,"node_id":"MDU6SXNzdWU0NDE3MjAwNTA=","number":1275,"title":"Behavior of \\b word anchor when applied to non-word characters","user":{"login":"learnbyexample","id":17766317,"node_id":"MDQ6VXNlcjE3NzY2MzE3","avatar_url":"https://avatars.githubusercontent.com/u/17766317?v=4","gravatar_id":"","url":"https://api.github.com/users/learnbyexample","html_url":"https://github.com/learnbyexample","followers_url":"https://api.github.com/users/learnbyexample/followers","following_url":"https://api.github.com/users/learnbyexample/following{/other_user}","gists_url":"https://api.github.com/users/learnbyexample/gists{/gist_id}","starred_url":"https://api.github.com/users/learnbyexample/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/learnbyexample/subscriptions","organizations_url":"https://api.github.com/users/learnbyexample/orgs","repos_url":"https://api.github.com/users/learnbyexample/repos","events_url":"https://api.github.com/users/learnbyexample/events{/privacy}","received_events_url":"https://api.github.com/users/learnbyexample/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721678,"node_id":"MDU6TGFiZWwzMzk3MjE2Nzg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/bug","name":"bug","color":"fc2929","default":true,"description":"A bug."},{"id":1849506066,"node_id":"MDU6TGFiZWwxODQ5NTA2MDY2","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/rollup","name":"rollup","color":"ffccee","default":false,"description":"A PR that has been merged with many others in a rollup."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-08T12:53:22Z","updated_at":"2023-10-10T00:29:55Z","closed_at":"2023-10-10T00:29:54Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What version of ripgrep are you using?\r\n\r\n```bash\r\n$ rg --version\r\nripgrep 11.0.1 (rev 1f1cd9b467)\r\n-SIMD -AVX (compiled)\r\n+SIMD -AVX (runtime)\r\n```\r\n\r\n#### How did you install ripgrep?\r\n\r\nUsing https://github.com/BurntSushi/ripgrep/releases/download/11.0.1/ripgrep_11.0.1_amd64.deb\r\n\r\n#### What operating system are you using ripgrep on?\r\n\r\nUbuntu 16.04.1\r\n\r\n#### Describe your question, feature request, or bug.\r\n\r\nBehavior of `\\b` word anchor applied on non-word characters is different than what is observed on other regex engines. I found this accidentally, wasn't a usecase I needed. But filing the issue anyway, incase this may be a bug.\r\n\r\n#### If this is a bug, what are the steps to reproduce the behavior?\r\n\r\nSee example below.\r\n\r\n#### If this is a bug, what is the actual behavior?\r\n\r\n```bash\r\n$ echo 'I have 12, he has 2!' | rg -o '\\b..\\b'\r\nI \r\n12\r\n```\r\n\r\n#### If this is a bug, what is the expected behavior?\r\n\r\nI feel `ripgrep` should also behave as seen in other regex engines.\r\n\r\n```bash\r\n$ # GNU grep 3.3\r\n$ # grep -oP '\\b..\\b' and rg -oP '\\b..\\b' also produce same result\r\n$ echo 'I have 12, he has 2!' | grep -o '\\b..\\b'\r\nI \r\n12\r\n, \r\nhe\r\n 2\r\n\r\n$ echo 'I have 12, he has 2!' | perl -lne 'print join \"|\", /\\b..\\b/g'\r\nI |12|, |he| 2\r\n$ echo 'I have 12, he has 2!' | ruby -ne 'puts $_.scan(/\\b..\\b/).join(\"|\")'\r\nI |12|, |he| 2\r\n\r\n$ # python3.7\r\n>>> import re\r\n>>> re.findall(r'\\b..\\b', 'I have 12, he has 2!')\r\n['I ', '12', ', ', 'he', ' 2']\r\n```\r\n\r\nThe below image might help in understanding what is happening in all these regex engines. Vertical bar represents word boundary. Note that even though `!` is at end of line, it doesn't have boundary after as it is not a word character.\r\n\r\n![ripgrep_word_boundary](https://user-images.githubusercontent.com/17766317/57372980-ce421500-71b4-11e9-8b12-e44ad4fd5532.png)\r\n\r\n**Note**\r\n\r\n* `grep -o '\\<..\\>'` (also in `vim`) will be different compared to `\\b` as `\\b` cannot differentiate between start and end word boundary\r\n* `grep -ow '..'` is same as `rg -ow '..'` (perhaps because both do `(?<!\\w)pattern(?!\\w)` for `-w` option)\r\n\r\n","closed_by":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1275/timeline","performed_via_github_app":null,"state_reason":"completed"}