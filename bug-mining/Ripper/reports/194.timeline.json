[{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404564533","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404564533","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404564533,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU2NDUzMw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T16:05:22Z","updated_at":"2018-07-12T16:05:22Z","body":"This is an interesting request! Thanks for the detailed description!\r\n\r\nI can definitely see how this could come in handy, and given its generality, I think I'd be comfortable with something like this in ripgrep. If someone wanted to add this, I'd be happy to work through most of the details in a PR.\r\n\r\nI do have a few constraints/concerns:\r\n\r\n* Whatever path this takes, the implementation must be simple. I don't see any reason why this shouldn't be simple, particularly given the fact that ripgrep is already shelling out to programs such as gzip.\r\n* The stdin handling looks a little tricky, but seems doable?\r\n* I think I'd prefer to leave binary file detection out of this. In particular, binary detection happens _during_ search because it cannot happen any other way. That means binary detection could get tripped if the last byte in a file is `NUL`, which would then divert it to the `RIPGREP_OPEN` handler, and then you wind up with all sorts of strange things such as potentially printing results twice.\r\n* I'd rather that this functionality be introduced via a command line flag, e.g., `--open-with`, such that we can leave `RIPGREP_CONFIG_PATH` as the only ripgrep-specific environment variable that impacts its execution.\r\n* Finally, if this doesn't work out for whatever reason in ripgrep proper, libripgrep will be a thing soon, and someone could just write their own program with whatever semantics they desire.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404564533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1730704326,"node_id":"MDEyOkxhYmVsZWRFdmVudDE3MzA3MDQzMjY=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730704326","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-07-12T16:05:30Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":1730704332,"node_id":"MDEyOkxhYmVsZWRFdmVudDE3MzA3MDQzMzI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730704332","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-07-12T16:05:30Z","label":{"name":"question","color":"cc317c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404574437","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404574437","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404574437,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU3NDQzNw==","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T16:39:15Z","updated_at":"2018-07-12T16:39:15Z","body":"Totally fair point, binary detection-wise.  Oh well.  :-)\r\n\r\nEnvironment variable vs. command option for activation and various namings are certainly just a matter of taste.  Exporting a (local to/interpreted by all children) environment variable like ``RIPGREP_INPUT`` or ``RIPGREP_INPUT_FILE`` or ``RIPGREP_INPUT_PATH`` or whatever for the input file is quite helpful for inflexible decoder programs that want a path (like my ``pdftotext`` example).  It is possible to pass that data other ways like with a magic token like ``\"%s\"`` or ``\"%path\"`` or ``\"%input%\"`` or something in the argument to ``--open-with`` that gets a pathname.\r\n\r\nAn environment variable for the child is a simpler interface (IMO).  What I do with my little static C preprocessor is optionally take the name of an environment variable which is then the name of the input file.  So, all you need is a ``getenv(argv[that]``).  This is a nice protocol in that the little static preprocessor program/script can be used by callers other than ``ripgrep`` while preserving the \"optionality\" of any pathname at all.  It's rare that names are required and file descriptors are less race condition prone.  I.e., once ``ripgrep`` has opened the file, it can (if doing preprocessing) fork/hand it off to the decoder and even if it is deleted by some parallel 'rm' there is no race.\r\n\r\nAlso, to not mandate an extra ``/bin/sh`` ``exec``, the argument to ``--open-with`` (or maybe ``--preprocessor``?) should be split/tokenized by ``ripgrep`` and ``vfork`` & ``exec`` should be used directly.\r\n\r\nThe process creation/file descriptor handling I use in C is:\r\n```C\r\nint fds[2];\r\nif (pipe (fds) == -1) die (\"cannot create a pipe\");\r\nswitch (pid = vfork ()) { /* vfork much faster but MUST exec|_exit */\r\n  case 0:             /* child */\r\n    dup2 (desc, 0);   /* stdin = desc on file itself */\r\n    dup2 (fds[1], 1); /* stdout = write end of pipe [1] */\r\n    close (fds[1]);   /* do not need extra handle on pipe */\r\n    close (fds[0]);   /* close read end of pipe [0] */\r\n    if (filename)\r\n      setenv (\"RIPGREP_INPUT\", filename, 1);\r\n    execvp (preproc[0], preproc); /* become a preprocessor */\r\n    fprintf (stderr, \"%s: %s\\n\", preproc[0], strerror (errno));\r\n    _exit (1);\r\n  default:            /* parent */\r\n    close (fds[1]);   /* close write end of pipe[1] */\r\n    close (desc);     /* close desc on file itself */\r\n    desc = fds[0];    /* replace desc value with read end of pipe [0] */\r\n    break;\r\n  case -1:            /* vfork failed => resource exhaustion => die */\r\n    die (\"cannot vfork\");\r\n}\r\n```\r\nThe only \"out of band\" set up for that is that ``desc`` is the previously opened file descriptor (a local variable) and ``preproc`` char *[] is set up at program start-up based on iff ``--preproc`` was given.  This snippet just replaces ``desc`` with a handle to the child's output.  ``vfork`` really is faster in a 1000s of files problem setting (just less kernel work to do with shared libs/etc.), but you can time such differences and swap in/out easily enough.\r\n\r\nBeyond this you just need the option parsing and reaping the children the same way as however the current ``gzip`` stuff works.  I haven't read to see if you check ``WIFEXITED`` vs ``WIFSIGNALED`` or what you do with sessions/process groups and so on, but whatever it is you do (or _need to do_) with ``gzip`` will be the same.\r\n\r\nIn truth, I know very little Rust and I only just discovered ``ripgrep`` today or I would just do a PR myself.  It really should be simpler _in toto_ than the current ``-z`` stuff, which I guess you may or may not want to retain for backward compatibility.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404574437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404577398","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404577398","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404577398,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU3NzM5OA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T16:49:16Z","updated_at":"2018-07-12T16:50:33Z","body":"I'm trying to follow everything you're saying, but you appear to be very deep in the weeds. :-) Which is a good thing, but it's hard for me to follow. In particular, talking about `fork` specifically is very Unix specific, and ripgrep needs to work on Windows, so it might be better to just think about this at a bit of a higher level. I'll just say more about what I'm thinking, particularly with respect to the interface that ripgrep makes available:\r\n\r\n* ripgrep adds a new flag, `--open-with`.\r\n* This new flag specifies an executable name.\r\n* When this flag is given, ripgrep calls this executable with either 0 or 1 arguments. When given 0 arguments, ripgrep will pipe its stdin contents to the child process. When given 1 argument, it will be a file path. In both cases, ripgrep will read stdout from the given executable instead of reading the file directly.\r\n\r\nThat's it. No parsing of shell commands. No environment variables.\r\n\r\n> which I guess you may or may not want to retain for backward compatibility\r\n\r\nIndeed, but not just for backward compatibility. The generality of your proposal comes with a cost: the need for another program. There are giant wins to be had for supporting common cases by default, which is ultimately the point of the ultra specific `-z/--search-zip` flag.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404577398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404583586","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404583586","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404583586,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU4MzU4Ng==","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:11:12Z","updated_at":"2018-07-12T17:11:12Z","body":"Ah.  Sorry.  I never program on Windows, but I wanted to be specific about file descriptor operations since you seemed concerned about that complexity.\r\n\r\nThe problem with your third bullet is that the preprocessor is what classifies the file and dispatches.  Hence the child knows whether the decoder program needs or does not need a pathname.  So, ``ripgrep`` will never know that.  We want ``ripgrep`` to always invoke the preprocessor the same way.  It's just sometimes the decoder will actually need that pathname information, but most of the time it will not.  ``pdftotext`` is the only example I've found so far where I've needed it.  It may never need it in many user's environments/use cases.  So, it seemed nice to me to not burden such users with even knowing about it which is sort of how that environment variable to pass that info approach works.  It's also nice to have a simpler protocol, though. :-)\r\n\r\nIf you want to simplify that protocol then it wouldn't be so bad to always just pass one argument, the path.  Many users would probably use that argument -- racing unnecessarily (though the ``readdir`` -> ``open`` race will _always_ be there) or using it to dispatch off of filename extensions instead of, say, magic numbers.  Its presence would not block better usages as long as stdin is still set up for the child, though.  So, I'm fine with just always exec [ DISPATCHERDECODER, PATH ].\r\n\r\nAnd, yeah, ``-z`` will always be one-``exec`` faster than a dispatching-decoder preprocessor.  So, that's a valid optimization.  (I was personally rather amazed to discover ``gunzip`` is a shell wrapper these days instead of a hard/symbolic link, though I imagine that came from difficulty in determining the name under which a program was invoked - but these are _other_ weeds.  Sorry.).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404583586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404585080","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404585080","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404585080,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU4NTA4MA==","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:16:23Z","updated_at":"2018-07-12T17:16:23Z","body":"I don't know about Rust interfaces for spawning kids, but from a \"less-Unixy\" point of view, what you need is to either A) regular-mode: open a file (regular mode) or B) preprocess mode: open a pipe to a child, with the child's stdin connected to a file and the child's stdout the replacement for the file you would have used in A).  That really shouldn't be hard.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404585080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404589652","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404589652","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404589652,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU4OTY1Mg==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:31:53Z","updated_at":"2018-07-12T17:31:53Z","body":"@c-blake Yeah Rust's standard library has a decent high level cross platform API for that sort of stuff.\r\n\r\nI'm honestly not that worried about the extra forks here, nor am I worried about the racing. I am more than OK with saying that if you need to care about those sorts of things, then you should just go out and write your own program, which will be a feasible thing Real Soon Now. :-)","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404589652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1730879382,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTczMDg3OTM4Mg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730879382","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-12T17:31:53Z","performed_via_github_app":null},{"id":1730879383,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3MzA4NzkzODM=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730879383","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-12T17:31:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404590831","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404590831","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404590831,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU5MDgzMQ==","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:35:55Z","updated_at":"2018-07-12T17:35:55Z","body":"Looking at your ``ripgrep`` code for ``let cmd = process::Command::new(decompression_cmd.cmd)``, it looks like you can just do some ``.stdin()`` clause on your ``process::Command::new()``, passing it maybe an open file object or a path.  You actually could do that instead of the ``.arg(path)`` for all the decompressors you currently support..and probably all in the future, too.  I think the original ``uncompress`` set the \"tone\" for decoders accepting stdin.  Like I said, it's pretty rare the path is actually needed.\r\n\r\nWhether you want to pretty-ify/generalize your Rust code for shelling out to either a decompressor or a general decoder..Well, that is another question.  Compared to just adding a new command option and some new code to handle it, that is a bigger change..probably one best left to the primary author. (Or author of a whole new program using ``libripgrep``.)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404590831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404595652","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404595652","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404595652,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU5NTY1Mg==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T17:52:05Z","updated_at":"2018-07-12T17:52:05Z","body":"@c-blake Understood. If and when I get to refactoring that code, I'll see about adding this functionality. But I have no idea when that will happen.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404595652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1730919953,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTczMDkxOTk1Mw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730919953","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-12T17:52:05Z","performed_via_github_app":null},{"id":1730919954,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3MzA5MTk5NTQ=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1730919954","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-12T17:52:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404598697","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404598697","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404598697,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU5ODY5Nw==","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T18:01:26Z","updated_at":"2018-07-12T18:01:26Z","body":"Ok.  That's totally fair.  If and when I learn enough Rust to do a good PR, I'll just add a new CLI option, always both pass the 1 path arg to the kid _and_ attach ``stdin``, and add in some new ``process::Command::new(decoder_cmd)`` without new internal abstractions/re-factoring.  It seems like we've converged on that as a spec.\r\n\r\nBut someone (anyone?) else might well get to it first.  I bet the simple version of this is like a 15 minute job for experienced Rustaceans..or at least less than the time to read this thread, most likely.  Maybe more with proper testing.  :-)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404598697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1732664962,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3MzI2NjQ5NjI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1732664962","actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8d79ea429d418a40ddc9a5ad3c3300a2dcefbd81","commit_url":"https://api.github.com/repos/c-blake/ripgrep/commits/8d79ea429d418a40ddc9a5ad3c3300a2dcefbd81","created_at":"2018-07-13T14:05:17Z","performed_via_github_app":null},{"actor":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T14:30:59Z","updated_at":"2018-07-13T14:30:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981/events","html_url":"https://github.com/BurntSushi/ripgrep/pull/981","id":341041422,"node_id":"MDExOlB1bGxSZXF1ZXN0MjAxMzA4NTU3","number":981,"title":"Try to fullfill all the goals of the generic decoder program feature","user":{"login":"c-blake","id":8928205,"node_id":"MDQ6VXNlcjg5MjgyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/8928205?v=4","gravatar_id":"","url":"https://api.github.com/users/c-blake","html_url":"https://github.com/c-blake","followers_url":"https://api.github.com/users/c-blake/followers","following_url":"https://api.github.com/users/c-blake/following{/other_user}","gists_url":"https://api.github.com/users/c-blake/gists{/gist_id}","starred_url":"https://api.github.com/users/c-blake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-blake/subscriptions","organizations_url":"https://api.github.com/users/c-blake/orgs","repos_url":"https://api.github.com/users/c-blake/repos","events_url":"https://api.github.com/users/c-blake/events{/privacy}","received_events_url":"https://api.github.com/users/c-blake/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-07-13T14:30:59Z","updated_at":"2018-07-21T21:25:13Z","closed_at":"2018-07-21T21:25:13Z","author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls/981","html_url":"https://github.com/BurntSushi/ripgrep/pull/981","diff_url":"https://github.com/BurntSushi/ripgrep/pull/981.diff","patch_url":"https://github.com/BurntSushi/ripgrep/pull/981.patch","merged_at":null},"body":"request: https://github.com/BurntSushi/ripgrep/issues/978\r\n\r\nThere are a a bunch of choices maybe I should mention in this PR.\r\nI called it \"-P,--preprocessor\" to suggest its primary function.\r\nI basically just imitated the way decompression was handled with\r\na new file ``src/preprocessor.rs`` instead of ``src/decompressor.rs``.\r\n\r\nCurrently, if both ``--search-zip`` and ``--preprocessor PROGRAM`` are\r\ngiven,  the latter is used.  This seemed reasonable since preprocessing is more\r\ngeneral and probably involves more sophisticated users who can more easily\r\ninclude whatever compression programs they want (or don't want) using whatever\r\ndispatching algorithm they want.\r\n\r\nFor me, it compiles and runs fine on rust-1.27.1 both with no ``-P`` at all,\r\nwith ``-P program-using-only-stdin`` and ``-P program-using-argv1``.  The only\r\nfailing I see right now on Linux is that if you specify a bogus preprocessor\r\nlike ``rg -P /junk foo`` it does not error out at the very first file.\r\n\r\nOh, and while the shell script snippet formats fine in the --help output, the\r\nauto-generated man page corrupts it into a 2- or 3-liner with some chars\r\ndropped out.  Not sure what to do about that.  Could also just put that\r\nmaterial in GUIDE.md and drop it from the help.\r\n\r\nAlso, this is my very first significant stab at Rust work.  So, I may well\r\nhave done some things in an undesirable way.","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/981/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404874884","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404874884","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404874884,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg3NDg4NA==","user":{"login":"phiresky","id":2303841,"node_id":"MDQ6VXNlcjIzMDM4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2303841?v=4","gravatar_id":"","url":"https://api.github.com/users/phiresky","html_url":"https://github.com/phiresky","followers_url":"https://api.github.com/users/phiresky/followers","following_url":"https://api.github.com/users/phiresky/following{/other_user}","gists_url":"https://api.github.com/users/phiresky/gists{/gist_id}","starred_url":"https://api.github.com/users/phiresky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phiresky/subscriptions","organizations_url":"https://api.github.com/users/phiresky/orgs","repos_url":"https://api.github.com/users/phiresky/repos","events_url":"https://api.github.com/users/phiresky/events{/privacy}","received_events_url":"https://api.github.com/users/phiresky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T15:54:12Z","updated_at":"2018-07-13T15:54:12Z","body":"I was just looking for a way to get `pdfgrep` to not be extremely slow (due to the text extraction), and I realized that getting ripgrep to handle arbitrarly preprocessed input would be the best solution.\r\n\r\nThe only problem I can think of is printing the page numbers: pdfgrep prints them the same as `grep` would line numbers, but for searching we probably don't want to dump all text in a page into a single line. Doing this correctly / generically would need something like sourcemaps, but even without this the feature would be very useful.\r\n\r\nSearching a whole directory structure of pdf files (esp. lecture slides) is something I do all the time, and it would be great if ripgrep would support this :). Any kind of delay from executing processes is irrelevant here, since just parsing the pdf usually already takes 300ms+.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404874884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phiresky","id":2303841,"node_id":"MDQ6VXNlcjIzMDM4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2303841?v=4","gravatar_id":"","url":"https://api.github.com/users/phiresky","html_url":"https://github.com/phiresky","followers_url":"https://api.github.com/users/phiresky/followers","following_url":"https://api.github.com/users/phiresky/following{/other_user}","gists_url":"https://api.github.com/users/phiresky/gists{/gist_id}","starred_url":"https://api.github.com/users/phiresky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phiresky/subscriptions","organizations_url":"https://api.github.com/users/phiresky/orgs","repos_url":"https://api.github.com/users/phiresky/repos","events_url":"https://api.github.com/users/phiresky/events{/privacy}","received_events_url":"https://api.github.com/users/phiresky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404875226","html_url":"https://github.com/BurntSushi/ripgrep/issues/978#issuecomment-404875226","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/978","id":404875226,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDg3NTIyNg==","user":{"login":"phiresky","id":2303841,"node_id":"MDQ6VXNlcjIzMDM4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2303841?v=4","gravatar_id":"","url":"https://api.github.com/users/phiresky","html_url":"https://github.com/phiresky","followers_url":"https://api.github.com/users/phiresky/followers","following_url":"https://api.github.com/users/phiresky/following{/other_user}","gists_url":"https://api.github.com/users/phiresky/gists{/gist_id}","starred_url":"https://api.github.com/users/phiresky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phiresky/subscriptions","organizations_url":"https://api.github.com/users/phiresky/orgs","repos_url":"https://api.github.com/users/phiresky/repos","events_url":"https://api.github.com/users/phiresky/events{/privacy}","received_events_url":"https://api.github.com/users/phiresky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T15:55:15Z","updated_at":"2018-07-13T15:55:15Z","body":"Actually, nevermind: line number mappings can fairly easily be accomplished by just prefixing every line with the current page number of the pdf document.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/404875226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"phiresky","id":2303841,"node_id":"MDQ6VXNlcjIzMDM4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2303841?v=4","gravatar_id":"","url":"https://api.github.com/users/phiresky","html_url":"https://github.com/phiresky","followers_url":"https://api.github.com/users/phiresky/followers","following_url":"https://api.github.com/users/phiresky/following{/other_user}","gists_url":"https://api.github.com/users/phiresky/gists{/gist_id}","starred_url":"https://api.github.com/users/phiresky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phiresky/subscriptions","organizations_url":"https://api.github.com/users/phiresky/orgs","repos_url":"https://api.github.com/users/phiresky/repos","events_url":"https://api.github.com/users/phiresky/events{/privacy}","received_events_url":"https://api.github.com/users/phiresky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1746202781,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NDYyMDI3ODE=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1746202781","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0887977ac04c0ff720a6cf1decd7bf3c266d3b68","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/0887977ac04c0ff720a6cf1decd7bf3c266d3b68","created_at":"2018-07-21T20:18:22Z","performed_via_github_app":null},{"actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-21T20:19:46Z","updated_at":"2018-07-21T20:19:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989/events","html_url":"https://github.com/BurntSushi/ripgrep/pull/989","id":343353005,"node_id":"MDExOlB1bGxSZXF1ZXN0MjAzMDI1Mzk0","number":989,"title":"ripgrep: add --pre flag","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-07-21T20:19:46Z","updated_at":"2018-07-21T21:44:42Z","closed_at":"2018-07-21T21:25:13Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls/989","html_url":"https://github.com/BurntSushi/ripgrep/pull/989","diff_url":"https://github.com/BurntSushi/ripgrep/pull/989.diff","patch_url":"https://github.com/BurntSushi/ripgrep/pull/989.patch","merged_at":"2018-07-21T21:25:13Z"},"body":"The preprocessor flag accepts a command program and executes this\r\nprogram for every input file that is searched. Instead of searching the\r\nfile directly, ripgrep will instead search the stdout contents of the\r\nprogram.\r\n\r\nCloses #978, Closes #981\r\n\r\nThis PR is based off of @c-blake's work in #981. See [this comment](https://github.com/BurntSushi/ripgrep/pull/981#issuecomment-406821212) for a description of the differences.\r\n\r\ncc @okdana ","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/989/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1746205619,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NDYyMDU2MTk=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1746205619","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e09265e22dbf607114e79ed3703057c0d4587fd8","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/e09265e22dbf607114e79ed3703057c0d4587fd8","created_at":"2018-07-21T20:30:14Z","performed_via_github_app":null},{"id":1746219208,"node_id":"MDExOkNsb3NlZEV2ZW50MTc0NjIxOTIwOA==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1746219208","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-07-21T21:25:13Z","state_reason":null,"performed_via_github_app":null},{"id":1746219215,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NDYyMTkyMTU=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1746219215","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"231456c409ff38c75c39d01b781b569965ddf808","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/231456c409ff38c75c39d01b781b569965ddf808","created_at":"2018-07-21T21:25:14Z","performed_via_github_app":null},{"actor":{"login":"okdana","id":122095,"node_id":"MDQ6VXNlcjEyMjA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/122095?v=4","gravatar_id":"","url":"https://api.github.com/users/okdana","html_url":"https://github.com/okdana","followers_url":"https://api.github.com/users/okdana/followers","following_url":"https://api.github.com/users/okdana/following{/other_user}","gists_url":"https://api.github.com/users/okdana/gists{/gist_id}","starred_url":"https://api.github.com/users/okdana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/okdana/subscriptions","organizations_url":"https://api.github.com/users/okdana/orgs","repos_url":"https://api.github.com/users/okdana/repos","events_url":"https://api.github.com/users/okdana/events{/privacy}","received_events_url":"https://api.github.com/users/okdana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T19:20:18Z","updated_at":"2018-09-21T19:20:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/1061","id":362741311,"node_id":"MDU6SXNzdWUzNjI3NDEzMTE=","number":1061,"title":"Miscellaneous feature suggestions","user":{"login":"BatmanAoD","id":2313807,"node_id":"MDQ6VXNlcjIzMTM4MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2313807?v=4","gravatar_id":"","url":"https://api.github.com/users/BatmanAoD","html_url":"https://github.com/BatmanAoD","followers_url":"https://api.github.com/users/BatmanAoD/followers","following_url":"https://api.github.com/users/BatmanAoD/following{/other_user}","gists_url":"https://api.github.com/users/BatmanAoD/gists{/gist_id}","starred_url":"https://api.github.com/users/BatmanAoD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BatmanAoD/subscriptions","organizations_url":"https://api.github.com/users/BatmanAoD/orgs","repos_url":"https://api.github.com/users/BatmanAoD/repos","events_url":"https://api.github.com/users/BatmanAoD/events{/privacy}","received_events_url":"https://api.github.com/users/BatmanAoD/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721683,"node_id":"MDU6TGFiZWwzMzk3MjE2ODM=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/question","name":"question","color":"cc317c","default":true,"description":"An issue that is lacking clarity on one or more points."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2018-09-21T19:12:17Z","updated_at":"2018-11-24T13:14:02Z","closed_at":"2018-09-30T21:22:13Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"These are just some ideas about what features I think would make a recursive-grep tool such as RipGrep more useful.\r\n\r\nI've looked through the issues list (both open and closed) for any duplicates, and I did find one (which I deleted from my list), but otherwise I believe these are unique. If any of them are of interest, let me know if you'd like me to write up a separate tracking issue for them.\r\n\r\nAnd if you think any of them would be reasonably straightforward to implement, perhaps I could help with that as well!\r\n\r\n#### What version of ripgrep are you using?\r\n\r\n0.10.0\r\n\r\n#### How did you install ripgrep?\r\n\r\n`cargo` with the `pcre2` feature, using Rust 1.29\r\n\r\n#### What operating system are you using ripgrep on?\r\n\r\nWindows 10, \"Fall creators update\"\r\n\r\n#### Describe your question, feature request, or bug.\r\n\r\n * `--post`, comparable to `--pre`; for each file, launch the specified command with the filename as an argument, and *pipe* the output *from that file* as input\r\n    * I'm surprised I didn't see this in the issues list already; is it there and I just didn't see it?\r\n    * Together with `replace` and a bit of scripting, this would provide an easy and possibly more performant replacement for `rg -l <pattern> | perl -pi -e 's/pattern/repl/g'`. It would also *guarantee* no surprise inconsistencies between RipGrep's and Perl's interpretations of `<pattern>` (though in practice such inconsistencies are probably vanishingly rare), and could prevent typos from duplicating the pattern on the command line (though this can be avoided by creating a \"recursive search-and-replace\" shell function).\r\n * Some way to provide arguments to a `--pre` (or `--post`, if implemented) command\r\n * Some way to provide context about nearby lines, e.g. \"do not match lines that have `<pattern>` in the *previous* line.\" This would probably be especially useful in conjunction with #875.\r\n * A way to \"pre-package\" pattern elements. These could then be saved in the config file. For instance (adopting an arbitrary Perl-like syntax for the feature):\r\n\r\n       --define-pattern \"win-path /(?:[A-Z]:)?\\w+(?:\\\\?\\w+)*\r\n\r\n   I'm honestly not sure that's an accurate representation of Windows paths yet, and it's already pretty hideous. It could be used as follows (again adopting an arbitrary syntax):\r\n\r\n       rg \"[[{win-path}]]\"       # This would find lines with windows paths","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1061/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]