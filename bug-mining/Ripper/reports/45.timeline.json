[{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/252902570","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-252902570","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":252902570,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjkwMjU3MA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T12:26:26Z","updated_at":"2016-10-11T12:26:26Z","body":"Does the same happen with `0.2.1`?\n\nHow did you install `ripgrep`?\n\nCan you run `rg --help`?\n\nWhat if you run `rg -j1 anything`?\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/252902570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/252957776","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-252957776","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":252957776,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Mjk1Nzc3Ng==","user":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T15:47:33Z","updated_at":"2016-10-11T15:47:49Z","body":"> Does the same happen with 0.2.1?\n\nNo. 0.2.1 works right.\n\n> How did you install ripgrep?\n\nManually. I downloaded the x86_64 darwign package, and copied `rg`to `/usr/local/bin` and `rg.1` to `/usr/local/share/man/man1`.\n\n> Can you run rg --help?\n\nYes.\n\n> What if you run rg -j1 anything?\n\nSame. Segfault.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/252957776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820128557,"node_id":"MDEyOkxhYmVsZWRFdmVudDgyMDEyODU1Nw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820128557","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-10-11T21:07:20Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253046533","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253046533","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253046533,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA0NjUzMw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:07:32Z","updated_at":"2016-10-11T21:07:32Z","body":"I can reproduce this on Yosemite:\n\n```\nmac:ripgrep andrew$ system_profiler SPSoftwareDataType\nSoftware:\n\n    System Software Overview:\n\n      System Version: OS X 10.10.5 (14F1808)\n      Kernel Version: Darwin 14.5.0\n      Boot Volume: Macintosh HD\n      Boot Mode: Normal\n      Computer Name: mac\n      User Name: Andrew Gallant (andrew)\n      Secure Virtual Memory: Enabled\n      Time since boot: 35 days 22:43\n```\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253046533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253050669","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253050669","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253050669,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1MDY2OQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:22:46Z","updated_at":"2016-10-11T21:22:46Z","body":"This looks like the specific point of failure:\n\n```\n==40663== Process terminating with default action of signal 11 (SIGSEGV)\n==40663==  General Protection Fault\n==40663==    at 0x100017A7B: rg::gitignore::Gitignore::matched_stripped::hdea6753d4bbf5227 (mem.rs:452)\n==40663==    by 0x10001AADA: rg::ignore::IgnoreDir::matched::hac186e75072c724e (gitignore.rs:131)\n==40663==    by 0x100031FFD: rg::run::h729464c93a862527 (ignore.rs:233)\n==40663==    by 0x10002C95B: rg::main::h4d3f7b1f43247509 (result.rs:601)\n==40663==    by 0x10010AFBA: __rust_maybe_catch_panic (in ./target/release/rg)\n==40663==    by 0x100109566: std::rt::lang_start::h14cbded5fe3cd915 (in ./target/release/rg)\n==40663==    by 0x1003605C8: start (in /usr/lib/system/libdyld.dylib)\n==40663==    by 0x1: ???\n==40663==    by 0x104A24D0E: ???\n==40663==    by 0x104A24D22: ???\n```\n\nThis points back into the implementation of `std::mem::swap`, which doesn't make a lot of sense.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253050669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253051344","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253051344","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253051344,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1MTM0NA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:25:20Z","updated_at":"2016-10-11T21:25:20Z","body":"I can reproduce this when compiling from source, but only on Mac, not Linux.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253051344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253052738","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253052738","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253052738,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1MjczOA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:30:43Z","updated_at":"2016-10-11T21:30:43Z","body":"A debug build does not segfault.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253052738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253054013","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253054013","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253054013,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1NDAxMw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:35:47Z","updated_at":"2016-10-11T21:35:47Z","body":"_sigh_ It looks like this is happening because of thread locals. I don't believe I'm misusing them, but if I remove the thread local, things work again.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253054013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253055074","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253055074","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253055074,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1NTA3NA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:40:10Z","updated_at":"2016-10-11T21:40:26Z","body":"To clarify, I changed this code:\n\n``` rust\n    pub fn matched_stripped(&self, path: &Path, is_dir: bool) -> Match {\n        thread_local! {\n            static MATCHES: RefCell<Vec<usize>> = {\n                RefCell::new(vec![])\n            }\n        };\n        MATCHES.with(|matches| {\n            let mut matches = matches.borrow_mut();\n            let candidate = Candidate::new(path);\n            self.set.matches_candidate_into(&candidate, &mut *matches);\n            for &i in matches.iter().rev() {\n                let pat = &self.patterns[i];\n                if !pat.only_dir || is_dir {\n                    return if pat.whitelist {\n                        Match::Whitelist(pat)\n                    } else {\n                        Match::Ignored(pat)\n                    };\n                }\n            }\n            Match::None\n        })\n    }\n```\n\nto this:\n\n``` rust\n    pub fn matched_stripped(&self, path: &Path, is_dir: bool) -> Match {\n        let mut matches = vec![];\n        let candidate = Candidate::new(path);\n        self.set.matches_candidate_into(&candidate, &mut matches);\n        for &i in matches.iter().rev() {\n            let pat = &self.patterns[i];\n            if !pat.only_dir || is_dir {\n                return if pat.whitelist {\n                    Match::Whitelist(pat)\n                } else {\n                    Match::Ignored(pat)\n                };\n            }\n        }\n        Match::None\n    }\n```\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253055074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253056867","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253056867","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253056867,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1Njg2Nw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:48:14Z","updated_at":"2016-10-11T21:48:14Z","body":"Compiling with Rust stable works. Compiling with Rust beta or nightly yields the sigsegv above.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253056867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253056880","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253056880","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253056880,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1Njg4MA==","user":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:48:17Z","updated_at":"2016-10-11T21:48:17Z","body":"Not sure if (still) relevant, but I found this.\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1164109\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253056880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253057184","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253057184","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253057184,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1NzE4NA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:49:34Z","updated_at":"2016-10-11T21:49:34Z","body":"@elmart Hmm that looks related to OS X 10.6 or older.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253057184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820180692,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMTgwNjky","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820180692","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T21:49:34Z","performed_via_github_app":null},{"id":820180693,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDE4MDY5Mw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820180693","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T21:49:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253058285","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253058285","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253058285,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1ODI4NQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:54:11Z","updated_at":"2016-10-11T21:54:11Z","body":"I can't seem to come up with a minimally reproducible example. Trying this works fine on Rust beta/nightly on Mac:\n\n``` rust\nuse std::cell::RefCell;\n\nfn foo(n: usize) -> bool {\n    thread_local! {\n        static MATCHES: RefCell<Vec<usize>> = {\n            RefCell::new(vec![])\n        }\n    };\n    MATCHES.with(|matches| {\n        let mut matches = matches.borrow_mut();\n        matches.clear();\n        for i in 0..n {\n            matches.push(i);\n        }\n        for &i in matches.iter().rev() {\n            if i > 0 && i % 7 == 0 {\n                return true;\n            }\n        }\n        false\n    })\n}\n\nfn main() {\n    println!(\"{}\", foo(::std::env::args().count()));\n    println!(\"{}\", foo(::std::env::args().count() * 2));\n}\n```\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253058285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253058498","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253058498","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253058498,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA1ODQ5OA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T21:55:13Z","updated_at":"2016-10-11T21:55:31Z","body":"cc @alexcrichton Do you have any ideas about this? TL;DR - I'm seeing a segfault on macos (not Linux) from using thread locals on current Rust beta/nightly, but _not_ on current Rust stable. Efforts to repro a small example have failed. :-(\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253058498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820187191,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMTg3MTkx","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820187191","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T21:55:13Z","performed_via_github_app":null},{"id":820187192,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDE4NzE5Mg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820187192","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T21:55:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253062147","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253062147","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253062147,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA2MjE0Nw==","user":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T22:10:44Z","updated_at":"2016-10-11T22:10:44Z","body":"Oh dear, sounds quite suspicious! The only funkiness I know of with OSX and thread locals has to do with destructors _maybe_, but there's no interesting destructors here.\n\n@BurntSushi what's the current reproduction? (large or small).\n\nThis is quite worrisome!\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253062147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820203719,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMjAzNzE5","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820203719","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T22:10:44Z","performed_via_github_app":null},{"id":820203721,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDIwMzcyMQ==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820203721","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T22:10:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253064557","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253064557","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253064557,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA2NDU1Nw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T22:21:59Z","updated_at":"2016-10-11T22:21:59Z","body":"@alexcrichton This should do it:\n\n```\n$ git clone git://github.com/BurntSushi/ripgrep\n$ cd ripgrep\n$ git checkout 0.2.2\n$ cargo build --release\n$ ./target/release/rg cpu\nSegmentation fault: 11\n```\n\n(I'm about to commit a work around that stops using thread locals, so this issue is hopefully going to get closed, but it's not because I've figured out the underlying problem. :-))\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253064557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820215063,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMjE1MDYz","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820215063","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T22:21:59Z","performed_via_github_app":null},{"id":820215064,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDIxNTA2NA==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820215064","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T22:21:59Z","performed_via_github_app":null},{"id":820220241,"node_id":"MDExOkNsb3NlZEV2ZW50ODIwMjIwMjQx","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820220241","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"247a9398f4dd1903ed561aa1bb2ba088a70c5a79","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/247a9398f4dd1903ed561aa1bb2ba088a70c5a79","created_at":"2016-10-11T22:26:58Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253065793","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253065793","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253065793,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA2NTc5Mw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T22:27:37Z","updated_at":"2016-10-11T22:27:37Z","body":"I've fixed this on master and will put out a `0.2.3` tonight.\n\n(The fix was to switch to the `thread_local` crate.)\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253065793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253068147","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253068147","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253068147,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA2ODE0Nw==","user":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T22:38:15Z","updated_at":"2016-10-11T22:38:15Z","body":"The plot thickens! I can't seem to reproduce...\n\n```\n$ system_profiler SPSoftwareDataType\nSoftware:\n\n    System Software Overview:\n\n      System Version: macOS 10.12 (16A323)\n      Kernel Version: Darwin 16.0.0\n      Boot Volume: Macintosh HD\n      Boot Mode: Normal\n      Computer Name: e95b3ef3e8a3ef74\n      User Name: Alexander Crichton (acrichton)\n      Secure Virtual Memory: Enabled\n      System Integrity Protection: Enabled\n      Time since boot: 15 days 18:28\n\n$ git rev-parse HEAD\n4981991a6e4d1808d54c8d20fc4d93fcf0c1abfe\n$ rustc +nightly -vV\nrustc 1.14.0-nightly (a3bc191b5 2016-10-10)                \nbinary: rustc                                              \ncommit-hash: a3bc191b5f41df5143cc65084b13999896411817      \ncommit-date: 2016-10-10                                    \nhost: x86_64-apple-darwin                                  \nrelease: 1.14.0-nightly                                    \n$ cargo +nightly build --release\n...\n$ ./target/release/rg cpu\n...\n```\n\n(no segfaults)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253068147/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253079649","html_url":"https://github.com/BurntSushi/ripgrep/issues/164#issuecomment-253079649","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/164","id":253079649,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzA3OTY0OQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-11T23:46:20Z","updated_at":"2016-10-11T23:46:20Z","body":"ripgrep `0.2.3` should be out momentarily. Thanks for reporting this @elmart!\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/253079649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":820287253,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODIwMjg3MjUz","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820287253","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-10-11T23:46:20Z","performed_via_github_app":null},{"id":820287254,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMDI4NzI1NA==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/820287254","actor":{"login":"elmart","id":135757,"node_id":"MDQ6VXNlcjEzNTc1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/135757?v=4","gravatar_id":"","url":"https://api.github.com/users/elmart","html_url":"https://github.com/elmart","followers_url":"https://api.github.com/users/elmart/followers","following_url":"https://api.github.com/users/elmart/following{/other_user}","gists_url":"https://api.github.com/users/elmart/gists{/gist_id}","starred_url":"https://api.github.com/users/elmart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmart/subscriptions","organizations_url":"https://api.github.com/users/elmart/orgs","repos_url":"https://api.github.com/users/elmart/repos","events_url":"https://api.github.com/users/elmart/events{/privacy}","received_events_url":"https://api.github.com/users/elmart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-10-11T23:46:20Z","performed_via_github_app":null}]