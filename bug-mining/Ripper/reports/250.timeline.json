[{"id":1102104055,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMDIxMDQwNTU=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1102104055","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-30T11:09:56Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":1102104056,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMDIxMDQwNTY=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1102104056","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-30T11:09:56Z","label":{"name":"question","color":"cc317c"},"performed_via_github_app":null},{"actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T11:17:44Z","updated_at":"2017-05-30T11:17:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/493","id":231861005,"node_id":"MDU6SXNzdWUyMzE4NjEwMDU=","number":493,"title":"Unable to use on queries that start with singlequote,' ,ascii char 39","user":{"login":"pindash","id":2152033,"node_id":"MDQ6VXNlcjIxNTIwMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2152033?v=4","gravatar_id":"","url":"https://api.github.com/users/pindash","html_url":"https://github.com/pindash","followers_url":"https://api.github.com/users/pindash/followers","following_url":"https://api.github.com/users/pindash/following{/other_user}","gists_url":"https://api.github.com/users/pindash/gists{/gist_id}","starred_url":"https://api.github.com/users/pindash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pindash/subscriptions","organizations_url":"https://api.github.com/users/pindash/orgs","repos_url":"https://api.github.com/users/pindash/repos","events_url":"https://api.github.com/users/pindash/events{/privacy}","received_events_url":"https://api.github.com/users/pindash/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721678,"node_id":"MDU6TGFiZWwzMzk3MjE2Nzg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/bug","name":"bug","color":"fc2929","default":true,"description":"A bug."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-05-28T10:46:14Z","updated_at":"2017-05-30T22:05:45Z","closed_at":"2017-05-29T13:54:25Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Steps to reproduce:\r\nrg -F \" 're \" -o -w input.txt\r\nthread 'main' panicked at 'called `Option::unwrap()` on a `None` value', /checkout/src/libcore/option.rs:323\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n\r\nIt appears that the combination of asking rg to only return matches and word breaks causes the return value to to be empty. \r\n\r\nRunning :\r\nrg -F \"'re\" -o input.txt\r\n\r\nWorks well, and running with just -w flag also works. \r\n\r\nAlso if any other char begins the query, then everything works as well.\r\n","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/493/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/304851966","html_url":"https://github.com/BurntSushi/ripgrep/issues/497#issuecomment-304851966","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/497","id":304851966,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDg1MTk2Ng==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T11:37:47Z","updated_at":"2017-05-30T11:38:08Z","body":"> The first issue is known. ripgrep should use Aho-Corasick explicitly when -F is provided with multiple patterns.\r\n\r\nTo add more context to this: right now, we take all of the patterns and join them together and sprinkle a `|` between each pattern. This works fine for small lists, but for large lists, it's not so great. Not only does it have to go through the entire regex parsing/compiling machinery, but the automaton construction itself is going to be quite wasteful. Instead, ripgrep should explicitly construct an Aho-Corasick automaton when it knows all of the patterns are literals using the `aho-corasick` crate. While this is conceptually simple to do, it requires plumbing an `aho_corasick::AcAutomaton` (or perhaps `aho_corasick::FullAcAutomaton` for small sets of literals for faster searching) through all of the search code, which is current hard-coded to take a `Regex`. We could do this by either introducing an enum of possible strategies, or using generics. There's a lot of code that knows about a `Regex`, so I worry about the hit on compilation time if we force the compiler to monomorphize all of that. Using an enum requires a branch for every search, but this intuitively feels fine since the branch predictor should make that effectively free.\r\n\r\nWith all that said, it might be wise to tackle this in libripgrep rather than trying to force it into the existing infrastructure.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/304851966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1102141658,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMDIxNDE2NTg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1102141658","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-05-30T11:38:11Z","label":{"name":"libripgrep","color":"e99695"},"performed_via_github_app":null},{"id":1102141722,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDExMDIxNDE3MjI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1102141722","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2017-05-30T11:38:14Z","milestone":{"title":"libripgrep"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/311716671","html_url":"https://github.com/BurntSushi/ripgrep/issues/497#issuecomment-311716671","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/497","id":311716671,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTcxNjY3MQ==","user":{"login":"pevalme","id":5578864,"node_id":"MDQ6VXNlcjU1Nzg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5578864?v=4","gravatar_id":"","url":"https://api.github.com/users/pevalme","html_url":"https://github.com/pevalme","followers_url":"https://api.github.com/users/pevalme/followers","following_url":"https://api.github.com/users/pevalme/following{/other_user}","gists_url":"https://api.github.com/users/pevalme/gists{/gist_id}","starred_url":"https://api.github.com/users/pevalme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pevalme/subscriptions","organizations_url":"https://api.github.com/users/pevalme/orgs","repos_url":"https://api.github.com/users/pevalme/repos","events_url":"https://api.github.com/users/pevalme/events{/privacy}","received_events_url":"https://api.github.com/users/pevalme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T16:37:04Z","updated_at":"2017-06-28T16:39:43Z","body":"I've found some interesting results related to the performance of `rg -f` on big sets of regexs.\r\n\r\nFor the experiments I'll describe I have used [a 100 MB English subtitles file](https://drive.google.com/file/d/0B3oOQ14-tellNzhlU0tKT2xFSW8/view) and a [big set of 580 regular expressions](https://drive.google.com/file/d/0B3oOQ14-tellOG5WcXBlRmFWY00/view).\r\n\r\nLet's feed `rg` with the first 100 regular expressions of the file; with these 100 regexs plus regex \"a\" and with these 100 regex plus regex \"\\\\.\". In my machine (Intel(R) Core(TM) i5-5200U CPU @ 2.20GHz; 4 Cores; 8 GB RAM), I get the following results (time given in minutes:seconds):\r\n\r\n| Command | 100 regex | 100 + \"a\" | 100 + \"\\\\.\" |\r\n| --- | :-: | :-: | :-: |\r\n| ` rg -f file --dfa-size-limit=10M` | 4:17  | 0:08 | 1:53 |\r\n| ` rg -f file --dfa-size-limit=50M` | 2:58 | 0:06 | 0:57 |\r\n| ` rg -f file --dfa-size-limit=100M` | 0:52 | 0:06 | 0:20 |\r\n| ` rg -f file --dfa-size-limit=200M` | 0:10 | 0:06 | 0:15 |\r\n| ` rg -f file --dfa-size-limit=500M` | 0:08 | 0:06 | 0:14 |\r\n| ` rg -f file --dfa-size-limit=1G` | 0:08 | 0:06 | 0:14 |\r\n\r\n### Why \"a\" and \"\\\\.\"?\r\nBecause each of these two regular expression matches most of the lines in the file (2319098 and 2207743 out of  3414821, respectively) while there is a great difference between them: **the letter 'a' uses to appear  within the first characters of any line while the dot uses to appear only at the end each line**.\r\n\r\n### My guess\r\nAccording to what I have read, `rg` is doing a lazy determinization of the NFA that represents the big regex (an OR of all patterns). From time to time, due to the space limit for storing the DFA, `rg` removes the least used parts of it, having to built them again when needed. \r\n\r\nBy adding the regex \"a\", the NFA reaches a final state _fast_ (in terms of the number of symbols of the line read before reaching it) and the required DFA remains small, without reaching the 10M bound and, thus, it is built only once. \r\n\r\nThe case in which the regex \"\\\\.\" is added instead of \"a\" could also be explained this way. \r\nSince the dot uses to appear only at the end of each string, the NFA is much _less fast_. Thus, the advantage of adding this regex is not that big since most of the transitions required to check whether a line matches the NFA before adding it are still taking place. Basically, the DFA is bigger now since longer substrings must be matched against the NFA before deciding if the whole line matches or not.\r\nNevertheless, since lines in this example are generally short, the DFA remains smaller than in the _100 regex_ case.\r\n\r\n### Conclusion\r\nIt seems that detecting all matches of a big OR regex in a single line works really fast. However, the algorithm deciding whether a line matches the NFA suffers from the DFA-memory bound. Besides, even when the memory is not a problem, a simple regex that matches _fast_ the line greatly improves the performance of `rg`.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/311716671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pevalme","id":5578864,"node_id":"MDQ6VXNlcjU1Nzg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5578864?v=4","gravatar_id":"","url":"https://api.github.com/users/pevalme","html_url":"https://github.com/pevalme","followers_url":"https://api.github.com/users/pevalme/followers","following_url":"https://api.github.com/users/pevalme/following{/other_user}","gists_url":"https://api.github.com/users/pevalme/gists{/gist_id}","starred_url":"https://api.github.com/users/pevalme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pevalme/subscriptions","organizations_url":"https://api.github.com/users/pevalme/orgs","repos_url":"https://api.github.com/users/pevalme/repos","events_url":"https://api.github.com/users/pevalme/events{/privacy}","received_events_url":"https://api.github.com/users/pevalme/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/311719249","html_url":"https://github.com/BurntSushi/ripgrep/issues/497#issuecomment-311719249","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/497","id":311719249,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTcxOTI0OQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T16:46:41Z","updated_at":"2017-06-28T16:46:57Z","body":"@pevalme Great analysis! I think I agree with all of it. There's probably some general advice that should be mentioned in the docs of `-f` that says that if you're trying to match against a large set of regexes, then you probably want to increase the DFA size limit using `--dfa-size-limit`. We could also just use a very large default value, since it represents a *limit*, to reduce the number of cases where `--dfa-size-limit` is needed.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/311719249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1142736306,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE0MjczNjMwNg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1142736306","actor":{"login":"pevalme","id":5578864,"node_id":"MDQ6VXNlcjU1Nzg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5578864?v=4","gravatar_id":"","url":"https://api.github.com/users/pevalme","html_url":"https://github.com/pevalme","followers_url":"https://api.github.com/users/pevalme/followers","following_url":"https://api.github.com/users/pevalme/following{/other_user}","gists_url":"https://api.github.com/users/pevalme/gists{/gist_id}","starred_url":"https://api.github.com/users/pevalme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pevalme/subscriptions","organizations_url":"https://api.github.com/users/pevalme/orgs","repos_url":"https://api.github.com/users/pevalme/repos","events_url":"https://api.github.com/users/pevalme/events{/privacy}","received_events_url":"https://api.github.com/users/pevalme/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-06-28T16:46:41Z","performed_via_github_app":null},{"id":1142736307,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNDI3MzYzMDc=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1142736307","actor":{"login":"pevalme","id":5578864,"node_id":"MDQ6VXNlcjU1Nzg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5578864?v=4","gravatar_id":"","url":"https://api.github.com/users/pevalme","html_url":"https://github.com/pevalme","followers_url":"https://api.github.com/users/pevalme/followers","following_url":"https://api.github.com/users/pevalme/following{/other_user}","gists_url":"https://api.github.com/users/pevalme/gists{/gist_id}","starred_url":"https://api.github.com/users/pevalme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pevalme/subscriptions","organizations_url":"https://api.github.com/users/pevalme/orgs","repos_url":"https://api.github.com/users/pevalme/repos","events_url":"https://api.github.com/users/pevalme/events{/privacy}","received_events_url":"https://api.github.com/users/pevalme/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-06-28T16:46:41Z","performed_via_github_app":null},{"actor":{"login":"victoriastuart","id":2575920,"node_id":"MDQ6VXNlcjI1NzU5MjA=","avatar_url":"https://avatars.githubusercontent.com/u/2575920?v=4","gravatar_id":"","url":"https://api.github.com/users/victoriastuart","html_url":"https://github.com/victoriastuart","followers_url":"https://api.github.com/users/victoriastuart/followers","following_url":"https://api.github.com/users/victoriastuart/following{/other_user}","gists_url":"https://api.github.com/users/victoriastuart/gists{/gist_id}","starred_url":"https://api.github.com/users/victoriastuart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victoriastuart/subscriptions","organizations_url":"https://api.github.com/users/victoriastuart/orgs","repos_url":"https://api.github.com/users/victoriastuart/repos","events_url":"https://api.github.com/users/victoriastuart/events{/privacy}","received_events_url":"https://api.github.com/users/victoriastuart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-07T20:02:24Z","updated_at":"2018-01-07T20:02:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/362","id":207319168,"node_id":"MDU6SXNzdWUyMDczMTkxNjg=","number":362,"title":"Compiled regex exceeds size limit of 10485760 bytes.","user":{"login":"GenomicaMicrob","id":20482577,"node_id":"MDQ6VXNlcjIwNDgyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/20482577?v=4","gravatar_id":"","url":"https://api.github.com/users/GenomicaMicrob","html_url":"https://github.com/GenomicaMicrob","followers_url":"https://api.github.com/users/GenomicaMicrob/followers","following_url":"https://api.github.com/users/GenomicaMicrob/following{/other_user}","gists_url":"https://api.github.com/users/GenomicaMicrob/gists{/gist_id}","starred_url":"https://api.github.com/users/GenomicaMicrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GenomicaMicrob/subscriptions","organizations_url":"https://api.github.com/users/GenomicaMicrob/orgs","repos_url":"https://api.github.com/users/GenomicaMicrob/repos","events_url":"https://api.github.com/users/GenomicaMicrob/events{/privacy}","received_events_url":"https://api.github.com/users/GenomicaMicrob/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721680,"node_id":"MDU6TGFiZWwzMzk3MjE2ODA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"An enhancement to the functionality of the software."},{"id":339721681,"node_id":"MDU6TGFiZWwzMzk3MjE2ODE=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/help%20wanted","name":"help wanted","color":"159818","default":true,"description":"Others are encouraged to work on this issue."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2017-02-13T19:43:51Z","updated_at":"2024-08-07T12:48:07Z","closed_at":"2017-04-12T22:14:33Z","author_association":"NONE","active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, I am trying to use a file with more then 8,000 entries (10-20 letter words, one per line. 132K) and get their corresponding lines in a big file (645,151lines, 76M). I use:\r\n`rg -w -f query_file target_file`\r\n\r\nI get the error: `Compiled regex exceeds size limit of 10485760 bytes.`\r\nHow can I configure it to allow rg to run without the limit?","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/362/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1796361026,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTc5NjM2MTAyNg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1796361026","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2018-08-19T14:08:00Z","label":{"name":"libripgrep","color":"e99695"},"performed_via_github_app":null},{"id":1796361037,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MTc5NjM2MTAzNw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1796361037","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2018-08-19T14:08:02Z","milestone":{"title":"libripgrep"},"performed_via_github_app":null},{"id":2099441131,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwOTk0NDExMzE=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/2099441131","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-01-27T18:12:34Z","label":{"name":"icebox","color":"d4c5f9"},"performed_via_github_app":null},{"id":2258209418,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNTgyMDk0MTg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/2258209418","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7940a95bc2ee7af6f51a69c9c8d5523221ca7cd5","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/7940a95bc2ee7af6f51a69c9c8d5523221ca7cd5","created_at":"2019-04-07T22:44:41Z","performed_via_github_app":null},{"actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-07T22:45:01Z","updated_at":"2019-04-07T22:45:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238/events","html_url":"https://github.com/BurntSushi/ripgrep/pull/1238","id":430201408,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY4MTQzOTQ4","number":1238,"title":"regex: make multi-literal searcher faster","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-07T22:45:01Z","updated_at":"2019-04-07T23:11:25Z","closed_at":"2019-04-07T23:11:04Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls/1238","html_url":"https://github.com/BurntSushi/ripgrep/pull/1238","diff_url":"https://github.com/BurntSushi/ripgrep/pull/1238.diff","patch_url":"https://github.com/BurntSushi/ripgrep/pull/1238.patch","merged_at":"2019-04-07T23:11:04Z"},"body":"This makes the case of searching for a dictionary of a very large number\r\nof literals much much faster. (~10x or so.) In particular, we achieve this\r\nby short-circuiting the construction of a full regex when we know we have\r\na simple alternation of literals. Building the regex for a large dictionary\r\n(>100,000 literals) turns out to be quite slow, even if it internally will\r\ndispatch to Aho-Corasick.\r\n\r\nEven that isn't quite enough. It turns out that even *parsing* such a regex\r\nis quite slow. So when the -F/--fixed-strings flag is set, we short\r\ncircuit regex parsing completely and jump straight to Aho-Corasick.\r\n\r\nWe aren't quite as fast as GNU grep here, but it's much closer (less than\r\n2x slower).\r\n\r\nIn general, this is somewhat of a hack. In particular, it seems plausible\r\nthat this optimization could be implemented entirely in the regex engine.\r\nUnfortunately, the regex engine's internals are just not amenable to this\r\nat all, so it would require a larger refactoring effort. For now, it's\r\ngood enough to add this fairly simple hack at a higher level.\r\n\r\nUnfortunately, if you don't pass -F/--fixed-strings, then ripgrep will\r\nbe slower, because of the aforementioned missing optimization. Moreover,\r\npassing flags like `-i` or `-S` will cause ripgrep to abandon this\r\noptimization and fall back to something potentially much slower. Again,\r\nthis fix really needs to happen inside the regex engine, although we\r\nmight be able to special case -i when the input literals are pure ASCII\r\nvia Aho-Corasick's `ascii_case_insensitive`.\r\n\r\nFixes #497, Fixes #838","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1238/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2258223082,"node_id":"MDExOkNsb3NlZEV2ZW50MjI1ODIyMzA4Mg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/2258223082","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-07T23:11:04Z","state_reason":null,"performed_via_github_app":null},{"id":2258223097,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNTgyMjMwOTc=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/2258223097","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"09108b7fda7af6db7c1c4f0366301f9a21cc485d","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/09108b7fda7af6db7c1c4f0366301f9a21cc485d","created_at":"2019-04-07T23:11:05Z","performed_via_github_app":null}]