[{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/431325831","html_url":"https://github.com/BurntSushi/ripgrep/issues/1087#issuecomment-431325831","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1087","id":431325831,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTMyNTgzMQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-19T10:58:17Z","updated_at":"2018-10-19T11:00:11Z","body":"Thanks for the easy reproduction! Much appreciated.\r\n\r\nThis is unfortunately a case where ripgrep's literal optimizations end up making it slower rather than faster. The presence of literal optimizations virtually guarantees that cases like this exist, although we might consider some common sense heuristics to improve it. e.g., If all detected literals are just whitespace, then it's probably better not to use them. That would be a fairly easy change in `grep-regex/src/literal.rs`.\r\n\r\nYou can test this by trying ripgrep with PCRE2. For example,  `rg '[ \\t]$' -P -U --no-pcre2-unicode --mmap` runs faster on my machine than `ag '[ \\t]$'`. In particular, the flags given to ripgrep here enable the same performance profile as ag, albeit with PCRE2 instead of PCRE1. Similarly, `rg '\\s$'` runs quite a bit faster than `ag '\\s$'` (although, `rg -U '\\s$'` is the more accurate comparison, but still runs quite a bit faster) precisely because `\\s` prevents literal detection from happening since there are too many of them.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/431325831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1914473352,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTkxNDQ3MzM1Mg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1914473352","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-10-19T10:58:55Z","rename":{"from":"rg is much slower than ag when searching for the `'[ \\t]$'` regex.","to":"ripgrep is slow when detecting whitespace literals, e.g., `'[ \\t]$'`"},"performed_via_github_app":null},{"id":1914475890,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5MTQ0NzU4OTA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/1914475890","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-19T11:00:16Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/431508678","html_url":"https://github.com/BurntSushi/ripgrep/issues/1087#issuecomment-431508678","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1087","id":431508678,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMTUwODY3OA==","user":{"login":"shlomif","id":3150,"node_id":"MDQ6VXNlcjMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/3150?v=4","gravatar_id":"","url":"https://api.github.com/users/shlomif","html_url":"https://github.com/shlomif","followers_url":"https://api.github.com/users/shlomif/followers","following_url":"https://api.github.com/users/shlomif/following{/other_user}","gists_url":"https://api.github.com/users/shlomif/gists{/gist_id}","starred_url":"https://api.github.com/users/shlomif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shlomif/subscriptions","organizations_url":"https://api.github.com/users/shlomif/orgs","repos_url":"https://api.github.com/users/shlomif/repos","events_url":"https://api.github.com/users/shlomif/events{/privacy}","received_events_url":"https://api.github.com/users/shlomif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-19T21:45:54Z","updated_at":"2018-10-19T21:45:54Z","body":"On Fri, 19 Oct 2018 03:58:27 -0700\nAndrew Gallant <notifications@github.com> wrote:\n\n> This is unfortunately a case where ripgrep's literal optimizations end up\n> making it slower rather than faster. The presence of literal optimizations\n> virtually guarantees that cases like this exist, although we might consider\n> some common sense heuristics to improve it. e.g., If all detected literals\n> are just whitespace, then it's probably better not to use them. That would be\n> a fairly easy change in `grep-regex/src/literal.rs`.\n> \n> You can test this by trying ripgrep with PCRE2. For example,  `rg '[ \\t]$' -P\n> -U --no-pcre2-unicode --mmap` runs faster on my machine than `ag '[ \\t]$'`.\n> In particular, the flags given to ripgrep here enable the same performance\n> profile as ag, albeit with PCRE2 instead of PCRE1. Similarly, `rg '\\s$'` runs\n> quite a bit faster than `ag '\\s$'` (although, `rg -U '\\s$'` is the more\n> accurate comparison, but still runs quite a bit faster).\n> \n\nthanks for the reply.\n\n-- \n-----------------------------------------------------------------\nShlomi Fish       http://www.shlomifish.org/\nList of Networking Clients - http://shlom.in/net-clients\n\nI achieved my fast times by multitudes of 1% reductions.\nâ€” Bill Raymond in\nhttps://groups.yahoo.com/neo/groups/fc-solve-discuss/conversations/messages/222\n\nPlease reply to list if it's a mailing list post - http://shlom.in/reply .\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/431508678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shlomif","id":3150,"node_id":"MDQ6VXNlcjMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/3150?v=4","gravatar_id":"","url":"https://api.github.com/users/shlomif","html_url":"https://github.com/shlomif","followers_url":"https://api.github.com/users/shlomif/followers","following_url":"https://api.github.com/users/shlomif/following{/other_user}","gists_url":"https://api.github.com/users/shlomif/gists{/gist_id}","starred_url":"https://api.github.com/users/shlomif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shlomif/subscriptions","organizations_url":"https://api.github.com/users/shlomif/orgs","repos_url":"https://api.github.com/users/shlomif/repos","events_url":"https://api.github.com/users/shlomif/events{/privacy}","received_events_url":"https://api.github.com/users/shlomif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3130675045,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxMzA2NzUwNDU=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3130675045","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-15T16:02:59Z","label":{"name":"rollup","color":"ffccee"},"performed_via_github_app":null},{"id":3130717429,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMxMzA3MTc0Mjk=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3130717429","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"01c4ba9fd8d41b7a15434c604c1a801afc5e0c34","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/01c4ba9fd8d41b7a15434c604c1a801afc5e0c34","created_at":"2020-03-15T16:43:23Z","performed_via_github_app":null},{"id":3130747870,"node_id":"MDExOkNsb3NlZEV2ZW50MzEzMDc0Nzg3MA==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3130747870","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"e772a95b58b77604e9a4657e949431539ec15b08","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/e772a95b58b77604e9a4657e949431539ec15b08","created_at":"2020-03-15T17:19:18Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/599240275","html_url":"https://github.com/BurntSushi/ripgrep/issues/1087#issuecomment-599240275","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1087","id":599240275,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTI0MDI3NQ==","user":{"login":"shlomif","id":3150,"node_id":"MDQ6VXNlcjMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/3150?v=4","gravatar_id":"","url":"https://api.github.com/users/shlomif","html_url":"https://github.com/shlomif","followers_url":"https://api.github.com/users/shlomif/followers","following_url":"https://api.github.com/users/shlomif/following{/other_user}","gists_url":"https://api.github.com/users/shlomif/gists{/gist_id}","starred_url":"https://api.github.com/users/shlomif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shlomif/subscriptions","organizations_url":"https://api.github.com/users/shlomif/orgs","repos_url":"https://api.github.com/users/shlomif/repos","events_url":"https://api.github.com/users/shlomif/events{/privacy}","received_events_url":"https://api.github.com/users/shlomif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T17:31:19Z","updated_at":"2020-03-15T17:31:19Z","body":"Thanks for fixing it, @BurntSushi ! :+1: ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/599240275/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shlomif","id":3150,"node_id":"MDQ6VXNlcjMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/3150?v=4","gravatar_id":"","url":"https://api.github.com/users/shlomif","html_url":"https://github.com/shlomif","followers_url":"https://api.github.com/users/shlomif/followers","following_url":"https://api.github.com/users/shlomif/following{/other_user}","gists_url":"https://api.github.com/users/shlomif/gists{/gist_id}","starred_url":"https://api.github.com/users/shlomif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shlomif/subscriptions","organizations_url":"https://api.github.com/users/shlomif/orgs","repos_url":"https://api.github.com/users/shlomif/repos","events_url":"https://api.github.com/users/shlomif/events{/privacy}","received_events_url":"https://api.github.com/users/shlomif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3130759546,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzEzMDc1OTU0Ng==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3130759546","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-15T17:31:19Z","performed_via_github_app":null},{"id":3130759548,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxMzA3NTk1NDg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3130759548","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-15T17:31:19Z","performed_via_github_app":null},{"id":13413906999,"node_id":"REFE_lADOAzJbyc4WKkaozwAAAAMfh_o3","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/13413906999","actor":{"login":"kyagi","id":90729,"node_id":"MDQ6VXNlcjkwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/90729?v=4","gravatar_id":"","url":"https://api.github.com/users/kyagi","html_url":"https://github.com/kyagi","followers_url":"https://api.github.com/users/kyagi/followers","following_url":"https://api.github.com/users/kyagi/following{/other_user}","gists_url":"https://api.github.com/users/kyagi/gists{/gist_id}","starred_url":"https://api.github.com/users/kyagi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyagi/subscriptions","organizations_url":"https://api.github.com/users/kyagi/orgs","repos_url":"https://api.github.com/users/kyagi/repos","events_url":"https://api.github.com/users/kyagi/events{/privacy}","received_events_url":"https://api.github.com/users/kyagi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e772a95b58b77604e9a4657e949431539ec15b08","commit_url":"https://api.github.com/repos/kyagi/ripgrep/commits/e772a95b58b77604e9a4657e949431539ec15b08","created_at":"2024-07-07T11:30:08Z","performed_via_github_app":null}]