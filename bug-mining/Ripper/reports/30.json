{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/19","id":178925793,"node_id":"MDU6SXNzdWUxNzg5MjU3OTM=","number":19,"title":"Hangs when searching recursively under Cygwin","user":{"login":"vadz","id":146917,"node_id":"MDQ6VXNlcjE0NjkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/146917?v=4","gravatar_id":"","url":"https://api.github.com/users/vadz","html_url":"https://github.com/vadz","followers_url":"https://api.github.com/users/vadz/followers","following_url":"https://api.github.com/users/vadz/following{/other_user}","gists_url":"https://api.github.com/users/vadz/gists{/gist_id}","starred_url":"https://api.github.com/users/vadz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vadz/subscriptions","organizations_url":"https://api.github.com/users/vadz/orgs","repos_url":"https://api.github.com/users/vadz/repos","events_url":"https://api.github.com/users/vadz/events{/privacy}","received_events_url":"https://api.github.com/users/vadz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2016-09-23T16:57:51Z","updated_at":"2016-10-07T19:40:23Z","closed_at":"2016-09-26T00:00:42Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is rather mysterious but the first thing I did after installing the Windows binary (`ripgrep-0.1.17-x86_64-pc-windows-msvc.zip`) was to run `rg fun` from Cygwin shell inside a relatively big repository and it just hung without outputting anything. Trying to search inside a single file works fine, searching in a single leaf subdirectory does too, but searching under a subdirectory containing other subdirectories outputs a number of matches and then hangs on exit. To emphasize, this only happens in a Cygwin shell, the tool doesn't hang when run from the standard Windows DOS window.\n\nLooking at it in process explorer I see that the thread is completely stuck (0% CPU use) and the stack is\n\n```\nntoskrnl.exe!KiSwapContext+0x7a\nntoskrnl.exe!KiCommitThreadWait+0x1d2\nntoskrnl.exe!KeWaitForSingleObject+0x19f\nntoskrnl.exe!KiSuspendThread+0x54\nntoskrnl.exe!KiDeliverApc+0x21d\nntoskrnl.exe!KiCommitThreadWait+0x3dd\nntoskrnl.exe!KeWaitForSingleObject+0x19f\nntoskrnl.exe!NtReadFile+0x8ae\nntoskrnl.exe!KiSystemServiceCopyEnd+0x13\nntdll.dll!NtReadFile+0xa\nKERNELBASE.dll!ReadFile+0x76\nkernel32.dll!ReadFileImplementation+0x55\nrg.exe+0x124f1f\n```\n\nwhich doesn't make much sense to me, but maybe it can be useful to you if you have the map file and see what does `0x124f1f` offset correspond to.\n\nI could try debugging this further later, but unfortunately I really don't have time for this now, I just wanted to quickly check a promising new tool...\n","closed_by":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/19/timeline","performed_via_github_app":null,"state_reason":"completed"}