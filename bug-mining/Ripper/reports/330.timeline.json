[{"id":3318928475,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMTg5Mjg0NzU=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3318928475","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-09T02:51:29Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":3319498150,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzMTk0OTgxNTA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3319498150","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bacfca174e80ff3b677e110a942e8b5e217857a1","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/bacfca174e80ff3b677e110a942e8b5e217857a1","created_at":"2020-05-09T15:43:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626289003","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-626289003","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":626289003,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjI4OTAwMw==","user":{"login":"igor-raits","id":2866862,"node_id":"MDQ6VXNlcjI4NjY4NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2866862?v=4","gravatar_id":"","url":"https://api.github.com/users/igor-raits","html_url":"https://github.com/igor-raits","followers_url":"https://api.github.com/users/igor-raits/followers","following_url":"https://api.github.com/users/igor-raits/following{/other_user}","gists_url":"https://api.github.com/users/igor-raits/gists{/gist_id}","starred_url":"https://api.github.com/users/igor-raits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igor-raits/subscriptions","organizations_url":"https://api.github.com/users/igor-raits/orgs","repos_url":"https://api.github.com/users/igor-raits/repos","events_url":"https://api.github.com/users/igor-raits/events{/privacy}","received_events_url":"https://api.github.com/users/igor-raits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T07:56:49Z","updated_at":"2020-05-10T07:56:49Z","body":"@BurntSushi I am probably misunderstanding something, but how do they conflict? The fish autocompletions coming from upstream are located in `/usr/share/fish/completions/` while distro maintainers are supposed to put their completions into `/usr/share/fish/vendor_completions.d/` which is for example what Fedora does. The vendor ones override upstream ones.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626289003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"igor-raits","id":2866862,"node_id":"MDQ6VXNlcjI4NjY4NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2866862?v=4","gravatar_id":"","url":"https://api.github.com/users/igor-raits","html_url":"https://github.com/igor-raits","followers_url":"https://api.github.com/users/igor-raits/followers","following_url":"https://api.github.com/users/igor-raits/following{/other_user}","gists_url":"https://api.github.com/users/igor-raits/gists{/gist_id}","starred_url":"https://api.github.com/users/igor-raits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igor-raits/subscriptions","organizations_url":"https://api.github.com/users/igor-raits/orgs","repos_url":"https://api.github.com/users/igor-raits/repos","events_url":"https://api.github.com/users/igor-raits/events{/privacy}","received_events_url":"https://api.github.com/users/igor-raits/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3320085629,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyMDA4NTYyOQ==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320085629","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-10T07:56:49Z","performed_via_github_app":null},{"id":3320085630,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjAwODU2MzA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320085630","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-10T07:56:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626289499","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-626289499","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":626289499,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjI4OTQ5OQ==","user":{"login":"igor-raits","id":2866862,"node_id":"MDQ6VXNlcjI4NjY4NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2866862?v=4","gravatar_id":"","url":"https://api.github.com/users/igor-raits","html_url":"https://github.com/igor-raits","followers_url":"https://api.github.com/users/igor-raits/followers","following_url":"https://api.github.com/users/igor-raits/following{/other_user}","gists_url":"https://api.github.com/users/igor-raits/gists{/gist_id}","starred_url":"https://api.github.com/users/igor-raits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igor-raits/subscriptions","organizations_url":"https://api.github.com/users/igor-raits/orgs","repos_url":"https://api.github.com/users/igor-raits/repos","events_url":"https://api.github.com/users/igor-raits/events{/privacy}","received_events_url":"https://api.github.com/users/igor-raits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T08:01:54Z","updated_at":"2020-05-10T08:01:54Z","body":"It would be nicer if the fish completions would be maintained in upstream rather than fish upstream because that is PITA to upgrade since everyone would need to wait for release of fish to get new completions for new rg version.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626289499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"igor-raits","id":2866862,"node_id":"MDQ6VXNlcjI4NjY4NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2866862?v=4","gravatar_id":"","url":"https://api.github.com/users/igor-raits","html_url":"https://github.com/igor-raits","followers_url":"https://api.github.com/users/igor-raits/followers","following_url":"https://api.github.com/users/igor-raits/following{/other_user}","gists_url":"https://api.github.com/users/igor-raits/gists{/gist_id}","starred_url":"https://api.github.com/users/igor-raits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igor-raits/subscriptions","organizations_url":"https://api.github.com/users/igor-raits/orgs","repos_url":"https://api.github.com/users/igor-raits/repos","events_url":"https://api.github.com/users/igor-raits/events{/privacy}","received_events_url":"https://api.github.com/users/igor-raits/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626316173","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-626316173","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":626316173,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjMxNjE3Mw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T11:51:58Z","updated_at":"2020-05-10T11:52:19Z","body":"> The vendor ones override upstream ones.\r\n\r\nRight, that's exactly the problem AIUI. See the linked issue for discussion: https://github.com/fish-shell/fish-shell/pull/6868\r\n\r\nMy perspective on this is that I'm acting on the Fish project's recommendation. So if this isn't the optimal path and you want to convince them to change their recommendation, then I'm happy to oblige.\r\n\r\n> It would be nicer if the fish completions would be maintained in upstream rather than fish upstream because that is PITA to upgrade since everyone would need to wait for release of fish to get new completions for new rg version.\r\n\r\nI assumed the Fish project took this into account when making their recommendation? ¯\\\\\\_(ツ)_/¯\r\n\r\nI am happy to keep generating the Fish auto-completions. I don't know what their quality level is though. In theory, I'd also maybe be willing to assume maintenance of manually curated Fish auto-completions like we do for zsh, but under the following conditions:\r\n\r\n1. It is easy and obvious to add and remove new flags. The [zsh auto-completions have extensive docs (see the bottom)](https://github.com/BurntSushi/ripgrep/blob/1e9a481a66c3804b772c2cdf4fb1e478384fe6e0/complete/_rg) to help navigate the arcane syntax.\r\n2. CI fails if the auto-completions are out of sync with ripgrep's flags. zsh auto-completions [have this test](https://github.com/BurntSushi/ripgrep/blob/1e9a481a66c3804b772c2cdf4fb1e478384fe6e0/ci/test-complete) to ensure that, for example.\r\n\r\ncc @thomcc @faho ","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626316173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3320248903,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyMDI0ODkwMw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320248903","actor":{"login":"thomcc","id":860665,"node_id":"MDQ6VXNlcjg2MDY2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/860665?v=4","gravatar_id":"","url":"https://api.github.com/users/thomcc","html_url":"https://github.com/thomcc","followers_url":"https://api.github.com/users/thomcc/followers","following_url":"https://api.github.com/users/thomcc/following{/other_user}","gists_url":"https://api.github.com/users/thomcc/gists{/gist_id}","starred_url":"https://api.github.com/users/thomcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomcc/subscriptions","organizations_url":"https://api.github.com/users/thomcc/orgs","repos_url":"https://api.github.com/users/thomcc/repos","events_url":"https://api.github.com/users/thomcc/events{/privacy}","received_events_url":"https://api.github.com/users/thomcc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-10T11:51:59Z","performed_via_github_app":null},{"id":3320248906,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjAyNDg5MDY=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320248906","actor":{"login":"thomcc","id":860665,"node_id":"MDQ6VXNlcjg2MDY2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/860665?v=4","gravatar_id":"","url":"https://api.github.com/users/thomcc","html_url":"https://github.com/thomcc","followers_url":"https://api.github.com/users/thomcc/followers","following_url":"https://api.github.com/users/thomcc/following{/other_user}","gists_url":"https://api.github.com/users/thomcc/gists{/gist_id}","starred_url":"https://api.github.com/users/thomcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomcc/subscriptions","organizations_url":"https://api.github.com/users/thomcc/orgs","repos_url":"https://api.github.com/users/thomcc/repos","events_url":"https://api.github.com/users/thomcc/events{/privacy}","received_events_url":"https://api.github.com/users/thomcc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-10T11:51:59Z","performed_via_github_app":null},{"id":3320248911,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyMDI0ODkxMQ==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320248911","actor":{"login":"faho","id":5185367,"node_id":"MDQ6VXNlcjUxODUzNjc=","avatar_url":"https://avatars.githubusercontent.com/u/5185367?v=4","gravatar_id":"","url":"https://api.github.com/users/faho","html_url":"https://github.com/faho","followers_url":"https://api.github.com/users/faho/followers","following_url":"https://api.github.com/users/faho/following{/other_user}","gists_url":"https://api.github.com/users/faho/gists{/gist_id}","starred_url":"https://api.github.com/users/faho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faho/subscriptions","organizations_url":"https://api.github.com/users/faho/orgs","repos_url":"https://api.github.com/users/faho/repos","events_url":"https://api.github.com/users/faho/events{/privacy}","received_events_url":"https://api.github.com/users/faho/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-10T11:51:59Z","performed_via_github_app":null},{"id":3320248913,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjAyNDg5MTM=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/3320248913","actor":{"login":"faho","id":5185367,"node_id":"MDQ6VXNlcjUxODUzNjc=","avatar_url":"https://avatars.githubusercontent.com/u/5185367?v=4","gravatar_id":"","url":"https://api.github.com/users/faho","html_url":"https://github.com/faho","followers_url":"https://api.github.com/users/faho/followers","following_url":"https://api.github.com/users/faho/following{/other_user}","gists_url":"https://api.github.com/users/faho/gists{/gist_id}","starred_url":"https://api.github.com/users/faho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faho/subscriptions","organizations_url":"https://api.github.com/users/faho/orgs","repos_url":"https://api.github.com/users/faho/repos","events_url":"https://api.github.com/users/faho/events{/privacy}","received_events_url":"https://api.github.com/users/faho/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-10T11:51:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626325908","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-626325908","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":626325908,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjMyNTkwOA==","user":{"login":"faho","id":5185367,"node_id":"MDQ6VXNlcjUxODUzNjc=","avatar_url":"https://avatars.githubusercontent.com/u/5185367?v=4","gravatar_id":"","url":"https://api.github.com/users/faho","html_url":"https://github.com/faho","followers_url":"https://api.github.com/users/faho/followers","following_url":"https://api.github.com/users/faho/following{/other_user}","gists_url":"https://api.github.com/users/faho/gists{/gist_id}","starred_url":"https://api.github.com/users/faho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faho/subscriptions","organizations_url":"https://api.github.com/users/faho/orgs","repos_url":"https://api.github.com/users/faho/repos","events_url":"https://api.github.com/users/faho/events{/privacy}","received_events_url":"https://api.github.com/users/faho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T13:11:15Z","updated_at":"2020-05-10T13:11:15Z","body":">I am happy to keep generating the Fish auto-completions. I don't know what their quality level is though.\r\n\r\nThey are... okay? It's not like rg needs a ton, it's not git with tens of subcommands, each accepting different types of arguments. It's mostly flags with simple \"always\", \"never\", \"auto\" arguments at most.\r\n\r\nThere are a few nits, like that it always checks the `__fish_use_subcommand` condition, which means options will only be completed before the first non-option argument. I'm not sure that's correct?\r\n\r\nAlso the description wording isn't 100% what I'd use (it is generally understandable and concise enough tho) and the option-arguments don't have descriptions.\r\n\r\nSo there isn't a whole lot to be gained by manual curation in terms of completion quality.\r\n\r\n>It is easy and obvious to add and remove new flags. The zsh auto-completions have extensive docs (see the bottom) to help navigate the arcane syntax.\r\n\r\nWell, I mean:\r\n\r\n```fish\r\ncomplete -c rg -n \"__fish_use_subcommand\" -s A -l after-context -d 'Show NUM lines after each match.'\r\ncomplete -c rg -n \"__fish_use_subcommand\" -s B -l before-context -d 'Show NUM lines before each match.'\r\ncomplete -c rg -n \"__fish_use_subcommand\" -l color -d 'Controls when to use color.' -r -f -a \"never auto always ansi\"\r\n```\r\n\r\nI would imagine for simple options like here it's quite easy.\r\n\r\n>CI fails if the auto-completions are out of sync with ripgrep's flags. zsh auto-completions have this test to ensure that, for example.\r\n\r\nIf you have fish installed that's doable. Completion can be invoked from a script via `complete --do-complete=\"the fake commandline\"`, so `complete --do-complete=\"rg -\"` would list all the options, one per line with the description after a tab.\r\n\r\nIf you don't, you'd have to parse the file yourself. In general, that's a hard problem, but you might be able to get away with it iff you required the completions to fit a very particular style.\r\n\r\n\r\n-----------------------\r\n\r\n>The main issue here is that the Fish project wants to own auto-completions for ripgrep\r\n\r\nSo, the reason we merged the completions initially (which we have since backed out) was to automatically enable completions for users. The idea being that they'd install ripgrep via `cargo install`, which won't install the completions, and would then not think to install them themselves.\r\n\r\nWhat instead ended up happening was that users used distro packages, and the distro packages already moved the completions, only to the wrong location.\r\n\r\nAnd that led to ripgrep and fish not being installable together because of file conflicts and took longer than I would have liked to sort out.\r\n\r\nNow a few months have passed, and I have since removed the ripgrep completions from fish again, mostly so we wouldn't run into the installability issue again. Distros have also changed to using the correct path in the meantime.\r\n\r\n>I assumed the Fish project took this into account when making their recommendation? ¯\\_(ツ)_/¯\r\n\r\nYou probably mean my comment \"Ideally we'd just be able to coordinate with rg upstream to drop them, but I'm not entirely sure that'd work out.\".\r\n\r\nTo be honest, that was in error. I was too focussed on the premise of the PR that shipping the rg completions ourselves would be good, and neglected to look up the backstory of why we shipped rg completions at all (which as it turns out wasn't related to completion quality).\r\n\r\nPersonally, I don't think the ripgrep completions gain much from being shipped in fish - they aren't super complicated so they won't benefit much from enhancements in fish, but ripgrep might add options quicker than we ship releases.\r\n\r\nSo if you are happy keeping them, then please keep them!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626325908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"faho","id":5185367,"node_id":"MDQ6VXNlcjUxODUzNjc=","avatar_url":"https://avatars.githubusercontent.com/u/5185367?v=4","gravatar_id":"","url":"https://api.github.com/users/faho","html_url":"https://github.com/faho","followers_url":"https://api.github.com/users/faho/followers","following_url":"https://api.github.com/users/faho/following{/other_user}","gists_url":"https://api.github.com/users/faho/gists{/gist_id}","starred_url":"https://api.github.com/users/faho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faho/subscriptions","organizations_url":"https://api.github.com/users/faho/orgs","repos_url":"https://api.github.com/users/faho/repos","events_url":"https://api.github.com/users/faho/events{/privacy}","received_events_url":"https://api.github.com/users/faho/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626384423","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-626384423","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":626384423,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjM4NDQyMw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T20:24:44Z","updated_at":"2020-05-10T20:24:44Z","body":"All righty then. Happy to keep auto-generating them. It's really no extra work for me. :-)\r\n\r\nI'll leave this issue open for a bit in case others have opinions.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/626384423/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/629550178","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-629550178","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":629550178,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU1MDE3OA==","user":{"login":"chax","id":632945,"node_id":"MDQ6VXNlcjYzMjk0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/632945?v=4","gravatar_id":"","url":"https://api.github.com/users/chax","html_url":"https://github.com/chax","followers_url":"https://api.github.com/users/chax/followers","following_url":"https://api.github.com/users/chax/following{/other_user}","gists_url":"https://api.github.com/users/chax/gists{/gist_id}","starred_url":"https://api.github.com/users/chax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chax/subscriptions","organizations_url":"https://api.github.com/users/chax/orgs","repos_url":"https://api.github.com/users/chax/repos","events_url":"https://api.github.com/users/chax/events{/privacy}","received_events_url":"https://api.github.com/users/chax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T23:41:37Z","updated_at":"2020-05-15T23:43:54Z","body":"Fish developers removed rg completions from their distribution in their last release, see https://github.com/fish-shell/fish-shell/issues/5822\r\nso please don't remove it from your package.\r\nPeople who package this software should take care where each file (completion or any other file) should be distributed when piece of software is packaged.\r\nAnyways there is special dedicated folder where package's completion should go for fish (/usr/share/fish/vendor_completions.d), and special folder which is dedicated only for fish (/usr/share/fish/completions/), most packagers confuse those two and use wrong folder.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/629550178/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chax","id":632945,"node_id":"MDQ6VXNlcjYzMjk0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/632945?v=4","gravatar_id":"","url":"https://api.github.com/users/chax","html_url":"https://github.com/chax","followers_url":"https://api.github.com/users/chax/followers","following_url":"https://api.github.com/users/chax/following{/other_user}","gists_url":"https://api.github.com/users/chax/gists{/gist_id}","starred_url":"https://api.github.com/users/chax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chax/subscriptions","organizations_url":"https://api.github.com/users/chax/orgs","repos_url":"https://api.github.com/users/chax/repos","events_url":"https://api.github.com/users/chax/events{/privacy}","received_events_url":"https://api.github.com/users/chax/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/851716821","html_url":"https://github.com/BurntSushi/ripgrep/issues/1577#issuecomment-851716821","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1577","id":851716821,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTcxNjgyMQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-31T23:33:13Z","updated_at":"2021-05-31T23:33:13Z","body":"I'll keep auto-generating Fish shell completions: https://github.com/fish-shell/fish-shell/pull/6868#issuecomment-636296953\r\n\r\nSo closing this.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/851716821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4822313302,"node_id":"MDExOkNsb3NlZEV2ZW50NDgyMjMxMzMwMg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4822313302","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-05-31T23:33:13Z","state_reason":null,"performed_via_github_app":null},{"id":4822421562,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4MjI0MjE1NjI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4822421562","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4727862132dde7b7fd49d021c6a73a2b397b074e","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/4727862132dde7b7fd49d021c6a73a2b397b074e","created_at":"2021-06-01T00:49:15Z","performed_via_github_app":null},{"id":4822538552,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4MjI1Mzg1NTI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4822538552","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"af8b27ffae5440feae4632fcda2a20c4cbeea7d2","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/af8b27ffae5440feae4632fcda2a20c4cbeea7d2","created_at":"2021-06-01T01:51:28Z","performed_via_github_app":null}]