[{"id":9177273586,"node_id":"MEE_lADOAzJbyc5lMHukzwAAAAIjAhTy","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9177273586","actor":{"login":"nixpkgs","id":24918050,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTE4MDUw","avatar_url":"https://avatars.githubusercontent.com/u/24918050?v=4","gravatar_id":"","url":"https://api.github.com/users/nixpkgs","html_url":"https://github.com/nixpkgs","followers_url":"https://api.github.com/users/nixpkgs/followers","following_url":"https://api.github.com/users/nixpkgs/following{/other_user}","gists_url":"https://api.github.com/users/nixpkgs/gists{/gist_id}","starred_url":"https://api.github.com/users/nixpkgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nixpkgs/subscriptions","organizations_url":"https://api.github.com/users/nixpkgs/orgs","repos_url":"https://api.github.com/users/nixpkgs/repos","events_url":"https://api.github.com/users/nixpkgs/events{/privacy}","received_events_url":"https://api.github.com/users/nixpkgs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-05-05T14:01:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536332958","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536332958","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536332958,"node_id":"IC_kwDOAzJbyc5bkpSe","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T14:18:34Z","updated_at":"2023-05-05T14:18:34Z","body":"This is just #999 but with different data. The walkthrough I did in that issue is precisely relevant to your case.\r\n\r\nFirst, let's capture all of the results (in my case, `--vimgrep` uses less memory than it does for you, but it's still an exorbitant amount):\r\n\r\n```\r\n$ time rg a > /tmp/rg2505-normal.txt\r\n\r\nreal    0.020\r\nuser    0.027\r\nsys     0.018\r\nmaxmem  13 MB\r\nfaults  0\r\n\r\n$ time rg a --vimgrep > /tmp/rg2505-vimgrep.txt\r\n\r\nreal    6.090\r\nuser    1.063\r\nsys     8.381\r\nmaxmem  18370 MB\r\nfaults  0\r\n```\r\n\r\nOK, that seems crazy, but how big is the actual output?\r\n\r\n```\r\n$ ls -lh /tmp/rg2505-*.txt\r\n-rw-rw-r-- 1 andrew users 2.7M May  5 10:10 /tmp/rg2505-normal.txt\r\n-rw-rw-r-- 1 andrew users  18G May  5 10:10 /tmp/rg2505-vimgrep.txt\r\n```\r\n\r\nWell, okay, there's your problem. Case closed. ripgrep is using a lot of memory because you've asked it to. Note the docs of `--vimgrep`:\r\n\r\n```\r\n--vimgrep                                \r\n    Show results with every match on its own line, including line numbers and\r\n    column numbers. With this option, a line with more than one match will be\r\n    printed more than once.\r\n```\r\n\r\nThat last sentence is telling you what's happening here: for every match ripgrep finds, the entire line is printed. This is presumably what editors like `vim` expect.\r\n\r\nThis means that even if your corpus is very small, the output as a result of `--vimgrep` can still be extremely large. Indeed, the relationship is worst case quadratic. You can compute the worst case concretely by multiplying the total size of the corpus (4.5 MB in this case it looks like) by the total number of bytes in the corpus (4,500,000). That gives us about 20 GB here, which is a bit more than what ripgrep actually used. It's not a precise bound, but it's pretty close.\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536332958/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9177444192,"node_id":"CE_lADOAzJbyc5lMHukzwAAAAIjBK9g","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9177444192","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-05-05T14:18:34Z","state_reason":"not_planned","performed_via_github_app":null},{"id":9177444947,"node_id":"LE_lADOAzJbyc5lMHukzwAAAAIjBLJT","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9177444947","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-05-05T14:18:40Z","label":{"name":"duplicate","color":"cccccc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536403648","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536403648","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536403648,"node_id":"IC_kwDOAzJbyc5bk6jA","user":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:09:56Z","updated_at":"2023-05-05T15:09:56Z","body":"Yes, that makes sense. Sorry for not reading the other issue close enough.\r\n\r\nI am not sure I understand the memory usage though. Shouldn't this be somewhat streamable? The output size being this large makes total sense, but the resident memory should be manageable, right?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536403648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536409827","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536409827","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536409827,"node_id":"IC_kwDOAzJbyc5bk8Dj","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:14:36Z","updated_at":"2023-05-05T15:14:36Z","body":"That's also discussed (very briefly) in #999 too. Output from each file is buffered in memory before being printed. There really isn't another choice if you want to prevent interleaving, which we do. If you disable parallelism then ripgrep will of course stream the output to stdout. For example:\r\n\r\n```\r\n$ time rg a --vimgrep > /tmp/rg2505-vimgrep.txt\r\n\r\nreal    6.080\r\nuser    0.959\r\nsys     8.501\r\nmaxmem  18372 MB\r\nfaults  0\r\n\r\n$ time rg -j1 a --vimgrep > /tmp/rg2505-vimgrep.txt\r\n\r\nreal    3.365\r\nuser    0.017\r\nsys     3.340\r\nmaxmem  9 MB\r\nfaults  0\r\n```","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536409827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:14:50Z","updated_at":"2023-05-05T15:14:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647","repository_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647/labels{/name}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647/comments","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647/events","html_url":"https://github.com/nvim-telescope/telescope.nvim/issues/647","id":830169160,"node_id":"MDU6SXNzdWU4MzAxNjkxNjA=","number":647,"title":"Out of memory error in previewer","user":{"login":"seocamo","id":1221622,"node_id":"MDQ6VXNlcjEyMjE2MjI=","avatar_url":"https://avatars.githubusercontent.com/u/1221622?v=4","gravatar_id":"","url":"https://api.github.com/users/seocamo","html_url":"https://github.com/seocamo","followers_url":"https://api.github.com/users/seocamo/followers","following_url":"https://api.github.com/users/seocamo/following{/other_user}","gists_url":"https://api.github.com/users/seocamo/gists{/gist_id}","starred_url":"https://api.github.com/users/seocamo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seocamo/subscriptions","organizations_url":"https://api.github.com/users/seocamo/orgs","repos_url":"https://api.github.com/users/seocamo/repos","events_url":"https://api.github.com/users/seocamo/events{/privacy}","received_events_url":"https://api.github.com/users/seocamo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2204838792,"node_id":"MDU6TGFiZWwyMjA0ODM4Nzky","url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2021-03-12T14:26:44Z","updated_at":"2023-10-14T20:41:29Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":279759605,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk3NTk2MDU=","name":"telescope.nvim","full_name":"nvim-telescope/telescope.nvim","private":false,"owner":{"login":"nvim-telescope","id":74419533,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc0NDE5NTMz","avatar_url":"https://avatars.githubusercontent.com/u/74419533?v=4","gravatar_id":"","url":"https://api.github.com/users/nvim-telescope","html_url":"https://github.com/nvim-telescope","followers_url":"https://api.github.com/users/nvim-telescope/followers","following_url":"https://api.github.com/users/nvim-telescope/following{/other_user}","gists_url":"https://api.github.com/users/nvim-telescope/gists{/gist_id}","starred_url":"https://api.github.com/users/nvim-telescope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvim-telescope/subscriptions","organizations_url":"https://api.github.com/users/nvim-telescope/orgs","repos_url":"https://api.github.com/users/nvim-telescope/repos","events_url":"https://api.github.com/users/nvim-telescope/events{/privacy}","received_events_url":"https://api.github.com/users/nvim-telescope/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nvim-telescope/telescope.nvim","description":"Find, Filter, Preview, Pick. All lua, all the time.","fork":false,"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","forks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/forks","keys_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/teams","hooks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/hooks","issue_events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/events{/number}","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/events","assignees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/assignees{/user}","branches_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/branches{/branch}","tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/tags","blobs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/refs{/sha}","trees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/statuses/{sha}","languages_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/languages","stargazers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/stargazers","contributors_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contributors","subscribers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscribers","subscription_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscription","commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/commits{/sha}","git_commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/commits{/sha}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/comments{/number}","issue_comment_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/comments{/number}","contents_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contents/{+path}","compare_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/merges","archive_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/downloads","issues_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues{/number}","pulls_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/pulls{/number}","milestones_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/milestones{/number}","notifications_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/labels{/name}","releases_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/releases{/id}","deployments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/deployments","created_at":"2020-07-15T04:04:58Z","updated_at":"2025-11-09T23:37:39Z","pushed_at":"2025-11-07T16:27:23Z","git_url":"git://github.com/nvim-telescope/telescope.nvim.git","ssh_url":"git@github.com:nvim-telescope/telescope.nvim.git","clone_url":"https://github.com/nvim-telescope/telescope.nvim.git","svn_url":"https://github.com/nvim-telescope/telescope.nvim","homepage":"","size":4563,"stargazers_count":18554,"watchers_count":18554,"language":"Lua","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":923,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":493,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["lua","neovim","neovim-plugin","nvim","nvim-lua"],"visibility":"public","forks":923,"open_issues":493,"watchers":18554,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n> Please make sure to take the time adhere fully the following template.\r\n> So that the team can understand the issue and solve it very quickly,\r\n> else the issue will be marked \"missing issue template\" and\r\n> close right away!!!!!\r\n\r\nTODO:\r\n- Include test.vim content in details section (see configuration sec)\r\n- Add description\r\n- Add reproduce steps\r\n- Add Expected and Actual behavior\r\n- Include Environment information\r\n\r\nTIP: copy the template to your vim buffer\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->\r\n\r\n### Description\r\nget a out of memory error when i move over the files in file window with preview on\r\nif i add {previewer = false} to the function ex. oldfiles, it just works so it most be in the preview window that do not get unload files.\r\nit happen with any size files, but with big files it only take 2-3 files.\r\n\r\n**Expected Behavior**\r\nNvim do not dies\r\n\r\n**Actual Behavior**\r\nNvim dies with out of memory error\r\n\r\n### Details\r\n\r\n<!-- Steps to reproduce -->\r\n<details><summary>Reproduce</summary>\r\n\r\n<!--\r\nExample:\r\n\r\n1. nvim -nu test.vim\r\n2. :Telescope live_grep or git_commits\r\n3. .... bang here is the issue\r\n...\r\n-->\r\n\r\n1. nvim -nu test.vim\r\n2. :lua require('telescope.builtin').oldfiles()\r\n3. move up over the (big) files\r\n4. nvim dies\r\n</details>\r\n\r\n<!-- Environment Information -->\r\n<details><summary>Environment</summary>\r\n\r\n<!--\r\n- nvim --version\r\n- Operating system\r\n- git log --pretty=format:'%h' -n 1\r\n...\r\n-->\r\n- nvim --version output: \r\n- NVIM v0.5.0-dev+1115-gc1fbc2ddf\r\nBuild type: RelWithDebInfo\r\nLuaJIT 2.0.5\r\nCompilation: /usr/bin/cc -D_FORTIFY_SOURCE=2 -march=x86-64 -mtune=generic -O2 -pipe -fno-plt -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1 -O2 -g -Og -g -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wshadow -Wconversion -Wmissing-prototypes -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fno-common -fdiagnostics-color=always -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -DMIN_LOG_LEVEL=3 -I/home/name/.cache/yay/neovim-nightly-git/src/build/config -I/home/name/.cache/yay/neovim-nightly-git/src/neovim-nightly-git/src -I/usr/include -I/home/name/.cache/yay/neovim-nightly-git/src/build/src/nvim/auto -I/home/name/.cache/yay/neovim-nightly-git/src/build/include\r\nCompiled by name@manjaro\r\n\r\nFeatures: +acl +iconv +tui\r\nSee \":help feature-compile\"\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n\r\n- Operating system: \r\n- Manjaro Linux x86_64  Kernel: 5.11.2-1-MANJARO \r\n- Telescope commit: \r\n- c8cc024\r\n\r\n</details>\r\n\r\n<!-- Configuration -->\r\n<details><summary>Configuration</summary>\r\n<p>\r\n<!-- adopt your telescope configuration to the following template,\r\nsave it to test.vim then execute `nvim -NU test.vim` -->\r\n\r\n```viml\r\n Plug 'nvim-lua/plenary.nvim'\r\nPlug 'nvim-lua/popup.nvim'\r\nPlug 'nvim-lua/telescope.nvim'\r\n\r\nlet mapleader = \" \"\r\n:lua require('telescope').setup {}\r\nnnoremap <leader>po :lua require('telescope.builtin').oldfiles()<cr>\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/647/timeline","performed_via_github_app":null,"state_reason":"reopened"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536414993","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536414993","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536414993,"node_id":"IC_kwDOAzJbyc5bk9UR","user":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:18:49Z","updated_at":"2023-05-05T15:18:49Z","body":"Thank you for pointing this out again. I know how annoying this kind of work is sometimes so I really appreciate you taking the time to answer in this way.\r\n\r\nDo you think it might be reasonable to make `-j1` default when `--vimgrep` is given? It seems to me that a bunch of people are running into this.\r\n\r\nI personally thought it was just my 16Gigs beeing too little memory, so I upgraded and was a little surprised to see the same problem.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536414993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:21:15Z","updated_at":"2023-05-05T15:21:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482","repository_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482/labels{/name}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482/comments","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482/events","html_url":"https://github.com/nvim-telescope/telescope.nvim/issues/2482","id":1686383806,"node_id":"I_kwDOEKzK9c5khCy-","number":2482,"title":"live_grep makes linux computer run out of memory and freeze completely","user":{"login":"jweckman","id":40341526,"node_id":"MDQ6VXNlcjQwMzQxNTI2","avatar_url":"https://avatars.githubusercontent.com/u/40341526?v=4","gravatar_id":"","url":"https://api.github.com/users/jweckman","html_url":"https://github.com/jweckman","followers_url":"https://api.github.com/users/jweckman/followers","following_url":"https://api.github.com/users/jweckman/following{/other_user}","gists_url":"https://api.github.com/users/jweckman/gists{/gist_id}","starred_url":"https://api.github.com/users/jweckman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jweckman/subscriptions","organizations_url":"https://api.github.com/users/jweckman/orgs","repos_url":"https://api.github.com/users/jweckman/repos","events_url":"https://api.github.com/users/jweckman/events{/privacy}","received_events_url":"https://api.github.com/users/jweckman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2204838792,"node_id":"MDU6TGFiZWwyMjA0ODM4Nzky","url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2023-04-27T08:33:21Z","updated_at":"2024-07-18T06:05:50Z","closed_at":"2023-05-07T04:47:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":279759605,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk3NTk2MDU=","name":"telescope.nvim","full_name":"nvim-telescope/telescope.nvim","private":false,"owner":{"login":"nvim-telescope","id":74419533,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc0NDE5NTMz","avatar_url":"https://avatars.githubusercontent.com/u/74419533?v=4","gravatar_id":"","url":"https://api.github.com/users/nvim-telescope","html_url":"https://github.com/nvim-telescope","followers_url":"https://api.github.com/users/nvim-telescope/followers","following_url":"https://api.github.com/users/nvim-telescope/following{/other_user}","gists_url":"https://api.github.com/users/nvim-telescope/gists{/gist_id}","starred_url":"https://api.github.com/users/nvim-telescope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvim-telescope/subscriptions","organizations_url":"https://api.github.com/users/nvim-telescope/orgs","repos_url":"https://api.github.com/users/nvim-telescope/repos","events_url":"https://api.github.com/users/nvim-telescope/events{/privacy}","received_events_url":"https://api.github.com/users/nvim-telescope/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nvim-telescope/telescope.nvim","description":"Find, Filter, Preview, Pick. All lua, all the time.","fork":false,"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","forks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/forks","keys_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/teams","hooks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/hooks","issue_events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/events{/number}","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/events","assignees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/assignees{/user}","branches_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/branches{/branch}","tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/tags","blobs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/refs{/sha}","trees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/statuses/{sha}","languages_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/languages","stargazers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/stargazers","contributors_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contributors","subscribers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscribers","subscription_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscription","commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/commits{/sha}","git_commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/commits{/sha}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/comments{/number}","issue_comment_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/comments{/number}","contents_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contents/{+path}","compare_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/merges","archive_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/downloads","issues_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues{/number}","pulls_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/pulls{/number}","milestones_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/milestones{/number}","notifications_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/labels{/name}","releases_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/releases{/id}","deployments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/deployments","created_at":"2020-07-15T04:04:58Z","updated_at":"2025-11-09T23:37:39Z","pushed_at":"2025-11-07T16:27:23Z","git_url":"git://github.com/nvim-telescope/telescope.nvim.git","ssh_url":"git@github.com:nvim-telescope/telescope.nvim.git","clone_url":"https://github.com/nvim-telescope/telescope.nvim.git","svn_url":"https://github.com/nvim-telescope/telescope.nvim","homepage":"","size":4563,"stargazers_count":18554,"watchers_count":18554,"language":"Lua","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":923,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":493,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["lua","neovim","neovim-plugin","nvim","nvim-lua"],"visibility":"public","forks":923,"open_issues":493,"watchers":18554,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description\n\nI know there are a number of other performance related issues open related to live_grep using ripgrep, but i could not find instances of people reporting freezing of the entire OS making them lose all their work.\r\n\r\nI know my use case is very crazy with say 10GB of code and i can see from journalctl that the ripgrep process is what causes the machine to run out of 16GB of RAM and 8GB of swap (fedora 38 with latest updates).\r\n\r\nI can reproduce 100% if i go to a large directory and simply pless \"k\" to go through the live_grep results and i can see from my task manager that pressing \"k\" even once or twice makes the swap fill up and i have a frozen computer.\r\n\r\nRunning ripgrep on its own with the exact same scenario chugs along fine using all 8 cores and finishes without crashing. A single instance of ripgrep can handle itself no matter how heavy the load (100GB of code)\r\n\r\nWould it be possible to maybe automatically slow things down a bit when a heavy load is detected to avoid freezing the operating system? \r\n\r\nIt seems like the memory issue is specifically related to cycling through results in the UI. I've had freezes happen even when there were 5 results in total and i quickly went through them.\r\n\r\nMy concrete question is then: Can the logic that is triggered when pressing \"j\" and \"k\" be adapted to refresh less or something when the queries get crazy? Maybe it could ask the OS how its doing before performing all the updates on every press of \"j\" or \"k\"?\n\n### Neovim version\n\n```markdown\nNVIM v0.9.0\r\nBuild type: RelWithDebInfo\r\nLuaJIT 2.1.0-beta3\n```\n\n\n### Operating system and version\n\nFedora 38\n\n### Telescope version / branch / rev\n\nlatest 0.1.x\n\n### checkhealth telescope\n\n```markdown\n==============================================================================\r\ntelescope: require(\"telescope.health\").check()\r\n\r\nChecking for required plugins ~\r\n- OK plenary installed.\r\n- OK nvim-treesitter installed.\r\n\r\nChecking external dependencies ~\r\n- OK rg: found ripgrep 13.0.0\r\n- OK fd: found fd 8.7.0\r\n\r\n===== Installed extensions ===== ~\r\n\r\nTelescope Extension: `file_browser` ~\r\n- No healthcheck provided\r\n\r\nTelescope Extension: `fzf` ~\r\n- OK lib working as expected\r\n- OK file_sorter correctly configured\r\n- OK generic_sorter correctly configured\n```\n\n\n### Steps to reproduce\n\n1. Download e.g. 50GB of code (duplicate a large project like linux kernel a few times)\r\n2. open live_grep\r\n3. press \"k\" a few times\r\n4. If on a linux system you can easily run out of RAM and swap if you quickly cycle through results, freezing the whole OS\n\n### Expected behavior\n\nEither slow down or kill neovim instead of freezing the OS.\n\n### Actual behavior\n\nFrozen operating system (Fedora 38)\r\n\r\nAlso had the same issues on Fedora 36\n\n### Minimal config\n\n```Lua\nvim.cmd [[set runtimepath=$VIMRUNTIME]]\r\nvim.cmd [[set packpath=/tmp/nvim/site]]\r\nlocal package_root = '/tmp/nvim/site/pack'\r\nlocal install_path = package_root .. '/packer/start/packer.nvim'\r\nlocal function load_plugins()\r\n  require('packer').startup {\r\n    {\r\n      'wbthomason/packer.nvim',\r\n      {\r\n        'nvim-telescope/telescope.nvim',\r\n        requires = {\r\n          'nvim-lua/plenary.nvim',\r\n          { 'nvim-telescope/telescope-fzf-native.nvim', run = 'make' },\r\n        },\r\n      },\r\n      -- ADD PLUGINS THAT ARE _NECESSARY_ FOR REPRODUCING THE ISSUE\r\n    },\r\n    config = {\r\n      package_root = package_root,\r\n      compile_path = install_path .. '/plugin/packer_compiled.lua',\r\n      display = { non_interactive = true },\r\n    },\r\n  }\r\nend\r\n_G.load_config = function()\r\n  require('telescope').setup()\r\n  require('telescope').load_extension('fzf')\r\n  -- ADD INIT.LUA SETTINGS THAT ARE _NECESSARY_ FOR REPRODUCING THE ISSUE\r\nend\r\nif vim.fn.isdirectory(install_path) == 0 then\r\n  print(\"Installing Telescope and dependencies.\")\r\n  vim.fn.system { 'git', 'clone', '--depth=1', 'https://github.com/wbthomason/packer.nvim', install_path }\r\nend\r\nload_plugins()\r\nrequire('packer').sync()\r\nvim.cmd [[autocmd User PackerComplete ++once echo \"Ready!\" | lua load_config()]]\n```\n","reactions":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2482/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536422272","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536422272","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536422272,"node_id":"IC_kwDOAzJbyc5bk_GA","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:24:56Z","updated_at":"2023-05-05T15:24:56Z","body":"Hmmm. I don't know, to be honest. It's an interesting idea. I'll re-open the issue. I'll note the following though:\r\n\r\n1. Text editor plugins and what not should be able to make the choice of whether to set `-j1` or not without ripgrep doing it.\r\n2. It's not at all clear to me that making `-j1` the default is the right trade off. If 99.999% of all `rg --vimgrep` runs use \"reasonable\" memory, then setting `-j1` by default is likely to result in a _massive_ performance regression in the overwhelmingly common case.\r\n3. `--vimgrep` is itself a strange thing, and is IMO legacy. It would probably be better if text editor plugins used ripgrep's `--json` flag to get structured matches. This is what VS Code does, for example.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536422272/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9178066810,"node_id":"REE_lADOAzJbyc5lMHukzwAAAAIjDi96","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9178066810","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2023-05-05T15:25:02Z","state_reason":"reopened","performed_via_github_app":null},{"id":9178067763,"node_id":"UNLE_lADOAzJbyc5lMHukzwAAAAIjDjMz","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9178067763","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-05-05T15:25:09Z","label":{"name":"duplicate","color":"cccccc"},"performed_via_github_app":null},{"id":9178067773,"node_id":"LE_lADOAzJbyc5lMHukzwAAAAIjDjM9","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9178067773","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-05-05T15:25:09Z","label":{"name":"question","color":"cc317c"},"performed_via_github_app":null},{"id":9178069527,"node_id":"RTE_lADOAzJbyc5lMHukzwAAAAIjDjoX","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9178069527","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-05-05T15:25:22Z","rename":{"from":"--vimgrep memory usage again","to":"should --vimgrep run in single threaded mode by default?"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536425563","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536425563","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536425563,"node_id":"IC_kwDOAzJbyc5bk_5b","user":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:27:43Z","updated_at":"2023-05-05T15:27:43Z","body":"Yeah I agree, it's a weird decision to make. For very short inputs, it's probably sensible, for longer ones it probably isn't. But making it conditional on the input length is weird.\r\n\r\nI'll push to add `-j1` by default in the telescope threads, I think this is where most people are bitten by this since it searches on every input. So if you type `abc`, it'll kick off a `rg --vimgrep a` in the background (at least sometimes, I think)\r\n\r\nAgain, thank you for your answer even though it's an old topic <3","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536425563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536440613","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536440613","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536440613,"node_id":"IC_kwDOAzJbyc5blDkl","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:40:03Z","updated_at":"2023-05-05T15:40:03Z","body":"> So if you type `abc`, it'll kick off a `rg --vimgrep a` in the background (at least sometimes, I think)\r\n\r\nAh! I see. Yeah I don't actually use any ripgrep text editor plugins (except I guess for `fzf` but it only uses ripgrep to list out the files, not for searching), so I don't have a good sense of how they actually work. But yeah, indeed, `rg --vimgrep a` is a dangerous thing to run!\r\n\r\nThis is indeed a tricky situation. I do feel like `--json` is probably the right answer here. `--vimgrep` feels fatally flawed unfortunately. There are other various things that could be done, but they all feel yucky:\r\n\r\n* As you mention, set `-j1` based on needle length. I'd venture `needle.len() <= 2` => `-j1` might be good enough. Once you get beyond two bytes (assuming it's a literal), match frequency tends to drop off quite a bit in non-pathological cases. Of course, you could run a regex like `.*`, but then you get what you deserve I guess? Hah.\r\n* We could add an option to ripgrep that caps the size of the output buffer used by each thread. And if ripgrep would exceed that size it.... emits an error? (I don't like this for a lot of reasons.)\r\n* Don't use `--vimgrep` and instead just parse the normal output. Maybe with `--column`? I don't know how these editor plugins work and whether they really really need `--vimgrep`. This might be easier than going full hog with `--json`.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536440613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536446629","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536446629","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536446629,"node_id":"IC_kwDOAzJbyc5blFCl","user":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:45:17Z","updated_at":"2023-05-05T15:45:17Z","body":"Good points, I guess maybe it's time to shift the whole ecosystem away from the --vimgrep format...\r\n\r\nWithout knowing the actual code or any of the pitfalls, wouldn't it be possible to have limited buffers with blocking until they are consumed? (I'm completely ignoring a possibly huge refactoring here of course)\r\nI think the keyword is backpressure, but I only know it in the abstract, not if it would be a fit here or the intricacies of actually implementing it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536446629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"voidus","id":124298,"node_id":"MDQ6VXNlcjEyNDI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/124298?v=4","gravatar_id":"","url":"https://api.github.com/users/voidus","html_url":"https://github.com/voidus","followers_url":"https://api.github.com/users/voidus/followers","following_url":"https://api.github.com/users/voidus/following{/other_user}","gists_url":"https://api.github.com/users/voidus/gists{/gist_id}","starred_url":"https://api.github.com/users/voidus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidus/subscriptions","organizations_url":"https://api.github.com/users/voidus/orgs","repos_url":"https://api.github.com/users/voidus/repos","events_url":"https://api.github.com/users/voidus/events{/privacy}","received_events_url":"https://api.github.com/users/voidus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536457773","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536457773","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1536457773,"node_id":"IC_kwDOAzJbyc5blHwt","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T15:55:36Z","updated_at":"2023-05-05T15:55:36Z","body":"In the abstract it is theoretically possible I believe. Playing it forward: All of the matches from a particular file need to be emitted in one contiguous chunk. Backpressure could work if _one particular_ file resulted in a large output buffer and backpressure was based on _total_ memory consumption. In that case, you'd wait for some of the other output buffers to get printed and then allocate their space to the one that is stuck because it ran out of room. At that point, you'd need to refactor the code to dynamically switch to streaming _just_ the output of that one file to stdout, and once complete, switch back to the normal parallel strategy of buffering output. But what if there are multiple output buffers that are at or near capacity? You'd have to stop the entire search and focus on one buffer at a time until you've drained the buffers at capacity, and then resume the standard parallel search. In the worst case (and I kind of expect `rg a --vimgrep` to provoke exactly that), it will devolve to single threaded search, but with a lot of overhead.\r\n\r\nThe overall strategy is infeasible to implement from my perspective. More generally, adding backpressure to a system that wasn't designed for it at the start is quite difficult. And it probably doesn't really solve the problem here any better than using `-j1` does with one exception: it would dynamically switch to `-j1` only when needed. But popping up a level, all of this is a result of incidental complexity caused by how editor plugins use ripgrep in the first place. So it's definitely not worth adding backpressure IMO.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1536457773/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9180505091,"node_id":"SE_lADOAzJbyc5lMHukzwAAAAIjM2QD","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9180505091","actor":{"login":"isaif","id":11773308,"node_id":"MDQ6VXNlcjExNzczMzA4","avatar_url":"https://avatars.githubusercontent.com/u/11773308?v=4","gravatar_id":"","url":"https://api.github.com/users/isaif","html_url":"https://github.com/isaif","followers_url":"https://api.github.com/users/isaif/followers","following_url":"https://api.github.com/users/isaif/following{/other_user}","gists_url":"https://api.github.com/users/isaif/gists{/gist_id}","starred_url":"https://api.github.com/users/isaif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaif/subscriptions","organizations_url":"https://api.github.com/users/isaif/orgs","repos_url":"https://api.github.com/users/isaif/repos","events_url":"https://api.github.com/users/isaif/events{/privacy}","received_events_url":"https://api.github.com/users/isaif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-05-05T21:12:48Z","performed_via_github_app":null},{"actor":{"login":"jamestrew","id":66286082,"node_id":"MDQ6VXNlcjY2Mjg2MDgy","avatar_url":"https://avatars.githubusercontent.com/u/66286082?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestrew","html_url":"https://github.com/jamestrew","followers_url":"https://api.github.com/users/jamestrew/followers","following_url":"https://api.github.com/users/jamestrew/following{/other_user}","gists_url":"https://api.github.com/users/jamestrew/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestrew/subscriptions","organizations_url":"https://api.github.com/users/jamestrew/orgs","repos_url":"https://api.github.com/users/jamestrew/repos","events_url":"https://api.github.com/users/jamestrew/events{/privacy}","received_events_url":"https://api.github.com/users/jamestrew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T23:12:55Z","updated_at":"2023-05-05T23:12:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488","repository_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488/labels{/name}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488/comments","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488/events","html_url":"https://github.com/nvim-telescope/telescope.nvim/pull/2488","id":1693149036,"node_id":"PR_kwDOEKzK9c5Pn_qR","number":2488,"title":"Revert \"chore: simplify vimgrep_arguments args (#2440)\"","user":{"login":"jamestrew","id":66286082,"node_id":"MDQ6VXNlcjY2Mjg2MDgy","avatar_url":"https://avatars.githubusercontent.com/u/66286082?v=4","gravatar_id":"","url":"https://api.github.com/users/jamestrew","html_url":"https://github.com/jamestrew","followers_url":"https://api.github.com/users/jamestrew/followers","following_url":"https://api.github.com/users/jamestrew/following{/other_user}","gists_url":"https://api.github.com/users/jamestrew/gists{/gist_id}","starred_url":"https://api.github.com/users/jamestrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamestrew/subscriptions","organizations_url":"https://api.github.com/users/jamestrew/orgs","repos_url":"https://api.github.com/users/jamestrew/repos","events_url":"https://api.github.com/users/jamestrew/events{/privacy}","received_events_url":"https://api.github.com/users/jamestrew/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-05-02T21:55:55Z","updated_at":"2023-05-07T05:01:37Z","closed_at":"2023-05-07T04:47:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":279759605,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk3NTk2MDU=","name":"telescope.nvim","full_name":"nvim-telescope/telescope.nvim","private":false,"owner":{"login":"nvim-telescope","id":74419533,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc0NDE5NTMz","avatar_url":"https://avatars.githubusercontent.com/u/74419533?v=4","gravatar_id":"","url":"https://api.github.com/users/nvim-telescope","html_url":"https://github.com/nvim-telescope","followers_url":"https://api.github.com/users/nvim-telescope/followers","following_url":"https://api.github.com/users/nvim-telescope/following{/other_user}","gists_url":"https://api.github.com/users/nvim-telescope/gists{/gist_id}","starred_url":"https://api.github.com/users/nvim-telescope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvim-telescope/subscriptions","organizations_url":"https://api.github.com/users/nvim-telescope/orgs","repos_url":"https://api.github.com/users/nvim-telescope/repos","events_url":"https://api.github.com/users/nvim-telescope/events{/privacy}","received_events_url":"https://api.github.com/users/nvim-telescope/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nvim-telescope/telescope.nvim","description":"Find, Filter, Preview, Pick. All lua, all the time.","fork":false,"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim","forks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/forks","keys_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/teams","hooks_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/hooks","issue_events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/events{/number}","events_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/events","assignees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/assignees{/user}","branches_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/branches{/branch}","tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/tags","blobs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/refs{/sha}","trees_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/statuses/{sha}","languages_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/languages","stargazers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/stargazers","contributors_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contributors","subscribers_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscribers","subscription_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/subscription","commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/commits{/sha}","git_commits_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/git/commits{/sha}","comments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/comments{/number}","issue_comment_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/comments{/number}","contents_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/contents/{+path}","compare_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/merges","archive_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/downloads","issues_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues{/number}","pulls_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/pulls{/number}","milestones_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/milestones{/number}","notifications_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/labels{/name}","releases_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/releases{/id}","deployments_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/deployments","created_at":"2020-07-15T04:04:58Z","updated_at":"2025-11-09T23:37:39Z","pushed_at":"2025-11-07T16:27:23Z","git_url":"git://github.com/nvim-telescope/telescope.nvim.git","ssh_url":"git@github.com:nvim-telescope/telescope.nvim.git","clone_url":"https://github.com/nvim-telescope/telescope.nvim.git","svn_url":"https://github.com/nvim-telescope/telescope.nvim","homepage":"","size":4563,"stargazers_count":18554,"watchers_count":18554,"language":"Lua","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":923,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":493,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["lua","neovim","neovim-plugin","nvim","nvim-lua"],"visibility":"public","forks":923,"open_issues":493,"watchers":18554,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/pulls/2488","html_url":"https://github.com/nvim-telescope/telescope.nvim/pull/2488","diff_url":"https://github.com/nvim-telescope/telescope.nvim/pull/2488.diff","patch_url":"https://github.com/nvim-telescope/telescope.nvim/pull/2488.patch","merged_at":"2023-05-07T04:47:52Z"},"body":"This reverts commit cfe6df6257aa7ee691fb56305923e9fec6c83c97.\r\n\r\n# Description\r\n\r\nIt appears that the commit above is causing issues in certain instances when using grepping pickers.\r\nThe `--vimgrep` option seems to be the culprit.\r\n\r\n[BurntSushi](https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1536422272) doesn't really recommend using `--vimgrep`:\r\n> --vimgrep is itself a strange thing, and is IMO legacy. It would probably be better if text editor plugins used ripgrep's --json flag to get structured matches. This is what VS Code does, for example.\r\n\r\nIssue is reproducible live grepping in this repo/directory: https://github.com/swagger-api/swagger-ui/tree/master/dist\r\n\r\nFixes #2482\r\n\r\n## Type of change\r\n\r\nPlease delete options that are not relevant.\r\n\r\n- Bug fix (non-breaking change which fixes an issue)\r\n\r\n# How Has This Been Tested?\r\n\r\nPlease describe the tests that you ran to verify your changes. Provide instructions so we can reproduce. Please also list relevant details about your configuration\r\n\r\n- [x] Tested live grepping in the [swagger repo](https://github.com/swagger-api/swagger-ui) with/without `--vimgrep` option\r\n\r\n**Configuration**:\r\n* Neovim version (nvim --version): NVIM v0.10.0-dev-19+g339011f59\r\n* Operating system and version: Linux archlinux 6.2.12-arch1-1\r\n\r\n# Checklist:\r\n\r\n- [x] My code follows the style guidelines of this project (stylua)\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] I have made corresponding changes to the documentation (lua annotations)\r\n","reactions":{"url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nvim-telescope/telescope.nvim/issues/2488/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1661665823","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1661665823","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1661665823,"node_id":"IC_kwDOAzJbyc5jCwIf","user":{"login":"bluss","id":3209739,"node_id":"MDQ6VXNlcjMyMDk3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/3209739?v=4","gravatar_id":"","url":"https://api.github.com/users/bluss","html_url":"https://github.com/bluss","followers_url":"https://api.github.com/users/bluss/followers","following_url":"https://api.github.com/users/bluss/following{/other_user}","gists_url":"https://api.github.com/users/bluss/gists{/gist_id}","starred_url":"https://api.github.com/users/bluss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluss/subscriptions","organizations_url":"https://api.github.com/users/bluss/orgs","repos_url":"https://api.github.com/users/bluss/repos","events_url":"https://api.github.com/users/bluss/events{/privacy}","received_events_url":"https://api.github.com/users/bluss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T07:35:14Z","updated_at":"2023-08-02T07:35:14Z","body":"Does --max-columns 4096 help on the test case for this issue? From my reading of my vim docs, grepprg functionality does not look past the first 4096 bytes of a line anyway. It seems like an option that can cut down the amount of work needing to be done here.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1661665823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bluss","id":3209739,"node_id":"MDQ6VXNlcjMyMDk3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/3209739?v=4","gravatar_id":"","url":"https://api.github.com/users/bluss","html_url":"https://github.com/bluss","followers_url":"https://api.github.com/users/bluss/followers","following_url":"https://api.github.com/users/bluss/following{/other_user}","gists_url":"https://api.github.com/users/bluss/gists{/gist_id}","starred_url":"https://api.github.com/users/bluss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluss/subscriptions","organizations_url":"https://api.github.com/users/bluss/orgs","repos_url":"https://api.github.com/users/bluss/repos","events_url":"https://api.github.com/users/bluss/events{/privacy}","received_events_url":"https://api.github.com/users/bluss/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1826005605","html_url":"https://github.com/BurntSushi/ripgrep/issues/2505#issuecomment-1826005605","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2505","id":1826005605,"node_id":"IC_kwDOAzJbyc5s1qJl","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T19:06:51Z","updated_at":"2023-11-24T19:06:51Z","body":"@bluss Interesting idea. I tried that out and it doesn't seem to help unfortunately.\r\n\r\nI thought about this and I think I'm going to leave the behavior of `--vimgrep` alone. Disabling parallelism for that mode seems like a pretty huge bummer. But I have added some extra docs warning about these failure modes.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1826005605/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11058907254,"node_id":"MEE_lADOAzJbyc5lMHukzwAAAAKTKYh2","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11058907254","actor":{"login":"bluss","id":3209739,"node_id":"MDQ6VXNlcjMyMDk3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/3209739?v=4","gravatar_id":"","url":"https://api.github.com/users/bluss","html_url":"https://github.com/bluss","followers_url":"https://api.github.com/users/bluss/followers","following_url":"https://api.github.com/users/bluss/following{/other_user}","gists_url":"https://api.github.com/users/bluss/gists{/gist_id}","starred_url":"https://api.github.com/users/bluss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluss/subscriptions","organizations_url":"https://api.github.com/users/bluss/orgs","repos_url":"https://api.github.com/users/bluss/repos","events_url":"https://api.github.com/users/bluss/events{/privacy}","received_events_url":"https://api.github.com/users/bluss/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-24T19:06:52Z","performed_via_github_app":null},{"id":11058907260,"node_id":"SE_lADOAzJbyc5lMHukzwAAAAKTKYh8","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11058907260","actor":{"login":"bluss","id":3209739,"node_id":"MDQ6VXNlcjMyMDk3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/3209739?v=4","gravatar_id":"","url":"https://api.github.com/users/bluss","html_url":"https://github.com/bluss","followers_url":"https://api.github.com/users/bluss/followers","following_url":"https://api.github.com/users/bluss/following{/other_user}","gists_url":"https://api.github.com/users/bluss/gists{/gist_id}","starred_url":"https://api.github.com/users/bluss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluss/subscriptions","organizations_url":"https://api.github.com/users/bluss/orgs","repos_url":"https://api.github.com/users/bluss/repos","events_url":"https://api.github.com/users/bluss/events{/privacy}","received_events_url":"https://api.github.com/users/bluss/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-24T19:06:52Z","performed_via_github_app":null},{"id":11058907757,"node_id":"LE_lADOAzJbyc5lMHukzwAAAAKTKYpt","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11058907757","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-11-24T19:06:57Z","label":{"name":"rollup","color":"ffccee"},"performed_via_github_app":null},{"id":11061035782,"node_id":"REFE_lADOAzJbyc5lMHukzwAAAAKTSgMG","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11061035782","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fd23c2ef85034aeb4bdad2ccfde66c5838f5aff6","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/fd23c2ef85034aeb4bdad2ccfde66c5838f5aff6","created_at":"2023-11-25T15:40:57Z","performed_via_github_app":null},{"id":11061380215,"node_id":"CE_lADOAzJbyc5lMHukzwAAAAKTT0R3","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11061380215","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"1cbcefddc9cfe1a9acbcc71adef7d9c0591fcb1d","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/1cbcefddc9cfe1a9acbcc71adef7d9c0591fcb1d","created_at":"2023-11-25T20:03:58Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-26T20:57:26Z","updated_at":"2023-11-26T20:57:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592","repository_url":"https://api.github.com/repos/Homebrew/homebrew-core","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/comments","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/events","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","id":2011202062,"node_id":"PR_kwDOAyaC3M5gYeMZ","number":155592,"title":"ripgrep 14.0.0","user":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":624617309,"node_id":"MDU6TGFiZWw2MjQ2MTczMDk=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/rust","name":"rust","color":"bfe5bf","default":false,"description":"Rust use is a significant feature of the PR or issue"},{"id":778631352,"node_id":"MDU6TGFiZWw3Nzg2MzEzNTI=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/ready%20to%20merge","name":"ready to merge","color":"0e8a16","default":false,"description":"PR can be merged once CI is green"},{"id":921363785,"node_id":"MDU6TGFiZWw5MjEzNjM3ODU=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"},{"id":2983832093,"node_id":"MDU6TGFiZWwyOTgzODMyMDkz","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/bump-formula-pr","name":"bump-formula-pr","color":"606060","default":false,"description":"PR was created using `brew bump-formula-pr`"},{"id":5278102982,"node_id":"LA_kwDOAyaC3M8AAAABOpl1xg","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/CI-published-bottle-commits","name":"CI-published-bottle-commits","color":"0E8A16","default":false,"description":"The commits for the built bottles have been pushed to the PR branch."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-11-26T20:57:24Z","updated_at":"2023-12-27T00:02:09Z","closed_at":"2023-11-26T23:17:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":52855516,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjg1NTUxNg==","name":"homebrew-core","full_name":"Homebrew/homebrew-core","private":false,"owner":{"login":"Homebrew","id":1503512,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MDM1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1503512?v=4","gravatar_id":"","url":"https://api.github.com/users/Homebrew","html_url":"https://github.com/Homebrew","followers_url":"https://api.github.com/users/Homebrew/followers","following_url":"https://api.github.com/users/Homebrew/following{/other_user}","gists_url":"https://api.github.com/users/Homebrew/gists{/gist_id}","starred_url":"https://api.github.com/users/Homebrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Homebrew/subscriptions","organizations_url":"https://api.github.com/users/Homebrew/orgs","repos_url":"https://api.github.com/users/Homebrew/repos","events_url":"https://api.github.com/users/Homebrew/events{/privacy}","received_events_url":"https://api.github.com/users/Homebrew/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Homebrew/homebrew-core","description":" Default formulae for the missing package manager for macOS (or Linux)","fork":false,"url":"https://api.github.com/repos/Homebrew/homebrew-core","forks_url":"https://api.github.com/repos/Homebrew/homebrew-core/forks","keys_url":"https://api.github.com/repos/Homebrew/homebrew-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Homebrew/homebrew-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Homebrew/homebrew-core/teams","hooks_url":"https://api.github.com/repos/Homebrew/homebrew-core/hooks","issue_events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/events{/number}","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/events","assignees_url":"https://api.github.com/repos/Homebrew/homebrew-core/assignees{/user}","branches_url":"https://api.github.com/repos/Homebrew/homebrew-core/branches{/branch}","tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/tags","blobs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Homebrew/homebrew-core/statuses/{sha}","languages_url":"https://api.github.com/repos/Homebrew/homebrew-core/languages","stargazers_url":"https://api.github.com/repos/Homebrew/homebrew-core/stargazers","contributors_url":"https://api.github.com/repos/Homebrew/homebrew-core/contributors","subscribers_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscribers","subscription_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscription","commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/Homebrew/homebrew-core/contents/{+path}","compare_url":"https://api.github.com/repos/Homebrew/homebrew-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Homebrew/homebrew-core/merges","archive_url":"https://api.github.com/repos/Homebrew/homebrew-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Homebrew/homebrew-core/downloads","issues_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues{/number}","pulls_url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls{/number}","milestones_url":"https://api.github.com/repos/Homebrew/homebrew-core/milestones{/number}","notifications_url":"https://api.github.com/repos/Homebrew/homebrew-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/labels{/name}","releases_url":"https://api.github.com/repos/Homebrew/homebrew-core/releases{/id}","deployments_url":"https://api.github.com/repos/Homebrew/homebrew-core/deployments","created_at":"2016-03-01T06:58:36Z","updated_at":"2025-11-09T23:51:33Z","pushed_at":"2025-11-09T23:58:21Z","git_url":"git://github.com/Homebrew/homebrew-core.git","ssh_url":"git@github.com:Homebrew/homebrew-core.git","clone_url":"https://github.com/Homebrew/homebrew-core.git","svn_url":"https://github.com/Homebrew/homebrew-core","homepage":"https://brew.sh","size":1043335,"stargazers_count":14795,"watchers_count":14795,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13181,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":78,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["core","formulae","hacktoberfest","homebrew","ruby","tap"],"visibility":"public","forks":13181,"open_issues":78,"watchers":14795,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls/155592","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","diff_url":"https://github.com/Homebrew/homebrew-core/pull/155592.diff","patch_url":"https://github.com/Homebrew/homebrew-core/pull/155592.patch","merged_at":"2023-11-26T23:17:53Z"},"body":"Created by `brew bump`\n\n---\n\nCreated with `brew bump-formula-pr`.<details>\n  <summary>release notes</summary>\n  <pre>ripgrep 14 is a new major version release of ripgrep that has some new\r\nfeatures, performance improvements and a lot of bug fixes.\r\n\r\n> In case you haven't heard of it before, ripgrep is a line-oriented search\r\n> tool that recursively searches the current directory for a regex pattern.\r\n> By default, ripgrep will respect gitignore rules and automatically skip\r\n> hidden files/directories and binary files.\r\n\r\nThe headling feature in this release is hyperlink support. In this release,\r\nthey are an opt-in feature but may change to an opt-out feature in the future.\r\nTo enable them, try passing `--hyperlink-format default`. If you use [VS Code],\r\nthen try passing `--hyperlink-format vscode`. Please [report your experience\r\nwith hyperlinks][report-hyperlinks], positive or negative.\r\n\r\n[VS Code]: https://code.visualstudio.com/\r\n[report-hyperlinks]: https://github.com/BurntSushi/ripgrep/discussions/2611\r\n\r\nAnother headling development in this release is that it contains a rewrite of\r\nits regex engine. You generally shouldn't notice any changes, except for some\r\nsearches may get faster. You can read more about the [regex engine rewrite on\r\nmy blog][regex-internals]. Please [report your performance improvements or\r\nregressions that you notice][report-perf].\r\n\r\n[report-perf]: https://github.com/BurntSushi/ripgrep/discussions/2652\r\n\r\nFinally, ripgrep switched the library it uses for argument parsing. Users\r\nshould not notice a difference in most cases (error messages have changed\r\nsomewhat), but flag overrides should generally be more consistent. For example,\r\nthings like `--no-ignore --ignore-vcs` work as one would expect (disables all\r\nfiltering related to ignore rules except for rules found in version control\r\nsystems such as `git`).\r\n\r\n[regex-internals]: https://blog.burntsushi.net/regex-internals/\r\n\r\n**BREAKING CHANGES**:\r\n\r\n* `rg -C1 -A2` used to be equivalent to `rg -A2`, but now it is equivalent to\r\n  `rg -B1 -A2`. That is, `-A` and `-B` no longer completely override `-C`.\r\n  Instead, they only partially override `-C`.\r\n\r\nBuild process changes:\r\n\r\n* ripgrep's shell completions and man page are now created by running ripgrep\r\nwith a new `--generate` flag. For example, `rg --generate man` will write a\r\nman page in `roff` format on stdout. The release archives have not changed.\r\n* The optional build dependency on `asciidoc` or `asciidoctor` has been\r\ndropped. Previously, it was used to produce ripgrep's man page. ripgrep now\r\nowns this process itself by writing `roff` directly.\r\n\r\nPerformance improvements:\r\n\r\n* [PERF #1746](https://github.com/BurntSushi/ripgrep/issues/1746):\r\n  Make some cases with inner literals faster.\r\n* [PERF #1760](https://github.com/BurntSushi/ripgrep/issues/1760):\r\n  Make most searches with `\\b` look-arounds (among others) much faster.\r\n* [PERF #2591](https://github.com/BurntSushi/ripgrep/pull/2591):\r\n  Parallel directory traversal now uses work stealing for faster searches.\r\n* [PERF #2642](https://github.com/BurntSushi/ripgrep/pull/2642):\r\n  Parallel directory traversal has some contention reduced.\r\n\r\nFeature enhancements:\r\n\r\n* Added or improved file type filtering for Ada, DITA, Elixir, Fuchsia, Gentoo,\r\n  Gradle, GraphQL, Markdown, Prolog, Raku, TypeScript, USD, V\r\n* [FEATURE #665](https://github.com/BurntSushi/ripgrep/issues/665):\r\n  Add a new `--hyperlink-format` flag that turns file paths into hyperlinks.\r\n* [FEATURE #1709](https://github.com/BurntSushi/ripgrep/issues/1709):\r\n  Improve documentation of ripgrep's behavior when stdout is a tty.\r\n* [FEATURE #1737](https://github.com/BurntSushi/ripgrep/issues/1737):\r\n  Provide binaries for Apple silicon.\r\n* [FEATURE #1790](https://github.com/BurntSushi/ripgrep/issues/1790):\r\n  Add new `--stop-on-nonmatch` flag.\r\n* [FEATURE #1814](https://github.com/BurntSushi/ripgrep/issues/1814):\r\n  Flags are now categorized in `-h/--help` output and ripgrep's man page.\r\n* [FEATURE #1838](https://github.com/BurntSushi/ripgrep/issues/1838):\r\n  An error is shown when searching for NUL bytes with binary detection enabled.\r\n* [FEATURE #2195](https://github.com/BurntSushi/ripgrep/issues/2195):\r\n  When `extra-verbose` mode is enabled in zsh, show extra file type info.\r\n* [FEATURE #2298](https://github.com/BurntSushi/ripgrep/issues/2298):\r\n  Add instructions for installing ripgrep using `cargo binstall`.\r\n* [FEATURE #2409](https://github.com/BurntSushi/ripgrep/pull/2409):\r\n  Added installation instructions for `winget`.\r\n* [FEATURE #2425](https://github.com/BurntSushi/ripgrep/pull/2425):\r\n  Shell completions (and man page) can be created via `rg --generate`.\r\n* [FEATURE #2524](https://github.com/BurntSushi/ripgrep/issues/2524):\r\n  The `--debug` flag now indicates whether stdin or `./` is being searched.\r\n* [FEATURE #2643](https://github.com/BurntSushi/ripgrep/issues/2643):\r\n  Make `-d` a short flag for `--max-depth`.\r\n* [FEATURE #2645](https://github.com/BurntSushi/ripgrep/issues/2645):\r\n  The `--version` output will now also contain PCRE2 availability information.\r\n\r\nBug fixes:\r\n\r\n* [BUG #884](https://github.com/BurntSushi/ripgrep/issues/884):\r\n  Don't error when `-v/--invert-match` is used multiple times.\r\n* [BUG #1275](https://github.com/BurntSushi/ripgrep/issues/1275):\r\n  Fix bug with `\\b` assertion in the regex engine.\r\n* [BUG #1376](https://github.com/BurntSushi/ripgrep/issues/1376):\r\n  Using `--no-ignore --ignore-vcs` now works as one would expect.\r\n* [BUG #1622](https://github.com/BurntSushi/ripgrep/issues/1622):\r\n  Add note about error messages to `-z/--search-zip` documentation.\r\n* [BUG #1648](https://github.com/BurntSushi/ripgrep/issues/1648):\r\n  Fix bug where sometimes short flags with values, e.g., `-M 900`, would fail.\r\n* [BUG #1701](https://github.com/BurntSushi/ripgrep/issues/1701):\r\n  Fix bug where some flags could not be repeated.\r\n* [BUG #1757](https://github.com/BurntSushi/ripgrep/issues/1757):\r\n  Fix bug when searching a sub-directory didn't have ignores applied correctly.\r\n* [BUG #1891](https://github.com/BurntSushi/ripgrep/issues/1891):\r\n  Fix bug when using `-w` with a regex that can match the empty string.\r\n* [BUG #1911](https://github.com/BurntSushi/ripgrep/issues/1911):\r\n  Disable mmap searching in all non-64-bit environments.\r\n* [BUG #1966](https://github.com/BurntSushi/ripgrep/issues/1966):\r\n  Fix bug where ripgrep can panic when printing to stderr.\r\n* [BUG #2046](https://github.com/BurntSushi/ripgrep/issues/2046):\r\n  Clarify that `--pre` can accept any kind of path in the documentation.\r\n* [BUG #2108](https://github.com/BurntSushi/ripgrep/issues/2108):\r\n  Improve docs for `-r/--replace` syntax.\r\n* [BUG #2198](https://github.com/BurntSushi/ripgrep/issues/2198):\r\n  Fix bug where `--no-ignore-dot` would not ignore `.rgignore`.\r\n* [BUG #2201](https://github.com/BurntSushi/ripgrep/issues/2201):\r\n  Improve docs for `-r/--replace` flag.\r\n* [BUG #2288](https://github.com/BurntSushi/ripgrep/issues/2288):\r\n  `-A` and `-B` now only each partially override `-C`.\r\n* [BUG #2236](https://github.com/BurntSushi/ripgrep/issues/2236):\r\n  Fix gitignore parsing bug where a trailing `\\/` resulted in an error.\r\n* [BUG #2243](https://github.com/BurntSushi/ripgrep/issues/2243):\r\n  Fix `--sort` flag for values other than `path`.\r\n* [BUG #2246](https://github.com/BurntSushi/ripgrep/issues/2246):\r\n  Add note in `--debug` logs when binary files are ignored.\r\n* [BUG #2337](https://github.com/BurntSushi/ripgrep/issues/2337):\r\n  Improve docs to mention that `--stats` is always implied by `--json`.\r\n* [BUG #2381](https://github.com/BurntSushi/ripgrep/issues/2381):\r\n  Make `-p/--pretty` override flags like `--no-line-number`.\r\n* [BUG #2392](https://github.com/BurntSushi/ripgrep/issues/2392):\r\n  Improve global git config parsing of the `excludesFile` field.\r\n* [BUG #2418](https://github.com/BurntSushi/ripgrep/pull/2418):\r\n  Clarify sorting semantics of `--sort=path`.\r\n* [BUG #2458](https://github.com/BurntSushi/ripgrep/pull/2458):\r\n  Make `--trim` run before `-M/--max-columns` takes effect.\r\n* [BUG #2479](https://github.com/BurntSushi/ripgrep/issues/2479):\r\n  Add documentation about `.ignore`/`.rgignore` files in parent directories.\r\n* [BUG #2480](https://github.com/BurntSushi/ripgrep/issues/2480):\r\n  Fix bug when using inline regex flags with `-e/--regexp`.\r\n* [BUG #2505](https://github.com/BurntSushi/ripgrep/issues/2505):\r\n  Improve docs for `--vimgrep` by mentioning footguns and some work-arounds.\r\n* [BUG #2519](https://github.com/BurntSushi/ripgrep/issues/2519):\r\n  Fix incorrect default value in documentation for `--field-match-separator`.\r\n* [BUG #2523](https://github.com/BurntSushi/ripgrep/issues/2523):\r\n  Make executable searching take `.com` into account on Windows.\r\n* [BUG #2574](https://github.com/BurntSushi/ripgrep/issues/2574):\r\n  Fix bug in `-w/--word-regexp` that would result in incorrect match offsets.\r\n* [BUG #2623](https://github.com/BurntSushi/ripgrep/issues/2623):\r\n  Fix a number of bugs with the `-w/--word-regexp` flag.\r\n* [BUG #2636](https://github.com/BurntSushi/ripgrep/pull/2636):\r\n  Strip release binaries for macOS.</pre>\n</details>\n\n\n","reactions":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11082621481,"node_id":"REFE_lADOAzJbyc5lMHukzwAAAAKUk2Ip","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11082621481","actor":{"login":"netbsd-srcmastr","id":27641251,"node_id":"MDQ6VXNlcjI3NjQxMjUx","avatar_url":"https://avatars.githubusercontent.com/u/27641251?v=4","gravatar_id":"","url":"https://api.github.com/users/netbsd-srcmastr","html_url":"https://github.com/netbsd-srcmastr","followers_url":"https://api.github.com/users/netbsd-srcmastr/followers","following_url":"https://api.github.com/users/netbsd-srcmastr/following{/other_user}","gists_url":"https://api.github.com/users/netbsd-srcmastr/gists{/gist_id}","starred_url":"https://api.github.com/users/netbsd-srcmastr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netbsd-srcmastr/subscriptions","organizations_url":"https://api.github.com/users/netbsd-srcmastr/orgs","repos_url":"https://api.github.com/users/netbsd-srcmastr/repos","events_url":"https://api.github.com/users/netbsd-srcmastr/events{/privacy}","received_events_url":"https://api.github.com/users/netbsd-srcmastr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","commit_url":"https://api.github.com/repos/NetBSD/pkgsrc/commits/3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","created_at":"2023-11-28T11:59:19Z","performed_via_github_app":null},{"id":11656583065,"node_id":"REFE_lADOAzJbyc5lMHukzwAAAAK2yVeZ","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11656583065","actor":{"login":"liqipeng","id":6264774,"node_id":"MDQ6VXNlcjYyNjQ3NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6264774?v=4","gravatar_id":"","url":"https://api.github.com/users/liqipeng","html_url":"https://github.com/liqipeng","followers_url":"https://api.github.com/users/liqipeng/followers","following_url":"https://api.github.com/users/liqipeng/following{/other_user}","gists_url":"https://api.github.com/users/liqipeng/gists{/gist_id}","starred_url":"https://api.github.com/users/liqipeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liqipeng/subscriptions","organizations_url":"https://api.github.com/users/liqipeng/orgs","repos_url":"https://api.github.com/users/liqipeng/repos","events_url":"https://api.github.com/users/liqipeng/events{/privacy}","received_events_url":"https://api.github.com/users/liqipeng/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1cbcefddc9cfe1a9acbcc71adef7d9c0591fcb1d","commit_url":"https://api.github.com/repos/liqipeng/rust-ripgrep/commits/1cbcefddc9cfe1a9acbcc71adef7d9c0591fcb1d","created_at":"2024-01-31T14:27:45Z","performed_via_github_app":null}]