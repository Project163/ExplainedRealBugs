{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/162","id":182147479,"node_id":"MDU6SXNzdWUxODIxNDc0Nzk=","number":162,"title":"libripgrep","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721680,"node_id":"MDU6TGFiZWwzMzk3MjE2ODA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"An enhancement to the functionality of the software."},{"id":515719974,"node_id":"MDU6TGFiZWw1MTU3MTk5NzQ=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/libripgrep","name":"libripgrep","color":"e99695","default":false,"description":"An issue related to modularizing ripgrep into libraries."}],"state":"closed","locked":false,"assignee":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones/1","html_url":"https://github.com/BurntSushi/ripgrep/milestone/1","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones/1/labels","id":2239591,"node_id":"MDk6TWlsZXN0b25lMjIzOTU5MQ==","number":1,"title":"libripgrep","description":"","creator":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":19,"state":"open","created_at":"2017-01-10T02:04:10Z","updated_at":"2019-01-27T18:16:16Z","due_on":null,"closed_at":null},"comments":14,"created_at":"2016-10-11T00:42:59Z","updated_at":"2018-08-20T11:10:20Z","closed_at":"2018-08-20T11:10:20Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a tracking issue for the concept known as \"libripgrep.\"\r\n\r\nIn fact, \"libripgrep\" probably won't ever be a thing unto itself. Instead, there will be several independent crates that together make up the thing one might think of as \"libripgrep.\" Most of this work is already done. Here's a list:\r\n- [memchr](https://crates.io/crates/memchr) - Fast single byte search.\r\n- [walkdir](https://crates.io/crates/walkdir) - Recursive directory iterator.\r\n- [utf8-ranges](https://crates.io/crates/utf8-ranges) - Generate utf8 automata.\r\n- [regex-syntax](https://crates.io/crates/regex-syntax) - A regex parser (including literal extraction helpers).\r\n- [regex](https://crates.io/crates/regex) - The regex engine itself.\r\n- [globset](https://crates.io/crates/globset) - Regex based glob matching, including glob-set matching.\r\n- [grep](https://crates.io/crates/grep) - Blazing fast line-by-line search. This is where all of the inner literal optimizations happen. (INCOMPLETE.)\r\n- [ignore](https://crates.io/crates/ignore) - Recursively traverse a directory while respecting ignore files and file types.\r\n- parallel directory iterator - Iterate over files in parallel, applying ignore rules. (**This is now done and part of the `ignore` crate.**)\r\n\r\n`grep` is incomplete because it exposes only the most basic line-by-line\r\nsearch. For example, it doesn't handle inverted matching, context handling,\r\nline counts or anything other than \"which line matches this regex.\" Still,\r\nthere is considerable regex-specific work in here around literal matching and\r\nother optimizations. The rest of the aforementioned work is done in `ripgrep`\r\nproper. Ideally, all of that should get moved out into the `grep` crate. This\r\nis predominantly a _design_ task, because searching is inextricably tied to\r\nprinting, which means the API for all of these features is quite complex.\r\n\r\n`gitignore` is a reasonably light wrapper around the `globset` crate. The hope\r\nis that a future `hgignore` crate would be too. Nevertheless, the semantics are\r\ntricky enough that it's worth it to put it into its own crate.\r\n\r\nA parallel directory iterator is something I want because so much time is spent\r\nin handling all of the ignore rules. If we can apply parallelism to that, I\r\nkind of expect that we'll get a nice win. Whether a parallel directory iterator\r\ncan be design out-of-tree or not still isn't clear. In particular, it's not\r\nclear how coupled this needs to be with respecting ignore rules.\r\n\r\n---\r\n\r\nIn any case, I don't really have the bandwidth to do the design work required to manage contributions from others toward this goal quite yet. I kind of think they're big enough that I would like to at least do the initial work on them.\r\n","closed_by":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162/reactions","total_count":9,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":9,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/162/timeline","performed_via_github_app":null,"state_reason":"completed"}