{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/1622","id":641990761,"node_id":"MDU6SXNzdWU2NDE5OTA3NjE=","number":1622,"title":"-z option on Windows requires \"gzip\" no documented dependencies and no Errors in execution","user":{"login":"cwitter","id":12753646,"node_id":"MDQ6VXNlcjEyNzUzNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/12753646?v=4","gravatar_id":"","url":"https://api.github.com/users/cwitter","html_url":"https://github.com/cwitter","followers_url":"https://api.github.com/users/cwitter/followers","following_url":"https://api.github.com/users/cwitter/following{/other_user}","gists_url":"https://api.github.com/users/cwitter/gists{/gist_id}","starred_url":"https://api.github.com/users/cwitter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwitter/subscriptions","organizations_url":"https://api.github.com/users/cwitter/orgs","repos_url":"https://api.github.com/users/cwitter/repos","events_url":"https://api.github.com/users/cwitter/events{/privacy}","received_events_url":"https://api.github.com/users/cwitter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":449399236,"node_id":"MDU6TGFiZWw0NDkzOTkyMzY=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/doc","name":"doc","color":"fbca04","default":false,"description":"An issue with or an improvement to documentation."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-19T13:59:10Z","updated_at":"2023-11-25T20:04:02Z","closed_at":"2023-11-25T20:04:02Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What version of ripgrep are you using?\r\n\r\nripgrep 12.1.1 (rev 7cb211378a)\r\n-SIMD -AVX (compiled)\r\n+SIMD +AVX (runtime)\r\n\r\n#### How did you install ripgrep?\r\n\r\nhttps://github.com/BurntSushi/ripgrep/releases/download/12.1.1/ripgrep-12.1.1-x86_64-pc-windows-msvc.zip\r\n\r\n#### What operating system are you using ripgrep on?\r\n\r\nWindows 10 Professional\r\n\r\n#### Describe your bug.\r\n\r\nUsing ripgrep with the \"-z\" option and attempting to search GZip files it reports no errors when missing the \"gzip\" dependency.\r\n\r\n#### What are the steps to reproduce the behavior?\r\n\r\nrg -z -i info -g *\r\n\r\n#### What is the actual behavior?\r\n\r\nrg -z -i info -g * --debug\r\n\r\n```\r\n|crates\\cli\\src\\decompress.rs:196: 2020-06-17-1.log.gz: error spawning command '\"gzip\" \"-d\" \"-c\" \"2020-06-17-1.log.gz\"': The system cannot find the file specified. (os error 2) (falling back to uncompressed reader)\r\nDEBUG|grep_cli::decompress|crates\\cli\\src\\decompress.rs:196: 2020-06-18-1.log.gz: error spawning command '\"gzip\" \"-d\" \"-c\" \"2020-06-18-1.log.gz\"': The system cannot find the file specified. (os error 2) (falling back to uncompressed reader)\r\n```\r\n\r\n#### What is the expected behavior?\r\nNo dependencies are listed for the Windows installation, expected behavior is it would work as expected or provide an error calling out the missing dependencies. Minor documentation updates to call out the requirements on Windows might help others as well.\r\n\r\nWhat do you think ripgrep should have done?\r\nInclude a decompression error similar to the one in the \"debug\" output to inform the user of the failure.\r\nWith GNU Gzip installed and in the PATH everything works as expected for GZ files.","closed_by":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1622/timeline","performed_via_github_app":null,"state_reason":"completed"}