[{"id":4100270284,"node_id":"MDEyOkxhYmVsZWRFdmVudDQxMDAyNzAyODQ=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4100270284","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-12-11T13:03:36Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/743184845","html_url":"https://github.com/BurntSushi/ripgrep/issues/1760#issuecomment-743184845","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1760","id":743184845,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE4NDg0NQ==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:12:06Z","updated_at":"2020-12-11T13:12:06Z","body":"Thanks for the detailed and easy to reproduce report! The cause of this is two-fold (repeating what I said in our email exchange):\r\n\r\n1. ripgrep enables Unicode by default and a Unicode-aware `\\b` (word boundary) has a slower implementation path.\r\n2. ripgrep's `--debug` output shows that _no_ literals are extracted from this regex, even though this looks like a pretty simple case with obvious inner literals. It looks like this occurs because the [inner literal detector gives up completely when it sees a word boundary](https://github.com/BurntSushi/ripgrep/blob/a6d05475fb353c756e88f605fd5366a67943e591/crates/regex/src/literal.rs#L261).\r\n\r\n(1) is hard to fix, although, if you're fine with an ASCII word boundary, then using `--no-unicode` (or `(?-u)\\bfoo\\b \\bbar\\b` as the regex) will work around the performance problem since ASCII word boundaries are implemented more efficiently.\r\n\r\n(2) should be simpler to fix, although the inner literal detector is pretty hairy at the moment. Perhaps supporting simple cases like this would be easy.\r\n\r\nIn general though, sadly, regexes with Unicode-aware `\\b` will be slower to execute. The literal optimization is just something helps in a lot of cases.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/743184845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ethack","id":1696711,"node_id":"MDQ6VXNlcjE2OTY3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1696711?v=4","gravatar_id":"","url":"https://api.github.com/users/ethack","html_url":"https://github.com/ethack","followers_url":"https://api.github.com/users/ethack/followers","following_url":"https://api.github.com/users/ethack/following{/other_user}","gists_url":"https://api.github.com/users/ethack/gists{/gist_id}","starred_url":"https://api.github.com/users/ethack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ethack/subscriptions","organizations_url":"https://api.github.com/users/ethack/orgs","repos_url":"https://api.github.com/users/ethack/repos","events_url":"https://api.github.com/users/ethack/events{/privacy}","received_events_url":"https://api.github.com/users/ethack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-01T04:14:22Z","updated_at":"2021-05-01T04:14:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/1860","id":873527442,"node_id":"MDU6SXNzdWU4NzM1Mjc0NDI=","number":1860,"title":"Slower search with combination word boundary and multiple regex on certain files","user":{"login":"ethack","id":1696711,"node_id":"MDQ6VXNlcjE2OTY3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1696711?v=4","gravatar_id":"","url":"https://api.github.com/users/ethack","html_url":"https://github.com/ethack","followers_url":"https://api.github.com/users/ethack/followers","following_url":"https://api.github.com/users/ethack/following{/other_user}","gists_url":"https://api.github.com/users/ethack/gists{/gist_id}","starred_url":"https://api.github.com/users/ethack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ethack/subscriptions","organizations_url":"https://api.github.com/users/ethack/orgs","repos_url":"https://api.github.com/users/ethack/repos","events_url":"https://api.github.com/users/ethack/events{/privacy}","received_events_url":"https://api.github.com/users/ethack/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-05-01T04:14:22Z","updated_at":"2021-05-02T03:21:40Z","closed_at":"2021-05-01T11:45:57Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### What version of ripgrep are you using?\r\n\r\n```bash\r\nrg --version\r\nripgrep 12.1.1\r\n-SIMD -AVX (compiled)\r\n+SIMD +AVX (runtime)\r\n```\r\n\r\n#### How did you install ripgrep?\r\n\r\n```\r\napt-get -y install ripgrep\r\n```\r\n\r\n#### What operating system are you using ripgrep on?\r\n\r\nRipgrep is inside a docker container.\r\nHost: Pop!_OS 20.04 (Ubuntu 20.04 variant)\r\nContainer: Ubuntu 21.04 Hirsute\r\nKernel:\r\n```\r\nuname -mr\r\n5.11.0-7614-generic x86_64\r\n```\r\n\r\n#### Describe your bug.\r\n\r\nThis may be a duplicate or related to #1760. I am getting much slower execution time when using word boundaries `\\b` in a regex. The search performance is:\r\n- Fast with a `\\b` search pattern.\r\n- Slow with a `\\b` search pattern plus an additional pattern.\r\n- Fast with a `\\b` search pattern plus an additional pattern when `--no-unicode` is used.\r\n- Fast with a `\\b` search pattern plus an additional pattern on a differently formatted file (TSV vs JSON).\r\n\r\n#### What are the steps to reproduce the behavior?\r\n\r\nHere are the two files which can be used to reproduce the issue.\r\n[conn.json.log](https://github.com/BurntSushi/ripgrep/files/6408803/conn.json.log)\r\n[conn.tsv.log](https://github.com/BurntSushi/ripgrep/files/6408805/conn.tsv.log)\r\n\r\nThese are [Zeek](https://zeek.org/) conn log files that contain the same information but in different formats. `conn.tsv.log` is tab-separated and was converted to JSON to generate `conn.json.log`. The files I uploaded are the `head -1000` of two larger files. I can provide the larger logs if they would be useful.\r\n\r\n```\r\n# original larger logs\r\ndu -h conn.tsv.log\r\n54M conn.tsv.log\r\nwc -l conn.tsv.log\r\n455545 conn.tsv.log\r\n\r\ndu -h conn.json.log\r\n150M\tconn.json.log\r\nwc -l conn.json.log\r\n455536 conn.json.log\r\n```\r\n\r\nThe `time` command differences are very small with the files I uploaded, but I'll also provide [hyperfine](https://github.com/sharkdp/hyperfine) output for both the full logs and the ones I uploaded.\r\n\r\n#### What is the actual behavior?\r\n\r\nThe following timings are on the larger logs.\r\n\r\nWhen I use a regex for an IP address, the search time is very small (<1s).\r\n```\r\n$ time rg -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null\r\nrg -e '\\b10\\.55\\.182\\.100\\b' conn.json.log > /dev/null  0.73s user 0.16s system 381% cpu 0.231 total\r\n```\r\n\r\nWhen I add an additional regex, the search time is long (>30sec).\r\n```\r\n$ time rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null\r\nrg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log > /dev/null  151.99s user 1.41s system 401% cpu 38.231 total\r\n```\r\n\r\nIf I add `--no-unicode`, the search time drops back down (<1s).\r\n```\r\n$ time rg --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null\r\nrg --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log > /dev/null  0.28s user 0.01s system 98% cpu 0.300 total\r\n```\r\n\r\nThis next part puzzles me even more. Recall that the TSV file was used to generate the JSON file. I know these aren't the same and are quite different file sizes. But it's not like a bunch of non-ASCII characters got added to one file and not the other. If I run the command from the JSON file that caused the long search time on the TSV, the search time is short (<1s).\r\n```\r\n$ time rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log >/dev/null\r\nrg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log > /dev/null  0.12s user 0.01s system 99% cpu 0.131 total\r\n```\r\n\r\nHere are hyperfine results that compare the last three commands, along with using `--no-unicode` on the TSV file for good measure.\r\n\r\n```\r\n$ hyperfine -w 1 -i \\\r\n  -n tsv-unicode \"rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log\" \\\r\n  -n tsv-no-unicode \"rg --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log\" \\\r\n  -n json-unicode \"rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log\" \\\r\n  -n json-no-unicode \"rg --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log\"\r\n\r\nBenchmark #1: tsv-unicode\r\n  Time (mean ¬± œÉ):     150.1 ms ¬±   7.5 ms    [User: 531.0 ms, System: 54.8 ms]\r\n  Range (min ‚Ä¶ max):   133.6 ms ‚Ä¶ 166.4 ms    22 runs\r\n \r\nBenchmark #2: tsv-no-unicode\r\n  Time (mean ¬± œÉ):     156.6 ms ¬±   8.9 ms    [User: 559.2 ms, System: 57.2 ms]\r\n  Range (min ‚Ä¶ max):   144.6 ms ‚Ä¶ 188.8 ms    19 runs\r\n \r\nBenchmark #3: json-unicode\r\n  Time (mean ¬± œÉ):     46.889 s ¬±  1.209 s    [User: 187.340 s, System: 1.998 s]\r\n  Range (min ‚Ä¶ max):   45.547 s ‚Ä¶ 49.531 s    10 runs\r\n \r\nBenchmark #4: json-no-unicode\r\n  Time (mean ¬± œÉ):     508.9 ms ¬±  20.1 ms    [User: 1.863 s, System: 0.186 s]\r\n  Range (min ‚Ä¶ max):   462.8 ms ‚Ä¶ 531.0 ms    10 runs\r\n \r\nSummary\r\n  'tsv-unicode' ran\r\n    1.04 ¬± 0.08 times faster than 'tsv-no-unicode'\r\n    3.39 ¬± 0.22 times faster than 'json-no-unicode'\r\n  312.32 ¬± 17.55 times faster than 'json-unicode'\r\n```\r\n\r\nAnd here are hyperfine results with nearly the same commands on the smaller files provided, just to show that the same differences can be seen.\r\n\r\n```\r\n$ hyperfine -w 1 \\\r\n  -n rg-tsv \"rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log | wc -l\" \\\r\n  -n rg-json \"rg -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log | wc -l\" \\\r\n  -n rg-json-no-unicode \"rg --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log | wc -l\"\r\n\r\nBenchmark #1: rg-tsv\r\n  Time (mean ¬± œÉ):       5.0 ms ¬±   2.0 ms    [User: 4.0 ms, System: 1.7 ms]\r\n  Range (min ‚Ä¶ max):     2.8 ms ‚Ä¶  11.6 ms    866 runs\r\n \r\n  Warning: Command took less than 5 ms to complete. Results might be inaccurate.\r\n \r\nBenchmark #2: rg-json\r\n  Time (mean ¬± œÉ):      59.8 ms ¬±   5.6 ms    [User: 58.6 ms, System: 1.6 ms]\r\n  Range (min ‚Ä¶ max):    51.5 ms ‚Ä¶  70.9 ms    50 runs\r\n \r\nBenchmark #3: rg-json-no-unicode\r\n  Time (mean ¬± œÉ):       6.0 ms ¬±   2.1 ms    [User: 4.8 ms, System: 2.0 ms]\r\n  Range (min ‚Ä¶ max):     3.1 ms ‚Ä¶  11.7 ms    775 runs\r\n \r\n  Warning: Command took less than 5 ms to complete. Results might be inaccurate.\r\n \r\nSummary\r\n  'rg-tsv' ran\r\n    1.20 ¬± 0.63 times faster than 'rg-json-no-unicode'\r\n   11.89 ¬± 4.76 times faster than 'rg-json'\r\n```\r\n\r\nHere are several debug outputs.\r\n\r\nFast (one search pattern):\r\n```\r\n$ rg --debug  -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null         \r\nDEBUG|grep_regex::literal|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/grep-regex-0.1.8/src/literal.rs:180: required literal found: \"10.55.182.100\"\r\nDEBUG|grep_regex::matcher|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/grep-regex-0.1.8/src/matcher.rs:50: extracted fast line regex: (?-u:10\\x2e55\\x2e182\\x2e100)\r\nDEBUG|globset|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/globset-0.4.5/src/lib.rs:431: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes\r\n```\r\n\r\nSlow (two search patterns):\r\n```\r\n$ rg --debug -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null\r\nDEBUG|globset|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/globset-0.4.5/src/lib.rs:431: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes\r\n```\r\n\r\nFast (two search patterns, --no-unicode):\r\n```\r\n$ rg --debug --no-unicode -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.json.log >/dev/null\r\nDEBUG|globset|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/globset-0.4.5/src/lib.rs:431: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes\r\n```\r\n\r\nFast (two search patterns, TSV):\r\n```\r\n$ rg --debug -e '^#' -e '\\b10\\.55\\.182\\.100\\b' conn.tsv.log >/dev/null             \r\nDEBUG|globset|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/globset-0.4.5/src/lib.rs:431: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes\r\n```\r\n\r\nFast (two search patterns, no word boundaries):\r\n```\r\n$ rg --debug -e '^#' -e '10\\.55\\.182\\.100' conn.json.log >/dev/null\r\nDEBUG|globset|/usr/share/cargo/registry/ripgrep-12.1.1/debian/cargo_registry/globset-0.4.5/src/lib.rs:431: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes\r\n```\r\n\r\n#### What is the expected behavior?\r\n\r\nIdeally, I'd like the slow search to take roughly the same time as the other fast searches.\r\n\r\nI understand from #1760 that word boundaries with Unicode is a slow process. But if that's the case here, I wonder why the same search on a different file can be so much faster?","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1860/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1754074591","html_url":"https://github.com/BurntSushi/ripgrep/issues/1760#issuecomment-1754074591","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1760","id":1754074591,"node_id":"IC_kwDOAzJbyc5ojQ3f","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T23:57:53Z","updated_at":"2023-10-09T23:59:53Z","body":"This will be fixed in the ripgrep 14 release:\r\n\r\n```\r\n$ hyperfine \"rg-13.0.0 -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt\" \"rg -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt\"\r\nBenchmark 1: rg-13.0.0 -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt\r\n  Time (mean ¬± œÉ):      1.034 s ¬±  0.011 s    [User: 1.030 s, System: 0.004 s]\r\n  Range (min ‚Ä¶ max):    1.021 s ‚Ä¶  1.053 s    10 runs\r\n\r\nBenchmark 2: rg -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt\r\n  Time (mean ¬± œÉ):       6.3 ms ¬±   0.3 ms    [User: 4.6 ms, System: 1.6 ms]\r\n  Range (min ‚Ä¶ max):     5.6 ms ‚Ä¶   7.3 ms    343 runs\r\n\r\nSummary\r\n  'rg -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt' ran\r\n  164.95 ¬± 7.70 times faster than 'rg-13.0.0 -ic '\\bfoo\\b \\bbar\\b' git-3a06386e.txt'\r\n```\r\n\r\nThis was not fixed by making \\b itself faster, but rather, by improving\r\ninner literal extraction. In particular, if the regex doesn't have any\r\nliterals extracted, then search time can still be quite slow:\r\n\r\n```\r\n$ time rg-13.0.0 -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n57538\r\n\r\nreal    0.427\r\nuser    0.423\r\nsys     0.003\r\nmaxmem  46 MB\r\nfaults  0\r\n$ time rg -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n57538\r\n\r\nreal    0.337\r\nuser    0.333\r\nsys     0.003\r\nmaxmem  46 MB\r\nfaults  0\r\n```\r\n\r\nBut then again, so is grep, because grep doesn't benefit from any\r\nliteral optimizations either:\r\n\r\n```\r\n$ time grep -E -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n62396\r\n\r\nreal    1.316\r\nuser    1.292\r\nsys     0.007\r\nmaxmem  13 MB\r\nfaults  7\r\n```\r\n\r\n(The count mismatch is quite interesting!)\r\n\r\nAnd if you disable Unicode, then everyone gets faster:\r\n\r\n```\r\n$ time LC_ALL=C grep -E -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n58798\r\n\r\nreal    0.093\r\nuser    0.090\r\nsys     0.003\r\nmaxmem  13 MB\r\nfaults  0\r\n\r\n$ time rg-13.0.0 --no-unicode -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n58798\r\n\r\nreal    0.054\r\nuser    0.054\r\nsys     0.000\r\nmaxmem  46 MB\r\nfaults  0\r\n\r\n$ time rg --no-unicode -ic '\\b[a-z]{3}\\b\\s\\b[a-z]{3}\\b' git-3a06386e.txt\r\n58798\r\n\r\nreal    0.055\r\nuser    0.055\r\nsys     0.000\r\nmaxmem  46 MB\r\nfaults  0\r\n```","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1754074591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10597118734,"node_id":"REFE_lADOAzJbyc4tZbmMzwAAAAJ3ozMO","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/10597118734","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"52731cdfb2e1f10ee068d8c40fac819484615c81","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/52731cdfb2e1f10ee068d8c40fac819484615c81","created_at":"2023-10-10T00:07:10Z","performed_via_github_app":null},{"id":10597119950,"node_id":"LE_lADOAzJbyc4tZbmMzwAAAAJ3ozfO","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/10597119950","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-10T00:07:30Z","label":{"name":"rollup","color":"ffccee"},"performed_via_github_app":null},{"id":10597259037,"node_id":"CE_lADOAzJbyc4tZbmMzwAAAAJ3pVcd","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/10597259037","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5011f6e9f1da44ffd923d612e75e70411d63a0ea","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/5011f6e9f1da44ffd923d612e75e70411d63a0ea","created_at":"2023-10-10T00:29:55Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-26T20:57:24Z","updated_at":"2023-11-26T20:57:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592","repository_url":"https://api.github.com/repos/Homebrew/homebrew-core","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/comments","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/events","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","id":2011202062,"node_id":"PR_kwDOAyaC3M5gYeMZ","number":155592,"title":"ripgrep 14.0.0","user":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":624617309,"node_id":"MDU6TGFiZWw2MjQ2MTczMDk=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/rust","name":"rust","color":"bfe5bf","default":false,"description":"Rust use is a significant feature of the PR or issue"},{"id":778631352,"node_id":"MDU6TGFiZWw3Nzg2MzEzNTI=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/ready%20to%20merge","name":"ready to merge","color":"0e8a16","default":false,"description":"PR can be merged once CI is green"},{"id":921363785,"node_id":"MDU6TGFiZWw5MjEzNjM3ODU=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"},{"id":2983832093,"node_id":"MDU6TGFiZWwyOTgzODMyMDkz","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/bump-formula-pr","name":"bump-formula-pr","color":"606060","default":false,"description":"PR was created using `brew bump-formula-pr`"},{"id":5278102982,"node_id":"LA_kwDOAyaC3M8AAAABOpl1xg","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/CI-published-bottle-commits","name":"CI-published-bottle-commits","color":"0E8A16","default":false,"description":"The commits for the built bottles have been pushed to the PR branch."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-11-26T20:57:24Z","updated_at":"2023-12-27T00:02:09Z","closed_at":"2023-11-26T23:17:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":52855516,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjg1NTUxNg==","name":"homebrew-core","full_name":"Homebrew/homebrew-core","private":false,"owner":{"login":"Homebrew","id":1503512,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MDM1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1503512?v=4","gravatar_id":"","url":"https://api.github.com/users/Homebrew","html_url":"https://github.com/Homebrew","followers_url":"https://api.github.com/users/Homebrew/followers","following_url":"https://api.github.com/users/Homebrew/following{/other_user}","gists_url":"https://api.github.com/users/Homebrew/gists{/gist_id}","starred_url":"https://api.github.com/users/Homebrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Homebrew/subscriptions","organizations_url":"https://api.github.com/users/Homebrew/orgs","repos_url":"https://api.github.com/users/Homebrew/repos","events_url":"https://api.github.com/users/Homebrew/events{/privacy}","received_events_url":"https://api.github.com/users/Homebrew/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Homebrew/homebrew-core","description":"üçª Default formulae for the missing package manager for macOS (or Linux)","fork":false,"url":"https://api.github.com/repos/Homebrew/homebrew-core","forks_url":"https://api.github.com/repos/Homebrew/homebrew-core/forks","keys_url":"https://api.github.com/repos/Homebrew/homebrew-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Homebrew/homebrew-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Homebrew/homebrew-core/teams","hooks_url":"https://api.github.com/repos/Homebrew/homebrew-core/hooks","issue_events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/events{/number}","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/events","assignees_url":"https://api.github.com/repos/Homebrew/homebrew-core/assignees{/user}","branches_url":"https://api.github.com/repos/Homebrew/homebrew-core/branches{/branch}","tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/tags","blobs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Homebrew/homebrew-core/statuses/{sha}","languages_url":"https://api.github.com/repos/Homebrew/homebrew-core/languages","stargazers_url":"https://api.github.com/repos/Homebrew/homebrew-core/stargazers","contributors_url":"https://api.github.com/repos/Homebrew/homebrew-core/contributors","subscribers_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscribers","subscription_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscription","commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/Homebrew/homebrew-core/contents/{+path}","compare_url":"https://api.github.com/repos/Homebrew/homebrew-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Homebrew/homebrew-core/merges","archive_url":"https://api.github.com/repos/Homebrew/homebrew-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Homebrew/homebrew-core/downloads","issues_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues{/number}","pulls_url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls{/number}","milestones_url":"https://api.github.com/repos/Homebrew/homebrew-core/milestones{/number}","notifications_url":"https://api.github.com/repos/Homebrew/homebrew-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/labels{/name}","releases_url":"https://api.github.com/repos/Homebrew/homebrew-core/releases{/id}","deployments_url":"https://api.github.com/repos/Homebrew/homebrew-core/deployments","created_at":"2016-03-01T06:58:36Z","updated_at":"2025-11-09T23:51:33Z","pushed_at":"2025-11-09T23:58:21Z","git_url":"git://github.com/Homebrew/homebrew-core.git","ssh_url":"git@github.com:Homebrew/homebrew-core.git","clone_url":"https://github.com/Homebrew/homebrew-core.git","svn_url":"https://github.com/Homebrew/homebrew-core","homepage":"https://brew.sh","size":1043335,"stargazers_count":14795,"watchers_count":14795,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13181,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":78,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["core","formulae","hacktoberfest","homebrew","ruby","tap"],"visibility":"public","forks":13181,"open_issues":78,"watchers":14795,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls/155592","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","diff_url":"https://github.com/Homebrew/homebrew-core/pull/155592.diff","patch_url":"https://github.com/Homebrew/homebrew-core/pull/155592.patch","merged_at":"2023-11-26T23:17:53Z"},"body":"Created by `brew bump`\n\n---\n\nCreated with `brew bump-formula-pr`.<details>\n  <summary>release notes</summary>\n  <pre>ripgrep 14 is a new major version release of ripgrep that has some new\r\nfeatures, performance improvements and a lot of bug fixes.\r\n\r\n> In case you haven't heard of it before, ripgrep is a line-oriented search\r\n> tool that recursively searches the current directory for a regex pattern.\r\n> By default, ripgrep will respect gitignore rules and automatically skip\r\n> hidden files/directories and binary files.\r\n\r\nThe headling feature in this release is hyperlink support. In this release,\r\nthey are an opt-in feature but may change to an opt-out feature in the future.\r\nTo enable them, try passing `--hyperlink-format default`. If you use [VS Code],\r\nthen try passing `--hyperlink-format vscode`. Please [report your experience\r\nwith hyperlinks][report-hyperlinks], positive or negative.\r\n\r\n[VS Code]: https://code.visualstudio.com/\r\n[report-hyperlinks]: https://github.com/BurntSushi/ripgrep/discussions/2611\r\n\r\nAnother headling development in this release is that it contains a rewrite of\r\nits regex engine. You generally shouldn't notice any changes, except for some\r\nsearches may get faster. You can read more about the [regex engine rewrite on\r\nmy blog][regex-internals]. Please [report your performance improvements or\r\nregressions that you notice][report-perf].\r\n\r\n[report-perf]: https://github.com/BurntSushi/ripgrep/discussions/2652\r\n\r\nFinally, ripgrep switched the library it uses for argument parsing. Users\r\nshould not notice a difference in most cases (error messages have changed\r\nsomewhat), but flag overrides should generally be more consistent. For example,\r\nthings like `--no-ignore --ignore-vcs` work as one would expect (disables all\r\nfiltering related to ignore rules except for rules found in version control\r\nsystems such as `git`).\r\n\r\n[regex-internals]: https://blog.burntsushi.net/regex-internals/\r\n\r\n**BREAKING CHANGES**:\r\n\r\n* `rg -C1 -A2` used to be equivalent to `rg -A2`, but now it is equivalent to\r\n  `rg -B1 -A2`. That is, `-A` and `-B` no longer completely override `-C`.\r\n  Instead, they only partially override `-C`.\r\n\r\nBuild process changes:\r\n\r\n* ripgrep's shell completions and man page are now created by running ripgrep\r\nwith a new `--generate` flag. For example, `rg --generate man` will write a\r\nman page in `roff` format on stdout. The release archives have not changed.\r\n* The optional build dependency on `asciidoc` or `asciidoctor` has been\r\ndropped. Previously, it was used to produce ripgrep's man page. ripgrep now\r\nowns this process itself by writing `roff` directly.\r\n\r\nPerformance improvements:\r\n\r\n* [PERF #1746](https://github.com/BurntSushi/ripgrep/issues/1746):\r\n  Make some cases with inner literals faster.\r\n* [PERF #1760](https://github.com/BurntSushi/ripgrep/issues/1760):\r\n  Make most searches with `\\b` look-arounds (among others) much faster.\r\n* [PERF #2591](https://github.com/BurntSushi/ripgrep/pull/2591):\r\n  Parallel directory traversal now uses work stealing for faster searches.\r\n* [PERF #2642](https://github.com/BurntSushi/ripgrep/pull/2642):\r\n  Parallel directory traversal has some contention reduced.\r\n\r\nFeature enhancements:\r\n\r\n* Added or improved file type filtering for Ada, DITA, Elixir, Fuchsia, Gentoo,\r\n  Gradle, GraphQL, Markdown, Prolog, Raku, TypeScript, USD, V\r\n* [FEATURE #665](https://github.com/BurntSushi/ripgrep/issues/665):\r\n  Add a new `--hyperlink-format` flag that turns file paths into hyperlinks.\r\n* [FEATURE #1709](https://github.com/BurntSushi/ripgrep/issues/1709):\r\n  Improve documentation of ripgrep's behavior when stdout is a tty.\r\n* [FEATURE #1737](https://github.com/BurntSushi/ripgrep/issues/1737):\r\n  Provide binaries for Apple silicon.\r\n* [FEATURE #1790](https://github.com/BurntSushi/ripgrep/issues/1790):\r\n  Add new `--stop-on-nonmatch` flag.\r\n* [FEATURE #1814](https://github.com/BurntSushi/ripgrep/issues/1814):\r\n  Flags are now categorized in `-h/--help` output and ripgrep's man page.\r\n* [FEATURE #1838](https://github.com/BurntSushi/ripgrep/issues/1838):\r\n  An error is shown when searching for NUL bytes with binary detection enabled.\r\n* [FEATURE #2195](https://github.com/BurntSushi/ripgrep/issues/2195):\r\n  When `extra-verbose` mode is enabled in zsh, show extra file type info.\r\n* [FEATURE #2298](https://github.com/BurntSushi/ripgrep/issues/2298):\r\n  Add instructions for installing ripgrep using `cargo binstall`.\r\n* [FEATURE #2409](https://github.com/BurntSushi/ripgrep/pull/2409):\r\n  Added installation instructions for `winget`.\r\n* [FEATURE #2425](https://github.com/BurntSushi/ripgrep/pull/2425):\r\n  Shell completions (and man page) can be created via `rg --generate`.\r\n* [FEATURE #2524](https://github.com/BurntSushi/ripgrep/issues/2524):\r\n  The `--debug` flag now indicates whether stdin or `./` is being searched.\r\n* [FEATURE #2643](https://github.com/BurntSushi/ripgrep/issues/2643):\r\n  Make `-d` a short flag for `--max-depth`.\r\n* [FEATURE #2645](https://github.com/BurntSushi/ripgrep/issues/2645):\r\n  The `--version` output will now also contain PCRE2 availability information.\r\n\r\nBug fixes:\r\n\r\n* [BUG #884](https://github.com/BurntSushi/ripgrep/issues/884):\r\n  Don't error when `-v/--invert-match` is used multiple times.\r\n* [BUG #1275](https://github.com/BurntSushi/ripgrep/issues/1275):\r\n  Fix bug with `\\b` assertion in the regex engine.\r\n* [BUG #1376](https://github.com/BurntSushi/ripgrep/issues/1376):\r\n  Using `--no-ignore --ignore-vcs` now works as one would expect.\r\n* [BUG #1622](https://github.com/BurntSushi/ripgrep/issues/1622):\r\n  Add note about error messages to `-z/--search-zip` documentation.\r\n* [BUG #1648](https://github.com/BurntSushi/ripgrep/issues/1648):\r\n  Fix bug where sometimes short flags with values, e.g., `-M 900`, would fail.\r\n* [BUG #1701](https://github.com/BurntSushi/ripgrep/issues/1701):\r\n  Fix bug where some flags could not be repeated.\r\n* [BUG #1757](https://github.com/BurntSushi/ripgrep/issues/1757):\r\n  Fix bug when searching a sub-directory didn't have ignores applied correctly.\r\n* [BUG #1891](https://github.com/BurntSushi/ripgrep/issues/1891):\r\n  Fix bug when using `-w` with a regex that can match the empty string.\r\n* [BUG #1911](https://github.com/BurntSushi/ripgrep/issues/1911):\r\n  Disable mmap searching in all non-64-bit environments.\r\n* [BUG #1966](https://github.com/BurntSushi/ripgrep/issues/1966):\r\n  Fix bug where ripgrep can panic when printing to stderr.\r\n* [BUG #2046](https://github.com/BurntSushi/ripgrep/issues/2046):\r\n  Clarify that `--pre` can accept any kind of path in the documentation.\r\n* [BUG #2108](https://github.com/BurntSushi/ripgrep/issues/2108):\r\n  Improve docs for `-r/--replace` syntax.\r\n* [BUG #2198](https://github.com/BurntSushi/ripgrep/issues/2198):\r\n  Fix bug where `--no-ignore-dot` would not ignore `.rgignore`.\r\n* [BUG #2201](https://github.com/BurntSushi/ripgrep/issues/2201):\r\n  Improve docs for `-r/--replace` flag.\r\n* [BUG #2288](https://github.com/BurntSushi/ripgrep/issues/2288):\r\n  `-A` and `-B` now only each partially override `-C`.\r\n* [BUG #2236](https://github.com/BurntSushi/ripgrep/issues/2236):\r\n  Fix gitignore parsing bug where a trailing `\\/` resulted in an error.\r\n* [BUG #2243](https://github.com/BurntSushi/ripgrep/issues/2243):\r\n  Fix `--sort` flag for values other than `path`.\r\n* [BUG #2246](https://github.com/BurntSushi/ripgrep/issues/2246):\r\n  Add note in `--debug` logs when binary files are ignored.\r\n* [BUG #2337](https://github.com/BurntSushi/ripgrep/issues/2337):\r\n  Improve docs to mention that `--stats` is always implied by `--json`.\r\n* [BUG #2381](https://github.com/BurntSushi/ripgrep/issues/2381):\r\n  Make `-p/--pretty` override flags like `--no-line-number`.\r\n* [BUG #2392](https://github.com/BurntSushi/ripgrep/issues/2392):\r\n  Improve global git config parsing of the `excludesFile` field.\r\n* [BUG #2418](https://github.com/BurntSushi/ripgrep/pull/2418):\r\n  Clarify sorting semantics of `--sort=path`.\r\n* [BUG #2458](https://github.com/BurntSushi/ripgrep/pull/2458):\r\n  Make `--trim` run before `-M/--max-columns` takes effect.\r\n* [BUG #2479](https://github.com/BurntSushi/ripgrep/issues/2479):\r\n  Add documentation about `.ignore`/`.rgignore` files in parent directories.\r\n* [BUG #2480](https://github.com/BurntSushi/ripgrep/issues/2480):\r\n  Fix bug when using inline regex flags with `-e/--regexp`.\r\n* [BUG #2505](https://github.com/BurntSushi/ripgrep/issues/2505):\r\n  Improve docs for `--vimgrep` by mentioning footguns and some work-arounds.\r\n* [BUG #2519](https://github.com/BurntSushi/ripgrep/issues/2519):\r\n  Fix incorrect default value in documentation for `--field-match-separator`.\r\n* [BUG #2523](https://github.com/BurntSushi/ripgrep/issues/2523):\r\n  Make executable searching take `.com` into account on Windows.\r\n* [BUG #2574](https://github.com/BurntSushi/ripgrep/issues/2574):\r\n  Fix bug in `-w/--word-regexp` that would result in incorrect match offsets.\r\n* [BUG #2623](https://github.com/BurntSushi/ripgrep/issues/2623):\r\n  Fix a number of bugs with the `-w/--word-regexp` flag.\r\n* [BUG #2636](https://github.com/BurntSushi/ripgrep/pull/2636):\r\n  Strip release binaries for macOS.</pre>\n</details>\n\n\n","reactions":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11082621180,"node_id":"REFE_lADOAzJbyc4tZbmMzwAAAAKUk2D8","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11082621180","actor":{"login":"netbsd-srcmastr","id":27641251,"node_id":"MDQ6VXNlcjI3NjQxMjUx","avatar_url":"https://avatars.githubusercontent.com/u/27641251?v=4","gravatar_id":"","url":"https://api.github.com/users/netbsd-srcmastr","html_url":"https://github.com/netbsd-srcmastr","followers_url":"https://api.github.com/users/netbsd-srcmastr/followers","following_url":"https://api.github.com/users/netbsd-srcmastr/following{/other_user}","gists_url":"https://api.github.com/users/netbsd-srcmastr/gists{/gist_id}","starred_url":"https://api.github.com/users/netbsd-srcmastr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netbsd-srcmastr/subscriptions","organizations_url":"https://api.github.com/users/netbsd-srcmastr/orgs","repos_url":"https://api.github.com/users/netbsd-srcmastr/repos","events_url":"https://api.github.com/users/netbsd-srcmastr/events{/privacy}","received_events_url":"https://api.github.com/users/netbsd-srcmastr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","commit_url":"https://api.github.com/repos/NetBSD/pkgsrc/commits/3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","created_at":"2023-11-28T11:59:17Z","performed_via_github_app":null},{"id":11656582652,"node_id":"REFE_lADOAzJbyc4tZbmMzwAAAAK2yVX8","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11656582652","actor":{"login":"liqipeng","id":6264774,"node_id":"MDQ6VXNlcjYyNjQ3NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6264774?v=4","gravatar_id":"","url":"https://api.github.com/users/liqipeng","html_url":"https://github.com/liqipeng","followers_url":"https://api.github.com/users/liqipeng/followers","following_url":"https://api.github.com/users/liqipeng/following{/other_user}","gists_url":"https://api.github.com/users/liqipeng/gists{/gist_id}","starred_url":"https://api.github.com/users/liqipeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liqipeng/subscriptions","organizations_url":"https://api.github.com/users/liqipeng/orgs","repos_url":"https://api.github.com/users/liqipeng/repos","events_url":"https://api.github.com/users/liqipeng/events{/privacy}","received_events_url":"https://api.github.com/users/liqipeng/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5011f6e9f1da44ffd923d612e75e70411d63a0ea","commit_url":"https://api.github.com/repos/liqipeng/rust-ripgrep/commits/5011f6e9f1da44ffd923d612e75e70411d63a0ea","created_at":"2024-01-31T14:27:43Z","performed_via_github_app":null}]