{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/851","id":304067314,"node_id":"MDU6SXNzdWUzMDQwNjczMTQ=","number":851,"title":"improve --smart-case once and for all","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721680,"node_id":"MDU6TGFiZWwzMzk3MjE2ODA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"An enhancement to the functionality of the software."},{"id":515719974,"node_id":"MDU6TGFiZWw1MTU3MTk5NzQ=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/libripgrep","name":"libripgrep","color":"e99695","default":false,"description":"An issue related to modularizing ripgrep into libraries."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones/1","html_url":"https://github.com/BurntSushi/ripgrep/milestone/1","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones/1/labels","id":2239591,"node_id":"MDk6TWlsZXN0b25lMjIzOTU5MQ==","number":1,"title":"libripgrep","description":"","creator":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":19,"state":"open","created_at":"2017-01-10T02:04:10Z","updated_at":"2019-01-27T18:16:16Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2018-03-10T12:33:56Z","updated_at":"2018-03-14T02:55:40Z","closed_at":"2018-03-14T02:55:40Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We should improve the `--smart-case` flag to be perfect or nearly perfect at least. The regex-syntax crate rewrite now has a [more detailed AST](https://docs.rs/regex-syntax/0.5.0/regex_syntax/ast/enum.Ast.html), which permits us to handle cases like `[A-Z]` and `\\p{Ll}` differently. In particular, I propose:\r\n\r\nWhen the `--smart-case` flag is given, ripgrep chooses to match case insensitively if and only if there is at least one literal character in the pattern and that all such literals are not considered as uppercase. If the pattern contains no literals or at least one uppercase literal character, then normal case sensitive search is used.\r\n\r\nExamples: `abc`, `[a-z]`, `abc\\w` and `abc\\p{Ll}` are all searched case insensitively while `aBc`, `[A-Z]`, `aBc\\w` and `\\p{Ll}` are searched case sensitively.\r\n\r\nSee also: https://github.com/BurntSushi/ripgrep/issues/717#issuecomment-372000616\r\n\r\ncc @okdana ","closed_by":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/851/timeline","performed_via_github_app":null,"state_reason":"completed"}