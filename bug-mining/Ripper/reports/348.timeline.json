[{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1488817180","html_url":"https://github.com/BurntSushi/ripgrep/issues/2480#issuecomment-1488817180","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2480","id":1488817180,"node_id":"IC_kwDOAzJbyc5YvYwc","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T15:11:19Z","updated_at":"2023-03-29T15:11:19Z","body":"Yeah so you are indeed correct that ripgrep just does a simple join with `|` as the delimiter: https://github.com/BurntSushi/ripgrep/blob/041544853c86dde91c49983e5ddd0aa799bd2831/crates/core/args.rs#L703\r\n\r\nripgrep could make the situation much better by wrapping each pattern in a `(?:<pattern>)`. It would resolve your specific problem for example. And this would be easy to do I think. And it would work for PCRE2. So we should do that.\r\n\r\nBut it doesn't quite make things completely independent. Because you could still do things like `-e foo)(?i)bar(` to sneakily insert a `(?i)` (for example). Fixing _that_ probably requires trying to parse each pattern individually and ensuring each pattern is itself valid. A little more work, but not a huge deal to do. However, that won't work for PCRE2 unless you go and actually try to compile every pattern individually. (Because PCRE2 doesn't expose its own parser.) That is potentially a lot more work. Another possibility is to just write a simple little mini parser that just makes sure parentheses are balanced. I think you'd just have to account for escapes and character classes, which should be... somewhat simple?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1488817180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8877829729,"node_id":"LE_lADOAzJbyc5iHBsGzwAAAAIRKO5h","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8877829729","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-29T15:11:26Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503031453","html_url":"https://github.com/BurntSushi/ripgrep/issues/2480#issuecomment-1503031453","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2480","id":1503031453,"node_id":"IC_kwDOAzJbyc5ZlnCd","user":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T10:01:44Z","updated_at":"2023-04-11T10:32:58Z","body":"I wrote the following code that should act as the mini parser you mentioned.\r\nIf it looks legit to you (or somewhat legit) I can try to create a PR to use it there (with testing, documentation, etc.).\r\n\r\nThe guiding principles:\r\n1. we only try to detect cases where invalid balance would affect later patterns, and may result in a valid joined pattern constructed from invalid patterns.\r\n2. assume that any other pattern invalidity would fail the validity check of the combined pattern (i.e., including negative balance, e.g. `ab)c` / `ab]c`)\r\nO(n); optimize for valid patterns (and simplicity); do not try to fail early for invalid patterns.\r\n\r\np.s. the code here is just for sanity check and we can discuss details in the PR, shall there be one.\r\np.s.2. The code for the kind/error is trivial so I left it out for this comment.\r\n\r\n```\r\nfn validate_subpattern_safety(pattern: &str) -> Result<(), BalanceError> {\r\n    let (mut escape, mut round_depth, mut square_depth) = (false, 0, 0);\r\n\r\n    for c in pattern.chars() {\r\n        if escape {\r\n            // escape takes precedence over all states; render the current char literal\r\n            escape = false;\r\n        } else if c == '\\\\' {\r\n            // escape takes precedence over all states; move to escape state\r\n            escape = true;\r\n        } else if square_depth > 0 {\r\n            // character classes take precedence over round brackets\r\n            match c {\r\n                '[' => square_depth += 1,\r\n                ']' => square_depth -= 1,\r\n                _ => {} // any char is literal inside character classes (balance-wise)\r\n            }\r\n        } else if round_depth > 0 && c == ')' {\r\n            // only acconut for round bracket closures for balance correctness\r\n            round_depth -= 1;\r\n        } else {\r\n            // the ground state: move to a higher state or ignore\r\n            match c {\r\n                '(' => round_depth += 1,\r\n                '[' => square_depth += 1,\r\n                _ => {} // ignore literal chars and bracket closers\r\n            };\r\n        }\r\n    }\r\n\r\n    let kind = if escape {\r\n        Some(ErrUnbalanceKind::TrailingBackslash)\r\n    } else if square_depth > 0 {\r\n        Some(ErrUnbalanceKind::UnbalancedSquareBrackets)\r\n    } else if round_depth > 0 {\r\n        Some(ErrUnbalanceKind::UnbalanceRoundBrackets)\r\n    } else {\r\n        None\r\n    };\r\n\r\n    match kind {\r\n        Some(kind) => BalanceError::new(kind, pattern.to_string()),\r\n        None => Ok(()),\r\n    }\r\n}\r\n\r\nfn join_patterns_safely(patterns: &[String]) -> Result<String, BalanceError> {\r\n    match patterns.len() {\r\n        0 => Ok(\"\".to_string()),\r\n        1 => Ok(patterns.first().unwrap().to_owned()),\r\n        _ => patterns // note: can apply to all but the last\r\n            .iter()\r\n            .map(|p| {\r\n                validate_subpattern_safety(p)?;\r\n                Ok(format!(\"(?:{})\", p))\r\n            })\r\n            .collect::<Result<Vec<String>, BalanceError>>()\r\n            .map(|ps| ps.join(\"|\")),\r\n    }\r\n}\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503031453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503135700","html_url":"https://github.com/BurntSushi/ripgrep/issues/2480#issuecomment-1503135700","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2480","id":1503135700,"node_id":"IC_kwDOAzJbyc5ZmAfU","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T11:10:47Z","updated_at":"2023-04-11T11:10:47Z","body":"Thanks for the effort! Unfortunately, it's just not _quite_ right. It doesn't account for the fact that `[[]` and `[\\[]` are equivalent, for example. Honestly, there's probably other stuff. And especially so for PCRE2, which has a fair bit more syntax than the default engine.\r\n\r\nAfter thinking on it some more, I think for now, I'd rather just add the `(?:<pattern>)` wrapping and call that good enough. If folks end up running into problems there, then we can re-evaluate later. But I might just end up marking it as `wontfix`.\r\n\r\nAlso, one small note: the perf for something like a routine for what you wrote is basically insignificant. Consider how much work a regex engine needs to do to compile a regex into a matcher. It's _a lot_ more work than a simple parser like that. :-)","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503135700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503166519","html_url":"https://github.com/BurntSushi/ripgrep/issues/2480#issuecomment-1503166519","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2480","id":1503166519,"node_id":"IC_kwDOAzJbyc5ZmIA3","user":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T11:36:15Z","updated_at":"2023-04-11T11:36:57Z","body":"Thanks for the quick response!\r\n\r\n> It doesn't account for the fact that [[] and [\\[] are equivalent, for example.\r\n\r\nI actually tested for unescaped brackets inside char-class and got a parse error:\r\n```\r\necho '\\[' | rg '[[]'\r\nregex parse error:\r\n    [[]\r\n     ^^\r\nerror: unclosed character class\r\n```\r\n\r\n\r\nBut I tested now with `--engine pcre2` and it does work there, as you said.\r\n\r\nI looked for other cases in PCRE2 now and didn't find a particular problem.\r\nSpecifically, since names can't include curly/round brackets, we can ignore `<>` because it's within the constraints (i.e. an invalid pattern can't lead to a valid combined pattern).\r\n\r\nI feel you on going with the `(?:<pattern>)` wrapping, but I think that fixing the `[[]` issue shouldn't be too hard at this point.\r\nSo, let me know if you'd consider merging it if I fixed that part (or otherwise, if you can think of other uncovered cases that I missed, and I'll just quit the attempt anyway)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503166519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503173512","html_url":"https://github.com/BurntSushi/ripgrep/issues/2480#issuecomment-1503173512","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2480","id":1503173512,"node_id":"IC_kwDOAzJbyc5ZmJuI","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T11:42:27Z","updated_at":"2023-04-11T11:42:27Z","body":"Whoops, I meant that `[]]` and `[\\]]` are equivalent.\r\n\r\nFor now, I'd rather go with the `(?:pattern)` approach and just stop there. It's simple and fixes the most pressing problem.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1503173512/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T06:42:07Z","updated_at":"2023-04-13T06:42:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488/events","html_url":"https://github.com/BurntSushi/ripgrep/pull/2488","id":1665815962,"node_id":"PR_kwDOAzJbyc5OM0Md","number":2488,"title":"args: use non-capturing groups when joining multiple patterns","user":{"login":"gofri","id":9868452,"node_id":"MDQ6VXNlcjk4Njg0NTI=","avatar_url":"https://avatars.githubusercontent.com/u/9868452?v=4","gravatar_id":"","url":"https://api.github.com/users/gofri","html_url":"https://github.com/gofri","followers_url":"https://api.github.com/users/gofri/followers","following_url":"https://api.github.com/users/gofri/following{/other_user}","gists_url":"https://api.github.com/users/gofri/gists{/gist_id}","starred_url":"https://api.github.com/users/gofri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gofri/subscriptions","organizations_url":"https://api.github.com/users/gofri/orgs","repos_url":"https://api.github.com/users/gofri/repos","events_url":"https://api.github.com/users/gofri/events{/privacy}","received_events_url":"https://api.github.com/users/gofri/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1849506066,"node_id":"MDU6TGFiZWwxODQ5NTA2MDY2","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/rollup","name":"rollup","color":"ffccee","default":false,"description":"A PR that has been merged with many others in a rollup."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-04-13T06:42:06Z","updated_at":"2023-07-08T22:52:49Z","closed_at":"2023-07-08T22:52:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls/2488","html_url":"https://github.com/BurntSushi/ripgrep/pull/2488","diff_url":"https://github.com/BurntSushi/ripgrep/pull/2488.diff","patch_url":"https://github.com/BurntSushi/ripgrep/pull/2488.patch","merged_at":null},"body":"Fixes #2480\r\n\r\nFix the joined pattern so that multiple VALID patterns cannot affect each other.\r\ne.g. worked before but fixed now:\r\n`echo FooBar | rg -e '(?i)notfoo' -e bar # no result` \r\n\r\nWontfix the joined pattern to handle some cases of multiple INVALID patterns that are \"coordinated\" to fix each other.\r\ne.g. still works but is unexpected:\r\n`echo 'FooBar' | rg -e '(' -e ')' # matches with an empty string`\r\n\r\nalso, introduces a new class of invalid patterns that work now but wouldn't work before:\r\ne.g. got parse error before but not now:\r\n`echo 'FooBar' | rg ')(' # matches with an empty string`\r\n\r\nedit: pushed another commit to avoid the regerssion for a single pattern.\r\nthe new class still applies for multiple patterns:\r\ne.g. got parse error before but not now:\r\n`echo 'FooBar' | rg -e ')(' -e 'x' # matches with an empty string`","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2488/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":9766186964,"node_id":"REFE_lADOAzJbyc5iHBsGzwAAAAJGHC_U","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9766186964","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ad79d128d8819ab4bef43c7223c45cc97e92e040","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/ad79d128d8819ab4bef43c7223c45cc97e92e040","created_at":"2023-07-08T22:26:18Z","performed_via_github_app":null},{"id":9766231468,"node_id":"CE_lADOAzJbyc5iHBsGzwAAAAJGHN2s","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/9766231468","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"36194c27427a6df76963da472b13c36f47410824","commit_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits/36194c27427a6df76963da472b13c36f47410824","created_at":"2023-07-08T22:52:49Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-26T20:57:26Z","updated_at":"2023-11-26T20:57:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592","repository_url":"https://api.github.com/repos/Homebrew/homebrew-core","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/comments","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/events","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","id":2011202062,"node_id":"PR_kwDOAyaC3M5gYeMZ","number":155592,"title":"ripgrep 14.0.0","user":{"login":"sankalp-khare","id":962615,"node_id":"MDQ6VXNlcjk2MjYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/962615?v=4","gravatar_id":"","url":"https://api.github.com/users/sankalp-khare","html_url":"https://github.com/sankalp-khare","followers_url":"https://api.github.com/users/sankalp-khare/followers","following_url":"https://api.github.com/users/sankalp-khare/following{/other_user}","gists_url":"https://api.github.com/users/sankalp-khare/gists{/gist_id}","starred_url":"https://api.github.com/users/sankalp-khare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sankalp-khare/subscriptions","organizations_url":"https://api.github.com/users/sankalp-khare/orgs","repos_url":"https://api.github.com/users/sankalp-khare/repos","events_url":"https://api.github.com/users/sankalp-khare/events{/privacy}","received_events_url":"https://api.github.com/users/sankalp-khare/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":624617309,"node_id":"MDU6TGFiZWw2MjQ2MTczMDk=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/rust","name":"rust","color":"bfe5bf","default":false,"description":"Rust use is a significant feature of the PR or issue"},{"id":778631352,"node_id":"MDU6TGFiZWw3Nzg2MzEzNTI=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/ready%20to%20merge","name":"ready to merge","color":"0e8a16","default":false,"description":"PR can be merged once CI is green"},{"id":921363785,"node_id":"MDU6TGFiZWw5MjEzNjM3ODU=","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"},{"id":2983832093,"node_id":"MDU6TGFiZWwyOTgzODMyMDkz","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/bump-formula-pr","name":"bump-formula-pr","color":"606060","default":false,"description":"PR was created using `brew bump-formula-pr`"},{"id":5278102982,"node_id":"LA_kwDOAyaC3M8AAAABOpl1xg","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/CI-published-bottle-commits","name":"CI-published-bottle-commits","color":"0E8A16","default":false,"description":"The commits for the built bottles have been pushed to the PR branch."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-11-26T20:57:24Z","updated_at":"2023-12-27T00:02:09Z","closed_at":"2023-11-26T23:17:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":52855516,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjg1NTUxNg==","name":"homebrew-core","full_name":"Homebrew/homebrew-core","private":false,"owner":{"login":"Homebrew","id":1503512,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MDM1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1503512?v=4","gravatar_id":"","url":"https://api.github.com/users/Homebrew","html_url":"https://github.com/Homebrew","followers_url":"https://api.github.com/users/Homebrew/followers","following_url":"https://api.github.com/users/Homebrew/following{/other_user}","gists_url":"https://api.github.com/users/Homebrew/gists{/gist_id}","starred_url":"https://api.github.com/users/Homebrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Homebrew/subscriptions","organizations_url":"https://api.github.com/users/Homebrew/orgs","repos_url":"https://api.github.com/users/Homebrew/repos","events_url":"https://api.github.com/users/Homebrew/events{/privacy}","received_events_url":"https://api.github.com/users/Homebrew/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Homebrew/homebrew-core","description":"üçª Default formulae for the missing package manager for macOS (or Linux)","fork":false,"url":"https://api.github.com/repos/Homebrew/homebrew-core","forks_url":"https://api.github.com/repos/Homebrew/homebrew-core/forks","keys_url":"https://api.github.com/repos/Homebrew/homebrew-core/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Homebrew/homebrew-core/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Homebrew/homebrew-core/teams","hooks_url":"https://api.github.com/repos/Homebrew/homebrew-core/hooks","issue_events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/events{/number}","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/events","assignees_url":"https://api.github.com/repos/Homebrew/homebrew-core/assignees{/user}","branches_url":"https://api.github.com/repos/Homebrew/homebrew-core/branches{/branch}","tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/tags","blobs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/refs{/sha}","trees_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Homebrew/homebrew-core/statuses/{sha}","languages_url":"https://api.github.com/repos/Homebrew/homebrew-core/languages","stargazers_url":"https://api.github.com/repos/Homebrew/homebrew-core/stargazers","contributors_url":"https://api.github.com/repos/Homebrew/homebrew-core/contributors","subscribers_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscribers","subscription_url":"https://api.github.com/repos/Homebrew/homebrew-core/subscription","commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/commits{/sha}","git_commits_url":"https://api.github.com/repos/Homebrew/homebrew-core/git/commits{/sha}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/comments{/number}","issue_comment_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/comments{/number}","contents_url":"https://api.github.com/repos/Homebrew/homebrew-core/contents/{+path}","compare_url":"https://api.github.com/repos/Homebrew/homebrew-core/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Homebrew/homebrew-core/merges","archive_url":"https://api.github.com/repos/Homebrew/homebrew-core/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Homebrew/homebrew-core/downloads","issues_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues{/number}","pulls_url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls{/number}","milestones_url":"https://api.github.com/repos/Homebrew/homebrew-core/milestones{/number}","notifications_url":"https://api.github.com/repos/Homebrew/homebrew-core/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/labels{/name}","releases_url":"https://api.github.com/repos/Homebrew/homebrew-core/releases{/id}","deployments_url":"https://api.github.com/repos/Homebrew/homebrew-core/deployments","created_at":"2016-03-01T06:58:36Z","updated_at":"2025-11-09T23:51:33Z","pushed_at":"2025-11-09T23:51:44Z","git_url":"git://github.com/Homebrew/homebrew-core.git","ssh_url":"git@github.com:Homebrew/homebrew-core.git","clone_url":"https://github.com/Homebrew/homebrew-core.git","svn_url":"https://github.com/Homebrew/homebrew-core","homepage":"https://brew.sh","size":1043335,"stargazers_count":14795,"watchers_count":14795,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13181,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":77,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["core","formulae","hacktoberfest","homebrew","ruby","tap"],"visibility":"public","forks":13181,"open_issues":77,"watchers":14795,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls/155592","html_url":"https://github.com/Homebrew/homebrew-core/pull/155592","diff_url":"https://github.com/Homebrew/homebrew-core/pull/155592.diff","patch_url":"https://github.com/Homebrew/homebrew-core/pull/155592.patch","merged_at":"2023-11-26T23:17:53Z"},"body":"Created by `brew bump`\n\n---\n\nCreated with `brew bump-formula-pr`.<details>\n  <summary>release notes</summary>\n  <pre>ripgrep 14 is a new major version release of ripgrep that has some new\r\nfeatures, performance improvements and a lot of bug fixes.\r\n\r\n> In case you haven't heard of it before, ripgrep is a line-oriented search\r\n> tool that recursively searches the current directory for a regex pattern.\r\n> By default, ripgrep will respect gitignore rules and automatically skip\r\n> hidden files/directories and binary files.\r\n\r\nThe headling feature in this release is hyperlink support. In this release,\r\nthey are an opt-in feature but may change to an opt-out feature in the future.\r\nTo enable them, try passing `--hyperlink-format default`. If you use [VS Code],\r\nthen try passing `--hyperlink-format vscode`. Please [report your experience\r\nwith hyperlinks][report-hyperlinks], positive or negative.\r\n\r\n[VS Code]: https://code.visualstudio.com/\r\n[report-hyperlinks]: https://github.com/BurntSushi/ripgrep/discussions/2611\r\n\r\nAnother headling development in this release is that it contains a rewrite of\r\nits regex engine. You generally shouldn't notice any changes, except for some\r\nsearches may get faster. You can read more about the [regex engine rewrite on\r\nmy blog][regex-internals]. Please [report your performance improvements or\r\nregressions that you notice][report-perf].\r\n\r\n[report-perf]: https://github.com/BurntSushi/ripgrep/discussions/2652\r\n\r\nFinally, ripgrep switched the library it uses for argument parsing. Users\r\nshould not notice a difference in most cases (error messages have changed\r\nsomewhat), but flag overrides should generally be more consistent. For example,\r\nthings like `--no-ignore --ignore-vcs` work as one would expect (disables all\r\nfiltering related to ignore rules except for rules found in version control\r\nsystems such as `git`).\r\n\r\n[regex-internals]: https://blog.burntsushi.net/regex-internals/\r\n\r\n**BREAKING CHANGES**:\r\n\r\n* `rg -C1 -A2` used to be equivalent to `rg -A2`, but now it is equivalent to\r\n  `rg -B1 -A2`. That is, `-A` and `-B` no longer completely override `-C`.\r\n  Instead, they only partially override `-C`.\r\n\r\nBuild process changes:\r\n\r\n* ripgrep's shell completions and man page are now created by running ripgrep\r\nwith a new `--generate` flag. For example, `rg --generate man` will write a\r\nman page in `roff` format on stdout. The release archives have not changed.\r\n* The optional build dependency on `asciidoc` or `asciidoctor` has been\r\ndropped. Previously, it was used to produce ripgrep's man page. ripgrep now\r\nowns this process itself by writing `roff` directly.\r\n\r\nPerformance improvements:\r\n\r\n* [PERF #1746](https://github.com/BurntSushi/ripgrep/issues/1746):\r\n  Make some cases with inner literals faster.\r\n* [PERF #1760](https://github.com/BurntSushi/ripgrep/issues/1760):\r\n  Make most searches with `\\b` look-arounds (among others) much faster.\r\n* [PERF #2591](https://github.com/BurntSushi/ripgrep/pull/2591):\r\n  Parallel directory traversal now uses work stealing for faster searches.\r\n* [PERF #2642](https://github.com/BurntSushi/ripgrep/pull/2642):\r\n  Parallel directory traversal has some contention reduced.\r\n\r\nFeature enhancements:\r\n\r\n* Added or improved file type filtering for Ada, DITA, Elixir, Fuchsia, Gentoo,\r\n  Gradle, GraphQL, Markdown, Prolog, Raku, TypeScript, USD, V\r\n* [FEATURE #665](https://github.com/BurntSushi/ripgrep/issues/665):\r\n  Add a new `--hyperlink-format` flag that turns file paths into hyperlinks.\r\n* [FEATURE #1709](https://github.com/BurntSushi/ripgrep/issues/1709):\r\n  Improve documentation of ripgrep's behavior when stdout is a tty.\r\n* [FEATURE #1737](https://github.com/BurntSushi/ripgrep/issues/1737):\r\n  Provide binaries for Apple silicon.\r\n* [FEATURE #1790](https://github.com/BurntSushi/ripgrep/issues/1790):\r\n  Add new `--stop-on-nonmatch` flag.\r\n* [FEATURE #1814](https://github.com/BurntSushi/ripgrep/issues/1814):\r\n  Flags are now categorized in `-h/--help` output and ripgrep's man page.\r\n* [FEATURE #1838](https://github.com/BurntSushi/ripgrep/issues/1838):\r\n  An error is shown when searching for NUL bytes with binary detection enabled.\r\n* [FEATURE #2195](https://github.com/BurntSushi/ripgrep/issues/2195):\r\n  When `extra-verbose` mode is enabled in zsh, show extra file type info.\r\n* [FEATURE #2298](https://github.com/BurntSushi/ripgrep/issues/2298):\r\n  Add instructions for installing ripgrep using `cargo binstall`.\r\n* [FEATURE #2409](https://github.com/BurntSushi/ripgrep/pull/2409):\r\n  Added installation instructions for `winget`.\r\n* [FEATURE #2425](https://github.com/BurntSushi/ripgrep/pull/2425):\r\n  Shell completions (and man page) can be created via `rg --generate`.\r\n* [FEATURE #2524](https://github.com/BurntSushi/ripgrep/issues/2524):\r\n  The `--debug` flag now indicates whether stdin or `./` is being searched.\r\n* [FEATURE #2643](https://github.com/BurntSushi/ripgrep/issues/2643):\r\n  Make `-d` a short flag for `--max-depth`.\r\n* [FEATURE #2645](https://github.com/BurntSushi/ripgrep/issues/2645):\r\n  The `--version` output will now also contain PCRE2 availability information.\r\n\r\nBug fixes:\r\n\r\n* [BUG #884](https://github.com/BurntSushi/ripgrep/issues/884):\r\n  Don't error when `-v/--invert-match` is used multiple times.\r\n* [BUG #1275](https://github.com/BurntSushi/ripgrep/issues/1275):\r\n  Fix bug with `\\b` assertion in the regex engine.\r\n* [BUG #1376](https://github.com/BurntSushi/ripgrep/issues/1376):\r\n  Using `--no-ignore --ignore-vcs` now works as one would expect.\r\n* [BUG #1622](https://github.com/BurntSushi/ripgrep/issues/1622):\r\n  Add note about error messages to `-z/--search-zip` documentation.\r\n* [BUG #1648](https://github.com/BurntSushi/ripgrep/issues/1648):\r\n  Fix bug where sometimes short flags with values, e.g., `-M 900`, would fail.\r\n* [BUG #1701](https://github.com/BurntSushi/ripgrep/issues/1701):\r\n  Fix bug where some flags could not be repeated.\r\n* [BUG #1757](https://github.com/BurntSushi/ripgrep/issues/1757):\r\n  Fix bug when searching a sub-directory didn't have ignores applied correctly.\r\n* [BUG #1891](https://github.com/BurntSushi/ripgrep/issues/1891):\r\n  Fix bug when using `-w` with a regex that can match the empty string.\r\n* [BUG #1911](https://github.com/BurntSushi/ripgrep/issues/1911):\r\n  Disable mmap searching in all non-64-bit environments.\r\n* [BUG #1966](https://github.com/BurntSushi/ripgrep/issues/1966):\r\n  Fix bug where ripgrep can panic when printing to stderr.\r\n* [BUG #2046](https://github.com/BurntSushi/ripgrep/issues/2046):\r\n  Clarify that `--pre` can accept any kind of path in the documentation.\r\n* [BUG #2108](https://github.com/BurntSushi/ripgrep/issues/2108):\r\n  Improve docs for `-r/--replace` syntax.\r\n* [BUG #2198](https://github.com/BurntSushi/ripgrep/issues/2198):\r\n  Fix bug where `--no-ignore-dot` would not ignore `.rgignore`.\r\n* [BUG #2201](https://github.com/BurntSushi/ripgrep/issues/2201):\r\n  Improve docs for `-r/--replace` flag.\r\n* [BUG #2288](https://github.com/BurntSushi/ripgrep/issues/2288):\r\n  `-A` and `-B` now only each partially override `-C`.\r\n* [BUG #2236](https://github.com/BurntSushi/ripgrep/issues/2236):\r\n  Fix gitignore parsing bug where a trailing `\\/` resulted in an error.\r\n* [BUG #2243](https://github.com/BurntSushi/ripgrep/issues/2243):\r\n  Fix `--sort` flag for values other than `path`.\r\n* [BUG #2246](https://github.com/BurntSushi/ripgrep/issues/2246):\r\n  Add note in `--debug` logs when binary files are ignored.\r\n* [BUG #2337](https://github.com/BurntSushi/ripgrep/issues/2337):\r\n  Improve docs to mention that `--stats` is always implied by `--json`.\r\n* [BUG #2381](https://github.com/BurntSushi/ripgrep/issues/2381):\r\n  Make `-p/--pretty` override flags like `--no-line-number`.\r\n* [BUG #2392](https://github.com/BurntSushi/ripgrep/issues/2392):\r\n  Improve global git config parsing of the `excludesFile` field.\r\n* [BUG #2418](https://github.com/BurntSushi/ripgrep/pull/2418):\r\n  Clarify sorting semantics of `--sort=path`.\r\n* [BUG #2458](https://github.com/BurntSushi/ripgrep/pull/2458):\r\n  Make `--trim` run before `-M/--max-columns` takes effect.\r\n* [BUG #2479](https://github.com/BurntSushi/ripgrep/issues/2479):\r\n  Add documentation about `.ignore`/`.rgignore` files in parent directories.\r\n* [BUG #2480](https://github.com/BurntSushi/ripgrep/issues/2480):\r\n  Fix bug when using inline regex flags with `-e/--regexp`.\r\n* [BUG #2505](https://github.com/BurntSushi/ripgrep/issues/2505):\r\n  Improve docs for `--vimgrep` by mentioning footguns and some work-arounds.\r\n* [BUG #2519](https://github.com/BurntSushi/ripgrep/issues/2519):\r\n  Fix incorrect default value in documentation for `--field-match-separator`.\r\n* [BUG #2523](https://github.com/BurntSushi/ripgrep/issues/2523):\r\n  Make executable searching take `.com` into account on Windows.\r\n* [BUG #2574](https://github.com/BurntSushi/ripgrep/issues/2574):\r\n  Fix bug in `-w/--word-regexp` that would result in incorrect match offsets.\r\n* [BUG #2623](https://github.com/BurntSushi/ripgrep/issues/2623):\r\n  Fix a number of bugs with the `-w/--word-regexp` flag.\r\n* [BUG #2636](https://github.com/BurntSushi/ripgrep/pull/2636):\r\n  Strip release binaries for macOS.</pre>\n</details>\n\n\n","reactions":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/155592/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11082621471,"node_id":"REFE_lADOAzJbyc5iHBsGzwAAAAKUk2If","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11082621471","actor":{"login":"netbsd-srcmastr","id":27641251,"node_id":"MDQ6VXNlcjI3NjQxMjUx","avatar_url":"https://avatars.githubusercontent.com/u/27641251?v=4","gravatar_id":"","url":"https://api.github.com/users/netbsd-srcmastr","html_url":"https://github.com/netbsd-srcmastr","followers_url":"https://api.github.com/users/netbsd-srcmastr/followers","following_url":"https://api.github.com/users/netbsd-srcmastr/following{/other_user}","gists_url":"https://api.github.com/users/netbsd-srcmastr/gists{/gist_id}","starred_url":"https://api.github.com/users/netbsd-srcmastr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netbsd-srcmastr/subscriptions","organizations_url":"https://api.github.com/users/netbsd-srcmastr/orgs","repos_url":"https://api.github.com/users/netbsd-srcmastr/repos","events_url":"https://api.github.com/users/netbsd-srcmastr/events{/privacy}","received_events_url":"https://api.github.com/users/netbsd-srcmastr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","commit_url":"https://api.github.com/repos/NetBSD/pkgsrc/commits/3d89a0083ce5495fcb9ca9e744f2fe3097f071c5","created_at":"2023-11-28T11:59:19Z","performed_via_github_app":null},{"actor":{"login":"learnbyexample","id":17766317,"node_id":"MDQ6VXNlcjE3NzY2MzE3","avatar_url":"https://avatars.githubusercontent.com/u/17766317?v=4","gravatar_id":"","url":"https://api.github.com/users/learnbyexample","html_url":"https://github.com/learnbyexample","followers_url":"https://api.github.com/users/learnbyexample/followers","following_url":"https://api.github.com/users/learnbyexample/following{/other_user}","gists_url":"https://api.github.com/users/learnbyexample/gists{/gist_id}","starred_url":"https://api.github.com/users/learnbyexample/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/learnbyexample/subscriptions","organizations_url":"https://api.github.com/users/learnbyexample/orgs","repos_url":"https://api.github.com/users/learnbyexample/repos","events_url":"https://api.github.com/users/learnbyexample/events{/privacy}","received_events_url":"https://api.github.com/users/learnbyexample/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T10:59:43Z","updated_at":"2023-12-06T10:59:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/2677","id":2028284115,"node_id":"I_kwDOAzJbyc545SjT","number":2677,"title":"Inline flag (?x) with comment doesn't work due to automatic wrapping of patterns inside non-capturing group","user":{"login":"learnbyexample","id":17766317,"node_id":"MDQ6VXNlcjE3NzY2MzE3","avatar_url":"https://avatars.githubusercontent.com/u/17766317?v=4","gravatar_id":"","url":"https://api.github.com/users/learnbyexample","html_url":"https://github.com/learnbyexample","followers_url":"https://api.github.com/users/learnbyexample/followers","following_url":"https://api.github.com/users/learnbyexample/following{/other_user}","gists_url":"https://api.github.com/users/learnbyexample/gists{/gist_id}","starred_url":"https://api.github.com/users/learnbyexample/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/learnbyexample/subscriptions","organizations_url":"https://api.github.com/users/learnbyexample/orgs","repos_url":"https://api.github.com/users/learnbyexample/repos","events_url":"https://api.github.com/users/learnbyexample/events{/privacy}","received_events_url":"https://api.github.com/users/learnbyexample/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721678,"node_id":"MDU6TGFiZWwzMzk3MjE2Nzg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/bug","name":"bug","color":"fc2929","default":true,"description":"A bug."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-06T10:59:43Z","updated_at":"2023-12-06T13:08:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Please tick this box to confirm you have reviewed the above.\r\n\r\n- [X] I have a different issue.\r\n\r\n### What version of ripgrep are you using?\r\n\r\nripgrep 14.0.3\r\n\r\n### How did you install ripgrep?\r\n\r\nUsing ripgrep_14.0.3-1_amd64.deb\r\n\r\n### What operating system are you using ripgrep on?\r\n\r\nUbuntu 20.04\r\n\r\n### Describe your bug.\r\n\r\nUsing `(?x)` to add comments isn't working due to automatic wrapping of the supplied pattern within `(?:)`.\r\n\r\n### What are the steps to reproduce the behavior?\r\n\r\nAny pattern which uses `(?x)` and a comment.\r\n\r\n### What is the actual behavior?\r\n\r\n```bash\r\n$ echo 'fig a#b 123' | rg -o '(?x)\\d+ #extract digits'\r\nregex parse error:\r\n    (?:(?x)\\d+ #extract digits)\r\n    ^\r\nerror: unclosed group\r\n```\r\n\r\n### What is the expected behavior?\r\n\r\nI think automatic wrapping of patterns inside non-capturing group was introducted for this issue: https://github.com/BurntSushi/ripgrep/issues/2480. If possible, don't modify the pattern when there's a comment. Or may be add a note in the documentation for this corner case.\r\n\r\nFWIW, `GNU grep` doesn't support multiple patterns via `-e` or `-f` for PCRE:\r\n\r\n```bash\r\n$ echo 'fig a#b 123' | grep -oP '(?x)\\d+ #extract digits'\r\n123\r\n\r\n$ echo 'MyText' | grep -P -e '(?i)notintext' -e 'text'\r\ngrep: the -P option only supports a single pattern\r\n```","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2677/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11656581588,"node_id":"REFE_lADOAzJbyc5iHBsGzwAAAAK2yVHU","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/11656581588","actor":{"login":"liqipeng","id":6264774,"node_id":"MDQ6VXNlcjYyNjQ3NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6264774?v=4","gravatar_id":"","url":"https://api.github.com/users/liqipeng","html_url":"https://github.com/liqipeng","followers_url":"https://api.github.com/users/liqipeng/followers","following_url":"https://api.github.com/users/liqipeng/following{/other_user}","gists_url":"https://api.github.com/users/liqipeng/gists{/gist_id}","starred_url":"https://api.github.com/users/liqipeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liqipeng/subscriptions","organizations_url":"https://api.github.com/users/liqipeng/orgs","repos_url":"https://api.github.com/users/liqipeng/repos","events_url":"https://api.github.com/users/liqipeng/events{/privacy}","received_events_url":"https://api.github.com/users/liqipeng/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"36194c27427a6df76963da472b13c36f47410824","commit_url":"https://api.github.com/repos/liqipeng/rust-ripgrep/commits/36194c27427a6df76963da472b13c36f47410824","created_at":"2024-01-31T14:27:38Z","performed_via_github_app":null}]