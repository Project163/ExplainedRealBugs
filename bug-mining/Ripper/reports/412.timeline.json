[{"id":4797155661,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDc5NzE1NTY2MQ==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4797155661","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-05-26T06:58:02Z","rename":{"from":"Add \"replace\" text field in --json output that contains the result if replace were to be performed","to":"Add \"replace\" text field in --json output that contains replace string for respective matches"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/848663474","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-848663474","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":848663474,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODY2MzQ3NA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T10:40:30Z","updated_at":"2021-05-26T10:40:30Z","body":"Just to make sure we are in the same page here, could you give an example input with desired output?\r\n\r\nThank you for detailed use case. It is a little hard for me to follow, since I'm perhaps not as familiar with the inner workings of vim's search and replace system. It might help to describe it from the perspective of data flow. That is, how does the data flow from ripgrep's JSON output through vim?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/848663474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/849982920","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-849982920","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":849982920,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTk4MjkyMA==","user":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T22:28:18Z","updated_at":"2021-05-28T19:16:55Z","body":"@BurntSushi Let's say for ``temp.tex``, we match ``\\<macroname>{<optiontext>}`` or ``\\<macroname>[<optiontext>]``, and want to replace it with a string ``\\macro<macroname>{option:<optiontext>}``. The ``rg`` command will look like this:\r\n\r\nCommand:\r\n```regex\r\nrg -N --passthrough '^.*\\\\(.*)\\{(.*)\\}.*?$|^.*\\\\(.*)\\[(.*)\\].*?$' -r '\\macro$1{option:$2}' temp.tex\r\n```\r\n\r\nInput file:\r\n```tex\r\n% temp.tex\r\n\\documentclass{article}\r\n\r\n\\usepackage{blindtext}\r\n\\usepackage{fancyhdr}\r\n\\usepackage{pdftexcmds}\r\n\\pagestyle{fancy}\r\n\r\n\\begin{document}\r\n\\blindtext[5]\r\n\\end{document}\r\n```\r\n\r\nThis will produce output:\r\n```tex\r\n\\macrodocumentclass{option:article}\r\n\r\n\\macrousepackage{option:blindtext}\r\n\\macrousepackage{option:fancyhdr}\r\n\\macrousepackage{option:pdftexcmds}\r\n\\macropagestyle{option:fancy}\r\n\r\n\\macrobegin{option:document}\r\n\\macro{option:}\r\n\\macroend{option:document}\r\n```\r\n\r\n> As a sidenote, why does the second pattern (``^.*\\\\(.*)\\[(.*)\\].*?$``) not match \\blindtext[5]?\r\n\r\nAs of today if ``--json`` option is passed, one of the ``\"type\":\"match\"`` json will look like this:\r\n\r\n```json\r\n{\r\n    \"type\": \"match\",\r\n    \"data\": {\r\n        \"path\": {\r\n            \"text\": \"temp.tex\"\r\n        },\r\n        \"lines\": {\r\n            \"text\": \"\\\\documentclass{article}\\n\"\r\n        },\r\n        \"line_number\": null,\r\n        \"absolute_offset\": 0,\r\n        \"submatches\": [\r\n            {\r\n                \"match\": {\r\n                    \"text\": \"\\\\documentclass{article}\"\r\n                },\r\n                \"start\": 0,\r\n                \"end\": 23\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nThere are multiple ways in which you could decide to add replace text information. It could be either 1) in existing list  ``data.submatches[<num>].match.replacetext`` (or pick a shorter  name ``rtext`` or just ``replace``); or 2) in a new list like ``data.submatches[<num>].replace.text``. The advantage of former approach is three pronged: a) less text to print, b) consistency: for the case where you mention that entire line can be a match and submatches are empty, you could add replace text information in ``data.lines.replacetext``, or you will have to create something like ``data.replace.text``, c) fields like ``data.submatches[<num>].start`` & ``data.submatches[<num>].end`` won't look orphaned from ``data.submatches[<num>].match.text``.\r\n\r\n1) json for possibility-1:\r\n```json\r\n{\r\n    \"type\": \"match\",\r\n    \"data\": {\r\n        \"path\": {\r\n            \"text\": \"temp.tex\"\r\n        },\r\n        \"lines\": {\r\n            \"text\": \"\\\\documentclass{article}\\n\"\r\n        },\r\n        \"line_number\": null,\r\n        \"absolute_offset\": 0,\r\n        \"submatches\": [\r\n            {\r\n                \"match\": {\r\n                    \"text\": \"\\\\documentclass{article}\",\r\n                    \"replacetext\": \"\\\\macrodocumentclass{option:article}\"\r\n                },\r\n                \"start\": 0,\r\n                \"end\": 23\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n2) json for possibility-2 (with a typo mentioned in comment https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-849994553 corrected)\r\n\r\n```json\r\n{\r\n    \"type\": \"match\",\r\n    \"data\": {\r\n        \"path\": {\r\n            \"text\": \"temp.tex\"\r\n        },\r\n        \"lines\": {\r\n            \"text\": \"\\\\documentclass{article}\\n\"\r\n        },\r\n        \"line_number\": null,\r\n        \"absolute_offset\": 0,\r\n        \"submatches\": [\r\n            {\r\n                \"match\": {\r\n                    \"text\": \"\\\\documentclass{article}\"\r\n                },\r\n                \"replace\": {\r\n                    \"text\": \"\\\\macrodocumentclass{option:article}\"\r\n                },\r\n                \"start\": 0,\r\n                \"end\": 23\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n--------------------------------------------------\r\n\r\nRegarding flow of data from ``rg`` into vim: vimscript provides a functions to run external programs ``:h system()``, and to parse json strings: ``:h json_decode()``. Then user has a choice based on what they intend to do with the data. For the feature I intend to implement, I would use vim's inbuilt data structure called quickfixlist ``:h quickfix.txt``. Its a logic-less data structure by itself, but it comes packaged with commands that make life easier to traverse the list (in our case the matches). The selective rollback, etc logic, I will code myself as there is no pre-baked function to replace bytes in a file (afaik).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/849982920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4808619696,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgwODYxOTY5Ng==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4808619696","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-27T22:28:18Z","performed_via_github_app":null},{"id":4808619699,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MDg2MTk2OTk=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4808619699","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-27T22:28:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/849994553","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-849994553","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":849994553,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTk5NDU1Mw==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T22:56:15Z","updated_at":"2021-05-27T22:56:15Z","body":"The examples help a lot, thanks.\r\n\r\nWith respect to `\"match\": {\"text\": \"...\"}`, the `{\"text\": \"...\"}` is an [arbitrary data object](https://docs.rs/grep-printer/0.1.5/grep_printer/struct.JSON.html#object-arbitrary-data). The value pointed to by `match` is either valid UTF-8 and thus represented as `{\"text\": \"...\"}`, or it is not valid UTF-8 and is thus represented as `{\"bytes\": \"<base64 of data>\"}`. So having `\"match\": {\"text\": \"...\", \"replacetext\": \"...\"}` doesn't make much sense. At that level, your second option makes more sense. (I assume it is a typo that `replacetext` is present twice in your second possibility?)\r\n\r\n> Regarding flow of data from rg into vim: vimscript provides a functions to run external programs :h system(), and to parse json strings: :h json_decode(). Then user has a choice based on what they intend to do with the data. For the feature I intend to implement, I would use vim's inbuilt data structure called quickfixlist :h quickfix.txt. Its a logic-less data structure by itself, but it comes packaged with commands that make life easier to traverse the list (in our case the matches). The selective rollback, etc logic, I will code myself as there is no pre-baked function to replace bytes in a file (afaik).\r\n\r\nHmm so this wasn't quite what I was hoping for. I'm not particularly interested in Vim features. While I've used Vim for a long time, certain corners of it remain mysterious to me and I do not have the background knowledge necessary to write plugin. So talking about this in terms of Vim features doesn't aide understanding unfortunately. Let me take a guess at what I think you want to do:\r\n\r\n* You are adding a text replacement feature to Vim.\r\n* You want to implement this with ripgrep. When text replacement is requested, you shell out to ripgrep. Since you want structured data, you use the `--json` flag.\r\n* ripgrep already provides a text replacement option, so you're hoping to use that instead of re-implementing it yourself. (And re-implementing it yourself would be a fair amount of work I imagine, since I assume you'd want to use the same regex engine as ripgrep.)\r\n* Thus, you accept some user input that is intended to be used with the `--replace` flag, possibly after some transformation. But as it turns out, ripgrep ignores the `--replace` flag in JSON output mode. So you'd like ripgrep to support it.\r\n* ripgrep already provides the byte offsets of each match. So if it also provides the replacement for each match, then you could use those byte offsets to splice the replacement into the user's data.\r\n* As far as I can tell, the _only_ relevant pieces of data in the JSON output for your use case are `absolute_offset`, `submatches[].start`, `submatches[].end` and a hypothetical `submatches[].replacement.{text|bytes}`.\r\n\r\nIf that's right, then I believe this should be doable and I agree that it sounds like a good thing to support.\r\n\r\nIt might also be appropriate to provide a `lines_with_replacement` field as well, although I'm less sure about that. Probably best to punt. AIUI, that isn't something you need here. \r\n\r\n> As a sidenote, why does the second pattern `(^.*\\\\(.*)\\[(.*)\\].*?$)` not match \\blindtext[5]?\r\n\r\nIt does, but ripgrep's regex engine's capturing groups don't work in the way you're trying to use them. For the regex `(\\w+)|(\\d+)`, there are three capturing groups: `$0` (the whole match), `$1` (the first alternate) and `$2` (the second alternate. Only one of `$1` or `$2` will be non-empty.\r\n\r\nripgrep has very limited facilities for text replacements. The `-r/--replace` flag solves the 80% use case, but it is not maximally flexible.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/849994553/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850005808","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-850005808","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":850005808,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDAwNTgwOA==","user":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T23:26:18Z","updated_at":"2021-05-28T03:00:13Z","body":"@BurntSushi\r\n\r\n> (I assume it is a typo that replacetext is present twice in your second possibility?)\r\n\r\nYep thats a typo. I have updated the comment https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-849982920\r\n\r\nYep your analysis is correct.\r\n\r\n> (the second alternate. Only one of $1 or $2 will be non-empty. ripgrep has very limited facilities for text replacements. The -r/--replace flag solves the 80% use case, but it is not maximally flexible.\r\n\r\nWhat about replacement with ``--pcre2`` flag? Does that also have this limitation? Is there a way to do this with ripgrep without having to run the search-and-replace multiple times (with different sub patterns?) \r\n\r\nNot sure what you meant by ``lines_with_replacement``, if its the entire set of lines after replacements are done, then no I won't need that. Yes the set of information you mention that I will need is correct, I don't need more information.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850005808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4808811627,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgwODgxMTYyNw==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4808811627","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-27T23:26:18Z","performed_via_github_app":null},{"id":4808811630,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MDg4MTE2MzA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4808811630","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-27T23:26:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850011730","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-850011730","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":850011730,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDAxMTczMA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-27T23:43:29Z","updated_at":"2021-05-27T23:43:29Z","body":"> What about replacement with `--pcre2` flag? Does that also have this limitation?\r\n\r\nYes. It's inherent to how capture groups are indexed. With that said, I am not a PCRE2 expert and PCRE2 has many options. For example, the `PCRE2_DUPNAMES` option looks applicable here, but ripgrep does not set it. For the default regex engine, this issue is related: https://github.com/rust-lang/regex/issues/492\r\n\r\n(There are competing concerns here. ripgrep's default regex engine is the main support for regexes for a full programming language. In that context, not being able to use duplicate capture group names is usually a minor annoyance. But in contexts such as yours, where your expressiveness is severely restricted, every little bit of extra juice you can squeeze out of the regex itself helps.)","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850011730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850089120","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-850089120","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":850089120,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDA4OTEyMA==","user":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T03:44:22Z","updated_at":"2021-05-28T03:44:22Z","body":"@BurntSushi I think what I need can be done with ``PCRE2_SUBSTITUTE_EXTENDED``. Given ``--pcre2`` engine is a fallback engine for ripgrep, setting this would not harm. It would be nice to have a config file option to provide default ``PCRE2`` flags.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850089120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4809575440,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgwOTU3NTQ0MA==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4809575440","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-28T03:44:22Z","performed_via_github_app":null},{"id":4809575444,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MDk1NzU0NDQ=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4809575444","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-28T03:44:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850389034","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-850389034","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":850389034,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDM4OTAzNA==","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T12:38:15Z","updated_at":"2021-05-28T12:38:15Z","body":"@reportaman It wouldn't work. ripgrep doesn't use PCRE2's replacement routines.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850389034/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4812239486,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgxMjIzOTQ4Ng==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4812239486","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-28T12:38:16Z","performed_via_github_app":null},{"id":4812239488,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MTIyMzk0ODg=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4812239488","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-28T12:38:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850527923","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-850527923","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":850527923,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDUyNzkyMw==","user":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T16:18:09Z","updated_at":"2021-05-28T16:40:26Z","body":"@BurntSushi Ok sure, running batch replacement from within vim multiple times (to cover different sub pattern cases) on files of a project wouldn't hurt. If users want to do batch replacement on thousands of files they should anyway do it from command line.\r\n\r\nI look forward to playing with the replace strings you add to ``--json`` printer output.\r\n\r\nCurious why that decision though? Couldn't ripgrep just link to libpcre* and use that for fallback?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/850527923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"poetaman","id":71736629,"node_id":"MDQ6VXNlcjcxNzM2NjI5","avatar_url":"https://avatars.githubusercontent.com/u/71736629?v=4","gravatar_id":"","url":"https://api.github.com/users/poetaman","html_url":"https://github.com/poetaman","followers_url":"https://api.github.com/users/poetaman/followers","following_url":"https://api.github.com/users/poetaman/following{/other_user}","gists_url":"https://api.github.com/users/poetaman/gists{/gist_id}","starred_url":"https://api.github.com/users/poetaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poetaman/subscriptions","organizations_url":"https://api.github.com/users/poetaman/orgs","repos_url":"https://api.github.com/users/poetaman/repos","events_url":"https://api.github.com/users/poetaman/events{/privacy}","received_events_url":"https://api.github.com/users/poetaman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4813540202,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDgxMzU0MDIwMg==","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4813540202","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-28T16:18:09Z","performed_via_github_app":null},{"id":4813540207,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4MTM1NDAyMDc=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4813540207","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-28T16:18:09Z","performed_via_github_app":null},{"id":4815989452,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4MTU5ODk0NTI=","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/4815989452","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-05-29T12:30:44Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T21:13:47Z","updated_at":"2022-10-07T21:13:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325","repository_url":"https://api.github.com/repos/BurntSushi/ripgrep","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325/labels{/name}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325/comments","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325/events","html_url":"https://github.com/BurntSushi/ripgrep/issues/2325","id":1401662810,"node_id":"I_kwDOAzJbyc5Ti61a","number":2325,"title":"Show capturing groups in `--json` mode","user":{"login":"pmkap","id":48184470,"node_id":"MDQ6VXNlcjQ4MTg0NDcw","avatar_url":"https://avatars.githubusercontent.com/u/48184470?v=4","gravatar_id":"","url":"https://api.github.com/users/pmkap","html_url":"https://github.com/pmkap","followers_url":"https://api.github.com/users/pmkap/followers","following_url":"https://api.github.com/users/pmkap/following{/other_user}","gists_url":"https://api.github.com/users/pmkap/gists{/gist_id}","starred_url":"https://api.github.com/users/pmkap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmkap/subscriptions","organizations_url":"https://api.github.com/users/pmkap/orgs","repos_url":"https://api.github.com/users/pmkap/repos","events_url":"https://api.github.com/users/pmkap/events{/privacy}","received_events_url":"https://api.github.com/users/pmkap/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":339721680,"node_id":"MDU6TGFiZWwzMzk3MjE2ODA=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"An enhancement to the functionality of the software."},{"id":339721683,"node_id":"MDU6TGFiZWwzMzk3MjE2ODM=","url":"https://api.github.com/repos/BurntSushi/ripgrep/labels/question","name":"question","color":"cc317c","default":true,"description":"An issue that is lacking clarity on one or more points."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-10-07T21:01:56Z","updated_at":"2024-05-18T10:29:44Z","closed_at":"2022-10-07T22:50:26Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":53631945,"node_id":"MDEwOlJlcG9zaXRvcnk1MzYzMTk0NQ==","name":"ripgrep","full_name":"BurntSushi/ripgrep","private":false,"owner":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BurntSushi/ripgrep","description":"ripgrep recursively searches directories for a regex pattern while respecting your gitignore","fork":false,"url":"https://api.github.com/repos/BurntSushi/ripgrep","forks_url":"https://api.github.com/repos/BurntSushi/ripgrep/forks","keys_url":"https://api.github.com/repos/BurntSushi/ripgrep/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BurntSushi/ripgrep/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BurntSushi/ripgrep/teams","hooks_url":"https://api.github.com/repos/BurntSushi/ripgrep/hooks","issue_events_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events{/number}","events_url":"https://api.github.com/repos/BurntSushi/ripgrep/events","assignees_url":"https://api.github.com/repos/BurntSushi/ripgrep/assignees{/user}","branches_url":"https://api.github.com/repos/BurntSushi/ripgrep/branches{/branch}","tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/tags","blobs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/refs{/sha}","trees_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BurntSushi/ripgrep/statuses/{sha}","languages_url":"https://api.github.com/repos/BurntSushi/ripgrep/languages","stargazers_url":"https://api.github.com/repos/BurntSushi/ripgrep/stargazers","contributors_url":"https://api.github.com/repos/BurntSushi/ripgrep/contributors","subscribers_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscribers","subscription_url":"https://api.github.com/repos/BurntSushi/ripgrep/subscription","commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/commits{/sha}","git_commits_url":"https://api.github.com/repos/BurntSushi/ripgrep/git/commits{/sha}","comments_url":"https://api.github.com/repos/BurntSushi/ripgrep/comments{/number}","issue_comment_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments{/number}","contents_url":"https://api.github.com/repos/BurntSushi/ripgrep/contents/{+path}","compare_url":"https://api.github.com/repos/BurntSushi/ripgrep/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BurntSushi/ripgrep/merges","archive_url":"https://api.github.com/repos/BurntSushi/ripgrep/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BurntSushi/ripgrep/downloads","issues_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues{/number}","pulls_url":"https://api.github.com/repos/BurntSushi/ripgrep/pulls{/number}","milestones_url":"https://api.github.com/repos/BurntSushi/ripgrep/milestones{/number}","notifications_url":"https://api.github.com/repos/BurntSushi/ripgrep/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BurntSushi/ripgrep/labels{/name}","releases_url":"https://api.github.com/repos/BurntSushi/ripgrep/releases{/id}","deployments_url":"https://api.github.com/repos/BurntSushi/ripgrep/deployments","created_at":"2016-03-11T02:02:33Z","updated_at":"2025-11-09T23:50:59Z","pushed_at":"2025-10-30T17:30:23Z","git_url":"git://github.com/BurntSushi/ripgrep.git","ssh_url":"git@github.com:BurntSushi/ripgrep.git","clone_url":"https://github.com/BurntSushi/ripgrep.git","svn_url":"https://github.com/BurntSushi/ripgrep","homepage":"","size":5534,"stargazers_count":57154,"watchers_count":57154,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2304,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":88,"license":{"key":"unlicense","name":"The Unlicense","spdx_id":"Unlicense","url":"https://api.github.com/licenses/unlicense","node_id":"MDc6TGljZW5zZTE1"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","command-line","command-line-tool","gitignore","grep","recursively-search","regex","ripgrep","rust","search"],"visibility":"public","forks":2304,"open_issues":88,"watchers":57154,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I couldn't find any way to show capturing groups in `--json` mode.\r\n\r\nMotivation:\r\nSometimes I'm interested in a group. After parsing the json, I need to filter the group in an additional step. Possibly with the same regex as in the first step. In such cases it would be nice if this was directly supported.\r\n\r\nExample how this feature could look like:\r\n\r\n`echo 'Hello! !World! !foo!' | rg --json '!(\\w+?)!' | jq`\r\n\r\n```json\r\n\"submatches\": [\r\n  {\r\n    \"match\": {\r\n      \"text\": \"!World!\"\r\n    },\r\n    \"groups\" : [\r\n      {\r\n        \"1\": \"World\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"match\": {\r\n      \"text\": \"!foo!\"\r\n    },\r\n    \"groups\" : [\r\n      {\r\n        \"1\": \"foo\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/2325/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1445701506","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-1445701506","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":1445701506,"node_id":"IC_kwDOAzJbyc5WK6eC","user":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T04:52:46Z","updated_at":"2023-02-27T04:52:46Z","body":"@BurntSushi, Thanks for the excellent tool.\r\n\r\nI also need to replace matched strings in the files. Having a replacement string will make it a lot easier and most of all the replacement strings will be consistent with the ripgrep matching engine.\r\n\r\nDo you have any plans for this enhancement?\r\n\r\nAlso, I'm curious that is there a specific reason you chose not to implement the file replacement functionality as, like you said, the tool is already doing 80% heavy lifting? ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1445701506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8611580193,"node_id":"MEE_lADOAzJbyc41wTvFzwAAAAIBSkkh","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8611580193","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-27T04:52:46Z","performed_via_github_app":null},{"id":8611580201,"node_id":"SE_lADOAzJbyc41wTvFzwAAAAIBSkkp","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8611580201","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-27T04:52:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1446097917","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-1446097917","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":1446097917,"node_id":"IC_kwDOAzJbyc5WMbP9","user":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T10:45:33Z","updated_at":"2023-02-27T10:45:33Z","body":"@manikantag This issue isn't about replacing stuff in files. This issue is about the `--json` output. See #74. \r\n\r\n> Do you have any plans for this enhancement?\r\n\r\nWhat enhancement are you talking about? If you're talking about the one represented by this specific issue, then yes, it is open and marked as `enhancement`.\r\n\r\n> the tool is already doing 80% heavy lifting?\r\n\r\nThat's not really what I said. I was alluding to the [Pareto principle](https://en.wikipedia.org/wiki/Pareto_principle). That is, it hits the 80% use case with _not much effort_, but going the rest of the way takes quite a bit more work and complexity. So it is the opposite of \"if you're already 80% of the way there, then why not just do a little bit more to get to 100%.\"","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1446097917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8614255882,"node_id":"MEE_lADOAzJbyc41wTvFzwAAAAIBcx0K","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8614255882","actor":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-27T10:45:33Z","performed_via_github_app":null},{"id":8614255889,"node_id":"SE_lADOAzJbyc41wTvFzwAAAAIBcx0R","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8614255889","actor":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-27T10:45:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1449270048","html_url":"https://github.com/BurntSushi/ripgrep/issues/1872#issuecomment-1449270048","issue_url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/1872","id":1449270048,"node_id":"IC_kwDOAzJbyc5WYhsg","user":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T03:12:15Z","updated_at":"2023-03-01T03:12:15Z","body":"@BurntSushi yes, I meant the JSON changes only as you clearly mention no option in ripgrep will change the actual file content (even `-r`). \r\n\r\nMy thought is if the tool includes the replacement string in the JSON output, then by consuming the JSON, one can built tool to the actual file replacement. \r\n\r\nMay be I'm not clear enough, but I said 80% because the tool is already giving matching file, line, column & highlighting the word match too. Using the JSON output, I'm able to generate HTML markup like how vscode (or any other editor) is doing. Now with addition of replacement string in JSON output, my end objective to build 'File search & replace' feature will be 100% complete. \r\n\r\nI see you considered this as an enhancement. Looking forward for it. And hopefully the JSON output schema will not change in future which would break my logic.\r\n\r\nThanks","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/comments/1449270048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"manikantag","id":317299,"node_id":"MDQ6VXNlcjMxNzI5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/317299?v=4","gravatar_id":"","url":"https://api.github.com/users/manikantag","html_url":"https://github.com/manikantag","followers_url":"https://api.github.com/users/manikantag/followers","following_url":"https://api.github.com/users/manikantag/following{/other_user}","gists_url":"https://api.github.com/users/manikantag/gists{/gist_id}","starred_url":"https://api.github.com/users/manikantag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manikantag/subscriptions","organizations_url":"https://api.github.com/users/manikantag/orgs","repos_url":"https://api.github.com/users/manikantag/repos","events_url":"https://api.github.com/users/manikantag/events{/privacy}","received_events_url":"https://api.github.com/users/manikantag/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8633562109,"node_id":"MEE_lADOAzJbyc41wTvFzwAAAAICmbP9","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8633562109","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-01T03:12:16Z","performed_via_github_app":null},{"id":8633562114,"node_id":"SE_lADOAzJbyc41wTvFzwAAAAICmbQC","url":"https://api.github.com/repos/BurntSushi/ripgrep/issues/events/8633562114","actor":{"login":"BurntSushi","id":456674,"node_id":"MDQ6VXNlcjQ1NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/456674?v=4","gravatar_id":"","url":"https://api.github.com/users/BurntSushi","html_url":"https://github.com/BurntSushi","followers_url":"https://api.github.com/users/BurntSushi/followers","following_url":"https://api.github.com/users/BurntSushi/following{/other_user}","gists_url":"https://api.github.com/users/BurntSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/BurntSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurntSushi/subscriptions","organizations_url":"https://api.github.com/users/BurntSushi/orgs","repos_url":"https://api.github.com/users/BurntSushi/repos","events_url":"https://api.github.com/users/BurntSushi/events{/privacy}","received_events_url":"https://api.github.com/users/BurntSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-01T03:12:16Z","performed_via_github_app":null}]