<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1098] runOrder=balanced is not working</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1098</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;It seems that the runOrder parameter with balanced value is not working.&lt;br/&gt;
For example, I created a project with the following setting.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;plugin&amp;gt;
  &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;2.17&amp;lt;/version&amp;gt;
  &amp;lt;configuration&amp;gt;
    &amp;lt;parallel&amp;gt;classes&amp;lt;/parallel&amp;gt;
    &amp;lt;runOrder&amp;gt;balanced&amp;lt;/runOrder&amp;gt;
    &amp;lt;threadCount&amp;gt;2&amp;lt;/threadCount&amp;gt;
    &amp;lt;perCoreThreadCount&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/perCoreThreadCount&amp;gt;
  &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then, execute the following tests.&lt;/p&gt;

&lt;p&gt;TestA: 1 second&lt;br/&gt;
TestB: 2 seconds&lt;br/&gt;
TestC: 3 seconds&lt;br/&gt;
TestD: 4 seconds&lt;/p&gt;

&lt;p&gt;The expected order is the following from the second time.&lt;br/&gt;
Thread 1: TestD &amp;#8594; TestA&lt;br/&gt;
Thread 2: TestC &amp;#8594; TestB&lt;/p&gt;

&lt;p&gt;However, the actual order is the following.&lt;br/&gt;
Thread 1: TestB &amp;#8594; TestD&lt;br/&gt;
Thread 2: TestC &amp;#8594; TestA&lt;/p&gt;</description>
                <environment>JDK 7 on Linux&lt;br/&gt;
JUnit 4.11</environment>
        <key id="12809957">SUREFIRE-1098</key>
            <summary>runOrder=balanced is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="miyajan">Miyata Jumpei</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2014 00:57:25 +0000</created>
                <updated>Fri, 4 Jul 2025 07:22:58 +0000</updated>
                            <resolved>Tue, 30 Sep 2014 12:18:04 +0000</resolved>
                                    <version>2.12.2</version>
                    <version>2.12.3</version>
                    <version>2.12.4</version>
                    <version>2.13</version>
                    <version>2.14</version>
                    <version>2.14.1</version>
                    <version>2.15</version>
                    <version>2.16</version>
                    <version>2.17</version>
                                    <fixVersion>2.18</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14456092" author="miyajan" created="Wed, 24 Sep 2014 03:34:51 +0000"  >&lt;p&gt;I&apos;ve sent a pull-request!&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/48&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456236" author="tibor17" created="Thu, 25 Sep 2014 08:31:37 +0000"  >&lt;p&gt;Miyata, the order in parallel execution cannot be guaranteed.&lt;br/&gt;
I cannot tell the thread-pool which test class to take first.&lt;br/&gt;
Cannot guarantee that all four tests would finish at the same time.&lt;br/&gt;
The only guarantee is that both Threads would always process yet unexecuted test.&lt;/p&gt;</comment>
                            <comment id="14456243" author="miyajan" created="Thu, 25 Sep 2014 09:19:58 +0000"  >&lt;p&gt;In the current implementation, it seems that the static file is different between read and written.&lt;br/&gt;
It makes no sense.&lt;br/&gt;
I wrote the reason in the pull-request.&lt;br/&gt;
It must not be the expected behaviour.&lt;br/&gt;
In 2.11, 2.12 and 2.12.1, the tests are executed in the order of long time.&lt;/p&gt;</comment>
                            <comment id="14456221" author="agudian" created="Thu, 25 Sep 2014 12:50:28 +0000"  >&lt;p&gt;Tibor, could you take a look if the the suggested fix has an effect?&lt;/p&gt;

&lt;p&gt;IIRC, the j.u.concurrent.ThreadPoolExecutor takes the next work item to process from the top of the queue, while newly submitted tasks land at the tail of the queue (which is the purpose of calling it a &quot;queue&quot;). So feeding the tests into the thread pool executor ordered by descending execution time (which I think is what &quot;balanced&quot; would try to do), should have the desired effect.&lt;/p&gt;</comment>
                            <comment id="14456202" author="tibor17" created="Fri, 26 Sep 2014 10:57:53 +0000"  >&lt;p&gt;I will try to apply the fix and i will check if the second run would reorder the tests.&lt;/p&gt;</comment>
                            <comment id="14456117" author="tibor17" created="Sun, 28 Sep 2014 13:25:20 +0000"  >&lt;p&gt;Fixed in PR &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/49&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456294" author="tibor17" created="Tue, 30 Sep 2014 12:18:04 +0000"  >&lt;p&gt;Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/5cb02c37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/5cb02c37&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17994502" author="olamy" created="Fri, 4 Jul 2025 07:22:58 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1492&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bb9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>