<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:13:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1211] surefire-testng runs JUnit tests</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1211</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When running two test classes, one using JUnit and the other testng annotations, I observe surefire-testng running both tests:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat src/test/java/JunitTest.java 
import org.junit.Test;
public final class JunitTest {
    @Test public void junitMethod() throws Exception {}
}

$ cat src/test/java/TestngTest.java 
import org.testng.annotations.Test;
public final class TestngTest {
    @Test public void testngMethod() throws Exception {}
}

$ mvn clean test --quiet

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running JunitTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in JunitTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0


-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.476 sec - in TestSuite

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead it should only run the single testng test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12923950">SUREFIRE-1211</key>
            <summary>surefire-testng runs JUnit tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="gaul">Andrew Gaul</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Dec 2015 09:02:02 +0000</created>
                <updated>Fri, 4 Jul 2025 07:25:02 +0000</updated>
                            <resolved>Wed, 23 Dec 2015 16:53:43 +0000</resolved>
                                    <version>2.19</version>
                                    <fixVersion>2.19.1</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15069442" author="tibor17" created="Wed, 23 Dec 2015 09:51:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=argaul&quot; class=&quot;user-hover&quot; rel=&quot;argaul&quot;&gt;argaul&lt;/a&gt;&lt;br/&gt;
As by design.&lt;br/&gt;
TestNG has JUnit dependency and runs both. We just enable property junit=true and we provide JUnit classes to the TestNG instance in the second run after TestNG classes.&lt;/p&gt;</comment>
                            <comment id="15069639" author="tibor17" created="Wed, 23 Dec 2015 13:53:44 +0000"  >&lt;p&gt;junit=false will be provided&lt;/p&gt;</comment>
                            <comment id="15069863" author="tibor17" created="Wed, 23 Dec 2015 16:53:43 +0000"  >&lt;p&gt;commit 11894397cee63917b3d503b424a15958e44960fb&lt;br/&gt;
See the updated documentation &lt;br/&gt;
&lt;a href=&quot;http://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15069933" author="hudson" created="Wed, 23 Dec 2015 17:48:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in maven-surefire #1535 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1535/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1535/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1211&quot; title=&quot;surefire-testng runs JUnit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1211&quot;&gt;&lt;del&gt;SUREFIRE-1211&lt;/del&gt;&lt;/a&gt; surefire-testng runs JUnit tests (tibor17: rev 11894397cee63917b3d503b424a15958e44960fb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;surefire-integration-tests/src/test/resources/surefire-1211/src/test/java/jira1211/JUnitTest.java&lt;/li&gt;
	&lt;li&gt;maven-surefire-plugin/src/site/apt/examples/testng.apt.vm&lt;/li&gt;
	&lt;li&gt;surefire-providers/surefire-testng/src/main/java/org/apache/maven/surefire/testng/TestNGDirectoryTestSuite.java&lt;/li&gt;
	&lt;li&gt;surefire-integration-tests/src/test/resources/surefire-1211/src/test/java/jira1211/TestNGSuiteTest.java&lt;/li&gt;
	&lt;li&gt;surefire-integration-tests/src/test/resources/surefire-1211/pom.xml&lt;/li&gt;
	&lt;li&gt;surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1211JUnitTestNgIT.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15070122" author="gaul" created="Wed, 23 Dec 2015 20:07:26 +0000"  >&lt;p&gt;The junit option does not give the output I expect.  Consider updating the two test classes as follows:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat src/test/java/JunitTest.java 
import org.junit.Test;
public final class JunitTest {
    @Test public void junitMethod() throws Exception {}
    @Test public void junitMethod2() throws Exception {}
}

$ cat src/test/java/TestngTest.java 
import org.testng.annotations.Test;
public final class TestngTest {
    @Test public void testngMethod() throws Exception {}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compare the abridged test output with junit=false:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn clean test --quiet -Djunit=false
...
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in JunitTest
...
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.293 sec - in TestSuite
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I expect surefire-testng to only run the testng tests (1 test).&lt;/p&gt;

&lt;p&gt;Compare the abridged test output with junit=true:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn clean test --quiet -Djunit=true
...
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in JunitTest
...
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.25 sec - in TestSuite
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I expect surefire-testng to run both the JUnit and testng tests (3 tests).&lt;/p&gt;</comment>
                            <comment id="15070199" author="tibor17" created="Wed, 23 Dec 2015 21:12:51 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;Compare the abridged test output with junit=false:&lt;br/&gt;
&amp;gt;&amp;gt;I expect surefire-testng to only run the testng tests (1 test).&lt;/p&gt;

&lt;p&gt;Yes, remove both providers and use junit=false and you will see only TestNG tests in the entire build summary.&lt;br/&gt;
The integration test proves this working.&lt;/p&gt;

&lt;p&gt;Notice that we, first of all, discover providers in dependency structure. Then we run them in a loop. They are undergo their individual tasks. Due to TestNG is able to run JUnit tests just avoid surefire-junit47 or simply do not use any.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;I expect surefire-testng to run both the JUnit and testng tests (3 tests).&lt;/p&gt;

&lt;p&gt;No problem. This works so far 2.19.&lt;br/&gt;
Feel free to use TestNG 6.x which is dependent on JUnit 4.x. (optional - non-inheritable dependency) and annotations can be used.&lt;/p&gt;</comment>
                            <comment id="15070200" author="tibor17" created="Wed, 23 Dec 2015 21:15:07 +0000"  >&lt;p&gt;I do not mean system property like this&lt;br/&gt;
mvn xxx -Djunit=false&lt;br/&gt;
Instead you should declare the property in surefire configuration in POM. Example:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/commit/11894397cee63917b3d503b424a15958e44960fb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/commit/11894397cee63917b3d503b424a15958e44960fb&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15070216" author="tibor17" created="Wed, 23 Dec 2015 21:33:39 +0000"  >&lt;p&gt;By default TestNG does not run JUnit tests.&lt;br/&gt;
If you do not use the property the Surefire will enable JUnit tests by default, like in TestNG documentation&lt;br/&gt;
&lt;a href=&quot;http://testng.org/doc/documentation-main.html#highlighter_703636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://testng.org/doc/documentation-main.html#highlighter_703636&lt;/a&gt;&lt;br/&gt;
The point of our property is to disable the JUnit tests and not to enable it. For sake of historical reasons in Surefire JUnit was enabled and therefore disabling the JUnit tests within TestNG can be done without breaking backwards compatibility:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &amp;lt;properties&amp;gt;
            &amp;lt;property&amp;gt;
              &amp;lt;name&amp;gt;junit&amp;lt;/name&amp;gt;
              &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;
            &amp;lt;/property&amp;gt;
          &amp;lt;/properties&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15084986" author="gaul" created="Wed, 6 Jan 2016 05:06:00 +0000"  >&lt;p&gt;Confirmed fixed in Surefire 2.19.1.  Thank you for working with me on this!&lt;/p&gt;</comment>
                            <comment id="17994610" author="olamy" created="Fri, 4 Jul 2025 07:25:02 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2479&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2479&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12779221" name="pom.xml" size="1789" author="gaul" created="Wed, 23 Dec 2015 09:03:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2q8yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>