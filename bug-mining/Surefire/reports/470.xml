<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:13:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1144] Time for testsuite on commandline does not suit with the time value given in the report file</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1144</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Currently i have a build where i got printed out the following:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- maven-surefire-plugin:2.18:test (default-test) @ supose-cli ---
[INFO] Surefire report directory: /Users/kama/ws-git/supose/supose-cli/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.soebes.supose.cli.SuposeCLITest
Configuring TestNG with: TestNG652Configurator
Tests run: 22, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.562 sec - in com.soebes.supose.cli.SuposeCLITest

Results :

Tests run: 22, Failures: 0, Errors: 0, Skipped: 0

[INFO]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So if i take a look into the appropriate surefire-report file &lt;tt&gt;supose-cli/target/surefire-reports/TEST-com.soebes.supose.cli.SuposeCLITest.xml&lt;/tt&gt; i see the following in the first lines:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testsuite name=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.soebes.supose.cli.SuposeCLITest&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.142&quot;&lt;/span&gt; tests=&lt;span class=&quot;code-quote&quot;&gt;&quot;22&quot;&lt;/span&gt; errors=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; skipped=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; failures=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which shows a complete different time &lt;tt&gt;0.142&lt;/tt&gt; instead of &lt;tt&gt;0.562&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I have had expected to see the same time in the xml file as well as on the print out on console...&lt;/p&gt;

&lt;p&gt;So the question is: Where does this difference come frome? Do i misundestand a thing here?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12809593">SUREFIRE-1144</key>
            <summary>Time for testsuite on commandline does not suit with the time value given in the report file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="khmarbaise">Karl Heinz Marbaise</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2015 12:21:45 +0000</created>
                <updated>Fri, 4 Jul 2025 07:23:24 +0000</updated>
                            <resolved>Mon, 28 Sep 2015 00:08:09 +0000</resolved>
                                    <version>2.18</version>
                                    <fixVersion>2.19</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14537385" author="tibor17" created="Sun, 10 May 2015 21:49:41 +0000"  >&lt;p&gt;Was the test running in parallel?&lt;/p&gt;</comment>
                            <comment id="14539723" author="tibor17" created="Tue, 12 May 2015 12:08:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=khmarbaise&quot; class=&quot;user-hover&quot; rel=&quot;khmarbaise&quot;&gt;khmarbaise&lt;/a&gt;   Karl, can you provide a test case I want to reproduce this issue. Are your TestNG tests running in parallel?&lt;/p&gt;</comment>
                            <comment id="14540545" author="khmarbaise" created="Tue, 12 May 2015 19:26:42 +0000"  >&lt;p&gt;mvn console ouput.&lt;/p&gt;</comment>
                            <comment id="14540547" author="khmarbaise" created="Tue, 12 May 2015 19:27:13 +0000"  >&lt;p&gt;All surefire-reports folder after running the previous test (mvn test) not parallel.&lt;/p&gt;</comment>
                            <comment id="14540549" author="khmarbaise" created="Tue, 12 May 2015 19:28:21 +0000"  >&lt;p&gt;Hi Tibor,&lt;br/&gt;
sorry for late answer...i have attached log file output plus the surefire area of the project. The project i have used to produced the issue and the tests can be found here: &lt;a href=&quot;https://github.com/khmarbaise/supose/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/khmarbaise/supose/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope it helps.&lt;/p&gt;

&lt;p&gt;If you have further question don&apos;t hesitate to contact me.&lt;/p&gt;

&lt;p&gt;Kind regards&lt;br/&gt;
Karl Heinz Marbaise&lt;/p&gt;</comment>
                            <comment id="14540819" author="tibor17" created="Tue, 12 May 2015 21:41:05 +0000"  >&lt;p&gt;I think the root cause is so that surefire passed elapsed time from TestMethod to StatelessXmlReporter through SimpleReportEntry and final time is computed as sum of partial exec times.&lt;br/&gt;
Inmy case when JUnit test are running in parallel the final exec time was computed from outermost of overlapping times and reported in console. The xml report should be fixed accordingly. So I hope this would fix TestNG however not running in parallel.&lt;/p&gt;</comment>
                            <comment id="14587016" author="githubbot" created="Mon, 15 Jun 2015 22:12:28 +0000"  >&lt;p&gt;GitHub user lamyaa opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;Surefire-1144&amp;#93;&lt;/span&gt; Time for testsuite on commandline does not suit with the time value given in the report file&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1144&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SUREFIRE-1144&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This pull request modifies the XML reporter such that it shows time computed as `endTime - startTime` rather than summing up the method execution times through `getRunTimeForAllTests()`.&lt;/p&gt;

&lt;p&gt;    I have tested this patch with the project provided by Karl in the bug report  thread:&lt;br/&gt;
    &lt;a href=&quot;https://github.com/khmarbaise/supose/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/khmarbaise/supose/&lt;/a&gt;&lt;br/&gt;
    The time shown in the XML report is now consistent with the one shown in the console.&lt;/p&gt;

&lt;p&gt;    @Tibor17 I would appreciate your input on a couple of things:&lt;br/&gt;
    1) Initially, I deleted line 111/122 (`elapsedForTestSet += elapsedForThis;`) in TestSetStats and line 100 (` elapsedForTestSet = testSetEndAt - testSetStartAt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;` was not within an if-block. However, that made XmlReporterRunTimeIT fail. The IT runs test methods in parallel and `testSetEndAt - testSetStartAt` ends up being abnormally small, smaller than the sleep times of any of the test methods. I don&apos;t understand enough of how the parallelism and fork code is implemented to properly debug that so I left line 111/122 and wrapped line 100 within an if-block. Please let me know if you have a better idea of how to deal with this.&lt;/p&gt;

&lt;p&gt;    2) The XML report now prints `elapsedForTestSet = testSetEndAt - testSetStartAt` but the console (which I have not changed) prints `elapsedSinceTestSetStart = currentTime - testSetStartAt`. This means the console time may be 1 or 2ms more than the XML report time. Do you think it would be good to have the console also print `elapsedForTestSet`? If not, I probably need to change Surefire1144XmlRunTimeIT to accept a 1 or 2ms difference.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lamyaa/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lamyaa/maven-surefire&lt;/a&gt; surefire-1144&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/98.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/98.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #98&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9d4931b9ccd82e9305efe1405a56083b6023e84e&lt;br/&gt;
Author: lamyaa &amp;lt;eloussi2@illinois.edu&amp;gt;&lt;br/&gt;
Date:   2015-06-12T19:29:58Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;Surefire-1144&amp;#93;&lt;/span&gt; Time for testsuite on commandline does not suit with the time value given in the report file&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14905489" author="githubbot" created="Wed, 23 Sep 2015 23:21:15 +0000"  >&lt;p&gt;Github user Tibor17 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/96#issuecomment-142758232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/96#issuecomment-142758232&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @lamyaa &lt;br/&gt;
    Did you have time to run this test using the fix we talked about in `&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1144&quot; title=&quot;Time for testsuite on commandline does not suit with the time value given in the report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1144&quot;&gt;&lt;del&gt;SUREFIRE-1144&lt;/del&gt;&lt;/a&gt;`?&lt;br/&gt;
    Is the execution time calculation broken ?&lt;br/&gt;
    If it is not broken, we can continue with this. I would rather talk with Andreas before making any conclusion in this PR. First of all I will test rerun together with HTML repor. Having `time` in partial executions within testcase is maybe releval statistics. The only problem is with `failure` because it does not have `time` in testcase without rerun. There is also another problem with `time` in `failure` when JUnit tests use `ErrorCollector` which reports multiple failures in testcase which needs to be tested in current release 2.18.1. The problem is that the time of such failures is not aggregated in reality and thus individual times match the sum and the individual times are not necessary. I guess the only failures and rerunFailure elements may have `time` if and only if rerun is applied in such testcase.&lt;/p&gt;

&lt;p&gt;    Currently this decision is not trivial for me to make because I need to make more investigations of current status.&lt;/p&gt;</comment>
                            <comment id="14909938" author="tibor17" created="Mon, 28 Sep 2015 00:08:09 +0000"  >&lt;p&gt;commit feda08851f48a6467bd681449eaea1635051bc3b&lt;/p&gt;</comment>
                            <comment id="14909943" author="githubbot" created="Mon, 28 Sep 2015 00:41:45 +0000"  >&lt;p&gt;Github user lamyaa closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/98&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14934329" author="githubbot" created="Mon, 28 Sep 2015 23:24:30 +0000"  >&lt;p&gt;Github user lamyaa commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/96#issuecomment-143900518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/96#issuecomment-143900518&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 I just tested this PR with your recent &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1144&quot; title=&quot;Time for testsuite on commandline does not suit with the time value given in the report file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1144&quot;&gt;&lt;del&gt;SUREFIRE-1144&lt;/del&gt;&lt;/a&gt; fix. It still works. &lt;br/&gt;
    Again, the point here was really just to provide the same level of information as the console (which already shows individual times for each rerun). As for the time shown in the test case, it could be the sum, the last time, or we could just leave it as it is currently (the first run time).&lt;br/&gt;
    It&apos;s also fine to speak with Andreas first and get his take on this.&lt;/p&gt;</comment>
                            <comment id="17994525" author="olamy" created="Fri, 4 Jul 2025 07:23:24 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2546&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2546&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732336" name="mvn.log" size="16569" author="khmarbaise" created="Tue, 12 May 2015 19:26:42 +0000"/>
                            <attachment id="12732337" name="surefire.reports.tar.gz" size="222212" author="khmarbaise" created="Tue, 12 May 2015 19:27:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bb0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>