<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:12:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1122] When running failsafe with -Dfailsafe.rerunFailingTestsCount and parallel all, the reports are not generated correctly</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1122</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I just tried the new feature -Dfailsafe.rerunFailingTestsCount on our failsafe build.&lt;br/&gt;
Unfortunately, when running the build using parallel=all, it seems the junit xml files are not generated correctly.&lt;br/&gt;
I&apos;ve tried running it multiple different ways, including classedAndMethods, and all, but it seems to generate an incorrect xml file either way.&lt;br/&gt;
I&apos;ve attached both files here.&lt;/p&gt;

&lt;p&gt;I can provide a pom and java test case if required.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12809591">SUREFIRE-1122</key>
            <summary>When running failsafe with -Dfailsafe.rerunFailingTestsCount and parallel all, the reports are not generated correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="agudian">Andreas Gudian</assignee>
                                    <reporter username="hellspam">Roy Arnon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2014 11:36:06 +0000</created>
                <updated>Fri, 4 Jul 2025 07:23:18 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 14:35:52 +0000</resolved>
                                    <version>2.18</version>
                                    <fixVersion>2.18.1</fixVersion>
                                    <component>Maven Failsafe Plugin</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14456603" author="tibor17" created="Thu, 4 Dec 2014 15:13:31 +0000"  >&lt;p&gt;@Roy&lt;br/&gt;
Provide all we need to reproduce this issue.&lt;br/&gt;
What&apos;s exactly wrong in the report files?&lt;/p&gt;</comment>
                            <comment id="14456484" author="hellspam" created="Thu, 4 Dec 2014 16:11:46 +0000"  >&lt;p&gt;In my pom file, I have a profile called parallel that defines some options for failsafe to run parallely:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;parallel&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-failsafe-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;integration-test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;verify&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;reuseForks&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/reuseForks&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;threadCountSuites&amp;gt;&lt;/span&gt;2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/threadCountSuites&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;threadCountClasses&amp;gt;&lt;/span&gt;2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/threadCountClasses&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;threadCountMethods&amp;gt;&lt;/span&gt;6&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/threadCountMethods&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;forkCount&amp;gt;&lt;/span&gt;${parallel.forkcount}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/forkCount&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;threadCount&amp;gt;&lt;/span&gt;${parallel.threadcount}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/threadCount&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;parallel&amp;gt;&lt;/span&gt;all&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/parallel&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I run the tests without this profile, I get a flakyFailure tag in the testcase as defined &lt;a href=&quot;http://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;loginWithGoodUserDontRememberThenLogout&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.mycompany.testing.backstage.general.login.LoginTest&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;6.297&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;flakyFailure message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Expected to be able to login, but got back to login page&amp;amp;#10;Expected: an instance of com.mycompany.testing.pages.backstage.MainPage&amp;amp;#10;     but: &amp;amp;lt;com.mycompany.testing.pages.backstage.login.LoginPage@1df95673&amp;amp;gt; is a com.mycompany.testing.pages.backstage.login.LoginPage&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.AssertionError&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;lt;![CDATA[java.lang.AssertionError: Expected to be able to login, but got back to login page
Expected: an instance of com.mycompany.testing.pages.backstage.MainPage
     but: &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;com.mycompany.testing.pages.backstage.login.LoginPage@1df95673&amp;gt;&lt;/span&gt; is a com.mycompany.testing.pages.backstage.login.LoginPage
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.junit.Assert.assertThat(Assert.java:865)
	at com.mycompany.testing.backstage.general.login.LoginTest.loginWithGoodUserDontRememberThenLogout(LoginTest.java:60)
]]&amp;gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;system-out&amp;gt;&lt;/span&gt;&amp;lt;![CDATA[17:08:08.011 [INFO] Created dir: target/screenshots/
[[ATTACHMENT|c:\workspace\products\automation-testing\backstage-test-suite\target\logs\LoginTest.loginWithGoodUserDontRememberThenLogout.log]]
Unable to obtain hostname of webdriver node, assuming localhost
17:08:08.029 [INFO] Selenium Node: ROY-DESKTOP.office.mycompany.com
17:08:09.675 [INFO] Logging in user: login_user
17:08:09.810 [INFO] Entering text [login_user] to User Name located by [[[ChromeDriver: chrome on XP (45adbb70264e3dde486c0fc57eadbb1f)] -&amp;gt; id: j_username]]
17:08:10.049 [INFO] Entering text [change121] to Password located by [[[ChromeDriver: chrome on XP (45adbb70264e3dde486c0fc57eadbb1f)] -&amp;gt; id: j_password]]
17:08:10.365 [WARN] Got empty URL path, validating on page using sign out button
17:08:10.533 [ERROR] Failed logging in user: login_user. Got error: [The username or password you entered is incorrect]
17:08:10.540 [INFO] Test Failed
17:08:10.543 [INFO] Current URL: http://qa-fe-auto4-backstage.mycompany.com/backstage/login#
17:08:10.549 [ERROR] Error in test: LoginTest_loginWithGoodUserDontRememberThenLogout, Taking screenshot
 Current URL: http://qa-fe-auto4-backstage.mycompany.com/backstage/login#
17:08:10.549 [INFO] Taking screenshot with name: LoginTest_loginWithGoodUserDontRememberThenLogout
[[ATTACHMENT|c:\workspace\products\automation-testing\backstage-test-suite\target\screenshots\LoginTest_loginWithGoodUserDontRememberThenLogout.png]]
]]&amp;gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/system-out&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;system-err&amp;gt;&lt;/span&gt;&amp;lt;![CDATA[Starting ChromeDriver 2.12.301325 (962dea43ddd90e7e4224a03fa3c36a421281abb7) on port 14466
Only local connections are allowed.
]]&amp;gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/system-err&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/flakyFailure&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/testcase&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I run the tests with the parallel option, this is the testcase tag:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;loginWithGoodUserDontRememberThenLogout&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.mycompany.testing.backstage.general.login.LoginTest&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;9.744&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test is a simple selenium test that has been changed by me to only succeed on the 2nd run.&lt;br/&gt;
I&apos;ve also attached a simple project with a single test, that you can reproduce the bug on - simply run once with the -Pparallel option, and once without - check out the the resulting xml file.&lt;/p&gt;

&lt;p&gt;There is also another issue when running with the parallel profile -  the number of tests in the test output xml file does not match the number of tests actually run.&lt;br/&gt;
If you try running the test program with the -Pparallel option, you should notice only one testcase in the resulting output xml file, and not 2 as it should have been.&lt;br/&gt;
If you require anything else, please let me know.&lt;/p&gt;</comment>
                            <comment id="14456475" author="hellspam" created="Thu, 4 Dec 2014 16:55:49 +0000"  >&lt;p&gt;I had some time to burn, so I modified the test project - simply run mvn test, and you should see 4 test cases - 2 fail with the parallel option, and 2 succeed without it. &lt;br/&gt;
One tests that the output xml file contains a flakyFailure tag, the other that the file contains 2 testscases.&lt;br/&gt;
They are pretty simple, got too lazy to use an xml parser so just used contains string &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
Otherwise, they run the same code - clean verify on the test project.&lt;/p&gt;</comment>
                            <comment id="14456565" author="tibor17" created="Thu, 4 Dec 2014 19:57:54 +0000"  >&lt;p&gt;You are using failsafe plugin. Thus keep the naming convention of test classes *IT.java.&lt;br/&gt;
Don&apos;t mix parallel and forkCount. Decide for one concurrency mechanism but not for both.&lt;br/&gt;
Let us know new results.&lt;/p&gt;</comment>
                            <comment id="14456586" author="hellspam" created="Fri, 5 Dec 2014 07:21:50 +0000"  >&lt;p&gt;@Tibor&lt;br/&gt;
I tried all the things you suggested:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Changing the test names to *IT (not that I see why that would matter) - no effect&lt;/li&gt;
	&lt;li&gt;Commenting out &amp;lt;parallel&amp;gt;all&amp;lt;/parallel&amp;gt; and using only forkcount - xml is fine, but tests don&apos;t run parallely.&lt;/li&gt;
	&lt;li&gt;Commenting out forkCount and using only parallel - no effect.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14456612" author="hellspam" created="Mon, 8 Dec 2014 04:18:25 +0000"  >&lt;p&gt;@Tibor I checkout out the source for failsafe to see if I could maybe submit a patch.&lt;br/&gt;
From what I saw, it seems that report is generated twice - once when the first run of all tests is complete, and then again after the flaky test is completed.&lt;br/&gt;
So the file is generated twice, the second time containing only the test that was run again.&lt;br/&gt;
The line that is called twice is in ForkClient.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; ForkingRunListener.BOOTERCODE_TESTSET_COMPLETED:
    getOrCreateReporter( channelNumber ).testSetCompleted( createReportEntry( remaining ) );
&lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No idea how to fix this though, as this seems like a difficult issue - the testSetCompleted event I&apos;m assuming should only be fired once per test run no?&lt;/p&gt;</comment>
                            <comment id="14456567" author="tibor17" created="Tue, 9 Dec 2014 10:58:36 +0000"  >&lt;p&gt;@Roy&lt;br/&gt;
AFAIK Andreas will take over this week. If you have a fix, feel free to commit it in GitHub and discuss with Andreas.&lt;br/&gt;
We would like to release 2.18.1 next week, and we would be glad to have this fixed as well.&lt;/p&gt;</comment>
                            <comment id="14456512" author="hellspam" created="Tue, 9 Dec 2014 15:29:19 +0000"  >&lt;p&gt;@Tibor&lt;br/&gt;
Just an update - I tried running the test from my home, as I wanted to try debugging it there.&lt;br/&gt;
The issue does not reproduce at home. Tried with JDK 8 and JDK 6 (we use 6 at work). I can&apos;t connect to my work computer now, but I&apos;ll try reproducing the issue tomorrow and provide more information.&lt;/p&gt;</comment>
                            <comment id="14456485" author="hellspam" created="Tue, 9 Dec 2014 15:38:40 +0000"  >&lt;p&gt;@Tibor&lt;br/&gt;
Actually sorry, scratch that - it was an error on my part, forgot a config in the failsafe-plugin &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456537" author="tibor17" created="Tue, 9 Dec 2014 16:38:29 +0000"  >&lt;p&gt;Please retest again and make sure that the open bug is relevant for you.&lt;br/&gt;
You don&apos;t need to be in hurry, but we of course need several days or a week to fix before starting the release process.&lt;/p&gt;</comment>
                            <comment id="14456585" author="hellspam" created="Tue, 9 Dec 2014 16:41:36 +0000"  >&lt;p&gt;I tested again and it still fails, as I said, I had an error with my configuration, as I removed the &amp;lt;parallel&amp;gt; tag from failsafe, which cause it to not actually run parallely.&lt;/p&gt;</comment>
                            <comment id="14456439" author="agudian" created="Wed, 10 Dec 2014 12:57:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hellspam&quot; class=&quot;user-hover&quot; rel=&quot;hellspam&quot;&gt;hellspam&lt;/a&gt;, your test case is really good. &lt;/p&gt;

&lt;p&gt;Just to let you know, I&apos;ve boiled it down to using just the surefire-plugin, forkCount=0, parallel=classes (with only one class to execute, there is nothing actually done in parallel) - and I can see the same result as you. Without parallel=..., but still with hard-configured Junit47 provider, the report looks fine.&lt;/p&gt;

&lt;p&gt;I need to dig in some more, but won&apos;t have much more time today. I&apos;ll still try to get it done for the bugfix release that Tibor wants to roll next week.&lt;/p&gt;</comment>
                            <comment id="14456553" author="hellspam" created="Wed, 10 Dec 2014 13:02:37 +0000"  >&lt;p&gt;@agudian, thanks.&lt;br/&gt;
I&apos;ve tried to debug the issue myself, but had a tough time.&lt;br/&gt;
I mean, I see that the testCompleted and testStarting are fired twice, just can&apos;t figure out why &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
Would have loved to fix it myself, is there some wiki on getting started with contributing? &lt;/p&gt;</comment>
                            <comment id="14456629" author="agudian" created="Wed, 10 Dec 2014 13:10:29 +0000"  >&lt;p&gt;Contributions in form of bug-fixes are always welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - As for a documentation, we have the pages on maven.apache.org, such as &lt;a href=&quot;http://maven.apache.org/guides/development/guide-m2-development.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/guides/development/guide-m2-development.html&lt;/a&gt; - just that for most parts of maven, including the surefire plugin, patches are best submitted via GitHub pull-requests.&lt;/p&gt;

&lt;p&gt;Other than that, we don&apos;t have any guide on how to get started with Surefire development - most parts of the code are not that hard to understand. But I must admit: this one here is tricky.&lt;/p&gt;</comment>
                            <comment id="14456605" author="agudian" created="Wed, 10 Dec 2014 13:46:37 +0000"  >&lt;p&gt;Got it. Fixed it. The StatelessXmlReporter wasn&apos;t that stateless anymore, but ogt re-created for each new thread and each test class execution in the concurrent run listener. The flaky-rerun acts like rerunning the test class from the outside, so the StatelessXmlReporter got instantiated again and forgot what it knew about the previous run of that class. The map containing that information was now pulled out of that reporter to make it stateless again (that&apos;s easier than renaming the class, right? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;

&lt;p&gt;I&apos;ll commit it tomorrow after creating a nice IT out of Roys test case... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456568" author="hellspam" created="Wed, 10 Dec 2014 14:53:17 +0000"  >&lt;p&gt;Awesome, Thanks! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456538" author="agudian" created="Thu, 11 Dec 2014 14:35:52 +0000"  >&lt;p&gt;Commit is pushed. &lt;/p&gt;

&lt;p&gt;Roy, you can give 2.19-SNAPSHOT a try, if you like.&lt;/p&gt;</comment>
                            <comment id="17994520" author="olamy" created="Fri, 4 Jul 2025 07:23:18 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1461&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720227" name="invalid.xml" size="8706" author="hellspam" created="Thu, 4 Dec 2014 15:44:12 +0000"/>
                            <attachment id="12720156" name="test.zip" size="11564" author="hellspam" created="Thu, 4 Dec 2014 16:54:51 +0000"/>
                            <attachment id="12720155" name="valid.xml" size="13808" author="hellspam" created="Thu, 4 Dec 2014 15:47:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bgzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>