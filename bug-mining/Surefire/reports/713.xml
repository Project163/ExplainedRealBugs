<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1945] crashed tests - unit tests with large logging output does not produce surefire report</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1945</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Upon upgrading our maven-surefire-plugin from version 2.15 to version 2.21.0.&#160; We noticed that the number of tests being run by our jenkins test job changed.&#160; Upon further investigation we found a test class with 7 test cases that were not being reported at all (not as passed, failed, or skipped).&#160;&#160;&lt;/p&gt;

&lt;p&gt;When we ran just that test class from the command line it failed with&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Crashed tests:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; com.sensus.dataextraction.reportcomparetool.TestFlowPreHHFReports&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; org.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException The forked VM terminated without properly saying goodbye. VM crash or System.exit called?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Command was cmd.exe /X /C &quot;C:\tools\java8\jre\bin\java org.apache.maven.surefire.booter.ForkedBooter C:\tools\cygwin\tmp\surefire7735045605128719483 2021-09-17T10-56-30_089-jvmRun1 surefire4447346130857727490tmp surefire_04489252332082939918tmp&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Process Exit Code: 0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Crashed tests:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;but did not produce any output in the target/surefire-reports directory explaining why the failures were not reported in the jobs test report.&#160; Trying different maven-surefire-plugin versions the tests pass successfully with version 2.19.1, but fail with every version tried between 2.20 and 3.0.0-M5.&#160; Note we run our tests with these options:&lt;/p&gt;

&lt;p&gt;&amp;lt;reuseForks&amp;gt;false&amp;lt;/reuseForks&amp;gt;&lt;br/&gt;
&amp;lt;forkCount&amp;gt;1&amp;lt;/forkCount&amp;gt;&lt;br/&gt;
&amp;lt;reportFormat&amp;gt;xml&amp;lt;/reportFormat&amp;gt;&lt;/p&gt;

&lt;p&gt;I also noticed that the tests in question did produce a lot of logging output.&#160; I found that the tests would pass if I added the configuration option:&lt;/p&gt;

&lt;p&gt;&amp;lt;redirectTestOutputToFile&amp;gt;true&amp;lt;/redirectTestOutputToFile&amp;gt;&lt;/p&gt;

&lt;p&gt;I have reproduced the problem with a simpler test module that is attached.&#160; Upon playing with the output in this module the issue appears to happen when the output is about 1.2MB or higher.&lt;/p&gt;

&lt;p&gt;Not sure what changed between version 2.19.1 and 2.20 with how output from the forked jvm is collected but it appear to have a problem if there is too much output.&#160; If the tests were being reported as failed then this issue would not be a huge problem, but having tests just not be reported because their output grows is a critical issue for us as we may not notice that the test has effectively been dropped from our test suite, unless we closely audit the ~30000 test cases we run every run to detect missing tests which is hard to do as new tests are constantly being added.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Have reproduced with both Java 8 and 11:&lt;br/&gt;
openjdk version &amp;quot;1.8.0_292&amp;quot;&lt;br/&gt;
openjdk version &amp;quot;11.0.11&amp;quot; 2021-04-20&lt;br/&gt;
and maven &lt;br/&gt;
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</environment>
        <key id="13401895">SUREFIRE-1945</key>
            <summary>crashed tests - unit tests with large logging output does not produce surefire report</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="markd.miller">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Sep 2021 15:25:41 +0000</created>
                <updated>Fri, 4 Jul 2025 07:38:46 +0000</updated>
                            <resolved>Wed, 9 Feb 2022 09:43:15 +0000</resolved>
                                    <version>2.20</version>
                    <version>2.20.1</version>
                    <version>2.21.0</version>
                    <version>2.22.0</version>
                    <version>2.22.1</version>
                    <version>2.22.2</version>
                    <version>3.0.0-M1</version>
                    <version>3.0.0-M2</version>
                    <version>3.0.0-M3</version>
                    <version>3.0.0-M4</version>
                    <version>3.0.0-M5</version>
                                    <fixVersion>2.22.3</fixVersion>
                    <fixVersion>3.0.0-M6</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="21900">6h 5m</timespent>
                                <comments>
                            <comment id="17487658" author="tibor17" created="Sun, 6 Feb 2022 09:43:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markd.miller&quot; class=&quot;user-hover&quot; rel=&quot;markd.miller&quot;&gt;markd.miller&lt;/a&gt;&lt;br/&gt;
Check it out with 3.0.0-M6-SNAPSHOT because we changed the implementation and now the logs are mostly stored on the file system.&lt;/p&gt;</comment>
                            <comment id="17488439" author="markd.miller" created="Mon, 7 Feb 2022 22:00:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt; The test code that I uploaded still crashed when I ran it with the 3.0.0-M6-SNAPHSOT that I built from source fetched today.&lt;/p&gt;</comment>
                            <comment id="17488480" author="tibor17" created="Mon, 7 Feb 2022 22:57:28 +0000"  >&lt;p&gt;Crash means and your logs that the JVM was interrupted in the last test you can see in the log but it may not neccesserily be OOM.&lt;/p&gt;</comment>
                            <comment id="17488500" author="tibor17" created="Tue, 8 Feb 2022 00:08:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markd.miller&quot; class=&quot;user-hover&quot; rel=&quot;markd.miller&quot;&gt;markd.miller&lt;/a&gt;&lt;br/&gt;
I can fully reproduce the problem.&lt;br/&gt;
We have such integration tests but we use std/out.&lt;br/&gt;
In this test we do not have readable logs and dump file, so we have only one possibility how to find out the bug. We have to find the commit in between two versions 2.19.1 and 2.20. I would like to kindly ask you to make git-bisect of the commits, simply divide the commits logarithmically by two and then you will fast iterate to the commit with the bug. The previous commit will make successful build in your project.&lt;br/&gt;
Always divide the commits in two sets and build the project with the command   &lt;tt&gt;mvn clean install -DskipTests -DskipITs&lt;/tt&gt; and make sure that the POM does not change the version. Use the plugin version in your test project and run   &lt;tt&gt;mvn -nsu test&lt;/tt&gt;.&lt;br/&gt;
Good luck.&lt;br/&gt;
I deleted the other plugins and configurations, those were not necessary:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;project xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; xsi:schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.sensus.mavenbug&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;sample&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;project.build.sourceEncoding&amp;gt;&lt;/span&gt;UTF-8&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/project.build.sourceEncoding&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.13.1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;source&amp;gt;&lt;/span&gt;1.8&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/source&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target&amp;gt;&lt;/span&gt;1.8&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-surefire-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.20&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17488803" author="tibor17" created="Tue, 8 Feb 2022 12:04:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markd.miller&quot; class=&quot;user-hover&quot; rel=&quot;markd.miller&quot;&gt;markd.miller&lt;/a&gt;&lt;br/&gt;
I made the git-bisect and I found that the regression was made in the commit &lt;tt&gt;da7ff6aa&lt;/tt&gt;.&lt;br/&gt;
My suspicion is deletion of the line &lt;tt&gt;thread.join( CLOSE_TIMEOUT_MILLIS )&lt;/tt&gt;.&lt;br/&gt;
This is the git-bisect record:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;OK  82ecd929 on 1/3/2016 at 8:38 PM
OK  1090a00a on 9/14/2016 at 5:46 PM
OK  66bc4c08 on 12/31/2016 at 10:25 AM
OK  2360dacc on 2/13/2017 at 8:03 AM
OK  179abbf0 on 2/14/2017 at 1:26 AM
OK  d468680b on 3/12/2017 at 11:06 PM
NOK da7ff6aa on 3/13/2017 at 3:10 AM
NOK 67e61b07 on 4/1/2017 at 2:27 PM
NOK 40f38c52 on 4/1/2017 at 2:52 PM
NOK f4f78c9f on 4/8/2017 at 12:24 AM
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17488809" author="tibor17" created="Tue, 8 Feb 2022 12:20:31 +0000"  >&lt;p&gt;This is the patch:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/output/ThreadedStreamConsumer.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&amp;lt;+&amp;gt;UTF-8
===================================================================
diff --git a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/output/ThreadedStreamConsumer.java b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/output/ThreadedStreamConsumer.java
--- a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/output/ThreadedStreamConsumer.java &#160; &#160;(revision da7ff6aa25a72094705c24981afbf8294ac4b1dc)
+++ b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/output/ThreadedStreamConsumer.java &#160; &#160;(date 1644322447838)
@@ -42,6 +42,8 @@
&#160;
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; ITEM_LIMIT_BEFORE_SLEEP = 10 * 1000;
&#160;
+ &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; CLOSE_TIMEOUT_MILLIS = 5 * 60 * 1000L;
+
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; BlockingQueue&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; items = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayBlockingQueue&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;( ITEM_LIMIT_BEFORE_SLEEP );
&#160;
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AtomicBoolean stop = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AtomicBoolean();
@@ -133,17 +135,21 @@
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close()
&#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
&#160; &#160; &#160;{
- &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( stop.compareAndSet( &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; ) )
+ &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( !stop.get() )
&#160; &#160; &#160; &#160; &#160;{
- &#160; &#160; &#160; &#160; &#160; &#160;items.clear();
&#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160;{
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;items.put( END_ITEM );
+ &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;thread.join( CLOSE_TIMEOUT_MILLIS );
&#160; &#160; &#160; &#160; &#160; &#160; &#160;}
&#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( InterruptedException e )
&#160; &#160; &#160; &#160; &#160; &#160; &#160;{
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;currentThread().interrupt();
&#160; &#160; &#160; &#160; &#160; &#160; &#160;}
+ &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;
+ &#160; &#160; &#160; &#160; &#160; &#160;{
+ &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;stop.set( &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; );
+ &#160; &#160; &#160; &#160; &#160; &#160;}
&#160; &#160; &#160; &#160; &#160;}
&#160;
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( pumper.hasErrors() )
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17489179" author="tibor17" created="Wed, 9 Feb 2022 00:36:49 +0000"  >&lt;p&gt;The patch above is only a consequence of a real cause.&lt;br/&gt;
So the comit splits into:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Cause issue: &lt;b&gt;Very short timeout for BYE_ACK caused that the tests have crashed.&lt;/b&gt;
&lt;blockquote&gt;&lt;p&gt;chanes - ForkedBooter, ForkedBooterTest, ForkClient&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
	&lt;li&gt;Consequence: &lt;b&gt;The #close() method should wait untill ThreadedStreamConsumer thread has processed all Events&lt;/b&gt;
&lt;blockquote&gt;&lt;p&gt;changes: ThreadedStreamConsumer, EventConsumerThread, LineConsumerThread&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17489371" author="tibor17" created="Wed, 9 Feb 2022 08:55:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=82212233fe18859bae13d66feecd58123e9df794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=82212233fe18859bae13d66feecd58123e9df794&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489409" author="tibor17" created="Wed, 9 Feb 2022 09:42:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=5542cf4c43e1e20db9f5944c2eabec8edbba47eb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=5542cf4c43e1e20db9f5944c2eabec8edbba47eb&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17489886" author="markd.miller" created="Thu, 10 Feb 2022 00:21:46 +0000"  >&lt;p&gt;I tried it with the 2.22.3 code and the problem was fixed, any idea when that will be released?&lt;/p&gt;</comment>
                            <comment id="17494964" author="tibor17" created="Sat, 19 Feb 2022 13:05:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markd.miller&quot; class=&quot;user-hover&quot; rel=&quot;markd.miller&quot;&gt;markd.miller&lt;/a&gt;&lt;br/&gt;
Very soon!&lt;br/&gt;
I am facing one more stability isue to fix - not difficult.&lt;/p&gt;</comment>
                            <comment id="17995325" author="olamy" created="Fri, 4 Jul 2025 07:38:46 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2906&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13261544">SUREFIRE-1697</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13033778" name="surefire_bug.zip" size="7864" author="markd.miller" created="Fri, 17 Sep 2021 15:24:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0v1oo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>