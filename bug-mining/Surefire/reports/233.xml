<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:09:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-742] Latest 2.8.2-SNAPSHOT version having sporadic java.lang.RuntimeException errors</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-742</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We&apos;re using the latest 2.8.2-SNAPSHOT (maven-surefire-plugin-2.8.2-20110519.214109-36) and we&apos;re seeing sporadic errors with some of our tests:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;ThreadedStreamConsumer&quot; java.lang.RuntimeException: java.util.StringTokenizer@5051207c&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.createReportEntry(ForkClient.java:190)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:106)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:67)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.util.NoSuchElementException&lt;br/&gt;
	at java.util.StringTokenizer.nextToken(StringTokenizer.java:332)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.deserializeStackStraceWriter(ForkClient.java:198)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.createReportEntry(ForkClient.java:181)&lt;br/&gt;
	... 3 more&lt;/p&gt;

&lt;p&gt;We&apos;ve also noted, when run individually, maven reports FAILED but when run with a group of tests, we still see the failures but maven reports SUCCESS. I attached a log with the individual test run using &quot;mvn -e&quot;. &lt;/p&gt;</description>
                <environment>Linux x64</environment>
        <key id="12809544">SUREFIRE-742</key>
            <summary>Latest 2.8.2-SNAPSHOT version having sporadic java.lang.RuntimeException errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="daigles4">S Daigle</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 May 2011 09:43:38 +0000</created>
                <updated>Fri, 4 Jul 2025 07:16:21 +0000</updated>
                            <resolved>Mon, 6 Jun 2011 15:18:25 +0000</resolved>
                                    <version>Backlog</version>
                                    <fixVersion>2.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14454903" author="krosenvold" created="Fri, 20 May 2011 12:02:34 +0000"  >&lt;p&gt;Improved error checking and hardened validation in r1125462, deployed new 2.8.2-SNAPSHOT.&lt;/p&gt;

&lt;p&gt;ALthough this will probably not make your error go away, it&apos;ll improve the error message and/or change the intermittent problem, and i look forward to any updates on new error messages.&lt;/p&gt;</comment>
                            <comment id="14454974" author="daigles4" created="Fri, 20 May 2011 12:34:38 +0000"  >&lt;p&gt;Hi Kristian. We pulled in the new plugin version and built using &quot;mvn -e&quot; but now it quickly goes thru only two tests and exits with success. It doesn&apos;t run all the tests and the &quot;-e&quot; shows no stack trace. I attached the output file but I&apos;m not sure if it will help. Thanks again for your help with this.&lt;/p&gt;</comment>
                            <comment id="14455026" author="daigles4" created="Fri, 20 May 2011 12:47:45 +0000"  >&lt;p&gt;btw - I tried building on another system and it went thru more than 2 tests, so I started a top level build and will wait to see if/when it crashes. When it does, I&apos;ll get you the stacktrace.&lt;/p&gt;</comment>
                            <comment id="14455039" author="daigles4" created="Fri, 20 May 2011 14:39:14 +0000"  >&lt;p&gt;Kristian. We got a crash but I don&apos;t know if its related to the new plugin changes or not, but we&apos;ve never had this failure before. I also noticed that a newer version was pulled in that you must have republished today, so the version this failure/stack is from is maven-surefire-plugin-2.8.2-20110520.174206-38. Please let me know if you need any more information.&lt;/p&gt;</comment>
                            <comment id="14454887" author="daigles4" created="Fri, 20 May 2011 14:41:16 +0000"  >&lt;p&gt;I also see the following line in the app/target/surefire-reports/org.apache.solr.common.util.TestHash-output.txt file:&lt;/p&gt;

&lt;p&gt;!!! NewPostTestThread !!! failAndDumpStackJunitStatment:java.lang.ThreadGroup&lt;span class=&quot;error&quot;&gt;&amp;#91;name=main,maxpri=10&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14454939" author="krosenvold" created="Fri, 20 May 2011 16:38:07 +0000"  >&lt;p&gt;Can you please assist me with the following:&lt;/p&gt;

&lt;p&gt;If you run the regular mvn command that fails with the -X option, you&apos;ll see just above the block of tests (that fails) you&apos;ll have something like this in your log:&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Forking command line: /bin/sh -c cd /home/kristian/lsrc/maven-surefire/surefire-integration-tests/src/test/resources/consoleoutput-noisy &amp;amp;&amp;amp; /usr/lib/jvm/java-6-sun-1.6.0.24/jre/bin/java -jar /home/kristian/lsrc/maven-surefire/surefire-integration-tests/src/test/resources/consoleoutput-noisy/target/surefire/surefirebooter3411177604895141972.jar /home/kristian/lsrc/maven-surefire/surefire-integration-tests/src/test/resources/consoleoutput-noisy/target/surefire/surefire6672401462508136354tmp /home/kristian/lsrc/maven-surefire/surefire-integration-tests/src/test/resources/consoleoutput-noisy/target/surefire/surefire7212216459049262080tmp&lt;/p&gt;

&lt;p&gt;Can you take the full command line as seen in &quot;forking command line&quot;, redirect the entire output to a file. Either attach the file to this issue or send it directly to my email. The file may be large and will contain output from your tests. If you send it directly to me it will not be made public.&lt;/p&gt;

&lt;p&gt;(Please make sure the tests fails/performs incorrectly on the logfile you send me, or send me one of each)&lt;/p&gt;</comment>
                            <comment id="14454923" author="daigles4" created="Mon, 23 May 2011 10:07:18 +0000"  >&lt;p&gt;Hi Kristian. It&apos;s Monday morning here and I tried reproducing the failure on the same machine we were consistently seeing the failure on late last week and it&amp;rsquo;s not crashing at the moment. I can get you the -X run if you still like but I don&amp;rsquo;t know if it would help without the error condition. Please let me know and I&amp;rsquo;ll get you what I can. If we can reproduce the problem again, I will get you the information you requested.&lt;/p&gt;</comment>
                            <comment id="14455053" author="krosenvold" created="Mon, 23 May 2011 13:02:43 +0000"  >&lt;p&gt;Is there a chance that your snapshot update frequency on nexus could have delayed the distribution of the updated version ? &lt;/p&gt;

&lt;p&gt;I&apos;ll be holding back the release of 2.9 for at least a week due to this issue. I will also go through the relevant code with a fine tooth comb to see if I can understand the root cause of your initial problem (the fix identified one /unlikely/ culprit but I&apos;d really like to see a /likely/ culprit that I can understand)&lt;/p&gt;

&lt;p&gt;So please let me know how this works out, any which direction.&lt;/p&gt;

&lt;p&gt;The -X log is only useful when the problem occurs.&lt;/p&gt;</comment>
                            <comment id="14454990" author="daigles4" created="Mon, 23 May 2011 13:57:36 +0000"  >&lt;p&gt;My nexus server is definitely pulling in your latest version(s). When you initially flagged this for me before, I&apos;m always looking in my Nexus repo and my M2 cache to make sure we&apos;re getting the latest/greatest version you post. It could be that there were some code changes on our end since last Friday that could be masking the problem we were seeing. I&amp;rsquo;ll keep my eye on it and if I can get you a &amp;ldquo;-X&amp;rdquo; run of the crash, I&amp;rsquo;ll definitely get it to you.&lt;/p&gt;</comment>
                            <comment id="14455009" author="krosenvold" created="Mon, 23 May 2011 15:34:34 +0000"  >&lt;p&gt;A few potential problems fixed in r1126700 and 1126701 &lt;/p&gt;</comment>
                            <comment id="14454904" author="daigles4" created="Mon, 23 May 2011 17:57:01 +0000"  >&lt;p&gt;Thanks again Kristian. Got your latest version 2.8.2-20110523.212645-39 and will give it a try.&lt;/p&gt;</comment>
                            <comment id="14455027" author="daigles4" created="Wed, 1 Jun 2011 07:17:22 +0000"  >&lt;p&gt;Hi Kristian. I just wanted to let you know that this version has been working well. We haven&apos;t seen the failures we were getting before and again, thanks for all your help.&lt;/p&gt;</comment>
                            <comment id="14454975" author="krosenvold" created="Mon, 6 Jun 2011 15:18:25 +0000"  >&lt;p&gt;I think we&apos;ll call this one fixed. Feel free to reopen if you get additional problems/information.&lt;/p&gt;</comment>
                            <comment id="17994149" author="olamy" created="Fri, 4 Jul 2025 07:16:21 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1842&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1842&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720131" name="sf.txt" size="9096" author="daigles4" created="Fri, 20 May 2011 09:43:39 +0000"/>
                            <attachment id="12719789" name="sf2.txt" size="6895" author="daigles4" created="Fri, 20 May 2011 12:34:38 +0000"/>
                            <attachment id="12719928" name="sf3.txt" size="5854" author="daigles4" created="Fri, 20 May 2011 14:39:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bcrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>