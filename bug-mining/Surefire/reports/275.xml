<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:09:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-812] log4j classloader problem in 2.11 that is not there in 2.10</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-812</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Unit test does not fail with 2.10 but does fail with 2.11&lt;/p&gt;

&lt;p&gt;Output from failing unit test&lt;/p&gt;

&lt;p&gt;log4j:ERROR A &quot;org.apache.log4j.xml.DOMConfigurator&quot; object is not assignable to a &quot;org.apache.log4j.spi.Configurator&quot; variable.&lt;br/&gt;
log4j:ERROR The class &quot;org.apache.log4j.spi.Configurator&quot; was loaded by &lt;br/&gt;
log4j:ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;sun.misc.Launcher$AppClassLoader@37b90b39&amp;#93;&lt;/span&gt; whereas object of type &lt;br/&gt;
log4j:ERROR &quot;org.apache.log4j.xml.DOMConfigurator&quot; was loaded by &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.maven.surefire.booter.IsolatedClassLoader@7bd63e39&amp;#93;&lt;/span&gt;.&lt;br/&gt;
log4j:ERROR Could not instantiate configurator &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.log4j.xml.DOMConfigurator&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;$ mvn -version&lt;br/&gt;
Apache Maven 3.0.3 (r1075438; 2011-02-28 09:31:09-0800)&lt;/p&gt;

&lt;p&gt;Plugin config&lt;/p&gt;

&lt;p&gt;      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;2.11&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;executions&amp;gt;&lt;br/&gt;
          &amp;lt;execution&amp;gt;&lt;br/&gt;
            &amp;lt;id&amp;gt;default-test&amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;phase&amp;gt;test&amp;lt;/phase&amp;gt;&lt;br/&gt;
            &amp;lt;goals&amp;gt;&lt;br/&gt;
              &amp;lt;goal&amp;gt;test&amp;lt;/goal&amp;gt;&lt;br/&gt;
            &amp;lt;/goals&amp;gt;&lt;br/&gt;
            &amp;lt;configuration&amp;gt;&lt;br/&gt;
              &amp;lt;argLine&amp;gt;-Xmx2048m -Xms1024m&amp;lt;/argLine&amp;gt;&lt;br/&gt;
              &amp;lt;failIfNoTests&amp;gt;true&amp;lt;/failIfNoTests&amp;gt;&lt;br/&gt;
              &amp;lt;useManifestOnlyJar&amp;gt;false&amp;lt;/useManifestOnlyJar&amp;gt;&lt;br/&gt;
              &amp;lt;forkMode&amp;gt;always&amp;lt;/forkMode&amp;gt;&lt;br/&gt;
              &amp;lt;forkedProcessTimeoutInSeconds&amp;gt;600&amp;lt;/forkedProcessTimeoutInSeconds&amp;gt;&lt;br/&gt;
              &amp;lt;redirectTestOutputToFile&amp;gt;true&amp;lt;/redirectTestOutputToFile&amp;gt;&lt;br/&gt;
              &amp;lt;systemPropertyVariables&amp;gt;&lt;br/&gt;
                &amp;lt;java.awt.headless&amp;gt;true&amp;lt;/java.awt.headless&amp;gt;&lt;br/&gt;
              &amp;lt;/systemPropertyVariables&amp;gt;&lt;br/&gt;
            &amp;lt;/configuration&amp;gt;&lt;br/&gt;
          &amp;lt;/execution&amp;gt;&lt;br/&gt;
        &amp;lt;/executions&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;argLine&amp;gt;-Xmx2048m -Xms1024m&amp;lt;/argLine&amp;gt;&lt;br/&gt;
          &amp;lt;failIfNoTests&amp;gt;true&amp;lt;/failIfNoTests&amp;gt;&lt;br/&gt;
          &amp;lt;useManifestOnlyJar&amp;gt;false&amp;lt;/useManifestOnlyJar&amp;gt;&lt;br/&gt;
          &amp;lt;forkMode&amp;gt;always&amp;lt;/forkMode&amp;gt;&lt;br/&gt;
          &amp;lt;forkedProcessTimeoutInSeconds&amp;gt;600&amp;lt;/forkedProcessTimeoutInSeconds&amp;gt;&lt;br/&gt;
          &amp;lt;redirectTestOutputToFile&amp;gt;true&amp;lt;/redirectTestOutputToFile&amp;gt;&lt;br/&gt;
          &amp;lt;systemPropertyVariables&amp;gt;&lt;br/&gt;
            &amp;lt;java.awt.headless&amp;gt;true&amp;lt;/java.awt.headless&amp;gt;&lt;br/&gt;
          &amp;lt;/systemPropertyVariables&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;/p&gt;


&lt;p&gt;reporting plugin configuration&lt;/p&gt;

&lt;p&gt;      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-surefire-report-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;2.11&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;argLine&amp;gt;-Xmx2048m -Xms1024m&amp;lt;/argLine&amp;gt;&lt;br/&gt;
          &amp;lt;failIfNoTests&amp;gt;true&amp;lt;/failIfNoTests&amp;gt;&lt;br/&gt;
          &amp;lt;useManifestOnlyJar&amp;gt;false&amp;lt;/useManifestOnlyJar&amp;gt;&lt;br/&gt;
          &amp;lt;forkMode&amp;gt;always&amp;lt;/forkMode&amp;gt;&lt;br/&gt;
          &amp;lt;forkedProcessTimeoutInSeconds&amp;gt;600&amp;lt;/forkedProcessTimeoutInSeconds&amp;gt;&lt;br/&gt;
          &amp;lt;redirectTestOutputToFile&amp;gt;true&amp;lt;/redirectTestOutputToFile&amp;gt;&lt;br/&gt;
          &amp;lt;systemPropertyVariables&amp;gt;&lt;br/&gt;
            &amp;lt;java.awt.headless&amp;gt;true&amp;lt;/java.awt.headless&amp;gt;&lt;br/&gt;
          &amp;lt;/systemPropertyVariables&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12810316">SUREFIRE-812</key>
            <summary>log4j classloader problem in 2.11 that is not there in 2.10</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="gnp">Gregor N. Purdy, Sr.</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2011 15:43:02 +0000</created>
                <updated>Fri, 4 Jul 2025 07:17:40 +0000</updated>
                            <resolved>Sun, 8 Jan 2012 14:50:32 +0000</resolved>
                                    <version>2.11</version>
                                    <fixVersion>2.12</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14455102" author="krosenvold" created="Thu, 22 Dec 2011 16:00:55 +0000"  >&lt;p&gt;Could you verify that the problem is still present on 2.12-SNAPSHOT, we have fixed another issue with similar symptoms for 2.12.&lt;/p&gt;

&lt;p&gt;If not, is there any chance you could produce a small test project that reproduces this issue ?&lt;/p&gt;


&lt;p&gt;Can you also check if there&apos;s a stack trace of any value if you run with mvn -e. Additionally, I assume this &quot;works&quot; if you run forkMode=once ?&lt;/p&gt;</comment>
                            <comment id="14455174" author="krosenvold" created="Sun, 8 Jan 2012 14:35:34 +0000"  >&lt;p&gt;Can you please attach your log4j configuration ?&lt;/p&gt;

&lt;p&gt;I have committed a test project at &lt;a href=&quot;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/surefire-812-log4j-classloader&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/surefire-812-log4j-classloader&lt;/a&gt; that can be checked out from svn. &lt;/p&gt;

&lt;p&gt;Unfortunately this project does not reproduce the problem (run project with &quot;mvn -Dsurefire.version=2.11 test&quot;). If you could try to modify this project to reproduce the problem, you could submit the diff.&lt;/p&gt;

&lt;p&gt;If there is no further acitvity on this issue in a reasonable amount of time I will close it as cannot reproduce &lt;/p&gt;
</comment>
                            <comment id="14455274" author="krosenvold" created="Sun, 8 Jan 2012 14:50:32 +0000"  >&lt;p&gt;Managed to reproduce, added it in r1228952. The issue has already been fixed but can consitently be proved to happen with 2.11 using the IT &lt;/p&gt;</comment>
                            <comment id="17994219" author="olamy" created="Fri, 4 Jul 2025 07:17:40 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1754&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bd53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>