<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:12:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-963] Unable to set empty environment variables</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-963</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;With the following configuration of the maven-surefire-plugin:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;configuration&amp;gt;
   &amp;lt;environmentVariables&amp;gt;
      &amp;lt;PETALS_CLI_PREFS /&amp;gt;
   &amp;lt;/environmentVariables&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get the String &quot;null&quot; instead of &quot;&quot; as value of my env var in my unit test.&lt;/p&gt;</description>
                <environment>Linux Ubuntu 12.10,Maven 3.0.4</environment>
        <key id="12810413">SUREFIRE-963</key>
            <summary>Unable to set empty environment variables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="cdeneux">Christophe DENEUX</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Feb 2013 05:57:22 +0000</created>
                <updated>Fri, 4 Jul 2025 07:20:24 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 11:40:10 +0000</resolved>
                                    <version>2.13</version>
                                    <fixVersion>2.18</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14455756" author="cdeneux" created="Fri, 15 Feb 2013 06:00:30 +0000"  >&lt;p&gt;In debug mode, I get the following trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[DEBUG] Setting environment variable [PETALS_CLI_PREFS]=[&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14455633" author="cdeneux" created="Fri, 15 Feb 2013 08:21:40 +0000"  >&lt;p&gt;A patch solving the problem&lt;/p&gt;</comment>
                            <comment id="14455659" author="krosenvold" created="Fri, 15 Feb 2013 12:20:41 +0000"  >&lt;p&gt;Can you please create a small IT as described here &lt;a href=&quot;http://maven.apache.org/surefire/maven-surefire-plugin/developing.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/surefire/maven-surefire-plugin/developing.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So we can avoid breaking this later &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14455806" author="krosenvold" created="Fri, 15 Feb 2013 14:55:09 +0000"  >&lt;p&gt;Btw you can probably modify Surefire763EnvironmentForkModeIT and the corresponding &quot;environment-variables&quot; project. Maybe even rename the IT to &quot;EnvironmentVariablesIT&quot;&lt;/p&gt;
</comment>
                            <comment id="14456238" author="cdeneux" created="Wed, 8 Oct 2014 07:24:48 +0000"  >&lt;p&gt;Integration tests have been added into the pull request: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/53&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456396" author="tibor17" created="Thu, 16 Oct 2014 11:40:10 +0000"  >&lt;p&gt;Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/3fd14a9b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/3fd14a9b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456263" author="cdeneux" created="Wed, 22 Oct 2014 08:27:13 +0000"  >&lt;p&gt;The maven-surefire-plugin:2.18-SNAPSHOT available in the Apache Snapshot repository works fine about this issue.&lt;br/&gt;
When do you plan to release the version 2.18 ?&lt;/p&gt;</comment>
                            <comment id="14456419" author="tibor17" created="Wed, 22 Oct 2014 15:56:42 +0000"  >&lt;p&gt;&amp;gt;&amp;gt; When do you plan to release the version 2.18 ?&lt;br/&gt;
In few weeks -&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
@Christophe DENEUX&lt;br/&gt;
Do you have some spare time to investigate and fix one more interesting bug ?&lt;/p&gt;</comment>
                            <comment id="14456266" author="cdeneux" created="Thu, 30 Oct 2014 04:30:37 +0000"  >&lt;p&gt;@Tibor Digana&lt;br/&gt;
I am happy for your proposal, but I think that i will no have sufficient spare time to help you. Perhaps can I investigate simple issues of your backlog or write unit tests ? Have you such issues ?&lt;/p&gt;</comment>
                            <comment id="14456326" author="tibor17" created="Thu, 30 Oct 2014 12:15:35 +0000"  >&lt;p&gt;Hi Christophe,&lt;/p&gt;

&lt;p&gt;This is the list of issue/features we need to complete in SUREFIRE 2.19.&lt;br/&gt;
It&apos;s only three but I am sure we will endup with much more bugfixes.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jira.codehaus.org/browse/SUREFIRE/fixforversion/20728#selectedTab=com.atlassian.jira.plugin.system.project%3Aversion-summary-panel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/browse/SUREFIRE/fixforversion/20728#selectedTab=com.atlassian.jira.plugin.system.project%3Aversion-summary-panel&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My proposal would be to split the &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-580&quot; title=&quot;Allow &amp;quot;fail fast&amp;quot; or stop running on first failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-580&quot;&gt;&lt;del&gt;SUREFIRE-580&lt;/del&gt;&lt;/a&gt; in several pull-requests in GitHub until completed.&lt;br/&gt;
We can open several PRs at GitHub.&lt;br/&gt;
One for AbstractSurefireMojo, next PR for TestNG, JUnit, and next for the forked processes.&lt;br/&gt;
We can discuss the details at the Maven mailing list in Maven Developers. Just register there.&lt;br/&gt;
&lt;a href=&quot;http://maven.40175.n5.nabble.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.40175.n5.nabble.com&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456305" author="tibor17" created="Fri, 31 Oct 2014 05:25:51 +0000"  >&lt;p&gt;Hi Christophe,&lt;br/&gt;
I prefer the discussion in the maven mailing list. Do you want me to create new topic for us in the mailing list &lt;a href=&quot;http://maven.40175.n5.nabble.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.40175.n5.nabble.com/&lt;/a&gt;&lt;br/&gt;
You can help us if you move your class EnvironmentVariablesIT.java to another folder&lt;br/&gt;
surefire-integration-tests/src/test/java/org/apache/maven/surefire/its&lt;br/&gt;
I can explain how the IT test should look like in &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-580&quot; title=&quot;Allow &amp;quot;fail fast&amp;quot; or stop running on first failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-580&quot;&gt;&lt;del&gt;SUREFIRE-580&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16744241" author="alonbl" created="Wed, 16 Jan 2019 16:50:21 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;A voice from the future... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Actually... this &amp;lt;KEY/&amp;gt; notation should have produced a null value, hence, remove the key out of environment... I landed on this bug because I am looking for a way to unset environment variable during build... and differentiate between empty and unset.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Alon&lt;/p&gt;</comment>
                            <comment id="16744679" author="tibor17" created="Thu, 17 Jan 2019 04:27:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alonbl&quot; class=&quot;user-hover&quot; rel=&quot;alonbl&quot;&gt;alonbl&lt;/a&gt;&lt;br/&gt;
Currently we are working on a bigger issue.&lt;br/&gt;
You should debug &lt;tt&gt;AbstractSurefireMojo&lt;/tt&gt; or &lt;tt&gt;SurefirePlugin&lt;/tt&gt; by yourself.&lt;br/&gt;
If you find the problematic line in code, anybody can fix it then or you as well but then you should verify the build with &lt;tt&gt;mvn -P run-its install&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16744683" author="alonbl" created="Thu, 17 Jan 2019 04:40:52 +0000"  >&lt;p&gt;&amp;gt; If you find the problematic line in code&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The problem is not with the code but the implementation... we should be able to diffrenciate between unset environment variable and set it to empty, the &amp;lt;X/&amp;gt; notation is good for unset as java gets null and not empty string. Now it is too late as it will break backward compatibility, so I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1624&quot; title=&quot;Add a method to unset environment variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1624&quot;&gt;&lt;del&gt;SUREFIRE-1624&lt;/del&gt;&lt;/a&gt;. If you tell me what notation should be, I can try and work this out.&lt;/p&gt;</comment>
                            <comment id="17994366" author="olamy" created="Fri, 4 Jul 2025 07:20:24 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1624&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1624&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13209970">SUREFIRE-1624</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12720307" name="SUREFIRE-963.txt" size="1322" author="cdeneux" created="Fri, 15 Feb 2013 08:21:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bayn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>