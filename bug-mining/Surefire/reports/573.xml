<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:14:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1396] Provider class path is incorrect for custom provider in Failsafe</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1396</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
When using a custom Surefire provider with Surefire (not Failsafe), the &quot;provider classpath&quot; contains only the provider and surefire-api. However, when using a custom provider with Failsafe, the provider class path ends up including a lot more... it seems like perhaps all plugins that are loaded? This has caused some mayhem for me when using a custom provider in projects that use a specific version of SLF4J... because then failsafe forces 1.5.6 to be loaded (from this process of incorrectly finding the custom provider), causing a crash.&lt;/p&gt;

&lt;p&gt;It is a simple fix (3 lines in AbstractSurefireMojo - it had the name of the Surefire plugin hardcoded, which isn&apos;t correct when it&apos;s actually Failsafe). I&apos;ve got a patched fork of master on GitHub (&lt;a href=&quot;https://github.com/jon-bell/maven-surefire/commit/04f66cdd828d131a028eb400d1ed26fe104fe3f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jon-bell/maven-surefire/commit/04f66cdd828d131a028eb400d1ed26fe104fe3f2&lt;/a&gt;) that fixes it and an integration test that demonstrates the flaw. I am not 100% sure on the formatting of the integration test (i.e., I am opening a JIRA ticket so that I suppose I can name it under the JIRA issue? How should I specify the current version of surefire in the integration test package?) - if the fix is welcome against master I&apos;d be happy to open a PR on GitHub. I am also happy to merge against a different branch if it&apos;s more helpful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13089768">SUREFIRE-1396</key>
            <summary>Provider class path is incorrect for custom provider in Failsafe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="jonbell">Jonathan Bell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Jul 2017 03:48:08 +0000</created>
                <updated>Fri, 4 Jul 2025 07:29:10 +0000</updated>
                            <resolved>Tue, 29 Aug 2017 05:40:55 +0000</resolved>
                                                    <fixVersion>2.20.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16106186" author="githubbot" created="Sat, 29 Jul 2017 17:31:27 +0000"  >&lt;p&gt;GitHub user jon-bell opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt;: Provider class path is incorrect for custom provider in Failsafe&lt;/p&gt;

&lt;p&gt;    Hi,&lt;br/&gt;
    When using a custom Surefire provider with Surefire (not Failsafe), the &quot;provider classpath&quot; contains only the provider and surefire-api. However, when using a custom provider with Failsafe, the provider class path ends up including a lot more... it seems like perhaps all plugins that are loaded? This has caused some mayhem for me when using a custom provider in projects that use a specific version of SLF4J... because then failsafe forces 1.5.6 to be loaded (from this process of incorrectly finding the custom provider), causing a crash.&lt;/p&gt;

&lt;p&gt;    This PR contains an integration test case showing the bug and a patch to solve it.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jon-bell/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jon-bell/maven-surefire&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #161&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 04f66cdd828d131a028eb400d1ed26fe104fe3f2&lt;br/&gt;
Author: Jonathan Bell &amp;lt;jbell@cs.columbia.edu&amp;gt;&lt;br/&gt;
Date:   2017-07-25T03:43:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt;: Test case demonstrating broken handling of classpath for custom runners in failsafe, plus a fix&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16107861" author="githubbot" created="Mon, 31 Jul 2017 19:54:25 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130444914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130444914&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Pls do not use this property. It comes from &lt;span class=&quot;error&quot;&gt;&amp;#91;parent pom&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/surefire-integration-tests/src/test/resources/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/master/surefire-integration-tests/src/test/resources/pom.xml&lt;/a&gt;).&lt;br/&gt;
    Did you run the build like this `mvn install -P run-its`?&lt;/p&gt;</comment>
                            <comment id="16107865" author="githubbot" created="Mon, 31 Jul 2017 19:56:18 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130445317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130445317&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    +  &amp;lt;/properties&amp;gt;&lt;br/&gt;
    +  &amp;lt;dependencies&amp;gt;&lt;br/&gt;
    +    &amp;lt;dependency&amp;gt;&lt;br/&gt;
    +      &amp;lt;groupId&amp;gt;org.apache.maven.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +      &amp;lt;artifactId&amp;gt;surefire-api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why?&lt;br/&gt;
    See the `build.log` in target and you will see project version and all necessary dependencies hidden in the fork transitive deps.&lt;/p&gt;</comment>
                            <comment id="16107867" author="githubbot" created="Mon, 31 Jul 2017 19:56:52 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130445462&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130445462&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    +  &amp;lt;/properties&amp;gt;&lt;br/&gt;
    +  &amp;lt;dependencies&amp;gt;&lt;br/&gt;
    +    &amp;lt;dependency&amp;gt;&lt;br/&gt;
    +      &amp;lt;groupId&amp;gt;org.apache.maven.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +      &amp;lt;artifactId&amp;gt;surefire-api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +      &amp;lt;version&amp;gt;${surefire.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
    +    &amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +  &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;build&amp;gt;&lt;br/&gt;
    +    &amp;lt;resources&amp;gt;&lt;br/&gt;
    +      &amp;lt;resource&amp;gt;&lt;br/&gt;
    +        &amp;lt;directory&amp;gt;src/main/resources/META-INF&amp;lt;/directory&amp;gt;&lt;br/&gt;
    +        &amp;lt;targetPath&amp;gt;META-INF&amp;lt;/targetPath&amp;gt;&lt;br/&gt;
    +      &amp;lt;/resource&amp;gt;&lt;br/&gt;
    +    &amp;lt;/resources&amp;gt;&lt;br/&gt;
    +    &amp;lt;plugins&amp;gt;&lt;br/&gt;
    +      &amp;lt;plugin&amp;gt;&lt;br/&gt;
    +        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +        &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This plugin is again in parent pom. Not necessary here.&lt;/p&gt;</comment>
                            <comment id="16107873" author="githubbot" created="Mon, 31 Jul 2017 20:01:15 +0000"  >&lt;p&gt;Github user jon-bell commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130446456&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130446456&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    +  &amp;lt;/properties&amp;gt;&lt;br/&gt;
    +  &amp;lt;dependencies&amp;gt;&lt;br/&gt;
    +    &amp;lt;dependency&amp;gt;&lt;br/&gt;
    +      &amp;lt;groupId&amp;gt;org.apache.maven.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +      &amp;lt;artifactId&amp;gt;surefire-api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +      &amp;lt;version&amp;gt;${surefire.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
    +    &amp;lt;/dependency&amp;gt;&lt;br/&gt;
    +  &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;build&amp;gt;&lt;br/&gt;
    +    &amp;lt;resources&amp;gt;&lt;br/&gt;
    +      &amp;lt;resource&amp;gt;&lt;br/&gt;
    +        &amp;lt;directory&amp;gt;src/main/resources/META-INF&amp;lt;/directory&amp;gt;&lt;br/&gt;
    +        &amp;lt;targetPath&amp;gt;META-INF&amp;lt;/targetPath&amp;gt;&lt;br/&gt;
    +      &amp;lt;/resource&amp;gt;&lt;br/&gt;
    +    &amp;lt;/resources&amp;gt;&lt;br/&gt;
    +    &amp;lt;plugins&amp;gt;&lt;br/&gt;
    +      &amp;lt;plugin&amp;gt;&lt;br/&gt;
    +        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +        &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Thanks. I will clean this up. FYI, the entire pom.xml is copied from the &lt;span class=&quot;error&quot;&gt;&amp;#91;SUREFIRE-141  IT pom.xml&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/maven-surefire/blob/cba4adb1b93002c5b4bb2d2f22f461cc53bd8738/surefire-integration-tests/src/test/resources/surefire-141-pluggableproviders-provider/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/cba4adb1b93002c5b4bb2d2f22f461cc53bd8738/surefire-integration-tests/src/test/resources/surefire-141-pluggableproviders-provider/pom.xml&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16107877" author="githubbot" created="Mon, 31 Jul 2017 20:04:09 +0000"  >&lt;p&gt;Github user jon-bell commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130447222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130447222&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I did a `mvn verify` from the top level. I will do a `mvn install -P run-its` now.&lt;/p&gt;</comment>
                            <comment id="16107883" author="githubbot" created="Mon, 31 Jul 2017 20:06:41 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130447743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130447743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -2755,7 +2755,16 @@ public Classpath getProviderClasspath()&lt;br/&gt;
                 throws ArtifactResolutionException, ArtifactNotFoundException&lt;br/&gt;
             {&lt;br/&gt;
                 final Map&amp;lt;String, Artifact&amp;gt; pluginArtifactMap = getPluginArtifactMap();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Artifact plugin = pluginArtifactMap.get( &quot;org.apache.maven.plugins:maven-surefire-plugin&quot; );&lt;br/&gt;
    +            Class&amp;lt;?&amp;gt; c = AbstractSurefireMojo.this.getClass();&lt;br/&gt;
    +            Artifact plugin;&lt;br/&gt;
    +            if ( c.getName().equals( &quot;org.apache.maven.plugin.failsafe.IntegrationTestMojo&quot; ) )
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I guess this is in method `getProviderClasspath()`&lt;br/&gt;
    Please split the method in two. First it would call `protected abstract Artifact getMojoArtifact()` and then the original statement `return dependencyResolver.addProviderToClasspath( pluginArtifactMap, plugin );` where `plugin` is `Artifact`. Then force both subclasse to implement `getMojoArtifact` which means surefire mojo will implement it as follows:&lt;br/&gt;
    `final Map&amp;lt;String, Artifact&amp;gt; pluginArtifactMap = getPluginArtifactMap();&lt;br/&gt;
                Artifact plugin = pluginArtifactMap.get( &quot;org.apache.maven.plugins:maven-surefire-plugin&quot; );`.&lt;/p&gt;</comment>
                            <comment id="16107944" author="githubbot" created="Mon, 31 Jul 2017 21:01:30 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks - I made the fixes you suggested above, and confirmed that the build passed on `mvn clean install -P run-its`&lt;/p&gt;</comment>
                            <comment id="16108153" author="githubbot" created="Mon, 31 Jul 2017 23:30:34 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130488490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130488490&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    You should specify parent pom&lt;br/&gt;
    ```&lt;br/&gt;
    &amp;lt;parent&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;it-parent&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;relativePath&amp;gt;../pom.xml&amp;lt;/relativePath&amp;gt;&lt;br/&gt;
      &amp;lt;/parent&amp;gt;&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16108224" author="githubbot" created="Tue, 1 Aug 2017 00:51:17 +0000"  >&lt;p&gt;Github user jon-bell commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161#discussion_r130497860&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161#discussion_r130497860&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,61 @@&lt;br/&gt;
    +&amp;lt;!--&lt;br/&gt;
    +  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    +  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    +  ~ distributed with this work for additional information&lt;br/&gt;
    +  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    +  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    +  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    +  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    +  ~&lt;br/&gt;
    +  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
    +  ~ software distributed under the License is distributed on an&lt;br/&gt;
    +  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
    +  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
    +  ~ specific language governing permissions and limitations&lt;br/&gt;
    +  ~ under the License.&lt;br/&gt;
    +  --&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
    +  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    +  &amp;lt;artifactId&amp;gt;surefire-test-classpath-provider&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    +  &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
    +  &amp;lt;name&amp;gt;Test provider&amp;lt;/name&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +  &amp;lt;properties&amp;gt;&lt;br/&gt;
    +    &amp;lt;surefire.version&amp;gt;2.21-SNAPSHOT&amp;lt;/surefire.version&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Sorry about that - hadn&apos;t noticed that it wasn&apos;t specified. Added it to both the provider and the test project.&lt;/p&gt;</comment>
                            <comment id="16108531" author="githubbot" created="Tue, 1 Aug 2017 07:49:10 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jon-bell &lt;br/&gt;
    Please squash your commits into one single commit and override your branch. Name the final commit&lt;br/&gt;
    `&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt; Provider class path is incorrect for custom provider in Failsafe`&lt;/p&gt;</comment>
                            <comment id="16108791" author="githubbot" created="Tue, 1 Aug 2017 12:10:56 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Done&lt;/p&gt;</comment>
                            <comment id="16112841" author="githubbot" created="Thu, 3 Aug 2017 14:41:52 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jon-bell &lt;br/&gt;
    I will investigate this issue:&lt;br/&gt;
    `Could not find artifact org.apache.maven.surefire:it-parent:pom:1.0 in central (&lt;a href=&quot;https://repo.maven.apache.org/maven2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2&lt;/a&gt;)`&lt;/p&gt;</comment>
                            <comment id="16115255" author="githubbot" created="Sat, 5 Aug 2017 03:40:59 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 It seems like it had worked for me because I had previously executed a `mvn install` - I see on a clean maven repo the problem.&lt;/p&gt;

&lt;p&gt;    It looks like the `SurefireLauncher` does not unpack/install the parent pom into the `it-repo`, and hence, the forked maven process can&apos;t find the parent pom (once it&apos;s installed). I am hesitant to poke at this further, because I suspect a fix might involve some changes to `SurefireLauncher` to coerce it to install the parent pom into the `it-repo` as well. This seems to not be a problem for any test packages, but is for a provider (which gets the forked Maven classloader instead of the test classloader). Given that the only other provider in the repo for integration tests &lt;b&gt;does not&lt;/b&gt; reference the parent pom, I assume that this is a problem that someone came upon before and sidestepped.&lt;/p&gt;

&lt;p&gt;    I&apos;ve removed the parent reference that you had suggested above. But, we are properly picking up `surefire.version` from the maven system property. On a clean maven repo the `mvn clean install -P run-its` completed with this version (now again squashed). I agree that referencing the parent pom is a cleaner solution, but I&apos;m not sure if you/we want to go down the road of patching the integration test harness to support that (for what amounted to a ~3 line patch).&lt;/p&gt;</comment>
                            <comment id="16120903" author="githubbot" created="Thu, 10 Aug 2017 01:05:11 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 Let me know if there is anything else I can do on this.&lt;/p&gt;

&lt;p&gt;    Thanks&lt;br/&gt;
    Jonathan&lt;/p&gt;</comment>
                            <comment id="16139344" author="githubbot" created="Wed, 23 Aug 2017 23:55:24 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 Is there anything else I can do to help get this merged?&lt;/p&gt;</comment>
                            <comment id="16144409" author="githubbot" created="Mon, 28 Aug 2017 21:51:45 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jon-bell &lt;br/&gt;
    Ok, now your IT passed. I will run whole test set now.&lt;/p&gt;</comment>
                            <comment id="16144664" author="githubbot" created="Tue, 29 Aug 2017 02:31:16 +0000"  >&lt;p&gt;Github user jon-bell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 I have rebased master on top of my branch, it is again up to date.&lt;/p&gt;</comment>
                            <comment id="16144768" author="githubbot" created="Tue, 29 Aug 2017 05:39:30 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16144770" author="tibor17" created="Tue, 29 Aug 2017 05:40:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16144773" author="githubbot" created="Tue, 29 Aug 2017 05:43:05 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jon-bell &lt;br/&gt;
    Thx for contributing.&lt;/p&gt;</comment>
                            <comment id="16160554" author="hudson" created="Mon, 11 Sep 2017 02:11:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1757 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1757/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1757/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt; Provider class path is incorrect for custom provider in (jon: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/src/main/java/org/apache/maven/plugin/failsafe/IntegrationTestMojo.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1396CustomProviderClassPathIT.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/src/main/java/org/apache/maven/surefire/testprovider/ClassPathTestProvider.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/src/main/resources/META-INF/services/org.apache.maven.surefire.providerapi.SurefireProvider&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/src/test/java/pluggableproviders/EmptyTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/src/test/java/pluggableproviders/EmptyIT.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16325239" author="hudson" created="Sat, 13 Jan 2018 17:45:59 +0000"  >&lt;p&gt;ABORTED: Integrated in Jenkins build maven-surefire-dev #103 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire-dev/103/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire-dev/103/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1396&quot; title=&quot;Provider class path is incorrect for custom provider in Failsafe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1396&quot;&gt;&lt;del&gt;SUREFIRE-1396&lt;/del&gt;&lt;/a&gt; Provider class path is incorrect for custom provider in (jon: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=99cd4f65f5f04ed8c98f446850f5f8bd7b98fc64&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/src/main/java/org/apache/maven/plugin/failsafe/IntegrationTestMojo.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/src/test/java/pluggableproviders/EmptyTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1396CustomProviderClassPathIT.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/src/main/resources/META-INF/services/org.apache.maven.surefire.providerapi.SurefireProvider&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath-provider/src/main/java/org/apache/maven/surefire/testprovider/ClassPathTestProvider.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1396-pluggableproviders-classpath/src/test/java/pluggableproviders/EmptyIT.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17994826" author="olamy" created="Fri, 4 Jul 2025 07:29:10 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2293&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hymv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>