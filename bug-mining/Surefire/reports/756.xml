<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:18:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-2212] OutOfMemoryError raised when parsing files with huge stderr/stdout output in surefire-report-parser</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-2212</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;While parsing large reports, we identified &lt;tt&gt;OutOfMemoryError&lt;/tt&gt; being raised in the &lt;tt&gt;surefire-report-parser&lt;/tt&gt; in case the test file contains large CDATA sections below &lt;tt&gt;system-err&lt;/tt&gt; / &lt;tt&gt;system-out&lt;/tt&gt; in the report.&lt;/p&gt;

&lt;p&gt;While this is using a SAX parser, it parses all element contents into a string and that can cause issues for large test reports.&lt;br/&gt;
Proposed fix: only keep element contents in memory in case the value is used somewhere for the result.&lt;br/&gt;
i.e. &lt;tt&gt;system-err&lt;/tt&gt; / &lt;tt&gt;system-out&lt;/tt&gt; is just discarded.&lt;/p&gt;

&lt;p&gt;Sample project which is demonstrating the issue by creating a huge dummy test report and then uses the parser:&lt;br/&gt;
&lt;a href=&quot;https://github.com/bisswanger/surefire-parser-sample&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bisswanger/surefire-parser-sample&lt;/a&gt; (see README for details)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558401">SUREFIRE-2212</key>
            <summary>OutOfMemoryError raised when parsing files with huge stderr/stdout output in surefire-report-parser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michael-o">Michael Osipov</assignee>
                                    <reporter username="bisswanger">Ramon Bisswanger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Nov 2023 12:04:26 +0000</created>
                <updated>Fri, 4 Jul 2025 07:44:22 +0000</updated>
                            <resolved>Mon, 4 Dec 2023 13:37:26 +0000</resolved>
                                    <version>3.2.2</version>
                                    <fixVersion>3.2.3</fixVersion>
                                    <component>surefire-shared-utils</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17787162" author="JIRAUSER303115" created="Fri, 17 Nov 2023 12:07:27 +0000"  >&lt;p&gt;Proposed PR: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/687&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17792770" author="githubbot" created="Mon, 4 Dec 2023 10:49:21 +0000"  >&lt;p&gt;bisswanger commented on PR #687:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/687#issuecomment-1838355882&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/687#issuecomment-1838355882&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @michael-o : thanks for the feedback.&lt;br/&gt;
   Added a corresponding unit test&lt;/p&gt;

</comment>
                            <comment id="17792811" author="githubbot" created="Mon, 4 Dec 2023 12:32:44 +0000"  >&lt;p&gt;michael-o commented on PR #687:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/687#issuecomment-1838541736&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/687#issuecomment-1838541736&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; @michael-o : thanks for the feedback. Added a corresponding unit test&lt;/p&gt;

&lt;p&gt;   The test looks reasonable. Waiting for the tests to complete.&lt;/p&gt;

</comment>
                            <comment id="17792851" author="githubbot" created="Mon, 4 Dec 2023 13:37:06 +0000"  >&lt;p&gt;michael-o closed pull request #687: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-2212&quot; title=&quot;OutOfMemoryError raised when parsing files with huge stderr/stdout output in surefire-report-parser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-2212&quot;&gt;&lt;del&gt;SUREFIRE-2212&lt;/del&gt;&lt;/a&gt; surefire-report-parser: parse element content only if needed to prevent OOME&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/687&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17792853" author="michael-o" created="Mon, 4 Dec 2023 13:37:26 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=05322d992778dd33e2f2e41661a2e66ef7539a68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;05322d992778dd33e2f2e41661a2e66ef7539a68&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17995611" author="olamy" created="Fri, 4 Jul 2025 07:44:22 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2698&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lojk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>