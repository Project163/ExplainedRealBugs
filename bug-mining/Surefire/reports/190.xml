<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:08:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-500] puzzling NoClassDefFoundError instead of meaningfull stacktrace</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-500</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We are using maven-2.0.9 for some project using spring/hibernate.&lt;/p&gt;

&lt;p&gt;When I made an incorrect change to the spring configuration (or actually I removed a hbm.xml file that was still referenced in the spring config), maven/surefire failed with an NoClassDefFoundError on one of our abstract test classes (where the spring config was loaded). Running in debug mode (-X) or increasing log4j levels did not reveal more info as to the cause of the problem. &lt;/p&gt;

&lt;p&gt;After some time I switched back to maven-2.0.7,  maven/surefire also failed but with a meaningfull stacktrace that pointed immediately to the cause of the problem. &lt;/p&gt;

&lt;p&gt;So I fixed the problem, switched again to maven-2.0.9, with a succesfull build as result.&lt;/p&gt;


</description>
                <environment>maven 2.0.9 , linux/ubuntu, jdk-sun-1.5.0_13</environment>
        <key id="12809948">SUREFIRE-500</key>
            <summary>puzzling NoClassDefFoundError instead of meaningfull stacktrace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="jromme">jromme</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 May 2008 04:20:08 +0000</created>
                <updated>Fri, 4 Jul 2025 07:10:28 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 14:27:31 +0000</resolved>
                                    <version>2.4.2</version>
                                    <fixVersion>2.7.2</fixVersion>
                                    <component>classloading</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14454426" author="g.columbro" created="Fri, 3 Apr 2009 07:22:29 +0000"  >&lt;p&gt;I&apos;m also experiencing this issue with maven 2.0.9, with a weird NoClassDefFoundError on the base Spring test class AbstractDependencyInjectionSpringContextTests, which is instead declared with &apos;test&apos; scope in the pom.&lt;/p&gt;

&lt;p&gt;Luckily a &apos;mvn clean&apos; saved the day &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14454358" author="jsravn" created="Wed, 8 Apr 2009 13:14:07 +0000"  >&lt;p&gt;I&apos;m also experiencing this issue. If a class fails during static initialization, surefire spits out the cryptic NoClassDefFoundError instead of a meaningful stack trace.&lt;/p&gt;

&lt;p&gt;Surefire 2.0 does not suffer from this problem. All recent versions do.&lt;/p&gt;</comment>
                            <comment id="14454446" author="brettporter" created="Tue, 3 Nov 2009 01:56:26 +0000"  >&lt;p&gt;I can&apos;t reproduce this. I added this to a static init:&lt;/p&gt;

&lt;p&gt;static &lt;/p&gt;
{ if ( true ) throw new RuntimeException( &quot;die!&quot; ); }

&lt;p&gt;Do you have a sample project?&lt;/p&gt;</comment>
                            <comment id="14454587" author="hoodja" created="Mon, 1 Mar 2010 09:23:16 +0000"  >&lt;p&gt;I was having a similar problem and I think I have nailed down the interaction (I don&apos;t have any insight into what&apos;s causing the problem, however).&lt;/p&gt;

&lt;p&gt;Attached is a simple maven project that contains two tests and one suite. The two tests are ExplodingTest, which throws a java.lang.NoClassDefFoundError inside a static block, and PassingTest which has a number of tests that, well, pass.&lt;/p&gt;

&lt;p&gt;The suite combines the two tests together.&lt;/p&gt;

&lt;p&gt;Running &quot;mvn clean test -Dtest=Suite&quot; demonstrates the unexpected behavior from surefire: No xml reports are generated describing the outcomes of the tests in &lt;tt&gt;target/surefire-reports&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;To fix update the JUnit dependency in the pom.xml from 4.4 to 4.8.1. Doing that and rerunning the command results in an accurate xml test result report being generated.&lt;/p&gt;

&lt;p&gt;I hope this helps clarify the problem. It was certainly a pain to track this down. Since Spring &amp;lt; 3.0 requires JUnit &amp;lt;= 4.4 my guess is that most who have experienced the issue are using Spring. So while it may &lt;b&gt;seem&lt;/b&gt; like a Spring issue I&apos;m guessing it is really a JUnit 4.4 issue.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
jim&lt;/p&gt;</comment>
                            <comment id="14454786" author="krosenvold" created="Thu, 13 Jan 2011 14:27:31 +0000"  >&lt;p&gt;Fixed with integration test in r1058735&lt;/p&gt;</comment>
                            <comment id="17993840" author="olamy" created="Fri, 4 Jul 2025 07:10:28 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1187&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12809521">SUREFIRE-625</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12719702" name="surefireTest.zip" size="3311" author="hoodja" created="Mon, 1 Mar 2010 09:23:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bc7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>