<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:05:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-22] surefire:surefire:1.5-SNAPSHOT test failure in XMLReporterTest for non US locale</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-22</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;This report is about building maven itself from the latest sources.&lt;/p&gt;

&lt;p&gt;The testElapsedTimeAsString() method in XMLReporterTest currently enforces that the call reporter.elapsedTimeAsString( 1000 ) returns &quot;1.00&quot; and not &quot;1,00&quot;.&lt;/p&gt;

&lt;p&gt;However, for my locale (which is Dutch) the returned value IS &quot;1,00&quot;. This causes the build of this component to fail with a test failure.&lt;/p&gt;

&lt;p&gt;The method elapsedTimeAsString( ) tries to force a decimal point to be used by using new DecimalFormat( &quot;##0.00&quot; ). This doesn&apos;t work because java will still substitute the decimal separator as defined by the current locale. This could be fixed by using applyLocalizedPattern(), but my tests have shown that this is not necessary.&lt;/p&gt;

&lt;p&gt;Because of the fix for MOJO-100, the surefire-report plugin correctly handles numbers formatted for the current locale. In my opinion the correct way to go is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove &apos;protected String elapsedTimeAsString( long runTime )&apos; from XMLReporter, it overrides a method in AbstractReporter which works fine.&lt;/li&gt;
	&lt;li&gt;remove &apos;public void testElapsedTimeAsString()&apos; from XMLReporterTest, its only use is to enforce the decimal point in a formatted time&lt;br/&gt;
See the attached patches for these changes.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This can be tested by switching you box to Dutch locale (windows: control panel/regional and language options) and running mvn surefire-report:report on surefire:surefire:1.5-SNAPSHOT. The surefire-reports/*.xml files should contain timing information with comma&apos;s in their time info, but surefire-report.html should contain the times with decimal points.&lt;/p&gt;</description>
                <environment>Windowx XP with Dutch locale, sun jdk 142 and maven 202 snapshot m2-20051212.040000.tar.gz</environment>
        <key id="12809783">SUREFIRE-22</key>
            <summary>surefire:surefire:1.5-SNAPSHOT test failure in XMLReporterTest for non US locale</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="carlos">Carlos Sanchez Gonzalez</assignee>
                                    <reporter username="mschutte">Marcel Schutte</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2005 07:25:56 +0000</created>
                <updated>Fri, 4 Jul 2025 05:47:50 +0000</updated>
                            <resolved>Sun, 1 Jan 2006 17:10:55 +0000</resolved>
                                    <version>1.5 (2.1 plugin)</version>
                                    <fixVersion>1.5.2 (2.1.2 plugin)</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17993474" author="olamy" created="Fri, 4 Jul 2025 05:47:50 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/873&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#873&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12719668" name="XMLReporter.patch" size="5348" author="mschutte" created="Mon, 12 Dec 2005 07:25:56 +0000"/>
                            <attachment id="12719934" name="XMLReporterTest.patch" size="520" author="mschutte" created="Mon, 12 Dec 2005 07:25:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bhhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>