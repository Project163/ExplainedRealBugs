<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:13:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1265] reuseForks=false fails on jdk-9-ea builds</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1265</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When I run any surefire test (with reuseForks=false) that uses java.sql classes on recent jdk-9 ea builds it fails with:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project maven-surefire-plugin-example: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: java.lang.NoClassDefFoundError: java/sql/SQLException: java.sql.SQLException -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;If I run it with reuseForks=true it works fine.&lt;/p&gt;

&lt;p&gt;This problem was introduced in jdk build 9-ea+122 (&lt;a href=&quot;http://download.java.net/java/jdk9/changes/jdk-9+122.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.java.net/java/jdk9/changes/jdk-9+122.html&lt;/a&gt;) when the jigsaw team addressed: &lt;/p&gt;

&lt;p&gt;    d20279be77d9	8154189	Deprivilege java.sql and java.sql.rowset module&lt;/p&gt;</description>
                <environment></environment>
        <key id="12992964">SUREFIRE-1265</key>
            <summary>reuseForks=false fails on jdk-9-ea builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="mmusgrov">Michael Musgrove</reporter>
                        <labels>
                            <label>jigsaw</label>
                    </labels>
                <created>Wed, 27 Jul 2016 15:30:51 +0000</created>
                <updated>Fri, 4 Jul 2025 07:25:55 +0000</updated>
                            <resolved>Mon, 14 Aug 2017 10:10:46 +0000</resolved>
                                    <version>2.19.1</version>
                                    <fixVersion>2.20.1</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="15395854" author="mmusgrov" created="Wed, 27 Jul 2016 15:33:33 +0000"  >&lt;p&gt;Simple reproducer&lt;/p&gt;</comment>
                            <comment id="15395962" author="rfscholte" created="Wed, 27 Jul 2016 16:44:07 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.ClassNotFoundException: java.sql.SQLException
        at java.net.URLClassLoader.findClass(java.base@9-ea/URLClassLoader.java:384)
        at java.lang.ClassLoader.loadClass(java.base@9-ea/ClassLoader.java:486)
        at java.lang.ClassLoader.loadClass(java.base@9-ea/ClassLoader.java:419)
        at org.apache.maven.surefire.booter.IsolatedClassLoader.loadClass(IsolatedClassLoader.java:97)
        ... 49 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A quick view suggest that you can&apos;t find this class anymore via &lt;tt&gt;ClassLoader.getSystemClassLoader();&lt;/tt&gt;&lt;br/&gt;
Additional info: &lt;a href=&quot;http://cr.openjdk.java.net/~mr/jigsaw/spec/api/java/lang/ClassLoader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cr.openjdk.java.net/~mr/jigsaw/spec/api/java/lang/ClassLoader.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15399151" author="mmusgrov" created="Fri, 29 Jul 2016 11:14:54 +0000"  >&lt;p&gt;The root cause is most likely because the IsolatedClassLoader is bypassing the jdk-9 platform class loader which is responsible for loading module code that is not in java.base (for example java.sql is module code).&lt;/p&gt;

&lt;p&gt;I did try various combinations of the useSystemClassLoader and useManifestOnlyJar surefire configuration properties without success.&lt;br/&gt;
I also built the maven-surefire-plugin version 3.0-SNAPSHOT from source but the issue is still present.&lt;/p&gt;

&lt;p&gt;Do you have any further thoughts or advice on what I can try next?&lt;/p&gt;
</comment>
                            <comment id="15399178" author="rfscholte" created="Fri, 29 Jul 2016 11:38:27 +0000"  >&lt;p&gt;IIUC we need to do some reflection. If the &lt;tt&gt;ClassLoader.getPlatformClassLoader()&lt;/tt&gt; exists, use this as the classloader. Otherwise fall back on the &lt;tt&gt;ClassLoader.getSystemClassLoader()&lt;/tt&gt;, since we&apos;re using a pre-Java9 version.&lt;br/&gt;
Something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; getParent()
{
  &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; parent;
  Method mthd = ReflectionUtils.tryGetMethod( &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.class, &lt;span class=&quot;code-quote&quot;&gt;&quot;getPlatformClassLoader&quot;&lt;/span&gt; );
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( mthd != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; )
  {
    parent = (&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;) mthd.invoke( &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; );
  }
  &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
  {
    parent = &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.getSystemClassLoader();
  }
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; parent;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15402394" author="mmusgrov" created="Mon, 1 Aug 2016 16:54:19 +0000"  >&lt;p&gt;The issue is that org.apache.maven.plugin.surefire.booterclient.ForkStarter#getSuitesIterator() tries to load classes &lt;b&gt;before&lt;/b&gt; forking the JVM that will run the tests but I am using the surefire argLine property to tell the modular jdk which module the missing classes belong to (in my case java.corba). This happens in surefire-booter method org.apache.maven.surefire.booter.ProviderFactory#getSuites() and the provider it uses to find the testSuites is org.apache.maven.surefire.junit4.JUnit4Provider and IsolatedClassLoader#loadClass() throws an exception if it cannot load a requested class.&lt;/p&gt;</comment>
                            <comment id="15426138" author="mmusgrov" created="Thu, 18 Aug 2016 09:18:57 +0000"  >&lt;p&gt;This issue is a blocker for our projects JDK 9 work because many of our tests (and we have a lot of them) leave state hanging around so we really do need to fork a new JVM for each test class. Can you advise whether there is a workaround or when the team could investigate the problem?&lt;/p&gt;

&lt;p&gt;If there is a workaround or suggested fix then I don&apos;t mind making code changes in my own clone of surefire while we wait for an official fix. I did have a go at fixing it but it seem to necessitate making breaking API changes. &lt;/p&gt;</comment>
                            <comment id="15426194" author="tibor17" created="Thu, 18 Aug 2016 09:58:02 +0000"  >&lt;p&gt;This seems to be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1262&quot; title=&quot;Add modulepath support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1262&quot;&gt;&lt;del&gt;SUREFIRE-1262&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Assigned both to 2.19.2.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
I will commit an update. Would you be able to check it out with 2.19.2-SNAPSHOT after I have finished, I let you know.&lt;/p&gt;</comment>
                            <comment id="15426551" author="mmusgrov" created="Thu, 18 Aug 2016 14:37:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;. Yes I will test it out as soon as you are ready.&lt;/p&gt;</comment>
                            <comment id="15430313" author="tibor17" created="Mon, 22 Aug 2016 08:39:27 +0000"  >&lt;p&gt;commit c9b0914116cb49fb082ffa7d3af0ce0314f8fbc1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
Please wait until Jenkins says &lt;tt&gt;SUCCESS: Integrated in Jenkins build maven-surefire&lt;/tt&gt; in next comment in Jira. This may take one hour.&lt;/p&gt;</comment>
                            <comment id="15430378" author="hudson" created="Mon, 22 Aug 2016 09:12:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1595 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1595/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1595/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1265&quot; title=&quot;reuseForks=false fails on jdk-9-ea builds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1265&quot;&gt;&lt;del&gt;SUREFIRE-1265&lt;/del&gt;&lt;/a&gt;] reuseForks=false fails on jdk-9-ea builds (tibor17: rev c9b0914116cb49fb082ffa7d3af0ce0314f8fbc1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/IsolatedClassLoader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15430433" author="mmusgrov" created="Mon, 22 Aug 2016 09:38:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; &quot;The issue is that org.apache.maven.plugin.surefire.booterclient.ForkStarter#getSuitesIterator() tries to load classes before forking the JVM that will run the tests&quot; which means that any jdk-9 switches I set via &amp;lt;argLine&amp;gt; are ignored. See my earlier comment from 1st Aug.&lt;/p&gt;</comment>
                            <comment id="15430553" author="tibor17" created="Mon, 22 Aug 2016 11:02:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
I have to remove the milestone 2.19.2 from this issue because of this misunderstanding.&lt;br/&gt;
I think the surefire concept regarding &lt;tt&gt;getSuitesIterator()&lt;/tt&gt; should change but not now since we do not have much time.&lt;br/&gt;
I last time made big change which introduced communication between java processes using commands and this has emitted issue &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1255&quot; title=&quot;Surefire 2.19.1 hangs before starting test execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1255&quot;&gt;&lt;del&gt;SUREFIRE-1255&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt;. So I don&apos;t want to go straight ahead with another big change in parallel. First of all I want to fix &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1255&quot; title=&quot;Surefire 2.19.1 hangs before starting test execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1255&quot;&gt;&lt;del&gt;SUREFIRE-1255&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt; and mark surefire as stable a then I would change the concept of &lt;tt&gt;getSuitesIterator()&lt;/tt&gt;. The problem is that this method operates with classes and the reason we are doing so is that we are filtering out classes which are not real JUnit test classes. IMHO this mechanism should be part of &lt;tt&gt;SurefireProvider&lt;/tt&gt; and the main process should only filter classes on file-name level. And then we need to somehow differentiate between class which is not really annotated as test and filtered tests using &lt;tt&gt;org.junit.runner.manipulation.Filter&lt;/tt&gt; because even if both result in zero tests the behavior might be different.&lt;br/&gt;
I think we should send some command to the main process saying that this class is not a test and don&apos;t report it.&lt;br/&gt;
To reach the goal we would need to have the commands and fully stable, which means again no reason to continue with this issue unless commands are fully working on Mac.&lt;br/&gt;
There is another problem which needs to be solved - &lt;tt&gt;RunListener&lt;/tt&gt; which is not stable and reported last time in two tickets.&lt;/p&gt;</comment>
                            <comment id="15430824" author="tibor17" created="Mon, 22 Aug 2016 14:08:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
What do you think about this change. Shall we keep it in master?&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/commit/c9b0914116cb49fb082ffa7d3af0ce0314f8fbc1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/commit/c9b0914116cb49fb082ffa7d3af0ce0314f8fbc1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15431113" author="rfscholte" created="Mon, 22 Aug 2016 16:24:33 +0000"  >&lt;p&gt;I think we should try to revert this. Michael said the issue is somewhere else. If that fixes his issue, then no need to keep this change. I would expect that the SystemClassloader is indeed we want.&lt;/p&gt;</comment>
                            <comment id="15433194" author="mmusgrov" created="Tue, 23 Aug 2016 16:55:55 +0000"  >&lt;p&gt;I tried using version 2.19.1 of the surefire plugin together with the surefire configuration property:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;lt;childDelegation&amp;gt;true&amp;lt;/childDelegation&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;together with&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;lt;forkCount&amp;gt;1&amp;lt;/forkCount&amp;gt;&lt;br/&gt;
&amp;lt;reuseForks&amp;gt;false&amp;lt;/reuseForks&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;and it works just fine. I think it is safe to close this JIRA as not a bug. Thank &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt; for your attention and help on helping me get to the bottom of this issue.&lt;/p&gt;</comment>
                            <comment id="15433443" author="tibor17" created="Tue, 23 Aug 2016 19:30:40 +0000"  >&lt;p&gt;Just a moment, this is maybe a workaround but do you have rational&lt;br/&gt;
explanation for this configuration?&lt;br/&gt;
If this is a real bug then other user has problem.&lt;br/&gt;
We can still talk about this issue however I am preparing a new&lt;br/&gt;
release next few days.&lt;/p&gt;



&lt;p&gt;&amp;#8211; &lt;br/&gt;
Cheers&lt;br/&gt;
Tibor&lt;/p&gt;</comment>
                            <comment id="15446036" author="mmusgrov" created="Mon, 29 Aug 2016 14:30:51 +0000"  >&lt;p&gt;OK agreed. I am still seeing the issue with the java.corba module which is where I first hit this issue. The attached reproducer (it replaces the previous one and adds an extra test which imports one of the classes in the java.corba module) shows the problem:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;mvn clean test -DreuseForks=false -DchildDelegation=false&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; fails with NoClassDefFoundError: java/sql/SQLException&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;mvn clean test -DreuseForks=false -DchildDelegation=true&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; fails with NoClassDefFoundError: org/omg/CORBA/BAD_INV_ORDER&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;mvn clean test -DreuseForks=true -DchildDelegation=&amp;lt;false|true&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; both tests pass&lt;/p&gt;</comment>
                            <comment id="15616103" author="zhfeng" created="Fri, 28 Oct 2016 18:00:16 +0000"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;it can work by adding the MAVEN_OPT=&quot;-addmods java.corba&quot; . I had tried&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;MAVEN_OPT=&quot;-addmods java.corba&quot; mvn clean test -DreuseForks=false -DchildDelegation=true&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;both tests pass&lt;/p&gt;</comment>
                            <comment id="15621768" author="mmusgrov" created="Mon, 31 Oct 2016 09:58:59 +0000"  >&lt;p&gt;Thanks Amos. That is a workaround but it forces all maven modules to run with the same setting which is not ideal. Notice also that we do use this approach in our build.sh script:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;MAVEN_OPTS=&quot;$MAVEN_OPTS --upgrade-module-path target/upgrademodulepath --add-modules java.corba --add-exports java.corba/com.sun.corba.se.spi.orb=ALL-UNNAMED --add-exports java.corba/com.sun.corba.se.spi.ior=ALL-UNNAMED --add-exports java.corba/com.sun.corba.se.impl.ior=ALL-UNNAMED&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;but we would prefer a proper fix.&lt;/p&gt;</comment>
                            <comment id="15621800" author="tibor17" created="Mon, 31 Oct 2016 10:16:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhfeng&quot; class=&quot;user-hover&quot; rel=&quot;zhfeng&quot;&gt;zhfeng&lt;/a&gt;&lt;br/&gt;
I absolutely do not understand these jdk9 switches &lt;tt&gt;upgrade-module-path&lt;/tt&gt;, &lt;tt&gt;add-exports&lt;/tt&gt;, &lt;tt&gt;add-modules&lt;/tt&gt;.&lt;br/&gt;
Although need to know from you guys correct concept in Surefire, what&apos;s going on, why and what we can do about it.&lt;/p&gt;</comment>
                            <comment id="15653667" author="mmusgrov" created="Thu, 10 Nov 2016 10:20:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; The problem is that either the new jdk-9 JVM switches do not get used when spawning a new JVM for a test (-DreuseForks=false) and/or that the search for test classes happens before forking a new JVM (and therefore the &amp;lt;argLine&amp;gt; property is ignored) but does not take account of these jdk-9 switches that are modifying default modules.&lt;/p&gt;

&lt;p&gt;The reproducer shows the problem which I have updated to track later jdk-9 versions (I tested it with build 9-ea+143)&lt;/p&gt;</comment>
                            <comment id="15924372" author="jpoth" created="Tue, 14 Mar 2017 15:06:43 +0000"  >&lt;p&gt;I just ran into the same problem with Caused by: java.lang.ClassNotFoundException: javax.sql.DataSource. Luckily setting reuseForks=true works &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; let me know if you want a reproducer.&lt;/p&gt;

&lt;p&gt;This happened with Java 9 build 159.&lt;/p&gt;

&lt;p&gt;Cheers!&lt;/p&gt;</comment>
                            <comment id="15973502" author="tibor17" created="Tue, 18 Apr 2017 21:03:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpoth&quot; class=&quot;user-hover&quot; rel=&quot;jpoth&quot;&gt;jpoth&lt;/a&gt;&lt;br/&gt;
Can you extract all jar files which should appear on classpath of tests and check it again if they contain &lt;tt&gt;module-info.class&lt;/tt&gt;?&lt;br/&gt;
&lt;tt&gt;module-info.class&lt;/tt&gt; is produced by javac.&lt;/p&gt;</comment>
                            <comment id="15976142" author="tibor17" created="Thu, 20 Apr 2017 06:00:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmusgrov&quot; class=&quot;user-hover&quot; rel=&quot;mmusgrov&quot;&gt;mmusgrov&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpoth&quot; class=&quot;user-hover&quot; rel=&quot;jpoth&quot;&gt;jpoth&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
I fixed this bug by passing platform ClassLoader to IsolatedClassLoader.&lt;br/&gt;
I will provide a branch to code review on Maven Dev Mailing List and then push it to master.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;parent = (&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getMethod( &lt;span class=&quot;code-quote&quot;&gt;&quot;getPlatformClassLoader&quot;&lt;/span&gt; ).invoke( &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; )
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IsolatedClassLoader( parent, childDelegation, roleName );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15977559" author="tibor17" created="Thu, 20 Apr 2017 21:22:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=cba4adb1b93002c5b4bb2d2f22f461cc53bd8738&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=cba4adb1b93002c5b4bb2d2f22f461cc53bd8738&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15977693" author="hudson" created="Thu, 20 Apr 2017 22:16:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1696 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1696/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1696/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1265&quot; title=&quot;reuseForks=false fails on jdk-9-ea builds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1265&quot;&gt;&lt;del&gt;SUREFIRE-1265&lt;/del&gt;&lt;/a&gt; reuseForks=false fails on jdk-9-ea builds (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=cba4adb1b93002c5b4bb2d2f22f461cc53bd8738&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=cba4adb1b93002c5b4bb2d2f22f461cc53bd8738&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1265/src/test/java/J9Test.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/resources/surefire-1265/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ClasspathConfiguration.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1265Java9IT.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15993099" author="eolivelli" created="Tue, 2 May 2017 15:29:40 +0000"  >&lt;p&gt;I am trying current trunk but I get this error&lt;br/&gt;
java version &quot;9-ea&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 9-ea+163)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 9-ea+163, mixed mode)&lt;/p&gt;

&lt;p&gt;Surefire config (set on parent&apos;s pom.xml) :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;plugin&amp;gt;
                        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;2.21-SNAPSHOT&amp;lt;/version&amp;gt;
                        &amp;lt;configuration&amp;gt;
                            &amp;lt;forkCount&amp;gt;1&amp;lt;/forkCount&amp;gt;
                            &amp;lt;reuseForks&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/reuseForks&amp;gt;
                            &amp;lt;forkedProcessTimeoutInSeconds&amp;gt;600&amp;lt;/forkedProcessTimeoutInSeconds&amp;gt;
                            &amp;lt;argLine&amp;gt;-Xmx2G -XX:+UseG1GC -Djava.io.tmpdir=${project.build.directory}&amp;lt;/argLine&amp;gt;
                            &amp;lt;redirectTestOutputToFile&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/redirectTestOutputToFile&amp;gt;
                        &amp;lt;/configuration&amp;gt;
                    &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Git commit id:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit cba4adb1b93002c5b4bb2d2f22f461cc53bd8738
Author: Tibor17 &amp;lt;tibor17@lycos.com&amp;gt;
Date:   Thu Apr 20 21:07:55 2017 +0200

    [SUREFIRE-1265] reuseForks=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; fails on jdk-9-ea builds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21-SNAPSHOT:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project herddb-core: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.21-SNAPSHOT:test failed: java.lang.NoClassDefFoundError: javax/xml/ws/Holder: javax.xml.ws.Holder -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21-SNAPSHOT:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project herddb-core: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.21-SNAPSHOT:test failed: java.lang.NoClassDefFoundError: javax/xml/ws/Holder
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:563)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.21-SNAPSHOT:test failed: java.lang.NoClassDefFoundError: javax/xml/ws/Holder
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:145)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
	... 20 more
Caused by: org.apache.maven.surefire.util.SurefireReflectionException: java.lang.NoClassDefFoundError: javax/xml/ws/Holder
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:193)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeGetter(ReflectionUtils.java:72)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.getSuites(ProviderFactory.java:144)
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.getSuitesIterator(ForkStarter.java:711)
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkPerTestSet(ForkStarter.java:405)
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:295)
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1080)
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:910)
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:788)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	... 21 more
Caused by: java.lang.NoClassDefFoundError: javax/xml/ws/Holder
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethods0(Native Method)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.privateGetDeclaredMethods(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:3113)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethods(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:2281)
	at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.checkforTestAnnotatedMethod(JUnit4TestChecker.java:92)
	at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.lookForTestAnnotatedMethods(JUnit4TestChecker.java:81)
	at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.isValidJUnit4Test(JUnit4TestChecker.java:73)
	at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.accept(JUnit4TestChecker.java:53)
	at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)
	at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:313)
	at org.apache.maven.surefire.junit4.JUnit4Provider.getSuites(JUnit4Provider.java:307)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:563)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:185)
	... 31 more
Caused by: java.lang.ClassNotFoundException: javax.xml.ws.Holder
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:466)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:543)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:476)
	at org.apache.maven.surefire.booter.IsolatedClassLoader.loadClass(IsolatedClassLoader.java:100)
	... 46 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15993992" author="tibor17" created="Tue, 2 May 2017 23:17:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
Would you post a project to reproduce this issue?&lt;/p&gt;</comment>
                            <comment id="15994360" author="eolivelli" created="Wed, 3 May 2017 06:48:27 +0000"  >&lt;p&gt;Attaching a a simple reproducer, Just use javax.ws.Holder in a JUnit Test case.&lt;/p&gt;

&lt;p&gt;I tried to update the &quot;surefire-1265&quot; package on the integrations tests of surefire, but surefire itself cannot be built on Java9&lt;/p&gt;

&lt;p&gt;run this command on the root of &quot;maven-surefire&quot;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JAVA_HOME=~/jdk-9 mvn clean install -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The results is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[WARNING] Rule 0: org.apache.maven.plugins.enforcer.RequireJavaVersion failed with message:
Detected JDK Version: 9 is not in the allowed range [1.6.0,1.9.0).
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.3.1:enforce (enforce-java) on project surefire: Some Enforcer rules have failed. Look above &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; specific messages explaining why the rule failed. -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this is my java version&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java 9-ea
Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 9-ea+163)
Java HotSpot(TM) 64-Bit Server VM (build 9-ea+163, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15994390" author="tibor17" created="Wed, 3 May 2017 07:23:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
I committed a change yesterday. There should not be such limitation in enforcer anymore. Pls try again.&lt;/p&gt;</comment>
                            <comment id="15994439" author="eolivelli" created="Wed, 3 May 2017 07:58:04 +0000"  >&lt;p&gt;I have checked out your last commit&lt;/p&gt;

&lt;p&gt;JAVA_HOME=~/jdk-9 mvn clean install -DskipTests&lt;/p&gt;

&lt;p&gt;the build of failsafe plugin is still  broken&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] /home/diennea.lan/enrico.olivelli/dev/eolivelli/maven-surefire/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; [-1:-1]: Failed to create model
com.sun.istack.SAXParseException2; Failed to create model
	at com.sun.tools.xjc.ErrorReceiver.error(ErrorReceiver.java:94)
	at org.apache.cxf.maven_plugin.XSDToJavaRunner.loadModel(XSDToJavaRunner.java:233)
	at org.apache.cxf.maven_plugin.XSDToJavaRunner.run(XSDToJavaRunner.java:169)
	at org.apache.cxf.maven_plugin.AbstractXSDToJavaMojo.run(AbstractXSDToJavaMojo.java:336)
	at org.apache.cxf.maven_plugin.AbstractXSDToJavaMojo.execute(AbstractXSDToJavaMojo.java:238)
	at org.apache.cxf.maven_plugin.XSDToJavaMojo.execute(XSDToJavaMojo.java:41)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:563)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: java.lang.reflect.InvocationTargetException
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:563)
	at org.apache.cxf.maven_plugin.XSDToJavaRunner.loadModel(XSDToJavaRunner.java:229)
	... 26 more
Caused by: java.lang.NoClassDefFoundError: javax/activation/DataSource
	at com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl.&amp;lt;clinit&amp;gt;(RuntimeBuiltinLeafInfoImpl.java:470)
	at com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.&amp;lt;init&amp;gt;(RuntimeTypeInfoSetImpl.java:63)
	at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:128)
	at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:84)
	at com.sun.xml.bind.v2.model.impl.ModelBuilder.&amp;lt;init&amp;gt;(ModelBuilder.java:162)
	at com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.&amp;lt;init&amp;gt;(RuntimeModelBuilder.java:92)
	at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:444)
	at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&amp;lt;init&amp;gt;(JAXBContextImpl.java:292)
	at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&amp;lt;init&amp;gt;(JAXBContextImpl.java:139)
	at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1138)
	at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:162)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:563)
	at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:262)
	at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:249)
	at javax.xml.bind.ContextFinder.find(ContextFinder.java:456)
	at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:656)
	at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:599)
	at com.sun.tools.xjc.reader.xmlschema.bindinfo.BindInfo.getCustomizationContext(BindInfo.java:336)
	at com.sun.tools.xjc.reader.xmlschema.bindinfo.BindInfo.getCustomizationUnmarshaller(BindInfo.java:362)
	at com.sun.tools.xjc.reader.xmlschema.bindinfo.AnnotationParserFactoryImpl$1.&amp;lt;init&amp;gt;(AnnotationParserFactoryImpl.java:85)
	at com.sun.tools.xjc.reader.xmlschema.bindinfo.AnnotationParserFactoryImpl.create(AnnotationParserFactoryImpl.java:84)
	at com.sun.xml.xsom.impl.parser.NGCCRuntimeEx.createAnnotationParser(NGCCRuntimeEx.java:365)
	at com.sun.xml.xsom.impl.parser.state.annotation.action0(annotation.java:88)
	at com.sun.xml.xsom.impl.parser.state.annotation.enterElement(annotation.java:113)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.sendEnterElement(NGCCRuntime.java:417)
	at com.sun.xml.xsom.impl.parser.state.NGCCHandler.spawnChildFromEnterElement(NGCCHandler.java:113)
	at com.sun.xml.xsom.impl.parser.state.facet.enterElement(facet.java:157)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.sendEnterElement(NGCCRuntime.java:417)
	at com.sun.xml.xsom.impl.parser.state.NGCCHandler.revertToParentFromEnterElement(NGCCHandler.java:150)
	at com.sun.xml.xsom.impl.parser.state.foreignAttributes.enterElement(foreignAttributes.java:90)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.sendEnterElement(NGCCRuntime.java:417)
	at com.sun.xml.xsom.impl.parser.state.NGCCHandler.spawnChildFromEnterElement(NGCCHandler.java:113)
	at com.sun.xml.xsom.impl.parser.state.facet.enterElement(facet.java:118)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.sendEnterElement(NGCCRuntime.java:417)
	at com.sun.xml.xsom.impl.parser.state.facet.enterElement(facet.java:133)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.sendEnterElement(NGCCRuntime.java:417)
	at com.sun.xml.xsom.impl.parser.state.facet.enterElement(facet.java:141)
	at com.sun.xml.xsom.impl.parser.state.NGCCRuntime.startElement(NGCCRuntime.java:258)
	at java.xml/org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)
	at com.sun.tools.xjc.util.SubtreeCutter.startElement(SubtreeCutter.java:108)
	at com.sun.tools.xjc.reader.ExtensionBindingChecker.startElement(ExtensionBindingChecker.java:150)
	at java.xml/org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)
	at com.sun.tools.xjc.reader.xmlschema.parser.IncorrectNamespaceURIChecker.startElement(IncorrectNamespaceURIChecker.java:128)
	at java.xml/org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)
	at com.sun.tools.xjc.reader.xmlschema.parser.CustomizationContextChecker.startElement(CustomizationContextChecker.java:193)
	at java.xml/org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)
	at com.sun.tools.xjc.reader.internalizer.DOMForestScanner$LocationResolver.startElement(DOMForestScanner.java:147)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:244)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:281)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:250)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:281)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:250)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:281)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:250)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:281)
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:250)
	at com.sun.xml.bind.unmarshaller.DOMScanner.scan(DOMScanner.java:127)
	at com.sun.tools.xjc.reader.internalizer.DOMForestScanner.scan(DOMForestScanner.java:92)
	at com.sun.tools.xjc.reader.internalizer.DOMForestScanner.scan(DOMForestScanner.java:100)
	at com.sun.tools.xjc.reader.internalizer.DOMForestParser.parse(DOMForestParser.java:104)
	at com.sun.tools.xjc.ModelLoader$XMLSchemaParser.parse(ModelLoader.java:269)
	at com.sun.xml.xsom.impl.parser.NGCCRuntimeEx.parseEntity(NGCCRuntimeEx.java:347)
	at com.sun.xml.xsom.impl.parser.ParserContext.parse(ParserContext.java:128)
	at com.sun.xml.xsom.parser.XSOMParser.parse(XSOMParser.java:171)
	at com.sun.xml.xsom.parser.XSOMParser.parse(XSOMParser.java:160)
	at com.sun.tools.xjc.ModelLoader.createXSOM(ModelLoader.java:534)
	at com.sun.tools.xjc.ModelLoader.loadXMLSchema(ModelLoader.java:378)
	at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:174)
	at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:119)
	... 31 more
Caused by: java.lang.ClassNotFoundException: javax.activation.DataSource
	at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)
	at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)
	at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)
	at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)
	... 103 more
[ERROR] /home/diennea.lan/enrico.olivelli/dev/eolivelli/maven-surefire/../maven-surefire-plugin/src/site/resources/xsd/failsafe-summary.xsd [0:0]: Failed to create model


INFO] SureFire TestNG Runner ............................. SUCCESS [  1.971 s]
[INFO] Surefire Report Parser ............................. SUCCESS [  2.158 s]
[INFO] Maven Surefire Plugin .............................. SUCCESS [  4.387 s]
[INFO] Maven Failsafe Plugin .............................. FAILURE [  0.413 s]
[INFO] Maven Surefire Report Plugin ....................... SKIPPED
[INFO] Maven Surefire Integration Test Setup .............. SKIPPED
[INFO] Maven Surefire Integration Tests ................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 43.948 s
[INFO] Finished at: 2017-05-03T09:55:22+02:00
[INFO] Final Memory: 73M/242M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.cxf:cxf-xjc-plugin:3.1.0:xsdtojava (generate-failsafe-summary) on project maven-failsafe-plugin: Failed to create model: InvocationTargetException: javax/activation/DataSource: javax.activation.DataSource -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15994440" author="eolivelli" created="Wed, 3 May 2017 08:00:07 +0000"  >&lt;p&gt;Im trying to add the test case to surefire-1265 anyway&lt;/p&gt;</comment>
                            <comment id="15994480" author="tibor17" created="Wed, 3 May 2017 08:44:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
This is caused by cxf plugin.&lt;br/&gt;
So this is not the way to go.&lt;br/&gt;
We have to setup JDK in JAVA_HOME for the particular IT test with JDK 9 via toolchain and run the IT in fork mode mean not embedded mode.&lt;br/&gt;
Nevertheless you must build the project with JDK 8 and run the example project with JDK 9.&lt;/p&gt;</comment>
                            <comment id="15994486" author="eolivelli" created="Wed, 3 May 2017 08:51:08 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
Is the test case good for you in order to see the failure ?&lt;br/&gt;
Otherwise I will try to add a test case to surefire-1265&lt;/p&gt;

&lt;p&gt;IMHO This will be enough &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;J9Test {

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test_sql_mod() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; java.sql.SQLException {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;java.specification.version&quot;&lt;/span&gt;));
    }

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test_corba_mod() &lt;span class=&quot;code-comment&quot;&gt;/*&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; org.omg.CORBA.BAD_INV_ORDER*/&lt;/span&gt; {
    }

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test_javaws()  {
        javax.xml.ws.Holder&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; holder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; javax.xml.ws.Holder(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;);
        holder.value = &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is there any way to launch a single test (Surefire1265Java9IT) of the IT of surefire ? I am using -Dtest=xxxx but it does not work, the architecture is quite complex, if you give me some pointer I will come at speed to the problem&lt;/p&gt;</comment>
                            <comment id="15994534" author="tibor17" created="Wed, 3 May 2017 09:19:59 +0000"  >&lt;p&gt;Try to copy it to another directory on your file system and run it as a regular project.&lt;/p&gt;</comment>
                            <comment id="15994545" author="tibor17" created="Wed, 3 May 2017 09:28:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
Should we put &lt;tt&gt;module-info.class&lt;/tt&gt; in to the jar file or artifact which uses &lt;tt&gt;IsolatedClassLoader&lt;/tt&gt;?&lt;br/&gt;
Unfortunately this would be &lt;tt&gt;surefire-booter&lt;/tt&gt;.&lt;br/&gt;
The ideal situation would be to have it in plugin&apos;s jar only and export all modules in &lt;tt&gt;module-info.java&lt;/tt&gt;:&lt;br/&gt;
module surefire.xyz {&lt;br/&gt;
java.activation, java.xml.bind, java.xml.ws,jdk.xml.bind&lt;br/&gt;
}&lt;br/&gt;
Should it be imported, or optional?&lt;br/&gt;
The whole problem is that isloated CL is used in plugin and ClassLoader does not have any API call to extend the PlatformClassLoader with all JDK modules. These modules would be nice to have as optional, means if the classes (tests) in CL need to load them on the fly.&lt;br/&gt;
What can we do about this?&lt;/p&gt;</comment>
                            <comment id="15994555" author="tibor17" created="Wed, 3 May 2017 09:33:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
You can use &lt;tt&gt;it.test&lt;/tt&gt; property or replace *&lt;b&gt;IT&lt;/b&gt;* with &lt;tt&gt;Surefire1265Java9IT&lt;/tt&gt; in &lt;tt&gt;surefire-integration-tests/pom.xml&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15994570" author="tibor17" created="Wed, 3 May 2017 09:39:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
Surefire1265Java9IT  can be easily written in command line like &lt;tt&gt;mvn test&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15994592" author="eolivelli" created="Wed, 3 May 2017 09:52:16 +0000"  >&lt;p&gt;I&apos;m really sorry &lt;/p&gt;

&lt;p&gt;Actually I have to use with Java8 to compile the whole suite&lt;br/&gt;
mvn clean install -Dit.test=Surefire1265Java9IT &lt;/p&gt;

&lt;p&gt;Than in order to start the tests I have to use this command line:&lt;br/&gt;
JAVA_HOME=~/dev/jdk-9 mvn verify -Dit.test=Surefire1265Java9IT&lt;/p&gt;

&lt;p&gt;but compilation fails &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project surefire-1265: Compilation failure: Compilation failure:
[ERROR] /home/diennea.lan/enrico.olivelli/dev/eolivelli/maven-surefire/surefire-integration-tests/target/Surefire1265Java9IT_shouldRunInPluginJava9/src/test/java/J9Test.java:[2,16] error: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; javax.xml.ws is not visible
[ERROR] (&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; javax.xml.ws is declared in module java.xml.ws, which is not in the module graph)
[ERROR] /home/diennea.lan/enrico.olivelli/dev/eolivelli/maven-surefire/surefire-integration-tests/target/Surefire1265Java9IT_shouldRunInPluginJava9/src/test/java/J9Test.java:[18,17] error: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; javax.xml.ws is not visible
[ERROR] (&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; javax.xml.ws is declared in module java.xml.ws, which is not in the module graph)
[ERROR] /home/diennea.lan/enrico.olivelli/dev/eolivelli/maven-surefire/surefire-integration-tests/target/Surefire1265Java9IT_shouldRunInPluginJava9/src/test/java/J9Test.java:[18,58] error: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; javax.xml.ws is not visible
[ERROR] -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project surefire-1265: Compilation failure

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="15994746" author="tibor17" created="Wed, 3 May 2017 12:17:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
I will wait for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt; or we will discuss it on mailing list.&lt;br/&gt;
Our problem is that a parent &lt;tt&gt;ClassLoader&lt;/tt&gt;, which is &lt;tt&gt;PlatformClassLoader&lt;/tt&gt;, of &lt;tt&gt;IsolatedClassLoader&lt;/tt&gt; does not provide us with full Java stack in JDK.&lt;/p&gt;</comment>
                            <comment id="15995604" author="tibor17" created="Wed, 3 May 2017 20:30:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
As Robert said, use &lt;tt&gt;maven-compiler-plugin:3.6.1&lt;/tt&gt;. If it works you may want to open a pull request in GitHub with an update of &lt;tt&gt;Surefire1265Java9IT&lt;/tt&gt; and the POM, and open a new jira issue as a task. In the IT we should use another java.home for jdk9.&lt;/p&gt;</comment>
                            <comment id="15995614" author="rfscholte" created="Wed, 3 May 2017 20:34:10 +0000"  >&lt;p&gt;well, I was too fast. It is a very simple Test which doesn&apos;t use any specific Java 9  features, 2.5.1 is good enough.&lt;br/&gt;
What needs to be done is activate the javax.se.ee module using &lt;tt&gt;--add-modules java.se.ee&lt;/tt&gt;. See also &lt;a href=&quot;http://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SO&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15995675" author="tibor17" created="Wed, 3 May 2017 21:01:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
You mean in &lt;tt&gt;javac&lt;/tt&gt; argument or &lt;tt&gt;MAVEN_OPTS&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="15995684" author="rfscholte" created="Wed, 3 May 2017 21:06:02 +0000"  >&lt;p&gt;compiling works fine, if must be passed by surefire&lt;/p&gt;</comment>
                            <comment id="15995703" author="tibor17" created="Wed, 3 May 2017 21:22:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
If it has to be added by Surefire, then how?&lt;/p&gt;</comment>
                            <comment id="15995714" author="rfscholte" created="Wed, 3 May 2017 21:27:54 +0000"  >&lt;p&gt;&lt;a href=&quot;http://download.java.net/java/jigsaw/docs/api/java/lang/ClassLoader.html#findClass-java.lang.String-java.lang.String-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.java.net/java/jigsaw/docs/api/java/lang/ClassLoader.html#findClass-java.lang.String-java.lang.String-&lt;/a&gt;&lt;br/&gt;
So I think we should also use this method to find a class, i.e. &lt;tt&gt;findClass(&quot;java.se.ee&quot;, name);&lt;/tt&gt; with reflection&lt;/p&gt;</comment>
                            <comment id="15996082" author="tibor17" created="Thu, 4 May 2017 02:52:49 +0000"  >&lt;p&gt;Thx &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;, all these can be done quite easily. Although we have several pending branches to push, we can provide a new branch in version &lt;tt&gt;2.20.1&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16008282" author="tibor17" created="Fri, 12 May 2017 15:24:56 +0000"  >&lt;p&gt;We should extend URLClassLoader and call Java 9 protected method and load javase-ee module for entire JDK.&lt;/p&gt;</comment>
                            <comment id="16116423" author="tibor17" created="Mon, 7 Aug 2017 10:56:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rfscholte&quot; class=&quot;user-hover&quot; rel=&quot;rfscholte&quot;&gt;rfscholte&lt;/a&gt;&lt;br/&gt;
I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1403&quot; title=&quot;[Jigsaw] [Java 9] add &amp;quot;--add-modules java.se.ee&amp;quot; to forked CLI argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1403&quot;&gt;&lt;del&gt;SUREFIRE-1403&lt;/del&gt;&lt;/a&gt;. Made a fix and the test passed.&lt;/p&gt;</comment>
                            <comment id="16116434" author="mmusgrov" created="Mon, 7 Aug 2017 11:07:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; for the fix.&lt;/p&gt;</comment>
                            <comment id="16125494" author="tibor17" created="Mon, 14 Aug 2017 10:10:46 +0000"  >&lt;p&gt;There were two issues regarding Java 9 in Surefire.&lt;br/&gt;
This issue fixed hidden exception thrown in reflection but the most important issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1403&quot; title=&quot;[Jigsaw] [Java 9] add &amp;quot;--add-modules java.se.ee&amp;quot; to forked CLI argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1403&quot;&gt;&lt;del&gt;SUREFIRE-1403&lt;/del&gt;&lt;/a&gt; which is fixed now is another topic regarding Java 9 and is waiting for approval to push to master.&lt;br/&gt;
Thx.&lt;/p&gt;</comment>
                            <comment id="17994656" author="olamy" created="Fri, 4 Jul 2025 07:25:55 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2422&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13105016">SUREFIRE-1424</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12866128" name="Java9Example.zip" size="2326" author="eolivelli" created="Wed, 3 May 2017 06:48:27 +0000"/>
                            <attachment id="12838335" name="j9test.tar" size="20480" author="mmusgrov" created="Thu, 10 Nov 2016 10:20:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ksf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>