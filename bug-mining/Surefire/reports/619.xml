<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:15:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1383] dependenciesToScan Does Not Leverage Classpath Elements </title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1383</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The &amp;lt;dependenciesToScan&amp;gt; configuration attribute relies solely on installed artifacts. This is an issue when the targeted dependencies were built as part of the current session. The net result is that stale artifacts are used (i.e. if the dependency has changed since it was last installed) or the tests are not executed at all (if the dependency has not been previously installed.&lt;/p&gt;

&lt;p&gt;Attached is a sample project that illustrates this issue:&lt;/p&gt;

&lt;p&gt;Given I have a multi-module project&lt;br/&gt;
   And the first module built includes test classes as part of the project artifact&lt;br/&gt;
   And subsequent modules scan the first for unit tests to execute&lt;br/&gt;
When I execute the &lt;em&gt;&lt;b&gt;test&lt;/b&gt;&lt;/em&gt; goal (prior to any install)&lt;br/&gt;
Then the build should succeed&lt;br/&gt;
   And tests should be executed with each module&lt;/p&gt;</description>
                <environment></environment>
        <key id="13077855">SUREFIRE-1383</key>
            <summary>dependenciesToScan Does Not Leverage Classpath Elements </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="owen.farrell">Owen Farrell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jun 2017 01:41:24 +0000</created>
                <updated>Fri, 4 Jul 2025 07:28:15 +0000</updated>
                            <resolved>Thu, 10 May 2018 03:22:53 +0000</resolved>
                                    <version>2.20</version>
                                    <fixVersion>2.22.0</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="67">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="67" backgroundColor="#51a825"/>
                                                    <row percentage="33" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="67">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="67" backgroundColor="#51a825"/>
                                                    <row percentage="33" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="85200">23h 40m</timeestimate>
                            <timespent seconds="174000">48h 20m</timespent>
                                <comments>
                            <comment id="16040005" author="owen.farrell" created="Wed, 7 Jun 2017 02:00:07 +0000"  >&lt;p&gt;The maven-compiler-plugin seems to handle this issue just fine when building a list of classpathEntries.&lt;/p&gt;

&lt;p&gt;I&apos;m not a Maven API SME by any means, so the below is a bit of a guess in terms of approach:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;AbstractSurefireMojo.scanDependencies needs to inspect projects on the MavenSession&lt;/li&gt;
	&lt;li&gt;For each scanned dependency that is found in the session
	&lt;ul&gt;
		&lt;li&gt;Translate the dependency in to a MavenProject instance (by leveraging the session?)&lt;/li&gt;
		&lt;li&gt;Get the build output directory for the project&lt;/li&gt;
		&lt;li&gt;Create new directory scanner that wraps the build output directory of the project&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16041628" author="tibor17" created="Wed, 7 Jun 2017 21:17:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.farrell&quot; class=&quot;user-hover&quot; rel=&quot;owen.farrell&quot;&gt;owen.farrell&lt;/a&gt;&lt;br/&gt;
Did you assign the version 2.20.1?&lt;br/&gt;
Would you open git pull request with fix and test?&lt;/p&gt;</comment>
                            <comment id="16045465" author="tibor17" created="Sat, 10 Jun 2017 09:02:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.farrell&quot; class=&quot;user-hover&quot; rel=&quot;owen.farrell&quot;&gt;owen.farrell&lt;/a&gt;&lt;br/&gt;
I have removed versions 3.0.x and 2.2.1 because you did not provide a fix.&lt;/p&gt;</comment>
                            <comment id="16068982" author="githubbot" created="Thu, 29 Jun 2017 21:15:45 +0000"  >&lt;p&gt;GitHub user owenfarrell opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;/p&gt;

&lt;p&gt;    Added logic to prefer output directories of projects built as part of the current session.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/owenfarrell/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/owenfarrell/maven-surefire&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #157&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 12bda800118b25397adbe15a3b21547aa1df2aeb&lt;br/&gt;
Author: Owen Farrell &amp;lt;owen.farrell@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-29T21:12:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Added logic to use build output directories for session projects in favor of installed artifacts&lt;/p&gt;

&lt;p&gt;commit 524bb05d2aad37ef90458408607085456e1f774a&lt;br/&gt;
Author: Owen Farrell &amp;lt;owen.farrell@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-29T21:14:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Added logic to use build output directories for session projects in favor of installed artifacts&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16071415" author="githubbot" created="Sat, 1 Jul 2017 21:47:26 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Pls squash both commits to one.&lt;/p&gt;</comment>
                            <comment id="16071416" author="githubbot" created="Sat, 1 Jul 2017 21:49:39 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r125169671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r125169671&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,33 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList( Arrays.asList( getDependenciesToScan() ) );&lt;br/&gt;
    +                TestListResolver includedAndExcludedTests = getIncludedAndExcludedTests();&lt;br/&gt;
    +&lt;br/&gt;
    +                for ( MavenProject mavenProject : session.getSortedProjects() )&lt;br/&gt;
    +                {&lt;br/&gt;
    +                    String groupArtifactId = new StringBuilder( mavenProject.getGroupId() ).append( &quot;:&quot; )&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Pls concatenate as follows `mavenProject.getGroupId() + &quot;:&quot; + mavenProject.getArtifactId()`.&lt;br/&gt;
    This is simple and `javac` would compile to StringBuilder anyway, but longer in sources.&lt;/p&gt;</comment>
                            <comment id="16071417" author="githubbot" created="Sat, 1 Jul 2017 21:50:52 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r125169693&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r125169693&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,33 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList( Arrays.asList( getDependenciesToScan() ) );&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    `dependenciesToScanList` already contains plural. Pls rename `dependenciesToScanList` to `dependenciesToScan`.&lt;/p&gt;</comment>
                            <comment id="16071418" author="githubbot" created="Sat, 1 Jul 2017 21:51:29 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r125169703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r125169703&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,33 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList( Arrays.asList( getDependenciesToScan() ) );&lt;br/&gt;
    +                TestListResolver includedAndExcludedTests = getIncludedAndExcludedTests();&lt;br/&gt;
    +&lt;br/&gt;
    +                for ( MavenProject mavenProject : session.getSortedProjects() )&lt;br/&gt;
    +                {&lt;br/&gt;
    +                    String groupArtifactId = new StringBuilder( mavenProject.getGroupId() ).append( &quot;:&quot; )&lt;br/&gt;
    +                            .append( mavenProject.getArtifactId() ).toString();&lt;br/&gt;
    +                    if ( dependenciesToScanList.removeAll( Collections.singleton( groupArtifactId ) ) )&lt;br/&gt;
    +                    &lt;/p&gt;
{
    +                        File outputDirectoryFile = new File( mavenProject.getBuild().getOutputDirectory() );
    +                        DirectoryScanner scanner =
    +                                new DirectoryScanner( outputDirectoryFile, includedAndExcludedTests );
    +                        scanResult = scanResult.append( scanner.scan() );
    +                    }
&lt;p&gt;    +                    &lt;br/&gt;
    +                }&lt;br/&gt;
    +&lt;br/&gt;
                     // @TODO noinspection unchecked, check MavenProject 3.x for Generics in surefire:3.0&lt;br/&gt;
                     @SuppressWarnings( &quot;unchecked&quot; )&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;List&amp;lt;File&amp;gt; dependenciesToScan =&lt;/li&gt;
	&lt;li&gt;DependencyScanner.filter( project.getTestArtifacts(), Arrays.asList( getDependenciesToScan() ) );&lt;/li&gt;
	&lt;li&gt;DependencyScanner scanner = new DependencyScanner( dependenciesToScan, getIncludedAndExcludedTests() );&lt;/li&gt;
	&lt;li&gt;return scanner.scan();&lt;br/&gt;
    +                List&amp;lt;File&amp;gt; dependenciesToScanFileList =
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    `dependenciesToScanFileList` already contains plural. Pls rename `dependenciesToScanFileList` to `dependenciesToScanFile`.&lt;/p&gt;</comment>
                            <comment id="16071419" author="githubbot" created="Sat, 1 Jul 2017 21:57:12 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r125169778&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r125169778&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,33 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList( Arrays.asList( getDependenciesToScan() ) );&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    No need to create two collections with &lt;br/&gt;
    `List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList( Arrays.asList( getDependenciesToScan() ) );`&lt;br/&gt;
    One modifiable collection can be with this code:&lt;br/&gt;
    `List&amp;lt;String&amp;gt; dependenciesToScanList = new ArrayList();`&lt;br/&gt;
    `Collections.addAll( dependenciesToScanList, getDependenciesToScan() );`&lt;/p&gt;</comment>
                            <comment id="16072435" author="githubbot" created="Mon, 3 Jul 2017 13:23:18 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - done. &lt;/p&gt;</comment>
                            <comment id="16073408" author="githubbot" created="Tue, 4 Jul 2017 09:49:17 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Would you add integration test?&lt;br/&gt;
    See the module `surefire-integration-tests` and `src/test/java/org/apache/maven/surefire/its/jiras`.&lt;br/&gt;
    It&apos;s easy. Pickup some existing test, e.g. `Surefire34SecurityManagerIT`, and just inherit `SurefireJUnit4IntegrationTestCase`and see the folder `surefire-34-securityManager` in `test/resources`.&lt;br/&gt;
    Your IT will have the same principle. The point is to start `surefire-34-securityManager/pom.xml` as embedded or forked maven process from `Surefire34SecurityManagerIT`. I guess you want to test that multi-module Maven project will have own classes propagated from child modules one one dedicated module where Surefire has tests.&lt;/p&gt;</comment>
                            <comment id="16074139" author="githubbot" created="Wed, 5 Jul 2017 00:53:53 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve put together an integration test that can validate the execution of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SUREFIRE-1383&lt;/a&gt;). And all is good on that front.&lt;/p&gt;

&lt;p&gt;    While I was poking around the other ITs, I tripped on the IT for &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-569&quot; title=&quot;There should be a way to run unit tests from a dependency jar.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-569&quot;&gt;&lt;del&gt;SUREFIRE-569&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SUREFIRE-569&lt;/a&gt;). As written, the IT passes just fine. But the changes that I&apos;m proposing make that test case moot - it uses the same packaging structure of 2 projects built within a single session.&lt;/p&gt;

&lt;p&gt;    I updated that test case to better reflect the original ask of scanning *&lt;b&gt;&lt;em&gt;JAR&lt;/em&gt;&lt;/b&gt;* dependencies, but that means splitting the test case execution in to 2 separate lifecycles. When I split the single lifecycle in to 2, I&apos;m running in to a dependency resolution issue. For whatever reason, the second execution is unable to locate artifacts installed in the IT repo as part of the first lifecycle.&lt;/p&gt;

&lt;p&gt;    In looking around at the other ITs, it looks like this is the only test case that runs an install goal and *&lt;b&gt;&lt;em&gt;is then dependent on the result of that install&lt;/em&gt;&lt;/b&gt;*.&lt;/p&gt;

&lt;p&gt;    Thoughts?&lt;br/&gt;
    ```&lt;br/&gt;
    mvn -Dit.test=*&lt;b&gt;/Surefire569RunTestFromDependencyJarsIT.java,&lt;/b&gt;*/Surefire1383ScanSessionDependenciesIT.java clean integration-test`&lt;br/&gt;
    ...&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Using local repository at /..../maven-surefire/surefire-integration-tests/../surefire-setup-integration-tests/target/it-repo&lt;br/&gt;
    ...&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal on project surefire-569-module1: Could not resolve dependencies for project org.apache.maven.surefire:surefire-569-module1:jar:1.0: Failed to collect dependencies at org.apache.maven.surefire:surefire-569-testjar:jar:tests:1.0: Failed to read artifact descriptor for org.apache.maven.surefire:surefire-569-testjar:jar:tests:1.0: Failure to find org.apache.maven.surefire:it-parent:pom:1.0 in &lt;a href=&quot;https://repo.maven.apache.org/maven2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2&lt;/a&gt; was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project surefire-569-module1: Could not resolve dependencies for project org.apache.maven.surefire:surefire-569-module1:jar:1.0: Failed to collect dependencies at org.apache.maven.surefire:surefire-569-testjar:jar:tests:1.0&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16074150" author="githubbot" created="Wed, 5 Jul 2017 01:18:05 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looking at it a bit deeper, looks like the root cause is that the `it-parent` POM is not installed in the IT repo. The issue isn&apos;t the dependency itself.&lt;/p&gt;</comment>
                            <comment id="16074158" author="githubbot" created="Wed, 5 Jul 2017 01:40:38 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    One workaround for this would be to install the missing `it-parent` POM as part of my first lifecycle (i.e. mid-test). But this seems kind of hacky.&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    &amp;lt;project&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;surefire-569-testjar&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        ...&lt;br/&gt;
        &amp;lt;build&amp;gt;&lt;br/&gt;
            &amp;lt;plugins&amp;gt;&lt;br/&gt;
                &amp;lt;plugin&amp;gt;&lt;br/&gt;
                    &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                    &amp;lt;artifactId&amp;gt;maven-install-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                    &amp;lt;executions&amp;gt;&lt;br/&gt;
                        &amp;lt;execution&amp;gt;&lt;br/&gt;
                            &amp;lt;goals&amp;gt;&lt;br/&gt;
                                &amp;lt;goal&amp;gt;install-file&amp;lt;/goal&amp;gt;&lt;br/&gt;
                            &amp;lt;/goals&amp;gt;&lt;br/&gt;
                            &amp;lt;phase&amp;gt;install&amp;lt;/phase&amp;gt;&lt;br/&gt;
                            &amp;lt;configuration&amp;gt;&lt;br/&gt;
                                &amp;lt;file&amp;gt;${project.basedir}/../pom.xml&amp;lt;/file&amp;gt;&lt;br/&gt;
                                &amp;lt;pomFile&amp;gt;${project.basedir}/../pom.xml&amp;lt;/pomFile&amp;gt;&lt;br/&gt;
                            &amp;lt;/configuration&amp;gt;&lt;br/&gt;
                        &amp;lt;/execution&amp;gt;&lt;br/&gt;
                    &amp;lt;/executions&amp;gt;&lt;br/&gt;
                &amp;lt;/plugin&amp;gt;&lt;br/&gt;
            &amp;lt;/plugins&amp;gt;&lt;br/&gt;
        &amp;lt;/build&amp;gt;&lt;br/&gt;
    &amp;lt;/project&amp;gt;&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16074167" author="githubbot" created="Wed, 5 Jul 2017 01:58:54 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    No, no.&lt;br/&gt;
    No worries.&lt;br/&gt;
    You should build entire project `mvn install` and not the individual IT.&lt;br/&gt;
    The ITs cannot run separately, you can trigger it from building entire project from root in git.&lt;/p&gt;</comment>
                            <comment id="16074220" author="githubbot" created="Wed, 5 Jul 2017 04:08:15 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t follow. When I run an install from any level, the `org.apache.maven.surefire:it-parent:1.0:pom` artifact (surefire-integration-tests/src/test/resources/pom.xml) does not get installed in to the IT repo (surefire-setup-integration-tests/target/it-repo). Am I missing something?&lt;/p&gt;

&lt;p&gt;    In order to execute an IT across multiple lifecycles, that POM needs to be installed it in to the local repository specified by failsafe.&lt;/p&gt;

&lt;p&gt;    It looks to me like every IT that references `it-parent` does so via a relative path (explicitly or by default). They never have to rely on the artifact resolver.&lt;/p&gt;</comment>
                            <comment id="16078088" author="githubbot" created="Fri, 7 Jul 2017 13:40:56 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Copying the `it-parent` POM over to the output directory as part of  &lt;span class=&quot;error&quot;&gt;&amp;#91;MavenLauncher.simpleExtractResources&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/fixture/MavenLauncher.java#L448&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/master/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/fixture/MavenLauncher.java#L448&lt;/a&gt;) doesn&apos;t support resolving `it-parent` as part of a dependency.&lt;/p&gt;

&lt;p&gt;    Would it make sense to open a separate issue/enhancement for installing the `it-parent` artifact in the IT repo?&lt;/p&gt;</comment>
                            <comment id="16101077" author="githubbot" created="Wed, 26 Jul 2017 02:28:53 +0000"  >&lt;p&gt;Github user owenfarrell closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16101081" author="githubbot" created="Wed, 26 Jul 2017 02:30:58 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I have been busy with other ticket. Where did we finish. Do you need a help?&lt;/p&gt;</comment>
                            <comment id="16101084" author="githubbot" created="Wed, 26 Jul 2017 02:34:19 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    And I got busy with other work as well. I think I found a solution that doesn&apos;t completely violate the pattern used by integration tests.&lt;/p&gt;

&lt;p&gt;    Long story short, the IT for &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-569&quot; title=&quot;There should be a way to run unit tests from a dependency jar.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-569&quot;&gt;&lt;del&gt;SUREFIRE-569&lt;/del&gt;&lt;/a&gt; has been updated to be completely independent modules. The first module leverages the flatten plugin to avoid any parent references, which then allows the second module to complete successfully.&lt;/p&gt;

&lt;p&gt;    The IT for &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; executes within a single process and verifies the updates that I&apos;ve proposed.&lt;/p&gt;

&lt;p&gt;    Sorry for all the noise on the ticket - I hosed my fork while making the last round of updates.&lt;/p&gt;</comment>
                            <comment id="16101085" author="githubbot" created="Wed, 26 Jul 2017 02:34:20 +0000"  >&lt;p&gt;GitHub user owenfarrell reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;/p&gt;

&lt;p&gt;    Added logic to prefer output directories of projects built as part of the current session.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/owenfarrell/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/owenfarrell/maven-surefire&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #157&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ee3b5be037c70d2a4667d786d4c487cf89ebfdfa&lt;br/&gt;
Author: Owen Farrell &amp;lt;owen.farrell@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-26T02:30:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Added logic to use build output directories for session projects in favor of installed artifacts&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16119058" author="githubbot" created="Tue, 8 Aug 2017 21:28:54 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - Have you had a chance to review this PR?&lt;/p&gt;</comment>
                            <comment id="16119679" author="githubbot" created="Wed, 9 Aug 2017 10:26:02 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    I have not had yet. I am reviewing other in parallel. &lt;br/&gt;
    I will have a look in few days.&lt;/p&gt;</comment>
                            <comment id="16134142" author="githubbot" created="Sat, 19 Aug 2017 15:27:59 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - thoughts?&lt;/p&gt;</comment>
                            <comment id="16134889" author="githubbot" created="Mon, 21 Aug 2017 08:42:05 +0000"  >&lt;p&gt;Github user JoelNGeorge commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I have the exact same issue. This fix is very much appreciated. &lt;/p&gt;
</comment>
                            <comment id="16144478" author="githubbot" created="Mon, 28 Aug 2017 22:39:00 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @JoelNGeorge &lt;br/&gt;
    @owenfarrell &lt;br/&gt;
    Pls let me run the build and next steps.&lt;/p&gt;</comment>
                            <comment id="16145035" author="githubbot" created="Tue, 29 Aug 2017 10:02:04 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell&lt;br/&gt;
    I built the project. It was ok but then I realized you modified IT 569 which I do not like because this was a feature and I want to guarantee that old tests pass without modification and additionally I have to find out if our contributors mask some of their hidden errors. I or we have to find the root cause why 569 fails with your changes. We should debug your code and then fix it. The changes on 569 you have done are interesting but I prefer to add a new one very similar like &quot;surefire-569-RunTestFromInstalledJar&quot;.&lt;/p&gt;</comment>
                            <comment id="16145102" author="githubbot" created="Tue, 29 Aug 2017 10:51:21 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - IT569 does not *&lt;b&gt;fail&lt;/b&gt;* when introducing my changes. But since the test was written as a single lifecycle, it inadvertently uses the code I&apos;ve introduced in this PR (&lt;span class=&quot;error&quot;&gt;&amp;#91;see comment above&amp;#93;&lt;/span&gt;(#issuecomment-312972256)).&lt;/p&gt;

&lt;p&gt;    The only changes to IT569 were to split the single lifecycle in to multiple lifecycles. While there, I tried to clean up the test resources to match current standards/conventions.&lt;/p&gt;

&lt;p&gt;    But those changes to IT569 were to preserve its named intent: run tests from a dependency jar.&lt;/p&gt;

&lt;p&gt;    Looks like two options to me:&lt;br/&gt;
    1. Leave PR as is with minimally modified IT569&lt;br/&gt;
    2. Revert IT569 to original state, add a new version of IT569 which executes in multiple lifecycles and delete IT1383 (as it would be entirely redundant of IT569).&lt;/p&gt;</comment>
                            <comment id="16145139" author="githubbot" created="Tue, 29 Aug 2017 11:30:59 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    I found the root cause.&lt;br/&gt;
    The dependency to scan is examined with outputDirectory, but IT 569 has shources to share in `src/test/java` so the artifact would match but that&apos;s the reason why `target/surefire-reports` is not found because your code scans `Surefire569RunTestFromDependencyJarsIT_shouldScanAndRunTestsInDependencyJars\testjar\target\classes`. I think you have to check it classifier `tests` exists which results to file name `testjar-0.0.1-SNAPSHOT-tests.jar`.&lt;br/&gt;
    Additionally you should exclude packaging `pom` from the scan.&lt;/p&gt;</comment>
                            <comment id="16145151" author="githubbot" created="Tue, 29 Aug 2017 11:39:37 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r135765053&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r135765053&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,31 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Do you use IntelliJ IDEA? It highlights the argument in yellow.&lt;br/&gt;
    Use this:&lt;br/&gt;
    `DefaultScanResult scanResult = new DefaultScanResult( Collections.&amp;lt;String&amp;gt;emptyList() );`&lt;/p&gt;</comment>
                            <comment id="16145152" author="githubbot" created="Tue, 29 Aug 2017 11:40:28 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r135765205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r135765205&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,31 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScan = new ArrayList();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    missing Generics on constructor. We have Java 1.6.&lt;br/&gt;
    `List&amp;lt;String&amp;gt; dependenciesToScan = new ArrayList&amp;lt;String&amp;gt;();`&lt;/p&gt;
</comment>
                            <comment id="16145160" author="githubbot" created="Tue, 29 Aug 2017 11:42:25 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r135765515&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r135765515&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,31 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScan = new ArrayList();&lt;br/&gt;
    +                Collections.addAll( dependenciesToScan, getDependenciesToScan() );&lt;br/&gt;
    +                TestListResolver includedAndExcludedTests = getIncludedAndExcludedTests();&lt;br/&gt;
    +&lt;br/&gt;
    +                for ( MavenProject mavenProject : session.getSortedProjects() )&lt;br/&gt;
    +                {&lt;br/&gt;
    +                    String groupArtifactId = mavenProject.getGroupId() + &quot;:&quot; + mavenProject.getArtifactId();&lt;br/&gt;
    +                    if ( dependenciesToScan.removeAll( Collections.singleton( groupArtifactId ) ) )&lt;br/&gt;
    +                    &lt;/p&gt;
{
    +                        File outputDirectoryFile = new File( mavenProject.getBuild().getOutputDirectory() );
    +                        DirectoryScanner scanner =
    +                                new DirectoryScanner( outputDirectoryFile, includedAndExcludedTests );
    +                        scanResult = scanResult.append( scanner.scan() );
    +                    }
&lt;p&gt;    +                }&lt;br/&gt;
    +&lt;br/&gt;
                     // @TODO noinspection unchecked, check MavenProject 3.x for Generics in surefire:3.0&lt;br/&gt;
                     @SuppressWarnings( &quot;unchecked&quot; )&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;List&amp;lt;File&amp;gt; dependenciesToScan =&lt;/li&gt;
	&lt;li&gt;DependencyScanner.filter( project.getTestArtifacts(), Arrays.asList( getDependenciesToScan() ) );&lt;/li&gt;
	&lt;li&gt;DependencyScanner scanner = new DependencyScanner( dependenciesToScan, getIncludedAndExcludedTests() );&lt;/li&gt;
	&lt;li&gt;return scanner.scan();&lt;br/&gt;
    +                List&amp;lt;File&amp;gt; dependenciesToScanFile =
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Pls align to single line after using static import:&lt;br/&gt;
    `import static java.lang.Thread.currentThread;&lt;br/&gt;
    import static org.apache.maven.plugin.surefire.util.DependencyScanner.filter;&lt;br/&gt;
    import static java.util.Collections.singletonMap;`&lt;/p&gt;</comment>
                            <comment id="16145163" author="githubbot" created="Tue, 29 Aug 2017 11:46:45 +0000"  >&lt;p&gt;Github user Tibor17 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r135766258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r135766258&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,31 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScan = new ArrayList();&lt;br/&gt;
    +                Collections.addAll( dependenciesToScan, getDependenciesToScan() );&lt;br/&gt;
    +                TestListResolver includedAndExcludedTests = getIncludedAndExcludedTests();&lt;br/&gt;
    +&lt;br/&gt;
    +                for ( MavenProject mavenProject : session.getSortedProjects() )&lt;br/&gt;
    +                {&lt;br/&gt;
    +                    String groupArtifactId = mavenProject.getGroupId() + &quot;:&quot; + mavenProject.getArtifactId();&lt;br/&gt;
    +                    if ( dependenciesToScan.removeAll( Collections.singleton( groupArtifactId ) ) )&lt;br/&gt;
    +                    &lt;/p&gt;
{
    +                        File outputDirectoryFile = new File( mavenProject.getBuild().getOutputDirectory() );
    +                        DirectoryScanner scanner =
    +                                new DirectoryScanner( outputDirectoryFile, includedAndExcludedTests );
    +                        scanResult = scanResult.append( scanner.scan() );
    +                    }
&lt;p&gt;    +                }&lt;br/&gt;
    +&lt;br/&gt;
                     // @TODO noinspection unchecked, check MavenProject 3.x for Generics in surefire:3.0&lt;br/&gt;
                     @SuppressWarnings( &quot;unchecked&quot; )&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;List&amp;lt;File&amp;gt; dependenciesToScan =&lt;/li&gt;
	&lt;li&gt;DependencyScanner.filter( project.getTestArtifacts(), Arrays.asList( getDependenciesToScan() ) );&lt;/li&gt;
	&lt;li&gt;DependencyScanner scanner = new DependencyScanner( dependenciesToScan, getIncludedAndExcludedTests() );&lt;/li&gt;
	&lt;li&gt;return scanner.scan();&lt;br/&gt;
    +                List&amp;lt;File&amp;gt; dependenciesToScanFile =&lt;br/&gt;
    +                        DependencyScanner.filter( project.getTestArtifacts(), dependenciesToScan );
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Here some artifacts may have classifier `tests`. This means your loop may appear below test artifacts and only those project artifacts (gid:aid:*) should be excluded which appear in `getTestArtifacts()` and scans appended creating one aggregated scan result.&lt;/p&gt;</comment>
                            <comment id="16145175" author="githubbot" created="Tue, 29 Aug 2017 11:59:18 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    It would be easier for you not to rever 569 in this PR but create a new PR from master. I pushed a new fix to master today. The master will be idle for you.&lt;/p&gt;</comment>
                            <comment id="16145225" author="githubbot" created="Tue, 29 Aug 2017 12:48:26 +0000"  >&lt;p&gt;Github user owenfarrell commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#discussion_r135778722&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#discussion_r135778722&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java &amp;#8212;&lt;br/&gt;
    @@ -847,12 +847,31 @@ private DefaultScanResult scanDependencies()&lt;br/&gt;
             {&lt;br/&gt;
                 try&lt;br/&gt;
                 {&lt;br/&gt;
    +                DefaultScanResult scanResult = new DefaultScanResult( Collections.EMPTY_LIST );&lt;br/&gt;
    +                &lt;br/&gt;
    +                List&amp;lt;String&amp;gt; dependenciesToScan = new ArrayList();&lt;br/&gt;
    +                Collections.addAll( dependenciesToScan, getDependenciesToScan() );&lt;br/&gt;
    +                TestListResolver includedAndExcludedTests = getIncludedAndExcludedTests();&lt;br/&gt;
    +&lt;br/&gt;
    +                for ( MavenProject mavenProject : session.getSortedProjects() )&lt;br/&gt;
    +                {&lt;br/&gt;
    +                    String groupArtifactId = mavenProject.getGroupId() + &quot;:&quot; + mavenProject.getArtifactId();&lt;br/&gt;
    +                    if ( dependenciesToScan.removeAll( Collections.singleton( groupArtifactId ) ) )&lt;br/&gt;
    +                    &lt;/p&gt;
{
    +                        File outputDirectoryFile = new File( mavenProject.getBuild().getOutputDirectory() );
    +                        DirectoryScanner scanner =
    +                                new DirectoryScanner( outputDirectoryFile, includedAndExcludedTests );
    +                        scanResult = scanResult.append( scanner.scan() );
    +                    }
&lt;p&gt;    +                }&lt;br/&gt;
    +&lt;br/&gt;
                     // @TODO noinspection unchecked, check MavenProject 3.x for Generics in surefire:3.0&lt;br/&gt;
                     @SuppressWarnings( &quot;unchecked&quot; )&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;List&amp;lt;File&amp;gt; dependenciesToScan =&lt;/li&gt;
	&lt;li&gt;DependencyScanner.filter( project.getTestArtifacts(), Arrays.asList( getDependenciesToScan() ) );&lt;/li&gt;
	&lt;li&gt;DependencyScanner scanner = new DependencyScanner( dependenciesToScan, getIncludedAndExcludedTests() );&lt;/li&gt;
	&lt;li&gt;return scanner.scan();&lt;br/&gt;
    +                List&amp;lt;File&amp;gt; dependenciesToScanFile =&lt;br/&gt;
    +                        DependencyScanner.filter( project.getTestArtifacts(), dependenciesToScan );
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Locally staged updates to reflect your generics comments. But I don&apos;t follow what you&apos;re asking for here.&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;Per the documentation&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#dependenciesToScan&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#dependenciesToScan&lt;/a&gt;), the dependenciesToScan property doesn&apos;t support classifiers - just group ID and artifact ID. So I didn&apos;t add any logic around classifier resolution. Is that what you were expecting?&lt;/p&gt;</comment>
                            <comment id="16145247" author="githubbot" created="Tue, 29 Aug 2017 13:06:09 +0000"  >&lt;p&gt;GitHub user owenfarrell opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Split IT569 in to multiple lifecycles&lt;/p&gt;

&lt;p&gt;    @Tibor17 - Based on &lt;span class=&quot;error&quot;&gt;&amp;#91;your comment&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-325616922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-325616922&lt;/a&gt;), is this in line with your expectations?&lt;/p&gt;

&lt;p&gt;    Refactored test passes based on contents of master.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/owenfarrell/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/owenfarrell/maven-surefire&lt;/a&gt; IT569&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/164.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/164.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #164&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2892ec9778d05f7ecdafe87f0a9714981bdc1237&lt;br/&gt;
Author: Owen Farrell &amp;lt;owen.farrell@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-08-29T12:54:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Split IT569 in to multiple lifecycles&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16145380" author="githubbot" created="Tue, 29 Aug 2017 14:30:01 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think that logic would work for my scenario.&lt;/p&gt;

&lt;p&gt;    For example:&lt;/p&gt;

&lt;p&gt;    1. Create multi-module project with a test runner JAR (a la `org.apache.maven.surefire:surefire-1383:1.0-SNAPSHOT`)&lt;br/&gt;
    2. Recursively run the `install` goal over the multi-module project&lt;br/&gt;
    3. Modify the test runner module (`org.apache.maven.surefire:surefire-1383-runner:1.0-SNAPSHOT`)&lt;br/&gt;
    4. Run the `test` goal over the multi-module project&lt;/p&gt;

&lt;p&gt;    According to your logic, Surefire would prefer the already-installed artifact, effectively ignoring those changes made in step 3. That would put us right back where we started.&lt;/p&gt;

&lt;p&gt;    Using my logic, Surefire would prefer the working copy changes and execute accordingly. Since the existing `DependencyScanner` doesn&apos;t support classifiers as written, I don&apos;t think my approach is introducing any new limitations there.&lt;/p&gt;

&lt;p&gt;    `DependencyScanner.java:114`&lt;br/&gt;
    ```&lt;br/&gt;
    String[] groupArtifact = groups.split( &quot;:&quot; );&lt;br/&gt;
    if ( groupArtifact.length != 2 )&lt;/p&gt;
    {
        throw new IllegalArgumentException(...);
    }
&lt;p&gt;    ```&lt;/p&gt;</comment>
                            <comment id="16147363" author="githubbot" created="Wed, 30 Aug 2017 14:54:17 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    I will try by myself. I will let you know with new branch and we can discuss it.&lt;/p&gt;</comment>
                            <comment id="16149634" author="githubbot" created="Thu, 31 Aug 2017 21:30:25 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    My tests passed on this code. I have to continue to develop and refactor more.&lt;/p&gt;

&lt;p&gt;    List&amp;lt;Artifact&amp;gt; testDepends = project.getTestArtifacts();&lt;br/&gt;
                    removeReactorDependencies( session.getSortedProjects(), testDepends.iterator() );&lt;br/&gt;
                    List&amp;lt;File&amp;gt; dependenciesToScan = filter( testDepends, asList( getDependenciesToScan() ) );&lt;br/&gt;
                    TestListResolver testFilter = getIncludedAndExcludedTests();&lt;/p&gt;

&lt;p&gt;                    DefaultScanResult scanResult =  new DependencyScanner( dependenciesToScan, testFilter ).scan();&lt;/p&gt;

&lt;p&gt;                    for ( MavenProject project : session.getSortedProjects() )&lt;br/&gt;
                    {&lt;br/&gt;
                        if ( !&quot;pom&quot;.equals( project.getPackaging() ) &amp;amp;&amp;amp; !containsProjectArtifact( testDepends, project ) )&lt;br/&gt;
                        {&lt;br/&gt;
                            // zapracuj getDependenciesToScan()&lt;br/&gt;
                            File reactorChildProjectOutputDir = new File( project.getBuild().getOutputDirectory() );&lt;br/&gt;
                            if ( reactorChildProjectOutputDir.isDirectory() )&lt;/p&gt;
                            {
                                DirectoryScanner scanner = new DirectoryScanner( reactorChildProjectOutputDir, testFilter );
                                scanResult = scanResult.append( scanner.scan() );
                            }
&lt;p&gt;                        }&lt;br/&gt;
                    }&lt;/p&gt;
</comment>
                            <comment id="16149718" author="githubbot" created="Thu, 31 Aug 2017 22:31:38 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 I see what you&apos;re going for, that makes sense.&lt;/p&gt;

&lt;p&gt;    I&apos;ve update my PR to just include IT contents now, with an improved IT that emulates a scenario where working copy changes are made (i.e. install a multi-module project, modify the contents to add more tests, test the modified contents).&lt;/p&gt;

&lt;p&gt;    If your solution gets my IT PR to pass, I think the solution will cover my bona fide scenarios.&lt;/p&gt;

</comment>
                            <comment id="16156029" author="githubbot" created="Wed, 6 Sep 2017 21:02:38 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    Sorry I could not have a look. I was busy. Now I want to finish my code and open it for contribution.&lt;/p&gt;</comment>
                            <comment id="16181824" author="githubbot" created="Wed, 27 Sep 2017 01:10:01 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - any updates?&lt;/p&gt;</comment>
                            <comment id="16182905" author="githubbot" created="Wed, 27 Sep 2017 17:03:34 +0000"  >&lt;p&gt;Github user Tibor17 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @owenfarrell &lt;br/&gt;
    Yeah, I have released 2.20.1 and I had to postpone this issue for 2.21.1.&lt;br/&gt;
    OOM was fixed in 2.20.1 and users could not wait longer. This included Java9 support.&lt;br/&gt;
    Java 9 is out and I want to release Surefire 2.21.0.Jigsaw in next few days which has higher priority.&lt;br/&gt;
    And then Surefire 2.21.1 is planed for your and other pull request fixed as well.&lt;br/&gt;
    Then 2.21.2 will fix a blocker issue, and then we will concentrate on 3.0.0.M1 and JUnit5.&lt;br/&gt;
    So this is my plan.&lt;/p&gt;</comment>
                            <comment id="16216980" author="githubbot" created="Tue, 24 Oct 2017 14:21:03 +0000"  >&lt;p&gt;Github user owenfarrell commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Tibor17 - Is this what you were thinking of when you asked to clean up the distinct change sets related to #157?&lt;/p&gt;</comment>
                            <comment id="16437212" author="githubbot" created="Fri, 13 Apr 2018 11:36:39 +0000"  >&lt;p&gt;paulduffin commented on issue #157: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-381108795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-381108795&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Any progress on this?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16437227" author="tibor17" created="Fri, 13 Apr 2018 11:55:00 +0000"  >&lt;p&gt;I will have a look in the weekend. Now I can&apos;t, I am in the office.&lt;/p&gt;

&lt;p&gt;On Fri, Apr 13, 2018 at 1:37 PM, ASF GitHub Bot (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16447365" author="githubbot" created="Sun, 22 Apr 2018 20:44:15 +0000"  >&lt;p&gt;Tibor17 commented on issue #157: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-383410882&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-383410882&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @paulduffin &lt;br/&gt;
   I am just making a clone and trying to dig into this problem again after year.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16460020" author="githubbot" created="Tue, 1 May 2018 19:02:41 +0000"  >&lt;p&gt;Tibor17 commented on issue #157: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-385758575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-385758575&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @owenfarrell  &lt;br/&gt;
   @paulduffin &lt;br/&gt;
   I had this issue in several projects and compared them during the weekend.&lt;br/&gt;
   Today I would write the method `scanDependencies()` in `AbstractSurefireMojo` different way because current change looks error prone. I think I can make your extension a bit more straightforward.&lt;br/&gt;
   Let me try. I want to get this issue fixed in next release.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16464920" author="tibor17" created="Sat, 5 May 2018 22:36:03 +0000"  >&lt;p&gt;Created branch &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/1383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/1383&lt;/a&gt;&lt;br/&gt;
CI running in &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-surefire/job/1383/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-surefire/job/1383/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16464921" author="githubbot" created="Sat, 5 May 2018 22:38:00 +0000"  >&lt;p&gt;Tibor17 commented on issue #157: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-386839993&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-386839993&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @owenfarrell &lt;br/&gt;
   @paulduffin &lt;br/&gt;
   I have finished the implementation in the branch `1383` but I changed the algorithm in `AbstractSurefireMojo`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16469871" author="tibor17" created="Thu, 10 May 2018 03:22:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=2d9b1707b57af58c323493229573735c7f81e6d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=2d9b1707b57af58c323493229573735c7f81e6d1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16469872" author="githubbot" created="Thu, 10 May 2018 03:24:45 +0000"  >&lt;p&gt;Tibor17 commented on issue #157: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt; dependenciesToScan Does Not Leverage Classpath Elements&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/157#issuecomment-387940702&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/157#issuecomment-387940702&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @owenfarrell &lt;br/&gt;
   This feature was merged and will be released in version 2.22.0. You can close the PR.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16469873" author="githubbot" created="Thu, 10 May 2018 03:25:07 +0000"  >&lt;p&gt;Tibor17 commented on issue #164: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1383&quot; title=&quot;dependenciesToScan Does Not Leverage Classpath Elements &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1383&quot;&gt;&lt;del&gt;SUREFIRE-1383&lt;/del&gt;&lt;/a&gt;: Split IT569 in to multiple lifecycles&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/164#issuecomment-387940764&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/164#issuecomment-387940764&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @owenfarrell &lt;br/&gt;
   This feature was merged and will be released in version 2.22.0. You can close the PR.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17994778" author="olamy" created="Fri, 4 Jul 2025 07:28:15 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2310&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2310&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12871743" name="scanned-dependencies-sample.zip" size="14525" author="owen.farrell" created="Wed, 7 Jun 2017 01:41:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fyjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>