<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-996] &lt;system-out&gt; and &lt;system-err&gt; content of junit xml report are not escaped</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-996</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Some of my junit xml report are not correctly generated :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;system-out&amp;gt;15:24:59.565 [pool-1-thread-5] INFO  c.s.a.i.c.s.api.PartnerServicesUtils - Profile &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; 
&amp;lt;/system-out&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &amp;lt; and &amp;gt; in &quot;&amp;lt;null&amp;gt;&quot; are not escaped.&lt;/p&gt;

&lt;p&gt;If I look at maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/StatelessXmlReporter.java&lt;br/&gt;
code, I think the bug is here :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        addOutputStreamElement( outputStreamWriter, fw, eos, ppw, report.getStdout(), &lt;span class=&quot;code-quote&quot;&gt;&quot;system-out&quot;&lt;/span&gt; );

        addOutputStreamElement( outputStreamWriter, fw, eos, ppw, report.getStdErr(), &lt;span class=&quot;code-quote&quot;&gt;&quot;system-err&quot;&lt;/span&gt; );

        ppw.endElement(); &lt;span class=&quot;code-comment&quot;&gt;// test element
&lt;/span&gt;    }
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void addOutputStreamElement( OutputStreamWriter outputStreamWriter, OutputStream fw, EncodingOutputStream eos, XMLWriter xmlWriter, DeferredFileOutputStream stdOut,
                                         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name )
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( stdOut != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; stdOut.getByteCount() &amp;gt; 0 )
        {

            xmlWriter.startElement( name );

            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                xmlWriter.writeText( &quot;&quot; ); &lt;span class=&quot;code-comment&quot;&gt;// Cheat sax to emit element
&lt;/span&gt;                outputStreamWriter.flush();
                stdOut.close();
                stdOut.writeTo( eos );
                eos.flush();
            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( IOException e )
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ReporterException( &lt;span class=&quot;code-quote&quot;&gt;&quot;When writing xml report stdout/stderr&quot;&lt;/span&gt;, e );
            }
            xmlWriter.endElement();
        }
    }


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and probably introduced by this commit : &lt;br/&gt;
commit 33e110fc46aa43d10b38a93b3db74c09be6bc6d5&lt;br/&gt;
Author: Kristian Rosenvold &amp;lt;krosenvold@apache.org&amp;gt;&lt;br/&gt;
Date:   Thu May 2 20:53:27 2013 +0200&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-938&quot; title=&quot;out of memory when logging more messages than heap size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-938&quot;&gt;&lt;del&gt;SUREFIRE-938&lt;/del&gt;&lt;/a&gt; Removed memory binding for stdout/stderr capture.&lt;/p&gt;</description>
                <environment>maven 3.0.4&lt;br/&gt;
surefire 2.15-SNAPSHOT (from apache snashot repo)</environment>
        <key id="12810557">SUREFIRE-996</key>
            <summary>&lt;system-out&gt; and &lt;system-err&gt; content of junit xml report are not escaped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="vrm">Julien Vermillard</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 May 2013 10:03:15 +0000</created>
                <updated>Fri, 4 Jul 2025 07:20:58 +0000</updated>
                            <resolved>Tue, 28 May 2013 12:16:54 +0000</resolved>
                                    <version>2.15</version>
                                    <fixVersion>2.15</fixVersion>
                                    <component>Junit 4.7+ (parallel) support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14455881" author="vrm" created="Wed, 15 May 2013 10:09:58 +0000"  >&lt;p&gt;added test-case&lt;/p&gt;</comment>
                            <comment id="14455857" author="krosenvold" created="Tue, 28 May 2013 12:16:54 +0000"  >&lt;p&gt;Fixed in adef628b0ed83de66a3c4e1259150c5770a87694, thanks for the test case!&lt;/p&gt;</comment>
                            <comment id="14455942" author="todorst" created="Fri, 12 Jul 2013 08:47:20 +0000"  >&lt;p&gt;&amp;lt;system-out&amp;gt; and &amp;lt;system-err&amp;gt; content is still wrong. The illegal characters handling from &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-456&quot; title=&quot;Surefire doubly XML-escapes non-visible control characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-456&quot;&gt;&lt;del&gt;SUREFIRE-456&lt;/del&gt;&lt;/a&gt; doesn&apos;t work since version 2.15 and generates illegal XML file. The problem is that the illegal character is not converted to its string representation (e.g. 0 -&amp;gt; &quot;0&quot;) before OutputStream#write invocation.&lt;/p&gt;

&lt;p&gt;This patch extends the test case including illegal characters in system-out and system-err content. It also includes possible fix for this issue.&lt;/p&gt;</comment>
                            <comment id="14456037" author="todorst" created="Wed, 17 Jul 2013 04:17:11 +0000"  >&lt;p&gt;Since this issue has already been closed, I am not sure what to do?! Should I open another issue like &quot;Wrong XML illegal characters escape in &amp;lt;system-out&amp;gt; and &amp;lt;system-err&amp;gt; content&quot;, or there is a way to reopen it. The patch I submitted is based on the last development version. Please let me know if you need patch based on version 2.15.&lt;/p&gt;</comment>
                            <comment id="14455865" author="krosenvold" created="Thu, 18 Jul 2013 15:03:16 +0000"  >&lt;p&gt;You should test 2.16-SNAPSHOT, since we&apos;ve had quite a few other reports of this and will be releasing 2.16 &quot;soon&quot;. let us know if your problem still applies to 2.16-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="14455944" author="todorst" created="Tue, 23 Jul 2013 10:14:49 +0000"  >&lt;p&gt;I tested 2.14.1, 2.15 and 2.16-SNAPSHOT. The patch is actually for the latest source code (i.e. 2.16-SNAPSHOT)&lt;br/&gt;
The problem was introduced in 2.15 and it still exists. Should I open another bug report for 2.16?&lt;/p&gt;</comment>
                            <comment id="14456016" author="todorst" created="Wed, 31 Jul 2013 03:42:47 +0000"  >&lt;p&gt;Created a new issue for 2.16 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1020&quot; title=&quot;Incorrect XML escape in &amp;lt;system-out&amp;gt; and &amp;lt;system-err&amp;gt; content of junit xml report&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1020&quot;&gt;&lt;del&gt;SUREFIRE-1020&lt;/del&gt;&lt;/a&gt;) and attached the patch with the fix and test case. Hope that this will help to fix it in 2.16.&lt;/p&gt;</comment>
                            <comment id="17994397" author="olamy" created="Fri, 4 Jul 2025 07:20:58 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1637&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1637&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12810449">SUREFIRE-998</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12720276" name="0001-added-test-case-for-SUREFIRE-996.patch" size="2081" author="" created="Wed, 15 May 2013 10:09:58 +0000"/>
                            <attachment id="12720360" name="extended-test-case-for-SUREFIRE-996.patch" size="2880" author="todorst" created="Fri, 12 Jul 2013 08:47:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bb9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>