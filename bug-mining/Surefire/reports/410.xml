<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1080] Use parallel and fork together run some tests multiple times</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1080</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;There are 9 tests in total in the attached project, and mvn test will show 9 tests run. When I use the command &quot; mvn test  -Dparallel=classes -DforkCount=2   -DuseUnlimitedThreads=true&quot;, it shows 13 tests run (and sometimes 16), and some tests are run more than once.&lt;/p&gt;

&lt;p&gt;If I remove forkCount, or parallel, everything will be fine. But it is problematic when combining together.&lt;/p&gt;

&lt;p&gt;Apache Maven 3.2.2-SNAPSHOT&lt;br/&gt;
Surefire 2.18-SNAPSHOT&lt;br/&gt;
JUnit 4.11&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment>Apache Maven 3.2.2-SNAPSHOT&lt;br/&gt;
Surefire 2.18-SNAPSHOT&lt;br/&gt;
JUnit 4.11</environment>
        <key id="12810477">SUREFIRE-1080</key>
            <summary>Use parallel and fork together run some tests multiple times</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="seriousamlqz">Qingzhou Luo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jun 2014 18:07:56 +0000</created>
                <updated>Fri, 4 Jul 2025 07:22:32 +0000</updated>
                            <resolved>Sat, 11 Oct 2014 05:07:46 +0000</resolved>
                                                    <fixVersion>2.18</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14456193" author="seriousamlqz" created="Thu, 5 Jun 2014 18:29:44 +0000"  >&lt;p&gt;I should state that I built maven surefire on my own machine, so the version is 2.18-SNAPSHOT. If you didn&apos;t do that you can change it to 2.17 in the pom.xml and it would still reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="14456247" author="tibor17" created="Fri, 29 Aug 2014 17:54:42 +0000"  >&lt;p&gt;@Qingzhou Luo&lt;br/&gt;
Can you meanwhile test it with surefire-2.15.&lt;br/&gt;
Was the behavior same?&lt;/p&gt;</comment>
                            <comment id="14456246" author="tibor17" created="Sun, 31 Aug 2014 08:36:02 +0000"  >&lt;p&gt;@Qingzhou Luo&lt;br/&gt;
It works if you set reuseForks=false which makes more sense to me in parallel exec of processes.&lt;br/&gt;
Anyway it is a bug. I will try to fix it in 2.18.&lt;/p&gt;</comment>
                            <comment id="14456090" author="agudian" created="Mon, 1 Sep 2014 15:29:49 +0000"  >&lt;p&gt;parallel=classes and forkCount&amp;gt;1 with reuseForks=true is not supposed to work. The forked processes are fed with one new class to execute as soon as they finished their previous class (note: that&apos;s only the case for forkCount&amp;gt;1 and reuseForks=true). With the forked process only having one class at hand at a given time, it is not supposed to spawn threads to execute classes in parallel.&lt;br/&gt;
@Tibor: I hope that helps you figuring out what happens here... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456233" author="tibor17" created="Mon, 1 Sep 2014 18:01:26 +0000"  >&lt;p&gt;Hi Andreas,&lt;br/&gt;
I was debugging this configuration and I got 4 classes in the lazy-loop in JUnitCoreWrapper.&lt;br/&gt;
Th parallel computer was reused in every iteration, which is I think my fault. The PC is caching Runners so I should create new PC instance in every next iteration.&lt;br/&gt;
We may talk about the details on the email more.&lt;/p&gt;</comment>
                            <comment id="14456239" author="tibor17" created="Fri, 10 Oct 2014 16:52:57 +0000"  >&lt;p&gt;Fixed in&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/56&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/56&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456336" author="tibor17" created="Sat, 11 Oct 2014 05:07:46 +0000"  >&lt;p&gt;Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/f961485f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/f961485f&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17994480" author="olamy" created="Fri, 4 Jul 2025 07:22:32 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1545&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1545&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720343" name="test.tgz" size="1758" author="seriousamlqz" created="Thu, 5 Jun 2014 18:07:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bfsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>