<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:12:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1159] JUnit47 runner failing in parallel mode</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1159</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;JUnit47 runner failing in parallel mode. Due to some reason at TestSet.java:115 it evaluates isJunit3 = true and trying to get first children of empty TestSetDescription &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project kotlinx.css: ExecutionException: java.lang.RuntimeException: There was an error in the forked process
[ERROR] org.apache.maven.surefire.testset.TestSetFailedException: java.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
[ERROR] at org.apache.maven.surefire.common.junit4.JUnit4RunListener.rethrowAnyTestMechanismFailures(JUnit4RunListener.java:213)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:109)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeLazy(JUnitCoreWrapper.java:89)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:58)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:144)
[ERROR] at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
[ERROR] at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
[ERROR] at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
[ERROR] Caused by: java.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
[ERROR] at org.apache.maven.surefire.junitcore.TestSet.replay(TestSet.java:100)
[ERROR] at org.apache.maven.surefire.junitcore.ConcurrentRunListener.testSetCompleted(ConcurrentRunListener.java:82)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreRunListener.testRunFinished(JUnitCoreRunListener.java:73)
[ERROR] at org.junit.runner.notification.SynchronizedRunListener.testRunFinished(SynchronizedRunListener.java:42)
[ERROR] at org.junit.runner.notification.RunNotifier$2.notifyListener(RunNotifier.java:103)
[ERROR] at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)
[ERROR] at org.junit.runner.notification.RunNotifier.fireTestRunFinished(RunNotifier.java:100)
[ERROR] at org.junit.runner.JUnitCore.run(JUnitCore.java:138)
[ERROR] at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
[ERROR] at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:108)
[ERROR] ... 6 more
[ERROR] Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
[ERROR] at java.util.ArrayList.rangeCheck(ArrayList.java:653)
[ERROR] at java.util.ArrayList.get(ArrayList.java:429)
[ERROR] at org.apache.maven.surefire.junitcore.TestSet.createReportEntry(TestSet.java:115)
[ERROR] at org.apache.maven.surefire.junitcore.TestSet.replay(TestSet.java:74)
[ERROR] ... 15 more
[ERROR] -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12832335">SUREFIRE-1159</key>
            <summary>JUnit47 runner failing in parallel mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="Sergey.Mashkov">Sergey Mashkov</reporter>
                        <labels>
                            <label>parallel</label>
                    </labels>
                <created>Sat, 23 May 2015 09:48:59 +0000</created>
                <updated>Fri, 4 Jul 2025 07:23:47 +0000</updated>
                            <resolved>Tue, 26 May 2015 21:55:49 +0000</resolved>
                                    <version>2.18.1</version>
                                    <fixVersion>2.19</fixVersion>
                                    <component>Junit 4.7+ (parallel) support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14557389" author="tibor17" created="Sat, 23 May 2015 15:38:46 +0000"  >&lt;p&gt;If the has to do with JMM and ArrayList in JUnit Description, you would not be able to reproduce this issue always.&lt;br/&gt;
Can you send us test project where we will reproduce this issue?&lt;/p&gt;</comment>
                            <comment id="14557400" author="tibor17" created="Sat, 23 May 2015 15:49:20 +0000"  >&lt;p&gt;Do you use JUnit 4.12 ?&lt;br/&gt;
There is thread-safe impl with SynchronizedRunListener and Description class.&lt;/p&gt;</comment>
                            <comment id="14558080" author="sergey.mashkov" created="Mon, 25 May 2015 09:55:58 +0000"  >&lt;p&gt;Yes, it is 4.12. However I believe the root case is inside custom JUnit Runner. In spite of I still think the mentioned line that checking junit version looks incorrect and should be done another way&lt;/p&gt;</comment>
                            <comment id="14558262" author="tibor17" created="Mon, 25 May 2015 13:37:10 +0000"  >&lt;p&gt;Can you send us test project where we will reproduce this issue?&lt;br/&gt;
How often it happens?&lt;br/&gt;
Do you use your own runner implementations ?&lt;/p&gt;</comment>
                            <comment id="14558505" author="tibor17" created="Mon, 25 May 2015 20:33:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cy6ergn0m&quot; class=&quot;user-hover&quot; rel=&quot;cy6ergn0m&quot;&gt;cy6ergn0m&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sergey.Mashkov&quot; class=&quot;user-hover&quot; rel=&quot;Sergey.Mashkov&quot;&gt;Sergey.Mashkov&lt;/a&gt;&lt;br/&gt;
Possible root cause is that your test case does not have any test methods.&lt;br/&gt;
Pls confirm real root cause and we can easier fix this issue in next release 2.19.&lt;/p&gt;</comment>
                            <comment id="14558535" author="sergey.mashkov" created="Mon, 25 May 2015 21:34:42 +0000"  >&lt;p&gt;Yes, it is caused by custom runner so it is JMM visibility issue causes tests list to be empty. And it need to be fixed on custom runner side, not at surefire side. However I believe presence of tests list is not a flag to be used to detect JUnit version so I guess something should be done at TestSet.java:115 anyway.&lt;/p&gt;

&lt;p&gt;To reproduce it see &lt;a href=&quot;https://github.com/cy6erGn0m/kotlinx.css/tree/SUREFIRE-1159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cy6erGn0m/kotlinx.css/tree/SUREFIRE-1159&lt;/a&gt;     (notice branch name)&lt;br/&gt;
If I use forkCount=N instead of parallel mode, or disable concurrent execution at all then issue disappear.&lt;/p&gt;</comment>
                            <comment id="14558987" author="tibor17" created="Tue, 26 May 2015 11:24:00 +0000"  >&lt;p&gt;I would like to fix it in the way that empty list of children in Description would not throw exception.&lt;br/&gt;
I don&apos;t see custom runner  in your sources. Can you check that Description#toString() returns class name if Description#getChildren() is empty?&lt;br/&gt;
Thx&lt;/p&gt;</comment>
                            <comment id="14559007" author="sergey.mashkov" created="Tue, 26 May 2015 11:54:18 +0000"  >&lt;p&gt;Custom runner is inside Spek implementation&lt;/p&gt;</comment>
                            <comment id="14559050" author="tibor17" created="Tue, 26 May 2015 12:20:03 +0000"  >&lt;p&gt;As a hint you may remove slash from the repo id:&lt;br/&gt;
&amp;lt;id&amp;gt;repository.jetbrains.com/spek&amp;lt;/id&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Some problems were encountered while building the effective model for org.jetbrains.kotlinx:kotlinx.css:jar:1.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &apos;repositories.repository.id&apos; must not contain any of these characters \/:&quot;&amp;lt;&amp;gt;|?* but found / @ line 101, column 17&lt;/p&gt;


</comment>
                            <comment id="14559896" author="tibor17" created="Tue, 26 May 2015 21:22:02 +0000"  >&lt;p&gt;I&apos;ve got the fix, and waiting for internal tests to pass...&lt;/p&gt;</comment>
                            <comment id="14559936" author="tibor17" created="Tue, 26 May 2015 21:46:30 +0000"  >&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-surefire-plugin:2.19-SNAPSHOT:test (default-test) @ kotlinx.css &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: d:\vcs\cy6erGn0m\kotlinx.css-&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1159&quot; title=&quot;JUnit47 runner failing in parallel mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1159&quot;&gt;&lt;del&gt;SUREFIRE-1159&lt;/del&gt;&lt;/a&gt;\target\surefire-reports&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; parallel=&apos;classes&apos;, perCoreThreadCount=true, threadCount=8, useUnlimitedThreads=false, threadCountSuites=0, threadC&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running it should build tag.style#id selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build tag.style#id selector&lt;br/&gt;
Running it should build .style#id selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build .style#id selector&lt;br/&gt;
Running it should generate tag selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in it should generate tag selector&lt;br/&gt;
Running it should build a:not(&lt;span class=&quot;error&quot;&gt;&amp;#91;href&amp;#93;&lt;/span&gt;) selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build a:not(&lt;span class=&quot;error&quot;&gt;&amp;#91;href&amp;#93;&lt;/span&gt;) selector&lt;br/&gt;
Running it should build tag#id selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in it should build tag#id selector&lt;br/&gt;
Running it should build a:hover selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in it should build a:hover selector&lt;br/&gt;
Running it should build #id selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build #id selector&lt;br/&gt;
Running it should build @media &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: { div }&lt;/span&gt; &lt;p&gt; selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build @media &lt;/p&gt;&lt;/div&gt;
&lt;p&gt; selector&lt;br/&gt;
Running it should build .style selector&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in it should build .style selector&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 9, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14559947" author="tibor17" created="Tue, 26 May 2015 21:55:49 +0000"  >&lt;p&gt;commit 205aba6f701527f8bb05f9592f043d9952d8566d&lt;/p&gt;</comment>
                            <comment id="14562843" author="sergey.mashkov" created="Thu, 28 May 2015 12:52:29 +0000"  >&lt;p&gt;So cool, thanks for fast response and fix&lt;/p&gt;</comment>
                            <comment id="17994545" author="olamy" created="Fri, 4 Jul 2025 07:23:47 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2528&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f4wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>