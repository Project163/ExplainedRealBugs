<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1023] Report generation fails with StringIndexOutOfBoundsException</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1023</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When Maven generating report for big project (3K+ junit tests) getting the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [exec] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15:report (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project ana_classes: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli of goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15:report failed: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1 -&amp;gt; [Help 1]
     [exec] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15:report (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project ana_classes: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli of goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15:report failed: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
     [exec] 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:225)
     [exec] 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
     [exec] 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
     [exec] 	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
     [exec] 	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
     [exec] 	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
     [exec] 	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
     [exec] 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
     [exec] 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
     [exec] 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
     [exec] 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
     [exec] 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
     [exec] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [exec] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
     [exec] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
     [exec] 	at java.lang.reflect.Method.invoke(Method.java:597)
     [exec] 	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
     [exec] 	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
     [exec] 	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
     [exec] 	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
     [exec] Caused by: org.apache.maven.plugin.PluginExecutionException: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli of goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15:report failed: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
     [exec] 	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:110)
     [exec] 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
     [exec] 	... 19 more
     [exec] Caused by: java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
     [exec] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.substring(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:1937)
     [exec] 	at org.apache.maven.plugins.surefire.report.SurefireReportGenerator.getErrorLineNumber(SurefireReportGenerator.java:677)
     [exec] 	at org.apache.maven.plugins.surefire.report.SurefireReportGenerator.constructFailureDetails(SurefireReportGenerator.java:640)
     [exec] 	at org.apache.maven.plugins.surefire.report.SurefireReportGenerator.doGenerateReport(SurefireReportGenerator.java:104)
     [exec] 	at org.apache.maven.plugins.surefire.report.AbstractSurefireReportMojo.executeReport(AbstractSurefireReportMojo.java:184)
     [exec] 	at org.apache.maven.reporting.AbstractMavenReport.generate(AbstractMavenReport.java:190)
     [exec] 	at org.apache.maven.reporting.AbstractMavenReport.execute(AbstractMavenReport.java:99)
     [exec] 	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
     [exec] 	... 20 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Linux with Maven 3.0.5</environment>
        <key id="12809576">SUREFIRE-1023</key>
            <summary>Report generation fails with StringIndexOutOfBoundsException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="agudian">Andreas Gudian</assignee>
                                    <reporter username="pavel.orehov">Pavel Orehov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 02:26:30 +0000</created>
                <updated>Fri, 4 Jul 2025 07:21:29 +0000</updated>
                            <resolved>Thu, 25 Sep 2014 14:09:54 +0000</resolved>
                                    <version>2.15</version>
                                    <fixVersion>2.18</fixVersion>
                                    <component>Maven Surefire Report Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14455964" author="agudian" created="Fri, 16 Aug 2013 02:49:44 +0000"  >&lt;p&gt;Thanks for the report!&lt;/p&gt;

&lt;p&gt;Any chance you can add the TEST-*.xml that can not be read correctly?&lt;/p&gt;</comment>
                            <comment id="14456048" author="pavel.orehov" created="Fri, 16 Aug 2013 03:00:30 +0000"  >&lt;p&gt;Not sure that I can share all 3K+ test XMLs.&lt;br/&gt;
Is there is a way to identify problematic one ?&lt;/p&gt;</comment>
                            <comment id="14455924" author="agudian" created="Fri, 16 Aug 2013 03:04:44 +0000"  >&lt;p&gt;You could get the sources (e.g. by forking from Github), open them in your IDE, run the build in the shell with &lt;tt&gt;mvnDebug ...&lt;/tt&gt; instead of &lt;tt&gt;mvn ...&lt;/tt&gt; and connect your IDE to that &quot;remote debugging&quot; session - then you can add an Exception breakpoint and there you go. That&apos;s what I would have to do, as well. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456018" author="pavel.orehov" created="Mon, 19 Aug 2013 04:55:16 +0000"  >&lt;p&gt;Sorry, but I can&apos;t provide you specific information with such number of tests:&lt;br/&gt;
Tests run: 5273, Failures: 119, Errors: 2784, Skipped: 44&lt;/p&gt;

&lt;p&gt;Anyway. I think it worth to handle that error case, print an error message, and continue with valid reports creation.&lt;/p&gt;</comment>
                            <comment id="14456178" author="tibor17" created="Fri, 29 Aug 2014 16:18:33 +0000"  >&lt;p&gt;@Pavel Orehov&lt;br/&gt;
Can you provide the TEST-.xml files.&lt;br/&gt;
The best would be to have the problematic report file only.&lt;br/&gt;
Can you debug the code as Andreas proposed?&lt;br/&gt;
There is only a guess that stack has an empty string, but it can be any other fault as well.&lt;/p&gt;</comment>
                            <comment id="14456093" author="agudian" created="Thu, 25 Sep 2014 14:09:54 +0000"  >&lt;p&gt;I took a shot and I&apos;m pretty sure I&apos;ve hit it. My guess is, that Pavel uses some test framework (cucumber or something like that) that creates its own type of failure stack traces with lines that do not end with &lt;tt&gt;..:&amp;lt;lineNumber&amp;gt;)&lt;/tt&gt;, as the typical Java stack traces do.&lt;/p&gt;

&lt;p&gt;@Pavel, if possible, try the latest surefire 2.18-SNAPSHOT build to check if the issue is fixed for you.&lt;/p&gt;</comment>
                            <comment id="17994424" author="olamy" created="Fri, 4 Jul 2025 07:21:29 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1571&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2beq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>