<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:07:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-459] Integration test using Jetty and JSP 2.1 fails after update to maven-surefire-plugin 2.4</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-459</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We have an integration test running in a Struts 2 sample application, and after the maven-surefire-plugin was updated from 2.3 to 2.4, the test is failing. There&apos;s an issue registered in the Struts 2 JIRA explaining the error: &lt;a href=&quot;https://issues.apache.org/struts/browse/WW-2494&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/struts/browse/WW-2494&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have no idea what&apos;s causing the error, but I suspect it has something to do witn classloader configuration, as aparently no tld files are found inside the jar files on the classpath.&lt;/p&gt;

&lt;p&gt;It should be pretty easy to reproduce. Just checkout the Struts 2 code and run &apos;mvn test&apos; on the portlet example application.&lt;/p&gt;</description>
                <environment>Maven 2.0.8, Windows XP</environment>
        <key id="12810131">SUREFIRE-459</key>
            <summary>Integration test using Jetty and JSP 2.1 fails after update to maven-surefire-plugin 2.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dfabulich">Daniel Fabulich</assignee>
                                    <reporter username="nilsga">Nils-Helge Garli</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Feb 2008 14:35:00 +0000</created>
                <updated>Fri, 4 Jul 2025 07:09:41 +0000</updated>
                            <resolved>Thu, 27 Mar 2008 19:31:23 +0000</resolved>
                                    <version>2.4</version>
                    <version>2.4.1</version>
                                    <fixVersion>2.4.3</fixVersion>
                                    <component>classloading</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14454262" author="dfabulich" created="Tue, 19 Feb 2008 22:29:51 +0000"  >&lt;p&gt;Rather than just grabbing the current latest (which might be broken for some other reason), could you give me a specific SVN URL and revision number to pull down?&lt;/p&gt;

&lt;p&gt;Prior to knowing anything else about your failing test, I might suggest that you take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-453&quot; title=&quot;unable to run spring/jpa/dao test with derby starting with surefire 2.4.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-453&quot;&gt;&lt;del&gt;SUREFIRE-453&lt;/del&gt;&lt;/a&gt; and try configuring 2.4 with useSystemClassLoader=false.&lt;/p&gt;</comment>
                            <comment id="14454297" author="nilsga" created="Tue, 19 Feb 2008 23:32:24 +0000"  >&lt;p&gt;Sorry for not beeing more specific. Anyway, it appears that this has been resolved in the 2.4.2-SNAPSHOT. I will re-test it when 2.4.2 is released to make sure it&apos;s still ok.&lt;/p&gt;</comment>
                            <comment id="14454205" author="dfabulich" created="Tue, 19 Feb 2008 23:56:17 +0000"  >&lt;p&gt;Marking Fixed&lt;/p&gt;</comment>
                            <comment id="14454256" author="dfabulich" created="Thu, 27 Mar 2008 19:03:05 +0000"  >&lt;p&gt;We just found a repro case for this at Redfin.  I&apos;ll attach a sample that repro&apos;s the problem.&lt;/p&gt;</comment>
                            <comment id="14454282" author="dfabulich" created="Thu, 27 Mar 2008 19:31:23 +0000"  >&lt;p&gt;Fixed in revision 642046.  By default forkMode=once and useSystemclassloader=true, which causes us to launch the tests using a a manifest-only jar; this confuses Jetty when it uses the system property &quot;java.class.path&quot; to javac to compile JSPs.&lt;/p&gt;

&lt;p&gt;Fixed by deliberately &quot;faking out&quot; the java.class.path, setting it to what the classpath would have been if we&apos;d launched the app in a conventional way.  This also has the benefit of more generally insulating our users from the manifest-only jar; java.class.path will look &quot;normal&quot; now.&lt;/p&gt;

&lt;p&gt;In the short term, there is an easy workaround for this, which is to set useSystemClassLoader=false.  (My initial guess was correct.)&lt;/p&gt;</comment>
                            <comment id="14454389" author="cbeams" created="Wed, 3 Sep 2008 13:23:05 +0000"  >&lt;p&gt;It appears that I&apos;ve just reproduced this bug against 2.4.3.  I&apos;ve tried the &apos;useSystemClassLoader=false&apos; workaround, and it exposes a different problem.  Unfortunately this issue is &apos;closed&apos; and so cannot be re-opened.  Shall I create a new issue?&lt;/p&gt;

&lt;p&gt;At any rate, here are the repro steps:&lt;/p&gt;

&lt;p&gt;1) Check out, build and test Spring JavaConfig&apos;s petclinic sample:&lt;/p&gt;

&lt;p&gt;svn co -r 789 &lt;a href=&quot;https://src.springframework.org/svn/spring-javaconfig/trunk/samples/org.springframework.config.java.samples.petclinic&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://src.springframework.org/svn/spring-javaconfig/trunk/samples/org.springframework.config.java.samples.petclinic&lt;/a&gt; petclinic&lt;br/&gt;
cd petclinic&lt;br/&gt;
mvn clean test&lt;/p&gt;


&lt;p&gt;2) Notice that there are two test failures:&lt;/p&gt;

&lt;p&gt;Tests in error: &lt;br/&gt;
  testIndex(test.web.InContainerTests)&lt;br/&gt;
  testFindOwners(test.web.InContainerTests)&lt;/p&gt;


&lt;p&gt;The cause of both these issues is the following:&lt;/p&gt;

&lt;p&gt;Error 500 /WEB-INF/jsp/includes.jsp(1,70) PWC6188: The absolute uri: &lt;a href=&quot;http://www.springframework.org/tags&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/tags&lt;/a&gt; cannot be resolved in either web.xml or the jar files deployed with this application&lt;/p&gt;

&lt;p&gt;As mentioned above, downgrading to 2.3 does work - the tests pass once I do this.  (See revision 790 of the above to confirm).&lt;/p&gt;</comment>
                            <comment id="14454294" author="dfabulich" created="Wed, 3 Sep 2008 17:26:29 +0000"  >&lt;p&gt;Yes, file a separate issue.  But before you do, be sure to read this: &lt;a href=&quot;http://maven.apache.org/plugins/maven-surefire-plugin/examples/class-loading.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/plugins/maven-surefire-plugin/examples/class-loading.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17993799" author="olamy" created="Fri, 4 Jul 2025 07:09:41 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1370&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1370&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bcu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>