<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:10:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-912] A NPE is thrown when some test case fails in the ConcurrentReporterManager</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-912</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When using JUnit categories for testing some of the tests that fail will result in a NULL pointer exception being thrown from the ConcurrentReporterManager class and this breaks the surefire plugin execution so the tests that follow this will not get executed anymore.&lt;/p&gt;

&lt;p&gt;The root cause of the problem is that in the testFailed method the getOrCreateTestMethod method is called which on one of the flows returns null which is not treated in the testFailed method and gives a null pointer exception.&lt;/p&gt;

&lt;p&gt;I&apos;ve created a patch for this issue in which I&apos;ve modified the testFailed and the testAssumptionFailure methods to treat nicely the case when null is returned from getOrCreateTestMethod.&lt;/p&gt;

&lt;p&gt;I&apos;ve also attached the log file with the exception.&lt;/p&gt;

&lt;p&gt;I have not included any test because this issue happens randomly not on a particular test case.&lt;/p&gt;</description>
                <environment>Windows 7&lt;br/&gt;
</environment>
        <key id="12809909">SUREFIRE-912</key>
            <summary>A NPE is thrown when some test case fails in the ConcurrentReporterManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="vazzolla">Cristian Vazzolla</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Sep 2012 07:45:16 +0000</created>
                <updated>Fri, 4 Jul 2025 07:19:18 +0000</updated>
                            <resolved>Fri, 21 Sep 2012 15:18:06 +0000</resolved>
                                                    <fixVersion>2.12.4</fixVersion>
                                    <component>Junit 4.7+ (parallel) support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14455474" author="vazzolla" created="Fri, 21 Sep 2012 07:47:45 +0000"  >&lt;p&gt;Could the patch be applied and an internal/ intermediary release could be done so that we can use JUnit categories with Surefire ?&lt;br/&gt;
As for now we are blocked because of this issue.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Cristian&lt;/p&gt;</comment>
                            <comment id="14455564" author="krosenvold" created="Fri, 21 Sep 2012 15:18:07 +0000"  >&lt;p&gt;Fixed in  9c6abc2acf75e93f01596683a60c426810c7e7ee, thanks for the patch !&lt;/p&gt;

&lt;p&gt;2.12.4 coming &quot;soon&quot;&lt;/p&gt;</comment>
                            <comment id="14455475" author="zalavaari" created="Fri, 12 Oct 2012 07:29:14 +0000"  >&lt;p&gt;We experience a very similar problem in 2.12.4. I attached the logs.&lt;/p&gt;</comment>
                            <comment id="14455451" author="vazzolla" created="Fri, 12 Oct 2012 14:46:15 +0000"  >&lt;p&gt;Hi Mark,&lt;/p&gt;

&lt;p&gt;After a first look at the code it seems that the getTestSet can also return null, which is not checked for null in the testStarting method. But for the root cause a more in depth investigation should be done. Maybe it would help if you could provide a step by step scenario for reproducing this issue; I could take a more in depth look at this issue if you can provide the scenario as I had a look at the code a few weeks ago, if it is ok with Kristian R.. &lt;/p&gt;

&lt;p&gt;Regarding our own use of Maven Surefire I haven&apos;t had any issue (no NPE) after the fix was applied but I haven&apos;t used the 2.12.4 release yet, I have been using just an internal release and I intended to move to 2.12.4 just these days.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Cristian  &lt;/p&gt;</comment>
                            <comment id="17994307" author="olamy" created="Fri, 4 Jul 2025 07:19:18 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1708&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720302" name="ConcurrentReporterManager.patch" size="1178" author="vazzolla" created="Fri, 21 Sep 2012 07:45:16 +0000"/>
                            <attachment id="12720332" name="log_bug_surefire.txt" size="2684" author="vazzolla" created="Fri, 21 Sep 2012 07:45:16 +0000"/>
                            <attachment id="12720211" name="log_bug_surefire2.txt" size="3245" author="zalavaari" created="Fri, 12 Oct 2012 07:29:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bf6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>