<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:13:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1301] baseDir system-property gets overridden by other builder threads if forking is disabled</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1301</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When running tests in a multi-module project with multiple builder threads and surefire&apos;s forkCount set to 0, the threads override each other when setting the baseDir system-property.&lt;/p&gt;


&lt;p&gt;Running the &lt;a href=&quot;https://cloud.almost-a-blog.net/s/IHS63tBqowjhvBh/download&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sample project&lt;/a&gt; results in the below output with the given commands.&lt;br/&gt;
(Note: First number is the expected path. e.g. 11 =&amp;gt; wrapper1; module1)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Correct&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install | grep basedir
01 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module1
02 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module2
03 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module3
11 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module1
12 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module2
13 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module3
21 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module1
22 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module2
23 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module3
31 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module1
32 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module2
33 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Incorrect&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install -T 3 | grep basedir
02 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module2
01 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module2
03 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/module2
13 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module1
23 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module1
11 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper1/module1
12 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module2
21 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module2
22 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper2/module2
32 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module3
31 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module3
33 basedir=&amp;lt;path&amp;gt;/maven-surefire-example/wrapper3/module3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is correct behaviour from a technical point of view as the system-properties are shared between the threads and the surefire-executions (due to the disabled forking), therefore I opened this issue mainly for documentation purpose.&lt;/p&gt;

&lt;p&gt;This behaviour does not affect our current project anymore due to the removal of the forkCount setting, yet I think that this behaviour should be documented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13019030">SUREFIRE-1301</key>
            <summary>baseDir system-property gets overridden by other builder threads if forking is disabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="rraumberger">Richard Raumberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Nov 2016 22:55:08 +0000</created>
                <updated>Fri, 4 Jul 2025 07:26:45 +0000</updated>
                            <resolved>Sun, 13 Nov 2016 13:46:00 +0000</resolved>
                                    <version>2.19.1</version>
                                    <fixVersion>2.20</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15658087" author="tibor17" created="Fri, 11 Nov 2016 20:26:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=agudian&quot; class=&quot;user-hover&quot; rel=&quot;agudian&quot;&gt;agudian&lt;/a&gt;&lt;br/&gt;
Hi Andreas, do you have any idea what is the root cause in this issue?&lt;/p&gt;</comment>
                            <comment id="15659903" author="agudian" created="Sat, 12 Nov 2016 16:36:27 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;, a missing note in the docs? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Obviously we can&apos;t provide the right baseDir property in a parallel build when not forking, as Richard described correctly already.&lt;br/&gt;
A good place for adding a note on that could be the forking/parallel page in the documentation.&lt;/p&gt;

&lt;p&gt;Or were you looking for a way to somehow solve this?&lt;/p&gt;</comment>
                            <comment id="15660197" author="tibor17" created="Sat, 12 Nov 2016 20:01:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rraumberger&quot; class=&quot;user-hover&quot; rel=&quot;rraumberger&quot;&gt;rraumberger&lt;/a&gt;&lt;br/&gt;
You can open a pull request in GitHub and update project documentation:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/maven-surefire-plugin/src/site/apt/examples/fork-options-and-parallel-execution.apt.vm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/master/maven-surefire-plugin/src/site/apt/examples/fork-options-and-parallel-execution.apt.vm&lt;/a&gt;&lt;br/&gt;
and then I will release the documentation in Version 2.19.2.&lt;/p&gt;</comment>
                            <comment id="15660296" author="githubbot" created="Sat, 12 Nov 2016 21:10:49 +0000"  >&lt;p&gt;GitHub user rraumberger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/131&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1301&quot; title=&quot;baseDir system-property gets overridden by other builder threads if forking is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1301&quot;&gt;&lt;del&gt;SUREFIRE-1301&lt;/del&gt;&lt;/a&gt; add note for changing system properties when running parallel builds with disabled forking&lt;/p&gt;

&lt;p&gt;    Resolves &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1301&quot; title=&quot;baseDir system-property gets overridden by other builder threads if forking is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1301&quot;&gt;&lt;del&gt;SUREFIRE-1301&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1301&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SUREFIRE-1301&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rraumberger/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rraumberger/maven-surefire&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/131.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/131.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #131&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 059bd029ccfc56a0d9370f9862d4feed5fc07448&lt;br/&gt;
Author: Richard Raumberger &amp;lt;richard.raumberger@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-12T21:06:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1301&quot; title=&quot;baseDir system-property gets overridden by other builder threads if forking is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1301&quot;&gt;&lt;del&gt;SUREFIRE-1301&lt;/del&gt;&lt;/a&gt; add note for changing baseDir property&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15660562" author="tibor17" created="Sun, 13 Nov 2016 00:33:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rraumberger&quot; class=&quot;user-hover&quot; rel=&quot;rraumberger&quot;&gt;rraumberger&lt;/a&gt;&lt;br/&gt;
Thx for the PR.&lt;br/&gt;
Have you tried to pass a value of ${project.basedir} in &amp;lt;systemPropertyVariables&amp;gt; ?&lt;br/&gt;
The key of sys prop is up to you.&lt;/p&gt;</comment>
                            <comment id="15661176" author="rraumberger" created="Sun, 13 Nov 2016 09:19:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
Yeah, I tried that. &lt;br/&gt;
Lead to the same result.&lt;/p&gt;

&lt;p&gt;I noticed something different, though...&lt;br/&gt;
When running &lt;tt&gt;mvn clean test -T 3&lt;/tt&gt; via CLI, the tests run and the described situation occurs.&lt;br/&gt;
When I ran the same command with IntelliJ&apos;s bundled Maven it fails with &lt;tt&gt;parallel maven execution is not compatible with surefire forkCount 0&lt;/tt&gt;, which actually prevents this situation from occurring.&lt;/p&gt;

&lt;p&gt;It seems like this is connected to the used maven version.&lt;br/&gt;
Standalone-installation: Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T17:41:47+01:00)&lt;br/&gt;
IntelliJ-Bundled: Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 14:51:28+0100)&lt;/p&gt;

&lt;p&gt;It seems like &lt;a href=&quot;https://github.com/apache/maven-surefire/blob/fb9b699e27dae905393a5bc4d5c6ae39606c3172/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java#L2391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this condition&lt;/a&gt; is not working properly with 3.3.9.&lt;/p&gt;</comment>
                            <comment id="15661480" author="tibor17" created="Sun, 13 Nov 2016 13:22:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rraumberger&quot; class=&quot;user-hover&quot; rel=&quot;rraumberger&quot;&gt;rraumberger&lt;/a&gt;&lt;br/&gt;
Good job!&lt;br/&gt;
I will merge your PR but you can report an issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MNG&lt;/a&gt; including a project ZIP able to reproduce it.&lt;/p&gt;</comment>
                            <comment id="15661506" author="githubbot" created="Sun, 13 Nov 2016 13:44:33 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/131&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15661510" author="tibor17" created="Sun, 13 Nov 2016 13:46:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commitdiff;h=059bd029ccfc56a0d9370f9862d4feed5fc07448&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=commitdiff;h=059bd029ccfc56a0d9370f9862d4feed5fc07448&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15661583" author="hudson" created="Sun, 13 Nov 2016 14:41:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1644 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1644/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1644/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1301&quot; title=&quot;baseDir system-property gets overridden by other builder threads if forking is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1301&quot;&gt;&lt;del&gt;SUREFIRE-1301&lt;/del&gt;&lt;/a&gt; add note for changing baseDir property (richard.raumberger: rev 059bd029ccfc56a0d9370f9862d4feed5fc07448)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/fork-options-and-parallel-execution.apt.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15661661" author="rraumberger" created="Sun, 13 Nov 2016 15:39:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
No ZIP needed. &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-6117&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MNG-6117&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17994699" author="olamy" created="Fri, 4 Jul 2025 07:26:45 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2389&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i361dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>