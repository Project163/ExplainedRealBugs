<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:16:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1725] Surefire in JUnit Vintage mode distributes tests very unevenly between forks, causing poor parallelism</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1725</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;To reproduce this issue, please run the attached test case using &lt;tt&gt;mvn clean verify&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;You will see output similar to the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running My7Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.017 s - in My7Test
[INFO] Running My9Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.983 s - in My9Test
[INFO] Running My4Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.998 s - in My4Test
[INFO] Running My8Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.999 s - in My8Test
[INFO] Running My6Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.001 s - in My6Test
[INFO] Running My1Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1 s - in My1Test
[INFO] Running My5Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.999 s - in My5Test
[INFO] Running My3Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.997 s - in My3Test
[INFO] Running My2Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1 s - in My2Test
[INFO] Running My0Test
Test in process 32569
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.999 s - in My0Test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Notice how all 10 tests are being run on the same process. This is wrong because there should be 5 forks - and the tests should be evenly distributed between them.&lt;/p&gt;

&lt;p&gt;If Junit4 is used instead of Junit5+vintage (see the commented dependency in pom.xml) then this issue does not occur (probably because Surefire uses a different code path in that case).&lt;/p&gt;

&lt;p&gt;Please note that this issue was originally logged against Junit (&lt;a href=&quot;https://github.com/junit-team/junit5/issues/2114)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/junit-team/junit5/issues/2114)&lt;/a&gt; - but they suggested the problem lies within surefire.&lt;/p&gt;

&lt;p&gt;Thanks for any help!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270692">SUREFIRE-1725</key>
            <summary>Surefire in JUnit Vintage mode distributes tests very unevenly between forks, causing poor parallelism</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="garethdanielsmith">Gareth Daniel Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2019 10:52:50 +0000</created>
                <updated>Fri, 4 Jul 2025 07:34:49 +0000</updated>
                            <resolved>Sun, 5 Jan 2020 02:49:35 +0000</resolved>
                                    <version>3.0.0-M3</version>
                                    <fixVersion>3.0.0-M5</fixVersion>
                                    <component>Junit 4.x support</component>
                    <component>JUnit 5.x support</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16982956" author="tibor17" created="Tue, 26 Nov 2019 22:18:51 +0000"  >&lt;p&gt;The ForkStarter is common for all providers. We have to debug one of those three methods &lt;tt&gt;run(...)&lt;/tt&gt; or you can do it and help us with your observations.&lt;/p&gt;</comment>
                            <comment id="16982960" author="tibor17" created="Tue, 26 Nov 2019 22:21:36 +0000"  >&lt;p&gt;I forgot to say, pls try to debug it with 3.0.0-M4. Thx&lt;/p&gt;</comment>
                            <comment id="16984526" author="garethdanielsmith" created="Thu, 28 Nov 2019 16:29:55 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt; , I just checked and 3.0.0-M4 also shows the uneven distribution behaviour. Cheers.&lt;/p&gt;</comment>
                            <comment id="17007900" author="tibor17" created="Sat, 4 Jan 2020 03:34:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garethdanielsmith&quot; class=&quot;user-hover&quot; rel=&quot;garethdanielsmith&quot;&gt;garethdanielsmith&lt;/a&gt;&lt;br/&gt;
Made debuging in Maven process. The problem is that the first fork VM sends 11 events &quot;provideNewTest&quot;.&lt;/p&gt;</comment>
                            <comment id="17008222" author="tibor17" created="Sun, 5 Jan 2020 02:49:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=acf7733a798359c6570a194fd21951eae9b0d7ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=acf7733a798359c6570a194fd21951eae9b0d7ab&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17193651" author="daanstoo" created="Thu, 10 Sep 2020 14:36:27 +0000"  >&lt;p&gt;Will this change be backported to 2.22.x? 2.22.2 suffers the same unbalanced test distribution.&lt;/p&gt;</comment>
                            <comment id="17995121" author="olamy" created="Fri, 4 Jul 2025 07:34:49 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2031&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13290248">SUREFIRE-1760</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12986767" name="junit-5-vintage-bug.zip" size="46550" author="garethdanielsmith" created="Tue, 26 Nov 2019 10:49:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z090q8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>