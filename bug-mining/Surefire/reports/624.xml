<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:16:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1535] Surefire unable to run testng suites in parallel</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1535</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Due to slowness nature of selenium test we would like to run such tests in parallel, moreover, we also would like to avoid thread-safety issues, so our option is to take advantage of&#160; forkCount=N and&#160;reuseForks=false instead of using built-in testng capabilities. Unfortunately, when using following maven configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;forkCount&amp;gt;2&amp;lt;/forkCount&amp;gt;
&amp;lt;reuseForks&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/reuseForks&amp;gt;
&amp;lt;suiteXmlFiles&amp;gt;
    &amp;lt;suiteXmlFile&amp;gt;Suite_1.xml&amp;lt;/suiteXmlFile&amp;gt;
    &amp;lt;suiteXmlFile&amp;gt;Suite_2.xml&amp;lt;/suiteXmlFile&amp;gt;
&amp;lt;/suiteXmlFiles&amp;gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it does not work like expected, i.e.:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ForkStarter#runSuitesForkPerTestSet correctly spawns multiple JVMs and passes individual testng suite to&#160;ForkStarter#fork&lt;/li&gt;
	&lt;li&gt;TestNGProvider#invoke fails to cover the case that&#160;forkTestSet could be a file and runs all testng suites instead of individual one.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13171300">SUREFIRE-1535</key>
            <summary>Surefire unable to run testng suites in parallel</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="andrew@panfilov.tel">Andrey Panfilov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2018 03:22:49 +0000</created>
                <updated>Fri, 4 Jul 2025 07:31:17 +0000</updated>
                            <resolved>Sat, 25 Aug 2018 19:39:28 +0000</resolved>
                                    <version>2.22.0</version>
                                    <fixVersion>2.22.1</fixVersion>
                                    <component>TestNG support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16539506" author="githubbot" created="Wed, 11 Jul 2018 03:26:53 +0000"  >&lt;p&gt;andreybpanfilov opened a new pull request #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16539568" author="githubbot" created="Wed, 11 Jul 2018 05:00:07 +0000"  >&lt;p&gt;eolivelli commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404045489&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404045489&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   In order to demonstrate your fix can you add an integration test?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16539720" author="githubbot" created="Wed, 11 Jul 2018 08:32:27 +0000"  >&lt;p&gt;andreybpanfilov commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404089053&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404089053&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Done.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16539761" author="githubbot" created="Wed, 11 Jul 2018 09:11:29 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404100551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404100551&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @andreybpanfilov &lt;br/&gt;
   Pls squash both commits together. Thx&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16539762" author="githubbot" created="Wed, 11 Jul 2018 09:13:02 +0000"  >&lt;p&gt;andreybpanfilov commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404100993&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404100993&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Done.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16540082" author="githubbot" created="Wed, 11 Jul 2018 13:07:07 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404162210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404162210&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   +1: all tests passed&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16540085" author="githubbot" created="Wed, 11 Jul 2018 13:22:35 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404166769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404166769&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @andreybpanfilov &lt;br/&gt;
   Pls explore the following.&lt;br/&gt;
   I expected these two `FORKTESTSET`, `TEST_SUITE_XML_FILES` been exclusive. Not sure if this is a fix or a workaround because in this commit we passed the value from variable `testSet` into `properties.addList`.&lt;br/&gt;
   Question, should be the `testSuiteDefinition.getSuiteXmlFiles()` be already filled up with value and then `testSet` become null? Here we interchanged these two, but mabe the (pre)caller of BooterSerializer should detect this situation with XML Suites.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16540086" author="githubbot" created="Wed, 11 Jul 2018 13:23:13 +0000"  >&lt;p&gt;Tibor17 edited a comment on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404166769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404166769&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @andreybpanfilov &lt;br/&gt;
   Pls explore the following.&lt;br/&gt;
   I expected these two `FORKTESTSET`, `TEST_SUITE_XML_FILES` been exclusive. Not sure if this is a fix or a workaround because in this commit we passed the value from variable `testSet` into `properties.addList`.&lt;br/&gt;
   Question, should the `testSuiteDefinition.getSuiteXmlFiles()` be already filled up with value and then `testSet` become null? Here we interchanged these two, but mabe the (pre)caller of BooterSerializer should detect this situation with XML Suites.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16540148" author="githubbot" created="Wed, 11 Jul 2018 14:15:54 +0000"  >&lt;p&gt;andreybpanfilov commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404185429&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404185429&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &amp;gt; I expected these two FORKTESTSET, TEST_SUITE_XML_FILES been exclusive&lt;/p&gt;

&lt;p&gt;   According to surefire documentation these to options should be mutually exclusive, unfortunately from code perspective they aren&apos;t and there is some mess in TestNGProvider#invoke (my initial attempt was to change this method, but related changes are less straightforward: &lt;a href=&quot;https://github.com/andreybpanfilov/maven-surefire/commit/fb4ea46be677a1eff55c8bf692c6cf9412dd0cbc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andreybpanfilov/maven-surefire/commit/fb4ea46be677a1eff55c8bf692c6cf9412dd0cbc&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   &amp;gt; Question, should be the testSuiteDefinition.getSuiteXmlFiles() be already filled up with value and then testSet become null? Here we interchanged these two, but mabe the (pre)caller of BooterSerializer should detect this situation with XML Suites.&lt;/p&gt;

&lt;p&gt;   At first glance there is no place where we can modify TestRequest#suiteXmlFiles, doing that in ForkStarter#runSuitesForkPerTestSet or ForkStarter#fork will cause mutation, cloning is useless because next call is BooterSerializer#serialize.&lt;/p&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16540254" author="githubbot" created="Wed, 11 Jul 2018 15:33:35 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-404213479&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-404213479&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   The `ForkStarter` should be the place, but now let me see the diff and think about it.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16565105" author="githubbot" created="Wed, 1 Aug 2018 10:28:37 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-409529120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-409529120&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Last days I found a split of spare time to make analysis of the code. I will make a PR with the proposal where the files would be passed in argument in the method `SurefireProvider#invoke(Object)`.&lt;br/&gt;
   The other method `getSuiteXmlFiles()` is used to retrieve an Iterable collection with elements within Plugin&apos;s process and not the fork vm.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16590686" author="githubbot" created="Thu, 23 Aug 2018 18:50:24 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-415528689&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-415528689&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @andreybpanfilov &lt;br/&gt;
   I will push this to master because here is a chance that the integration test 1177 will pass again.&lt;br/&gt;
   My solution is in the branch `&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/V30_SUREFIRE-1535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/V30_SUREFIRE-1535&lt;/a&gt;` but I cannot use it now because it breaks the backwards compatibility. Pushing it would be possible in version 3.0 and there I can break more, which means using one property in Surefire Properties instead of multiple ones like a list of classes `class.0`. One more thing which needs to be broken is the interface of Surefire Provider class because this has two purposes and we serialize a lots of objects useless which slows down the execution. So there is quite a lot to do and to be consistent and having complete work done we would have to accept this PR as a temporary solution and complete the work in version 3.0.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16590711" author="githubbot" created="Thu, 23 Aug 2018 19:20:04 +0000"  >&lt;p&gt;Tibor17 commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-415539109&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-415539109&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @andreybpanfilov &lt;br/&gt;
   Pls rebase this branch.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16590717" author="githubbot" created="Thu, 23 Aug 2018 19:26:49 +0000"  >&lt;p&gt;andreybpanfilov commented on issue #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190#issuecomment-415541476&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190#issuecomment-415541476&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Done.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16592697" author="githubbot" created="Sat, 25 Aug 2018 19:36:18 +0000"  >&lt;p&gt;asfgit closed pull request #190: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1535&quot; title=&quot;Surefire unable to run testng suites in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1535&quot;&gt;&lt;del&gt;SUREFIRE-1535&lt;/del&gt;&lt;/a&gt; Surefire unable to run testng suites in parallel&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/190&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;br/&gt;
index 97140efa9..9c501db29 100644&lt;br/&gt;
&amp;#8212; a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;br/&gt;
+++ b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;br/&gt;
@@ -36,6 +36,7 @@&lt;/p&gt;

&lt;p&gt; import java.io.File;&lt;br/&gt;
 import java.io.IOException;&lt;br/&gt;
+import java.util.Collections;&lt;br/&gt;
 import java.util.List;&lt;/p&gt;

&lt;p&gt; import static org.apache.maven.surefire.booter.AbstractPathConfiguration.CHILD_DELEGATION;&lt;br/&gt;
@@ -125,7 +126,14 @@ File serialize( KeyValueSource sourceProperties, ProviderConfiguration booterCon&lt;br/&gt;
         if ( testSuiteDefinition != null )&lt;br/&gt;
         {&lt;br/&gt;
             properties.setProperty( SOURCE_DIRECTORY, testSuiteDefinition.getTestSourceDirectory() );&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;properties.addList( testSuiteDefinition.getSuiteXmlFiles(), TEST_SUITE_XML_FILES );&lt;br/&gt;
+            if ( testSet instanceof File )&lt;br/&gt;
+            
{
+                properties.addList( Collections.singletonList( (File) testSet ), TEST_SUITE_XML_FILES );
+            }
&lt;p&gt;+            else&lt;br/&gt;
+            &lt;/p&gt;
{
+                properties.addList( testSuiteDefinition.getSuiteXmlFiles(), TEST_SUITE_XML_FILES );
+            }
&lt;p&gt;             TestListResolver testFilter = testSuiteDefinition.getTestListResolver();&lt;br/&gt;
             properties.setProperty( REQUESTEDTEST, testFilter == null ? &quot;&quot; : testFilter.getPluginParameterTest() );&lt;br/&gt;
             int rerunFailingTestsCount = testSuiteDefinition.getRerunFailingTestsCount();&lt;br/&gt;
diff --git a/surefire-its/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1535TestNGParallelSuitesIT.java b/surefire-its/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1535TestNGParallelSuitesIT.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..3e4b0f2e1&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1535TestNGParallelSuitesIT.java&lt;br/&gt;
@@ -0,0 +1,62 @@&lt;br/&gt;
+package org.apache.maven.surefire.its.jiras;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import java.io.File;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.OutputValidator;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.junit.Assert;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+public class Surefire1535TestNGParallelSuitesIT extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testParallelSuites() throws Exception &lt;br/&gt;
+    {&lt;br/&gt;
+        File tmp1 = null;&lt;br/&gt;
+        File tmp2 = null;&lt;br/&gt;
+        try&lt;br/&gt;
+        
{
+            tmp1 = File.createTempFile( getClass().getName(), &quot;tmp&quot; );
+            tmp2 = File.createTempFile( getClass().getName(), &quot;tmp&quot; );
+            OutputValidator validator = unpack(&quot;/surefire-1535-parallel-testng&quot;).maven()
+                    .sysProp( &quot;testNgVersion&quot;, &quot;5.7&quot; )
+                    .sysProp( &quot;testNgClassifier&quot;, &quot;jdk15&quot; )
+                    .sysProp( &quot;it.ParallelTest1&quot;, tmp1.getAbsolutePath() )
+                    .sysProp( &quot;it.ParallelTest2&quot;, tmp2.getAbsolutePath() )
+                    .executeTest();
+            Assert.assertFalse(tmp1.exists());
+            Assert.assertFalse(tmp2.exists());
+            validator.assertTestSuiteResults( 2, 0, 0, 0 );
+        }
&lt;p&gt;+        finally&lt;br/&gt;
+        &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            if (tmp1 != null)+            {
+                tmp1.delete();
+            }+            if (tmp2 != null)+            {
+                tmp2.delete();
+            }+        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;+    }&lt;br/&gt;
+}&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/pom.xml b/surefire-its/src/test/resources/surefire-1535-parallel-testng/pom.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..942ddb631&lt;/p&gt;&lt;/li&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/pom.xml&lt;br/&gt;
@@ -0,0 +1,83 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;!--&lt;br/&gt;
+  ~ Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+  ~ or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+  ~ distributed with this work for additional information&lt;br/&gt;
+  ~ regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+  ~ to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+  ~ &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+  ~ with the License.  You may obtain a copy of the License at&lt;br/&gt;
+  ~&lt;br/&gt;
+  ~     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+  ~&lt;br/&gt;
+  ~ Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+  ~ software distributed under the License is distributed on an&lt;br/&gt;
+  ~ &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+  ~ KIND, either express or implied.  See the License for the&lt;br/&gt;
+  ~ specific language governing permissions and limitations&lt;br/&gt;
+  ~ under the License.&lt;br/&gt;
+  --&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;br/&gt;
+         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;groupId&amp;gt;org.apache.maven.plugins.surefire&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+    &amp;lt;artifactId&amp;gt;surefire-1535-parallel-testng&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+    &amp;lt;name&amp;gt;Test execution testng suites in parallel&amp;lt;/name&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;properties&amp;gt;&lt;br/&gt;
+        &amp;lt;maven.compiler.source&amp;gt;1.6&amp;lt;/maven.compiler.source&amp;gt;&lt;br/&gt;
+        &amp;lt;maven.compiler.target&amp;gt;1.6&amp;lt;/maven.compiler.target&amp;gt;&lt;br/&gt;
+    &amp;lt;/properties&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;profiles&amp;gt;&lt;br/&gt;
+        &amp;lt;profile&amp;gt;&lt;br/&gt;
+            &amp;lt;id&amp;gt;testng-old&amp;lt;/id&amp;gt;&lt;br/&gt;
+            &amp;lt;activation&amp;gt;&lt;br/&gt;
+                &amp;lt;property&amp;gt;&amp;lt;name&amp;gt;testNgClassifier&amp;lt;/name&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
+            &amp;lt;/activation&amp;gt;&lt;br/&gt;
+            &amp;lt;dependencies&amp;gt;&lt;br/&gt;
+                &amp;lt;dependency&amp;gt;&lt;br/&gt;
+                    &amp;lt;groupId&amp;gt;org.testng&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+                    &amp;lt;artifactId&amp;gt;testng&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+                    &amp;lt;version&amp;gt;${testNgVersion}&amp;lt;/version&amp;gt;&lt;br/&gt;
+                    &amp;lt;classifier&amp;gt;${testNgClassifier}&amp;lt;/classifier&amp;gt;&lt;br/&gt;
+                &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
+        &amp;lt;/profile&amp;gt;&lt;br/&gt;
+        &amp;lt;profile&amp;gt;&lt;br/&gt;
+            &amp;lt;id&amp;gt;testng-new&amp;lt;/id&amp;gt;&lt;br/&gt;
+            &amp;lt;activation&amp;gt;&lt;br/&gt;
+                &amp;lt;property&amp;gt;&amp;lt;name&amp;gt;!testNgClassifier&amp;lt;/name&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
+            &amp;lt;/activation&amp;gt;&lt;br/&gt;
+            &amp;lt;dependencies&amp;gt;&lt;br/&gt;
+                &amp;lt;dependency&amp;gt;&lt;br/&gt;
+                    &amp;lt;groupId&amp;gt;org.testng&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+                    &amp;lt;artifactId&amp;gt;testng&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+                    &amp;lt;version&amp;gt;${testNgVersion}&amp;lt;/version&amp;gt;&lt;br/&gt;
+                &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
+        &amp;lt;/profile&amp;gt;&lt;br/&gt;
+    &amp;lt;/profiles&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;build&amp;gt;&lt;br/&gt;
+        &amp;lt;plugins&amp;gt;&lt;br/&gt;
+            &amp;lt;plugin&amp;gt;&lt;br/&gt;
+                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+                &amp;lt;version&amp;gt;${surefire.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+                &amp;lt;configuration&amp;gt;&lt;br/&gt;
+                    &amp;lt;forkCount&amp;gt;2&amp;lt;/forkCount&amp;gt;&lt;br/&gt;
+                    &amp;lt;reuseForks&amp;gt;false&amp;lt;/reuseForks&amp;gt;&lt;br/&gt;
+                    &amp;lt;suiteXmlFiles&amp;gt;&lt;br/&gt;
+                        &amp;lt;suiteXmlFile&amp;gt;src/test/resources/Suite1.xml&amp;lt;/suiteXmlFile&amp;gt;&lt;br/&gt;
+                        &amp;lt;suiteXmlFile&amp;gt;src/test/resources/Suite2.xml&amp;lt;/suiteXmlFile&amp;gt;&lt;br/&gt;
+                    &amp;lt;/suiteXmlFiles&amp;gt;&lt;br/&gt;
+                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
+            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
+        &amp;lt;/plugins&amp;gt;&lt;br/&gt;
+    &amp;lt;/build&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+&amp;lt;/project&amp;gt;&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest.java b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..cd7a06cfb&lt;/li&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest.java&lt;br/&gt;
@@ -0,0 +1,46 @@&lt;br/&gt;
+package it;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import java.io.File;&lt;br/&gt;
+import java.security.AccessController;&lt;br/&gt;
+import java.security.PrivilegedAction;&lt;br/&gt;
+&lt;br/&gt;
+public class ParallelTest {&lt;br/&gt;
+&lt;br/&gt;
+    protected final boolean deleteFile() throws Exception&lt;br/&gt;
+    
{
+        return deleteFile( getClass().getName() );
+    }
&lt;p&gt;+&lt;br/&gt;
+    protected final boolean deleteFile( final String propName ) throws Exception&lt;br/&gt;
+    {&lt;br/&gt;
+        File temp = new File( AccessController.doPrivileged( new PrivilegedAction&amp;lt;String&amp;gt;()&lt;br/&gt;
+        &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            @Override+            public String run()+            {
+                return System.getProperty( propName );
+            }+        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; ) );&lt;br/&gt;
+        return temp.delete();&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+}&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest1.java b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest1.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..b9b9c98f1&lt;/p&gt;&lt;/li&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest1.java&lt;br/&gt;
@@ -0,0 +1,34 @@&lt;br/&gt;
+package it;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.testng.Assert;&lt;br/&gt;
+import org.testng.annotations.Test;&lt;br/&gt;
+&lt;br/&gt;
+@Test&lt;br/&gt;
+public class ParallelTest1 extends ParallelTest&lt;br/&gt;
+
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {++    public void test() throws Exception+    {
+        Assert.assertTrue( deleteFile() );
+    }&lt;br/&gt;
+&lt;br/&gt;
+}&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest2.java b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest2.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..158e6dc44&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/java/it/ParallelTest2.java&lt;br/&gt;
@@ -0,0 +1,34 @@&lt;br/&gt;
+package it;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.testng.Assert;&lt;br/&gt;
+import org.testng.annotations.Test;&lt;br/&gt;
+&lt;br/&gt;
+@Test&lt;br/&gt;
+public class ParallelTest2 extends ParallelTest&lt;br/&gt;
+{&lt;br/&gt;
+&lt;br/&gt;
+    public void test() throws Exception&lt;br/&gt;
+    {+        Assert.assertTrue( deleteFile() );+    }++}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite1.xml b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite1.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..b6ca16bd6&lt;/p&gt;&lt;/li&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite1.xml&lt;br/&gt;
@@ -0,0 +1,10 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+&amp;lt;suite name=&quot;Suite1&quot; verbose=&quot;5&quot;&amp;gt;&lt;br/&gt;
+    &amp;lt;test name=&quot;Suite1&quot;&amp;gt;&lt;br/&gt;
+        &amp;lt;classes&amp;gt;&lt;br/&gt;
+            &amp;lt;class name=&quot;it.ParallelTest1&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;/classes&amp;gt;&lt;br/&gt;
+    &amp;lt;/test&amp;gt;&lt;br/&gt;
+&amp;lt;/suite&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite2.xml b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite2.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..aef1754f6&lt;/li&gt;
			&lt;li&gt;/dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1535-parallel-testng/src/test/resources/Suite2.xml&lt;br/&gt;
@@ -0,0 +1,10 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+&amp;lt;suite name=&quot;Suite2&quot; verbose=&quot;5&quot;&amp;gt;&lt;br/&gt;
+    &amp;lt;test name=&quot;Suite2&quot;&amp;gt;&lt;br/&gt;
+        &amp;lt;classes&amp;gt;&lt;br/&gt;
+            &amp;lt;class name=&quot;it.ParallelTest2&quot; /&amp;gt;&lt;br/&gt;
+        &amp;lt;/classes&amp;gt;&lt;br/&gt;
+    &amp;lt;/test&amp;gt;&lt;br/&gt;
+&amp;lt;/suite&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16592698" author="tibor17" created="Sat, 25 Aug 2018 19:39:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=99083b26bad8a6bf5305aaad08573850623b19d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=99083b26bad8a6bf5305aaad08573850623b19d2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17994937" author="olamy" created="Fri, 4 Jul 2025 07:31:17 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2560&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vr1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>