<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:12:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1138] Enabling reuseForks runs all tests in series on just one fork</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1138</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When using Surefire &amp;gt;= 2.18, I&apos;ve encountered a problem when setting &lt;tt&gt;forkCount &amp;gt; 1&lt;/tt&gt; and &lt;tt&gt;reuseForks = true&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Expected behaviour:&lt;br/&gt;
Tests should run simultaneously, each on a separate fork.&lt;/p&gt;

&lt;p&gt;Actual behaviour:&lt;br/&gt;
All tests run on just one fork, sequentially.&lt;/p&gt;

&lt;p&gt;Setting &lt;tt&gt;reuseForks = false&lt;/tt&gt; gives the expected behaviour. &lt;br/&gt;
Reverting to Surefire 2.17 also gives the expected behaviour.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a project that demonstrates the issue. Here I&apos;ve created two tests, each of which prints the fork number and sleeps for 5 seconds. The total run time is 10 seconds with Surefire 2.18 and 2.18.1, but 5 seconds with version 2.17.&lt;/p&gt;</description>
                <environment>Apache Maven 3.0.4 (r1232337; 2012-01-17 19:44:56+1100)&lt;br/&gt;
Java version: 1.7.0_17, vendor: Oracle Corporation&lt;br/&gt;
Ubuntu 12.04 LTS&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</environment>
        <key id="12810527">SUREFIRE-1138</key>
            <summary>Enabling reuseForks runs all tests in series on just one fork</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="mprovis">Matthew Provis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jan 2015 18:08:06 +0000</created>
                <updated>Fri, 4 Jul 2025 07:23:41 +0000</updated>
                            <resolved>Sat, 4 Jul 2015 09:06:35 +0000</resolved>
                                    <version>2.18</version>
                    <version>2.18.1</version>
                                    <fixVersion>2.19</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14456598" author="agudian" created="Wed, 28 Jan 2015 01:55:58 +0000"  >&lt;p&gt;Funny, I&apos;m sure I wrote an integration test to verify the forking and test distribution. &lt;br/&gt;
I&apos;ll look into it within the next days. &lt;/p&gt;</comment>
                            <comment id="14456694" author="agudian" created="Sat, 31 Jan 2015 13:59:44 +0000"  >&lt;p&gt;OK, I found out how the problem was introduced in 2.18. Fortunately, only the JUnit4 provider is affected.&lt;/p&gt;

&lt;p&gt;You can easily work-around the issue by using the more modern provider implementation for JUnit 4.7+ by adding this to your pom:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;2.18.1&amp;lt;/version&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;!-- ... --&amp;gt;
                &amp;lt;/configuration&amp;gt;
                &amp;lt;dependencies&amp;gt;
                    &amp;lt;dependency&amp;gt;
                        &amp;lt;groupId&amp;gt;org.apache.maven.surefire&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;surefire-junit47&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;2.18.1&amp;lt;/version&amp;gt;
                    &amp;lt;/dependency&amp;gt;
                &amp;lt;/dependencies&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;, the issue was introduced in commit 4df65165717126c88569e1fa62b0ea30559cbfa3, which eagerly iterates over TestsToRun in JUnit4Provider.createTestsDescription(). Can you remember why that might be necessary? Could you please take a look? If you see a quick way to fix it, feel free to grab the issue - otherwise let me know and I&apos;ll try it myself... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14456644" author="tibor17" created="Sat, 31 Jan 2015 16:59:59 +0000"  >&lt;p&gt;@Andreas&lt;br/&gt;
I&apos;ll have a look.&lt;/p&gt;</comment>
                            <comment id="14613617" author="tibor17" created="Sat, 4 Jul 2015 09:06:35 +0000"  >&lt;p&gt;commit d4aa9b7ac3aa36a229170ed8fb2993df5440e561&lt;/p&gt;</comment>
                            <comment id="17994540" author="olamy" created="Fri, 4 Jul 2025 07:23:41 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2551&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12851337">SUREFIRE-1171</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12720317" name="test.zip" size="2450" author="mprovis" created="Tue, 27 Jan 2015 18:13:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bbpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>