<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1882] Fix failures when compiled on Java 9+ and run on Java 8</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1882</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When running my build on JDK 8, I see&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- maven-surefire-plugin:3.0.0-M6-SNAPSHOT:test (reuse-jvm) @ sarek-mock ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[WARNING] Could not delete temp directory C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157 because File C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157\surefirebooter4446112705128419789.jar unable to be deleted.
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; sarek-parent 1.0-SNAPSHOT:
[INFO] 
[INFO] (...)
[INFO] sarek-mock ......................................... FAILURE [  1.541 s]
[INFO] (...)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15.095 s
[INFO] Finished at: 2021-01-26T13:22:20+07:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M6-SNAPSHOT:test (reuse-jvm) on project sarek-mock: There are test failures.
[ERROR] 
[ERROR] Please refer to C:\Users\alexa\Documents\java-src\Sarek\sarek-mock\target\surefire-reports &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the individual test results.
[ERROR] Please refer to dump files (&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] The forked VM terminated without properly saying goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called?
[ERROR] Command was cmd.exe /X /C &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;C:\Program Files\Java\jdk1.8.0_211\jre\bin\java&quot;&lt;/span&gt; -jar C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157\surefirebooter4446112705128419789.jar C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157 2021-01-26T13-22-12_972-jvmRun1 surefire4902538894981773413tmp surefire_05054187083706494231tmp&quot;
[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called?
[ERROR] Command was cmd.exe /X /C &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;C:\Program Files\Java\jdk1.8.0_211\jre\bin\java&quot;&lt;/span&gt; -jar C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157\surefirebooter4446112705128419789.jar C:\Users\alexa\AppData\Local\Temp\surefire9150168311367699157 2021-01-26T13-22-12_972-jvmRun1 surefire4902538894981773413tmp surefire_05054187083706494231tmp&quot;
[ERROR] 	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:751)
[ERROR] 	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:306)
[ERROR] 	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:266)
[ERROR] 	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1320)
[ERROR] 	(...)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See also the dump file attached to this ticket.&lt;/p&gt;

&lt;p&gt;When running the build e.g. with Java 11 or Java 14, the same error does not occur. I tested with the current master, commit &lt;a href=&quot;https://github.com/apache/maven-surefire/commit/f14fa54b9eba073c8c896a829fac1c2037b34222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;f14fa54b&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The root cause seems to be this part of the dump file:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoSuchMethodError: java.nio.ByteBuffer.flip()Ljava/nio/ByteBuffer;
	at org.apache.maven.surefire.api.util.internal.AbstractNoninterruptibleWritableChannel.write(AbstractNoninterruptibleWritableChannel.java:67)
	at org.apache.maven.surefire.api.util.internal.AbstractNoninterruptibleWritableChannel.write(AbstractNoninterruptibleWritableChannel.java:44)
	at org.apache.maven.surefire.api.stream.AbstractStreamEncoder.write(AbstractStreamEncoder.java:77)
	at org.apache.maven.surefire.booter.spi.EventChannelEncoder.write(EventChannelEncoder.java:333)
	at org.apache.maven.surefire.booter.spi.EventChannelEncoder.encodeOpcode(EventChannelEncoder.java:324)
	at org.apache.maven.surefire.booter.spi.EventChannelEncoder.bye(EventChannelEncoder.java:274)
	at org.apache.maven.surefire.booter.ForkedBooter.acknowledgedExit(ForkedBooter.java:419)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:194)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:570)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:556)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;ByteBuffer.flip()&lt;/tt&gt; simply does not exist yet in Java 8. The &lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/README.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;read-me file&lt;/a&gt; says:&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Build the Surefire project using Maven 3.1.0+ and JDK 1.8+.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;OTOH, the corresponding &lt;a href=&quot;https://github.com/apache/maven-surefire/commit/5e3348cdf29d1d49ca615a893b9174563f62815c#diff-0dc38587795788db7bf5bc5366d065899b92d6680be60003ecd6af0fad3c8156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 5e3348cd&lt;/a&gt; by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt; is 2 years old already, calling a Java 9+ method &lt;tt&gt;flip()&lt;/tt&gt;:&lt;/p&gt;</description>
                <environment></environment>
        <key id="13354592">SUREFIRE-1882</key>
            <summary>Fix failures when compiled on Java 9+ and run on Java 8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="kriegaex">Alexander Kriegisch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2021 06:27:31 +0000</created>
                <updated>Fri, 4 Jul 2025 07:38:06 +0000</updated>
                            <resolved>Wed, 27 Jan 2021 21:16:34 +0000</resolved>
                                    <version>3.0.0-M6</version>
                                    <fixVersion>3.0.0-M6</fixVersion>
                                    <component>Maven Failsafe Plugin</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17271959" author="michael-o" created="Tue, 26 Jan 2021 08:24:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/maven-wagon/commit/92c0d2a858a38d9b3d0aefc0f9298d5c31c7e508&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-wagon/commit/92c0d2a858a38d9b3d0aefc0f9298d5c31c7e508&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17271979" author="kriegaex" created="Tue, 26 Jan 2021 08:55:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt;, what is that supposed to tell me? Please elaborate so that I as a user (not a maintainer or contributor) can also get a basic understanding of your message. Thank you so much.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Edit:&lt;/b&gt; Oh, I think you mean that in order to fix this, &lt;tt&gt;ByteBuffer&lt;/tt&gt; instances calling certain methods overloaded in Java 9+ ought to be cast to &lt;tt&gt;Buffer&lt;/tt&gt; like you did for Wagon and the other guy did for MongoDB.&lt;/p&gt;</comment>
                            <comment id="17272005" author="michael-o" created="Tue, 26 Jan 2021 09:38:39 +0000"  >&lt;p&gt;You edit is correct. The supplied commit shows how to solve this.&lt;/p&gt;</comment>
                            <comment id="17272021" author="kriegaex" created="Tue, 26 Jan 2021 10:17:37 +0000"  >&lt;p&gt;I did a naive but hopefully thorough global search &amp;amp; replace and it seems to fix the issue, at least in my project:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/332&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please be kind with me, I have never contributed to any Maven project before. At least locally all tests and style checks pass, I hope I did nothing wrong. I replaced each of the 4 method calls in question according to the &lt;a href=&quot;https://github.com/mongodb/mongo-java-driver/commit/21c91bd364d38489e0bbe2e390efdb3746ee3fff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit comment in MongoDB&lt;/a&gt; referred to from the Wagon commit.&lt;/p&gt;

&lt;p&gt;Why did I say &quot;naive&quot;? Simply because I replaced all corresponding method calls by casts, both in production and test code, even if it meant nested casting or repetitive casting. Maybe someone likes to optimise if it does not look nice enough like this. Feel free to accept the PR and then add an additional commit before merging to master.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Edit:&lt;/b&gt; I did not add any comprehensive regression test for this problem because that is beyond my means as a hobby programmer. Maybe a maintainer wants to add to this PR correspondingly.&lt;/p&gt;</comment>
                            <comment id="17272033" author="tibor17" created="Tue, 26 Jan 2021 10:59:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kriegaex&quot; class=&quot;user-hover&quot; rel=&quot;kriegaex&quot;&gt;kriegaex&lt;/a&gt; Thx for the fix. This issue looks clear to me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Should we do the same with the &lt;tt&gt;position&lt;/tt&gt; method?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoSuchMethodError: java.nio.ByteBuffer.position(I)Ljava/nio/ByteBuffer;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="17272034" author="kriegaex" created="Tue, 26 Jan 2021 11:03:08 +0000"  >&lt;p&gt;Like I said before when linking to the MongoDB comment, I think I have taken care of all 4 methods:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;position&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;limit&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;flip&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;clear&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Did I forget any?&lt;/p&gt;</comment>
                            <comment id="17272037" author="kriegaex" created="Tue, 26 Jan 2021 11:06:29 +0000"  >&lt;p&gt;BTW, are there or could someone add any static byte code verifiers in Surefire which could automatically detect and report this issue? Chances are that it will re-occur the next time someone uses &lt;tt&gt;ByteBuffer&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17272087" author="michael-o" created="Tue, 26 Jan 2021 12:57:11 +0000"  >&lt;p&gt;They are likely more, my commits depicts only those used in Wagon.&lt;/p&gt;</comment>
                            <comment id="17272127" author="tibor17" created="Tue, 26 Jan 2021 14:38:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kriegaex&quot; class=&quot;user-hover&quot; rel=&quot;kriegaex&quot;&gt;kriegaex&lt;/a&gt;&lt;br/&gt;
This issue was found out after the release because i used JDK11+ however the compiler was set to java source/target version 1.8.&lt;br/&gt;
I guess the users used Java 1.8. In the current development iteration we have imposed the limitation on the build only to Java 1.8 but the tests used another JVM and this way we were safe. We wanted to bypass the issue this way because we did not understand the root cause and workaround.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;gt;&amp;gt; BTW, are there or could someone add any static byte code verifiers in Surefire which could automatically detect and report this issue? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we can do it in the build when we simply build the project with higher version of JDK than the integration tests. This means JDK 11 for the project and JDK 1.8 for the tests.&lt;/p&gt;</comment>
                            <comment id="17272157" author="kroartem" created="Tue, 26 Jan 2021 15:10:15 +0000"  >&lt;p&gt;Isn&apos;t it possible to reuse &lt;a href=&quot;https://www.mojohaus.org/extra-enforcer-rules/enforceBytecodeVersion.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mojohaus.org/extra-enforcer-rules/enforceBytecodeVersion.html&lt;/a&gt; here?&lt;/p&gt;</comment>
                            <comment id="17272332" author="tibor17" created="Tue, 26 Jan 2021 18:42:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=KroArtem&quot; class=&quot;user-hover&quot; rel=&quot;KroArtem&quot;&gt;KroArtem&lt;/a&gt;&lt;br/&gt;
Pls check it in our POM &lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/master/pom.xml&lt;/a&gt;&lt;br/&gt;
Do we have it? If not, then you can open a new PR and add it into the POM.&lt;/p&gt;</comment>
                            <comment id="17272513" author="kriegaex" created="Wed, 27 Jan 2021 01:55:22 +0000"  >&lt;p&gt;I think that enforcing only the &lt;b&gt;byte code version&lt;/b&gt; would not solve the problem. We need to make sure that the code is compiled against the &lt;b&gt;JDK 8 API&lt;/b&gt;, too. I have never used the Javac 9+ compiler switch &lt;tt&gt;--release&lt;/tt&gt; or the corresponding Maven Compiler option &lt;tt&gt;&amp;lt;release&amp;gt;&lt;/tt&gt;, but is that not what we need here? If I understand this option correctly, it would lead to compile errors when using Java 9+ specific APIs incompatible with Java 8.&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/43103038/1082681&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/a/43103038/1082681&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17272679" author="tibor17" created="Wed, 27 Jan 2021 08:39:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kriegaex&quot; class=&quot;user-hover&quot; rel=&quot;kriegaex&quot;&gt;kriegaex&lt;/a&gt;&lt;br/&gt;
I think we are talking about theory. I also have to continue with the release plan, so this is a little issue for me. We have made the workaround with using JDK8 only and I am glad that you provided the fix but really there are other big changes which have to be made otherwise we would not be able to be flexible in the future (XML reports, JSON reports, JUnit5, Cucumber and Dynamic tests, ...).&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=KroArtem&quot; class=&quot;user-hover&quot; rel=&quot;KroArtem&quot;&gt;KroArtem&lt;/a&gt;&lt;br/&gt;
Here is the part of the POM, pls have a look. Do we have any problem? I think we don&apos;t because we use the rule &lt;tt&gt;enforceBytecodeVersion&lt;/tt&gt;, see this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-enforcer-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.0.0-M3&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;enforce-java&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;enforce&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;rules&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;requireJavaVersion&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- We use JDK 1.8 to check -Xdoclint:all at compile time but with javac -source 1.7 -target 1.7 --&amp;gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;[1.8, )&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/requireJavaVersion&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;enforce-maven&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;enforce&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;rules&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;requireMavenVersion&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;[3.1.0,)&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/requireMavenVersion&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;enforce-bytecode-version&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;enforce&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;rules&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enforceBytecodeVersion&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;maxJdkVersion&amp;gt;&lt;/span&gt;${maven.compiler.target}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/maxJdkVersion&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;excludes&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;org.junit.platform:junit-platform-commons&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;org.assertj:assertj-core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/excludes&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enforceBytecodeVersion&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;fail&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/fail&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.codehaus.mojo&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;animal-sniffer-maven-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;signature-check&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;check&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;signature&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.codehaus.mojo.signature&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;java17&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/signature&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17272924" author="kriegaex" created="Wed, 27 Jan 2021 15:12:31 +0000"  >&lt;p&gt;Well, sorry for trying to be proactive and help you guys find a future-proof solution. I don&apos;t mind if you just accept the PR and close the issue if you think the idea to build with JDK 9+ and use &lt;tt&gt;--release 8&lt;/tt&gt; is not helpful, too much work (really?) or only a theoretical problem - even though that &quot;theoretical&quot; problem has just occurred and I have temporarily fixed it for you.&lt;/p&gt;</comment>
                            <comment id="17273145" author="tibor17" created="Wed, 27 Jan 2021 21:16:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=05c3f348e7e6f5546252db660dc9e70862ffd7aa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=05c3f348e7e6f5546252db660dc9e70862ffd7aa&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17273177" author="tibor17" created="Wed, 27 Jan 2021 22:27:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kriegaex&quot; class=&quot;user-hover&quot; rel=&quot;kriegaex&quot;&gt;kriegaex&lt;/a&gt;&lt;br/&gt;
Basically theory for me is to discuss java version, j7 or j8, due to currently it&apos;s j7 where we agreed in Maven project and it is worth to keep it for a while. We should keep it based on j7 because also the other plugins participated in the build lifecycle still support j7 too. I guess these requirements will change in some future version of Maven and then also the list of default plugins used by Maven Core would be updated and bump to j8 altogether with new Maven API version.&lt;br/&gt;
Maybe it would be worth to file a Jira issue to cover all those changes we would like to have with upcoming j8.&lt;br/&gt;
Personally, I guess j9 would be more challenging than j8 for Maven.&lt;/p&gt;</comment>
                            <comment id="17273226" author="kriegaex" created="Thu, 28 Jan 2021 00:57:09 +0000"  >&lt;p&gt;Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt; for diagnosing the problem&apos;s root cause and pointing to a solution, I merely did the leg work.&lt;/p&gt;

&lt;p&gt;Thanks for to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt; for swiftly reviewing &amp;amp; merging the PR.&lt;/p&gt;

&lt;p&gt;As for J7 vs J8, I am surprised that your goal is to keep J7 because this project&apos;s read-me file on GitHub says J8 for the runtime environment, like I already said in the issue&apos;s body text. My suggestion was not to require J9 as a minimal runtime version for users but to use J9+ for cross-compiling to J8 using the corresponding compiler switch. Then every developer would be free to also use J14 or whatever, as long as cross-compilation to J8 target and J8 API was enforced by the compiler settings. I do not wish to debate this any further, feel free to take the idea or leave it. I just want to make sure I am not misunderstood.&lt;/p&gt;</comment>
                            <comment id="17273462" author="kroartem" created="Thu, 28 Jan 2021 09:39:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt;, sorry for bothering, I&apos;ve missed these lines in pom.xml. You seem to be right, bytecode version already seems to be enforced and it feels like I just rushed into the discussion without identifying the root cause of the problem.&lt;/p&gt;</comment>
                            <comment id="17273553" author="tibor17" created="Thu, 28 Jan 2021 12:50:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=KroArtem&quot; class=&quot;user-hover&quot; rel=&quot;KroArtem&quot;&gt;KroArtem&lt;/a&gt;&lt;br/&gt;
No problem, you are welcome to participate. After we have chcecked the config of the Enforce Plugin we are at least sure we made everifing right. Let&apos;s continue with the other work on the next issues. I am sure we will clean up also this code from this issue after using j9 (with the switch --release) or j8 but it takes some time and undergoing the Apache standard process.&lt;/p&gt;</comment>
                            <comment id="17995291" author="olamy" created="Fri, 4 Jul 2025 07:38:06 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2972&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13019399" name="2021-01-26T13-22-12_972-jvmRun1.dump" size="4002" author="kriegaex" created="Tue, 26 Jan 2021 06:29:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mzk8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>