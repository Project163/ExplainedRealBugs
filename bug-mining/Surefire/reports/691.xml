<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1840] Why sudo docker?</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1840</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The page&lt;br/&gt;
&lt;a href=&quot;https://maven.apache.org/surefire/maven-surefire-plugin/docker.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/surefire/maven-surefire-plugin/docker.html&lt;/a&gt;&lt;br/&gt;
says&lt;br/&gt;
&quot;$ sudo docker build --no-cache -t my-image:1 -f ./Dockerfile .&quot;&lt;/p&gt;

&lt;p&gt;Is sudo really needed here?&lt;br/&gt;
If so, the reason should be explained and any limitations noted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13327197">SUREFIRE-1840</key>
            <summary>Why sudo docker?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                            <label>up-for-grabs</label>
                    </labels>
                <created>Sat, 12 Sep 2020 09:07:12 +0000</created>
                <updated>Fri, 4 Jul 2025 07:37:08 +0000</updated>
                            <resolved>Sat, 5 Dec 2020 23:49:08 +0000</resolved>
                                                    <fixVersion>3.0.0-M6</fixVersion>
                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17239558" author="mslwang" created="Fri, 27 Nov 2020 07:49:48 +0000"  >&lt;p&gt;Yes, from what I&apos;ve seen, it is required.&lt;/p&gt;

&lt;p&gt;I would expect that this is because the docker daemon generally requires root level privileges for most of its core functionality.&lt;/p&gt;

&lt;p&gt;For more information (~5 years old, but still applies):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/156938/why-does-docker-need-root-privileges&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://unix.stackexchange.com/questions/156938/why-does-docker-need-root-privileges&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using docker without sudo/ root level access is currently experimental.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/engine/security/rootless/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.docker.com/engine/security/rootless/&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;A limitation that is undeniable is that root level privileges are being given, which means that if that are any vulnerabilities with the docker system, there is the possibility of providing root access to unwanted entities, which has potential to incredibly harm on the system that is using docker.&lt;/p&gt;</comment>
                            <comment id="17239578" author="tibor17" created="Fri, 27 Nov 2020 08:58:37 +0000"  >&lt;p&gt;Closing for now. Feel free to reopen it if it is needed.&lt;/p&gt;</comment>
                            <comment id="17239717" author="sebb@apache.org" created="Fri, 27 Nov 2020 15:00:29 +0000"  >&lt;p&gt;Two comments:&lt;/p&gt;

&lt;p&gt;1) I use Docker on macOS, and sudo is NOT needed for building or running.&lt;/p&gt;

&lt;p&gt;2) The reason for requiring sudo needs to be explained on the website, not just here&lt;/p&gt;</comment>
                            <comment id="17239811" author="tibor17" created="Fri, 27 Nov 2020 19:19:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb&quot; class=&quot;user-hover&quot; rel=&quot;sebb&quot;&gt;sebb&lt;/a&gt;&lt;br/&gt;
Use sudo or not, it&apos;s your job!&lt;br/&gt;
You do not understand the reason why this page exists.&lt;br/&gt;
The page does not tell you HOW you should use Docker. It tells you that now it is possible to use Maven build in Docker container.&lt;br/&gt;
It is whole marketing point.&lt;br/&gt;
Some old versions were unstable due to they used PPID checker which killed the JVM. We disabled the checker, every user can enable the checked in the config, but the important message is that these problems are gone and the Docker projects are happy. The whole marketing trick, nothing more!&lt;/p&gt;</comment>
                            <comment id="17239819" author="mslwang" created="Fri, 27 Nov 2020 19:37:23 +0000"  >&lt;p&gt;I currently mainly use Manjaro Linux, but I do have a Mac, so I will say that I have encountered both usages.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;After doing some looking, here is the reasoning docker on Linux and macOS act differently:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.amazee.io/blog/post/docker-on-mac-performance-docker-machine-vs-docker-for-mac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.amazee.io/blog/post/docker-on-mac-performance-docker-machine-vs-docker-for-mac&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&quot;&#160;On Linux systems, Docker directly leverages the kernel of the host system, and file system mounts are native.&lt;br/&gt;
 &#160;&lt;br/&gt;
 On Windows and Mac, it&#8217;s slightly different. These operating systems do not provide a Linux Kernel, so Docker starts a virtual machine with a small Linux installed and runs Docker containers in there. File system mounts are also not possible natively and need a helper-system in between, which both Docker and Cachalot provide.&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I ran `docker build` on my Linux system without sudo and it denied me permission. I&apos;d assume the Docker daemon runs directly on the Linux system instead of in a VM, which I&apos;d assume affects how users interact with docker from the outside.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17239821" author="mslwang" created="Fri, 27 Nov 2020 19:42:22 +0000"  >&lt;p&gt;In terms of what to modify in the website, it&apos;s possible that highlighting OS differences would be valuable.&lt;/p&gt;</comment>
                            <comment id="17239825" author="tibor17" created="Fri, 27 Nov 2020 19:49:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mslwang&quot; class=&quot;user-hover&quot; rel=&quot;mslwang&quot;&gt;mslwang&lt;/a&gt;&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but again, we did not post the web site as a Docker tutorial, &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, it has another purpose than teaching dev on how to use Docker.&lt;br/&gt;
It is just the marketing.&lt;br/&gt;
People usually use Maven in Carlo&apos;s docker images...&lt;/p&gt;</comment>
                            <comment id="17239830" author="mslwang" created="Fri, 27 Nov 2020 20:03:02 +0000"  >&lt;p&gt;Still helpful for anyone setting it up. I haven&apos;t worked with Maven on docker much, so I can&apos;t say anything.&lt;/p&gt;</comment>
                            <comment id="17239833" author="tibor17" created="Fri, 27 Nov 2020 20:09:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb&quot; class=&quot;user-hover&quot; rel=&quot;sebb&quot;&gt;sebb&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mslwang&quot; class=&quot;user-hover&quot; rel=&quot;mslwang&quot;&gt;mslwang&lt;/a&gt;&lt;br/&gt;
If you guys both would agree on removing sudo, feel free to open a pullrequest on Github.&lt;br/&gt;
It is a little change but it has to work for our users.&lt;br/&gt;
T&lt;/p&gt;</comment>
                            <comment id="17239939" author="sebb@apache.org" created="Sat, 28 Nov 2020 11:35:42 +0000"  >&lt;p&gt;I&apos;m not saying sudo should be removed, merely that the reason for it should be documented.&lt;br/&gt;
Since it appears it is only required on Linux, that should be noted.&lt;/p&gt;

&lt;p&gt;At the moment, it is confusing for macOS users.&lt;/p&gt;

&lt;p&gt;macOS does not require sudo for use with Docker, so it appears that it is Maven that requires sudo.&lt;/p&gt;</comment>
                            <comment id="17240064" author="mslwang" created="Sat, 28 Nov 2020 20:56:16 +0000"  >&lt;p&gt;I will see to reflecting that information on the website.&lt;/p&gt;</comment>
                            <comment id="17243591" author="mslwang" created="Thu, 3 Dec 2020 23:52:28 +0000"  >&lt;p&gt;I have submitted a PR with the aforementioned change.&lt;/p&gt;</comment>
                            <comment id="17244600" author="tibor17" created="Sat, 5 Dec 2020 23:49:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=9ef0d6e191ea73b0f8ae10f47552742d8fe7fc75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=9ef0d6e191ea73b0f8ae10f47552742d8fe7fc75&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17995241" author="olamy" created="Fri, 4 Jul 2025 07:37:08 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/3010&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#3010&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ijfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>