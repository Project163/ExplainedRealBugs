<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:09:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-810] Endorsed dirs mechanism not working</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-810</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;The endorsed mechanism doesn&apos;t seem to work. &lt;/p&gt;

&lt;p&gt;You can reproduce this test by creating a new maven project, placing the java file in test/java, and using the provided pom.xml&lt;/p&gt;

&lt;p&gt;The test class checks the jar from which the WebFault class is loaded. It&apos;s expected to use the one in the webservices library, as can be checked by executing the test from command line with the required parameters. &lt;/p&gt;

&lt;p&gt;When executing mvn test, the test fails:&lt;/p&gt;

&lt;p&gt;C:\Users\Jose\xxxx\SurefireBug&amp;gt;mvn test&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Unnamed - SurefireBug:SurefireBug:jar:0.0.1-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;test&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [resources:resources &lt;/p&gt;
{execution: default-resources}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Using platform encoding (Cp1252 actually) to copy filtered resources,i.e. build is platform dependent!&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 0 resource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [dependency:copy &lt;/p&gt;
{execution: process}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Configured Artifact: org.glassfish.metro:webservices-rt:2.2-b10:jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Configured Artifact: org.glassfish.metro:webservices-api:2.2-b10:jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.glassfish.metro:webservices-rt:2.2-b10:jar already exists in C:\Users\Jose\xxxx\SurefireBug\target\endorsed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.glassfish.metro:webservices-api:2.2-b10:jar already exists in C:\Users\Jose\xxxx\SurefireBug\target\endorsed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [compiler:compile &lt;/p&gt;
{execution: default-compile}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Nothing to compile - all classes are up to date&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [resources:testResources &lt;/p&gt;
{execution: default-testResources}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Using platform encoding (Cp1252 actually) to copy filtered resources,&lt;br/&gt;
i.e. build is platform dependent!&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 0 resource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [dependency:copy-dependencies &lt;/p&gt;
{execution: install}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; junit-4.10.jar already exists in destination.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; javax.annotation-3.1.1-b06.jar already exists in destination.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; webservices-api-2.2-b10.jar already exists in destination.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; webservices-rt-2.2-b10.jar already exists in destination.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; hamcrest-core-1.1.jar already exists in destination.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [compiler:testCompile &lt;/p&gt;
{execution: default-testCompile}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Nothing to compile - all classes are up to date&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [surefire:test &lt;/p&gt;
{execution: default-test}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: C:\Users\Jose\xxxx\SurefireBug\target\surefire-reports&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running TestSurefire&lt;br/&gt;
WebFault class:/C:/Program%20Files/Java/jdk1.6.0_25/jre/lib/rt.jar&lt;br/&gt;
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests:   test(TestSurefire)&lt;/p&gt;

&lt;p&gt;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; There are test failures.&lt;/p&gt;

&lt;p&gt;Please refer to C:\Users\Jose\xxxx\SurefireBug\target\surefire-reports for the individual test results.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; For more information, run Maven with the -e switch&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Wed Dec 14 13:18:49 CET 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 25M/346M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;And from command line:&lt;/p&gt;


&lt;p&gt;C:\Users\Jose\xxxx\SurefireBug&amp;gt;java -Djava.endorsed.dirs=target\endorsed -classpath target\test-classes;target\lib\hamcrest-core-1.1.jar;target\lib\junit-4.10.jar;target\lib\webservices-api-2.2-b10.jar;target\lib\webservices-rt-2.2-b10.jar org.junit.runner.JUnitCore TestSurefire&lt;br/&gt;
JUnit version 4.10&lt;br/&gt;
.WebFault class:/C:/Users/Jose/agentmanagement/SurefireBug/target/endorsed/webservices-api-2.2-b10.jar&lt;/p&gt;

&lt;p&gt;Time: 0,005&lt;/p&gt;

&lt;p&gt;OK (1 test)&lt;/p&gt;

&lt;p&gt;I&apos;ve tried changing the forkMode, useSystemClassLoader and childDelegation parameters.&lt;br/&gt;
In the Test report we can see that the java.endorsed.dirs property is not changed.&lt;/p&gt;

&lt;p&gt;I&apos;ve also tried using a previous version (2.5). In this case, the property is changed, but the test also fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12810546">SUREFIRE-810</key>
            <summary>Endorsed dirs mechanism not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="jcervera">Jos&#233; Cervera</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2011 06:25:33 +0000</created>
                <updated>Fri, 4 Jul 2025 07:17:33 +0000</updated>
                            <resolved>Tue, 20 Dec 2011 15:48:02 +0000</resolved>
                                    <version>2.11</version>
                                    <fixVersion>2.12</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14455088" author="krosenvold" created="Wed, 14 Dec 2011 09:44:19 +0000"  >&lt;p&gt;YOu probably need to set this using a -D option on &quot;argLine&quot;&lt;/p&gt;</comment>
                            <comment id="14456990" author="jcervera" created="Wed, 14 Dec 2011 10:01:40 +0000"  >&lt;p&gt;Yes, this works (thanks!). &lt;/p&gt;

&lt;p&gt;But isn&apos;t it a bug to ignore the java.endorsed.dirs property ? Besides, the behavior has changed between 2.5 and 2.11.&lt;/p&gt;</comment>
                            <comment id="14455235" author="krosenvold" created="Wed, 14 Dec 2011 15:49:56 +0000"  >&lt;p&gt;I think this is mostly a documentation issue; there are some vm attributes that need to be set upon boot, and somewhere around 2.6 we stopped sending them &quot;all&quot; through the command line. I will close this issue when I have added sufficient docs.&lt;/p&gt;</comment>
                            <comment id="14455256" author="krosenvold" created="Tue, 20 Dec 2011 15:48:02 +0000"  >&lt;p&gt;Dcoumentation updated in r1221498&lt;/p&gt;</comment>
                            <comment id="17994213" author="olamy" created="Fri, 4 Jul 2025 07:17:33 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1742&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1742&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720200" name="TEST-TestSurefire.xml" size="8538" author="jose.cervera" created="Wed, 14 Dec 2011 06:25:34 +0000"/>
                            <attachment id="12720262" name="TestSurefire.java" size="650" author="jose.cervera" created="Wed, 14 Dec 2011 06:25:34 +0000"/>
                            <attachment id="12719856" name="pom.xml" size="2758" author="jose.cervera" created="Wed, 14 Dec 2011 06:25:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bdt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>