<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:10:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-967] ArrayIndexOutOfBounds in SmartStackTraceParser</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-967</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We are testing using JUnit tests against Webshphere 7 aplication server.&lt;/p&gt;

&lt;p&gt;For some whatever strange reason, WebSphere creates an exception chain, in which not all exceptions in the chain have a stack trace array filled in. (I have heard rumors of JVMs loosing stack traces in exceptions under some strange conditions).&lt;/p&gt;

&lt;p&gt;The result is the following exception in Surefire 2.13 (with 2.11, the tests pass and report is generated correctly as the exception processing is different from 2.13 as I have seen):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] There was an error in the forked process
org.apache.maven.surefire.testset.TestSetFailedException: java.lang.ArrayIndexOutOfBoundsException: 0; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0
java.lang.ArrayIndexOutOfBoundsException: 0
	at org.apache.maven.surefire.report.SmartStackTraceParser.rootIsInclass(SmartStackTraceParser.java:176)
	at org.apache.maven.surefire.report.SmartStackTraceParser.getString(SmartStackTraceParser.java:131)
	at org.apache.maven.surefire.common.junit4.JUnit4StackTraceWriter.smartTrimmedStackTrace(JUnit4StackTraceWriter.java:73)
	at org.apache.maven.surefire.booter.ForkingRunListener.encode(ForkingRunListener.java:328)
	at org.apache.maven.surefire.booter.ForkingRunListener.encode(ForkingRunListener.java:312)
	at org.apache.maven.surefire.booter.ForkingRunListener.toString(ForkingRunListener.java:258)
	at org.apache.maven.surefire.booter.ForkingRunListener.testError(ForkingRunListener.java:131)
	at org.apache.maven.surefire.common.junit4.JUnit4RunListener.testFailure(JUnit4RunListener.java:111)
	at org.junit.runner.notification.RunNotifier$4.notifyListener(RunNotifier.java:100)
	at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:41)
	at org.junit.runner.notification.RunNotifier.fireTestFailure(RunNotifier.java:97)
	at org.junit.internal.runners.model.EachTestNotifier.addFailure(EachTestNotifier.java:26)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:267)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:292)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:208)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:158)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:95)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;



&lt;p&gt;The exception chain received by JUnit test case from WebShpere basically is as follows (two outermost exceptions have empty stack trace array):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SEVERE: Exception 1
Excpetion class: javax.ejb.EJBTransactionRolledbackException
Exception message: nested exception is: javax.ejb.EJBException: See
nested exception; nested exception is:
java.util.ConcurrentModificationException
Exception stacktrace size: 0
javax.ejb.EJBTransactionRolledbackException: nested exception is:
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
Caused by: java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)
javax.ejb.EJBTransactionRolledbackException: nested exception is:
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
Caused by: javax.ejb.EJBException: See nested exception; nested
exception is: java.util.ConcurrentModificationException
Caused by: java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)

SEVERE: Exception 2
Excpetion class: javax.ejb.EJBException
Exception message: See nested exception; nested exception is:
java.util.ConcurrentModificationException
Exception stacktrace size: 0
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)
javax.ejb.EJBException: See nested exception; nested exception is:
java.util.ConcurrentModificationException
Caused by: java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)

SEVERE: Exception 3
Excpetion class: java.util.ConcurrentModificationException
Exception message: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
Exception stacktrace size: 43
java.util.ConcurrentModificationException
    at
java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
    at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
    at java.util.HashMap$KeyIterator.next(HashMap.java:269)
    at
java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:334)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger$InternalValueMerger.visit(EvaluationLevelMerger.java:212)
    at
com.whitestein.lsps.engine.state.xml.RecordValue.accept(RecordValue.java:280)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeValue(EvaluationLevelMerger.java:165)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevelInternal(EvaluationLevelMerger.java:131)
    at
com.whitestein.lsps.engine.lang.EvaluationLevelMerger.mergeLevel(EvaluationLevelMerger.java:113)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:226)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpressionInContext(ModelProviderServiceBean.java:216)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:211)
    at
com.whitestein.lsps.modulemanager.ModelProviderServiceBean.evaluateExpression(ModelProviderServiceBean.java:266)
    at
com.whitestein.lsps.engine.EJSLocal0SLModelProviderServiceBean_fa764f23.evaluateExpression(EJSLocal0SLModelProviderServiceBean_fa764f23.java)
    at
com.whitestein.lsps.engine.TestSupportServiceBean.evaluateExpression(TestSupportServiceBean.java:84)
    at
com.whitestein.lsps.engine.ejb.EJSLocal0SLTestSupportServiceBean_4a379e09.evaluateExpression(EJSLocal0SLTestSupportServiceBean_4a379e09.java)
    at sun.reflect.GeneratedMethodAccessor635.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at
com.whitestein.lsps.ws.ComponentServlet.doPost(ComponentServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at
com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:181)
    at
com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
    at
com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
    at
com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1592)
    at
com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
    at
com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
    at
com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at
com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at
com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at
com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at
com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1646)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>*</environment>
        <key id="12810384">SUREFIRE-967</key>
            <summary>ArrayIndexOutOfBounds in SmartStackTraceParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="erce">Rastislav Cesnek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Mar 2013 03:59:49 +0000</created>
                <updated>Fri, 4 Jul 2025 07:20:29 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 12:18:42 +0000</resolved>
                                    <version>2.13</version>
                                    <fixVersion>2.14.1</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14455747" author="erce" created="Tue, 5 Mar 2013 05:49:50 +0000"  >&lt;p&gt;I see, one of the reasons could be that a JVM can throws &quot;fast exceptions&quot; (after it optimizes the code execution) which do not have stack trace set.&lt;/p&gt;</comment>
                            <comment id="14455776" author="krosenvold" created="Wed, 6 Mar 2013 12:18:42 +0000"  >&lt;p&gt;Fixed in c513cbc5b76619a6164e2ef3a79511d81dea878b, try 2.15-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="14455759" author="erce" created="Fri, 8 Mar 2013 07:08:49 +0000"  >&lt;p&gt;Works charming, tested with maven-surefire-plugin-2.15-20130307.043150-1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 9.688 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
selfComposite(com.whitestein.lsps.exec.SharedRecordCompositionTest)  Time elapsed: 2.016 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is: java.util.ConcurrentModificationException
        at java.util.HashMap$AbstractMapIterator.checkConcurrentMod(HashMap.java:191)
        at java.util.HashMap$AbstractMapIterator.makeNext(HashMap.java:196)
        at java.util.HashMap$KeyIterator.next(HashMap.java:269)
        at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1017)
[...SNIP...]

Results :

Tests in error:
  SharedRecordCompositionTest ? EJBTransactionRolledback nested exception is: ja...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17994371" author="olamy" created="Fri, 4 Jul 2025 07:20:29 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1639&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bbzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>