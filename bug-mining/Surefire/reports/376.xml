<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1019] TestNG provider fails to execute JUnit4 tests</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1019</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;TestNG won&apos;t run certain jUnit tests. The test that showed this behaviour are compiled from specs bei jnario and use the special jnario test runner. During a maven build, TestNG &quot;inspects&quot; all test classes but doesn&apos;t execute any test method. &lt;/p&gt;

&lt;p&gt;This thread on the maven uses mailing list contain further informations about this issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/maven-users/201307.mbox/%3CCAKbgLvVDAW7TibdYxpJQNnWGKnMkXeCwDRe_m5NCBH6u06vNjA@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/maven-users/201307.mbox/%3CCAKbgLvVDAW7TibdYxpJQNnWGKnMkXeCwDRe_m5NCBH6u06vNjA@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12810450">SUREFIRE-1019</key>
            <summary>TestNG provider fails to execute JUnit4 tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="agudian">Andreas Gudian</assignee>
                                    <reporter username="treverix">Andreas Dolk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 15:13:26 +0000</created>
                <updated>Fri, 4 Jul 2025 07:21:21 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 13:53:57 +0000</resolved>
                                    <version>2.15</version>
                                    <fixVersion>2.16</fixVersion>
                                    <component>TestNG support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14456046" author="agudian" created="Thu, 25 Jul 2013 15:31:21 +0000"  >&lt;p&gt;I&apos;ve committed a fix already that works with simple JUnit4 tests. &lt;/p&gt;

&lt;p&gt;However, I already saw that using the Parameterized runner the tests would be executed (when using the JUnit 4.10 style of the Parameterized-API - with the 4.11 style, no test was executed) - but Surefire get&apos;s no information about them.&lt;/p&gt;

&lt;p&gt;So please try the latest 2.16-SNAPSHOT after the next build on our CI server finished (successfully, I hope): &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1234/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1234/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let me know if it executes your tests and if the test results are reported correctly in the TEST-*.xml files and on the console.&lt;/p&gt;

&lt;p&gt;I&apos;ll extend our own ITs as soon as I found out where the problem with the more obscure runners might be.&lt;/p&gt;</comment>
                            <comment id="14456038" author="treverix" created="Thu, 25 Jul 2013 16:18:49 +0000"  >&lt;p&gt;I&apos;ve installed the 2.16-SNAPSHOT and tried the test again. Unfortunately I have only jUnit tests with that obscure runner. I can&apos;t tell if other jUnit test would have shown the same behaviour. The provider still doesn&apos;t run the tests. I&apos;ve added a slightly sanitized maven log, showing what happens on my machine.&lt;/p&gt;

&lt;p&gt;TestNG even tries to run tests on anonymous classes (the ones with the $x suffix), while jUnit wouldn&apos;t touch them (visible when I explicitly define the jUnit provider dependency)&lt;/p&gt;</comment>
                            <comment id="14456070" author="agudian" created="Fri, 26 Jul 2013 13:43:57 +0000"  >&lt;p&gt;I tested around a bit, and this is what I found: even when launching TestNG manually with a nice testng.xml referencing the JUnit4 test, it is able to execute the tests, but is not able to report the test results. So there&apos;s no way for me to get it report the results to Surefire either.&lt;/p&gt;

&lt;p&gt;This fix here now is only makes sure to let TestNG know when it deals with a JUnit test. How well it may run is up to the TestNG version used.&lt;/p&gt;

&lt;p&gt;I guess you should strip down your problem to a simple example with the JUnit4-Runner you are using and create a non-Surefire related TestNG issue over at their tracker.&lt;/p&gt;

&lt;p&gt;As a workaround for you, try splitting the TestNG and JUnit tests with a naming convention and add two executions of the &lt;tt&gt;test&lt;/tt&gt; goal to the test phase in your pom, once with an include-filter for TestNG and explicitly specifying the &lt;tt&gt;surefire-testng&lt;/tt&gt; provider, and once with an include-filter for the JUnit tests with an explicit declaration of the &lt;tt&gt;surefire-junit47&lt;/tt&gt; provider. That should work for you, although it&apos;s a bit bulky.&lt;/p&gt;</comment>
                            <comment id="14455844" author="agudian" created="Fri, 26 Jul 2013 13:53:58 +0000"  >&lt;p&gt;Closing as fixed.&lt;/p&gt;</comment>
                            <comment id="14455962" author="treverix" created="Fri, 26 Jul 2013 14:02:20 +0000"  >&lt;p&gt;I already tried different executions, but that didn&apos;t work, because I can&apos;t pull the dependencies to set the providers &lt;b&gt;into&lt;/b&gt; the executions. If I could, that would solve my problem immediately.&lt;/p&gt;

&lt;p&gt;They&apos;re outside with the unwanted effect, that &lt;b&gt;both&lt;/b&gt; providers try to handle all executions - plus the undeclared &quot;default-tests&quot;, which triples the build time and causes build fails in case one provider doesn&apos;t find executable tests in one execution.&lt;/p&gt;

&lt;p&gt;As I said, I&apos;m pretty lost...&lt;/p&gt;</comment>
                            <comment id="14455922" author="agudian" created="Fri, 26 Jul 2013 14:15:38 +0000"  >&lt;p&gt;Ok, then: do not specify the providers at all, but configure the parameter &lt;tt&gt;testNGArtifactName&lt;/tt&gt; to &lt;tt&gt;dev:null&lt;/tt&gt; (or foo:bar) in the JUnit-execution to not let Surefire auto-select the surefire-testng provider (because it does not find testNG on the classpath). &lt;/p&gt;

&lt;p&gt;The (third) default execution of Surefire that would now fail your build can be configured with &lt;tt&gt;skip&lt;/tt&gt; set to &lt;tt&gt;true&lt;/tt&gt;, causing surefire not doing anything during &quot;default-tests&quot;.&lt;/p&gt;</comment>
                            <comment id="17994417" author="olamy" created="Fri, 4 Jul 2025 07:21:21 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1594&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720311" name="maven-log.txt" size="5049" author="treverix" created="Thu, 25 Jul 2013 16:18:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bg9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>