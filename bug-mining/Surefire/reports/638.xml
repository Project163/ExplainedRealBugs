<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:16:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1602] Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1602</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;p&gt;Use a docker image for maven:3.6 (docker run -it maven:3.6.0-jdk-8 bash)&lt;/p&gt;

&lt;p&gt;Inside generate a new project:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn archetype:generate \
 -DinteractiveMode=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; \
 -DarchetypeGroupId=com.sap.cloud.s4hana.archetypes \
 -DarchetypeArtifactId=scp-cf-tomee \
 -DarchetypeVersion=2.7.0 \
 -DgroupId=com.sap.cloud.sdk.tutorial \
 -DartifactId=testapp\
 -Dversion=1.0-SNAPSHOT \
 -Dpackage=com.sap.cloud.s4hana.examples&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the folder testapp set surefire version to 3.0.0-M1 in unit-tests/pom.xml and integration-tests/pom.xml&lt;/p&gt;

&lt;p&gt;Build the project&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn -Dmaven.repo.local=maven_local_repo -Dmaven.test.skip clean install&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Running the tests afterwards will fail&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn test -Dmaven.repo.local=maven_local_repo --file ./integration-tests/pom.xml&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The error message in the logs is:&lt;br/&gt;
 Error: Could not find or load main class org.apache.maven.surefire.booter.ForkedBooter&lt;/p&gt;

&lt;p&gt;However, it only fails when using ./ in the beginning of the file parameter in combination with having a local maven repo.&lt;/p&gt;</description>
                <environment>maven 3.6.0 open-jdk-8 (docker image maven:3.6.0-open-jdk-8)</environment>
        <key id="13199857">SUREFIRE-1602</key>
            <summary>Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="daniel.kurzynski">Daniel Kurzynski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2018 15:00:08 +0000</created>
                <updated>Fri, 4 Jul 2025 07:32:34 +0000</updated>
                            <resolved>Wed, 5 Dec 2018 03:27:10 +0000</resolved>
                                    <version>3.0.0-M1</version>
                                    <fixVersion>3.0.0-M2</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16701080" author="tibor17" created="Tue, 27 Nov 2018 21:45:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt;&lt;br/&gt;
Create a project on GitHub because this has to be reproduced.&lt;br/&gt;
Where is your module &lt;tt&gt;integration-tests&lt;/tt&gt;. It&apos;s not seen in the command with &lt;tt&gt;archetype&lt;/tt&gt; s I need to check it out with GitHub project.&lt;/p&gt;</comment>
                            <comment id="16701777" author="daniel.kurzynski" created="Wed, 28 Nov 2018 12:01:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
Sure. Please use this repository: &lt;a href=&quot;https://github.com/daniel-kurzynski/reproduce-surefire-issue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/daniel-kurzynski/reproduce-surefire-issue&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It includes all the first steps. You just can execute the following steps:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn -Dmaven.repo.local=maven_local_repo -Dmaven.test.skip clean install&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Running the tests afterwards will fail&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn test -Dmaven.repo.local=maven_local_repo --file ./integration-tests/pom.xml&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16705735" author="tibor17" created="Sat, 1 Dec 2018 08:50:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt;&lt;br/&gt;
I used your project without Docker and it works with some test failure but not the error as you described. Do you have the same experiences?&lt;/p&gt;

&lt;p&gt;Do you use white spaces in paths?&lt;br/&gt;
Pls check it. Your all paths to your project, Maven Local Repo and user home.&lt;/p&gt;</comment>
                            <comment id="16705747" author="tibor17" created="Sat, 1 Dec 2018 09:52:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt;&lt;br/&gt;
Is this issue related to&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1593&quot; title=&quot;3.0.0-M1 produces invalid code sources on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1593&quot;&gt;&lt;del&gt;SUREFIRE-1593&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1568&quot; title=&quot;Versions 2.21 and higher doesn&amp;#39;t work with junit-platform for Java 9 module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1568&quot;&gt;&lt;del&gt;SUREFIRE-1568&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="16705770" author="eolivelli" created="Sat, 1 Dec 2018 10:41:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; I am able to reproduce the same exact error, without docker&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; Exit Code: 1
[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException The forked VM terminated without properly saying goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called?
[ERROR] Command was /bin/sh -c cd /home/eolivelli/dev/reproduce-surefire-issue/./integration-tests &amp;amp;&amp;amp; /home/eolivelli/Scaricati/jdk1.8.0_131/jre/bin/java -javaagent:/home/eolivelli/dev/reproduce-surefire-issue/maven_local_repo/org/jacoco/org.jacoco.agent/0.8.1/org.jacoco.agent-0.8.1-runtime.jar=destfile=/home/eolivelli/dev/reproduce-surefire-issue/./integration-tests/target/coverage-reports/jacoco.exec -Xmx1024m -Dorg.slf4j.simpleLogger.defaultLogLevel=info -Djava.io.tmpdir=target/arquillian-working-dir/1/ -jar /home/eolivelli/dev/reproduce-surefire-issue/./integration-tests/target/surefire/surefirebooter3841023972205645129.jar /home/eolivelli/dev/reproduce-surefire-issue/integration-tests/target/surefire 2018-12-01T11-40-48_273-jvmRun1 surefire5325016696166340778tmp surefire_06888604228623956777tmp&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16705776" author="eolivelli" created="Sat, 1 Dec 2018 10:54:01 +0000"  >&lt;p&gt;Attaching logs with error and without error.&lt;/p&gt;

&lt;p&gt;If you run this command there is no error (only failed tests)&lt;br/&gt;
mvn test -Dmaven.repo.local=maven_local_repo --file integration-tests/pom.xml&lt;/p&gt;</comment>
                            <comment id="16705783" author="eolivelli" created="Sat, 1 Dec 2018 11:21:30 +0000"  >&lt;p&gt;when running with &quot;-file ./integration-tests&quot; the surefirebooter.jar conains entries like this one:&lt;/p&gt;

&lt;p&gt;Manifest-Version: 1.0&lt;br/&gt;
 Class-Path: ../../../../maven_local_repo/org/apache/maven/surefire/sur&lt;br/&gt;
 &#160;efire-booter/3.0.0-M1/surefire-booter-3.0.0-M1.jar&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;when running with &quot;-file integration-tests&quot; the surefirebooter.jar contains entries like this one:&lt;/p&gt;

&lt;p&gt;Manifest-Version: 1.0&lt;br/&gt;
Class-Path: ../../../maven_local_repo/org/apache/maven/surefire/surefi&lt;br/&gt;
&#160;re-booter/3.0.0-M1/surefire-booter-3.0.0-M1.jar&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I guess the problem is about having a wrong number of&#160; &apos;../&apos;&lt;/p&gt;</comment>
                            <comment id="16705784" author="eolivelli" created="Sat, 1 Dec 2018 11:25:54 +0000"  >&lt;p&gt;I think it would be better to have full absolute paths and not relative ones&lt;/p&gt;</comment>
                            <comment id="16705813" author="eolivelli" created="Sat, 1 Dec 2018 13:05:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;you can try&#160; this: use absolute paths for the pom.xml file&lt;/p&gt;

&lt;p&gt;mvn test -Dmaven.repo.local=maven_local_repo --file $(realpath ./integration-tests/pom.xml)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16705828" author="githubbot" created="Sat, 1 Dec 2018 13:35:14 +0000"  >&lt;p&gt;eolivelli opened a new pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Compute Class-Path entries as relative to normalized temporary directory&lt;/p&gt;

&lt;p&gt;   Signed-off-by: Enrico Olivelli &amp;lt;eolivelli@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16705830" author="eolivelli" created="Sat, 1 Dec 2018 13:39:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; I have a patch, that is simple and it is working.&lt;/p&gt;

&lt;p&gt;Given that it is the right fix:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Do you have an hint about creating an integration test&#160; ? the setup is really difficuly to test, because you have to use a local maven repository, which is not the one in which you are compiling surefire but default. Maybe I can create a simple unit test&lt;/li&gt;
	&lt;li&gt;Can you trigger the tests on Apache CI ? I can&apos;t push my branch to the repo which is automatically tested. This change is really SO sensitive because it is about &lt;b&gt;normalization&lt;/b&gt; of paths, which has been usual pain for Surefire in the last month&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16705882" author="githubbot" created="Sat, 1 Dec 2018 16:05:18 +0000"  >&lt;p&gt;Tibor17 commented on issue #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#issuecomment-443436591&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#issuecomment-443436591&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   How this path really looked like?&lt;br/&gt;
   `file.getParentFile().toPath()`&lt;br/&gt;
   What was the problem that you had to nomalize it?&lt;br/&gt;
   On Windows it is TMP.&lt;br/&gt;
   On Linux it is `target/surefire`. Was this path relative before?&lt;br/&gt;
   Maybe we should take a look in `AbstractSurefireMojo` where the path is originally create. It may simply happen that other parts of the code may also have this problem if the path is not canonical. I presume that the class `Classpath` using String instead of File or Path might have all the same problem. It would be worth to break the compatibility right here in a new major version.&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16705883" author="githubbot" created="Sat, 1 Dec 2018 16:06:43 +0000"  >&lt;p&gt;Tibor17 edited a comment on issue #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#issuecomment-443436591&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#issuecomment-443436591&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   How this path really looked like?&lt;br/&gt;
   `file.getParentFile().toPath()`&lt;br/&gt;
   What was the problem that you had to nomalize it?&lt;br/&gt;
   On Windows it is TMP.&lt;br/&gt;
   On Linux it is `target/surefire`. Was this path relative before?&lt;br/&gt;
   Maybe we should take a look in `AbstractSurefireMojo` where the path is originally created. It may simply happen that other parts of the code may also have this problem if the path is not canonical. I presume that the class `Classpath` using String instead of File or Path might have all the same problem. It would be worth to break the compatibility right here in a new major version.&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16705892" author="tibor17" created="Sat, 1 Dec 2018 16:20:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt;&lt;br/&gt;
As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt; said he was able to reproduce the issue without Docker.&lt;br/&gt;
Can you please try as well?&lt;br/&gt;
And then use the SNAPSHOT version from the PR on GitHub?&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204&lt;/a&gt;&lt;br/&gt;
If you simply build the Surefire `mvn install -DskipTests` and use the version `3.0.0-M2-SNAPSHOT` in your project, this would confirm we are on the right way.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt; We should perhaps move your fix to `AbstractSurefireMojo` class because there is the source of the path. See the method `getSurefireTempDir()` - &lt;a href=&quot;https://github.com/apache/maven-surefire/blob/master/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java#L2159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/blob/master/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java#L2159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16705896" author="githubbot" created="Sat, 1 Dec 2018 16:26:32 +0000"  >&lt;p&gt;Tibor17 commented on issue #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#issuecomment-443438168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#issuecomment-443438168&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I have assigned this issue in version `3.0.0-M2` because we have fixed several problem of file paths and related to `JarManifestForkConfiguration.java`. Let&apos;s have them fixed all in one consistent version.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16705897" author="githubbot" created="Sat, 1 Dec 2018 16:26:56 +0000"  >&lt;p&gt;Tibor17 edited a comment on issue #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#issuecomment-443438168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#issuecomment-443438168&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I have assigned this issue to version `3.0.0-M2` because we have fixed several problems of file paths and related to `JarManifestForkConfiguration.java`. Let&apos;s have them fixed all in one consistent version.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706177" author="githubbot" created="Sun, 2 Dec 2018 10:43:25 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#discussion_r238093294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#discussion_r238093294&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   It would be worth to copy &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and integrate it in `surefire-its` as an integration test.&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://github.com/daniel-kurzynski/reproduce-surefire-issue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/daniel-kurzynski/reproduce-surefire-issue&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706196" author="githubbot" created="Sun, 2 Dec 2018 11:25:47 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#discussion_r238094508&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#discussion_r238094508&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   That project is huge, it downloads a lot of deps I mean.&lt;/p&gt;

&lt;p&gt;   My problem with an it test is that the real problem arises only while using the combo: local maven repository + using -file with a non canonical path for pom.&lt;/p&gt;

&lt;p&gt;   So even if I import that project I don&apos;t know how to reproduce that set of parameters, do you know how with current tests suites in surefire?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706205" author="githubbot" created="Sun, 2 Dec 2018 11:56:19 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#discussion_r238095522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#discussion_r238095522&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   I will guide you on how to write an IT in the evening.&lt;br/&gt;
   Meanwhile I would like to see the path. Did you grab the path from debugger?&lt;br/&gt;
   I have used another project and the path was `d:\vcs\release\.\surefire-1605\target\classes` in my case but the project works without the fix.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706206" author="githubbot" created="Sun, 2 Dec 2018 11:57:35 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#discussion_r238095522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#discussion_r238095522&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   I will guide you on how to write an IT in the evening.&lt;br/&gt;
   Meanwhile I would like to see the path. Did you grab the path from debugger?&lt;br/&gt;
   I have used another project and the path was `d:\vcs\release\.\surefire-1605\target\classes` in my case but the project works without the fix. Maybe the path in user&apos;s project was so relative that a parent could not be found but this is only my suspicion.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706235" author="githubbot" created="Sun, 2 Dec 2018 12:21:10 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#discussion_r238096445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#discussion_r238096445&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   I am really sorry. But today I am out of home and I don&apos;t have my laptop so I can&apos;t answer your question nor write code&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16706853" author="daniel.kurzynski" created="Mon, 3 Dec 2018 09:08:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&#160;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I am only have the issue in Docker. Locally (using windows) I don&apos;t have the issue.&lt;/p&gt;

&lt;p&gt;However, I also tried &lt;a href=&quot;https://github.com/eolivelli/maven-surefire/tree/fix/SUREFIRE-1602-fix-relative&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eolivelli/maven-surefire/tree/fix/SUREFIRE-1602-fix-relative&lt;/a&gt;&#160;in Docker and with your fix it now also works.&lt;/p&gt;

&lt;p&gt;Thanks.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16707023" author="githubbot" created="Mon, 3 Dec 2018 11:23:37 +0000"  >&lt;p&gt;eolivelli opened a new pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707025" author="githubbot" created="Mon, 3 Dec 2018 11:24:08 +0000"  >&lt;p&gt;eolivelli commented on issue #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204#issuecomment-443677151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204#issuecomment-443677151&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Closing, superseded by #205&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707026" author="githubbot" created="Mon, 3 Dec 2018 11:24:09 +0000"  >&lt;p&gt;eolivelli closed pull request #204: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/204&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
index 79db5c6f3..03c703162 100644&lt;br/&gt;
&amp;#8212; a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
+++ b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/JarManifestForkConfiguration.java&lt;br/&gt;
@@ -103,7 +103,7 @@ private File createJar( @Nonnull List&amp;lt;String&amp;gt; classPath, @Nonnull String startCl&lt;/p&gt;
         {
             file.deleteOnExit();
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Path parent = file.getParentFile().toPath();&lt;br/&gt;
+        Path parent = file.getParentFile().toPath().normalize();&lt;br/&gt;
         FileOutputStream fos = new FileOutputStream( file );&lt;br/&gt;
         try ( JarOutputStream jos = new JarOutputStream( fos ) )&lt;br/&gt;
         {&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707033" author="eolivelli" created="Mon, 3 Dec 2018 11:27:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&#160;&#160; I have created a new PR &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the branch is in my github fork, I have added a commit on top of branch on ASF gitbox repo that you gently created.&lt;/p&gt;

&lt;p&gt;On linux I am able to reproduce the issue even without the &apos;local&apos; repo.&lt;/p&gt;

&lt;p&gt;I have verified that the it test breaks without the fix and passes with the fix.&lt;/p&gt;

&lt;p&gt;Last part for me is to add the it test to the suite.&lt;/p&gt;

&lt;p&gt;Any hint will be very appreciated.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16707034" author="eolivelli" created="Mon, 3 Dec 2018 11:27:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel.kurzynski&quot; class=&quot;user-hover&quot; rel=&quot;daniel.kurzynski&quot;&gt;daniel.kurzynski&lt;/a&gt; thank you for trying out my patch.&lt;/p&gt;

&lt;p&gt;We are going to fix this issue soon on master branch, and hopefully we will release 3.0.0-M2 soon.&lt;/p&gt;</comment>
                            <comment id="16707464" author="githubbot" created="Mon, 3 Dec 2018 16:20:11 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238336127&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238336127&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test passing an argLine parameter&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:dfabulich@apache.org&quot;&amp;gt;Dan Fabulich&amp;lt;/a&amp;gt;&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:krosenvold@apache.org&quot;&amp;gt;Kristian Rosenvold&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void argLine()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1622&quot; );&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   @Tibor17  I am trying to write the IT test.&lt;br/&gt;
   I have to reprodude these commands&lt;br/&gt;
   mvn install -DskipTests&lt;br/&gt;
   mvn test -file ./integration-tests/pom.xml&lt;/p&gt;

&lt;p&gt;   so we have two executions and the second is with &quot;-file&quot; with a relative path&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707564" author="githubbot" created="Mon, 3 Dec 2018 17:28:57 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238363787&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238363787&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test passing an argLine parameter&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:dfabulich@apache.org&quot;&amp;gt;Dan Fabulich&amp;lt;/a&amp;gt;&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:krosenvold@apache.org&quot;&amp;gt;Kristian Rosenvold&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void argLine()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1622&quot; );&lt;br/&gt;
+        unpacked.maven()&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   If you do it without `maven()` there is `executeInstall()`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707571" author="githubbot" created="Mon, 3 Dec 2018 17:33:42 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238365390&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238365390&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test passing an argLine parameter&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:dfabulich@apache.org&quot;&amp;gt;Dan Fabulich&amp;lt;/a&amp;gt;&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:krosenvold@apache.org&quot;&amp;gt;Kristian Rosenvold&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void argLine()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1622&quot; );&lt;br/&gt;
+        unpacked.maven()&lt;br/&gt;
+                .sysProp(&quot;skipTests&quot;, true)&lt;br/&gt;
+                .execute(&quot;install&quot;);&lt;br/&gt;
+        unpacked.&lt;br/&gt;
+                executeTest().verifyErrorFree( 1 );&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   I think now you want to execute the submodule.&lt;br/&gt;
   `addGoal( &quot;--file&quot; ).addGoal( &quot;./integration-tests/pom.xml&quot; ).executeTest().verifyErrorFree( 1 )`&lt;br/&gt;
   Do not worry about local repo, it is added automatically.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707576" author="githubbot" created="Mon, 3 Dec 2018 17:36:57 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238366563&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238366563&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test passing an argLine parameter&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:dfabulich@apache.org&quot;&amp;gt;Dan Fabulich&amp;lt;/a&amp;gt;&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:krosenvold@apache.org&quot;&amp;gt;Kristian Rosenvold&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void argLine()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1622&quot; );&lt;br/&gt;
+        unpacked.maven()&lt;br/&gt;
+                .sysProp(&quot;skipTests&quot;, true)&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Yes this is the way `.sysProp(&quot;skipTests&quot;, true)` but please use identation spaces around, or this is also possible `.addGoal( &quot;-DskipTests&quot; )`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707593" author="githubbot" created="Mon, 3 Dec 2018 17:56:50 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238373440&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238373440&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test passing an argLine parameter&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:dfabulich@apache.org&quot;&amp;gt;Dan Fabulich&amp;lt;/a&amp;gt;&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:krosenvold@apache.org&quot;&amp;gt;Kristian Rosenvold&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void argLine()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1622&quot; );&lt;br/&gt;
+        unpacked.maven()&lt;br/&gt;
+                .sysProp(&quot;skipTests&quot;, true)&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Ok will do. Thank you.&lt;br/&gt;
   I hope to have time this evening, otherwise I will send the updated patch tomorrow&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707863" author="githubbot" created="Mon, 3 Dec 2018 21:56:10 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238452891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238452891&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2369,7 +2369,21 @@ private Artifact getSurefireBooterArtifact()&lt;br/&gt;
      */&lt;br/&gt;
     File getSurefireTempDir()&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        File result = IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        try&lt;br/&gt;
+        {&lt;br/&gt;
+            File canonical = result.getCanonicalFile();&lt;br/&gt;
+            if ( !result.equals( canonical ) )&lt;br/&gt;
+            {&lt;br/&gt;
+                logger.debug( &quot;Canonicalized tempDir path &quot; + result + &quot; to &quot; + canonical );&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Let&apos;s use simple quotation marks as it is down with IOException which avoids white spaces:&lt;br/&gt;
   `logger.debug( &quot;Canonicalized surefireTempDir path &apos;&quot; + result + &quot;&apos; to &apos;&quot; + canonical + &quot;&apos;.&quot; )`&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707866" author="githubbot" created="Mon, 3 Dec 2018 22:00:16 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238454377&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238454377&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2369,7 +2369,21 @@ private Artifact getSurefireBooterArtifact()&lt;br/&gt;
      */&lt;br/&gt;
     File getSurefireTempDir()&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        File result = IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        try&lt;br/&gt;
+        {&lt;br/&gt;
+            File canonical = result.getCanonicalFile();&lt;br/&gt;
+            if ( !result.equals( canonical ) )&lt;br/&gt;
+            {&lt;br/&gt;
+                logger.debug( &quot;Canonicalized tempDir path &quot; + result + &quot; to &quot; + canonical );&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Good idea @Tibor17&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707869" author="githubbot" created="Mon, 3 Dec 2018 22:01:46 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238454825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238454825&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2369,7 +2369,21 @@ private Artifact getSurefireBooterArtifact()&lt;br/&gt;
      */&lt;br/&gt;
     File getSurefireTempDir()&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        File result = IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        try&lt;br/&gt;
+        
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            File canonical = result.getCanonicalFile();+            if ( !result.equals( canonical ) )+            {
+                logger.debug( &quot;Canonicalized tempDir path &quot; + result + &quot; to &quot; + canonical );
+            }+            return canonical;+        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;+        catch ( IOException err )&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   We use `e` instead of `err`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16707875" author="githubbot" created="Mon, 3 Dec 2018 22:08:51 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238452891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238452891&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2369,7 +2369,21 @@ private Artifact getSurefireBooterArtifact()&lt;br/&gt;
      */&lt;br/&gt;
     File getSurefireTempDir()&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        File result = IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        try&lt;br/&gt;
+        {&lt;br/&gt;
+            File canonical = result.getCanonicalFile();&lt;br/&gt;
+            if ( !result.equals( canonical ) )&lt;br/&gt;
+            {&lt;br/&gt;
+                logger.debug( &quot;Canonicalized tempDir path &quot; + result + &quot; to &quot; + canonical );&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Let&apos;s use simple quotation marks as it is down with IOException which avoids white spaces:&lt;br/&gt;
   `logger.debug( &quot;Canonicalized surefire tempDir path &apos;&quot; + result + &quot;&apos; to &apos;&quot; + canonical + &quot;&apos;.&quot; )`&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708535" author="githubbot" created="Tue, 4 Dec 2018 10:38:00 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238608501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238608501&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test ability to specify a non canonical path as module root&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:eolivelli@apache.org&quot;&amp;gt;Enrico Olivelli&amp;lt;/a&amp;gt; &lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void nonCanonicalPath()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1602&quot; );&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .executeInstall();&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .addGoal( &quot;--file&quot; )&lt;br/&gt;
+                .addGoal( &quot;./integration-tests/pom.xml&quot; )&lt;br/&gt;
+                .executeTest();&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   I can&apos;t use verifyErrorFreeLog because it does not handle the execution in a submodule (it seems to look for error report in the root directory of the unpacked test case).&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708538" author="githubbot" created="Tue, 4 Dec 2018 10:39:07 +0000"  >&lt;p&gt;eolivelli commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-444054233&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-444054233&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @Tibor17  this patch is good to go for me.&lt;br/&gt;
   We have a fix and the test.&lt;br/&gt;
   The test without the fix is failing and it is passing with the fix.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708604" author="githubbot" created="Tue, 4 Dec 2018 12:02:42 +0000"  >&lt;p&gt;Tibor17 commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238634263&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238634263&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test ability to specify a non canonical path as module root&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:eolivelli@apache.org&quot;&amp;gt;Enrico Olivelli&amp;lt;/a&amp;gt; &lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void nonCanonicalPath()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1602&quot; );&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .executeInstall();&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .addGoal( &quot;--file&quot; )&lt;br/&gt;
+                .addGoal( &quot;./integration-tests/pom.xml&quot; )&lt;br/&gt;
+                .executeTest();&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   @eolivelli &lt;br/&gt;
   This test helps `Surefire569RunTestFromDependencyJarsIT`:&lt;br/&gt;
   ```&lt;br/&gt;
   OutputValidator module = launcher.getSubProjectValidator( &quot;integration-tests&quot; );&lt;br/&gt;
   module.assertTestSuiteResults( 1, 0, 0, 0 );&lt;br/&gt;
   ```&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708631" author="githubbot" created="Tue, 4 Dec 2018 12:27:32 +0000"  >&lt;p&gt;Tibor17 commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-444082900&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-444082900&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @eolivelli &lt;br/&gt;
   Very well, so, can you now squash both commits in one and put the commit name `&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo`.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708632" author="githubbot" created="Tue, 4 Dec 2018 12:27:33 +0000"  >&lt;p&gt;eolivelli commented on a change in pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#discussion_r238641272&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#discussion_r238641272&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -0,0 +1,45 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test ability to specify a non canonical path as module root&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:eolivelli@apache.org&quot;&amp;gt;Enrico Olivelli&amp;lt;/a&amp;gt; &lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void nonCanonicalPath()&lt;br/&gt;
+    {&lt;br/&gt;
+        SurefireLauncher unpacked = unpack( &quot;/surefire-1602&quot; );&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .executeInstall();&lt;br/&gt;
+        unpacked&lt;br/&gt;
+                .addGoal( &quot;--file&quot; )&lt;br/&gt;
+                .addGoal( &quot;./integration-tests/pom.xml&quot; )&lt;br/&gt;
+                .executeTest();&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   great !&lt;br/&gt;
   I have updated the patch @Tibor17 &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708643" author="githubbot" created="Tue, 4 Dec 2018 12:40:58 +0000"  >&lt;p&gt;eolivelli commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-444086247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-444086247&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @Tibor17 will I drop your first commit?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708656" author="githubbot" created="Tue, 4 Dec 2018 12:52:37 +0000"  >&lt;p&gt;eolivelli commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-444089353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-444089353&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @Tibor17  I have squashed my commits into one&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16708967" author="githubbot" created="Tue, 4 Dec 2018 16:38:58 +0000"  >&lt;p&gt;Tibor17 commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-444167246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-444167246&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @eolivelli &lt;br/&gt;
   No problem. I have squashed our both commits into one, rebased onto master and pushed to ASF repo in branch &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt;. We can check the Jenkins outcome after 2 hours.&lt;br/&gt;
   &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-surefire/job/SUREFIRE-1602/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-surefire/job/SUREFIRE-1602/&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1602&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1602&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16709568" author="tibor17" created="Wed, 5 Dec 2018 03:27:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=379a6c51d7e9a87253732f42e28f3909f0554de6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=379a6c51d7e9a87253732f42e28f3909f0554de6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16713944" author="githubbot" created="Sun, 9 Dec 2018 12:00:23 +0000"  >&lt;p&gt;Tibor17 commented on issue #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205#issuecomment-445531502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205#issuecomment-445531502&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @eolivelli pls clope this PR. We cut the release `3.0.0-M2` with this fix.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16713945" author="githubbot" created="Sun, 9 Dec 2018 12:02:53 +0000"  >&lt;p&gt;eolivelli closed pull request #205: &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1602&quot; title=&quot;Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1602&quot;&gt;&lt;del&gt;SUREFIRE-1602&lt;/del&gt;&lt;/a&gt; Surefire fails loading class ForkedBooter when using a sub-directory pom file and a local maven repo&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/205&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
index b18463eac..304f449f2 100644&lt;br/&gt;
&amp;#8212; a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
+++ b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;br/&gt;
@@ -2369,7 +2369,21 @@ private Artifact getSurefireBooterArtifact()&lt;br/&gt;
      */&lt;br/&gt;
     File getSurefireTempDir()&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        File result = IS_OS_WINDOWS ? createSurefireBootDirectoryInTemp() : createSurefireBootDirectoryInBuild();&lt;br/&gt;
+        try&lt;br/&gt;
+        
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            File canonical = result.getCanonicalFile();+            if ( !result.equals( canonical ) )+            {
+                logger.debug( &quot;Canonicalized tempDir path &apos;&quot; + result + &quot;&apos; to &apos;&quot; + canonical + &quot;&apos;&quot; );
+            }+            return canonical;+        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;+        catch ( IOException e )&lt;br/&gt;
+        &lt;/p&gt;
{
+            logger.error( &quot;Could not canonicalize tempDir path &apos;&quot; + result + &quot;&apos;&quot;, e );
+        }
&lt;p&gt;+        return result;&lt;br/&gt;
     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     /**&lt;br/&gt;
diff --git a/surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java b/surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..d37b10845&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/java/org/apache/maven/surefire/its/Surefire1602IT.java&lt;br/&gt;
@@ -0,0 +1,49 @@&lt;br/&gt;
+package org.apache.maven.surefire.its;&lt;br/&gt;
+&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.OutputValidator;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;&lt;br/&gt;
+import org.apache.maven.surefire.its.fixture.SurefireLauncher;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Test ability to specify a non canonical path as module root&lt;br/&gt;
+ *&lt;br/&gt;
+ * @author &amp;lt;a href=&quot;mailto:eolivelli@apache.org&quot;&amp;gt;Enrico Olivelli&amp;lt;/a&amp;gt;&lt;br/&gt;
+ */&lt;br/&gt;
+public class Surefire1602IT&lt;br/&gt;
+    extends SurefireJUnit4IntegrationTestCase&lt;br/&gt;
+{&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void nonCanonicalPath() throws Exception&lt;br/&gt;
+    &lt;/p&gt;
{
+        SurefireLauncher launcher = unpack( &quot;/surefire-1602&quot; );
+        launcher
+                .executeInstall();
+        launcher
+                .addGoal( &quot;--file&quot; )
+                .addGoal( &quot;./integration-tests/pom.xml&quot; )
+                .executeTest();
+        launcher
+                .getSubProjectValidator( &quot;integration-tests&quot; )
+                 .assertTestSuiteResults( 1, 0, 0, 0 );
+    }
&lt;p&gt;+}&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/application/pom.xml b/surefire-its/src/test/resources/surefire-1602/application/pom.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..d2a9c658b&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/application/pom.xml&lt;br/&gt;
@@ -0,0 +1,15 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;br/&gt;
+         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;parent&amp;gt;&lt;br/&gt;
+        &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+        &amp;lt;artifactId&amp;gt;testapp&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+    &amp;lt;/parent&amp;gt;&lt;br/&gt;
+	&lt;br/&gt;
+    &amp;lt;artifactId&amp;gt;testapp-application&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+&amp;lt;/project&amp;gt;&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/integration-tests/pom.xml b/surefire-its/src/test/resources/surefire-1602/integration-tests/pom.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..583b37711&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/integration-tests/pom.xml&lt;br/&gt;
@@ -0,0 +1,39 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;br/&gt;
+         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;parent&amp;gt;&lt;br/&gt;
+        &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+        &amp;lt;artifactId&amp;gt;testapp&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+    &amp;lt;/parent&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;artifactId&amp;gt;testapp-integration-tests&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;dependencies&amp;gt;&lt;br/&gt;
+        &amp;lt;dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+            &amp;lt;artifactId&amp;gt;testapp-application&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+            &amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+        &amp;lt;dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+            &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;&lt;br/&gt;
+            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;br/&gt;
+        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+    &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;build&amp;gt;&lt;br/&gt;
+        &amp;lt;plugins&amp;gt;&lt;br/&gt;
+            &amp;lt;plugin&amp;gt;&lt;br/&gt;
+                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+                &amp;lt;version&amp;gt;3.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
+        &amp;lt;/plugins&amp;gt;&lt;br/&gt;
+    &amp;lt;/build&amp;gt;&lt;br/&gt;
+&amp;lt;/project&amp;gt;&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/integration-tests/src/test/java/org/ATest.java b/surefire-its/src/test/resources/surefire-1602/integration-tests/src/test/java/org/ATest.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..a4cc2be4c&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/integration-tests/src/test/java/org/ATest.java&lt;br/&gt;
@@ -0,0 +1,9 @@&lt;br/&gt;
+package org;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+public class ATest {&lt;br/&gt;
+    @Test&lt;br/&gt;
+	public void test() &lt;/p&gt;
{
+	}&lt;br/&gt;
+}&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/pom.xml b/surefire-its/src/test/resources/surefire-1602/pom.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..508e99b35&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/pom.xml&lt;br/&gt;
@@ -0,0 +1,18 @@&lt;br/&gt;
+&amp;lt;?xml version=&apos;1.0&apos; encoding=&apos;utf-8&apos;?&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;br/&gt;
+         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+    &amp;lt;artifactId&amp;gt;testapp&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+    &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+    &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;modules&amp;gt;&lt;br/&gt;
+        &amp;lt;module&amp;gt;application&amp;lt;/module&amp;gt;&lt;br/&gt;
+        &amp;lt;module&amp;gt;unit-tests&amp;lt;/module&amp;gt;&lt;br/&gt;
+        &amp;lt;module&amp;gt;integration-tests&amp;lt;/module&amp;gt;&lt;br/&gt;
+    &amp;lt;/modules&amp;gt;&lt;br/&gt;
+&amp;lt;/project&amp;gt;&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/unit-tests/pom.xml b/surefire-its/src/test/resources/surefire-1602/unit-tests/pom.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..4172dc82a&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/unit-tests/pom.xml&lt;br/&gt;
@@ -0,0 +1,43 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;br/&gt;
+         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;parent&amp;gt;&lt;br/&gt;
+        &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+        &amp;lt;artifactId&amp;gt;testapp&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+        &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+    &amp;lt;/parent&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;artifactId&amp;gt;testapp-unit-tests&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;dependencies&amp;gt;&lt;br/&gt;
+        &amp;lt;dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;groupId&amp;gt;org&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+            &amp;lt;artifactId&amp;gt;testapp-application&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+            &amp;lt;version&amp;gt;${project.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
+        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+        &amp;lt;dependency&amp;gt;&lt;br/&gt;
+            &amp;lt;groupId&amp;gt;junit&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+            &amp;lt;artifactId&amp;gt;junit&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+			&amp;lt;version&amp;gt;4.12&amp;lt;/version&amp;gt;&lt;br/&gt;
+            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;br/&gt;
+        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
+    &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;build&amp;gt;&lt;br/&gt;
+        &amp;lt;plugins&amp;gt;&lt;br/&gt;
+            &amp;lt;plugin&amp;gt;&lt;br/&gt;
+                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+                &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+                &amp;lt;version&amp;gt;3.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+				&amp;lt;configuration&amp;gt;&lt;br/&gt;
+					&amp;lt;reuseForks&amp;gt;false&amp;lt;/reuseForks&amp;gt;&lt;br/&gt;
+                    &amp;lt;forkCount&amp;gt;1&amp;lt;/forkCount&amp;gt;&lt;br/&gt;
+                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
+            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
+        &amp;lt;/plugins&amp;gt;&lt;br/&gt;
+    &amp;lt;/build&amp;gt;&lt;br/&gt;
+&amp;lt;/project&amp;gt;&lt;br/&gt;
diff --git a/surefire-its/src/test/resources/surefire-1602/unit-tests/src/test/java/org/ATest.java b/surefire-its/src/test/resources/surefire-1602/unit-tests/src/test/java/org/ATest.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..a4cc2be4c&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/surefire-its/src/test/resources/surefire-1602/unit-tests/src/test/java/org/ATest.java&lt;br/&gt;
@@ -0,0 +1,9 @@&lt;br/&gt;
+package org;&lt;br/&gt;
+&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+&lt;br/&gt;
+public class ATest {&lt;br/&gt;
+    @Test&lt;br/&gt;
+	public void test() {+	}
&lt;p&gt;+}&lt;br/&gt;
\ No newline at end of file&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17995004" author="olamy" created="Fri, 4 Jul 2025 07:32:34 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2197&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12950275" name="execute_error.txt" size="413542" author="eolivelli" created="Sat, 1 Dec 2018 10:53:19 +0000"/>
                            <attachment id="12950274" name="execute_ok.txt" size="390805" author="eolivelli" created="Sat, 1 Dec 2018 10:52:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00qp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>