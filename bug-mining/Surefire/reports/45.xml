<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:06:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-297] argLine has changed behavior from 2.2 to 2.3.</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-297</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I have used the following configuration for the surefire plugin version 2.2:&lt;/p&gt;

&lt;p&gt;				&amp;lt;configuration&amp;gt;&lt;br/&gt;
					&amp;lt;argLine&amp;gt;-verbose -javaagent&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:\.m2\repository\jmockit\jmockit\0.83\jmockit-0.83.jar&amp;lt;/argLine&amp;gt;&lt;br/&gt;
			        &amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;It works (not really, but that is another issue). But when I downloaded version 2.3, this stopped working. The -verbose argument is still forwarded to the java process, but the -javaagent is not forwarded. If I switch back to the 2.2 version of the plug in, everything is fine. Any ideas?&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
bdk&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="12810006">SUREFIRE-297</key>
            <summary>argLine has changed behavior from 2.2 to 2.3.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brett">Brett Porter</assignee>
                                    <reporter username="bdk">B&#229;rd Dybwad Kristensen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Mar 2007 06:30:25 +0000</created>
                <updated>Fri, 4 Jul 2025 07:06:37 +0000</updated>
                            <resolved>Thu, 24 May 2007 04:14:19 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.3.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14453694" author="mazzgolf" created="Wed, 21 Mar 2007 11:03:46 +0000"  >&lt;p&gt;I found something similar.  It has to do with spaces in the property value.  I think the surefile plugin is trying to be &quot;too smart&quot; but breaking things.&lt;/p&gt;

&lt;p&gt;I have the following in my pom surefile configuration:&lt;/p&gt;

&lt;p&gt;      &amp;lt;plugin&amp;gt;        &lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;argLine&amp;gt;-Djava.library.path=${settings.localRepository}/foo/bar/1.0&amp;lt;/argLine&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;When I run &quot;mvn -X test&quot;, here&apos;s what the beginning of the VM command line looks like:&lt;/p&gt;

&lt;p&gt;   Forking command line: C:\mazz\java\jdk1.5.0\jre\bin\java -Djava.library.path=C:\Documents and Settings\mazz\.m2\repository/foo/bar/1.0 -classpath ...&lt;/p&gt;

&lt;p&gt;which looks correct but results in the error:&lt;/p&gt;

&lt;p&gt;   java.lang.NoClassDefFoundError: and&lt;br/&gt;
   Exception in thread &quot;main&quot;&lt;/p&gt;

&lt;p&gt;because of the spaces - the -D argument needs to be fully wrapped in quotes.&lt;/p&gt;

&lt;p&gt;But if I try to wrap the argLine value in quotes:&lt;/p&gt;

&lt;p&gt;          &amp;lt;argLine&amp;gt;&quot;-Djava.library.path=${settings.localRepository}/foo/bar/1.0&quot;&amp;lt;/argLine&amp;gt;&lt;/p&gt;

&lt;p&gt;the command line is broken still.  I just want the plugin to pass this as-is, but for some reason, it wants to wrap each token (separated by the spaces) in single quotes!  It is trying to be smart about things, but it ends up doing it wrong:&lt;/p&gt;

&lt;p&gt;   Forking command line: C:\mazz\java\jdk1.5.0\jre\bin\java &apos;&quot;-Djava.library.path=C:\Documents&apos; and &apos;Settings\mazz\.m2\repository/foo/bar/1.0&quot;&apos; -classpath...&lt;/p&gt;

&lt;p&gt;I think if argLine begins and ends with double-quotes, the plugin should pass that entire string as-is - don&apos;t try to parse it and wrap around spaces - let the pom writer provide the quotes around the space-separated tokens as appropriate.&lt;/p&gt;</comment>
                            <comment id="14453724" author="brettporter" created="Thu, 12 Apr 2007 10:48:26 +0000"  >&lt;p&gt;On Mac, quoting whole argument works on Mac in 2.2, 2.3, 2.3.1-SNAPSHOT. Check Windows.&lt;/p&gt;

&lt;p&gt;On Mac, -Dproperty1=&quot;value1 1&quot; fails every time with the weird quoting - this may be fixed by the newer plexus-utils. Review.&lt;/p&gt;

&lt;p&gt;Seems to be an issue with the unswizzled 2.0.6. Can close, but document that full argument quoting is necessary.&lt;/p&gt;</comment>
                            <comment id="14453617" author="carlos" created="Thu, 12 Apr 2007 13:30:48 +0000"  >&lt;p&gt;In windows I didn&apos;t get it to work neither in trunk, branch, previous versions, double quote, single quote,...&lt;/p&gt;

&lt;p&gt;I&apos;ve added the test to maven-surefire-plugin\src\it\testArgLine&lt;/p&gt;</comment>
                            <comment id="14453760" author="carlos" created="Thu, 12 Apr 2007 13:36:57 +0000"  >&lt;p&gt;with this config &lt;/p&gt;

&lt;p&gt;          &amp;lt;argLine&amp;gt;&quot;-Djava.library.path=foo foo/foo/bar/1.0&quot;&amp;lt;/argLine&amp;gt;&lt;/p&gt;

&lt;p&gt;I get&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Using JVM: c:\Program Files\Java\jdk1.5.0_10\jre\bin\java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: d:\dev\maven\surefire\maven-surefire-plugin\src\it\testArgLine\target\surefire-reports&lt;br/&gt;
Forking command line: &quot;c:\Program Files\Java\jdk1.5.0_10\jre\bin\java&quot; &apos;&quot;-Djava.library.path=foo&apos; &apos;foo/foo/bar/1.0&quot;&apos; -classpath &quot;C:\Documents and Settings\csanchez\.m2\repository\org\codehaus\plexus\plexus-archiver\1.0-alpha-7\plexus-archiver-1.0-alpha-7.jar;C:\Documents and Settings\csanchez\.m2\re&lt;br/&gt;
pository\junit\junit\3.8.1\junit-3.8.1.jar;C:\Documents and Settings\csanchez\.m2\repository\org\codehaus\plexus\plexus-container-default\1.0-alpha-8\plexus-container-default-1.0-alpha-8.jar;C:\Documents and Settings\csanchez\.m2\repository\org\apache\maven\surefire\surefire-api\2.3\surefire-api-2.3&lt;br/&gt;
.jar;C:\Documents and Settings\csanchez\.m2\repository\classworlds\classworlds\1.1-alpha-2\classworlds-1.1-alpha-2.jar;C:\Documents and Settings\csanchez\.m2\repository\org\codehaus\plexus\plexus-utils\1.1\plexus-utils-1.1.jar;C:\Documents and Settings\csanchez\.m2\repository\commons-lang\commons-la&lt;br/&gt;
ng\2.1\commons-lang-2.1.jar;C:\Documents and Settings\csanchez\.m2\repository\org\apache\maven\surefire\surefire-booter\2.3\surefire-booter-2.3.jar&quot; org.apache.maven.surefire.booter.SurefireBooter c:\DOCUME~1\csanchez\LOCALS~1\Temp\surefire53727tmp c:\DOCUME~1\csanchez\LOCALS~1\Temp\surefire53728tmp&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: &apos;-Djava/library/path=foo&apos; &apos;foo/foo/bar/1/0&apos;&lt;br/&gt;
Exception in thread &quot;main&quot;&lt;/p&gt;</comment>
                            <comment id="14453774" author="carlos" created="Thu, 12 Apr 2007 13:43:32 +0000"  >&lt;p&gt;that was the output for the 2.3.1-SNAPSHOT plugin, which depends on surefire-booter 2.3, should it be 2.3.1-SNAPSHOT ?&lt;/p&gt;</comment>
                            <comment id="14453776" author="baerrach" created="Mon, 21 May 2007 05:20:24 +0000"  >&lt;p&gt;argLine is the problem from CommandShell, as argLine will split this into argValues based on the argument separator (i.e. spaces)&lt;/p&gt;

&lt;p&gt;I don&apos;t know how this configuration item of argLine gets passed down but I suspect that it should be argValue instead.&lt;/p&gt;

&lt;p&gt;This has been updated to fix the regression in PLXUTILS-31&lt;/p&gt;</comment>
                            <comment id="14453790" author="brettporter" created="Thu, 24 May 2007 04:14:19 +0000"  >&lt;p&gt;behaviour is now consistent between versions&lt;/p&gt;</comment>
                            <comment id="17993641" author="olamy" created="Fri, 4 Jul 2025 07:06:37 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1415&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1415&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12809481">SUREFIRE-298</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bck7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>