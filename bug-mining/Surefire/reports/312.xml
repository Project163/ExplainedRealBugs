<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:10:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-841] Incorrect Test Run Count</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-841</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When a simple Junit test with errors in the @Before() and @After() method are run directly with java or ant&apos;s junit task, it reports correctly that the Tests Run = 1  and  Errors = 2.&lt;/p&gt;

&lt;p&gt;But when the same is run through maven surefire plugin, it reports it as Tests Run = 2  and Errors = 2.&lt;/p&gt;

&lt;p&gt;Its the same test in which 2 errors are encountered, so the Tests Run should be 1.&lt;/p&gt;

&lt;p&gt;I traced the issue to the org.apache.maven.surefire.report.TestSetRunListener Class - testError() method, where the completed count is also incremented along with the error count irrespective of whether its in the same test the error is encountered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12810344">SUREFIRE-841</key>
            <summary>Incorrect Test Run Count</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karthik.kandasamy">karthik kandasamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2012 07:34:56 +0000</created>
                <updated>Fri, 4 Jul 2025 07:18:27 +0000</updated>
                            <resolved>Thu, 19 Dec 2019 19:43:21 +0000</resolved>
                                                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14455503" author="ash2k" created="Thu, 30 Aug 2012 23:16:21 +0000"  >&lt;p&gt;Also encountered this with surefire 2.12.3 and TestNG 6.7. Failure in @BeforeClass increments &quot;Tests run&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RealTest  {
	
	@BeforeClass
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void beforeClass() {
		assertThat(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;).isTrue();
	}
	
	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test(){}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With failure it&apos;s output is&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 2, Failures: 1, Errors: 0, Skipped: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14455502" author="krosenvold" created="Sat, 15 Sep 2012 11:52:37 +0000"  >&lt;p&gt;The behaviour you expect is compliant with a JUnit3 runner (and TestNG, which up until just recently was only JUnit3 compliant). Surefire&apos;s behaviour is consistent with JUnit4. (I am not sure how TestNG behaves when running JUnit4 tests)&lt;/p&gt;

&lt;p&gt;Ant is a JUnit3 based test-runner.&lt;/p&gt;

&lt;p&gt;I&apos;m still trying to figure out what to do with this issue:&lt;br/&gt;
A) Close it as wontfix.&lt;br/&gt;
B) Make surefire report JUnit3/TestNG style when using these libraries and JUnit4 style when using junit4.&lt;/p&gt;

&lt;p&gt;The problem with B is that surefire will appear to behave inconsistently when users upgrade from 3.x to 4.x.&lt;/p&gt;


&lt;p&gt;For those wishing to experiment with this, there is an IT project at:&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/failure-result-counting&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/failure-result-counting&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This verifies all the different modes of reporting.&lt;/p&gt;</comment>
                            <comment id="14456995" author="mathus.b@mipih.fr" created="Sat, 15 Sep 2012 12:45:28 +0000"  >&lt;p&gt;I would go with being consistent with the underlying test &quot;engine&quot; in use. So I guess it&apos;s B). &lt;br/&gt;
Ant Runner should be fixed for the cases when it runs JUnit 4 or JUnit 3.&lt;br/&gt;
By the way, maybe the problem is &quot;larger&quot; than just Surefire: maybe TestNg team and Junit one should try &amp;amp; align their way of thinking if possible. If already done, then we&apos;re back to B.&lt;/p&gt;</comment>
                            <comment id="14455472" author="krosenvold" created="Sat, 15 Sep 2012 12:58:48 +0000"  >&lt;p&gt;The ant runner has basically been un-maintained for several years, so I&apos;m not really sure they&apos;re anything to go by. &lt;/p&gt;

&lt;p&gt;As for &quot;who&apos;s who&quot; in the testing business, JUnit usually defines the standard and the others follow suite. AFIK JUnit is still almost 10x the users of TestNG. So I really have no problem with us folowing JUnit4 only &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Although it would be real easy to adapt to the underlying framework, I&apos;m afraid of the potential for creating confusion....&lt;/p&gt;</comment>
                            <comment id="14456994" author="mathus.b@mipih.fr" created="Sat, 15 Sep 2012 13:18:56 +0000"  >&lt;p&gt;I agree about being cautious about creating confusion. But still, surefire didn&apos;t create that confusion, from what I see JUnit did by changing its behaviour, isn&apos;t it?&lt;/p&gt;

&lt;p&gt;I think only a small warning in the doc would prevent many users from being surprised. And if some get surprised, well that&apos;s a JUnit-side &quot;issue&quot; in the first place...&lt;/p&gt;</comment>
                            <comment id="14579864" author="tibor17" created="Wed, 10 Jun 2015 02:03:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karthik.kandasamy&quot; class=&quot;user-hover&quot; rel=&quot;karthik.kandasamy&quot;&gt;karthik.kandasamy&lt;/a&gt;&lt;br/&gt;
Is it still an issue with latest surefire and JUnit?&lt;/p&gt;</comment>
                            <comment id="15718598" author="tibor17" created="Sat, 3 Dec 2016 19:25:34 +0000"  >&lt;p&gt;Surefire really reports only one error.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.Description;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.JUnitCore;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.Result;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.notification.Failure;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.notification.RunListener;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;App
{

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;... args) {
        JUnitCore jUnitCore = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JUnitCore();
        jUnitCore.addListener( &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RunListener() {
                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testRunStarted( Description description ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testRunStarted( description );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testRunFinished( Result result ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testRunFinished( result );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testStarted( Description description ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testStarted( description );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFinished( Description description ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testFinished( description );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFailure( Failure failure ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testFailure( failure );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testAssumptionFailure( Failure failure )
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testAssumptionFailure( failure );
                                   }

                                   @Override
                                   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testIgnored( Description description ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
                                   {
                                       &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.testIgnored( description );
                                   }
                               } );
        Result result = jUnitCore.run( DoubleBugTest.class );
        result.getFailures();
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.After;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Before;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DoublelBugTest {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testMethod(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value) {
    }

    @Before
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
    {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Exception();
    }

    @After
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void tearDown()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Error();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17994261" author="olamy" created="Fri, 4 Jul 2025 07:18:27 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1739&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                                                <inwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="12809635">SUREFIRE-779</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12809635">SUREFIRE-779</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2be93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>