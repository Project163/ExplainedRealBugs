<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-998] Problems with Umlauts in &lt;system-out&gt; (and probably &lt;system-err&gt;) content of junit xml report.</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-998</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;When I output german umlauts on stdout, with surefire-2.14.1 everything runs fine, with surefire-2.15-SNAPSHOT (ce62b9a2c0b36105355f44c71f29f01d2f818c46) I get the following stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15-SNAPSHOT:report (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project surefire-encoding-test: An error has occurred in Surefire Report report generation. Error parsing JUnit XML report /Users/mirko/workspace/foss/pastebin/target/surefire-reports/TEST-net.friedenhagen.surefireencodingtest.EncodingTest.xml: The reference to entity &lt;span class=&quot;code-quote&quot;&gt;&quot;amp&quot;&lt;/span&gt; must end with the &lt;span class=&quot;code-quote&quot;&gt;&apos;;&apos;&lt;/span&gt; delimiter. -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-report-plugin:2.15-SNAPSHOT:report (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project surefire-encoding-test: An error has occurred in Surefire Report report generation.
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.MojoExecutionException: An error has occurred in Surefire Report report generation.
	at org.apache.maven.reporting.AbstractMavenReport.execute(AbstractMavenReport.java:122)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
Caused by: org.apache.maven.reporting.MavenReportException: Error parsing JUnit XML report /Users/mirko/workspace/foss/pastebin/target/surefire-reports/TEST-net.friedenhagen.surefireencodingtest.EncodingTest.xml
	at org.apache.maven.plugins.surefire.report.SurefireReportParser.parseXMLReportFiles(SurefireReportParser.java:100)
	at org.apache.maven.plugins.surefire.report.SurefireReportGenerator.doGenerateReport(SurefireReportGenerator.java:64)
	at org.apache.maven.plugins.surefire.report.AbstractSurefireReportMojo.executeReport(AbstractSurefireReportMojo.java:185)
	at org.apache.maven.reporting.AbstractMavenReport.generate(AbstractMavenReport.java:190)
	at org.apache.maven.reporting.AbstractMavenReport.execute(AbstractMavenReport.java:99)
	... 21 more
Caused by: org.xml.sax.SAXParseException; lineNumber: 66; columnNumber: 54; The reference to entity &lt;span class=&quot;code-quote&quot;&gt;&quot;amp&quot;&lt;/span&gt; must end with the &lt;span class=&quot;code-quote&quot;&gt;&apos;;&apos;&lt;/span&gt; delimiter.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl.parse(Unknown Source)
	at org.apache.maven.plugins.surefire.report.TestSuiteXmlParser.parse(TestSuiteXmlParser.java:101)
	at org.apache.maven.plugins.surefire.report.TestSuiteXmlParser.parse(TestSuiteXmlParser.java:81)
	at org.apache.maven.plugins.surefire.report.SurefireReportParser.parseXMLReportFiles(SurefireReportParser.java:92)
	... 25 more
[ERROR]
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Probably related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-996&quot; title=&quot;&amp;lt;system-out&amp;gt; and &amp;lt;system-err&amp;gt; content of junit xml report are not escaped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-996&quot;&gt;&lt;del&gt;SUREFIRE-996&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;How to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Install surefire-snapshot (Revision: ce62b9a2c0b36105355f44c71f29f01d2f818c46)&lt;/li&gt;
	&lt;li&gt;Download attached zip:
	&lt;ul&gt;
		&lt;li&gt;&lt;tt&gt;mvn -e -Dmaven-surefire-plugin.version=2.15-SNAPSHOT&lt;/tt&gt; will produce the stacktrace above&lt;/li&gt;
		&lt;li&gt;&lt;tt&gt;mvn -e -Dmaven-surefire-plugin.version=2.14.1&lt;/tt&gt; will run successfully.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 14:51:28+0100)&lt;br/&gt;
Maven home: /Software/nobackup/apache-maven-3.0.5&lt;br/&gt;
Java version: 1.7.0_21, vendor: Oracle Corporation&lt;br/&gt;
Java home: /Library/Java/JavaVirtualMachines/jdk1.7.0_21.jdk/Contents/Home/jre&lt;br/&gt;
Default locale: de_DE, platform encoding: UTF-8&lt;br/&gt;
OS name: &amp;quot;mac os x&amp;quot;, version: &amp;quot;10.8.3&amp;quot;, arch: &amp;quot;x86_64&amp;quot;, family: &amp;quot;mac&amp;quot;</environment>
        <key id="12810449">SUREFIRE-998</key>
            <summary>Problems with Umlauts in &lt;system-out&gt; (and probably &lt;system-err&gt;) content of junit xml report.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="agudian">Andreas Gudian</assignee>
                                    <reporter username="mfriedenhagen">Mirko Friedenhagen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 May 2013 14:24:34 +0000</created>
                <updated>Fri, 4 Jul 2025 07:21:05 +0000</updated>
                            <resolved>Sat, 10 Aug 2013 16:15:43 +0000</resolved>
                                    <version>2.15</version>
                                    <fixVersion>2.16</fixVersion>
                                    <component>Maven Surefire Report Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14455934" author="krosenvold" created="Wed, 29 May 2013 11:21:29 +0000"  >&lt;p&gt;Fixed with unit test in d98f734a37f0a14a0a794f0ac9a9317845525376, thanks for the bug report !&lt;/p&gt;</comment>
                            <comment id="14455940" author="mfriedenhagen" created="Mon, 17 Jun 2013 15:06:13 +0000"  >&lt;p&gt;Kristian, I am afraid the logic is not working correctly, I updated my test-project at: &lt;a href=&quot;https://github.com/mfriedenhagen/pastebin/tree/surefire-encoding-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mfriedenhagen/pastebin/tree/surefire-encoding-test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;surefire-2.14.1&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;env JAVA_TOOL_OPTIONS=&quot;-Dfile.encoding=ISO-8859-1&quot; mvn -Dmaven-surefire-plugin.version=2.14.1&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Umlauts are encoded (correctly) as ISO-8859-1 in target/surefire-reports/net.friedenhagen.surefireencodingtest.EncodingTest-output.txt and&lt;br/&gt;
(correctly as stated by the XML-declaration) as UTF-8 in target/surefire-reports/TEST-net.friedenhagen.surefireencodingtest.EncodingTest.xml&lt;/p&gt;

&lt;p&gt;&lt;b&gt;surefire-2.15&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;env JAVA_TOOL_OPTIONS=&quot;-Dfile.encoding=ISO-8859-1&quot; mvn -Dmaven-surefire-plugin.version=2.15&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Umlauts are encoded (correctly) as ISO-8859-1 in target/surefire-reports/net.friedenhagen.surefireencodingtest.EncodingTest-output.txt and&lt;br/&gt;
(&lt;b&gt;incorrectly&lt;/b&gt; as the XML-declaration state they should be UTF-8) as well as ISO-8859-1 in target/surefire-reports/TEST-net.friedenhagen.surefireencodingtest.EncodingTest.xml&lt;/p&gt;</comment>
                            <comment id="14455975" author="mfriedenhagen" created="Mon, 17 Jun 2013 15:10:28 +0000"  >&lt;p&gt;Updated test project which redirects output to file and print the defaultCharset.&lt;/p&gt;</comment>
                            <comment id="14455956" author="krosenvold" created="Wed, 26 Jun 2013 13:01:19 +0000"  >&lt;p&gt;@Mirko:&lt;/p&gt;

&lt;p&gt;The source file contains&lt;/p&gt;

&lt;p&gt;00000150  63 65 70 74 69 6f 6e 28  22 c3 a4 c3 b6 c3 bc c3  |ception(&quot;.......|&lt;br/&gt;
00000160  9f 22 29 3b 0a 20 20 20  20 20 20 20 20 53 79 73  |.&quot;);.        Sys|&lt;/p&gt;

&lt;p&gt;and the report file contains:&lt;/p&gt;

&lt;p&gt;00001520  6c 61 6e 67 2e 49 6c 6c  65 67 61 6c 53 74 61 74  |lang.IllegalStat|&lt;br/&gt;
00001530  65 45 78 63 65 70 74 69  6f 6e 3a 20 c3 a4 c3 b6  |eException: ....|&lt;br/&gt;
00001540  c3 bc c3 9f 0a 55 54 46  2d 38 0a 3c 2f 73 79 73  |.....UTF-8.&amp;lt;&lt;/p&gt;

&lt;p&gt;I suspect the problem is actually &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1006&quot; title=&quot;Junit report xml invalid utf8-caracters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1006&quot;&gt;&lt;del&gt;SUREFIRE-1006&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;
</comment>
                            <comment id="14455839" author="mfriedenhagen" created="Thu, 27 Jun 2013 15:50:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krosenvold&quot; class=&quot;user-hover&quot; rel=&quot;krosenvold&quot;&gt;krosenvold&lt;/a&gt;: I fetched the latest surefire (54c46be0af7ce161f92f156df44569129ea9417c) from git, built the SNAPSHOT and ran:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;env JAVA_TOOL_OPTIONS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Dfile.encoding=ISO-8859-1&quot;&lt;/span&gt; mvn -Dmaven-surefire-plugin.version=2.16-SNAPSHOT
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;again. Outcome:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;target/surefire-reports/net.friedenhagen.surefireencodingtest.EncodingTest-output.txt holds ISO-8859-1&lt;/li&gt;
	&lt;li&gt;target/surefire-reports/TEST-net.friedenhagen.surefireencodingtest.EncodingTest.xml again has the ISO-8859-1 byte representation of Umlauts but states to be UTF-8.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14455860" author="krosenvold" created="Fri, 28 Jun 2013 01:03:15 +0000"  >&lt;p&gt;Ok, I see the problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14455923" author="agudian" created="Sat, 10 Aug 2013 16:15:43 +0000"  >&lt;p&gt;Next attempt: 9db8ce8132f7fadbb90180ffe350087dc1361f51&lt;/p&gt;</comment>
                            <comment id="14456441" author="zet" created="Fri, 19 Dec 2014 13:00:33 +0000"  >&lt;p&gt;I still have the exact same problem: on a Linux server file.encoding is set to Cp1252, and the 2.18 version of the plugin inserts wrong encoded stuff in the stdout section. Can i re-open this bug or do i need a new one?&lt;/p&gt;</comment>
                            <comment id="14456583" author="agudian" created="Fri, 19 Dec 2014 13:07:24 +0000"  >&lt;p&gt;Hi J&#252;rgen,&lt;/p&gt;

&lt;p&gt;please create a new issue - preferrably with a tiny demo project as an attachment. Btw, the xml report is currently supposed to be encoded in UTF-8, regardless of what you specify as file.encoding.&lt;/p&gt;</comment>
                            <comment id="17994403" author="olamy" created="Fri, 4 Jul 2025 07:21:05 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1593&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1593&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12809582">SUREFIRE-1022</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12810557">SUREFIRE-996</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12720340" name="pastebin-surefire-encoding-test (1).zip" size="3555" author="mfriedenhagen" created="Mon, 17 Jun 2013 15:10:28 +0000"/>
                            <attachment id="12720339" name="pastebin-surefire-encoding-test.zip" size="3228" author="mfriedenhagen" created="Tue, 28 May 2013 14:24:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bgo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>