<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:12:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1095] NPE in RunListener</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1095</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;In the surefire plugin, it is possible to specify one or more RunListener when running tests with JUnit.&lt;/p&gt;

&lt;p&gt;However, it does not look like the listener is properly called by the plugin. In particular, there is a problem with the method: &lt;/p&gt;

&lt;p&gt;public void testRunStarted(Description description)&lt;/p&gt;

&lt;p&gt;it&apos;s javadoc at &lt;a href=&quot;http://junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html#testRunStarted%28org.junit.runner.Description%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html#testRunStarted%28org.junit.runner.Description%29&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;states: &lt;br/&gt;
&quot;Parameters:&lt;br/&gt;
    description - describes the tests to be run &quot;&lt;/p&gt;

&lt;p&gt;however, in all maven projects I tried (&quot;mvn test&quot;), the surefire plugin seems like passing a null reference instead of a Description instance that &quot;describes the tests to be run &quot;&lt;/p&gt;

&lt;p&gt;Note: other methods in the RunListener I tested seems fine (i.e., they get a valid Description object as input)&lt;/p&gt;</description>
                <environment>Tested on Mac, using Maven 3.1, Java 7</environment>
        <key id="12810484">SUREFIRE-1095</key>
            <summary>NPE in RunListener</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="arcuri82">Andrea Arcuri</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2014 04:31:17 +0000</created>
                <updated>Fri, 4 Jul 2025 07:22:47 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 09:16:57 +0000</resolved>
                                    <version>2.17</version>
                                    <fixVersion>2.18</fixVersion>
                                    <component>Junit 4.x support</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14456292" author="tibor17" created="Sat, 27 Sep 2014 22:37:00 +0000"  >&lt;p&gt;@Andrea&lt;br/&gt;
Pls attach the POM.&lt;/p&gt;</comment>
                            <comment id="14456339" author="tibor17" created="Wed, 15 Oct 2014 14:54:42 +0000"  >&lt;p&gt;Fixed in&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/58&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14456362" author="tibor17" created="Thu, 16 Oct 2014 09:16:57 +0000"  >&lt;p&gt;Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/4df65165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/maven-surefire/commit/4df65165&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14968854" author="gzres" created="Thu, 22 Oct 2015 09:29:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/maven-surefire/commit/4df65165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This change&lt;/a&gt; in &lt;tt&gt;org/apache/maven/surefire/junit4/JUnit4Provider.java&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-        runNotifer.fireTestRunStarted( null );
+        runNotifier.fireTestRunStarted( createTestsDescription() );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;introduces additional creation of runners:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;main@1&quot; prio=5 tid=0x1 nid=NA runnable
  java.lang.Thread.State: RUNNABLE
	  at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:25)
	  at org.junit.runner.Computer.getRunner(Computer.java:40)
	  at org.junit.runner.Computer$1.runnerForClass(Computer.java:31)
	  at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)
	  at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:101)
	  at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:87)
	  at org.junit.runners.Suite.&amp;lt;init&amp;gt;(Suite.java:81)
	  at org.junit.runner.Computer.getSuite(Computer.java:28)
	  at org.junit.runner.Request.classes(Request.java:75)
	  at org.junit.runner.Request.classes(Request.java:91)
	  at sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-1)
	  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	  at java.lang.reflect.Method.invoke(Method.java:497)
	  at org.apache.maven.surefire.common.junit4.JUnit4Reflector.createRequest(JUnit4Reflector.java:67)
	  at org.apache.maven.surefire.common.junit4.JUnit4ProviderUtil.createSuiteDescription(JUnit4ProviderUtil.java:111)
	  at org.apache.maven.surefire.junit4.JUnit4Provider.createTestsDescription(JUnit4Provider.java:328)
	  at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:166)
	  at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	  at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	  at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And in case of Arquillian runner (when runners are counted, and suite cleanup is called only after the count drops to 0) we have problems because two runners are started for a class, but only one is finished (see &lt;a href=&quot;https://issues.jboss.org/browse/ARQ-1940&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/ARQ-1940&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="14968913" author="tibor17" created="Thu, 22 Oct 2015 10:22:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=grzes&quot; class=&quot;user-hover&quot; rel=&quot;grzes&quot;&gt;grzes&lt;/a&gt;&lt;br/&gt;
Try to use junit47 surefire provider instead.&lt;/p&gt;</comment>
                            <comment id="14969269" author="tibor17" created="Thu, 22 Oct 2015 15:02:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggrzybek&quot; class=&quot;user-hover&quot; rel=&quot;ggrzybek&quot;&gt;ggrzybek&lt;/a&gt;&lt;br/&gt;
Does the Description content matters for you in the callback method parameter?&lt;br/&gt;
I will create the one based on classes only omitting annotations, test methods, etc.&lt;br/&gt;
Then the runner will be instantiated just once.&lt;br/&gt;
I will try to make a new release 2.19.1 by the end of next week.&lt;/p&gt;</comment>
                            <comment id="14969584" author="gzres" created="Thu, 22 Oct 2015 18:22:38 +0000"  >&lt;p&gt;Thanks for hint - it worked with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-surefire-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.19&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.surefire&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;surefire-junit47&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.19&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Description is not important for me - but I guess it was introduced on purpose. Thanks for help.&lt;/p&gt;</comment>
                            <comment id="17994492" author="olamy" created="Fri, 4 Jul 2025 07:22:47 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1501&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12907381">SUREFIRE-1187</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2be9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>