<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:07:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-121] System properties set on the command line get clobbered</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-121</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Some system properties get clobbered if you set them on the command line. For example,&lt;/p&gt;

&lt;p&gt;mvn clean test -Dtest=LoginTest -Dselenium.user=test32&lt;/p&gt;

&lt;p&gt;The &apos;test&apos; system property will work, but the &apos;selenium.user&apos; property will be null at runtime.  I have tried:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;hard coding the system property in the unit test, this worked fine.&lt;/li&gt;
	&lt;li&gt;setting the system properties in the pom file, this worked fine also.&lt;/li&gt;
	&lt;li&gt;tried an older version of the surefire plugin, this worked fine.&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment>Linux, Maven 2.0.4, Sun JDK 1.5U5, bash 3.0</environment>
        <key id="12809908">SUREFIRE-121</key>
            <summary>System properties set on the command line get clobbered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bentmann">Benjamin Bentmann</assignee>
                                    <reporter username="brenton">Brenton Leanhardt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 May 2006 12:16:24 +0000</created>
                <updated>Fri, 4 Jul 2025 06:23:55 +0000</updated>
                            <resolved>Sun, 1 Aug 2010 13:32:59 +0000</resolved>
                                    <version>2.0 (2.2 plugin)</version>
                                    <fixVersion>2.6</fixVersion>
                                        <due></due>
                            <votes>22</votes>
                                    <watches>24</watches>
                                                                                                                <comments>
                            <comment id="14454031" author="dfabulich" created="Mon, 26 Nov 2007 04:51:32 +0000"  >&lt;p&gt;Fixed in revision 598217.&lt;/p&gt;</comment>
                            <comment id="14454143" author="mkleint" created="Thu, 17 Jan 2008 01:51:06 +0000"  >&lt;p&gt;This seriously breaks embedded usage. See this email sent to mevenide&apos;s mailing list:&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;It looks like, although my tests are configured to use either&lt;br/&gt;
forkMode=once or forkMode=perTest, Mevenide and/or the&lt;br/&gt;
maven-surefire-plugin in 2.4 either do not fork or (most probably) start&lt;br/&gt;
these new JVMs by explicitly (and incorrectly) passing all the system&lt;br/&gt;
properties and property values of the currently running JVM (i.e. the&lt;br/&gt;
JVM running the Netbeans IDE).&lt;/p&gt;

&lt;p&gt;This means these system properties have &quot;interesting&quot; values when the&lt;br/&gt;
JUnit test code is running, like e.g.:&lt;/p&gt;

&lt;p&gt;javax.xml.parsers.DocumentBuilderFactory=org.netbeans.core.startup.DOMFactoryImpl&lt;br/&gt;
javax.xml.parsers.SAXParserFactory=org.netbeans.core.startup.SAXFactoryImpl&lt;/p&gt;

&lt;p&gt;As these NetBeans factory classes are not available from my project&apos;s&lt;br/&gt;
Meven test classpath, all my XML-related tests do now fail.&lt;/p&gt;

&lt;p&gt;In addition, I get a message about a missing Logger configuration class:&lt;/p&gt;

&lt;p&gt;Logging configuration class &quot;org.netbeans.core.startup.TopLogging&quot; failed&lt;br/&gt;
java.lang.ClassNotFoundException: org.netbeans.core.startup.TopLogging&lt;br/&gt;
&amp;#8211;&lt;/p&gt;</comment>
                            <comment id="14454062" author="mkleint" created="Thu, 17 Jan 2008 02:11:20 +0000"  >&lt;p&gt;MavenSession.getExecutionProperties() shall be the preferred call to System.getProperties()&lt;/p&gt;
</comment>
                            <comment id="14454212" author="mkleint" created="Thu, 17 Jan 2008 05:08:27 +0000"  >&lt;p&gt;I believe pushing the System.getProperties() to a forked process is wrong generally. &lt;/p&gt;

&lt;p&gt;&quot;java.library.path&quot;, &quot;java.class.path&quot; and all JVM properties will be pushed from the maven process to the forked one, possibly polluting it, especially when the forked process is to be executed with a different JVM instance.&lt;/p&gt;</comment>
                            <comment id="14454188" author="mkleint" created="Sun, 20 Jan 2008 05:54:15 +0000"  >&lt;p&gt;fixed the embedded use problem. &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=613539&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=613539&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14454213" author="dfabulich" created="Sun, 20 Jan 2008 11:59:17 +0000"  >&lt;p&gt;This hotfix switches from using System.getProperties to using MavenSession.getExecutionProperties.  MavenSession has no JavaDoc (or documentation of any kind?) so it&apos;s hard for me to tell how this hotfix works.  What sort of properties get into executionProperties?  What properties don&apos;t get into executionProperties?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://maven.apache.org/ref/2.0.8/maven-core/apidocs/org/apache/maven/execution/MavenSession.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/ref/2.0.8/maven-core/apidocs/org/apache/maven/execution/MavenSession.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14454244" author="mkleint" created="Mon, 21 Jan 2008 03:42:28 +0000"  >&lt;p&gt;Unfortunately most components/classes in Maven have no javadoc, MavenSession is no exception. Since the instance can be retrieved via the ${session} expression in mojos, it makes it part of the official APIs to me though. Other can have more insight on the status of the class..&lt;/p&gt;

&lt;p&gt;Currently the command line maven put all System.getProperties() there plus any props that were added on the command line.&lt;br/&gt;
Embedders can choose to provide same set or limit it. (eg. in my case I now filter out any netbeans-related properties in System.getproperties() list to prevent XML parser failures)&lt;/p&gt;</comment>
                            <comment id="14454350" author="dfabulich" created="Fri, 2 May 2008 01:05:28 +0000"  >&lt;p&gt;Deliberately broken in revision 652773 to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-491&quot; title=&quot;All system properties from Maven process are copied to forked Surefire process&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-491&quot;&gt;&lt;del&gt;SUREFIRE-491&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14454406" author="xianpants" created="Wed, 27 Aug 2008 00:52:24 +0000"  >&lt;p&gt;Just Confirming...  with maven 2.0.9 and 2.0.10-RC11, properties set on the command line are not passed to unit tests run by surefire 2.4.3.  v2.4.2 passes the system properties.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mvn install -Djdbc.host=192.168.2.100&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;With v2.4.2, System.getProperty(&quot;jdbc.host&quot;) returns 192.168.2.100.  With v.2.4.3 it returns null.&lt;/p&gt;

&lt;p&gt;We rely on this behavior in unit tests frequently, sometime via System.getProperty() and other times indirectly through the use of Spring&apos;s &lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PropertyPlaceholderConfigurer&lt;/a&gt; in SYSTEM_PROPERTIES_MODE_OVERRIDEmode.&lt;/p&gt;

&lt;p&gt;Is the plan to revert back to the 2.4.2 behavior?&lt;/p&gt;</comment>
                            <comment id="14456896" author="gchen77" created="Wed, 3 Dec 2008 08:35:59 +0000"  >&lt;p&gt;I&apos;m also interested in what happens in this bug.&lt;/p&gt;

&lt;p&gt;2 potential solutions.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;just toggle between the two behaviors based on a &amp;lt;useSystemProperties&amp;gt;true&amp;lt;/useSystemProperties&amp;gt; flag&lt;/li&gt;
	&lt;li&gt;allow the use of a surefire.properties file with content like:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;foobar=${foobar}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Why properties file support for setting properties was removed for m2 I could never understand but it would be a nice quick way to solve this particular problem.&lt;/p&gt;

&lt;p&gt;Note: This bug also breaks using profile properties which is a real PITA.&lt;/p&gt;</comment>
                            <comment id="14454368" author="chico.charlesworth" created="Thu, 8 Jan 2009 03:30:38 +0000"  >
&lt;p&gt;This bug is preventing us from using 2.4.3, as we&apos;re running our tests behind a proxy, i.e. (&apos;mvn test -Dhttp.proxyHost=&amp;lt;proxyHost&amp;gt; -Dhttp.proxyPort=&amp;lt;proxyPort&amp;gt;), and the system properties http.proxyHost and http.proxyPort are being passed in as null. With 2.4.2, it works fine.&lt;/p&gt;

&lt;p&gt;Can someone say when we can expect this to be resolved? Or if there&apos;s another workaround for the time being?&lt;/p&gt;</comment>
                            <comment id="14456897" author="dantran" created="Thu, 8 Jan 2009 03:59:09 +0000"  >&lt;p&gt;maven 2.1-M1 may have fixed it, could someone confirm?&lt;/p&gt;</comment>
                            <comment id="14456887" author="dantran" created="Thu, 8 Jan 2009 03:59:51 +0000"  >&lt;p&gt;btw, could some one provide a small pom to prove it?&lt;/p&gt;</comment>
                            <comment id="14456901" author="dantran" created="Thu, 8 Jan 2009 22:22:44 +0000"  >&lt;p&gt;I think I have a work around, may be cumbersome for some ppl&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/system-properties/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/system-properties/pom.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;note the pom use the new systemPropertyVariables,   the deprecated one systemProperties still work&lt;/p&gt;
</comment>
                            <comment id="14454439" author="stefano_fornari" created="Thu, 19 Mar 2009 03:17:46 +0000"  >&lt;p&gt;Adding a simple project to reproduce the issue&lt;/p&gt;</comment>
                            <comment id="14454398" author="rsridharrao" created="Thu, 30 Apr 2009 16:38:43 +0000"  >&lt;p&gt;Any workaround on this issue? i&apos;m encountering same problem and at a loss of how to proceed. &lt;/p&gt;

&lt;p&gt;if i use 2.4.2, then i get &lt;/p&gt;

&lt;p&gt;java.lang.ClassNotFoundException: org.apache.maven.surefire.junit4.JUnit4DirectoryTestSuite&lt;/p&gt;

</comment>
                            <comment id="14454415" author="fcamblor" created="Sat, 3 Oct 2009 06:35:03 +0000"  >&lt;p&gt;+1&lt;br/&gt;
In a Test framework we&apos;ve made, we&apos;re executing tests in eclipse by building maven.&lt;/p&gt;

&lt;p&gt;The test framework allow to pass system properties in order to &quot;filter&quot; executed test by &quot;categories&quot;&lt;br/&gt;
Example :&lt;br/&gt;
mvn test -Dtest.categories=non-regression&lt;br/&gt;
(that will only execute non regression tests during maven test phase &quot;a la&quot; TestNG)&lt;/p&gt;

&lt;p&gt;Since maven 2.0.10 (which aligned with surfire 2.4.3) we no longer can use this functionnality ...&lt;/p&gt;

&lt;p&gt;Only workarounds for us is either :&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;keep maven 2.0.9 (but this is crappy !!)&lt;/li&gt;
	&lt;li&gt;use explicitely surefire 2.4.2 (impacts on most of our poms)&lt;/li&gt;
	&lt;li&gt;define hacks in the poms, such as :&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;${surefire.version}&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;systemProperties&amp;gt;&lt;br/&gt;
            &amp;lt;test.categories&amp;gt;${test.categories}&amp;lt;/test.categories&amp;gt;&lt;br/&gt;
          &amp;lt;/systemProperties&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
(impacts on most of our poms, too)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is really crappy !!!&lt;/p&gt;</comment>
                            <comment id="14454529" author="jnegreira" created="Tue, 20 Oct 2009 14:17:09 +0000"  >&lt;p&gt;Hi all, I&apos;ve tried a cleaner workaround:&lt;/p&gt;

&lt;p&gt;This was the &lt;b&gt;not working&lt;/b&gt; property:&lt;br/&gt;
mvn test -Dtest=myTest -DserverUrl=foobar&lt;br/&gt;
serverUrl comes null.&lt;/p&gt;

&lt;p&gt;And this is the working property using -DargLine:&lt;br/&gt;
mvn test -Dtest=myTest -DargLine=-DsomeUrl=foobar&lt;br/&gt;
serverUrl has &apos;foobar&apos; value &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;for more than 1 parameter:&lt;br/&gt;
mvn test -Dtest=myTest -DargLine=&quot;-DsomeUrl=foobar -DotherParam=otherValue&quot; &lt;/p&gt;

&lt;p&gt;Credits for this go to Maximiliano Vazquez. (Thanks!)&lt;/p&gt;

&lt;p&gt;HTH&lt;/p&gt;

&lt;p&gt;Jose Negreira&lt;/p&gt;</comment>
                            <comment id="14454469" author="bentmann" created="Sun, 1 Aug 2010 13:32:59 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=981279&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r981279&lt;/a&gt; by selectively propagating only those system properties to the tests that have been set by the user on the Maven command line via &lt;tt&gt;-Dkey=value&lt;/tt&gt;, system props passed directly into the JVM via MAVEN_OPTS are not forwarded to the tests.&lt;/p&gt;

&lt;p&gt;For this actually to work, Maven 2.1.0 or newer is required. For Maven 2.0.x, no system properties are propagated as in previous plugin versions and a warning is emitted.&lt;/p&gt;</comment>
                            <comment id="17993537" author="olamy" created="Fri, 4 Jul 2025 06:23:55 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1121&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12810215">SUREFIRE-564</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13080198">SUREFIRE-1385</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12810221">SUREFIRE-635</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12810132">SUREFIRE-491</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12719910" name="testargs.zip" size="5079" author="stefano_fornari" created="Thu, 19 Mar 2009 03:17:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bdkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>