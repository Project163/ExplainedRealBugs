<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:06:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-389] IncompatibleClassChangeError when useSystemClassLoader=true</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-389</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Run &quot;mvn test -Dsurefire.useSystemClassLoader=true&quot; with the latest 2.4 SNAPSHOT on trunk.  You&apos;ll get an ICCE:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IncompatibleClassChangeError
        at org.codehaus.plexus.archiver.zip.AbstractZipArchiver.createArchiveMain(AbstractZipArchiver.java:318)
        at org.codehaus.plexus.archiver.zip.AbstractZipArchiver.execute(AbstractZipArchiver.java:242)
        at org.codehaus.plexus.archiver.AbstractArchiver.createArchive(AbstractArchiver.java:673)
        at org.apache.maven.surefire.booter.ForkConfiguration.createJar(ForkConfiguration.java:258)
        at org.apache.maven.surefire.booter.ForkConfiguration.createCommandLine(ForkConfiguration.java:185)
        at org.apache.maven.surefire.booter.SurefireBooter.fork(SurefireBooter.java:597)
        at org.apache.maven.surefire.booter.SurefireBooter.forkSuites(SurefireBooter.java:439)
        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesForkOnce(SurefireBooter.java:339)
        at org.apache.maven.surefire.booter.SurefireBooter.run(SurefireBooter.java:225)
        at org.apache.maven.plugin.surefire.SurefirePlugin.execute(SurefirePlugin.java:436)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:480)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:459)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:311)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:280)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Maven version: 2.0.7 Java version: 1.5.0_12 OS name: &amp;quot;windows xp&amp;quot; version: &amp;quot;5.1&amp;quot; arch: &amp;quot;x86&amp;quot;; Surefire 2.4-SNAPSHOT</environment>
        <key id="12809775">SUREFIRE-389</key>
            <summary>IncompatibleClassChangeError when useSystemClassLoader=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dfabulich">Daniel Fabulich</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Nov 2007 13:19:04 +0000</created>
                <updated>Fri, 4 Jul 2025 07:08:22 +0000</updated>
                            <resolved>Fri, 23 Nov 2007 17:04:50 +0000</resolved>
                                    <version>2.4</version>
                                    <fixVersion>2.4</fixVersion>
                                    <component>classloading</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14453925" author="wsmoak" created="Fri, 23 Nov 2007 14:28:35 +0000"  >&lt;p&gt;I get the same thing.  Maven 2.0.7 on OS X, just &apos;mvn test -Dsurefire.useSystemClassLoader=true&apos; on a project created from the quickstart archetype.&lt;/p&gt;</comment>
                            <comment id="14454111" author="dfabulich" created="Fri, 23 Nov 2007 16:26:25 +0000"  >&lt;p&gt;The problem appears to be in the plexus-archiver.  Last month in revision 588274 jdcasey bumped the version from 1.0-alpha-7 to 1.0-alpha-10-SNAPSHOT, apparently to &quot;fix&quot; useSystemClassLoader (???).&lt;/p&gt;

&lt;p&gt;But plexus-archiver:1.0-alpha-10-SNAPSHOT depends on plexus-container-default:1.0-alpha-15, in conflict with maven-2.0.7&apos;s plexus-container-default:1.0-alpha-9-stable-1.&lt;/p&gt;

&lt;p&gt;It appears that -archiver:-10-SNAPSHOT, expecting -container-default:-15, is getting -9-stable-1, and is throwing an ICCE.&lt;/p&gt;

&lt;p&gt;When I downgrade back to -archiver -7, everything seems to work fine (including my useSystemClassLoader integration test).&lt;/p&gt;

&lt;p&gt;I&apos;m not really sure what bug jdcasey was addressing with revision 588274, but an ICCE can&apos;t possibly be an improvement over what was there before...?&lt;/p&gt;

&lt;p&gt;I presume jdcasey was fixing a real bug, though...  Any idea what it was? How can we fix that bug without causing an ICCE?&lt;/p&gt;</comment>
                            <comment id="14453871" author="dfabulich" created="Fri, 23 Nov 2007 17:04:50 +0000"  >&lt;p&gt;Thanks to a tip from olamy, figured out a way to make this go away without downgrading to archiver -alpha-7.  Checked in revision 597753.  (But I&apos;m still curious as to why we need to depend on archiver-10.  The change in Fisheye doesn&apos;t make much sense to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://fisheye.codehaus.org/browse/plexus/plexus-components/trunk/plexus-archiver/src/main/java/org/codehaus/plexus/archiver/jar/JarArchiver.java?ignore2=w&amp;amp;r1=4612&amp;amp;r2=7007&amp;amp;u=3#seg7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fisheye.codehaus.org/browse/plexus/plexus-components/trunk/plexus-archiver/src/main/java/org/codehaus/plexus/archiver/jar/JarArchiver.java?ignore2=w&amp;amp;r1=4612&amp;amp;r2=7007&amp;amp;u=3#seg7&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://tinyurl.com/32yx3s&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tinyurl.com/32yx3s&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14454003" author="dfabulich" created="Fri, 23 Nov 2007 17:21:40 +0000"  >&lt;p&gt;Turns out that the tip didn&apos;t really work; I got failures running surefire-report tests later in the build.  Downgrading to alpha-7 and awaiting word on what we needed -10-snapshot for.&lt;/p&gt;</comment>
                            <comment id="17993730" author="olamy" created="Fri, 4 Jul 2025 07:08:22 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1387&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1387&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bd9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>