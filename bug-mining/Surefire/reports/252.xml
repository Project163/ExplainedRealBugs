<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:09:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-794] JUnit4 - ClassNotFoundException in second execution if tests are in different directory.</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-794</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I have a structure where the test sources are in ../src/test/java .&lt;br/&gt;
Compiled classes are in default target/test-classes .&lt;br/&gt;
When I have two executions with some includes and excludes, the second execution throws:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.maven.surefire.util.SurefireReflectionException: java.lang.reflect.InvocationTargetException; nested exception is java.lang.reflect.InvocationTargetException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
java.lang.reflect.InvocationTargetException
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
Caused by: org.apache.maven.surefire.util.NestedRuntimeException: Unable to create test class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.jboss.as.test.integration.ws.anonymousPojos.web&apos;&lt;/span&gt;; nested exception is java.lang.ClassNotFoundException: org.jboss.as.test.integration.ws.anonymousPojos.web
        at org.apache.maven.surefire.util.DefaultDirectoryScanner.loadClass(DefaultDirectoryScanner.java:102)
        at org.apache.maven.surefire.util.DefaultDirectoryScanner.locateTestClasses(DefaultDirectoryScanner.java:78)
        at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:174)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:83)
        ... 9 more
Caused by: java.lang.ClassNotFoundException: org.jboss.as.test.integration.ws.anonymousPojos.web
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:307)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:248)
        at org.apache.maven.surefire.util.DefaultDirectoryScanner.loadClass(DefaultDirectoryScanner.java:98)
        ... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12809548">SUREFIRE-794</key>
            <summary>JUnit4 - ClassNotFoundException in second execution if tests are in different directory.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="pekarna">Ondra &#381;i&#382;ka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 23:18:41 +0000</created>
                <updated>Fri, 4 Jul 2025 07:17:14 +0000</updated>
                            <resolved>Wed, 23 Nov 2011 14:38:34 +0000</resolved>
                                                                    <component>Junit 4.x support</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14455064" author="pekarna" created="Fri, 18 Nov 2011 23:30:54 +0000"  >&lt;p&gt;STR:&lt;/p&gt;

&lt;p&gt;1) Check out &lt;a href=&quot;https://github.com/OndraZizka/jboss-as/commit/64ba2869d62d21ed5e3655b76666b16b0713f0fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/OndraZizka/jboss-as/commit/64ba2869d62d21ed5e3655b76666b16b0713f0fd&lt;/a&gt;&lt;br/&gt;
2) cd testsuite/integration&lt;br/&gt;
3) mvn clean install -DwebProfile -Dts.basic -Dts.noSmoke&lt;/p&gt;</comment>
                            <comment id="14455130" author="pekarna" created="Sat, 19 Nov 2011 00:32:10 +0000"  >&lt;p&gt;Figured it out - there was a .xml file being caught by &amp;lt;include&amp;gt;.../*&lt;b&gt;/&lt;/b&gt;&amp;lt;/include&amp;gt;&lt;br/&gt;
I think this should be handled better - with a better message, containing path to the file being scanned, like:&lt;/p&gt;

&lt;p&gt;&quot;Unable to load a test class from file .../web.xml. Was it included by mistake?&quot;&lt;/p&gt;</comment>
                            <comment id="14455228" author="krosenvold" created="Wed, 23 Nov 2011 14:38:34 +0000"  >&lt;p&gt;I could not reproduce this issue or the problem resolution you describe.&lt;/p&gt;

&lt;p&gt;Please check out the sample project &lt;/p&gt;

&lt;p&gt;svn co &lt;a href=&quot;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/includes-excludes/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/surefire/trunk/surefire-integration-tests/src/test/resources/includes-excludes/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Inside this project, you can now run commands like  &lt;/p&gt;

&lt;p&gt;mvn -PwithXmlFile -Dsurefire.version=2.11-SNAPSHOT -Djunit.version=4.8 test &lt;/p&gt;

&lt;p&gt;Please make whatever changes you can to reproduce the problem you are describing and feel free to reopen this issue when you can describe the necessary steps to reproduce (in terms of the sample project)&lt;/p&gt;</comment>
                            <comment id="17994196" author="olamy" created="Fri, 4 Jul 2025 07:17:14 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1779&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1779&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bgvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>