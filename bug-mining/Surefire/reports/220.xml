<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:08:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-727] Classpath too long on windows with useManifestOnlyJar=false</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-727</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>
&lt;p&gt;If the useMandifestOnlyJar=false, then then jnuit won&apos;t run on windows because the classpath is to long. The better way to fork a java process is to set the CLASSPATH env variable instead of passing it on the command line.&lt;/p&gt;

&lt;p&gt;This patch fixes the issue.&lt;/p&gt;


&lt;p&gt;Index: src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java	(revision 1092789)&lt;br/&gt;
+++ src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java	(working copy)&lt;br/&gt;
@@ -221,13 +221,13 @@&lt;br/&gt;
         }&lt;br/&gt;
         else&lt;/p&gt;
         {
-            cli.createArg().setValue( &quot;-classpath&quot; );
-
-            cli.createArg().setValue( StringUtils.join( classPath.iterator(), File.pathSeparator ) );
+//            cli.createArg().setValue( &quot;-classpath&quot; );
+//            cli.createArg().setValue( StringUtils.join( classPath.iterator(), File.pathSeparator ) );
+           cli.addEnvironment(&quot;CLASSPATH&quot;,StringUtils.join( classPath.iterator(), File.pathSeparator ));
+          
+           final String forkedBooter = ForkedBooter.class.getName();
 
-            final String forkedBooter = ForkedBooter.class.getName();
-
-            cli.createArg().setValue( shadefire ? new Relocator( ).relocate( forkedBooter ) : forkedBooter);
+           cli.createArg().setValue( shadefire ? new Relocator( ).relocate( forkedBooter ) : forkedBooter);
         }

&lt;p&gt;         cli.setWorkingDirectory( workingDirectory.getAbsolutePath() );&lt;/p&gt;</description>
                <environment></environment>
        <key id="12809653">SUREFIRE-727</key>
            <summary>Classpath too long on windows with useManifestOnlyJar=false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krosenvold">Kristian Rosenvold</assignee>
                                    <reporter username="kaloisi">kevin aloisi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Apr 2011 10:17:53 +0000</created>
                <updated>Fri, 4 Jul 2025 07:15:59 +0000</updated>
                            <resolved>Tue, 19 Apr 2011 14:26:11 +0000</resolved>
                                    <version>2.8.1</version>
                                    <fixVersion>2.9</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14454894" author="krosenvold" created="Tue, 19 Apr 2011 14:13:11 +0000"  >&lt;p&gt;According to &lt;a href=&quot;http://support.microsoft.com/?kbid=830473&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://support.microsoft.com/?kbid=830473&lt;/a&gt;, this solution should help for all but the most antique windows versions.&lt;/p&gt;</comment>
                            <comment id="14454844" author="krosenvold" created="Tue, 19 Apr 2011 14:26:11 +0000"  >&lt;p&gt;Thanks for the patch, applied in r1095173&lt;/p&gt;

&lt;p&gt;(And we don&apos;t leave commented out code in our code-base, we have version control for that)&lt;/p&gt;</comment>
                            <comment id="17994129" author="olamy" created="Fri, 4 Jul 2025 07:15:59 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1832&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1832&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13269284">SUREFIRE-1723</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bfgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>