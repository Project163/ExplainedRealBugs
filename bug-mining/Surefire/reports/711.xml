<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1556] Test XML file is not valid when rerun &quot;fails&quot; with an assumption</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1556</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We are running UI tests and are doing one retry if there is a bug.&lt;/p&gt;

&lt;p&gt;When a test fails with an Exception on the first try and the second try is skipped by an assumption violation the resulting test report xml file is not valid (not well formatted xml file).&lt;/p&gt;

&lt;p&gt;When the test is skipped on the first try or both runs fail with an exception everything is ok.&lt;/p&gt;

&lt;p&gt;This is a testcase which is retried and a valid xml is generated.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxx&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxx&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;47.905&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;error message=&lt;span class=&quot;code-quote&quot;&gt;&quot;message&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.openqa.selenium.TimeoutException&quot;&lt;/span&gt;&amp;gt;
        ...
    &amp;lt;/error&amp;gt;
    &amp;lt;system-out&amp;gt;
        ...
    &amp;lt;/system-out&amp;gt;
    &amp;lt;system-err&amp;gt;
        ...
    &amp;lt;/system-err&amp;gt;
    &amp;lt;rerunError message=&lt;span class=&quot;code-quote&quot;&gt;&quot;message&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.IndexOutOfBoundsException&quot;&lt;/span&gt;&amp;gt;
        ...
        &amp;lt;system-out&amp;gt;
            ...
        &amp;lt;/system-out&amp;gt;
        &amp;lt;system-err&amp;gt;
            ...
        &amp;lt;/system-err&amp;gt;
    &amp;lt;/rerunError&amp;gt;
&amp;lt;/testcase&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is a generated invalid xml. The rerunError tag is missing. The retry &quot;error&quot; is an assumption violation so the test should be marked as skipped with message of the assumptionviolation.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxx&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;xxx&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;54.153&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;error message=&lt;span class=&quot;code-quote&quot;&gt;&quot;message&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.openqa.selenium.TimeoutException&quot;&lt;/span&gt;&amp;gt;

  &amp;lt;/error&amp;gt;
  &amp;lt;system-out&amp;gt;
    ...
  &amp;lt;/system-out&amp;gt;
  &amp;lt;system-err&amp;gt;
    ...
  &amp;lt;/system-err&amp;gt;
  &amp;lt; message=&lt;span class=&quot;code-quote&quot;&gt;&quot;There should be a list of ads!&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;system-out&amp;gt;
      ...
    &amp;lt;/system-out&amp;gt;
    &amp;lt;system-err&amp;gt;
      ...
    &amp;lt;/system-err&amp;gt;
  &amp;lt;/&amp;gt;
&amp;lt;/testcase&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I have attached the following files:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TEST-asdf.SearchTest_assumption_valid.xml (assumption violation in the first test run)&lt;/li&gt;
	&lt;li&gt;TEST-asdf.SearchTest_rerun_fail_valid.xml (both runs throw exception)&lt;/li&gt;
	&lt;li&gt;TEST-asdf.SearchTest_rerun_assumption_invalid.xml (first run exception - second run assumption violation)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13180157">SUREFIRE-1556</key>
            <summary>Test XML file is not valid when rerun &quot;fails&quot; with an assumption</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="Micky002">Michael Weisgrab</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Aug 2018 08:39:20 +0000</created>
                <updated>Fri, 4 Jul 2025 07:31:45 +0000</updated>
                            <resolved>Wed, 2 Feb 2022 20:26:57 +0000</resolved>
                                    <version>2.21.0</version>
                    <version>2.22.0</version>
                                    <fixVersion>2.22.3</fixVersion>
                    <fixVersion>3.0.0-M6</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="16592632" author="tibor17" created="Sat, 25 Aug 2018 15:45:40 +0000"  >&lt;p&gt;Thx for finding it. I found another issue where XML is invalid. I am going to change the XSD for the elements &lt;tt&gt;rerunError&lt;/tt&gt;, &lt;tt&gt;rerunFailure&lt;/tt&gt;, &lt;tt&gt;flakyFailure&lt;/tt&gt;, &lt;tt&gt;flakyError&lt;/tt&gt;. Most probably Jenkins/Travis plugins would have to adapt.&lt;/p&gt;

&lt;p&gt;Can you help us with writing an integration test for this issue and debug the marshaller class &lt;tt&gt;StatelessXmlReporter&lt;/tt&gt; at least? Perhaps the logic does not consider this case. But the logic should evaluate the last successful run or take the failure/error as it is.&lt;/p&gt;</comment>
                            <comment id="16972278" author="tibor17" created="Tue, 12 Nov 2019 11:00:51 +0000"  >&lt;p&gt;It is a design problem and we want to rework the implementation in the version 3.0.0-M5, see &lt;a href=&quot;https://lists.apache.org/thread.html/18f0593b6debf07fbeec792ad7f29e4ae7fbb16cdcc741265fb25d1d@%3Cusers.maven.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/18f0593b6debf07fbeec792ad7f29e4ae7fbb16cdcc741265fb25d1d@%3Cusers.maven.apache.org%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17060867" author="tibor17" created="Tue, 17 Mar 2020 12:09:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Micky002&quot; class=&quot;user-hover&quot; rel=&quot;Micky002&quot;&gt;Micky002&lt;/a&gt;&lt;br/&gt;
Can you attach a project where we can reproduce this issue and debug our code?&lt;br/&gt;
Thx&lt;/p&gt;</comment>
                            <comment id="17483512" author="tibor17" created="Fri, 28 Jan 2022 01:44:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Micky002&quot; class=&quot;user-hover&quot; rel=&quot;Micky002&quot;&gt;Micky002&lt;/a&gt;&lt;br/&gt;
Pls see the &lt;a href=&quot;https://github.com/apache/maven-surefire/pull/450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;fix&lt;/a&gt; on Github.&lt;/p&gt;</comment>
                            <comment id="17486077" author="tibor17" created="Wed, 2 Feb 2022 20:26:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=47aebbb6d7faad3db837fe5fe93d8ffb11bf37c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=47aebbb6d7faad3db837fe5fe93d8ffb11bf37c8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17486164" author="tibor17" created="Wed, 2 Feb 2022 23:45:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=d24ac6d1ab5a2584a6d8cacf35eea693b68fc8f4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=d24ac6d1ab5a2584a6d8cacf35eea693b68fc8f4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17994961" author="olamy" created="Fri, 4 Jul 2025 07:31:45 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2234&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2234&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13424540">SUREFIRE-1986</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12936407" name="TEST-asdf.SearchTest_assumption_valid.xml" size="464" author="Micky002" created="Tue, 21 Aug 2018 08:40:56 +0000"/>
                            <attachment id="12936408" name="TEST-asdf.SearchTest_rerun_assumption_invalid.xml" size="749" author="Micky002" created="Tue, 21 Aug 2018 08:40:56 +0000"/>
                            <attachment id="12936409" name="TEST-asdf.SearchTest_rerun_fail_valid.xml" size="904" author="Micky002" created="Tue, 21 Aug 2018 08:40:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3x94n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>