<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-2117] XML report omits package and outer class name for tests in @Nested inner class if testset reporter is configured to use phrased naming</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-2117</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Descriptionoftheissue&quot;&gt;&lt;/a&gt;Description of the issue&lt;/h3&gt;

&lt;p&gt;Given a test class with tests in nested inner classes as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; mypackage;

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;OuterTestClass {

    @Nested
    &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {

        @Test
        void level1_test() { ... }

        @Nested
        &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;B {

            @Test
            void level2_test() { ... }

        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and a surefire configuration that includes the following&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;statelessTestsetReporter implementation=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;usePhrasedTestSuiteClassName&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/usePhrasedTestSuiteClassName&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;usePhrasedTestCaseClassName&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/usePhrasedTestCaseClassName&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;usePhrasedTestCaseMethodName&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/usePhrasedTestCaseMethodName&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/statelessTestsetReporter&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the XML reports will look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;level1_test&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;level2_test&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;B&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;i.e. the package name, outer class name and higher level inner class names are not included in the classname attribute.&lt;/p&gt;

&lt;p&gt;I would expect something more like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;level1_test&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;mypackage.OuterTestClass$A&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;testcase name=&lt;span class=&quot;code-quote&quot;&gt;&quot;level2_test&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;mypackage.OuterTestClass$A$B&quot;&lt;/span&gt; time=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This happens also if&#160; &lt;tt&gt;@DisplayName&lt;/tt&gt;&#160; is used by the way. Only the display name of the leaf inner class is included in the report in that case.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Somecontextonwhythisisbad&quot;&gt;&lt;/a&gt;Some context on why this is bad&lt;/h3&gt;

&lt;p&gt;Any software that parses the surefire XML reports is missing out on potentially important context information.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Solutionideas&quot;&gt;&lt;/a&gt;Solution ideas&lt;/h3&gt;

&lt;p&gt;The root cause is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1914&quot; title=&quot;XML report omits method signature / display name of Junit 5 parameterized tests if testset reporter is configured to use phrased naming&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1914&quot;&gt;&lt;del&gt;SUREFIRE-1914&lt;/del&gt;&lt;/a&gt;. Therefore, a similar fix can be provided: the hierarchy of class source test identifiers needs to be taken into account to determine the classname attribute.&lt;/p&gt;

&lt;p&gt;I will provide a pull request that contains ITs that reproduce the issue and a proposed fix.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Workaround&quot;&gt;&lt;/a&gt;Workaround&lt;/h3&gt;

&lt;p&gt;A workaround is to explicitly specify a  &lt;tt&gt;@DisplayName&lt;/tt&gt;  that also contains the information otherwise provided by the surrounding inner class(es), the outer class and the package name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13484283">SUREFIRE-2117</key>
            <summary>XML report omits package and outer class name for tests in @Nested inner class if testset reporter is configured to use phrased naming</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sjaranowski">Slawomir Jaranowski</assignee>
                                    <reporter username="andpab">Andreas Pabst</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2022 16:07:39 +0000</created>
                <updated>Fri, 4 Jul 2025 07:42:28 +0000</updated>
                            <resolved>Wed, 28 Dec 2022 16:35:11 +0000</resolved>
                                    <version>3.0.0-M7</version>
                                    <fixVersion>3.0.0-M8</fixVersion>
                                    <component>JUnit 5.x support</component>
                    <component>xml generation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17995511" author="olamy" created="Fri, 4 Jul 2025 07:42:28 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2780&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2780&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13378662">SUREFIRE-1914</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13521697">SUREFIRE-2147</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z190ww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>