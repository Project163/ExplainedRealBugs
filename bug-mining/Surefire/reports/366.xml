<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:11:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-829] junit | Support inheritance while running test cases belonging to a particular category/group</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-829</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We have a parent class which is extended by all the unit test cases (multi module maven based project)&lt;br/&gt;
It would be great if surefire plugin config looks for the category in parent class as well. This will avoid redundant @Category(UnitTestCategory.class) annotations, as we expect all unit test cases to extend the corresponding base class and the base class will alone be annotated with @Category(UnitTestCategory.class)&lt;/p&gt;

&lt;p&gt;Please let me know if this can be achieved by any other config.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</description>
                <environment></environment>
        <key id="12810333">SUREFIRE-829</key>
            <summary>junit | Support inheritance while running test cases belonging to a particular category/group</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="agudian">Andreas Gudian</assignee>
                                    <reporter username="muralidh">Gayathri.Muralidharan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Feb 2012 08:51:09 +0000</created>
                <updated>Fri, 4 Jul 2025 07:17:52 +0000</updated>
                            <resolved>Thu, 6 Jun 2013 14:29:08 +0000</resolved>
                                    <version>2.12</version>
                                    <fixVersion>2.15</fixVersion>
                                    <component>Junit 4.x support</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14455289" author="muralidh" created="Tue, 7 Feb 2012 08:41:08 +0000"  >&lt;p&gt;Modified surefire-plugin version 2.12 locally and now it works for 1-level inheritance. (Trying to extend this for n-level inheritance as well)&lt;/p&gt;

&lt;p&gt;Can someone please let me know if this is the correct approach ?&lt;br/&gt;
diff is as follows :&lt;/p&gt;

&lt;p&gt;Index: surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java      (revision 1241425)&lt;br/&gt;
+++ surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java      (working copy)&lt;br/&gt;
@@ -47,6 +47,6 @@&lt;/p&gt;

&lt;p&gt;     public boolean isCategoryAnnotationPresent( Class clazz )&lt;/p&gt;
     {
-        return category != null &amp;amp;&amp;amp; clazz.getAnnotation( category ) != null;
+               return (category != null &amp;amp;&amp;amp; ((clazz.getAnnotation( category ) != null) || (clazz.getSuperclass().getAnnotation( category ) != null) ));
     }
&lt;p&gt; }&lt;br/&gt;
Index: surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java (revision 1241425)&lt;br/&gt;
+++ surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java (working copy)&lt;br/&gt;
@@ -206,7 +206,7 @@&lt;/p&gt;
         {
             return shouldRun( description, ( description.getMethodName() == null
                 ? null
-                : Description.createSuiteDescription( description.getTestClass() ) ) );
+                : Description.createSuiteDescription( description.getTestClass().getSuperclass() ) ) );
         }</comment>
                            <comment id="14455292" author="muralidh" created="Tue, 7 Feb 2012 08:48:59 +0000"  >&lt;p&gt;Modified for supporting n-level inheritance as well :&lt;br/&gt;
Diff :&lt;br/&gt;
Index: surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java      (revision 1241425)&lt;br/&gt;
+++ surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/JUnit48Reflector.java      (working copy)&lt;br/&gt;
@@ -47,6 +47,6 @@&lt;/p&gt;

&lt;p&gt;     public boolean isCategoryAnnotationPresent( Class clazz )&lt;/p&gt;
     {
-        return category != null &amp;amp;&amp;amp; clazz.getAnnotation( category ) != null;
+               return (category != null &amp;amp;&amp;amp; ((clazz.getAnnotation( category ) != null) || (clazz.getSuperclass().getAnnotation( category ) != null) ));
     }
&lt;p&gt; }&lt;br/&gt;
Index: surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java (revision 1241425)&lt;br/&gt;
+++ surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java (working copy)&lt;br/&gt;
@@ -206,17 +206,23 @@&lt;/p&gt;
         {
             return shouldRun( description, ( description.getMethodName() == null
                 ? null
-                : Description.createSuiteDescription( description.getTestClass() ) ) );
+                : Description.createSuiteDescription( description.getTestClass().getSuperclass() ) ) );
         }

&lt;p&gt;         private boolean shouldRun( Description description, Description parent )&lt;br/&gt;
         {&lt;br/&gt;
             Boolean result = shouldRunAnswers.get( description );&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if ( result != null )&lt;br/&gt;
+            Boolean parentResult = shouldRunAnswers.get( parent );&lt;br/&gt;
+            if ( result != null )
             {
                 return result;
             }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+            if ( parentResult != null )&lt;br/&gt;
+            &lt;/p&gt;
{
+                return parentResult;
+            }
&lt;p&gt;+&lt;/p&gt;

&lt;p&gt;Please let me know if i am missing anything else here? &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455262" author="rfscholte" created="Tue, 7 Feb 2012 14:27:18 +0000"  >&lt;p&gt;Gayathri,&lt;/p&gt;

&lt;p&gt;please attach the patch/diff as a file.&lt;br/&gt;
And it looks like you need recursion here, so something like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; || clazz.getSuperclass() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; isCategoryAnnotationPresent( clazz.getSuperclass() ) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14455383" author="muralidh" created="Wed, 8 Feb 2012 00:20:48 +0000"  >&lt;p&gt;Thanks for the quick response and sure, I will attach the patch after making this change.&lt;/p&gt;</comment>
                            <comment id="14455382" author="muralidh" created="Wed, 8 Feb 2012 01:36:24 +0000"  >&lt;p&gt;Will adding @Inherited to org.junit.experimental.categories.Category annotation suffice ? &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455295" author="krosenvold" created="Thu, 16 Feb 2012 09:11:44 +0000"  >&lt;p&gt;Do remember to make testcases for this;look at &quot;developing.apt.vm&quot; in the source for instructions. Looking forward to a patch on this one...&lt;/p&gt;</comment>
                            <comment id="14455284" author="muralidh" created="Thu, 15 Mar 2012 23:59:46 +0000"  >&lt;p&gt;Sure. Sorry for the delay here. I will submit the patch today.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455222" author="muralidh" created="Fri, 16 Mar 2012 02:36:58 +0000"  >&lt;p&gt;Attaching the patch.&lt;br/&gt;
Changes have been made on 2.13-SNAPSHOT (trunk version).&lt;/p&gt;

&lt;p&gt;Modified an existing test case to test the new change as well&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455374" author="muralidh" created="Mon, 19 Mar 2012 02:29:43 +0000"  >&lt;p&gt;Attaching the new patch file as the previous patch was stale (didnt contain the change mentioned by Robert)&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455419" author="muralidh" created="Mon, 19 Mar 2012 02:53:04 +0000"  >&lt;p&gt;Can you please review the patch : &lt;a href=&quot;https://jira.codehaus.org/secure/attachment/59255/SUREFIRE-829-common-junit48-new.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/secure/attachment/59255/SUREFIRE-829-common-junit48-new.patch&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455821" author="muralidh" created="Wed, 29 May 2013 23:44:00 +0000"  >&lt;p&gt;Can you please review the patch ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gayathri&lt;/p&gt;</comment>
                            <comment id="14455915" author="krosenvold" created="Thu, 30 May 2013 01:27:30 +0000"  >&lt;p&gt;Sorry about the delay. the patch is stale in its current form. I have moved it along in history in the &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-829&quot; title=&quot;junit | Support inheritance while running test cases belonging to a particular category/group&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-829&quot;&gt;&lt;del&gt;SUREFIRE-829&lt;/del&gt;&lt;/a&gt; branch in &lt;a href=&quot;https://github.com/krosenvold/maven-surefire&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/krosenvold/maven-surefire&lt;/a&gt;, it conflicts on the next commit. If you would re-align it to current changes, I will apply this patch.&lt;/p&gt;

&lt;p&gt;Sorry about the delay, this patch should not have been waiting for that long. And yes, we&apos;re relasing 2.15 &quot;soon&quot;, so I&apos;ll definitely include this patch there if it makes it.&lt;/p&gt;</comment>
                            <comment id="14455900" author="muralidh" created="Thu, 30 May 2013 01:30:31 +0000"  >&lt;p&gt;No issues Kristian &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I will update the patch within a day or two.&lt;/p&gt;

</comment>
                            <comment id="14456007" author="krosenvold" created="Mon, 3 Jun 2013 11:19:23 +0000"  >&lt;p&gt;I&apos;m rolling the release in &quot;a day or so&quot; (vague term describing 1-4 days)&lt;/p&gt;</comment>
                            <comment id="14455914" author="muralidh" created="Wed, 5 Jun 2013 01:36:30 +0000"  >&lt;p&gt;Uploading the latest patch after making changes on current trunk code&lt;/p&gt;</comment>
                            <comment id="14456008" author="agudian" created="Thu, 6 Jun 2013 14:29:09 +0000"  >&lt;p&gt;Thanks for your patch!&lt;/p&gt;

&lt;p&gt;I&apos;ve applied it in commit 8980aa5623899d635302a3bede53f0ce8a2081f3. The suggested changes in FilterFactory had to be rewritten, as the code has changed significantly compared to the patch reference.&lt;/p&gt;</comment>
                            <comment id="14455993" author="jglick" created="Mon, 10 Jun 2013 11:15:47 +0000"  >&lt;p&gt;Seems wrong to me. If the authors of &lt;tt&gt;Category&lt;/tt&gt; had intended it to be inherited, they would have marked it &lt;tt&gt;@Inherited&lt;/tt&gt;. If they simply never thought of this use case but agree that it should work, then a new JUnit release should add the annotation. In neither case should Surefire be patched.&lt;/p&gt;</comment>
                            <comment id="14455955" author="krosenvold" created="Mon, 10 Jun 2013 14:40:03 +0000"  >&lt;p&gt;@Jesse; Yeah, you&apos;re probably right. This is just another version of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-833&quot; title=&quot;Support for annotated JUnit @Category&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-833&quot;&gt;&lt;del&gt;SUREFIRE-833&lt;/del&gt;&lt;/a&gt;, or at least the same type of problem. &lt;/p&gt;
</comment>
                            <comment id="17994230" author="olamy" created="Fri, 4 Jul 2025 07:17:52 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/1765&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#1765&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720309" name="SUREFIRE-829-common-junit48-20130506.patch" size="3069" author="muralidh" created="Wed, 5 Jun 2013 01:36:30 +0000"/>
                            <attachment id="12720267" name="SUREFIRE-829-common-junit48-new.patch" size="3052" author="muralidh" created="Mon, 19 Mar 2012 02:29:43 +0000"/>
                            <attachment id="12720206" name="SUREFIRE-829-common-junit48.patch" size="3022" author="muralidh" created="Fri, 16 Mar 2012 02:36:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bbhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>