<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:14:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1302] Surefire does not wait long enough for the forked VM and assumes it to be dead</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1302</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;This issue happens because surefire kills the forked container if it times out waiting for the &apos;ping&apos;.&lt;/p&gt;

&lt;p&gt;In org.apache.maven.surefire.booter.ForkedBooter class there is hardcoded constant PING_TIMEOUT_IN_SECONDS  = 20 which is used in the following method:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; ScheduledFuture&amp;lt;?&amp;gt; listenToShutdownCommands( CommandReader reader )
    {
        reader.addShutdownListener( createExitHandler( reader ) );
        AtomicBoolean pingDone = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AtomicBoolean( &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; );
        reader.addNoopListener( createPingHandler( pingDone ) );
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; JVM_TERMINATOR.scheduleAtFixedRate( createPingJob( pingDone, reader ),
                                                   0,PING_TIMEOUT_IN_SECONDS, SECONDS );
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to create ScheduledFuture.&lt;/p&gt;

&lt;p&gt;In some of the cases the forked container might respond a bit later than it&apos;s expected and surefire kills it&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; createPingJob( &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AtomicBoolean pingDone, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CommandReader reader  )
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run()
            {
                &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasPing = pingDone.getAndSet( &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; );
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( !hasPing )
                {
                    exit( 1, KILL, reader, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; );
                }
            }
        };
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As long as we need to terminate it anyway, It would be really helpful if the problem could be solved making the PING_TIMEOUT_IN_SECONDS  configurable with the ability to specify the value from maven-surefire-plugin. &lt;/p&gt;

&lt;p&gt;It would help to configure this timeout based on needs and factors of the projects where surefire runs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13019544">SUREFIRE-1302</key>
            <summary>Surefire does not wait long enough for the forked VM and assumes it to be dead</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="xeagle">Yuriy Zaplavnov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2016 14:11:26 +0000</created>
                <updated>Fri, 4 Jul 2025 07:26:52 +0000</updated>
                            <resolved>Wed, 26 Jul 2017 08:14:00 +0000</resolved>
                                    <version>2.19.1</version>
                                    <fixVersion>2.20.1</fixVersion>
                                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="15655140" author="michael-o" created="Thu, 10 Nov 2016 21:04:13 +0000"  >&lt;p&gt;You might want to consider to change the title. You are looking for an improvement as far as I can see.&lt;/p&gt;</comment>
                            <comment id="15656708" author="xeagle" created="Fri, 11 Nov 2016 10:27:53 +0000"  >&lt;p&gt;Originally there is a situation when the process is killed and there is no any way to configure logic to make it not happen. I would consider this as defect so far. &lt;/p&gt;

&lt;p&gt;By the way according to the &lt;a href=&quot;http://maven.apache.org/surefire/maven-surefire-plugin/faq.html#vm-termination&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/surefire/maven-surefire-plugin/faq.html#vm-termination&lt;/a&gt; there is no mention unfortunately about one more case I described above when it might fail. It actually fails and each failure means typically a Problem, therefore as far as there is no way to fix this with configuration of surefire, it could be considered as defect for the module.&lt;/p&gt;

&lt;p&gt;I don&apos;t think that this is an improvement, because improvement is an extension of already existing and working functionality which brings new opportunities. At this case there is a situation which leads to an incident and error and could&apos;t be resolved simply.&lt;/p&gt;</comment>
                            <comment id="15656805" author="michael-o" created="Fri, 11 Nov 2016 11:12:50 +0000"  >&lt;p&gt;To fully understand the issue: the tests or something else in the VM takes too long and the forked VM is not able to respond because it is blocked. Surefire assumes this VM to be dead, though still alive having a valid PID?&lt;/p&gt;</comment>
                            <comment id="15656857" author="xeagle" created="Fri, 11 Nov 2016 11:39:46 +0000"  >&lt;p&gt;You understand the case correctly.&lt;/p&gt;</comment>
                            <comment id="15656878" author="michael-o" created="Fri, 11 Nov 2016 11:51:26 +0000"  >&lt;p&gt;I think your problem can be solved in two steps:&lt;/p&gt;

&lt;p&gt;1. Create an improvement request to make this timeout configurable. A PR with an IT would be awesome.&lt;br/&gt;
2. Rename this issue to &quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; or something like that. &lt;/p&gt;

&lt;p&gt;This issue would require the new one to be solved, plus everything is nicely documented.&lt;/p&gt;

&lt;p&gt;Acceptable?&lt;/p&gt;</comment>
                            <comment id="15656928" author="xeagle" created="Fri, 11 Nov 2016 12:11:54 +0000"  >&lt;p&gt;Thanks for your assistance! Just renamed the issue and changed the type of the issue.&lt;/p&gt;</comment>
                            <comment id="15656967" author="michael-o" created="Fri, 11 Nov 2016 12:32:15 +0000"  >&lt;p&gt;Not exactly how I expected. This issue stays as bug. Create a new issue as improvement with the new configuration param. This will make it quite clear.&lt;/p&gt;</comment>
                            <comment id="15658028" author="tibor17" created="Fri, 11 Nov 2016 20:01:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
But this does not need PR.&lt;br/&gt;
The PING is lost only if your application corrupted std/out which is used to send this command. We are detecting the Maven was killed and forked surefire jvms should be killed afterwards.&lt;br/&gt;
I do not trust that the CPU is overloaded for 20 seconds so much the none of our Threads are notified.&lt;/p&gt;</comment>
                            <comment id="15658051" author="tibor17" created="Fri, 11 Nov 2016 20:11:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
Please see this issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1222&quot; title=&quot;ForkClient attempts to consume unrelated lines&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1222&quot;&gt;&lt;del&gt;SUREFIRE-1222&lt;/del&gt;&lt;/a&gt; and GitHub links there what it means when Arquillian affected the stream. The same happens with native libraries.&lt;br/&gt;
Simply print the logs that master process sends PING and slave receives it with certain timestamps. This would be the first thing to make analysis unlike adding config parameter which we are yet not sure that it helps to you and many other users. We must have the proofs.&lt;/p&gt;</comment>
                            <comment id="15664123" author="xeagle" created="Mon, 14 Nov 2016 15:00:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
Attached the regular logs from tests (two tests launched in forked VM). Please note that the description of log is truncated.&lt;/p&gt;</comment>
                            <comment id="15664126" author="xeagle" created="Mon, 14 Nov 2016 15:02:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;&lt;br/&gt;
Attached the custom logs captured from surefire booter (recompiled the 2.19.1 version with logging, two tests launched in forked VM).&lt;/p&gt;

&lt;p&gt;If you compare the timestamp records from this 2nd log with the records from 1st log, you will find that process is still alive, running and logging the execution within the time interval when the pingDone variable hasn&apos;t been updated.&lt;/p&gt;

&lt;p&gt;In some cases randomly tests complete successfully in some cases not.&lt;/p&gt;

&lt;p&gt;As far as you can see there are no errors related to corrupted stream.&lt;/p&gt;

&lt;p&gt;Hopefully this information would help you somehow.&lt;/p&gt;</comment>
                            <comment id="15671591" author="tibor17" created="Wed, 16 Nov 2016 20:52:21 +0000"  >&lt;p&gt;Good job!&lt;br/&gt;
The report &lt;tt&gt;tests_log_02.txt&lt;/tt&gt; contains two forks?&lt;br/&gt;
How much time each test takes?&lt;br/&gt;
Does this execution time interleave with 20 seconds period?&lt;br/&gt;
Maybe the ping is stopped right after the last test has started in testset. This is currently my guess. This can be simulated with sample project running the tests with &lt;tt&gt;sleep(21_000L)&lt;/tt&gt;. Please try that and provide your project in Jira to reproduce it.&lt;/p&gt;</comment>
                            <comment id="15700195" author="tibor17" created="Sun, 27 Nov 2016 19:35:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
What config of Surefire you use in this issue?It would be useful if you uploaded your project or a link in github where I can reproduce it.&lt;br/&gt;
I want to release Version 2.19.2 soon.&lt;br/&gt;
You can help me with that if you confirm the PING command dispatched from ForkStarter has stopped right after last test started.&lt;/p&gt;</comment>
                            <comment id="15701283" author="xeagle" created="Mon, 28 Nov 2016 08:19:01 +0000"  >&lt;p&gt;Sorry for delay, was a bit in hurry with other things, give me please some time and I will take it to prepare a project to let you reproduce it on your own.&lt;/p&gt;</comment>
                            <comment id="15715085" author="tibor17" created="Fri, 2 Dec 2016 13:08:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
Can you attach a project I can reproduce?&lt;/p&gt;</comment>
                            <comment id="15818674" author="xeagle" created="Wed, 11 Jan 2017 15:50:04 +0000"  >&lt;p&gt;I&apos;m so sorry for delay with this.&lt;/p&gt;

&lt;p&gt;Please try to run the attached (surefire-tests-terminated-master-aa9330316038f6b46316ce36ff40714ffc7cf299.zip) project: &lt;/p&gt;

&lt;p&gt;mvn clean package&lt;/p&gt;

&lt;p&gt;It runs tests and will fail. If you modify pom.xml and change surefire-plugin  version from &amp;lt;version&amp;gt;2.19.1&amp;lt;/version&amp;gt; to &amp;lt;version&amp;gt;2.18.1&amp;lt;/version&amp;gt; the run won&apos;t fail and will work as expected.&lt;/p&gt;

&lt;p&gt;Please have a look at this and let me know if you can reproduce this with this project on your side.&lt;/p&gt;</comment>
                            <comment id="15831779" author="xeagle" created="Fri, 20 Jan 2017 13:57:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt; is the issue from recently attached project reproducible for you?&lt;/p&gt;</comment>
                            <comment id="15961793" author="tibor17" created="Sat, 8 Apr 2017 11:37:21 +0000"  >
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
I used version 2.20 and found out that forked jvm received corrupted data in stdin (java.lang.System#in).&lt;br/&gt;
Some library uses stdin in your tests.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Created on 2017-04-08T13:28:55.139&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;SUREFIRE&amp;#93;&lt;/span&gt; std/in stream corrupted&lt;br/&gt;
java.io.IOException: Command NOOP unexpectedly read Void data with length 4.&lt;br/&gt;
	at org.apache.maven.surefire.booter.MasterProcessCommand.decode(MasterProcessCommand.java:130)&lt;br/&gt;
	at org.apache.maven.surefire.booter.CommandReader$CommandRunnable.run(CommandReader.java:386)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ol&gt;


</comment>
                            <comment id="15969177" author="opeyrusse" created="Fri, 14 Apr 2017 15:48:36 +0000"  >&lt;p&gt;Hello everyone,&lt;/p&gt;

&lt;p&gt;I&apos;d like to add my case to the one of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;In my case, we are developing an in-memory database for huge volume of data. Given that, it is common that we fill the JVM with a lot of objects during our tests, implying a lot of huge GCs after that. As you may know, GCs imply a stop-of-the-world at the JVM level, preventing it from sending its command expected by the ping. If the GC is too long, the VM is assumed to be dead and is killed by the &lt;tt&gt;ForkedBooter&lt;/tt&gt;.&lt;br/&gt;
As Yuriy, having the possibility to configure the ping period is enough to fix this issue.&lt;/p&gt;

&lt;p&gt;Side note: is it possible to add a log or something stating that the VM was killed by ForkedBooter since it was not responding ? &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The forked VM terminated without properly saying goodbye. VM crash or System.exit called?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is not really explicit. We first assumed that it was our code or in a third plugin. Directly knowing would have spare investigation hours &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks and regards&lt;/p&gt;</comment>
                            <comment id="15969259" author="tibor17" created="Fri, 14 Apr 2017 17:07:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
Can you enable &lt;tt&gt;-verbose:gc&lt;/tt&gt; and tell me how slow the GC is?&lt;br/&gt;
Ping should be received within 20 seconds.&lt;br/&gt;
Please test your project with new version &lt;tt&gt;2.20&lt;/tt&gt; which was released yesterday.&lt;/p&gt;</comment>
                            <comment id="15969508" author="tibor17" created="Fri, 14 Apr 2017 20:44:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
I think we can use JMX &lt;tt&gt;GarbageCollectorMXBean&lt;/tt&gt; and prolong the ping period by the delay caused by GC.&lt;/p&gt;</comment>
                            <comment id="15969571" author="tibor17" created="Fri, 14 Apr 2017 21:47:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
Can you help us and fix this issue in class &lt;tt&gt;ForkedBooter&lt;/tt&gt;?&lt;br/&gt;
I am working on three other issues and we want to make release in April and support JDK9.&lt;/p&gt;</comment>
                            <comment id="15974328" author="opeyrusse" created="Wed, 19 Apr 2017 08:46:07 +0000"  >&lt;p&gt;Hello Tibor,&lt;/p&gt;

&lt;p&gt;I will add the option for verbose GC. As soon as we hit the issue, I will forward you the GC times.&lt;br/&gt;
So far, I had a small thread logging a time at a regular pace. I saw pauses in that print around 10 secs, suggesting GCs of that duration.&lt;/p&gt;

&lt;p&gt;I am not at all familiar with surefire project. As Yuriy suggested, is that ok if I make the ping timeout configurable in surefire config ? If yes, where can I start to make it - just point me 1 or 2 base classes, and I will start from there. I cannot guarantee you I will have time to make the change, but I will try.&lt;/p&gt;

&lt;p&gt;Regards&lt;/p&gt;</comment>
                            <comment id="15974378" author="opeyrusse" created="Wed, 19 Apr 2017 09:32:04 +0000"  >&lt;p&gt;Hello Tibor,&lt;/p&gt;

&lt;p&gt;quick note about &lt;tt&gt;-verbose:gc&lt;/tt&gt;. I did not activate that option since it triggered a lot of errors in surefire, and the results were useless.&lt;br/&gt;
All GC stats are received by the CommandReader, which fails to decode them - logical since it is not supposed to be decoded.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;output:
# Created on 2017-04-19T11:22:13.163
Corrupted stdin stream in forked JVM 1. Stream &apos;[GC pause (System.gc()) (young) (initial-mark) 43M-&amp;gt;5994K(1024M), 0.0059696 secs]&apos;.

# Created on 2017-04-19T11:22:13.166
Corrupted stdin stream in forked JVM 1. Stream &apos;[GC concurrent-root-region-scan-start]&apos;.
java.lang.IllegalArgumentException: Stream stdin corrupted. Expected comma after third character in command &apos;[GC concurrent-root-region-scan-start]&apos;.
        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient$OperationalData.&amp;lt;init&amp;gt;(ForkClient.java:469)
        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.processLine(ForkClient.java:191)
        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:158)
        at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:87)
        at java.lang.Thread.run(Thread.java:745)


# Created on 2017-04-19T11:22:13.166
Corrupted stdin stream in forked JVM 1. Stream &apos;[GC concurrent-root-region-scan-end, 0.0024680 secs]&apos;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15974908" author="tibor17" created="Wed, 19 Apr 2017 15:28:40 +0000"  >&lt;p&gt;Hi Olivier,&lt;/p&gt;

&lt;p&gt;I think configurable ping timeout may not necessarily save our soul.&lt;br/&gt;
If you think in terms of accuracy of timers in Maven process and forked&lt;br/&gt;
jvm, and GC this would lead to pretty long timeour, e.g. 30 or 60 seconds.&lt;br/&gt;
The Jenkins scheduler is faster, cca 5 sec and git clone is fast as well.&lt;br/&gt;
If we could synchronize both timers, we would do much better job. Include&lt;br/&gt;
JMX which would prolong the period checking by GC period when Maven process&lt;br/&gt;
is supposed to be idle or dead.&lt;/p&gt;

&lt;p&gt;My problem with adding configuration parameter is a conflict with Version&lt;br/&gt;
3.0.&lt;br/&gt;
In 3.0 w have an ambition to customize the parameters with a programmatic&lt;br/&gt;
extension per parameter.&lt;br/&gt;
Add more and more parameters would delay 3.0 release and means having&lt;br/&gt;
unhappy users.&lt;br/&gt;
Version  3.0 has this ambition of extensions, requested by user group,&lt;br/&gt;
compatibility with Maven 3.0.x and JUnit 5 provider.&lt;br/&gt;
All of these are in progress in our branches.&lt;/p&gt;

&lt;p&gt;Our PING code is simple. It is located in ForkedBooter.java.&lt;br/&gt;
There are two timers. Our ping timer has fixed rate scheduler. This timer&lt;br/&gt;
has period of 20 seconds. I think we can make much better code if we try to&lt;br/&gt;
synchronize Maven process ping with forked JVM at rate of 1 second. The&lt;br/&gt;
timer should be tolerant to GC pauses.&lt;br/&gt;
What is the location of long GC pauses? Is it forked JVM or Maven process?&lt;br/&gt;
If it is Maven process then I am afraid we cannot do anything about it.&lt;br/&gt;
If it is forked JVM, killing jvm itself is up to ForkedBooter running in&lt;br/&gt;
forked jvm and the code can be tolerant.&lt;br/&gt;
What happens if we have e.g. 1 second timer and GC pauses also this timer?&lt;br/&gt;
Would it invoke all elapsed events right after the GC has finished? We&lt;br/&gt;
should write the last tick of timer and counter of GC and retrieve delay&lt;br/&gt;
from JMX if counter has been incremented. I would say the period of 20&lt;br/&gt;
seconds of idle status should be prolonged internally and counting the&lt;br/&gt;
period restarted after PING has been received from Maven process which is&lt;br/&gt;
the synchronization.&lt;/p&gt;





&lt;p&gt;On Wed, Apr 19, 2017 at 10:46 AM, Olivier Peyrusse (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="15975587" author="tibor17" created="Wed, 19 Apr 2017 21:44:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
Sooner or later we will use sockets and not these standard output and input streams.&lt;br/&gt;
We have to provide the users with fallback.&lt;br/&gt;
Then this dump file would not contain GC logs because it will be found in &lt;tt&gt;target/surefire-reports/TEST-null.txt&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16001258" author="tibor17" created="Mon, 8 May 2017 18:25:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
Please let me know if you still have this issue with new version &lt;tt&gt;2.20&lt;/tt&gt; of Surefire.&lt;br/&gt;
If you could measure the GC pauses &lt;tt&gt;via -verbose:gc&lt;/tt&gt; I would really appreciate your help. Thx.&lt;/p&gt;</comment>
                            <comment id="16002216" author="opeyrusse" created="Tue, 9 May 2017 07:30:50 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I will surely won&apos;t have time to code something for Surefire, but I will try again to run my failing test with version &lt;tt&gt;2.20&lt;/tt&gt;.&lt;br/&gt;
Sorry that I did not understand correctly your previous comment. I though you meant that in a future version, the GC logs would be in TEST-null.txt.&lt;/p&gt;

&lt;p&gt;I post the logs as soon as I got them.&lt;/p&gt;

&lt;p&gt;Regards&lt;/p&gt;</comment>
                            <comment id="16002270" author="tibor17" created="Tue, 9 May 2017 08:19:40 +0000"  >&lt;p&gt;Are you open for testing SNAPSHOT version in several days?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I though you meant that in a future version, the GC logs would be in&lt;br/&gt;
TEST-null.txt.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am not able to distinguish between GC logs and other. Writing to native&lt;br/&gt;
System stream std/out is a corruption from our point of view. We did&lt;br/&gt;
everything to bypass this when we call &lt;tt&gt;System.setOut()&lt;/tt&gt; in Surefire. We&lt;br/&gt;
override default PrintStream, wrap your custom logs, encode controlling&lt;br/&gt;
data in to it. If JVM or user writes to native stream the plugin may behave&lt;br/&gt;
wrong and hang which is in our evidence that we have blocker and critical&lt;br/&gt;
issues in Jira. So from my point of view this is user error. In the future&lt;br/&gt;
we want to avoid this completely by using sockets and not this mechanism.&lt;/p&gt;


&lt;p&gt;On Tue, May 9, 2017 at 9:31 AM, Olivier Peyrusse (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16002287" author="opeyrusse" created="Tue, 9 May 2017 08:33:40 +0000"  >&lt;p&gt;Yes, why not. It is not easy to reproduce our issue because we must trigger a huge GC at the right time. But, yes, I am willing.&lt;br/&gt;
What should I expect in the snapshot ?&lt;/p&gt;</comment>
                            <comment id="16002353" author="tibor17" created="Tue, 9 May 2017 09:18:40 +0000"  >&lt;p&gt;I plan to send PING from Maven process every second. This would be better&lt;br/&gt;
synchronization.&lt;br/&gt;
The measurements show me that Full GC is determined my the amount of&lt;br/&gt;
committed memory.&lt;br/&gt;
If it is &amp;lt;= 512 MB the pause takes 1.2 second. Huge amount 4GB takes over&lt;br/&gt;
12 seconds to Full GC.&lt;br/&gt;
I would like to kill JVM after 10 seconds of idle PING if Xmx is &amp;lt;= 512m.&lt;br/&gt;
Otherwise 20 seconds.&lt;br/&gt;
If this is not satisfying our needs, we have to configure it via a new&lt;br/&gt;
configuration parameter.&lt;/p&gt;

&lt;p&gt;If you are facing better algorithm, let me know.&lt;/p&gt;

&lt;p&gt;On Tue, May 9, 2017 at 10:34 AM, Olivier Peyrusse (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16002439" author="opeyrusse" created="Tue, 9 May 2017 10:19:23 +0000"  >&lt;p&gt;Seems good to me. Since you let a way to change that value, it should meet all needs.&lt;br/&gt;
You may consider increasing the time limit to 30s, or even a minute. As this is a safe guard and the machine is not supposed to die, we could wait a longer time to detect that issue. With such an increased timeout, you will likely avoid suffering from long GCs.&lt;/p&gt;</comment>
                            <comment id="16009419" author="tibor17" created="Sat, 13 May 2017 16:49:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
Can you pls build &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt; branch &lt;tt&gt;mvn -DskipTests install&lt;/tt&gt; and test it with your project?&lt;br/&gt;
I will override the branch and add parameter soon and then I want to change the documentation.&lt;br/&gt;
Yet the ping timeout is adaptive.&lt;br/&gt;
Adding parameter takes time because several classes and reflection has to be changed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1302&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16010206" author="opeyrusse" created="Mon, 15 May 2017 09:16:07 +0000"  >&lt;p&gt;Hello Tibor,&lt;/p&gt;

&lt;p&gt;new surefire built and I am starting the tests. Although, it is hard to reproduce ...&lt;/p&gt;</comment>
                            <comment id="16015374" author="opeyrusse" created="Thu, 18 May 2017 07:52:46 +0000"  >&lt;p&gt;Hello Tibor,&lt;/p&gt;

&lt;p&gt;I did not manage to reproduce the issue on my machine. I am trying on a bigger one.&lt;/p&gt;</comment>
                            <comment id="16015668" author="opeyrusse" created="Thu, 18 May 2017 12:27:12 +0000"  >&lt;p&gt;Hello Tibor,&lt;/p&gt;

&lt;p&gt;running surefire 2.21-SNAPSHOT, I got once again the VM shutdown. I attached to the issue the maven logs. My personal logs seems to show that a small thread supposed to print a message every 250 ms was not scheduled during 12s.&lt;br/&gt;
GC logs available as error in jvmRun1 show that a pause of ~12s, confirming my diagnostic.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
	&lt;li&gt;Created on 2017-05-18T05:50:30.395&lt;br/&gt;
Corrupted stdin stream in forked JVM 1. Stream &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;GC pause (G1 Evacuation Pause) (young)-- 888M-&amp;gt;820M(1024M), 11.8820911 secs&amp;#93;&lt;/span&gt;&apos;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;So the current adaptive ping seems not to be enough. Tell me if you want me to test something else.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                            <comment id="16016136" author="tibor17" created="Thu, 18 May 2017 17:36:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
I guess this is 1GB of committed memory: 888M-&amp;gt;820M(1024M)&lt;br/&gt;
According to my equation 1GB should be 17 seconds. But 12 is less than 17. So the ping should be tolerant.&lt;br/&gt;
Could you please print a log in the ping thread? It should print a message every second.&lt;br/&gt;
In other words the ping of 10 seconds should turn to 17 seconds when committed memory is 1 GB.&lt;br/&gt;
Debugging the code would be hard but putting more logs, according to your preference, may help.&lt;/p&gt;</comment>
                            <comment id="16017086" author="opeyrusse" created="Fri, 19 May 2017 09:00:42 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;,&lt;br/&gt;
I will try adding more details about the logs and printing the ping times.&lt;br/&gt;
However, I am still not confortable with your heuristics as it depends a lot on the GC configuration, the size of your eden, survivor and old gen spaces, because when your memory starts to be full, it will take much more time to find some space in the heap.&lt;br/&gt;
I remain on my position that we should make the timer waits for 1 minute without a ping, and then kill the machine, as we are dealing with tests here, not a real-time application with needs for fast-recovery.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                            <comment id="16017481" author="opeyrusse" created="Fri, 19 May 2017 14:44:31 +0000"  >&lt;p&gt;Hello again,&lt;/p&gt;

&lt;p&gt;I attached a new file with more details about G1GC run. But still, as soon as we face a GC of more than 13s, the ping fails.&lt;br/&gt;
I tried to print the timing of the ping, but it was apparently swallowed so I can&apos;t give them to you.&lt;br/&gt;
And I don&apos;t see what could go wrong.&lt;/p&gt;</comment>
                            <comment id="16018633" author="tibor17" created="Sat, 20 May 2017 22:34:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
I found the problem but since the Maven process can run modules in parallel &lt;tt&gt;e.g. -T 2C&lt;/tt&gt; then considering GC may complicate everything. I would rather observe &lt;tt&gt;PPID&lt;/tt&gt; and check if the process is alive every second.&lt;/p&gt;</comment>
                            <comment id="16019227" author="opeyrusse" created="Mon, 22 May 2017 07:32:51 +0000"  >&lt;p&gt;Good job &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;. Looking at PPID sounds good to me.&lt;br/&gt;
Tell me if you want me to run some tests.&lt;/p&gt;</comment>
                            <comment id="16029804" author="elecharny" created="Tue, 30 May 2017 17:39:40 +0000"  >&lt;p&gt;Hi guys,&lt;/p&gt;

&lt;p&gt;I think I&apos;m stuck with a similar pb in the Apache Directory LDAP API project : trying to cut a release ends up with this error :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] [SUREFIRE] std/in stream corrupted
[INFO] java.io.IOException: Command NOOP unexpectedly read Void data with length 4.
[INFO] 	at org.apache.maven.surefire.booter.MasterProcessCommand.decode(MasterProcessCommand.java:139)
[INFO] 	at org.apache.maven.surefire.booter.CommandReader$CommandRunnable.run(CommandReader.java:360)
[INFO] 	at java.lang.Thread.run(Thread.java:745)
...
[INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project api-integ-osgi: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?
[INFO] [ERROR] Command was /bin/sh -c cd /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi &amp;amp;&amp;amp; /Library/Java/JavaVirtualMachines/jdk1.8.0_102.jdk/Contents/Home/jre/bin/java -Xmx1024m -jar /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefirebooter3370697464825684132.jar /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefire2251022129393537760tmp /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefire_158862987326254246739tmp
heds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefirebooter3370697464825684132.jar /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefire2251022129393537760tmp /Users/elecharny/apacheds/trunks/shared/target/checkout/integ-osgi/target/surefire/surefire_158862987326254246739tmp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The weird thing is that the exact same test work perfectly well when I run &lt;tt&gt;mvn test&lt;/tt&gt; in the module, or when I do a release dry-run or a release prepare, it&apos;s really when I do the &lt;tt&gt;mvn release:perform&lt;/tt&gt; that it fails.&lt;/p&gt;

&lt;p&gt;The test itself can take a bit of time. Here is the output, for instance :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.directory.api.osgi.ApiAsn1ApiOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.375 sec - in org.apache.directory.api.osgi.ApiAsn1ApiOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiAsn1BerOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.303 sec - in org.apache.directory.api.osgi.ApiAsn1BerOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiDsmlEngineOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.44 sec - in org.apache.directory.api.osgi.ApiDsmlEngineOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiDsmlParserOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.185 sec - in org.apache.directory.api.osgi.ApiDsmlParserOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiI18nOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.237 sec - in org.apache.directory.api.osgi.ApiI18nOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapClientApiOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.315 sec - in org.apache.directory.api.osgi.ApiLdapClientApiOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapCodecCoreOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.224 sec - in org.apache.directory.api.osgi.ApiLdapCodecCoreOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasAciOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.19 sec - in org.apache.directory.api.osgi.ApiLdapExtrasAciOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasCodecApiOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.154 sec - in org.apache.directory.api.osgi.ApiLdapExtrasCodecApiOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasCodecOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.193 sec - in org.apache.directory.api.osgi.ApiLdapExtrasCodecOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasSpOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.094 sec - in org.apache.directory.api.osgi.ApiLdapExtrasSpOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasTriggerOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.164 sec - in org.apache.directory.api.osgi.ApiLdapExtrasTriggerOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapExtrasUtilOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.12 sec - in org.apache.directory.api.osgi.ApiLdapExtrasUtilOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapModelOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.275 sec - in org.apache.directory.api.osgi.ApiLdapModelOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapNetMinaOsgiTest
[INFO] 
[INFO] 
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.119 sec - in org.apache.directory.api.osgi.ApiLdapNetMinaOsgiTest
[INFO] Running org.apache.directory.api.osgi.ApiLdapSchemaConverterOsgiTest
[INFO] 
[INFO] [SUREFIRE] std/in stream corrupted
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The cumulative time is &lt;b&gt;just&lt;/b&gt; below 20s (19.938 exactly), but is more than 20 s when counting the surrounding tasks :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] [INFO] Apache Directory API OSGi Integration Tests ........ FAILURE [ 21.710 s]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same test ran in isolation also take longer, but I guess there are some extra checks done when running a &lt;tt&gt;mvn release:perform&lt;/tt&gt;...&lt;/p&gt;

&lt;p&gt;Is there an expected date for a release that I can test, or even a SNAPSHOT ?&lt;/p&gt;

&lt;p&gt;Many thanks !&lt;/p&gt;

&lt;p&gt;Forgot to mention that I&apos;m using surefire 2.18.1&lt;/p&gt;</comment>
                            <comment id="16030507" author="tibor17" created="Wed, 31 May 2017 02:22:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elecharny&quot; class=&quot;user-hover&quot; rel=&quot;elecharny&quot;&gt;elecharny&lt;/a&gt;&lt;br/&gt;
Your problem refers to another issue &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1374&quot; title=&quot;std/in stream corrupted error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1374&quot;&gt;&lt;del&gt;SUREFIRE-1374&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt;.&lt;br/&gt;
We do not understand the root cause yet.&lt;/p&gt;</comment>
                            <comment id="16030617" author="tibor17" created="Wed, 31 May 2017 04:30:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elecharny&quot; class=&quot;user-hover&quot; rel=&quot;elecharny&quot;&gt;elecharny&lt;/a&gt;&lt;br/&gt;
When you open logs from every test, e.g. &lt;tt&gt;surefire-reports&lt;/tt&gt;, do you see that every test method went through?&lt;br/&gt;
I think the JVM sends 0x04 by ASCII when terminating, &lt;tt&gt;End of Transmission&lt;/tt&gt;.&lt;br/&gt;
Please do not use version &lt;tt&gt;2.18.1&lt;/tt&gt;.&lt;br/&gt;
I removed the call &lt;tt&gt;CommandReader#stop()&lt;/tt&gt; in 2.20 when JVM is going to finish in &lt;tt&gt;ForkedBooter&lt;/tt&gt;.&lt;br/&gt;
Please confirm that version &lt;tt&gt;2.19.1&lt;/tt&gt; works.&lt;br/&gt;
I found that stopping reader thread is useless due to JVM stops it on exit but I could not imaging the stream would be corrupted this way. The change was done in da7ff6aa25a72094705c24981afbf8294ac4b1dc on 28.03.2017.&lt;/p&gt;</comment>
                            <comment id="16030725" author="elecharny" created="Wed, 31 May 2017 06:53:21 +0000"  >&lt;p&gt;Thanks Tibor !&lt;/p&gt;

&lt;p&gt;I&apos;ll give 2.19.1 a try today (it might take some time because I would need to bump up a sub-project, and it requires a 4h notice to the team).&lt;/p&gt;

&lt;p&gt;Sadly, I don&apos;t have anymore the reports, because I ran the tests in isolation after the failure, but I&apos;ll have them back as soon as I will have run the release again. &lt;/p&gt;

&lt;p&gt;The process is a bit messy because it&apos;s a release, and it takes a while (around 40 ins) to run and require quite a lot of manual interaction if it fails (remove the svn tag, rollback the release, and re-run it with all the uploads - not to mention I&apos;m in vacatio with my young kid and wife, so.... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I&apos;ll keep you posted.&lt;/p&gt;</comment>
                            <comment id="16032589" author="elecharny" created="Thu, 1 Jun 2017 07:43:37 +0000"  >&lt;p&gt;Same pb with 2.19.1.&lt;br/&gt;
All the tests went through without error :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Results :
[INFO] 
[INFO] Tests run: 50, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same thing in the surefire-reports.&lt;/p&gt;</comment>
                            <comment id="16033799" author="elecharny" created="Thu, 1 Jun 2017 22:08:27 +0000"  >&lt;p&gt;Hi Tibor, &lt;/p&gt;

&lt;p&gt;you are right, this is more likely to be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1374&quot; title=&quot;std/in stream corrupted error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1374&quot;&gt;&lt;del&gt;SUREFIRE-1374&lt;/del&gt;&lt;/a&gt;. However, I do think it&apos;s also time related (the 20 s it takes to run the module). OTOH, it only fails when cutting a release, so there must be something else...&lt;/p&gt;</comment>
                            <comment id="16034169" author="tibor17" created="Fri, 2 Jun 2017 05:36:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elecharny&quot; class=&quot;user-hover&quot; rel=&quot;elecharny&quot;&gt;elecharny&lt;/a&gt;&lt;br/&gt;
I have pushed a fix, please see my comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1374&quot; title=&quot;std/in stream corrupted error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1374&quot;&gt;&lt;del&gt;SUREFIRE-1374&lt;/del&gt;&lt;/a&gt;. Thx.&lt;/p&gt;</comment>
                            <comment id="16045455" author="tibor17" created="Sat, 10 Jun 2017 08:25:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elecharny&quot; class=&quot;user-hover&quot; rel=&quot;elecharny&quot;&gt;elecharny&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=opeyrusse&quot; class=&quot;user-hover&quot; rel=&quot;opeyrusse&quot;&gt;opeyrusse&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xeagle&quot; class=&quot;user-hover&quot; rel=&quot;xeagle&quot;&gt;xeagle&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt;&lt;br/&gt;
I have pushed a branch.&lt;br/&gt;
&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1302_2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=maven-surefire.git;a=shortlog;h=refs/heads/SUREFIRE-1302_2&lt;/a&gt;&lt;br/&gt;
Pls put your comments in the code if you want to change something.&lt;br/&gt;
It is only a prototype. The class &lt;tt&gt;PpdiChecker&lt;/tt&gt; will recognize etime of PPID. If it is longer or the same like uptime of current PID, the parent process is still alive. This way the the fork JVM does not need to have any timeout like PING. If the commands throw exception or another than Unix/Windows platform, we fallback to the old mechanism.&lt;br/&gt;
I want to split version 2.20.1, release it on Friday and include this issue. Other big issues like JDK 9 should go to 2.20.2.&lt;/p&gt;</comment>
                            <comment id="16078615" author="tibor17" created="Fri, 7 Jul 2017 20:21:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git1-us-west.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=c343cc412b986fd9da839696c709542d03679d68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git1-us-west.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=c343cc412b986fd9da839696c709542d03679d68&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16078700" author="hudson" created="Fri, 7 Jul 2017 21:15:28 +0000"  >&lt;p&gt;UNSTABLE: Integrated in Jenkins build maven-surefire #1717 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1717/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1717/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the forked VM and (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=c343cc412b986fd9da839696c709542d03679d68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=c343cc412b986fd9da839696c709542d03679d68&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16096378" author="hudson" created="Fri, 21 Jul 2017 15:34:55 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire-dev #10 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire-dev/10/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire-dev/10/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt;_4 (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=c7e0582bbc181b2d63901367f4d12613640352a7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=c7e0582bbc181b2d63901367f4d12613640352a7&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/ReflectionUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PropertiesWrapper.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerStartupConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/util/ReflectionUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterConstants.java&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterDeserializer.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/SurefireProperties.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerProviderConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16097914" author="hudson" created="Mon, 24 Jul 2017 03:53:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire-dev #13 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire-dev/13/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire-dev/13/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the forked VM and (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=5cbdc7a4c12d77f42270735a742038581c6bac4a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=5cbdc7a4c12d77f42270735a742038581c6bac4a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactoryTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(add) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/Platform.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/util/ReflectionUtils.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerProviderConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterDeserializer.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PropertiesWrapper.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterConstants.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/ReflectionUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/NewClassLoaderRunner.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/SurefireProperties.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerStartupConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/ForkConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16099526" author="hudson" created="Tue, 25 Jul 2017 05:32:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire-dev #15 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire-dev/15/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire-dev/15/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the forked VM and (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=493cc8b5713ff32346d4703e0b9593f461a10ca4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=493cc8b5713ff32346d4703e0b9593f461a10ca4&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactoryTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterConstants.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/ReflectionUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/NewClassLoaderRunner.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/SurefireProperties.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerProviderConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(add) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/Platform.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/ForkConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PropertiesWrapper.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerStartupConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/util/ReflectionUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterDeserializer.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16101118" author="hudson" created="Wed, 26 Jul 2017 03:26:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1720 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1720/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1720/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=58a4dad81b02dba8ccc0f3fe511e31bfaa914d43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=58a4dad81b02dba8ccc0f3fe511e31bfaa914d43&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(delete) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16101259" author="hudson" created="Wed, 26 Jul 2017 07:11:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire #1722 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire/1722/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire/1722/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the forked VM and (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=f1f4718e519bdee7ab53b91b34714adce3e39c34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=f1f4718e519bdee7ab53b91b34714adce3e39c34&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerStartupConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerProviderConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterDeserializer.java&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/NewClassLoaderRunner.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/ReflectionUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PropertiesWrapper.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/SurefireProperties.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactoryTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/ForkConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/util/ReflectionUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;/li&gt;
	&lt;li&gt;(add) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/Platform.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterConstants.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16101312" author="tibor17" created="Wed, 26 Jul 2017 08:14:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git1-us-west.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=f1f4718e519bdee7ab53b91b34714adce3e39c34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git1-us-west.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=f1f4718e519bdee7ab53b91b34714adce3e39c34&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16102553" author="hudson" created="Thu, 27 Jul 2017 01:19:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build maven-surefire-dev #19 (See &lt;a href=&quot;https://builds.apache.org/job/maven-surefire-dev/19/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-surefire-dev/19/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1302&quot; title=&quot;Surefire does not wait long enough for the forked VM and assumes it to be dead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1302&quot;&gt;&lt;del&gt;SUREFIRE-1302&lt;/del&gt;&lt;/a&gt; Surefire does not wait long enough for the forked VM and (tibor17: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=fec3dfedc359ae57c5928f98a7b1c43bad89bc5a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/?p=maven-surefire.git&amp;amp;a=commit&amp;amp;h=fec3dfedc359ae57c5928f98a7b1c43bad89bc5a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/FileReporterUtils.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PpidChecker.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-api/src/test/java/org/apache/maven/surefire/util/ReflectionUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-failsafe-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ForkedBooter.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/test/java/org/apache/maven/JUnit4SuiteTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) pom.xml&lt;/li&gt;
	&lt;li&gt;(add) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/Platform.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/util/ReflectionUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterConstants.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/SurefireProperties.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-plugin/src/site/apt/examples/shutdown.apt.vm&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/test/java/org/apache/maven/surefire/util/internal/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/ProcessInfo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerStartupConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/BooterDeserializer.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/PropertiesWrapper.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-api/src/main/java/org/apache/maven/surefire/booter/CommandReader.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkConfiguration.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/main/java/org/apache/maven/surefire/booter/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/SystemUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(delete) surefire-api/src/main/java/org/apache/maven/surefire/util/internal/SystemUtils.java&lt;/li&gt;
	&lt;li&gt;(add) surefire-booter/src/test/java/org/apache/maven/surefire/booter/PpidCheckerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/test/java/org/apache/maven/surefire/booter/NewClassLoaderRunner.java&lt;/li&gt;
	&lt;li&gt;(edit) surefire-booter/src/main/java/org/apache/maven/surefire/booter/Classpath.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/ForkConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/BooterSerializer.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/booterclient/BooterDeserializerProviderConfigurationTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-common/src/test/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactoryTest.java&lt;/li&gt;
	&lt;li&gt;(edit) maven-surefire-report-plugin/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire1295AttributeJvmCrashesToTestsIT.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16125459" author="prifiz" created="Mon, 14 Aug 2017 09:30:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;, when can we expect this fix to be delivered within new plugin version? It is very critical for us.&lt;/p&gt;</comment>
                            <comment id="16125488" author="tibor17" created="Mon, 14 Aug 2017 10:01:00 +0000"  >&lt;p&gt;There are 4 pending issues to fix.&lt;br/&gt;
One of them has to be fixed now because the issue has been introduced&lt;br/&gt;
recently. It is a bug regarding @Parameterized in JUnit when tests fail.&lt;br/&gt;
This is very important because this was fine in 2.20 and I do not want to&lt;br/&gt;
deliver 2.20.1 with such issue for junit provider.&lt;br/&gt;
If you have time please look at it. See the last comment in&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1264&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SUREFIRE-1264&lt;/a&gt;. There is the last&lt;br/&gt;
comment saying which commit introduced the issue. This tells you what&lt;br/&gt;
change caused this and should be kept but fixed. Of course IT tests are&lt;br/&gt;
needed.&lt;/p&gt;


&lt;p&gt;On Mon, Aug 14, 2017 at 11:31 AM, Valentin Baranov (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16125517" author="prifiz" created="Mon, 14 Aug 2017 10:39:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibor17&quot; class=&quot;user-hover&quot; rel=&quot;tibor17&quot;&gt;tibor17&lt;/a&gt;, the ticket you&apos;re talking about is closed.&lt;br/&gt;
As far as I can understand the situation is like the following:&lt;br/&gt;
1. There was an issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1264&quot; title=&quot;Some tests can be lost when running in parallel with parameterized tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1264&quot;&gt;&lt;del&gt;SUREFIRE-1264&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
2. It was &quot;fixed&quot; and closed&lt;br/&gt;
3. After that, some kind of regression was found, but issue itself wasn&apos;t reopened.&lt;br/&gt;
Am I right? &lt;/p&gt;</comment>
                            <comment id="16125531" author="tibor17" created="Mon, 14 Aug 2017 10:54:00 +0000"  >&lt;p&gt;Exactly, the regression was found in &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1264&quot; title=&quot;Some tests can be lost when running in parallel with parameterized tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1264&quot;&gt;&lt;del&gt;SUREFIRE-1264&lt;/del&gt;&lt;/a&gt; regarding failed test&lt;br/&gt;
and not passed tests as the initial fix in 1264 was proposed to fix.&lt;br/&gt;
We have two options.&lt;br/&gt;
I can reopen 1264 or create a new one.&lt;br/&gt;
Maybe reopening it is better. WDYT?&lt;/p&gt;

&lt;p&gt;On Mon, Aug 14, 2017 at 12:40 PM, Valentin Baranov (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16125539" author="prifiz" created="Mon, 14 Aug 2017 10:59:53 +0000"  >&lt;p&gt;I think the best way is to reopen 1264 because it is not completely done and can&apos;t be delivered right now.&lt;br/&gt;
I&apos;ll try to find time after work to fix it.&lt;/p&gt;</comment>
                            <comment id="16125636" author="tibor17" created="Mon, 14 Aug 2017 12:57:00 +0000"  >&lt;p&gt;Thx Valentin. The issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1264&quot; title=&quot;Some tests can be lost when running in parallel with parameterized tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1264&quot;&gt;&lt;del&gt;SUREFIRE-1264&lt;/del&gt;&lt;/a&gt; is reopened.&lt;/p&gt;

&lt;p&gt;On Mon, Aug 14, 2017 at 1:00 PM, Valentin Baranov (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="17994705" author="olamy" created="Fri, 4 Jul 2025 07:26:52 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/2385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#2385&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12988866">SUREFIRE-1261</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13069432">SUREFIRE-1370</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13075118">SUREFIRE-1374</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12868753" name="2017-05-18T05-48-08_685-jvmRun1.dumpstream" size="359051" author="opeyrusse" created="Thu, 18 May 2017 12:27:59 +0000"/>
                            <attachment id="12868975" name="surefire-gclog.log" size="1320142" author="opeyrusse" created="Fri, 19 May 2017 14:44:31 +0000"/>
                            <attachment id="12868754" name="surefire-logs" size="6453" author="opeyrusse" created="Thu, 18 May 2017 12:27:59 +0000"/>
                            <attachment id="12846855" name="surefire-tests-terminated-master-aa9330316038f6b46316ce36ff40714ffc7cf299.zip" size="4947" author="xeagle" created="Wed, 11 Jan 2017 15:50:03 +0000"/>
                            <attachment id="12838772" name="tests_log_01.txt" size="113337" author="xeagle" created="Mon, 14 Nov 2016 15:00:23 +0000"/>
                            <attachment id="12838773" name="tests_log_02.txt" size="1074" author="xeagle" created="Mon, 14 Nov 2016 15:02:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i364jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>