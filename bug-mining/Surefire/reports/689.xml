<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:17:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SUREFIRE-1851] NPE in SmartStackTraceParser causes false positive test results</title>
                <link>https://issues.apache.org/jira/browse/SUREFIRE-1851</link>
                <project id="12317927" key="SUREFIRE">Maven Surefire (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;If throwing an exception within a test where the stack trace is null, a core utility (SmartStackTraceParser in comon-java5) will throw an NPE. This will cause the test suite to fail.&lt;/p&gt;

&lt;p&gt;What is especially scary about this is that it will not log that the test has failed, and in some configurations will even declare the build is successful and all tests passed. Additionally, the surefire report plugin will declare all tests passed too.&lt;/p&gt;

&lt;p&gt;An exception with a null stacktrace sounds odd, but is easy to do by mocking an exception with frameworks like Mockito. While people probably shouldn&apos;t be mocking exceptions, it definitely &lt;a href=&quot;https://github.com/search?q=mock%28DataIntegrityViolationException.class%29+language%3AJava+fork%3Afalse&amp;amp;type=code&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;can and does happen&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Not sure what versions exactly are affected. But it&apos;s affected the `common-java5` package since 2012. At least both JUnit 4 and 5 are affected, with surefire 2.22.1 or 3.0.0-M5. Logs attached.&lt;/p&gt;

&lt;p&gt;Can be reproduced with&#160;&lt;a href=&quot;https://github.com/domdomegg/surefire-1851-demo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/domdomegg/surefire-1851-demo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have a patch ready that I believe fixes this:&#160;&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/320&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13333635">SUREFIRE-1851</key>
            <summary>NPE in SmartStackTraceParser causes false positive test results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tibordigana">Tibor Digana</assignee>
                                    <reporter username="domdomegg">Adam Jones</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Oct 2020 00:11:34 +0000</created>
                <updated>Fri, 4 Jul 2025 07:37:06 +0000</updated>
                            <resolved>Wed, 7 Oct 2020 18:30:27 +0000</resolved>
                                                    <fixVersion>2.22.3</fixVersion>
                    <fixVersion>3.0.0-M6</fixVersion>
                                    <component>Junit 4.x support</component>
                    <component>JUnit 5.x support</component>
                    <component>Maven Surefire Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17207795" author="domdomegg" created="Mon, 5 Oct 2020 00:39:23 +0000"  >&lt;p&gt;PR up at&#160;&lt;a href=&quot;https://github.com/apache/maven-surefire/pull/320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-surefire/pull/320&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17209763" author="tibor17" created="Wed, 7 Oct 2020 18:30:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=08163fa6d0d161070a6add1c05a1058781160415&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=maven-surefire.git;a=commit;h=08163fa6d0d161070a6add1c05a1058781160415&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17995240" author="olamy" created="Fri, 4 Jul 2025 07:37:06 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-surefire/issues/3020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-surefire#3020&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13012960" name="junit4.11andsurefire2.22.2.txt" size="5902" author="domdomegg" created="Mon, 5 Oct 2020 00:11:58 +0000"/>
                            <attachment id="13012961" name="junit5.7.0andsurefire3.0.0M5.txt" size="9970" author="domdomegg" created="Mon, 5 Oct 2020 00:11:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jemg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>