diff --git a/maven-surefire-report-plugin/src/main/java/org/apache/maven/plugins/surefire/report/SurefireReportGenerator.java b/maven-surefire-report-plugin/src/main/java/org/apache/maven/plugins/surefire/report/SurefireReportGenerator.java
index 944832a23..68a83b205 100644
--- a/maven-surefire-report-plugin/src/main/java/org/apache/maven/plugins/surefire/report/SurefireReportGenerator.java
+++ b/maven-surefire-report-plugin/src/main/java/org/apache/maven/plugins/surefire/report/SurefireReportGenerator.java
@@ -31,6 +31,7 @@
 import org.apache.maven.doxia.sink.Sink;
 import org.apache.maven.doxia.sink.SinkEventAttributeSet;
 import org.apache.maven.doxia.sink.SinkEventAttributes;
+import org.apache.maven.doxia.util.DoxiaUtils;
 import org.apache.maven.reporting.MavenReportException;
 
 /**
@@ -425,7 +426,7 @@ private void constructTestCasesSection( ResourceBundle bundle, Sink sink )
 
                             if ( failure != null )
                             {
-                                sink.link( "#" + testCase.getFullName() );
+                                sink.link( "#" + toHtmlId( testCase.getFullName() ) );
 
                                 sinkIcon( (String) failure.get( "type" ), sink );
 
@@ -442,7 +443,7 @@ private void constructTestCasesSection( ResourceBundle bundle, Sink sink )
                             {
                                 sink.tableCell();
 
-                                sinkLink( sink, testCase.getName(), "#" + testCase.getFullName() );
+                                sinkLink( sink, testCase.getName(), "#" + toHtmlId( testCase.getFullName() ) );
 
                                 SinkEventAttributeSet atts = new SinkEventAttributeSet();
                                 atts.addAttribute( SinkEventAttributes.CLASS, "detailToggle" );
@@ -540,7 +541,14 @@ private void constructTestCasesSection( ResourceBundle bundle, Sink sink )
 
     private String toHtmlId( String id )
     {
-        return id.replace( ".", "_" );
+        if ( DoxiaUtils.isValidId(id) )
+        {
+            return id;
+        }
+        else
+        {
+            return DoxiaUtils.encodeId( id, true );
+        }
     }
 
     private void constructFailureDetails( Sink sink, ResourceBundle bundle, List<ReportTestCase> failureList )
@@ -579,7 +587,7 @@ private void constructFailureDetails( Sink sink, ResourceBundle bundle, List<Rep
 
                 sink.tableCell_();
 
-                sinkCellAnchor( sink, tCase.getName(), tCase.getFullName() );
+                sinkCellAnchor( sink, tCase.getName(), toHtmlId( tCase.getFullName() ) );
 
                 sink.tableRow_();
 
