diff --git a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/StatelessXmlReporter.java b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/StatelessXmlReporter.java
index 1e79a7d23..0773788dd 100644
--- a/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/StatelessXmlReporter.java
+++ b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/StatelessXmlReporter.java
@@ -404,9 +404,21 @@ private static void getTestProblems( OutputStreamWriter outputStreamWriter, XMLW
             }
         }
 
+        boolean hasNestedElements = createOutErrElementsInside & stackTrace != null;
+
         if ( stackTrace != null )
         {
+            if ( hasNestedElements )
+            {
+                ppw.startElement( "stackTrace" );
+            }
+
             ppw.writeText( extraEscape( stackTrace, false ) );
+
+            if ( hasNestedElements )
+            {
+                ppw.endElement();
+            }
         }
 
         if ( createOutErrElementsInside )
diff --git a/maven-surefire-plugin/src/site/resources/xsd/surefire-test-report.xsd b/maven-surefire-plugin/src/site/resources/xsd/surefire-test-report.xsd
index 684f17516..898bb860b 100644
--- a/maven-surefire-plugin/src/site/resources/xsd/surefire-test-report.xsd
+++ b/maven-surefire-plugin/src/site/resources/xsd/surefire-test-report.xsd
@@ -47,30 +47,30 @@
                                         <xs:extension base="xs:string">
                                             <xs:attribute name="message" type="xs:string"/>
                                             <xs:attribute name="type" type="xs:string" use="required"/>
-                                            <xs:attribute name="time" type="SUREFIRE_TIME" />
                                         </xs:extension>
                                     </xs:simpleContent>
                                 </xs:complexType>
                             </xs:element>
-                            <xs:element name="rerunFailure" nillable="true" minOccurs="0" maxOccurs="unbounded">
+                            <xs:element name="rerunFailure" minOccurs="0" maxOccurs="unbounded">
                                 <xs:complexType>
-                                    <xs:simpleContent>
-                                        <xs:extension base="xs:string">
-                                            <xs:attribute name="message" type="xs:string"/>
-                                            <xs:attribute name="type" type="xs:string" use="required"/>
-                                            <xs:attribute name="time" type="SUREFIRE_TIME" />
-                                        </xs:extension>
-                                    </xs:simpleContent>
+                                    <xs:sequence>
+                                        <xs:element name="stackTrace" type="xs:string"/>
+                                        <xs:element name="system-out" type="xs:string" minOccurs="0"/>
+                                        <xs:element name="system-err" type="xs:string" minOccurs="0"/>
+                                    </xs:sequence>
+                                    <xs:attribute name="message" type="xs:string"/>
+                                    <xs:attribute name="type" type="xs:string" use="required"/>
                                 </xs:complexType>
                             </xs:element>
-                            <xs:element name="flakyFailure" nillable="true" minOccurs="0" maxOccurs="unbounded">
+                            <xs:element name="flakyFailure" minOccurs="0" maxOccurs="unbounded">
                                 <xs:complexType>
-                                    <xs:simpleContent>
-                                        <xs:extension base="xs:string">
-                                            <xs:attribute name="message" type="xs:string"/>
-                                            <xs:attribute name="type" type="xs:string" use="required"/>
-                                            <xs:attribute name="time" type="SUREFIRE_TIME" />                                        </xs:extension>
-                                    </xs:simpleContent>
+                                    <xs:sequence>
+                                        <xs:element name="stackTrace" type="xs:string"/>
+                                        <xs:element name="system-out" type="xs:string" minOccurs="0"/>
+                                        <xs:element name="system-err" type="xs:string" minOccurs="0"/>
+                                    </xs:sequence>
+                                    <xs:attribute name="message" type="xs:string"/>
+                                    <xs:attribute name="type" type="xs:string" use="required"/>
                                 </xs:complexType>
                             </xs:element>
                             <xs:element name="skipped" nillable="true" minOccurs="0" maxOccurs="1">
@@ -92,28 +92,30 @@
                                     </xs:simpleContent>
                                 </xs:complexType>
                             </xs:element>
-                            <xs:element name="rerunError" nillable="true" minOccurs="0" maxOccurs="unbounded">
+                            <xs:element name="rerunError" minOccurs="0" maxOccurs="unbounded">
                                 <xs:complexType>
-                                    <xs:simpleContent>
-                                        <xs:extension base="xs:string">
-                                            <xs:attribute name="message" type="xs:string"/>
-                                            <xs:attribute name="type" type="xs:string" use="required"/>
-                                            <xs:attribute name="time" type="SUREFIRE_TIME" />                                        </xs:extension>
-                                    </xs:simpleContent>
+                                    <xs:sequence>
+                                        <xs:element name="stackTrace" type="xs:string"/>
+                                        <xs:element name="system-out" type="xs:string" minOccurs="0"/>
+                                        <xs:element name="system-err" type="xs:string" minOccurs="0"/>
+                                    </xs:sequence>
+                                    <xs:attribute name="message" type="xs:string"/>
+                                    <xs:attribute name="type" type="xs:string" use="required"/>
                                 </xs:complexType>
                             </xs:element>
-                            <xs:element name="flakyError" nillable="true" minOccurs="0" maxOccurs="unbounded">
+                            <xs:element name="flakyError" minOccurs="0" maxOccurs="unbounded">
                                 <xs:complexType>
-                                    <xs:simpleContent>
-                                        <xs:extension base="xs:string">
-                                            <xs:attribute name="message" type="xs:string"/>
-                                            <xs:attribute name="type" type="xs:string" use="required"/>
-                                            <xs:attribute name="time" type="SUREFIRE_TIME" />                                        </xs:extension>
-                                    </xs:simpleContent>
+                                    <xs:sequence>
+                                        <xs:element name="stackTrace" type="xs:string"/>
+                                        <xs:element name="system-out" type="xs:string" minOccurs="0"/>
+                                        <xs:element name="system-err" type="xs:string" minOccurs="0"/>
+                                    </xs:sequence>
+                                    <xs:attribute name="message" type="xs:string"/>
+                                    <xs:attribute name="type" type="xs:string" use="required"/>
                                 </xs:complexType>
                             </xs:element>
-                            <xs:element name="system-out" nillable="true" minOccurs="0" maxOccurs="1"/>
-                            <xs:element name="system-err" nillable="true" minOccurs="0" maxOccurs="1"/>
+                            <xs:element name="system-out" type="xs:string" minOccurs="0"/>
+                            <xs:element name="system-err" type="xs:string" minOccurs="0"/>
                         </xs:sequence>
                         <xs:attribute name="name" type="xs:string" use="required"/>
                         <xs:attribute name="classname" type="xs:string"/>
