diff --git a/pom.xml b/pom.xml
index 08c1f15a3..222dc9c2d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -259,32 +259,46 @@
           <artifactId>maven-plugin-plugin</artifactId>
           <version>2.8</version>
         </plugin>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-site-plugin</artifactId>
-        <version>3.0</version>
-        <configuration>
-          <reportPlugins>
-            <plugin>
-              <groupId>org.apache.maven.plugins</groupId>
-              <artifactId>maven-surefire-plugin</artifactId>
-              <version>${shadedVersion}</version>
-            </plugin>
-          </reportPlugins>
-        </configuration>
-        <dependencies>
-        <dependency>
-        <groupId>org.apache.maven.surefire</groupId>
-        <artifactId>surefire-shadefire</artifactId>
-        <version>${project.version}</version>
-      </dependency>
-      </dependencies>
-      </plugin>
       </plugins>
     </pluginManagement>
   </build>
 
   <profiles>
+    <profile>
+      <id>reporting</id>
+      <build>
+        <pluginManagement>
+          <plugins>
+            <!-- Moving to a profile, since these dependencies won't exist the first
+                 time a new snapshot version is built. This prevents the first
+                 snapshot build from proceeding beyond the build for the top-level 
+                 Surefire parent POM.
+            -->
+            <plugin>
+              <groupId>org.apache.maven.plugins</groupId>
+              <artifactId>maven-site-plugin</artifactId>
+              <version>3.0</version>
+              <configuration>
+                <reportPlugins>
+                  <plugin>
+                    <groupId>org.apache.maven.plugins</groupId>
+                    <artifactId>maven-surefire-plugin</artifactId>
+                    <version>${shadedVersion}</version>
+                  </plugin>
+                </reportPlugins>
+              </configuration>
+              <dependencies>
+              <dependency>
+              <groupId>org.apache.maven.surefire</groupId>
+              <artifactId>surefire-shadefire</artifactId>
+              <version>${project.version}</version>
+            </dependency>
+            </dependencies>
+            </plugin>
+          </plugins>
+        </pluginManagement>
+      </build>
+    </profile>
     <profile>
       <id>m2e</id>
       <properties>
diff --git a/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire828EmptyGroupExprIT.java b/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire828EmptyGroupExprIT.java
index ca17235bb..f46b7b69b 100644
--- a/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire828EmptyGroupExprIT.java
+++ b/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/jiras/Surefire828EmptyGroupExprIT.java
@@ -12,14 +12,12 @@ public void testJUnitRunEmptyGroups()
     {
         OutputValidator validator = unpackJUnit().addD( "profile", "emptyGroups" ).executeTest();
         validator.verifyErrorFreeLog();
-        validator.assertTestSuiteResults( 2, 0, 0, 0 );
-        validator.verifyTextInLog( "catA: 1" );
-        validator.verifyTextInLog( "catB: 1" );
+        validator.assertTestSuiteResults( 5, 0, 0, 0 );
+        validator.verifyTextInLog( "catA: 2" );
+        validator.verifyTextInLog( "catB: 2" );
         validator.verifyTextInLog( "catC: 0" );
-        validator.verifyTextInLog( "catNone: 0" );
-        validator.verifyTextInLog( "mA: 1" );
-        validator.verifyTextInLog( "mB: 1" );
-        validator.verifyTextInLog( "mC: 0" );
+        validator.verifyTextInLog( "catNone: 1" );
+        validator.verifyTextInLog( "NoCategoryTest.CatNone: 1" );
     }
 
     // CategoryA && CategoryB
diff --git a/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-junit48/pom.xml b/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-junit48/pom.xml
index d44759bf1..2438abc11 100644
--- a/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-junit48/pom.xml
+++ b/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-junit48/pom.xml
@@ -95,7 +95,7 @@
         </property>
       </activation>
       <properties>
-        <groups>junit4.CategoryA && junit4.CategoryB</groups>
+        <groups>junit4.CategoryA &amp;&amp; junit4.CategoryB</groups>
         <excludedGroups></excludedGroups>
       </properties>
     </profile>
diff --git a/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-testng/pom.xml b/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-testng/pom.xml
index 9de724f26..92515ef02 100644
--- a/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-testng/pom.xml
+++ b/surefire-integration-tests/src/test/resources/surefire-828-emptyGroupExpr-testng/pom.xml
@@ -73,7 +73,7 @@
         </property>
       </activation>
       <properties>
-        <groups>CategoryA && CategoryB</groups>
+        <groups>CategoryA &amp;&amp; CategoryB</groups>
         <excludedGroups></excludedGroups>
       </properties>
     </profile>
diff --git a/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java b/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java
index 258d076ad..0ff9b2f87 100644
--- a/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java
+++ b/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java
@@ -57,7 +57,7 @@ public Filter createGroupFilter( Properties providerProperties )
         String excludedGroups = providerProperties.getProperty( ProviderParameterNames.TESTNG_EXCLUDEDGROUPS_PROP );
 
         GroupMatcher included = null;
-        if ( groups != null )
+        if ( groups != null && groups.trim().length() > 0 )
         {
             try
             {
@@ -71,7 +71,7 @@ public Filter createGroupFilter( Properties providerProperties )
         }
 
         GroupMatcher excluded = null;
-        if ( excludedGroups != null )
+        if ( excludedGroups != null && excludedGroups.trim().length() > 0 )
         {
             try
             {
diff --git a/surefire-providers/surefire-testng-utils/src/main/java/org/apache/maven/surefire/testng/utils/GroupMatcherMethodSelector.java b/surefire-providers/surefire-testng-utils/src/main/java/org/apache/maven/surefire/testng/utils/GroupMatcherMethodSelector.java
index b3b44031c..01b8b53c3 100644
--- a/surefire-providers/surefire-testng-utils/src/main/java/org/apache/maven/surefire/testng/utils/GroupMatcherMethodSelector.java
+++ b/surefire-providers/surefire-testng-utils/src/main/java/org/apache/maven/surefire/testng/utils/GroupMatcherMethodSelector.java
@@ -3,12 +3,12 @@
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
+
 import org.apache.maven.surefire.group.match.AndGroupMatcher;
 import org.apache.maven.surefire.group.match.GroupMatcher;
 import org.apache.maven.surefire.group.match.InverseGroupMatcher;
 import org.apache.maven.surefire.group.parse.GroupMatcherParser;
 import org.apache.maven.surefire.group.parse.ParseException;
-
 import org.testng.IMethodSelector;
 import org.testng.IMethodSelectorContext;
 import org.testng.ITestNGMethod;
@@ -60,7 +60,7 @@ public static void setGroups( String groups, String excludedGroups )
         {
             AndGroupMatcher matcher = new AndGroupMatcher();
             GroupMatcher in = null;
-            if ( groups != null /* && groups.trim().length() > 0 */)
+            if ( groups != null && groups.trim().length() > 0 )
             {
                 in = new GroupMatcherParser( groups ).parse();
             }
@@ -71,7 +71,7 @@ public static void setGroups( String groups, String excludedGroups )
             }
 
             GroupMatcher ex = null;
-            if ( excludedGroups != null/* && excludedGroups.trim().length() > 0 */)
+            if ( excludedGroups != null && excludedGroups.trim().length() > 0 )
             {
                 ex = new GroupMatcherParser( excludedGroups ).parse();
             }
@@ -89,9 +89,8 @@ public static void setGroups( String groups, String excludedGroups )
         }
         catch ( ParseException e )
         {
-            throw new IllegalArgumentException(
-                "Cannot parse group includes/excludes expression(s):\nIncludes: " + groups + "\nExcludes: "
-                    + excludedGroups, e );
+            throw new IllegalArgumentException( "Cannot parse group includes/excludes expression(s):\nIncludes: "
+                + groups + "\nExcludes: " + excludedGroups, e );
         }
     }
 
