diff --git a/rt/databinding/jaxb/src/main/java/org/apache/cxf/jaxb/JAXBSchemaInitializer.java b/rt/databinding/jaxb/src/main/java/org/apache/cxf/jaxb/JAXBSchemaInitializer.java
index e37a62f917..965b021b71 100644
--- a/rt/databinding/jaxb/src/main/java/org/apache/cxf/jaxb/JAXBSchemaInitializer.java
+++ b/rt/databinding/jaxb/src/main/java/org/apache/cxf/jaxb/JAXBSchemaInitializer.java
@@ -626,6 +626,7 @@ class JAXBSchemaInitializer extends ServiceModelVisitor {
             QName ename = new QName(beanInfo.getElementNamespaceURI(null),
                                    beanInfo.getElementLocalName(null));
             XmlSchemaElement el2 = schemas.getElementByQName(ename);
+            el.setNillable(false);
             el.getRef().setTargetQName(el2.getQName());
         } else {
             el.setName(name.getLocalPart());
diff --git a/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3.java b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3.java
new file mode 100644
index 0000000000..b37fd9a881
--- /dev/null
+++ b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3.java
@@ -0,0 +1,27 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.tools.fortest.exception;
+
+import javax.jws.WebService;
+
+@WebService(targetNamespace = "http://cxf.apache.org/test/HelloService", name = "HelloService")
+public interface Echo3 {
+    String echo(OrderItem request) throws OrderException2;
+}
+
diff --git a/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3Impl.java b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3Impl.java
new file mode 100644
index 0000000000..d1c4bd2abc
--- /dev/null
+++ b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/Echo3Impl.java
@@ -0,0 +1,33 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.tools.fortest.exception;
+
+import javax.jws.WebService;
+
+@WebService(serviceName = "HelloService", portName = "HelloPort", 
+            endpointInterface = "org.apache.cxf.tools.fortest.exception.Echo3", 
+            targetNamespace = "http://cxf.apache.org/test/HelloService")
+public class Echo3Impl implements Echo3 {
+    public String echo(OrderItem request) throws OrderException2 {
+        return "Response";
+
+    }
+
+}
+
diff --git a/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderException2.java b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderException2.java
new file mode 100644
index 0000000000..a0270b47dc
--- /dev/null
+++ b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderException2.java
@@ -0,0 +1,36 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.tools.fortest.exception;
+public class OrderException2 extends Exception {
+    private static final long serialVersionUID = 1L;
+    private OrderItem data;
+
+    public OrderException2(String message) {
+        super(message);
+    }
+
+    public void setData(OrderItem data) {
+        this.data = data;
+    }
+
+    public OrderItem getData() {
+        return this.data;
+    }
+
+}
\ No newline at end of file
diff --git a/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderItem.java b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderItem.java
new file mode 100644
index 0000000000..62cbe6cc2d
--- /dev/null
+++ b/tools/javato/ws/src/test/java/org/apache/cxf/tools/fortest/exception/OrderItem.java
@@ -0,0 +1,73 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.tools.fortest.exception;
+
+import java.math.BigDecimal;
+
+import javax.xml.bind.annotation.XmlAttribute;
+import javax.xml.bind.annotation.XmlElement;
+import javax.xml.bind.annotation.XmlRootElement;
+
+@XmlRootElement(name = "item")
+public class OrderItem {
+    Long sku;
+    Integer count;
+    Double pricePerUnit;
+
+    public OrderItem() {
+    }
+
+    public OrderItem(Long sku, Integer count, Double pricePerUnit) {
+        super();
+        this.sku = sku;
+        this.count = count;
+        this.pricePerUnit = pricePerUnit;
+    }
+
+    @XmlAttribute
+    public Long getSku() {
+        return sku;
+    }
+
+    public void setSku(Long sku) {
+        this.sku = sku;
+    }
+
+    @XmlElement
+    public Integer getCount() {
+        return count;
+    }
+
+    public void setCount(Integer count) {
+        this.count = count;
+    }
+
+    @XmlElement
+    public Double getPricePerUnit() {
+        return pricePerUnit;
+    }
+
+    public void setPricePerUnit(Double pricePerUnit) {
+        this.pricePerUnit = pricePerUnit;
+    }
+
+    public BigDecimal getTotalPrice() {
+        return new BigDecimal(pricePerUnit).multiply(new BigDecimal(count));
+    }
+}
diff --git a/tools/javato/ws/src/test/java/org/apache/cxf/tools/java2wsdl/processor/JavaToProcessorTest.java b/tools/javato/ws/src/test/java/org/apache/cxf/tools/java2wsdl/processor/JavaToProcessorTest.java
index 716224ed02..a2a6cada05 100644
--- a/tools/javato/ws/src/test/java/org/apache/cxf/tools/java2wsdl/processor/JavaToProcessorTest.java
+++ b/tools/javato/ws/src/test/java/org/apache/cxf/tools/java2wsdl/processor/JavaToProcessorTest.java
@@ -778,6 +778,27 @@ public class JavaToProcessorTest extends ProcessorTestBase {
         assertTrue(unboundIndex > -1);
     }
     
+    @Test
+    public void testExceptionRefNillable() throws Exception {
+        env.put(ToolConstants.CFG_OUTPUTFILE, output.getPath() + "/exception-ref-nillable.wsdl");
+        env.put(ToolConstants.CFG_CLASSNAME, "org.apache.cxf.tools.fortest.exception.Echo3Impl");
+        env.put(ToolConstants.CFG_VERBOSE, ToolConstants.CFG_VERBOSE);
+        try {
+            processor.setEnvironment(env);
+            processor.process();
+        } catch (Exception e) {
+            e.printStackTrace();
+        }
+        
+        File wsdlFile = new File(output, "exception-ref-nillable.wsdl");
+        assertTrue(wsdlFile.exists());
+        String wsdlContent = getStringFromFile(wsdlFile).replaceAll("  ", " ");
+        int refElement = wsdlContent.indexOf("<xs:element ref=\"tns:item\"/>");
+        assertTrue(refElement > -1);
+
+    }
+    
+    
     @Test
     public void testCXF4877() throws Exception {
         env.put(ToolConstants.CFG_OUTPUTFILE, output.getPath() + "/testwsdl.wsdl");
@@ -792,6 +813,4 @@ public class JavaToProcessorTest extends ProcessorTestBase {
         //if the test works, this won't throw an exception.  CXF-4877 generated bad XML at this point
         StaxUtils.read(new FileInputStream(wsdlFile));
     }
-    
-    
 }
