diff --git a/core/src/main/java/org/apache/cxf/helpers/XPathUtils.java b/core/src/main/java/org/apache/cxf/helpers/XPathUtils.java
index 747543417b..77d3f41d77 100644
--- a/core/src/main/java/org/apache/cxf/helpers/XPathUtils.java
+++ b/core/src/main/java/org/apache/cxf/helpers/XPathUtils.java
@@ -69,8 +69,10 @@ public class XPathUtils {
     }
 
     public Object getValue(String xpathExpression, Node node, QName type) {
-        ClassLoaderHolder loader
-            = ClassLoaderUtils.setThreadContextClassloader(getClassLoader(xpath.getClass()));
+        ClassLoaderHolder loader = null;
+        if (getClassLoader(xpath.getClass()) != null) {
+            loader = ClassLoaderUtils.setThreadContextClassloader(getClassLoader(xpath.getClass()));
+        }
         try {
             return xpath.evaluate(xpathExpression, node, type);
         } catch (Exception e) {
