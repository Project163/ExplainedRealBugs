diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/ProviderFactory.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/ProviderFactory.java
index d254fe9b15..c87a3a8d35 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/ProviderFactory.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/ProviderFactory.java
@@ -567,11 +567,11 @@ public abstract class ProviderFactory {
         for (ProviderInfo<? extends Object> provider : theProviders) {
             Class<?> providerCls = ClassHelper.getRealClass(bus, provider.getProvider());
 
-            if (MessageBodyReader.class.isAssignableFrom(providerCls)) {
+            if (filterContractSupported(provider, providerCls, MessageBodyReader.class)) {
                 addProviderToList(messageReaders, provider);
             }
 
-            if (MessageBodyWriter.class.isAssignableFrom(providerCls)) {
+            if (filterContractSupported(provider, providerCls, MessageBodyWriter.class)) {
                 addProviderToList(messageWriters, provider);
             }
 
diff --git a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/ProviderFactoryTest.java b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/ProviderFactoryTest.java
index 48e5aca1ee..e34c4597d5 100644
--- a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/ProviderFactoryTest.java
+++ b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/ProviderFactoryTest.java
@@ -120,6 +120,42 @@ public class ProviderFactoryTest extends Assert {
         assertSame(provider, em);
     }
     
+    @Test
+    public void testRegisterMbrMbwProviderAsMbrOnly() {
+        ServerProviderFactory pf = ServerProviderFactory.getInstance();
+        JAXBElementProvider<Book> customProvider = new JAXBElementProvider<Book>();
+        pf.registerUserProvider((Feature) context -> {
+            context.register(customProvider, MessageBodyReader.class);
+            return true;
+        });
+        MessageBodyReader<Book> reader = pf.createMessageBodyReader(Book.class, null, null,
+                                                                    MediaType.TEXT_XML_TYPE, new MessageImpl());
+        assertSame(reader, customProvider);
+
+        MessageBodyWriter<Book> writer = pf.createMessageBodyWriter(Book.class, null, null,
+                                                                    MediaType.TEXT_XML_TYPE, new MessageImpl());
+        assertTrue(writer instanceof JAXBElementProvider);
+        assertNotSame(writer, customProvider);
+    }
+    
+    @Test
+    public void testRegisterMbrMbwProviderAsMbwOnly() {
+        ServerProviderFactory pf = ServerProviderFactory.getInstance();
+        JAXBElementProvider<Book> customProvider = new JAXBElementProvider<Book>();
+        pf.registerUserProvider((Feature) context -> {
+            context.register(customProvider, MessageBodyWriter.class);
+            return true;
+        });
+        MessageBodyWriter<Book> writer = pf.createMessageBodyWriter(Book.class, null, null,
+                                                                    MediaType.TEXT_XML_TYPE, new MessageImpl());
+        assertSame(writer, customProvider);
+
+        MessageBodyReader<Book> reader = pf.createMessageBodyReader(Book.class, null, null,
+                                                                    MediaType.TEXT_XML_TYPE, new MessageImpl());
+        assertTrue(reader instanceof JAXBElementProvider);
+        assertNotSame(reader, customProvider);
+    }
+    
     @Test
     public void testOrderOfProvidersWithSameProperties() {
         ProviderFactory pf = ServerProviderFactory.getInstance();
