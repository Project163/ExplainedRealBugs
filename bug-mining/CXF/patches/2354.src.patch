diff --git a/osgi/karaf/features/src/main/resources/features.xml b/osgi/karaf/features/src/main/resources/features.xml
index 97eafe17ac..5612d04834 100644
--- a/osgi/karaf/features/src/main/resources/features.xml
+++ b/osgi/karaf/features/src/main/resources/features.xml
@@ -185,7 +185,7 @@
     </feature>
     <feature name="cxf-rs-security-xml" version="${project.version}" resolver="(obr)">
         <feature version="${project.version}">cxf-jaxrs</feature>
-        <feature version="${cxf.wss4j.version}">wss4j</feature>
+        <feature version="${project.version}">cxf-rt-security</feature>
         <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-xml/${project.version}</bundle>
     </feature>
     <feature name="cxf-rs-security-sso-saml" version="${project.version}" resolver="(obr)">
@@ -395,8 +395,8 @@
 
     <feature name="cxf-bean-validation-java6" version="${project.version}" resolver="(obr)">
         <feature version="${project.version}">cxf-bean-validation-core</feature>
-        <bundle start-level="30" dependency="true">mvn:javax.el/javax.el-api/3.0-b2</bundle> 
-        <bundle start-level="30" dependency="true">mvn:org.glassfish/javax.el/3.0-b1</bundle>  
+        <bundle start-level="30" dependency="true">mvn:javax.el/javax.el-api/3.0-b02</bundle>
+        <bundle start-level="30" dependency="true">mvn:org.glassfish/javax.el/3.0-b01</bundle>
     </feature>
 
     <feature name="cxf-management-web" version="${project.version}" resolver="(obr)">
diff --git a/parent/pom.xml b/parent/pom.xml
index 66124794cf..fdd1a0dd53 100644
--- a/parent/pom.xml
+++ b/parent/pom.xml
@@ -117,7 +117,7 @@
         <cxf.maven.core.version>2.2.1</cxf.maven.core.version>
         <cxf.msv.version>2011.1</cxf.msv.version>
         <cxf.neethi.version>3.0.3</cxf.neethi.version>
-        <cxf.netty.version>4.0.18.Final</cxf.netty.version>
+        <cxf.netty.version>4.0.19.Final</cxf.netty.version>
         <cxf.netty3.version>3.9.1.Final</cxf.netty3.version>
         <cxf.netty.version.range>[4,5)</cxf.netty.version.range>
         <cxf.oauth.bundle.version>20100527_1</cxf.oauth.bundle.version>
diff --git a/rt/transports/websocket/pom.xml b/rt/transports/websocket/pom.xml
index 7ef92bced5..761b2169ee 100644
--- a/rt/transports/websocket/pom.xml
+++ b/rt/transports/websocket/pom.xml
@@ -91,6 +91,7 @@
                     <artifactId>javax.servlet</artifactId>
                 </exclusion>
             </exclusions>
+            <optional>true</optional>
         </dependency>
         <dependency>
             <groupId>org.springframework</groupId>
diff --git a/services/ws-discovery/ws-discovery-api/pom.xml b/services/ws-discovery/ws-discovery-api/pom.xml
index cc84684584..0389388617 100644
--- a/services/ws-discovery/ws-discovery-api/pom.xml
+++ b/services/ws-discovery/ws-discovery-api/pom.xml
@@ -31,6 +31,12 @@
         <version>3.1.0-SNAPSHOT</version>
         <relativePath>../../../parent/pom.xml</relativePath>
     </parent>
+	<properties>
+        <cxf.osgi.export>
+			=org.apache.cxf.ws.discovery.internal,
+            org.apache.cxf.ws.discovery.*,
+        </cxf.osgi.export>
+	</properties>
     <dependencies>
         <dependency>
             <groupId>org.apache.cxf</groupId>
@@ -102,6 +108,16 @@
                     </execution>
                 </executions>
             </plugin>
+			<plugin>
+                <groupId>org.apache.felix</groupId>
+                <artifactId>maven-bundle-plugin</artifactId>
+                <extensions>true</extensions>
+                <configuration>
+                    <instructions>
+                        <Export-Package>${cxf.osgi.export}</Export-Package>
+                    </instructions>
+                </configuration>
+			</plugin>
         </plugins>
     </build>
     <profiles>
diff --git a/services/wsn/wsn-api/pom.xml b/services/wsn/wsn-api/pom.xml
index 7500e581a6..44f5286bbc 100644
--- a/services/wsn/wsn-api/pom.xml
+++ b/services/wsn/wsn-api/pom.xml
@@ -84,7 +84,7 @@
                             javax.xml.bind*;version="[0.0,3)",
                             javax.jws*;version="[0.0,3)",
                             javax.xml.ws*;version="[0.0,3)",
-                            org.apache.cxf*;version="[2.5,3)",
+                            org.apache.cxf*;version="[3.0,4)",
                             *
                         </Import-Package>
                         <Export-Package>
diff --git a/services/wsn/wsn-core/pom.xml b/services/wsn/wsn-core/pom.xml
index 9701706755..528029e2a3 100644
--- a/services/wsn/wsn-core/pom.xml
+++ b/services/wsn/wsn-core/pom.xml
@@ -162,7 +162,7 @@
                             javax.xml.bind*;version="[0.0,3)",
                             javax.jws*;version="[0.0,3)",
                             javax.xml.ws*;version="[0.0,3)",
-                            org.apache.cxf*;version="[2.5,3)",
+                            org.apache.cxf*;version="[3.0,4)",
                             *
                         </Import-Package>
                         <Export-Package>
diff --git a/tools/common/pom.xml b/tools/common/pom.xml
index deb0a70b5a..fbbe20483a 100644
--- a/tools/common/pom.xml
+++ b/tools/common/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-common</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools Common</name>
     <description>Apache CXF Command Line Tools Common</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/corba/pom.xml b/tools/corba/pom.xml
index 7976cfe176..95d71d2705 100644
--- a/tools/corba/pom.xml
+++ b/tools/corba/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-corba</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools CORBA</name>
     <description>Apache CXF Command Line Tools CORBA</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/javato/ws/pom.xml b/tools/javato/ws/pom.xml
index 698c44bf48..df53205d15 100644
--- a/tools/javato/ws/pom.xml
+++ b/tools/javato/ws/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-java2ws</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools JavaTo WS</name>
     <description>Apache CXF Command Line Tools JavaTo WS</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/validator/pom.xml b/tools/validator/pom.xml
index 45c52fec06..d6e6cfffbe 100644
--- a/tools/validator/pom.xml
+++ b/tools/validator/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-validator</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools Validator</name>
     <description>Apache CXF Command Line Tools Validator</description>
     <url>http://cxf.apache.org</url>
@@ -30,6 +30,12 @@
         <version>3.1.0-SNAPSHOT</version>
         <relativePath>../../parent/pom.xml</relativePath>
     </parent>
+	<properties>
+        <cxf.osgi.export>
+			=org.apache.cxf.tools.validator.internal,
+            org.apache.cxf.tools.validator.*,
+        </cxf.osgi.export>
+	</properties>
     <dependencies>
         <dependency>
             <groupId>org.apache.cxf</groupId>
@@ -81,4 +87,18 @@
             <version>${project.version}</version>
         </dependency>
     </dependencies>
+	<build>
+		<plugins>
+			<plugin>
+                <groupId>org.apache.felix</groupId>
+                <artifactId>maven-bundle-plugin</artifactId>
+                <extensions>true</extensions>
+                <configuration>
+                    <instructions>
+                        <Export-Package>${cxf.osgi.export}</Export-Package>
+                    </instructions>
+                </configuration>
+			</plugin>
+		</plugins>
+	</build>
 </project>
diff --git a/tools/wadlto/jaxrs/pom.xml b/tools/wadlto/jaxrs/pom.xml
index 3e09541911..2701f2dc6a 100644
--- a/tools/wadlto/jaxrs/pom.xml
+++ b/tools/wadlto/jaxrs/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-wadlto-jaxrs</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WADLTo JAXRS Frontend</name>
     <description>Apache CXF Command Line Tools WADLTo JAXRS Frontend</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/wsdlto/core/pom.xml b/tools/wsdlto/core/pom.xml
index 13386e382e..ad1f73ccc8 100644
--- a/tools/wsdlto/core/pom.xml
+++ b/tools/wsdlto/core/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-wsdlto-core</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WSDLTo Core</name>
     <description>Apache CXF Command Line Tools WSDLTo Core</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/wsdlto/databinding/jaxb/pom.xml b/tools/wsdlto/databinding/jaxb/pom.xml
index 6e0e497bb9..505470bd6c 100644
--- a/tools/wsdlto/databinding/jaxb/pom.xml
+++ b/tools/wsdlto/databinding/jaxb/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-wsdlto-databinding-jaxb</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WSDLTo JAXB Databinding</name>
     <description>Apache CXF Command Line Tools WSDLTo JAXB Databinding</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/wsdlto/frontend/javascript/pom.xml b/tools/wsdlto/frontend/javascript/pom.xml
index 9a3cab971e..2e43d1c40b 100644
--- a/tools/wsdlto/frontend/javascript/pom.xml
+++ b/tools/wsdlto/frontend/javascript/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-wsdlto-frontend-javascript</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WSDL to JavaScript Front End</name>
     <description>Apache CXF Command Line Tools WSDL to JavaScript Front End</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/wsdlto/frontend/jaxws/pom.xml b/tools/wsdlto/frontend/jaxws/pom.xml
index 2f4990b065..bb2ec836f1 100644
--- a/tools/wsdlto/frontend/jaxws/pom.xml
+++ b/tools/wsdlto/frontend/jaxws/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-wsdlto-frontend-jaxws</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WSDLTo JAXWS Frontend</name>
     <description>Apache CXF Command Line Tools WSDLTo JAXWS Frontend</description>
     <url>http://cxf.apache.org</url>
diff --git a/tools/wsdlto/misc/pom.xml b/tools/wsdlto/misc/pom.xml
index 05f4c90d9a..108f45461c 100644
--- a/tools/wsdlto/misc/pom.xml
+++ b/tools/wsdlto/misc/pom.xml
@@ -20,7 +20,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <artifactId>cxf-tools-misctools</artifactId>
-    <packaging>jar</packaging>
+    <packaging>bundle</packaging>
     <name>Apache CXF Command Line Tools WSDLTo Misctools</name>
     <description>Apache CXF Command Line Tools WSDLTo Misctools</description>
     <url>http://cxf.apache.org</url>
