diff --git a/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/JavascriptUtils.java b/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/JavascriptUtils.java
index c22cd9ca34..7ff0097f4b 100755
--- a/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/JavascriptUtils.java
+++ b/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/JavascriptUtils.java
@@ -473,7 +473,8 @@ public class JavascriptUtils {
      */
     public void generateCodeToSerializeAny(ParticleInfo itemInfo, String prefix,
                                            SchemaCollection schemaCollection) {
-        boolean optional = XmlSchemaUtils.isParticleOptional(itemInfo.getParticle());
+        boolean optional = XmlSchemaUtils.isParticleOptional(itemInfo.getParticle())
+                || (itemInfo.isArray() && itemInfo.getMinOccurs() == 0);
         boolean array = XmlSchemaUtils.isParticleArray(itemInfo.getParticle());
 
         appendLine("var anyHolder = this._" + itemInfo.getJavascriptName() + ";");
diff --git a/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/types/SchemaJavascriptBuilder.java b/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/types/SchemaJavascriptBuilder.java
index 3292672da2..f13a51d481 100755
--- a/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/types/SchemaJavascriptBuilder.java
+++ b/rt/javascript/javascript-rt/src/main/java/org/apache/cxf/javascript/types/SchemaJavascriptBuilder.java
@@ -533,6 +533,8 @@ public class SchemaJavascriptBuilder {
         // non-matching case
         utils.startIf("anyNeeded > 0");
         utils.appendLine("throw 'not enough ws:any elements';");
+        utils.appendElse(); // else non-match
+        utils.appendLine("break;");
         utils.endBlock(); // non-match+required
         utils.endBlock(); // match/non-match.
         utils.endBlock(); // while
