diff --git a/core/src/main/java/org/apache/cxf/interceptor/AbstractLoggingInterceptor.java b/core/src/main/java/org/apache/cxf/interceptor/AbstractLoggingInterceptor.java
index 077e321d57..b43f0d548a 100644
--- a/core/src/main/java/org/apache/cxf/interceptor/AbstractLoggingInterceptor.java
+++ b/core/src/main/java/org/apache/cxf/interceptor/AbstractLoggingInterceptor.java
@@ -36,6 +36,7 @@ import javax.xml.transform.stream.StreamSource;
 
 import org.apache.cxf.common.logging.LogUtils;
 import org.apache.cxf.common.util.StringUtils;
+import org.apache.cxf.endpoint.Endpoint;
 import org.apache.cxf.io.CachedOutputStream;
 import org.apache.cxf.message.Message;
 import org.apache.cxf.phase.AbstractPhaseInterceptor;
@@ -76,7 +77,11 @@ public abstract class AbstractLoggingInterceptor extends AbstractPhaseIntercepto
     protected abstract Logger getLogger();
     
     Logger getMessageLogger(Message message) {
-        EndpointInfo endpoint = message.getExchange().getEndpoint().getEndpointInfo();
+        Endpoint ep = message.getExchange().getEndpoint();
+        if (ep == null || ep.getEndpointInfo() == null) {
+            return getLogger();
+        }
+        EndpointInfo endpoint = ep.getEndpointInfo();
         if (endpoint.getService() == null) {
             return getLogger();
         }
diff --git a/systests/uncategorized/src/test/java/org/apache/cxf/systest/versioning/Server.java b/systests/uncategorized/src/test/java/org/apache/cxf/systest/versioning/Server.java
index 44717e207e..acd7d73d64 100644
--- a/systests/uncategorized/src/test/java/org/apache/cxf/systest/versioning/Server.java
+++ b/systests/uncategorized/src/test/java/org/apache/cxf/systest/versioning/Server.java
@@ -21,6 +21,8 @@ package org.apache.cxf.systest.versioning;
 
 import javax.xml.ws.Endpoint;
 
+import org.apache.cxf.BusFactory;
+import org.apache.cxf.interceptor.LoggingInInterceptor;
 import org.apache.cxf.jaxws.EndpointImpl;
 import org.apache.cxf.testutil.common.AbstractBusTestServerBase;
 import org.apache.cxf.transport.MultipleEndpointObserver;
@@ -31,6 +33,8 @@ public class Server extends AbstractBusTestServerBase {
     public static final String PORT = allocatePort(Server.class);
     
     protected void run() {
+        setBus(BusFactory.getDefaultBus());
+        getBus().getInInterceptors().add(new LoggingInInterceptor());
         String address = "http://localhost:" + PORT + "/SoapContext/SoapPort";
 
         Object implementor1 = new GreeterImplMixedStyle(" version1");
