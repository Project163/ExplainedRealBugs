diff --git a/parent/pom.xml b/parent/pom.xml
index 153702afd7..20a44e940a 100644
--- a/parent/pom.xml
+++ b/parent/pom.xml
@@ -283,7 +283,7 @@
 				<value>${surefire.fork.vmargs}</value>
 		            </property>
                             <property>
-                                <!-- If we close the port after a client in the same JVM has oppened a keep-alive
+                                <!-- If we close the port after a client in the same JVM has opened a keep-alive
                                 connection, on some Linux's, the socket remains consumed until
                                 some timeout occurs.   That may cause some tests to timeout/hang. -->
                                 <name>org.apache.cxf.transports.http_jetty.DontClosePort</name>
@@ -1137,12 +1137,16 @@
                                     <value>${spring.validation.mode}</value>
                                 </property>
                                 <property>
-                                    <!-- If we close the port after a client in the same JVM has oppened a keep-alive
+                                    <!-- If we close the port after a client in the same JVM has opened a keep-alive
                                      connection, on some Linux's, the socket remains consumed until
                                      some timeout occurs.   That may cause some tests to timeout/hang. -->
                                     <name>org.apache.cxf.transports.http_jetty.DontClosePort</name>
                                     <value>false</value>
                                 </property>
+                                <property>
+                                    <name>java.security.properties</name>
+                                    <value>${basedir}/target/test-classes/ibm.security</value>
+                                </property>
                             </systemProperties>
                         </configuration>
                     </plugin>
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/AnnotationReader.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/AnnotationReader.java
index 6e71da9c4f..d926205911 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/AnnotationReader.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/AnnotationReader.java
@@ -76,13 +76,22 @@ public class AnnotationReader {
 
     @SuppressWarnings("unchecked")
     public Class getType(AnnotatedElement element) {
-        return (Class) getAnnotationValue("type",
+        Class value = (Class) getAnnotationValue("type",
                 element,
                 Type.class,
                 XmlAttribute.class,
                 XmlElement.class,
                 org.codehaus.xfire.aegis.type.java5.XmlAttribute.class,
                 org.codehaus.xfire.aegis.type.java5.XmlElement.class);
+        // jaxb uses a different default value
+        if (value == null) {
+            value = (Class) getAnnotationValue("type",
+                    element,
+                    javax.xml.bind.annotation.XmlElement.DEFAULT.class,
+                    XML_ELEMENT);
+        }
+
+        return value;
     }
 
     @SuppressWarnings("unchecked")
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AttachmentUtil.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AttachmentUtil.java
index c476c936b3..10f4811c12 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AttachmentUtil.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AttachmentUtil.java
@@ -49,6 +49,9 @@ public final class AttachmentUtil {
     }
 
     public static Attachment getAttachment(String id, Collection<Attachment> attachments) {
+        if (id == null) {
+            throw new DatabindingException("Cannot get attachment: null id");
+        }
         int i = id.indexOf("cid:");
         if (i != -1) {
             id = id.substring(4).trim();
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
index 6c5603a74e..9cfe207b1b 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
@@ -247,8 +247,14 @@ public class ElementReader extends AbstractMessageReader implements MessageReade
     }
 
     public MessageReader getAttributeReader(QName qName) {
-        return new AttributeReader(qName, root.getAttributeValue(qName.getNamespaceURI(), qName
-            .getLocalPart()));
+        String attribute = root.getAttributeValue(qName.getNamespaceURI(), qName.getLocalPart());
+        if (attribute == null && "".equals(qName.getNamespaceURI())) {
+            // The qName namespaceURI of the attribute seems to be null
+            // rather than "" when using the ibmjdk.
+            // The MtomTest systest fails unless we do this.
+            attribute = root.getAttributeValue(null, qName.getLocalPart());
+        }
+        return new AttributeReader(qName, attribute);
     }
 
     public MessageReader getNextAttributeReader() {
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/JaxbTypeTest.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/JaxbTypeTest.java
index e5ffe93921..814ca0766e 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/JaxbTypeTest.java
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/JaxbTypeTest.java
@@ -46,7 +46,7 @@ public class JaxbTypeTest extends AbstractAegisTest {
     @Before
     public void setUp() throws Exception {
         super.setUp();
-
+ 
         Server s = createService(JaxbService.class);
         service = s.getEndpoint().getService();
         databinding = (AegisDatabinding) service.getDataBinding();
@@ -86,7 +86,7 @@ public class JaxbTypeTest extends AbstractAegisTest {
         if ("bogusProperty".equals(element.getLocalPart())) {
             assertTrue(custom instanceof StringType);
         } else if ("elementProperty".equals(element.getLocalPart())) {
-            assertTrue(custom instanceof StringType);
+            assertTrue(custom instanceof CustomStringType);
         } else {
             fail("Unexpected element name: " + element.getLocalPart());
         }
diff --git a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/impl/UriBuilderImplTest.java b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/impl/UriBuilderImplTest.java
index bae4f4af69..3a11bfd454 100644
--- a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/impl/UriBuilderImplTest.java
+++ b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/impl/UriBuilderImplTest.java
@@ -46,7 +46,12 @@ public class UriBuilderImplTest extends Assert {
     
     @Test
     public void testSchemeHostPortQueryFragment() throws Exception {
-        URI uri = new URI("http://foo:1234/bar?n1=v1&n2=v2#fragment");
+        URI uri;
+        if ("IBM Corporation".equals(System.getProperty("java.vendor"))) {
+            uri = new URI("http://foo:1234/bar?n2=v2&n1=v1#fragment");
+        } else {
+            uri = new URI("http://foo:1234/bar?n1=v1&n2=v2#fragment");
+        }
         URI newUri = new UriBuilderImpl().scheme("http").host("foo")
                      .port(1234).path("bar")
                      .queryParam("n1", "v1").queryParam("n2", "v2")
diff --git a/rt/transports/jbi/src/main/java/org/apache/cxf/transport/jbi/JBITransportFactory.java b/rt/transports/jbi/src/main/java/org/apache/cxf/transport/jbi/JBITransportFactory.java
index e71e8c44cb..16ad1ea164 100644
--- a/rt/transports/jbi/src/main/java/org/apache/cxf/transport/jbi/JBITransportFactory.java
+++ b/rt/transports/jbi/src/main/java/org/apache/cxf/transport/jbi/JBITransportFactory.java
@@ -143,7 +143,7 @@ public class JBITransportFactory extends AbstractTransportFactory implements Con
     public void putDestination(String epName, JBIDestination destination) throws JBIException {
         if (destinationMap.containsKey(epName)) {
             throw new JBIException("JBIDestination for Endpoint "
-                                   + epName + " already be created");
+                                   + epName + " has already been created");
         } else {
             destinationMap.put(epName, destination);
         }
diff --git a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTest.java b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTest.java
index 508e7f0dfa..d04f56ef37 100644
--- a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTest.java
+++ b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTest.java
@@ -385,12 +385,21 @@ public class WSDLToCorbaBindingTest extends Assert {
             assertEquals(bindingOperation.getBindingOutput().getName(), "review_dataResponse");
             
             Iterator f = bindingOperation.getBindingFaults().values().iterator();
+            boolean hasBadRecord = false;
+            boolean hasMyException = false;
             while (f.hasNext()) {
                 BindingFault bindingFault = (BindingFault)f.next();
-                assertEquals(bindingFault.getName(), "TestException.BadRecord");
-                bindingFault = (BindingFault)f.next();
-                assertEquals(bindingFault.getName(), "MyException");                
-            }                       
+                if ("TestException.BadRecord".equals(bindingFault.getName())) {
+                    hasBadRecord = true;
+                } else if ("MyException".equals(bindingFault.getName())) {
+                    hasMyException = true;
+                } else {
+                    fail("Unexpected BindingFault: " + bindingFault.getName());
+                }
+            }
+            assertTrue("Did not get expected TestException.BadRecord", hasBadRecord);
+            assertTrue("Did not get expected MyException", hasMyException);
+            
             Iterator bOp = bindingOperation.getExtensibilityElements().iterator();
             while (bOp.hasNext()) {     
                 ExtensibilityElement extElement = (ExtensibilityElement)bOp.next();
@@ -398,10 +407,21 @@ public class WSDLToCorbaBindingTest extends Assert {
                     OperationType corbaOpType = (OperationType)extElement;                 
                     assertEquals(corbaOpType.getName(), "review_data");
                     assertEquals(1, corbaOpType.getParam().size());
-                    assertEquals(corbaOpType.getRaises().get(0).getException().getLocalPart(), 
-                                 "TestException.BadRecord");
-                    assertEquals(corbaOpType.getRaises().get(1).getException().getLocalPart(), 
-                                 "MyExceptionType");                          
+                    assertEquals(2, corbaOpType.getRaises().size());
+                    hasBadRecord = false;
+                    hasMyException = false;
+                    for (int k = 0; k < corbaOpType.getRaises().size(); k++) {
+                        String localPart = corbaOpType.getRaises().get(k).getException().getLocalPart();
+                        if ("TestException.BadRecord".equals(localPart)) {
+                            hasBadRecord = true;
+                        } else if ("MyExceptionType".equals(localPart)) {
+                            hasMyException = true;
+                        } else {
+                            fail("Unexpected Raises: " + localPart); 
+                        }
+                    }
+                    assertTrue("Did not find expected TestException.BadRecord", hasBadRecord);
+                    assertTrue("Did not find expected MyException", hasMyException);
                 }
             }
         }            
diff --git a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTypeTest.java b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTypeTest.java
index 68227b24ee..c063f37b5a 100644
--- a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTypeTest.java
+++ b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToCorbaBindingTypeTest.java
@@ -430,32 +430,58 @@ public class WSDLToCorbaBindingTypeTest extends Assert {
             idlgen.setOutputFile("atype.idl");
             idlgen.generateIDL(model);
 
-            Anonstring str = (Anonstring)mapType.getStructOrExceptionOrUnion().get(2);
-            assertEquals("Name is incorrect for Array Type", "X._1_S", 
+            List<CorbaTypeImpl> types = mapType.getStructOrExceptionOrUnion();
+            for (int i = 0; i < types.size(); i++) {
+                CorbaTypeImpl type = types.get(i);
+                if (type instanceof Anonstring) {
+                    Anonstring str = (Anonstring)type;
+                    assertEquals("Name is incorrect for Array Type", "X._1_S", 
                          str.getName());
-            assertEquals("Type is incorrect for AnonString Type", "string", 
+                    assertEquals("Type is incorrect for AnonString Type", "string", 
                          str.getType().getLocalPart());
             
-            Anonfixed fx = (Anonfixed)mapType.getStructOrExceptionOrUnion().get(3);
-            assertEquals("Name is incorrect for Anon Array Type", "X._2_S", 
+                } else if (type instanceof Anonfixed) {
+                    Anonfixed fx = (Anonfixed)type;
+                    assertEquals("Name is incorrect for Anon Array Type", "X._2_S", 
                          fx.getName());
-            assertEquals("Type is incorrect for AnonFixed Type", "decimal", 
+                    assertEquals("Type is incorrect for AnonFixed Type", "decimal", 
                          fx.getType().getLocalPart());
             
-            Struct struct = (Struct)mapType.getStructOrExceptionOrUnion().get(1);
-            assertEquals("Name is incorrect for Anon Array Type", "X.S", 
-                         struct.getName());            
-            assertEquals("Type is incorrect for Struct Type", "X.S", 
-                         struct.getType().getLocalPart());
-            assertEquals("Name for first Struct Member Type is incorrect", "str", 
-                         struct.getMember().get(0).getName());
-            assertEquals("Idltype for first Struct Member Type is incorrect", "X._1_S", 
-                         struct.getMember().get(0).getIdltype().getLocalPart());            
-            assertEquals("Name for second Struct Member Type is incorrect", "fx", 
-                         struct.getMember().get(1).getName());
-            assertEquals("Idltype for second Struct Member Type is incorrect", "X._2_S", 
-                         struct.getMember().get(1).getIdltype().getLocalPart());
-            
+                } else if (type instanceof Struct) {
+                    Struct struct = (Struct)type;
+                    String[] testResult;
+                    if ("X.op_a".equals(struct.getName())) {
+                        testResult = new String[]{"X.op_a", "X.op_a", "p1",
+                            "X.S", "p2", "X.S"};
+                    } else if ("X.op_aResult".equals(struct.getName())) {
+                        testResult = new String[]{"X.op_aResult",
+                            "X.op_aResult", "return", "X.S", "p2", "X.S"};
+                    } else {
+                        testResult = new String[]{"X.S", "X.S", "str", 
+                            "X._1_S", "fx", "X._2_S"};
+                    }
+                    assertEquals("Name is incorrect for Anon Array Type",
+                        testResult[0],
+                        struct.getName());            
+                    assertEquals("Type is incorrect for Struct Type", 
+                        testResult[1],
+                        struct.getType().getLocalPart());
+                    assertEquals("Name for first Struct Member Type is incorrect", 
+                        testResult[2],
+                        struct.getMember().get(0).getName());
+                    assertEquals("Idltype for first Struct Member Type is incorrect", 
+                        testResult[3],
+                        struct.getMember().get(0).getIdltype().getLocalPart());            
+                    assertEquals("Name for second Struct Member Type is incorrect", 
+                        testResult[4],
+                        struct.getMember().get(1).getName());
+                    assertEquals("Idltype for second Struct Member Type is incorrect", 
+                        testResult[5],
+                        struct.getMember().get(1).getIdltype().getLocalPart());
+                } else {
+                    //System.err.println("Type: " + i + " " + type.getClass().getName());
+                }
+            }    
             File f = new File("atype.idl");
             assertTrue("atype.idl should be generated", f.exists());
         } finally {
diff --git a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToIDLGenerationTest.java b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToIDLGenerationTest.java
index dbd06c1fd7..67b07d94be 100644
--- a/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToIDLGenerationTest.java
+++ b/tools/corba/src/test/java/org/apache/cxf/tools/corba/processors/WSDLToIDLGenerationTest.java
@@ -672,8 +672,14 @@ public class WSDLToIDLGenerationTest extends Assert {
             idlgen.setGenerateAllBindings(true);            
             idlgen.generateIDL(null);
 
-            InputStream origstream = 
-                getClass().getResourceAsStream("/idlgen/expected_multiplebinding.idl");
+            InputStream origstream;
+            if ("IBM Corporation".equals(System.getProperty("java.vendor"))) {
+                // The ibm jdk outputs the idl modules in a different order
+                // (still valid idl).
+                origstream = getClass().getResourceAsStream("/idlgen/expected_multiplebinding_ibmjdk.idl");
+            } else {
+                origstream = getClass().getResourceAsStream("/idlgen/expected_multiplebinding.idl");
+            }
             byte orig[] = inputStreamToBytes(origstream);
             checkIDLStrings(orig, idloutput.toByteArray());           
         } finally {
