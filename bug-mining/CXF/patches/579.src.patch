diff --git a/common/common/src/main/java/org/apache/cxf/common/xmlschema/SchemaCollection.java b/common/common/src/main/java/org/apache/cxf/common/xmlschema/SchemaCollection.java
index 48101d219e..c64d08fcab 100644
--- a/common/common/src/main/java/org/apache/cxf/common/xmlschema/SchemaCollection.java
+++ b/common/common/src/main/java/org/apache/cxf/common/xmlschema/SchemaCollection.java
@@ -215,7 +215,7 @@ public class SchemaCollection {
      */
     public XmlSchema getSchemaByTargetNamespace(String namespaceURI) {
         for (XmlSchema schema : schemaCollection.getXmlSchemas()) {
-            if (schema.getTargetNamespace().equals(namespaceURI)) {
+            if (namespaceURI.equals(schema.getTargetNamespace())) {
                 return schema;
             }
         }
diff --git a/tools/wsdlto/frontend/javascript/src/test/java/org/apache/cxf/tools/wsdlto/javascript/WSDLToJavaScriptTest.java b/tools/wsdlto/frontend/javascript/src/test/java/org/apache/cxf/tools/wsdlto/javascript/WSDLToJavaScriptTest.java
index f7bcadabe3..9f42e5f02b 100644
--- a/tools/wsdlto/frontend/javascript/src/test/java/org/apache/cxf/tools/wsdlto/javascript/WSDLToJavaScriptTest.java
+++ b/tools/wsdlto/frontend/javascript/src/test/java/org/apache/cxf/tools/wsdlto/javascript/WSDLToJavaScriptTest.java
@@ -53,4 +53,16 @@ public class WSDLToJavaScriptTest extends ProcessorTestBase {
         String javascript = IOUtils.readStringFromStream(fis);
         assertTrue(javascript.contains("xmlns:murble='http://apache.org/hello_world_soap_http'"));
     }
+    
+    // just run with a minimum of fuss.
+    @Test
+    public void testGeneration2() throws Exception {
+        JavaScriptContainer container = new JavaScriptContainer(null);
+
+        ToolContext context = new ToolContext();
+        context.put(ToolConstants.CFG_WSDLURL, "/tmp/tmp.wsdl");
+        context.put(ToolConstants.CFG_OUTPUTDIR, output.toString()); 
+        container.setContext(context); 
+        container.execute();
+    }
 }
