diff --git a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
index 220bcc1cca..ef40d0a41d 100644
--- a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
+++ b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
@@ -24,10 +24,9 @@ import java.net.MalformedURLException;
 import java.net.URI;
 import java.net.URL;
 import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.LinkedHashSet;
 import java.util.List;
-import java.util.Map;
+import java.util.Properties;
 import java.util.Set;
 
 import org.apache.cxf.common.classloader.ClassLoaderUtils;
@@ -44,7 +43,7 @@ public class ClassLoaderSwitcher {
 
     private Log log;
     private String origClassPath;
-    private Map<Object, Object> origProps;
+    private Properties origProps;
     private ClassLoader origContextClassloader;
 
     public ClassLoaderSwitcher(Log log) {
@@ -105,7 +104,7 @@ public class ClassLoaderSwitcher {
 
         log.debug("Classpath: " + urlList.toString());
 
-        origProps = new HashMap<>(System.getProperties());
+        origProps = (Properties)System.getProperties().clone();
 
         origClassPath = System.getProperty("java.class.path");
 
@@ -127,13 +126,7 @@ public class ClassLoaderSwitcher {
         }
 
         if (origProps != null) {
-            Map<Object, Object> newProps = new HashMap<>(System.getProperties());
-            for (Object o : newProps.keySet()) {
-                if (!origProps.containsKey(o)) {
-                    System.clearProperty(o.toString());
-                }
-            }
-            System.getProperties().putAll(origProps);
+            System.setProperties(origProps);
         }
     }
 }
diff --git a/maven-plugins/java2ws-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java b/maven-plugins/java2ws-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
index 0c72dbf989..2c130b476b 100644
--- a/maven-plugins/java2ws-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
+++ b/maven-plugins/java2ws-plugin/src/main/java/org/apache/cxf/maven_plugin/ClassLoaderSwitcher.java
@@ -23,9 +23,8 @@ import java.io.File;
 import java.net.MalformedURLException;
 import java.net.URL;
 import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.List;
-import java.util.Map;
+import java.util.Properties;
 
 import org.apache.cxf.common.classloader.ClassLoaderUtils;
 import org.apache.cxf.helpers.CastUtils;
@@ -41,7 +40,7 @@ public class ClassLoaderSwitcher {
 
     private Log log;
     private String origClassPath;
-    private Map<Object, Object> origProps;
+    private Properties origProps;
     private ClassLoader origContextClassloader;
 
     public ClassLoaderSwitcher(Log log) {
@@ -98,7 +97,7 @@ public class ClassLoaderSwitcher {
 
         log.debug("Classpath: " + urlList.toString());
 
-        origProps = new HashMap<>(System.getProperties());
+        origProps = (Properties)System.getProperties().clone();
 
         origClassPath = System.getProperty("java.class.path");
 
@@ -115,18 +114,11 @@ public class ClassLoaderSwitcher {
             Thread.currentThread().setContextClassLoader(origContextClassloader);
             origContextClassloader = null; // don't hold a reference.
         }
-        if (origClassPath != null) {
-            System.setProperty("java.class.path", origClassPath);
-        }
 
         if (origProps != null) {
-            Map<Object, Object> newProps = new HashMap<>(System.getProperties());
-            for (Object o : newProps.keySet()) {
-                if (!origProps.containsKey(o)) {
-                    System.clearProperty(o.toString());
-                }
-            }
-            System.getProperties().putAll(origProps);
+            System.setProperties(origProps);
+        } else if (origClassPath != null) {
+            System.setProperty("java.class.path", origClassPath);
         }
     }
 }
diff --git a/maven-plugins/wadl2java-plugin/src/main/java/org/apache/cxf/maven_plugin/common/ClassLoaderSwitcher.java b/maven-plugins/wadl2java-plugin/src/main/java/org/apache/cxf/maven_plugin/common/ClassLoaderSwitcher.java
index ef7d48340a..1ffdb4a035 100644
--- a/maven-plugins/wadl2java-plugin/src/main/java/org/apache/cxf/maven_plugin/common/ClassLoaderSwitcher.java
+++ b/maven-plugins/wadl2java-plugin/src/main/java/org/apache/cxf/maven_plugin/common/ClassLoaderSwitcher.java
@@ -24,10 +24,9 @@ import java.net.MalformedURLException;
 import java.net.URI;
 import java.net.URL;
 import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.LinkedHashSet;
 import java.util.List;
-import java.util.Map;
+import java.util.Properties;
 import java.util.Set;
 
 import org.apache.cxf.common.classloader.ClassLoaderUtils;
@@ -46,7 +45,7 @@ public class ClassLoaderSwitcher {
 
     private Log log;
     private String origClassPath;
-    private Map<Object, Object> origProps;
+    private Properties origProps;
     private ClassLoader origContextClassloader;
 
     public ClassLoaderSwitcher(Log log) {
@@ -107,7 +106,7 @@ public class ClassLoaderSwitcher {
 
         log.debug("Classpath: " + urlList.toString());
 
-        origProps = new HashMap<>(System.getProperties());
+        origProps = (Properties)System.getProperties().clone();
 
         origClassPath = System.getProperty("java.class.path");
 
@@ -124,18 +123,12 @@ public class ClassLoaderSwitcher {
             Thread.currentThread().setContextClassLoader(origContextClassloader);
             origContextClassloader = null; // don't hold a reference.
         }
-        if (origClassPath != null) {
-            System.setProperty("java.class.path", origClassPath);
-        }
+        
 
         if (origProps != null) {
-            Map<Object, Object> newProps = new HashMap<>(System.getProperties());
-            for (Object o : newProps.keySet()) {
-                if (!origProps.containsKey(o)) {
-                    System.clearProperty(o.toString());
-                }
-            }
-            System.getProperties().putAll(origProps);
+            System.setProperties(origProps);
+        } else if (origClassPath != null) {
+            System.setProperty("java.class.path", origClassPath);
         }
     }
 }
