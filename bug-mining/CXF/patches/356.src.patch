diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisElementProvider.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisElementProvider.java
index fabc1cf989..4e86152e48 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisElementProvider.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisElementProvider.java
@@ -32,6 +32,7 @@ import javax.ws.rs.WebApplicationException;
 import javax.ws.rs.core.MediaType;
 import javax.ws.rs.core.MultivaluedMap;
 import javax.ws.rs.ext.Provider;
+import javax.xml.namespace.QName;
 import javax.xml.stream.XMLStreamReader;
 import javax.xml.stream.XMLStreamWriter;
 
@@ -75,7 +76,7 @@ public class AegisElementProvider extends AbstractAegisProvider  {
         org.apache.cxf.aegis.type.Type aegisType = TypeUtil.getWriteTypeStandalone(context, obj, genericType);
         AegisWriter<XMLStreamWriter> aegisWriter = context.createXMLStreamWriter();
         try {
-            XMLStreamWriter xmlStreamWriter = createStreamWriter(type, os);
+            XMLStreamWriter xmlStreamWriter = createStreamWriter(aegisType.getSchemaType(), os);
             // use type qname as element qname?
             xmlStreamWriter.writeStartDocument();
             aegisWriter.write(obj, aegisType.getSchemaType(), false, xmlStreamWriter, aegisType);
@@ -86,7 +87,8 @@ public class AegisElementProvider extends AbstractAegisProvider  {
         }
     }
     
-    protected XMLStreamWriter createStreamWriter(Class<?> type, OutputStream os) throws Exception {
+    protected XMLStreamWriter createStreamWriter(QName typeQName, 
+                                                 OutputStream os) throws Exception {
         return StaxUtils.createXMLStreamWriter(os);
     }
 }
diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisJSONProvider.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisJSONProvider.java
index 0af21b7dde..6cb712cb02 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisJSONProvider.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AegisJSONProvider.java
@@ -68,10 +68,11 @@ public final class AegisJSONProvider extends AegisElementProvider  {
     }
     
     @Override
-    protected XMLStreamWriter createStreamWriter(Class<?> type, OutputStream os) throws Exception {
-        QName qname = getQName(type);
-        return JSONUtils.createStreamWriter(os, qname, writeXsiType, namespaceMap, 
-                                                           serializeAsArray, arrayKeys);
+    protected XMLStreamWriter createStreamWriter(QName typeQName, OutputStream os) throws Exception {
+        namespaceMap.putIfAbsent(typeQName.getNamespaceURI(), "ns1");
+        XMLStreamWriter writer = JSONUtils.createStreamWriter(os, typeQName, writeXsiType, namespaceMap, 
+                                                              serializeAsArray, arrayKeys);
+        return writer;
     }
     
     @Override
diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/JSONUtils.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/JSONUtils.java
index 44ea429973..f937423c6f 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/JSONUtils.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/JSONUtils.java
@@ -21,11 +21,13 @@ package org.apache.cxf.jaxrs.provider;
 import java.io.InputStream;
 import java.io.OutputStream;
 import java.io.OutputStreamWriter;
+import java.nio.charset.Charset;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 
+import javax.xml.XMLConstants;
 import javax.xml.namespace.NamespaceContext;
 import javax.xml.namespace.QName;
 import javax.xml.stream.XMLStreamReader;
@@ -40,6 +42,10 @@ import org.codehaus.jettison.mapped.MappedXMLStreamWriter;
 
 public final class JSONUtils {
 
+    private static final String XSI_PREFIX = "xsi";
+    private static final String XSI_URI = XMLConstants.W3C_XML_SCHEMA_INSTANCE_NS_URI;
+    private static final Charset UTF8 = Charset.forName("utf-8");
+
     private JSONUtils() {
     }
     
@@ -49,13 +55,13 @@ public final class JSONUtils {
                                                      boolean serializeAsArray,
                                                      List<String> arrayKeys) throws Exception {
         if (writeXsiType) {
-            namespaceMap.put("http://www.w3.org/2001/XMLSchema-instance", "xsi");
+            namespaceMap.put(XSI_URI, XSI_PREFIX);
         }
         Configuration c = new Configuration(namespaceMap);
         MappedNamespaceConvention convention = new MappedNamespaceConvention(c);
         AbstractXMLStreamWriter xsw = new MappedXMLStreamWriter(
                                             convention, 
-                                            new OutputStreamWriter(os, "UTF-8"));
+                                            new OutputStreamWriter(os, UTF8));
         if (serializeAsArray) {
             if (arrayKeys != null) {
                 for (String key : arrayKeys) {
@@ -80,7 +86,7 @@ public final class JSONUtils {
     public static XMLStreamReader createStreamReader(InputStream is, boolean readXsiType,
                                                Map<String, String> namespaceMap) throws Exception {
         if (readXsiType) {
-            namespaceMap.put("http://www.w3.org/2001/XMLSchema-instance", "xsi");
+            namespaceMap.put(XSI_URI, XSI_PREFIX);
         }
         MappedXMLInputFactory factory = new MappedXMLInputFactory(namespaceMap);
         return new JettisonReader(namespaceMap, factory.createXMLStreamReader(is));
@@ -98,8 +104,8 @@ public final class JSONUtils {
         public String getAttributePrefix(int n) {
             QName name = getAttributeName(n);
             if (name != null 
-                && "http://www.w3.org/2001/XMLSchema-instance".equals(name.getNamespaceURI())) {
-                return "xsi";
+                && XSI_URI.equals(name.getNamespaceURI())) {
+                return XSI_PREFIX;
             } else {
                 return super.getAttributePrefix(n);
             }
diff --git a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/AegisJSONProviderTest.java b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/AegisJSONProviderTest.java
index b42358a123..7d95a429cf 100644
--- a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/AegisJSONProviderTest.java
+++ b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/provider/AegisJSONProviderTest.java
@@ -132,7 +132,7 @@ public class AegisJSONProviderTest extends Assert {
         
     }
     
-    @org.junit.Ignore
+   // @org.junit.Ignore
     @Test
     public void testWriteCollection() throws Exception {
         AegisJSONProvider p = new AegisJSONProvider();
@@ -144,14 +144,13 @@ public class AegisJSONProviderTest extends Assert {
         bean.setStrValue("hovercraft");
         List<AegisTestBean> beans = new ArrayList<AegisTestBean>();
         beans.add(bean);
-        Method m = CollectionsResource.class.getMethod("getAegisBeans", new Class[]{});
-        p.writeTo(beans, (Class)m.getReturnType(), m.getGenericReturnType(), 
-                  AegisTestBean.class.getAnnotations(), 
-                  MediaType.APPLICATION_JSON_TYPE, new MetadataMap<String, Object>(), os);
+        Method m = CollectionsResource.class.getMethod("getAegisBeans", new Class[] {});
+        p.writeTo(beans, (Class)m.getReturnType(), m.getGenericReturnType(), AegisTestBean.class
+            .getAnnotations(), MediaType.APPLICATION_JSON_TYPE, new MetadataMap<String, Object>(), os);
         byte[] bytes = os.toByteArray();
         String json = new String(bytes, "utf-8");
-        System.out.println(json);
-        //assertEquals(data, json);
+        assertEquals("{\"ns1.ArrayOfAegisTestBean\":{\"ns1.AegisTestBean\":"
+                     + "{\"ns1.boolValue\":true,\"ns1.strValue\":\"hovercraft\"}}}", json);
     }
     
     @Test
