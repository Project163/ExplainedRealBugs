diff --git a/common/common/src/main/java/org/apache/cxf/helpers/FileUtils.java b/common/common/src/main/java/org/apache/cxf/helpers/FileUtils.java
index 6d78fc7240..fce8c59e72 100644
--- a/common/common/src/main/java/org/apache/cxf/helpers/FileUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/helpers/FileUtils.java
@@ -56,6 +56,12 @@ public final class FileUtils {
         if (s == null) {
             int x = (int)(Math.random() * 1000000);
             s = System.getProperty("java.io.tmpdir");
+            File checkExists = new File(s);
+            if(!checkExists.exists()) {
+                throw new RuntimeException("The directory " 
+                                       + checkExists.getAbsolutePath() 
+                                       + " does not exist, please set java.io.tempdir to an existing directory");
+            }
             File f = new File(s, "cxf-tmp-" + x);
             while (!f.mkdir()) {
                 x = (int)(Math.random() * 1000000);
diff --git a/common/common/src/test/java/org/apache/cxf/helpers/FileUtilsTest.java b/common/common/src/test/java/org/apache/cxf/helpers/FileUtilsTest.java
new file mode 100644
index 0000000000..14a8219533
--- /dev/null
+++ b/common/common/src/test/java/org/apache/cxf/helpers/FileUtilsTest.java
@@ -0,0 +1,22 @@
+package org.apache.cxf.helpers;
+
+import java.io.File;
+
+
+import org.junit.Assert;
+import org.junit.Test;
+
+public class FileUtilsTest extends Assert {
+    
+    
+    @Test
+    public void testTempIODirExists() throws Exception {
+
+        try {
+            System.setProperty("java.io.tmpdir", "dummy");
+            FileUtils.createTempFile("foo", "bar");
+        } catch (RuntimeException e) {
+            assertTrue(e.toString().contains("please set java.io.tempdir to an existing directory"));
+        }    
+    }
+}
