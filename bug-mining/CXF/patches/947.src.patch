diff --git a/rt/core/src/main/java/org/apache/cxf/attachment/AttachmentUtil.java b/rt/core/src/main/java/org/apache/cxf/attachment/AttachmentUtil.java
index 43a93997fc..de8c6159c2 100644
--- a/rt/core/src/main/java/org/apache/cxf/attachment/AttachmentUtil.java
+++ b/rt/core/src/main/java/org/apache/cxf/attachment/AttachmentUtil.java
@@ -285,9 +285,13 @@ public final class AttachmentUtil {
             } catch (UnsupportedEncodingException ue) {
                 contentId = contentId.substring(4);
             }
-            return new LazyDataSource(contentId, atts);
+            LazyDataSource lazyDS =  new LazyDataSource(contentId, atts);
+            lazyDS.getContentType();
+            return lazyDS;
         } else if (contentId.indexOf("://") == -1) {
-            return new LazyDataSource(contentId, atts);
+            LazyDataSource lazyDS =  new LazyDataSource(contentId, atts);
+            lazyDS.getContentType();
+            return lazyDS;
         } else {
             try {
                 return new URLDataSource(new URL(contentId));
diff --git a/rt/core/src/main/java/org/apache/cxf/attachment/MimeBodyPartInputStream.java b/rt/core/src/main/java/org/apache/cxf/attachment/MimeBodyPartInputStream.java
index f9eccbd54d..326d98878e 100644
--- a/rt/core/src/main/java/org/apache/cxf/attachment/MimeBodyPartInputStream.java
+++ b/rt/core/src/main/java/org/apache/cxf/attachment/MimeBodyPartInputStream.java
@@ -32,6 +32,8 @@ public class MimeBodyPartInputStream extends InputStream {
     byte[] boundary;
     byte[] boundaryBuffer;
 
+    private boolean closed;
+
     public MimeBodyPartInputStream(PushbackInputStream inStreamParam, 
                                    byte[] boundaryParam,
                                    int pbsize) {
@@ -45,7 +47,7 @@ public class MimeBodyPartInputStream extends InputStream {
         byte b[] = buf;
         int off = origOff;
         int len = origLen;
-        if (boundaryFound) {
+        if (boundaryFound || closed) {
             return -1;
         }
         if ((off < 0) || (off > b.length) || (len < 0) 
@@ -268,4 +270,8 @@ public class MimeBodyPartInputStream extends InputStream {
         }
         return value;
     }
+    
+    public void close() throws IOException {
+        this.closed = true;
+    }
 }
