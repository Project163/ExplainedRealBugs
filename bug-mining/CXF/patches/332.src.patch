diff --git a/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletController.java b/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletController.java
index 934e1f9707..9a1d63959f 100644
--- a/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletController.java
+++ b/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletController.java
@@ -402,7 +402,7 @@ public class ServletController {
         }
     }
     
-    private String getBaseURL(HttpServletRequest request) {
+    protected String getBaseURL(HttpServletRequest request) {
         String reqPrefix = request.getRequestURL().toString();        
         String pathInfo = request.getPathInfo() == null ? "" : request.getPathInfo();
         //fix for CXF-898
@@ -413,7 +413,7 @@ public class ServletController {
             reqPrefix = UrlUtils.pathDecode(reqPrefix);
             // pathInfo drops matrix parameters attached to a last path segment
             int offset = 0;
-            int index = getMatrixParameterIndex(reqPrefix, pathInfo.length());
+            int index = getMatrixParameterIndex(reqPrefix, pathInfo);
             if (index >= pathInfo.length()) {
                 offset = reqPrefix.length() - index;
             }
@@ -422,12 +422,15 @@ public class ServletController {
         return reqPrefix;
     }
     
-    private int getMatrixParameterIndex(String reqPrefix, int pathInfoLength) {
+    private int getMatrixParameterIndex(String reqPrefix, String pathInfo) {
         int index = reqPrefix.lastIndexOf(';');
         int lastIndex = -1;
-        while (index >= pathInfoLength) {
+        while (index >= pathInfo.length()) {
             lastIndex = index;
             reqPrefix = reqPrefix.substring(0, index);
+            if (reqPrefix.endsWith(pathInfo)) {
+                break;
+            }
             index = reqPrefix.lastIndexOf(';');
         }
         return lastIndex;
diff --git a/rt/transports/http/src/test/java/org/apache/cxf/transport/servlet/ServletControllerTest.java b/rt/transports/http/src/test/java/org/apache/cxf/transport/servlet/ServletControllerTest.java
index 1442746f54..73f7e521c2 100644
--- a/rt/transports/http/src/test/java/org/apache/cxf/transport/servlet/ServletControllerTest.java
+++ b/rt/transports/http/src/test/java/org/apache/cxf/transport/servlet/ServletControllerTest.java
@@ -40,12 +40,12 @@ public class ServletControllerTest extends Assert {
     public void setUp() {
         req = EasyMock.createMock(HttpServletRequest.class);
         res = EasyMock.createMock(HttpServletResponse.class);
-        req.getPathInfo();
-        EasyMock.expectLastCall().andReturn(null);
     }
     
     @Test
     public void testGenerateServiceListing() throws Exception {
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn(null);
         req.getRequestURI();
         EasyMock.expectLastCall().andReturn("/services");
         req.getParameter("stylesheet");
@@ -62,6 +62,8 @@ public class ServletControllerTest extends Assert {
     
     @Test
     public void testGenerateUnformattedServiceListing() throws Exception {
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn(null);
         req.getRequestURI();
         EasyMock.expectLastCall().andReturn("/services");
         req.getParameter("stylesheet");
@@ -78,6 +80,8 @@ public class ServletControllerTest extends Assert {
     
     @Test
     public void testHideServiceListing() throws Exception {
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn(null);
         EasyMock.replay(req);
         TestServletController sc = new TestServletController();
         sc.setHideServiceList(true);
@@ -89,6 +93,8 @@ public class ServletControllerTest extends Assert {
     
     @Test
     public void testDifferentServiceListPath() throws Exception {
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn(null);
         req.getRequestURI();
         EasyMock.expectLastCall().andReturn("/listing");
         req.getParameter("stylesheet");
@@ -104,6 +110,84 @@ public class ServletControllerTest extends Assert {
         assertFalse(sc.invokeDestinationCalled());
     }
     
+    @Test
+    public void testGetRequestURL() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar")).times(2);
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
+    @Test
+    public void testGetRequestURLSingleMatrixParam() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar;a=b")).times(2);
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
+    @Test
+    public void testGetRequestURLMultipleMatrixParam() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar;a=b;c=d;e=f")).times(2);        
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
+    @Test
+    public void testGetRequestURLMultipleMatrixParam2() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar;a=b;c=d;e=f")).times(2);        
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar;a=b;c=d").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
+    @Test
+    public void testGetRequestURLMultipleMatrixParam3() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar;a=b;c=d;e=f")).times(2);        
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar;a=b").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
+    @Test
+    public void testGetRequestURLMultipleMatrixParam4() throws Exception {
+        req.getRequestURL();
+        EasyMock.expectLastCall().andReturn(
+            new StringBuffer("http://localhost:8080/services/bar;a=b;c=d;e=f;")).times(2);        
+        req.getPathInfo();
+        EasyMock.expectLastCall().andReturn("/bar;a=b").anyTimes();
+        EasyMock.replay(req);
+        String url = new ServletController().getBaseURL(req);
+        assertEquals("http://localhost:8080/services", url);
+        
+    }
+    
     public static class TestServletController extends ServletController {
         
         private boolean generateListCalled;
