diff --git a/distribution/src/main/release/bin/idl2wsdl.bat b/distribution/src/main/release/bin/idl2wsdl.bat
index 38b4e31c67..ef74ef2f7c 100644
--- a/distribution/src/main/release/bin/idl2wsdl.bat
+++ b/distribution/src/main/release/bin/idl2wsdl.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,7 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.IDLToWSDL %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.IDLToWSDL %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.IDLToWSDL %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/java2js.bat b/distribution/src/main/release/bin/java2js.bat
index cf9b1ce12e..1355ed1c39 100644
--- a/distribution/src/main/release/bin/java2js.bat
+++ b/distribution/src/main/release/bin/java2js.bat
@@ -30,7 +30,15 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
+
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,8 +48,11 @@ if "%JAVA_MAX_MEM%" == "" (
      set JAVA_MAX_MEM=512M
 )
 
-
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2js.JavaToJS %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2js.JavaToJS %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2js.JavaToJS %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/java2ws.bat b/distribution/src/main/release/bin/java2ws.bat
index defc3035d2..3776de9f72 100644
--- a/distribution/src/main/release/bin/java2ws.bat
+++ b/distribution/src/main/release/bin/java2ws.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,7 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2ws.JavaToWS %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2ws.JavaToWS %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.java2ws.JavaToWS %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/mc.bat b/distribution/src/main/release/bin/mc.bat
index feb13ffca4..2c1bc1a258 100644
--- a/distribution/src/main/release/bin/mc.bat
+++ b/distribution/src/main/release/bin/mc.bat
@@ -30,6 +30,13 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+
+
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
 set CXF_JAR=%CXF_HOME%\lib\cxf-manifest.jar
@@ -38,8 +45,11 @@ if "%JAVA_MAX_MEM%" == "" (
    set JAVA_MAX_MEM=512M
 )
 
-
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.management.utils.ManagementConsole %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.management.utils.ManagementConsole %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.management.utils.ManagementConsole %*
+)
 
 rem @endlocal
 
diff --git a/distribution/src/main/release/bin/wadl2java.bat b/distribution/src/main/release/bin/wadl2java.bat
index bee6bf3c50..04c932ac0a 100644
--- a/distribution/src/main/release/bin/wadl2java.bat
+++ b/distribution/src/main/release/bin/wadl2java.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,8 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
      set JAVA_MAX_MEM=512M
 )
 
-
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wadlto.WADLToJava %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wadlto.WADLToJava %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wadlto.WADLToJava %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2corba.bat b/distribution/src/main/release/bin/wsdl2corba.bat
index f2862fb54e..44d96337f9 100644
--- a/distribution/src/main/release/bin/wsdl2corba.bat
+++ b/distribution/src/main/release/bin/wsdl2corba.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,7 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.WSDLToIDL %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.WSDLToIDL %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.corba.WSDLToIDL %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2java.bat b/distribution/src/main/release/bin/wsdl2java.bat
index eb569e080f..2cbe3b3a99 100644
--- a/distribution/src/main/release/bin/wsdl2java.bat
+++ b/distribution/src/main/release/bin/wsdl2java.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,8 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM%  -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.WSDLToJava %*
+f %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM%  -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.WSDLToJava %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM%  -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.WSDLToJava %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2js.bat b/distribution/src/main/release/bin/wsdl2js.bat
index 64644dda41..096f311c94 100644
--- a/distribution/src/main/release/bin/wsdl2js.bat
+++ b/distribution/src/main/release/bin/wsdl2js.bat
@@ -30,6 +30,11 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
 set CXF_JAR=%CXF_HOME%\lib\cxf-manifest.jar
@@ -38,7 +43,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.javascript.WSDLToJavaScript %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.javascript.WSDLToJavaScript %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.wsdlto.javascript.WSDLToJavaScript %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2service.bat b/distribution/src/main/release/bin/wsdl2service.bat
index 3449d8a0b2..753232aaaa 100644
--- a/distribution/src/main/release/bin/wsdl2service.bat
+++ b/distribution/src/main/release/bin/wsdl2service.bat
@@ -30,7 +30,15 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
+
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,8 +48,11 @@ if "%JAVA_MAX_MEM%" == "" (
    set JAVA_MAX_MEM=512M
 )
 
-
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToService %*
+f %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToService %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToService %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2soap.bat b/distribution/src/main/release/bin/wsdl2soap.bat
index 470adba312..457cff56f0 100644
--- a/distribution/src/main/release/bin/wsdl2soap.bat
+++ b/distribution/src/main/release/bin/wsdl2soap.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,7 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToSoap %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToSoap %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToSoap %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdl2xml.bat b/distribution/src/main/release/bin/wsdl2xml.bat
index e088f9f4c5..849c9ddc3f 100644
--- a/distribution/src/main/release/bin/wsdl2xml.bat
+++ b/distribution/src/main/release/bin/wsdl2xml.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -40,7 +47,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToXML %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToXML %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.WSDLToXML %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/wsdlvalidator.bat b/distribution/src/main/release/bin/wsdlvalidator.bat
index cc90f173df..cb377d3e94 100644
--- a/distribution/src/main/release/bin/wsdlvalidator.bat
+++ b/distribution/src/main/release/bin/wsdlvalidator.bat
@@ -29,7 +29,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -39,7 +46,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.validator.WSDLValidator %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.validator.WSDLValidator %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.validator.WSDLValidator %*
+)
 
 @endlocal
 
diff --git a/distribution/src/main/release/bin/xsd2wsdl.bat b/distribution/src/main/release/bin/xsd2wsdl.bat
index 2d12f503b7..4a75882f25 100644
--- a/distribution/src/main/release/bin/xsd2wsdl.bat
+++ b/distribution/src/main/release/bin/xsd2wsdl.bat
@@ -30,7 +30,14 @@ if not defined CXF_HOME goto set_cxf_home
 :cont
 if not defined JAVA_HOME goto no_java_home
 
-set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+rem Retrieve java version
+for /f tokens^=2-5^ delims^=.-_+^" %%j in ('"%JAVA_HOME%\bin\java" -fullversion 2^>^&1') do (
+    if %%j==1 (set JAVA_VERSION=%%k) else (set JAVA_VERSION=%%j)
+)
+
+if %JAVA_VERSION% LSS 9 (
+    set TOOLS_JAR=%JAVA_HOME%\lib\tools.jar;
+)
 
 if not exist "%CXF_HOME%\lib\cxf-manifest.jar" goto no_cxf_jar
 
@@ -41,7 +48,11 @@ if "%JAVA_MAX_MEM%" == "" (
     set JAVA_MAX_MEM=512M
 )
 
-"%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.XSDToWSDL %*
+if %JAVA_VERSION% GTR 8 (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -cp "%CXF_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.XSDToWSDL %*
+) else (
+    "%JAVA_HOME%\bin\java" -Xmx%JAVA_MAX_MEM% -Djava.endorsed.dirs="%CXF_HOME%\lib\endorsed" -cp "%CXF_JAR%;%TOOLS_JAR%;%CLASSPATH%" -Djava.util.logging.config.file="%CXF_HOME%\etc\logging.properties" org.apache.cxf.tools.misc.XSDToWSDL %*
+)
 
 @endlocal
 
