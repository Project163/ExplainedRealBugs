diff --git a/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java b/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
index 544c74d613..bef56d91e9 100755
--- a/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
+++ b/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
@@ -37,6 +37,8 @@ import org.w3c.dom.Element;
 import org.w3c.dom.Node;
 import org.w3c.dom.NodeList;
 
+import org.xml.sax.InputSource;
+
 
 import org.apache.cxf.common.logging.LogUtils;
 import org.apache.cxf.common.util.StringUtils;
@@ -48,6 +50,7 @@ import org.apache.cxf.service.model.ServiceInfo;
 import org.apache.ws.commons.schema.XmlSchema;
 import org.apache.ws.commons.schema.XmlSchemaElement;
 import org.apache.ws.commons.schema.XmlSchemaType;
+import org.apache.ws.commons.schema.resolver.URIResolver;
 import org.apache.xmlbeans.SchemaType;
 import org.apache.xmlbeans.SchemaTypeSystem;
 import org.apache.xmlbeans.XmlAnySimpleType;
@@ -58,6 +61,8 @@ import org.apache.xmlbeans.impl.schema.BuiltinSchemaTypeSystem;
  * Walks the service model and sets up the element/type names.
  */
 class XmlBeansSchemaInitializer extends ServiceModelVisitor {
+
+
     private static final Logger LOG = LogUtils.getLogger(XmlBeansSchemaInitializer.class);
     private static final Map<Class<?>, Class<? extends XmlAnySimpleType>> CLASS_MAP 
         = new HashMap<Class<?>, Class<? extends XmlAnySimpleType>>();
@@ -97,6 +102,20 @@ class XmlBeansSchemaInitializer extends ServiceModelVisitor {
         dataBinding = db;
     }
     
+    public class XMLSchemaResolver implements URIResolver {
+        final SchemaTypeSystem sts;
+        public XMLSchemaResolver(SchemaTypeSystem sts) {
+            this.sts = sts;
+        }
+        
+        public InputSource resolveEntity(String targetNamespace, String schemaLocation, String baseUri) {
+            InputStream ins = sts.getSourceAsStream(schemaLocation);
+            if (ins != null) {
+                return new InputSource(ins);
+            }
+            return null;
+        }
+    }
 
     XmlSchema getSchema(SchemaTypeSystem sts, String file) {
         if (schemaMap.containsKey(file)) {
@@ -122,7 +141,6 @@ class XmlBeansSchemaInitializer extends ServiceModelVisitor {
                     }
                 }
             }            
-            
             XmlSchema schema = dataBinding.addSchemaDocument(serviceInfo,
                                                              schemas, 
                                                              doc, 
@@ -177,6 +195,8 @@ class XmlBeansSchemaInitializer extends ServiceModelVisitor {
             part.setProperty(SchemaType.class.getName(), st);
             
             SchemaTypeSystem sts = st.getTypeSystem();
+            schemas.getXmlSchemaCollection().setSchemaResolver(new XMLSchemaResolver(sts));
+
             XmlSchema schema = getSchema(sts, st.getSourceName());
 
             if (st.isDocumentType()) {
@@ -195,8 +215,10 @@ class XmlBeansSchemaInitializer extends ServiceModelVisitor {
                 part.setXmlSchema(sct);
                 part.setElement(false);
             }
+        } catch (RuntimeException ex) {
+            throw ex;
         } catch (Exception ex) {
-            ex.printStackTrace();
+            throw new RuntimeException(ex);
         }        
     }
     
diff --git a/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/MultipleSchemaInNSTest.java b/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/MultipleSchemaInNSTest.java
index 3000e615b2..353a7878ca 100644
--- a/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/MultipleSchemaInNSTest.java
+++ b/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/MultipleSchemaInNSTest.java
@@ -24,6 +24,7 @@ import org.w3c.dom.Node;
 import org.w3c.dom.NodeList;
 
 import org.apache.cxf.common.util.SOAPConstants;
+import org.apache.cxf.helpers.XMLUtils;
 import org.junit.Before;
 import org.junit.Test;
   
@@ -51,7 +52,7 @@ public class MultipleSchemaInNSTest extends AbstractXmlBeansTest {
 
         addNamespace("xsd", SOAPConstants.XSD);
         NodeList list = assertValid("//xsd:schema[@targetNamespace='" + ns + "']", wsdl);
-        assertEquals(3, list.getLength());
+        assertEquals(XMLUtils.toString(wsdl), 3, list.getLength());
         assertValid("//xsd:import[@namespace='" + ns + "']",
                     list.item(0));
         assertValid("//xsd:import[@namespace='" + ns + "']", list.item(0));
diff --git a/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/TestService.java b/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/TestService.java
index 6dd6556142..bd4982fda4 100644
--- a/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/TestService.java
+++ b/rt/databinding/xmlbeans/src/test/java/org/apache/cxf/xmlbeans/TestService.java
@@ -18,12 +18,16 @@
  */
 package org.apache.cxf.xmlbeans;
 
+
 import javax.jws.WebMethod;
 import javax.jws.WebParam;
 import javax.jws.WebService;
 
 import junit.framework.Assert;
 
+import com.sample.procure.PurchaseOrderDocument;
+
+
 @WebService(targetNamespace = "urn:TestService", 
             serviceName = "TestService")
 public class TestService {
@@ -43,7 +47,7 @@ public class TestService {
         fault.setFaultInfo("extra");
         throw fault;
     }
-
+    
     @WebMethod
     public ResponseDocument mixedRequest(
                                          @WebParam(name = "string") String string,
@@ -55,4 +59,9 @@ public class TestService {
         response.addNewResponse().addNewForm();
         return response;
     }
+    
+    @WebMethod
+    public void submitPO(PurchaseOrderDocument doc) {
+        
+    }
 }
diff --git a/rt/databinding/xmlbeans/src/test/xsd/included.xsd b/rt/databinding/xmlbeans/src/test/xsd/included.xsd
new file mode 100644
index 0000000000..f05d874727
--- /dev/null
+++ b/rt/databinding/xmlbeans/src/test/xsd/included.xsd
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://sample.com/procure" targetNamespace="http://sample.com/procure" elementFormDefault="qualified" attributeFormDefault="unqualified">
+   <xs:complexType name="customer">
+       <xs:sequence>
+           <xs:element name="name" type="xs:string"/>
+           <xs:element name="address" type="xs:string"/>
+       </xs:sequence>
+   </xs:complexType>
+   <xs:complexType name="shipper">
+       <xs:sequence>
+           <xs:element name="name" type="xs:string"/>
+           <xs:element name="per-ounce-rate" type="xs:decimal"/>
+       </xs:sequence>
+   </xs:complexType>
+</xs:schema>
diff --git a/rt/databinding/xmlbeans/src/test/xsd/sample.xsd b/rt/databinding/xmlbeans/src/test/xsd/sample.xsd
new file mode 100644
index 0000000000..dc9cd768ca
--- /dev/null
+++ b/rt/databinding/xmlbeans/src/test/xsd/sample.xsd
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<xs:schema     
+   xmlns:xs="http://www.w3.org/2001/XMLSchema"
+   targetNamespace="http://sample.com/procure"
+   xmlns:po="http://sample.com/procure"
+   elementFormDefault="qualified">
+   <xs:include schemaLocation="included.xsd"/>
+   <xs:element name="purchase-order">
+       <xs:complexType>
+           <xs:sequence>
+               <xs:element name="customer" type="po:customer"/>
+               <xs:element name="shipper" type="po:shipper" minOccurs="0"/>
+           </xs:sequence>
+       </xs:complexType>
+   </xs:element>
+</xs:schema>
