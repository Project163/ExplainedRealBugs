diff --git a/rt/core/src/main/java/org/apache/cxf/bus/spring/BusDefinitionParser.java b/rt/core/src/main/java/org/apache/cxf/bus/spring/BusDefinitionParser.java
index 8c19bbe7a2..3c8d13336f 100644
--- a/rt/core/src/main/java/org/apache/cxf/bus/spring/BusDefinitionParser.java
+++ b/rt/core/src/main/java/org/apache/cxf/bus/spring/BusDefinitionParser.java
@@ -79,9 +79,13 @@ public class BusDefinitionParser extends AbstractBeanDefinitionParser {
             bean.addConstructorArgValue(bus);
         } else if (!"cxf".equals(bus)) {
             bean.getRawBeanDefinition().setBeanClass(SpringBus.class);
-            bean.getRawBeanDefinition().getPropertyValues().removePropertyValue("bus");
             bean.setDestroyMethodName("shutdown");
-            element.setUserData("ID", bus, null);
+            try {
+                element.setUserData("ID", bus, null);
+                bean.getRawBeanDefinition().getPropertyValues().removePropertyValue("bus");
+            } catch (Throwable t) {
+                //likely not DOM level 3, ignore
+            }
         } else {
             addBusWiringAttribute(bean, BusWiringType.PROPERTY, bus, ctx);
             bean.getRawBeanDefinition().setAttribute(WIRE_BUS_CREATE, 
@@ -122,7 +126,12 @@ public class BusDefinitionParser extends AbstractBeanDefinitionParser {
     @Override
     protected String resolveId(Element element, AbstractBeanDefinition definition, 
                                ParserContext ctx) {
-        String bus = (String)element.getUserData("ID");
+        String bus = null;
+        try {
+            bus = (String)element.getUserData("ID");
+        } catch (Throwable t) {
+            //ignore
+        }
         if (bus == null) {
             bus = element.getAttribute("bus");        
             if (StringUtils.isEmpty(bus)) {
@@ -133,7 +142,11 @@ public class BusDefinitionParser extends AbstractBeanDefinitionParser {
             } else {
                 bus = bus + ".config";
             }
-            element.setUserData("ID", bus, null);
+            try {
+                element.setUserData("ID", bus, null);
+            } catch (Throwable t) {
+                //maybe no DOM level 3, ignore, but, may have issues with the counter 
+            }
         }
         return bus;
     }
