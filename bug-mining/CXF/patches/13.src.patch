diff --git a/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java b/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
index 37643e52d7..e32b4c9d74 100644
--- a/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
@@ -516,7 +516,15 @@ public final class StaxUtils {
                         declareNamespace = false;
                     }
                 } else {
-                    writer.writeAttribute(attrPrefix, attr.getNamespaceURI(), name, attr.getNodeValue());
+                    String attns = attr.getNamespaceURI();
+                    String value = attr.getNodeValue();
+                    if (attns == null || attns.length() == 0) {
+                        writer.writeAttribute(name, value);
+                    } else if (attrPrefix == null || attrPrefix.length() == 0) {
+                        writer.writeAttribute(attns, name, value);
+                    } else {
+                        writer.writeAttribute(attrPrefix, attns, name, value);
+                    }                    
                 }
             }
         }
