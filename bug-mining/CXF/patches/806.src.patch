diff --git a/tools/corba/src/main/java/org/apache/cxf/tools/corba/idlpreprocessor/IdlPreprocessorReader.java b/tools/corba/src/main/java/org/apache/cxf/tools/corba/idlpreprocessor/IdlPreprocessorReader.java
index 02bd2e2b9b..14ab6496e7 100644
--- a/tools/corba/src/main/java/org/apache/cxf/tools/corba/idlpreprocessor/IdlPreprocessorReader.java
+++ b/tools/corba/src/main/java/org/apache/cxf/tools/corba/idlpreprocessor/IdlPreprocessorReader.java
@@ -176,6 +176,8 @@ public final class IdlPreprocessorReader extends Reader {
                 handleIfndef(line);
             } else if (line.startsWith("#ifdef")) {
                 handleIfdef(line);
+            } else if (line.startsWith("#if")) {
+                handleIf(line);
             } else if (line.startsWith("#endif")) {
                 handleEndif(lineNo, ise);
             } else if (line.startsWith("#else")) {
@@ -254,6 +256,21 @@ public final class IdlPreprocessorReader extends Reader {
         registerIf(!isDefined);
         buf.append(LF);
     }
+    
+    private void handleIf(String line) {
+        String symbol = line.substring("#if".length()).trim();
+        boolean notSkip = true;
+        try {
+            int value = Integer.valueOf(symbol);
+            if (value == 0) {
+                notSkip = false;
+            }
+        } catch (NumberFormatException e) {
+            //do nothig
+        }
+        registerIf(!notSkip);
+        buf.append(LF);
+    }
 
     private void handleIfndef(String line) {
         String symbol = line.substring("#ifndef".length()).trim();
diff --git a/tools/corba/src/test/resources/idlpreprocessor/C-resolved.idl b/tools/corba/src/test/resources/idlpreprocessor/C-resolved.idl
index 4f5dca57ca..fc7e7b3703 100644
--- a/tools/corba/src/test/resources/idlpreprocessor/C-resolved.idl
+++ b/tools/corba/src/test/resources/idlpreprocessor/C-resolved.idl
@@ -21,6 +21,16 @@ module c
 
 
 // endif _c
+
+
+
+
+
+    const char e = 'e';
+
+
+    const char f = 'f';
+
   };
 };
 
diff --git a/tools/corba/src/test/resources/idlpreprocessor/C.idl b/tools/corba/src/test/resources/idlpreprocessor/C.idl
index f392a1f166..f9694d1010 100644
--- a/tools/corba/src/test/resources/idlpreprocessor/C.idl
+++ b/tools/corba/src/test/resources/idlpreprocessor/C.idl
@@ -20,6 +20,16 @@ module c
 #else
     const boolean c = TRUE;
 #endif  // endif _c
+
+#if 0
+    const char d = 'd';
+#endif 
+#if 1
+    const char e = 'e';
+#endif
+#if true
+    const char f = 'f';
+#endif
   };
 };
 
