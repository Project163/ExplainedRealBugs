diff --git a/api/src/main/java/org/apache/cxf/io/CachedOutputStream.java b/api/src/main/java/org/apache/cxf/io/CachedOutputStream.java
index 9823ba720a..2426abdf42 100644
--- a/api/src/main/java/org/apache/cxf/io/CachedOutputStream.java
+++ b/api/src/main/java/org/apache/cxf/io/CachedOutputStream.java
@@ -76,7 +76,7 @@ public class CachedOutputStream extends OutputStream {
     private long threshold = DEFAULT_THRESHOLD;
     private long maxSize = DEFAULT_MAX_SIZE;
 
-    private int totalLength;
+    private long totalLength;
 
     private boolean inmem;
 
@@ -259,7 +259,7 @@ public class CachedOutputStream extends OutputStream {
         IOUtils.copyAndCloseInput(in, out, bufferSize);
     }
 
-    public int size() {
+    public long size() {
         return totalLength;
     }
 
@@ -293,11 +293,11 @@ public class CachedOutputStream extends OutputStream {
         }
     }
     
-    public void writeCacheTo(StringBuilder out, int limit) throws IOException {
+    public void writeCacheTo(StringBuilder out, long limit) throws IOException {
         writeCacheTo(out, "UTF-8", limit);
     }
     
-    public void writeCacheTo(StringBuilder out, String charsetName, int limit) throws IOException {
+    public void writeCacheTo(StringBuilder out, String charsetName, long limit) throws IOException {
         flush();
         if (totalLength < limit
             || limit == -1) {
@@ -305,11 +305,11 @@ public class CachedOutputStream extends OutputStream {
             return;
         }
 
-        int count = 0;
+        long count = 0;
         if (inmem) {
             if (currentStream instanceof ByteArrayOutputStream) {
                 byte bytes[] = ((ByteArrayOutputStream)currentStream).toByteArray();
-                out.append(IOUtils.newStringFromBytes(bytes, charsetName, 0, limit));
+                out.append(IOUtils.newStringFromBytes(bytes, charsetName, 0, (int)limit));
             } else {
                 throw new IOException("Unknown format of currentStream");
             }
@@ -317,12 +317,12 @@ public class CachedOutputStream extends OutputStream {
             // read the file
             FileInputStream fin = new FileInputStream(tempFile);
             byte bytes[] = new byte[1024];
-            int x = fin.read(bytes);
+            long x = fin.read(bytes);
             while (x != -1) {
                 if ((count + x) > limit) {
                     x = limit - count;
                 }
-                out.append(IOUtils.newStringFromBytes(bytes, charsetName, 0, x));
+                out.append(IOUtils.newStringFromBytes(bytes, charsetName, 0, (int)x));
                 count += x;
 
                 if (count >= limit) {
diff --git a/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistInInterceptor.java b/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistInInterceptor.java
index cb92eff788..8da58f0395 100644
--- a/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistInInterceptor.java
+++ b/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistInInterceptor.java
@@ -59,7 +59,7 @@ public class PersistInInterceptor extends AbstractPhaseInterceptor<Message> {
                 bos.close();
 
                 exchange.setRequest(builder.toString());
-                exchange.setRequestSize(bos.size());
+                exchange.setRequestSize((int)bos.size());
 
             } catch (IOException e) {
                 throw new Fault(e);
diff --git a/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistOutInterceptor.java b/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistOutInterceptor.java
index a234c7ee1d..99eee06dda 100644
--- a/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistOutInterceptor.java
+++ b/rt/management/src/main/java/org/apache/cxf/management/interceptor/PersistOutInterceptor.java
@@ -76,7 +76,7 @@ public class PersistOutInterceptor extends AbstractPhaseInterceptor<Message> {
             try {
                 StringBuilder buffer = new StringBuilder();
                 cos.writeCacheTo(buffer, cos.size());
-                this.exchange.setResponseSize(cos.size());
+                this.exchange.setResponseSize((int)cos.size());
                 this.exchange.setResponse(buffer.toString());
             } catch (Exception ex) {
                 // ignore
diff --git a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/HTTPConduit.java b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/HTTPConduit.java
index b152636045..dce1de2d72 100644
--- a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/HTTPConduit.java
+++ b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/HTTPConduit.java
@@ -1100,8 +1100,8 @@ public class HTTPConduit
 
         message.put(KEY_HTTP_CONNECTION, connection);
 
-        if (stream != null) {
-            connection.setFixedLengthStreamingMode(stream.size());
+        if (stream != null && stream.size() < Integer.MAX_VALUE) {
+            connection.setFixedLengthStreamingMode((int)stream.size());
         }
 
         // Need to set the headers before the trust decision
diff --git a/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/persistence/RMMessage.java b/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/persistence/RMMessage.java
index 98540edda1..a20c340f1f 100644
--- a/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/persistence/RMMessage.java
+++ b/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/persistence/RMMessage.java
@@ -136,7 +136,7 @@ public class RMMessage {
      * 
      * @return
      */
-    public int getSize() {
+    public long getSize() {
         return content.size();
     }
 }
diff --git a/rt/ws/rm/src/test/java/org/apache/cxf/ws/rm/persistence/jdbc/RMTxStoreTest.java b/rt/ws/rm/src/test/java/org/apache/cxf/ws/rm/persistence/jdbc/RMTxStoreTest.java
index 130785994b..5d87daab3b 100644
--- a/rt/ws/rm/src/test/java/org/apache/cxf/ws/rm/persistence/jdbc/RMTxStoreTest.java
+++ b/rt/ws/rm/src/test/java/org/apache/cxf/ws/rm/persistence/jdbc/RMTxStoreTest.java
@@ -235,9 +235,9 @@ public class RMTxStoreTest extends Assert {
         EasyMock.expect(msg2.getMessageNumber()).andReturn(ONE); 
         byte[] bytes = new byte[89];
         EasyMock.expect(msg1.getInputStream()).andReturn(new ByteArrayInputStream(bytes));
-        EasyMock.expect(msg1.getSize()).andReturn(bytes.length);
+        EasyMock.expect(msg1.getSize()).andReturn((long)bytes.length);
         EasyMock.expect(msg2.getInputStream()).andReturn(new ByteArrayInputStream(bytes));
-        EasyMock.expect(msg2.getSize()).andReturn(bytes.length);
+        EasyMock.expect(msg2.getSize()).andReturn((long)bytes.length);
         
         control.replay();
         store.beginTransaction();
@@ -249,7 +249,7 @@ public class RMTxStoreTest extends Assert {
         control.reset();
         EasyMock.expect(msg1.getMessageNumber()).andReturn(ONE); 
         EasyMock.expect(msg1.getInputStream()).andReturn(new ByteArrayInputStream(bytes));
-        EasyMock.expect(msg1.getSize()).andReturn(bytes.length);
+        EasyMock.expect(msg1.getSize()).andReturn((long)bytes.length);
         
         control.replay();
         store.beginTransaction();
@@ -265,9 +265,9 @@ public class RMTxStoreTest extends Assert {
         EasyMock.expect(msg1.getMessageNumber()).andReturn(TEN);
         EasyMock.expect(msg2.getMessageNumber()).andReturn(TEN); 
         EasyMock.expect(msg1.getInputStream()).andReturn(new ByteArrayInputStream(bytes)); 
-        EasyMock.expect(msg1.getSize()).andReturn(bytes.length);
+        EasyMock.expect(msg1.getSize()).andReturn((long)bytes.length);
         EasyMock.expect(msg2.getInputStream()).andReturn(new ByteArrayInputStream(bytes)); 
-        EasyMock.expect(msg2.getSize()).andReturn(bytes.length);
+        EasyMock.expect(msg2.getSize()).andReturn((long)bytes.length);
         
         control.replay();
         store.beginTransaction();
@@ -655,7 +655,7 @@ public class RMTxStoreTest extends Assert {
         EasyMock.expect(msg.getTo()).andReturn(to);
         byte[] value = ("Message " + mn.longValue()).getBytes();
         EasyMock.expect(msg.getInputStream()).andReturn(new ByteArrayInputStream(value));
-        EasyMock.expect(msg.getSize()).andReturn(value.length);
+        EasyMock.expect(msg.getSize()).andReturn((long)value.length);
         
         control.replay();
         store.beginTransaction();
