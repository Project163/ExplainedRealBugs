diff --git a/common/common/src/main/java/org/apache/cxf/common/xmlschema/XmlSchemaUtils.java b/common/common/src/main/java/org/apache/cxf/common/xmlschema/XmlSchemaUtils.java
index 79ee50474c..aaa308b523 100644
--- a/common/common/src/main/java/org/apache/cxf/common/xmlschema/XmlSchemaUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/common/xmlschema/XmlSchemaUtils.java
@@ -662,7 +662,7 @@ public final class XmlSchemaUtils {
     }
 
     public static String cleanedUpSchemaSource(XmlSchemaObject subject) {
-        if (subject.getSourceURI() == null) {
+        if (subject == null || subject.getSourceURI() == null) {
             return "";
         } else {
             return subject.getSourceURI() + ":" + subject.getLineNumber(); 
diff --git a/rt/javascript/src/main/java/org/apache/cxf/javascript/Messages.properties b/rt/javascript/src/main/java/org/apache/cxf/javascript/Messages.properties
index 2ad92df668..d28e7a30eb 100644
--- a/rt/javascript/src/main/java/org/apache/cxf/javascript/Messages.properties
+++ b/rt/javascript/src/main/java/org/apache/cxf/javascript/Messages.properties
@@ -33,3 +33,4 @@ MISSING_TYPE=Type {0} is missing from the WSDL schema for element {1}. {2}
 ATTRIBUTE_DANGLING_REFERENCE=Attribute {0} refers to undefined attribute {1}.
 ELEMENT_DANGLING_REFERENCE= Element {0} refers to undefined element {1}.
 UNSUPPORTED_ATTRIBUTE_ITEM= Unsupported {0} in {1}.
+ELEMENT_WITH_NO_TYPE=Element {0} has no type.
diff --git a/rt/javascript/src/main/java/org/apache/cxf/javascript/ParticleInfo.java b/rt/javascript/src/main/java/org/apache/cxf/javascript/ParticleInfo.java
index 765c4dad69..5995580dfc 100644
--- a/rt/javascript/src/main/java/org/apache/cxf/javascript/ParticleInfo.java
+++ b/rt/javascript/src/main/java/org/apache/cxf/javascript/ParticleInfo.java
@@ -205,6 +205,12 @@ public final class ParticleInfo implements ItemInfo {
                                          ParticleInfo elementInfo) {
         elementInfo.type = element.getSchemaType();
         if (elementInfo.type == null) {
+            if (element.getSchemaTypeName() == null) {
+                Message message = new Message("ELEMENT_WITH_NO_TYPE", LOG, XmlSchemaUtils
+                                              .cleanedUpSchemaSource(elementInfo.getParticle()));
+                LOG.severe(message.toString());
+                throw new UnsupportedConstruct(message);
+            }
             if (element.getSchemaTypeName().equals(XmlSchemaConstants.ANY_TYPE_QNAME)) {
                 elementInfo.anyType = true;
             } else {
