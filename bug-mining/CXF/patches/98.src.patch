diff --git a/api/src/main/java/org/apache/cxf/phase/PhaseInterceptorChain.java b/api/src/main/java/org/apache/cxf/phase/PhaseInterceptorChain.java
index c747d1a6be..49bf2a6b0f 100644
--- a/api/src/main/java/org/apache/cxf/phase/PhaseInterceptorChain.java
+++ b/api/src/main/java/org/apache/cxf/phase/PhaseInterceptorChain.java
@@ -208,18 +208,16 @@ public class PhaseInterceptorChain implements InterceptorChain {
     @SuppressWarnings("unchecked")
     public synchronized boolean doIntercept(Message message) {
         updateIterator();
-        
+        boolean isFineLogging = LOG.isLoggable(Level.FINE);
         pausedMessage = message;
         while (state == State.EXECUTING && iterator.hasNext()) {
             try {
                 Interceptor currentInterceptor = iterator.next();
-               
-                if (LOG.isLoggable(Level.FINE)) {
+                if (isFineLogging) {
                     LOG.fine("Invoking handleMessage on interceptor " + currentInterceptor);
                 }
                 //System.out.println("-----------" + currentInterceptor);
                 currentInterceptor.handleMessage(message);
-                
             } catch (RuntimeException ex) {
                 if (!faultOccurred) {
  
@@ -324,9 +322,10 @@ public class PhaseInterceptorChain implements InterceptorChain {
     
     @SuppressWarnings("unchecked")
     private void unwind(Message message) {
+        boolean isFineLogging = LOG.isLoggable(Level.FINE);
         while (iterator.hasPrevious()) {
             Interceptor currentInterceptor = iterator.previous();
-            if (LOG.isLoggable(Level.FINE)) {
+            if (isFineLogging) {
                 LOG.fine("Invoking handleFault on interceptor " + currentInterceptor);
             }
             currentInterceptor.handleFault(message);
diff --git a/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletTransportFactory.java b/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletTransportFactory.java
index 6bf1518805..f3de21e687 100644
--- a/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletTransportFactory.java
+++ b/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/ServletTransportFactory.java
@@ -105,8 +105,9 @@ public class ServletTransportFactory extends AbstractHTTPTransportFactory
             if (controller != null
                 && !StringUtils.isEmpty(controller.getLastBaseURL())) {
                 String ad = d.getEndpointInfo().getAddress();
-                if (ad.equals(path)
-                    || ad.equals(controller.getLastBaseURL() + path)) {
+                if (ad != null 
+                    && (ad.equals(path)
+                    || ad.equals(controller.getLastBaseURL() + path))) {
                     d.getEndpointInfo().setAddress(controller.getLastBaseURL() + path);
                     if (d.getEndpointInfo().getExtensor(AddressType.class) != null) {
                         d.getEndpointInfo().getExtensor(AddressType.class)
diff --git a/rt/ws/security/pom.xml b/rt/ws/security/pom.xml
index 07690a5939..17e9b2faa2 100644
--- a/rt/ws/security/pom.xml
+++ b/rt/ws/security/pom.xml
@@ -74,6 +74,14 @@
                     <groupId>bouncycastle</groupId>
                     <artifactId>bcprov-jdk15</artifactId>
                 </exclusion>
+		<exclusion>
+		    <groupId>bouncycastle</groupId>
+		    <artifactId>bcprov-jdk13</artifactId>
+		</exclusion>
+		<exclusion>
+		    <groupId>bouncycastle</groupId>
+		    <artifactId>bcprov-jdk14</artifactId>
+		</exclusion>
                 <exclusion>
                     <groupId>xerces</groupId>
                     <artifactId>xercesImpl</artifactId>
diff --git a/systests/src/test/java/org/apache/cxf/systest/servlet/CXFServletTest.java b/systests/src/test/java/org/apache/cxf/systest/servlet/CXFServletTest.java
index 423e5a81e9..c2af68e62c 100644
--- a/systests/src/test/java/org/apache/cxf/systest/servlet/CXFServletTest.java
+++ b/systests/src/test/java/org/apache/cxf/systest/servlet/CXFServletTest.java
@@ -22,6 +22,9 @@ package org.apache.cxf.systest.servlet;
 import java.util.HashSet;
 import java.util.Set;
 
+import javax.jws.WebService;
+import javax.xml.ws.Endpoint;
+
 import org.w3c.dom.Document;
 
 import com.meterware.httpunit.GetMethodWebRequest;
@@ -197,4 +200,19 @@ public class CXFServletTest extends AbstractServletTest {
         assertTrue("the xsd should contain the completType SimpleStruct",
                    text.contains("<complexType name=\"SimpleStruct\">"));
     }
+    
+    
+    @Test
+    public void testGetBinding() throws Exception {
+        Endpoint ep = Endpoint.create("http://schemas.xmlsoap.org/wsdl/soap/http", new HelloImpl());
+        System.out.println(ep.getBinding().getClass());
+    }
+
+    @WebService(name = "Hello", portName = "HelloPort",
+                serviceName = "HelloService", targetNamespace = "http://cxf.apache.org/hello")
+    public static class HelloImpl {
+        public String hello(String name) {
+            return "Hello " + name;
+        }
+    }
 }
