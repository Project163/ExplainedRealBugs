diff --git a/api/src/main/java/org/apache/cxf/staxutils/transform/InTransformReader.java b/api/src/main/java/org/apache/cxf/staxutils/transform/InTransformReader.java
index 89a8ed5a9f..3a359b58ee 100644
--- a/api/src/main/java/org/apache/cxf/staxutils/transform/InTransformReader.java
+++ b/api/src/main/java/org/apache/cxf/staxutils/transform/InTransformReader.java
@@ -306,6 +306,8 @@ public class InTransformReader extends DepthXMLStreamReader {
         String actualNs = nsMap.get(ns);
         if (actualNs != null) {
             return actualNs;
+        } else if (ns.equals(reader.getNamespaceURI())) {
+            return getNamespaceURI();
         } else {
             return ns;
         }
@@ -320,6 +322,8 @@ public class InTransformReader extends DepthXMLStreamReader {
             } else {
                 return "";
             }
+        } else if (ns.equals(reader.getNamespaceURI())) {
+            return getPrefix();
         } else {
             return namespaceContext.getPrefix(ns);
         }
diff --git a/api/src/main/java/org/apache/cxf/staxutils/transform/OutTransformWriter.java b/api/src/main/java/org/apache/cxf/staxutils/transform/OutTransformWriter.java
index 0573566c7d..e68b840aa5 100644
--- a/api/src/main/java/org/apache/cxf/staxutils/transform/OutTransformWriter.java
+++ b/api/src/main/java/org/apache/cxf/staxutils/transform/OutTransformWriter.java
@@ -108,11 +108,13 @@ public class OutTransformWriter extends DelegatingXMLStreamWriter {
         
         if (defaultNamespace != null && defaultNamespace.equals(uri)) {
             super.writeDefaultNamespace(uri);
+            namespaceContext.addPrefix("", uri);
         } else {
             if (prefix.length() == 0) {
                 prefix = namespaceContext.findUniquePrefix(uri);
             }
             super.writeNamespace(prefix, uri);
+            namespaceContext.addPrefix(prefix, uri);
         }
         writtenUris.get(0).add(uri);
     }
@@ -135,7 +137,7 @@ public class OutTransformWriter extends DelegatingXMLStreamWriter {
             return;
         }
         super.writeDefaultNamespace(uri);
-
+        namespaceContext.addPrefix("", uri);
         writtenUris.get(0).add(uri);
     }
 
@@ -363,13 +365,13 @@ public class OutTransformWriter extends DelegatingXMLStreamWriter {
                 namespaceContext.addPrefix(prefix, qname.getNamespaceURI());    
             }
             
-        }
+        } 
         if (isDefaultNamespaceRedefined(qname.getNamespaceURI())) {
             prefix = "";
         }
-        
         super.writeStartElement(prefix, qname.getLocalPart(), qname.getNamespaceURI());
-        if (writeNs) {
+        if (writeNs 
+            || !qname.getNamespaceURI().equals(namespaceContext.getNamespaceURI(prefix))) {
             this.writeNamespace(prefix, qname.getNamespaceURI());
         }
     }
diff --git a/api/src/main/java/org/apache/cxf/staxutils/transform/TransformUtils.java b/api/src/main/java/org/apache/cxf/staxutils/transform/TransformUtils.java
index 377913cb7b..28dc8eb3c9 100644
--- a/api/src/main/java/org/apache/cxf/staxutils/transform/TransformUtils.java
+++ b/api/src/main/java/org/apache/cxf/staxutils/transform/TransformUtils.java
@@ -97,7 +97,8 @@ public final class TransformUtils {
                 QName lname = XMLUtils.convertStringToQName(entry.getKey());
                 QName rname = XMLUtils.convertStringToQName(entry.getValue());
                 elementsMap.put(lname, rname);
-                if (nsMap != null && !isEmptyQName(rname)) {
+                if (nsMap != null && !isEmptyQName(rname)
+                    && ("*".equals(lname.getLocalPart()) && "*".equals(rname.getLocalPart()))) {
                     nsMap.put(lname.getNamespaceURI(), rname.getNamespaceURI());
                 }
             }
diff --git a/api/src/test/java/org/apache/cxf/staxutils/resources/complexReq5.xml b/api/src/test/java/org/apache/cxf/staxutils/resources/complexReq5.xml
new file mode 100644
index 0000000000..8ffddfa7d0
--- /dev/null
+++ b/api/src/test/java/org/apache/cxf/staxutils/resources/complexReq5.xml
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements. See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership. The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License. You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied. See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
+ <soap:Header/>
+  <soap:Body>
+    <ns2:subscribeResponse xmlns="http://cxf.apache.org/vgop/serviceorder/v1_0/common" xmlns:ns2="http://cxf.apache.org/vgop/serviceorder/v1_0">
+     <ns2:SubscribeResp>
+      <result xmlns="">0</result>
+     </ns2:SubscribeResp>
+   </ns2:subscribeResponse>
+  </soap:Body>
+</soap:Envelope>
diff --git a/api/src/test/java/org/apache/cxf/staxutils/resources/complexReqIn5.xml b/api/src/test/java/org/apache/cxf/staxutils/resources/complexReqIn5.xml
new file mode 100644
index 0000000000..1e8e916820
--- /dev/null
+++ b/api/src/test/java/org/apache/cxf/staxutils/resources/complexReqIn5.xml
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements. See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership. The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License. You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied. See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
+ <soap:Header/>
+  <soap:Body>
+    <ns2:subscribeResponse xmlns="http://cxf.apache.org/vgop/serviceorder/v1_0/common" xmlns:ns2="http://cxf.apache.org/vgop/serviceorder/v1_0">
+     <ns2:SubscribeResp>
+      <ns2:result>0</ns2:result>
+     </ns2:SubscribeResp>
+   </ns2:subscribeResponse>
+  </soap:Body>
+</soap:Envelope>
diff --git a/api/src/test/java/org/apache/cxf/staxutils/transform/OutTransformWriterTest.java b/api/src/test/java/org/apache/cxf/staxutils/transform/OutTransformWriterTest.java
index 3501bb81e6..d8532eb1e3 100644
--- a/api/src/test/java/org/apache/cxf/staxutils/transform/OutTransformWriterTest.java
+++ b/api/src/test/java/org/apache/cxf/staxutils/transform/OutTransformWriterTest.java
@@ -115,9 +115,9 @@ public class OutTransformWriterTest extends Assert {
         String xmlPI = "<?xml version='1.0' encoding='UTF-8'?>";
         String start = "<testBean xmlns=\"http://testbeans.com/v2\"";
         String expected1 = xmlPI + start
-            + " xmlns:ps2=\"http://testbeans.com/v3\"><ps2:bean/></testBean>";
+            + " xmlns:ps1=\"http://testbeans.com/v3\"><ps1:bean/></testBean>";
         String expected2 = xmlPI + start
-            + "><ps2:bean xmlns:ps2=\"http://testbeans.com/v3\"/></testBean>";
+            + "><ps1:bean xmlns:ps1=\"http://testbeans.com/v3\"/></testBean>";
         String out = os.toString();
         assertTrue("Output \"" + out + "\" does not match expected values",
                 expected1.equals(out) || expected2.equals(out));
@@ -285,6 +285,20 @@ public class OutTransformWriterTest extends Assert {
         TransformTestUtils.verifyReaders(reader2, reader, true, false);
     }
 
+    @Test
+    public void testRemoveOneNamespace() throws Exception {
+        Map<String, String> inMap = new HashMap<String, String>();
+        inMap.put("{http://www.chinamobile.com/vgop/serviceorder/v1_0}result", "result"); 
+        XMLStreamReader reader = 
+            TransformTestUtils.createOutTransformedStreamReader("../resources/complexReqIn5.xml", 
+                                                                inMap, null, null, null, false, null);
+        
+        XMLStreamReader reader2 = 
+            StaxUtils.createXMLStreamReader(
+                InTransformReader.class.getResourceAsStream("../resources/complexReq5.xml"));
+        TransformTestUtils.verifyReaders(reader2, reader, true, true);
+    }
+    
     @Test
     public void testReadWithReplaceAppend() throws Exception {
         Map<String, String> transformElements = new HashMap<String, String>();
