diff --git a/tools/common/src/main/java/org/apache/cxf/tools/util/ClassCollector.java b/tools/common/src/main/java/org/apache/cxf/tools/util/ClassCollector.java
index f19140ee07..4800f20d9d 100644
--- a/tools/common/src/main/java/org/apache/cxf/tools/util/ClassCollector.java
+++ b/tools/common/src/main/java/org/apache/cxf/tools/util/ClassCollector.java
@@ -82,6 +82,19 @@ public class ClassCollector {
         return typesClassNames.get(key(packagename, type));
     }
 
+    public boolean containsTypeIgnoreCase(String packagename, String type) {
+        String key = key(packagename, type);
+        if (typesClassNames.containsKey(key)) {
+            //try the common fast case first
+            return true;
+        }
+        for (String s : typesClassNames.keySet()) {
+            if (key.equalsIgnoreCase(s)) {
+                return true;
+            }
+        }
+        return false;
+    }
     private String key(String packagename, String type) {
         return packagename + "#" + type;
     }
diff --git a/tools/wsdlto/databinding/jaxb/src/main/java/org/apache/cxf/tools/wsdlto/databinding/jaxb/ClassNameAllocatorImpl.java b/tools/wsdlto/databinding/jaxb/src/main/java/org/apache/cxf/tools/wsdlto/databinding/jaxb/ClassNameAllocatorImpl.java
index da9178fb64..6adc2dd8d7 100644
--- a/tools/wsdlto/databinding/jaxb/src/main/java/org/apache/cxf/tools/wsdlto/databinding/jaxb/ClassNameAllocatorImpl.java
+++ b/tools/wsdlto/databinding/jaxb/src/main/java/org/apache/cxf/tools/wsdlto/databinding/jaxb/ClassNameAllocatorImpl.java
@@ -20,7 +20,6 @@
 package org.apache.cxf.tools.wsdlto.databinding.jaxb;
 
 import com.sun.tools.xjc.api.ClassNameAllocator;
-import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.tools.util.ClassCollector;
 
 public class ClassNameAllocatorImpl implements ClassNameAllocator {
@@ -46,12 +45,9 @@ public class ClassNameAllocatorImpl implements ClassNameAllocator {
         String fullPckClass = packageName + "." + fullClzName;
         
         if (autoResolveConflicts) {
-            String t2 = collector.getTypesFullClassName(packageName, className);
             int cnt = 1;
-            while (!StringUtils.isEmpty(t2)) {
-                
+            while (collector.containsTypeIgnoreCase(packageName, className + (cnt == 1 ? "" : cnt))) {
                 cnt++;
-                t2 = collector.getTypesFullClassName(packageName, className + cnt);
             }
             if (cnt != 1) {
                 className = className + cnt;
