diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java
index 0af3f9502f..791ec60acb 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java
@@ -382,23 +382,20 @@ public abstract class AbstractClient implements Client, Retryable {
         state.setResponseBuilder(currentResponseBuilder);
         return rb;
     }
-    protected <T> void writeBody(T o, Message outMessage, Type type, Annotation[] anns,
-                                 MultivaluedMap<String, Object> headers, OutputStream os) {
-        @SuppressWarnings("unchecked")
-        Class<T> cls = (Class<T>)o.getClass();
-        writeBody(o, outMessage, cls, type, anns, headers, os);
-    }       
-    protected <T> void writeBody(T o, Message outMessage, Class<T> cls, Type type, Annotation[] anns, 
+    
+    protected <T> void writeBody(T o, Message outMessage, Class<?> cls, Type type, Annotation[] anns, 
         MultivaluedMap<String, Object> headers, OutputStream os) {
         
         if (o == null) {
             return;
         }
+        @SuppressWarnings("unchecked")
+        Class<T> theClass = (Class<T>)cls;
         
         MediaType contentType = MediaType.valueOf(headers.getFirst("Content-Type").toString()); 
         
         MessageBodyWriter<T> mbw = ProviderFactory.getInstance(outMessage)
-            .createMessageBodyWriter(cls, type, anns, contentType, outMessage);
+            .createMessageBodyWriter(theClass, type, anns, contentType, outMessage);
         if (mbw != null) {
             try {
                 mbw.writeTo(o, cls, type, anns, contentType, headers, os);
diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/ClientProxyImpl.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/ClientProxyImpl.java
index 039d541782..bbf09bd471 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/ClientProxyImpl.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/ClientProxyImpl.java
@@ -633,10 +633,11 @@ public class ClientProxyImpl extends AbstractClient implements
             try {
                 if (bodyIndex != -1) {
                     writeBody(body, outMessage,
+                              method.getParameterTypes()[bodyIndex],
                               method.getGenericParameterTypes()[bodyIndex],
                               anns, headers, os);
                 } else {
-                    writeBody(body, outMessage, body.getClass(), 
+                    writeBody(body, outMessage, body.getClass(), body.getClass(), 
                               anns, headers, os);
                 }
             } catch (Exception ex) {
diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/WebClient.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/WebClient.java
index 1df8907b2b..92e253152d 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/WebClient.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/client/WebClient.java
@@ -64,6 +64,7 @@ import org.apache.cxf.phase.Phase;
  *
  */
 public class WebClient extends AbstractClient {
+    private static final String REQUEST_CLASS = "request.class";
     private static final String REQUEST_TYPE = "request.type";
     private static final String RESPONSE_CLASS = "response.class";
     private static final String RESPONSE_TYPE = "response.type";
@@ -344,6 +345,20 @@ public class WebClient extends AbstractClient {
         return responseClass.cast(responseClass == Response.class ? r : r.getEntity());
     }
     
+    /**
+     * Does HTTP invocation and returns types response object 
+     * @param httpMethod HTTP method 
+     * @param body request body, can be null
+     * @param requestClass request body class
+     * @param responseClass expected type of response object
+     * @return typed object, can be null. Response status code and headers 
+     *         can be obtained too, see Client.getResponse()
+     */
+    public <T> T invoke(String httpMethod, Object body, Class<?> requestClass, Class<T> responseClass) {
+        Response r = doInvoke(httpMethod, body, requestClass, null, responseClass, responseClass);
+        return responseClass.cast(responseClass == Response.class ? r : r.getEntity());
+    }
+    
     /**
      * Does HTTP POST invocation and returns typed response object
      * @param body request body, can be null
@@ -694,8 +709,21 @@ public class WebClient extends AbstractClient {
         return (WebClient)super.reset();
     }
     
-    protected Response doInvoke(String httpMethod, Object body, Type inGenericType,
-                                Class<?> responseClass, Type outGenericType) {
+    protected Response doInvoke(String httpMethod, 
+                                Object body, 
+                                Type inGenericType,
+                                Class<?> responseClass, 
+                                Type outGenericType) {
+        return doInvoke(httpMethod, body, body == null ? null : body.getClass(), inGenericType, 
+            responseClass, outGenericType);
+    }
+    
+    protected Response doInvoke(String httpMethod, 
+                                Object body, 
+                                Class<?> requestClass,
+                                Type inGenericType,
+                                Class<?> responseClass, 
+                                Type outGenericType) {
         
         MultivaluedMap<String, String> headers = getHeaders();
         boolean contentTypeNotSet = headers.getFirst(HttpHeaders.CONTENT_TYPE) == null;
@@ -712,7 +740,7 @@ public class WebClient extends AbstractClient {
             headers.putSingle(HttpHeaders.ACCEPT, MediaType.APPLICATION_XML_TYPE.toString());
         }
         resetResponse();
-        Response r = doChainedInvocation(httpMethod, headers, body, inGenericType, 
+        Response r = doChainedInvocation(httpMethod, headers, body, requestClass, inGenericType, 
                                          responseClass, outGenericType, null, null);
         if (r.getStatus() >= 400 && responseClass != Response.class) {
             throw new ServerWebApplicationException(r);
@@ -729,16 +757,18 @@ public class WebClient extends AbstractClient {
         
         Map<String, Object> reqContext = CastUtils.cast((Map<?, ?>)invContext.get(REQUEST_CONTEXT));
         String httpMethod = (String)reqContext.get(Message.HTTP_REQUEST_METHOD);
+        Class<?> requestClass = (Class<?>)reqContext.get(REQUEST_CLASS);
         Type inType = (Type)reqContext.get(REQUEST_TYPE);
         Class<?> respClass = (Class<?>)reqContext.get(RESPONSE_CLASS);
         Type outType = (Type)reqContext.get(RESPONSE_TYPE);
-        return doChainedInvocation(httpMethod, headers, body, inType, 
+        return doChainedInvocation(httpMethod, headers, body, requestClass, inType, 
                                    respClass, outType, exchange, invContext);
     }
     //CHECKSTYLE:OFF
     protected Response doChainedInvocation(String httpMethod, 
                                            MultivaluedMap<String, String> headers, 
                                            Object body, 
+                                           Class<?> requestClass,
                                            Type inGenericType,
                                            Class<?> responseClass, 
                                            Type outGenericType,
@@ -751,6 +781,7 @@ public class WebClient extends AbstractClient {
         
         Map<String, Object> reqContext = getRequestContext(m);
         reqContext.put(Message.HTTP_REQUEST_METHOD, httpMethod);
+        reqContext.put(REQUEST_CLASS, requestClass);
         reqContext.put(REQUEST_TYPE, inGenericType);
         reqContext.put(RESPONSE_CLASS, responseClass);
         reqContext.put(RESPONSE_TYPE, outGenericType);
@@ -843,12 +874,16 @@ public class WebClient extends AbstractClient {
             Object body = objs.get(0);
             
             Map<String, Object> requestContext = WebClient.this.getRequestContext(outMessage);
-            Type type = null;
+            Class<?> requestClass = null;
+            Type requestType = null;
             if (requestContext != null) {
-                type = (Type)requestContext.get(REQUEST_TYPE);
+                requestClass = (Class<?>)requestContext.get(REQUEST_CLASS);
+                requestType = (Type)requestContext.get(REQUEST_TYPE);
             }
             try {
-                writeBody(body, outMessage, type == null ? body.getClass() : type, 
+                writeBody(body, outMessage, 
+                          requestClass == null ? body.getClass() : requestClass,
+                          requestType == null ? body.getClass() : requestType, 
                           new Annotation[]{}, headers, os);
                 if (os != null) {
                     os.flush();
diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/interceptor/JAXRSOutInterceptor.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/interceptor/JAXRSOutInterceptor.java
index df3af71535..e927c67170 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/interceptor/JAXRSOutInterceptor.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/interceptor/JAXRSOutInterceptor.java
@@ -207,8 +207,8 @@ public class JAXRSOutInterceptor extends AbstractOutDatabindingInterceptor {
                 ? ori.getMethodToInvoke() : ori.getAnnotatedMethod();
         }
         
-        Class<?> targetType = getRawResponseClass(responseObj);
-        Type genericType = getGenericResponseType(ori == null ? null : invoked, responseObj, targetType);
+        Class<?> targetType = getRawResponseClass(invoked, responseObj);
+        Type genericType = getGenericResponseType(invoked, responseObj, targetType);
         if (genericType instanceof TypeVariable) {
             genericType = InjectionUtils.getSuperType(ori.getClassResourceInfo().getServiceClass(), 
                                                        (TypeVariable<?>)genericType);
@@ -432,11 +432,14 @@ public class JAXRSOutInterceptor extends AbstractOutDatabindingInterceptor {
         
     }
     
-    private Class<?> getRawResponseClass(Object targetObject) {
+    private Class<?> getRawResponseClass(Method invoked, Object targetObject) {
         if (GenericEntity.class.isAssignableFrom(targetObject.getClass())) {
             return ((GenericEntity<?>)targetObject).getRawType();
         } else {
-            return ClassHelper.getRealClassFromClass(targetObject.getClass());
+            Class<?> targetClass = targetObject.getClass();
+            Class<?> responseClass = invoked == null 
+                || !invoked.getReturnType().isAssignableFrom(targetClass) ? targetClass : invoked.getReturnType(); 
+            return ClassHelper.getRealClassFromClass(responseClass);
         }
     }
     
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStoreSpring.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStoreSpring.java
index 679995db03..38574b2af1 100644
--- a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStoreSpring.java
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStoreSpring.java
@@ -80,6 +80,21 @@ public class BookStoreSpring {
         return new Books(books.get(id));
     }
     
+    @GET
+    @Path("/books/xsitype")
+    @Produces("application/xml")
+    public Book getBookXsiType() {
+        return new SuperBook("SuperBook", 999L);
+    }
+    
+    @POST
+    @Path("/books/xsitype")
+    @Produces("application/xml")
+    @Consumes("application/xml")
+    public Book postGetBookXsiType(Book book) {
+        return book;
+    }
+    
     @GET
     @Path("/books/{id}")
     @Produces({"application/json", "application/vnd.example-com.foo+json" })
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
index 47fe339f1b..42bb44c86d 100644
--- a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
@@ -311,6 +311,45 @@ public class JAXRSClientServerSpringBookTest extends AbstractBusClientServerTest
         
     }
     
+    @Test
+    public void testGetBookXsiType() throws Exception {
+        String address = "http://localhost:" + PORT + "/the/thebooksxsi/bookstore/books/xsitype";
+        WebClient wc = WebClient.create(address);
+        wc.accept("application/xml");
+        Book book = wc.get(Book.class);
+        assertEquals("SuperBook", book.getName());
+        
+    }
+    
+    @Test
+    public void testPostBookXsiType() throws Exception {
+        String address = "http://localhost:" + PORT + "/the/thebooksxsi/bookstore/books/xsitype";
+        JAXBElementProvider<Book> provider = new JAXBElementProvider<Book>();
+        provider.setExtraClass(new Class[]{SuperBook.class});
+        provider.setJaxbElementClassNames(Collections.singletonList(Book.class.getName()));
+        WebClient wc = WebClient.create(address, Collections.singletonList(provider));
+        wc.accept("application/xml");
+        wc.type("application/xml");
+        SuperBook book = new SuperBook("SuperBook2", 999L);
+        Book book2 = wc.invoke("POST", book, Book.class, Book.class);
+        assertEquals("SuperBook2", book2.getName());
+        
+    }
+    
+    @Test
+    public void testPostBookXsiTypeProxy() throws Exception {
+        String address = "http://localhost:" + PORT + "/the/thebooksxsi/bookstore";
+        JAXBElementProvider<Book> provider = new JAXBElementProvider<Book>();
+        provider.setExtraClass(new Class[]{SuperBook.class});
+        provider.setJaxbElementClassNames(Collections.singletonList(Book.class.getName()));
+        BookStoreSpring bookStore = JAXRSClientFactory.create(address, BookStoreSpring.class, 
+                                                              Collections.singletonList(provider));
+        SuperBook book = new SuperBook("SuperBook2", 999L);
+        Book book2 = bookStore.postGetBookXsiType(book);
+        assertEquals("SuperBook2", book2.getName());
+        
+    }
+    
     @Test
     public void testGetBookWithEncodedQueryValue() throws Exception {
         String endpointAddress =
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/SuperBook.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/SuperBook.java
new file mode 100644
index 0000000000..ae853b8356
--- /dev/null
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/SuperBook.java
@@ -0,0 +1,35 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.systest.jaxrs;
+
+import javax.xml.bind.annotation.XmlRootElement;
+
+
+@XmlRootElement(name = "SuperBook")
+public class SuperBook extends Book {
+    
+    public SuperBook() {
+        
+    }
+    
+    public SuperBook(String name, long id) {
+        super(name, id);
+    }
+}
diff --git a/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml b/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
index 03248a90b4..7f680ca360 100644
--- a/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
+++ b/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
@@ -88,6 +88,19 @@ http://cxf.apache.org/schemas/core.xsd">
     </jaxrs:features>    
   </jaxrs:server>
   
+  <jaxrs:server id="booksxsi"
+		        address="/thebooksxsi/bookstore">
+    <jaxrs:serviceBeans>
+      <ref bean="serviceBean" />
+    </jaxrs:serviceBeans>		  
+    <jaxrs:providers>
+       <ref bean="jaxbProviderXsi"/>
+    </jaxrs:providers> 
+    <jaxrs:features>
+       <cxf:logging/>
+    </jaxrs:features>    
+  </jaxrs:server>
+  
   <jaxrs:server id="bookservice4"
 		        address="/thebooks4/bookstore">
     <jaxrs:serviceBeans>
@@ -239,6 +252,18 @@ http://cxf.apache.org/schemas/core.xsd">
       <property name="schemaHandler" ref="schemaHolder"/>
   </bean>
   
+  <util:list id="jaxbClasses">
+    <value>org.apache.cxf.systest.jaxrs.Book</value>
+  </util:list>
+  <bean id="jaxbProviderXsi" class="org.apache.cxf.jaxrs.provider.JAXBElementProvider">
+      <property name="jaxbElementClassNames" ref="jaxbClasses"/>
+      <property name="extraClass">
+         <list>
+           <value>org.apache.cxf.systest.jaxrs.SuperBook</value>
+         </list>
+      </property>
+  </bean>
+  
   <bean id="schemaHolder" class="org.apache.cxf.jaxrs.utils.schemas.SchemaHandler">
       <property name="schemas" ref="theSchemas"/>
   </bean>
