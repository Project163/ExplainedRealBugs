diff --git a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AbstractJAXBProvider.java b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AbstractJAXBProvider.java
index b2131287fd..c81a316ed1 100644
--- a/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AbstractJAXBProvider.java
+++ b/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/provider/AbstractJAXBProvider.java
@@ -358,8 +358,10 @@ public abstract class AbstractJAXBProvider extends AbstractConfigurableProvider
             JAXBContext context = packageContexts.get(packageName);
             if (context == null) {
                 try {
-                    context = JAXBContext.newInstance(packageName, type.getClassLoader(), cProperties);
-                    packageContexts.put(packageName, context);
+                    if (type.getClassLoader() != null) { 
+                        context = JAXBContext.newInstance(packageName, type.getClassLoader(), cProperties);
+                        packageContexts.put(packageName, context);
+                    }
                 } catch (JAXBException ex) {
                     LOG.fine("Error creating a JAXBContext using ObjectFactory : " 
                                 + ex.getMessage());
@@ -447,7 +449,7 @@ public abstract class AbstractJAXBProvider extends AbstractConfigurableProvider
             } else {
                 Type[] types = InjectionUtils.getActualTypes(adapter.value().getGenericSuperclass());
                 if (types != null && types.length == 2) {
-                    theType = (Class)types[0];
+                    theType = InjectionUtils.getActualType(types[0]);
                 }
             }
         }
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStore.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStore.java
index 4724587e35..b0078d4da8 100644
--- a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStore.java
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/BookStore.java
@@ -25,12 +25,16 @@ import java.io.InputStream;
 import java.io.OutputStream;
 import java.net.URI;
 import java.net.URL;
+import java.util.ArrayList;
 import java.util.Calendar;
+import java.util.Collections;
 import java.util.GregorianCalendar;
 import java.util.HashMap;
+import java.util.HashSet;
 import java.util.List;
 import java.util.Locale;
 import java.util.Map;
+import java.util.Set;
 
 import javax.annotation.PostConstruct;
 import javax.annotation.PreDestroy;
@@ -453,6 +457,17 @@ public class BookStore {
         return new BookInfo(doGetBook("123"));
     }
     
+    @POST
+    @Path("/books/adapter-list")
+    @XmlJavaTypeAdapter(BookInfoAdapterList.class)
+    public Set<Book> getBookAdapterList(Set<Book> collection) 
+        throws Exception {
+        if (collection.size() != 1) {
+            throw new WebApplicationException(400);
+        }
+        return Collections.singleton(doGetBook(Long.toString(collection.iterator().next().getId())));
+    }
+    
     @GET
     @Path("/books/interface/adapter")
     public BookInfoInterface getBookAdapter2() throws Exception {
@@ -805,6 +820,18 @@ public class BookStore {
         }
     }
     
+    public static class BookInfoAdapterList extends XmlAdapter<List<Book>, Set<Book>> {
+
+        public List marshal(Set<Book> set) throws Exception {
+            return new ArrayList<Book>(set);
+        }
+
+        public Set<Book> unmarshal(List<Book> list) throws Exception {
+            return new HashSet<Book>(list);
+        }
+        
+    }
+    
     public static class BookInfoAdapter extends XmlAdapter<Book, BookInfo> {
 
         @Override
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerBookTest.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerBookTest.java
index 9a8f13d793..43a0cca72e 100644
--- a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerBookTest.java
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerBookTest.java
@@ -26,7 +26,9 @@ import java.net.URLConnection;
 import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Collections;
+import java.util.HashMap;
 import java.util.List;
+import java.util.Map;
 
 import javax.ws.rs.core.MultivaluedMap;
 import javax.ws.rs.core.Response;
@@ -45,8 +47,10 @@ import org.apache.cxf.jaxrs.client.JAXRSClientFactory;
 import org.apache.cxf.jaxrs.client.JAXRSClientFactoryBean;
 import org.apache.cxf.jaxrs.client.WebClient;
 import org.apache.cxf.jaxrs.ext.xml.XMLSource;
+import org.apache.cxf.jaxrs.provider.JAXBElementProvider;
 import org.apache.cxf.jaxrs.provider.XSLTJaxbProvider;
 import org.apache.cxf.testutil.common.AbstractBusClientServerTestBase;
+import org.apache.cxf.transport.http.HTTPConduit;
 
 import org.junit.BeforeClass;
 import org.junit.Ignore;
@@ -652,6 +656,25 @@ public class JAXRSClientServerBookTest extends AbstractBusClientServerTestBase {
                                "application/xml", 200);
     }
     
+    @Test
+    public void testPostGetBookAdapterList() throws Exception {
+        JAXBElementProvider provider = new JAXBElementProvider();
+        Map<String, String> outMap = new HashMap<String, String>();
+        outMap.put("Books", "CollectionWrapper");
+        outMap.put("books", "Book");
+        provider.setOutTransformElements(outMap);
+        WebClient wc = WebClient.create("http://localhost:" + PORT + "/bookstore/books/adapter-list",
+                                        Collections.singletonList(provider));
+        
+        HTTPConduit conduit = WebClient.getConfig(wc).getHttpConduit();
+        conduit.getClient().setReceiveTimeout(1000000);
+        conduit.getClient().setConnectionTimeout(1000000);
+        Collection<? extends Book> books = wc.type("application/xml").accept("application/xml")
+            .postAndGetCollection(new Books(new Book("CXF", 123L)), Book.class);
+        assertEquals(1, books.size());
+        assertEquals(123L, books.iterator().next().getId());
+    }
+    
     @Test
     public void testGetBookAdapterInterface() throws Exception {
         getAndCompareAsStrings("http://localhost:" + PORT + "/bookstore/books/interface/adapter",
