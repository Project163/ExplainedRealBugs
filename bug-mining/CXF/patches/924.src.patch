diff --git a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/client.vm b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/client.vm
index 5d98adf7cb..0efea1723a 100644
--- a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/client.vm
+++ b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/client.vm
@@ -61,7 +61,7 @@ public final class ${clientClassName} {
 #if ($mark-generated == "true")
     @Generated(value = "org.apache.cxf.tools.wsdlto.WSDLToJava", date = "$currentdate")
 #end
-    public static void main(String args[]) throws Exception {
+    public static void main(String args[]) throws java.lang.Exception {
         URL wsdlURL = ${service.Name}.WSDL_LOCATION;
         if (args.length > 0) { 
             File wsdlFile = new File(args[0]);
diff --git a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/server.vm b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/server.vm
index 9ef921aaeb..6a1192db6f 100644
--- a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/server.vm
+++ b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/template/server.vm
@@ -37,7 +37,7 @@ public class ${serverClassName}{
 #if ($mark-generated == "true")
     @Generated(value = "org.apache.cxf.tools.wsdlto.WSDLToJava", date = "$currentdate")
 #end
-    protected ${serverClassName}() throws Exception {
+    protected ${serverClassName}() throws java.lang.Exception {
         System.out.println("Starting Server");
         Object implementor = new ${impl}();
         String address = "${address}";
@@ -47,7 +47,7 @@ public class ${serverClassName}{
 #if ($mark-generated == "true")
     @Generated(value = "org.apache.cxf.tools.wsdlto.WSDLToJava", date = "$currentdate")
 #end
-    public static void main(String args[]) throws Exception { 
+    public static void main(String args[]) throws java.lang.Exception { 
         new ${serverClassName}();
         System.out.println("Server ready..."); 
         
diff --git a/tools/wsdlto/test/src/test/java/org/apache/cxf/tools/wsdlto/jaxws/CodeGenBugTest.java b/tools/wsdlto/test/src/test/java/org/apache/cxf/tools/wsdlto/jaxws/CodeGenBugTest.java
index 8fa55817f3..6c562e96b5 100644
--- a/tools/wsdlto/test/src/test/java/org/apache/cxf/tools/wsdlto/jaxws/CodeGenBugTest.java
+++ b/tools/wsdlto/test/src/test/java/org/apache/cxf/tools/wsdlto/jaxws/CodeGenBugTest.java
@@ -1177,8 +1177,9 @@ public class CodeGenBugTest extends AbstractCodeGenTest {
     }
     
     @Test
-    public void testCXF3353() throws Exception {
+    public void testCXF3353andCXF3491() throws Exception {
         try {
+            env.put(ToolConstants.CFG_ALL, "all");
             env.put(ToolConstants.CFG_COMPILE, "compile");
             env.put(ToolConstants.CFG_OUTPUTDIR, output.getCanonicalPath());
             env.put(ToolConstants.CFG_CLASSDIR, output.getCanonicalPath() + "/classes");
