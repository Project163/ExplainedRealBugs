diff --git a/common/common/src/main/java/org/apache/cxf/helpers/IOUtils.java b/common/common/src/main/java/org/apache/cxf/helpers/IOUtils.java
index 3c8a560d13..f4f1e6e5a6 100644
--- a/common/common/src/main/java/org/apache/cxf/helpers/IOUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/helpers/IOUtils.java
@@ -235,6 +235,30 @@ public final class IOUtils {
         in.close();
         return bout.createInputStream();
     }
+    
+    public static void consume(InputStream in) throws IOException {
+        int i = in.available();
+        if (i == 0) {
+            //if i is 0, then we MAY have already hit the end of the stream
+            //so try a read and return rather than allocate a buffer and such 
+            int i2 = in.read();
+            if (i2 == -1) {
+                return;
+            }
+            //reading the byte may have caused a buffer to fill
+            i = in.available();
+        }
+        if (i < DEFAULT_BUFFER_SIZE) {
+            i = DEFAULT_BUFFER_SIZE;
+        }
+        if (i > 65536) {
+            i = 65536;
+        }
+        byte bytes[] = new byte[i];
+        while (in.read(bytes) != -1) {
+            //nothing - just discarding
+        }
+    }
 
     public static byte[] readBytesFromStream(InputStream in) throws IOException {
         int i = in.available();
diff --git a/rt/core/src/main/java/org/apache/cxf/attachment/DelegatingInputStream.java b/rt/core/src/main/java/org/apache/cxf/attachment/DelegatingInputStream.java
index 43d2cfc941..31b8da2256 100644
--- a/rt/core/src/main/java/org/apache/cxf/attachment/DelegatingInputStream.java
+++ b/rt/core/src/main/java/org/apache/cxf/attachment/DelegatingInputStream.java
@@ -23,6 +23,8 @@ package org.apache.cxf.attachment;
 import java.io.IOException;
 import java.io.InputStream;
 
+import org.apache.cxf.helpers.IOUtils;
+
 public class DelegatingInputStream extends InputStream {
     private InputStream is;
     private AttachmentDeserializer deserializer;
@@ -42,10 +44,7 @@ public class DelegatingInputStream extends InputStream {
 
     @Override
     public void close() throws IOException {
-        int x = is.read();
-        while (x != -1) {
-            x = is.read();
-        }
+        IOUtils.consume(is);
         is.close();
         if (!isClosed && deserializer != null) {
             deserializer.markClosed(this);
