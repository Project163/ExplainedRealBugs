diff --git a/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java b/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
index 414dfb5bc8..d2141e124e 100755
--- a/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
+++ b/rt/databinding/xmlbeans/src/main/java/org/apache/cxf/xmlbeans/XmlBeansSchemaInitializer.java
@@ -24,6 +24,7 @@ import java.io.InputStream;
 import java.lang.reflect.Field;
 import java.math.BigDecimal;
 import java.math.BigInteger;
+import java.net.URI;
 import java.util.Calendar;
 import java.util.Date;
 import java.util.HashMap;
@@ -130,9 +131,12 @@ class XmlBeansSchemaInitializer extends ServiceModelVisitor {
             Element elem = DOMUtils.getFirstElement(doc.getDocumentElement());
             while (elem != null) {
                 if (elem.getLocalName().equals("import")) {
+                    URI uri = new URI(file);
                     String loc = elem.getAttribute("schemaLocation");
                     if (!StringUtils.isEmpty(loc)) {
-                        getSchema(sts, loc);
+                        URI locUri = uri.resolve(loc);
+                        String newLoc = locUri.toString();
+                        getSchema(sts, newLoc);
                     }
                 }                 
                 elem = DOMUtils.getNextElement(elem);
diff --git a/tools/common/src/main/java/org/apache/cxf/tools/common/ClassUtils.java b/tools/common/src/main/java/org/apache/cxf/tools/common/ClassUtils.java
index b941fb8f48..1153d9f433 100644
--- a/tools/common/src/main/java/org/apache/cxf/tools/common/ClassUtils.java
+++ b/tools/common/src/main/java/org/apache/cxf/tools/common/ClassUtils.java
@@ -64,7 +64,12 @@ public class ClassUtils {
             argList.add(getClass().getClassLoader().getResource(".").getFile() + "../lib/");
         } else {
             argList.add("-classpath");
-            argList.add(javaClasspath);
+            if (context.get(ToolConstants.CFG_OUTPUTDIR) != null) { 
+                argList.add(javaClasspath + File.pathSeparatorChar 
+                            + context.get(ToolConstants.CFG_OUTPUTDIR));
+            } else {
+                argList.add(javaClasspath);
+            }
         }
 
         String outPutDir = (String)context.get(ToolConstants.CFG_OUTPUTDIR);
