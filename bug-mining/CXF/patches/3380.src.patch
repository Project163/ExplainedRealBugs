diff --git a/systests/wsdl_maven/java2ws/pom.xml b/systests/wsdl_maven/java2ws/pom.xml
index 73e55c66cd..edc87322c9 100644
--- a/systests/wsdl_maven/java2ws/pom.xml
+++ b/systests/wsdl_maven/java2ws/pom.xml
@@ -69,6 +69,24 @@
                             <goal>java2ws</goal>
                         </goals>
                     </execution>
+                    <execution>
+                        <id>process-classes2</id>
+                        <phase>process-classes</phase>
+                        <configuration>
+                            <fork>${cxf.codegenplugin.forkmode}</fork>
+                            <additionalJvmArgs>${cxf.codegen.jvmArgs}</additionalJvmArgs>
+                            <className>org.apache.cxf.systests.java2ws.HelloWorldArgs</className>
+                            <genWsdl>true</genWsdl>
+                            <verbose>true</verbose>
+                            <classifier>test</classifier>
+                            <attachWsdl>true</attachWsdl>
+                            <genWrapperbean>true</genWrapperbean>
+                            <argline>-s ./target/generated-sources</argline>
+                        </configuration>
+                        <goals>
+                            <goal>java2ws</goal>
+                        </goals>
+                    </execution>
                 </executions>
             </plugin>
         </plugins>
diff --git a/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/HelloWorldArgs.java b/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/HelloWorldArgs.java
new file mode 100644
index 0000000000..84f0b8d10a
--- /dev/null
+++ b/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/HelloWorldArgs.java
@@ -0,0 +1,35 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.systests.java2ws;
+
+import java.util.Date;
+
+import javax.jws.WebParam;
+import javax.jws.WebService;
+
+import org.apache.cxf.annotations.WSDLDocumentation;
+
+@WebService
+@WSDLDocumentation(value = "A simple service with only one method")
+public interface HelloWorldArgs {
+    @WSDLDocumentation(value = "Simply return the given text")
+    String sayHi(@WebParam(name = "text") String text, @WebParam(name = "date") Date date,
+                 StringWrapper[][] wrapper);
+}
diff --git a/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/StringWrapper.java b/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/StringWrapper.java
new file mode 100644
index 0000000000..15415792df
--- /dev/null
+++ b/systests/wsdl_maven/java2ws/src/main/java/org/apache/cxf/systests/java2ws/StringWrapper.java
@@ -0,0 +1,32 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.systests.java2ws;
+
+public class StringWrapper {
+    private String value;
+
+    public String getValue() {
+        return value;
+    }
+
+    public void setValue(String value) {
+        this.value = value;
+    }
+}
\ No newline at end of file
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
index db343bf069..41a6869e50 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
@@ -182,7 +182,7 @@ public class Wrapper {
         if (clz == null || clz.isPrimitive()) {
             return true;
         }
-        return "java.lang".equals(clz.getPackage().getName());
+        return clz.getPackage() != null && "java.lang".equals(clz.getPackage().getName());
     }
 
     protected List<JavaField> buildFields() {
