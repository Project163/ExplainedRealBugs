diff --git a/api/src/main/java/org/apache/cxf/wsdl/JAXBExtensionHelper.java b/api/src/main/java/org/apache/cxf/wsdl/JAXBExtensionHelper.java
index f9271df846..02b1766e55 100644
--- a/api/src/main/java/org/apache/cxf/wsdl/JAXBExtensionHelper.java
+++ b/api/src/main/java/org/apache/cxf/wsdl/JAXBExtensionHelper.java
@@ -110,7 +110,10 @@ public class JAXBExtensionHelper implements ExtensionSerializer, ExtensionDeseri
                 String ns = elAnnot.namespace();
                 if (StringUtils.isEmpty(ns)
                     || "##default".equals(ns)) {
-                    XmlSchema schema = cls.getPackage().getAnnotation(XmlSchema.class);
+                    XmlSchema schema = null;
+                    if (cls.getPackage() != null) {
+                        schema = cls.getPackage().getAnnotation(XmlSchema.class);
+                    }
                     if (schema != null) {
                         ns = schema.namespace();
                     }
diff --git a/common/common/src/main/java/org/apache/cxf/configuration/spring/AbstractBeanDefinitionParser.java b/common/common/src/main/java/org/apache/cxf/configuration/spring/AbstractBeanDefinitionParser.java
index 5e677c24be..96e38eb553 100644
--- a/common/common/src/main/java/org/apache/cxf/configuration/spring/AbstractBeanDefinitionParser.java
+++ b/common/common/src/main/java/org/apache/cxf/configuration/spring/AbstractBeanDefinitionParser.java
@@ -38,6 +38,7 @@ import org.w3c.dom.NodeList;
 
 import org.apache.cxf.common.logging.LogUtils;
 import org.apache.cxf.common.util.CacheMap;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.helpers.DOMUtils;
 import org.apache.cxf.staxutils.StaxUtils;
 import org.springframework.beans.factory.BeanDefinitionStoreException;
@@ -254,8 +255,8 @@ public abstract class AbstractBeanDefinitionParser
         JAXBContext context = null;
         try {
             String pkg = getJaxbPackage();
-            if (null != c && c.getPackage() != null) {
-                pkg = c.getPackage().getName();
+            if (null != c) {
+                pkg = PackageUtils.getPackageName(c);
             }
             context = packageContextCache.get(pkg);
             if (context == null) {
diff --git a/parent/pom.xml b/parent/pom.xml
index 2c90d1a080..3c11a657dd 100644
--- a/parent/pom.xml
+++ b/parent/pom.xml
@@ -51,7 +51,7 @@
         <saaj.impl.version>1.3</saaj.impl.version>
         <spring.version>2.0.8</spring.version>
         <spring.mock>spring-mock</spring.mock>
-        <wsdl4j.version>1.6.1</wsdl4j.version>
+        <wsdl4j.version>1.6.2</wsdl4j.version>
         <derby.version>10.2.2.0</derby.version>
         <activemq.version>4.1.1</activemq.version>
         <rhino.version>1.6R7</rhino.version>
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/ServiceImpl.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/ServiceImpl.java
index 8ee9970b68..74f02dd4c0 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/ServiceImpl.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/ServiceImpl.java
@@ -51,6 +51,7 @@ import org.apache.cxf.BusException;
 import org.apache.cxf.binding.BindingFactoryManager;
 import org.apache.cxf.common.i18n.Message;
 import org.apache.cxf.common.logging.LogUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.configuration.Configurer;
 import org.apache.cxf.databinding.DataBinding;
@@ -488,8 +489,8 @@ public class ServiceImpl extends ServiceDelegate {
         }
 
         String tns = webService.targetNamespace();
-        if (tns.length() == 0 && seiClass.getPackage() != null) {
-            tns = URIParserUtil.getNamespace(seiClass.getPackage().getName());
+        if (tns.length() == 0) {
+            tns = URIParserUtil.getNamespace(PackageUtils.getPackageName(seiClass));
         }
 
         return new QName(tns, name);
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
index d4ddc632e3..4c55a5cd69 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
@@ -41,6 +41,7 @@ import javax.xml.ws.Holder;
 
 import org.apache.cxf.common.logging.LogUtils;
 import org.apache.cxf.common.util.ASMHelper;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.helpers.JavaUtils;
 import org.apache.cxf.jaxb.JAXBUtils;
@@ -70,11 +71,8 @@ public final class WrapperClassGenerator extends ASMHelper {
     }
 
     private String getPackageName(Method method) {
-        Package pkg = method.getDeclaringClass().getPackage();
-        if (pkg == null) {
-            return ToolConstants.DEFAULT_PACKAGE_NAME;
-        }
-        return pkg.getName();
+        String pkg = PackageUtils.getPackageName(method.getDeclaringClass());
+        return pkg.length() == 0 ? ToolConstants.DEFAULT_PACKAGE_NAME : pkg;
     }
 
     private Annotation[] getMethodParameterAnnotations(final MessagePartInfo mpi) {
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/WrapperHelper.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/WrapperHelper.java
index 0ae2cbe973..65c3e09155 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/WrapperHelper.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/WrapperHelper.java
@@ -29,6 +29,7 @@ import java.util.List;
 import javax.xml.bind.JAXBElement;
 import javax.xml.bind.annotation.XmlElement;
 
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.helpers.CastUtils;
 import org.apache.cxf.interceptor.Fault;
 import org.apache.cxf.jaxb.JAXBUtils;
@@ -54,7 +55,7 @@ public abstract class WrapperHelper {
         List<Field> fields = new ArrayList<Field>(partNames.size());
         
         Method allMethods[] = wrapperType.getMethods();
-        String packageName = wrapperType.getName().substring(0, wrapperType.getName().lastIndexOf("."));
+        String packageName = PackageUtils.getPackageName(wrapperType);
         
         //if wrappertype class is generated by ASM,getPackage() always return null
         if (wrapperType.getPackage() != null) {
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsImplementorInfo.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsImplementorInfo.java
index f0e1a2852a..3193748954 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsImplementorInfo.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsImplementorInfo.java
@@ -223,12 +223,8 @@ public class JaxWsImplementorInfo {
     }
 
     private String getDefaultNamespace(Class clazz) {
-        Package pkg = clazz.getPackage();
-        if (pkg == null) {
-            return "http://unknown.namespace/";
-        } else {
-            return PackageUtils.getNamespace(pkg.getName());
-        }
+        String pkg = PackageUtils.getNamespace(PackageUtils.getPackageName(clazz));
+        return StringUtils.isEmpty(pkg) ? "http://unknown.namespace/" : pkg;
     }
         
     private String getWSInterfaceName(Class<?> implClz) {
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
index 4fde4595ac..bddd4ae4ef 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
@@ -53,6 +53,7 @@ import javax.xml.ws.soap.SOAPBinding;
 import org.apache.cxf.binding.AbstractBindingFactory;
 import org.apache.cxf.common.classloader.ClassLoaderUtils;
 import org.apache.cxf.common.logging.LogUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.databinding.source.SourceDataBinding;
 import org.apache.cxf.endpoint.Endpoint;
@@ -351,7 +352,7 @@ public class JaxWsServiceFactoryBean extends ReflectionServiceFactoryBean {
         try {
             if (java.rmi.ServerException.class.isAssignableFrom(exClass)
                 || java.rmi.RemoteException.class.isAssignableFrom(exClass)
-                || "javax.xml.ws".equals(exClass.getPackage().getName())) {
+                || "javax.xml.ws".equals(PackageUtils.getPackageName(exClass))) {
                 return null;
             }
 
diff --git a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/spring/HttpConduitBeanDefinitionParser.java b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/spring/HttpConduitBeanDefinitionParser.java
index 2f5c5d47c4..d885f64483 100644
--- a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/spring/HttpConduitBeanDefinitionParser.java
+++ b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/spring/HttpConduitBeanDefinitionParser.java
@@ -28,6 +28,7 @@ import org.w3c.dom.Node;
 import org.w3c.dom.NodeList;
 
 import org.apache.cxf.common.classloader.ClassLoaderUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.configuration.jsse.TLSClientParameters;
 import org.apache.cxf.configuration.jsse.spring.TLSClientParametersConfig;
 import org.apache.cxf.configuration.security.AuthorizationPolicy;
@@ -106,7 +107,7 @@ public class HttpConduitBeanDefinitionParser
         // the configured TLSClientParameters into the HTTPConduit.
         JAXBContext context = null;
         try {
-            context = JAXBContext.newInstance(TLSClientParametersType.class.getPackage().getName(), 
+            context = JAXBContext.newInstance(PackageUtils.getPackageName(TLSClientParametersType.class), 
                     getClass().getClassLoader());
             Unmarshaller u = context.createUnmarshaller();
             JAXBElement<TLSClientParametersType> jaxb = 
diff --git a/rt/ws/addr/src/main/java/org/apache/cxf/ws/addressing/VersionTransformer.java b/rt/ws/addr/src/main/java/org/apache/cxf/ws/addressing/VersionTransformer.java
index 2e2c33cf3a..f6108f1ac0 100644
--- a/rt/ws/addr/src/main/java/org/apache/cxf/ws/addressing/VersionTransformer.java
+++ b/rt/ws/addr/src/main/java/org/apache/cxf/ws/addressing/VersionTransformer.java
@@ -36,6 +36,7 @@ import org.w3c.dom.Document;
 // importation convention: if the same class name is used for 
 // 2005/08 and 2004/08, then the former version is imported
 // and the latter is fully qualified when used
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.helpers.XMLUtils;
 import org.apache.cxf.staxutils.W3CDOMStreamReader;
 import org.apache.cxf.ws.addressing.v200408.AttributedQName;
@@ -45,7 +46,6 @@ import org.apache.cxf.ws.addressing.v200408.Relationship;
 import org.apache.cxf.ws.addressing.v200408.ServiceNameType;
 import org.apache.cxf.wsdl.EndpointReferenceUtils;
 
-
 /**
  * This class is responsible for transforming between the native 
  * WS-Addressing schema version (i.e. 2005/08) and exposed
@@ -386,7 +386,7 @@ public class VersionTransformer {
                 if (jaxbContext == null) {
                     Class clz = org.apache.cxf.ws.addressing.v200408.ObjectFactory.class;
                     jaxbContext =
-                        JAXBContext.newInstance(clz.getPackage().getName(),
+                        JAXBContext.newInstance(PackageUtils.getPackageName(clz),
                                                 clz.getClassLoader());
                 }
             }
diff --git a/rt/ws/policy/src/main/java/org/apache/cxf/ws/policy/attachment/external/EndpointReferenceDomainExpressionBuilder.java b/rt/ws/policy/src/main/java/org/apache/cxf/ws/policy/attachment/external/EndpointReferenceDomainExpressionBuilder.java
index 657007fc4c..869d78a063 100644
--- a/rt/ws/policy/src/main/java/org/apache/cxf/ws/policy/attachment/external/EndpointReferenceDomainExpressionBuilder.java
+++ b/rt/ws/policy/src/main/java/org/apache/cxf/ws/policy/attachment/external/EndpointReferenceDomainExpressionBuilder.java
@@ -33,6 +33,7 @@ import org.w3c.dom.Element;
 
 import org.apache.cxf.common.i18n.BundleUtils;
 import org.apache.cxf.common.i18n.Message;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.ws.addressing.EndpointReferenceType;
 import org.apache.cxf.ws.policy.PolicyException;
 
@@ -90,7 +91,8 @@ public class EndpointReferenceDomainExpressionBuilder implements DomainExpressio
         
         try {
             Class clz = EndpointReferenceType.class;
-            JAXBContext context = JAXBContext.newInstance(clz.getPackage().getName(), clz.getClassLoader());
+            String pkg = PackageUtils.getPackageName(clz);
+            JAXBContext context = JAXBContext.newInstance(pkg, clz.getClassLoader());
             unmarshaller = context.createUnmarshaller();
         } catch (JAXBException ex) {
             throw new PolicyException(new Message("EPR_DOMAIN_EXPRESSION_BUILDER_INIT_EXC", BUNDLE, 
diff --git a/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/RMEndpoint.java b/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/RMEndpoint.java
index 6d493d6703..9383f0852f 100644
--- a/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/RMEndpoint.java
+++ b/rt/ws/rm/src/main/java/org/apache/cxf/ws/rm/RMEndpoint.java
@@ -37,6 +37,7 @@ import org.apache.cxf.binding.soap.SoapVersion;
 import org.apache.cxf.binding.soap.model.SoapBindingInfo;
 import org.apache.cxf.binding.soap.model.SoapOperationInfo;
 import org.apache.cxf.common.logging.LogUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.databinding.DataBinding;
 import org.apache.cxf.endpoint.Endpoint;
 import org.apache.cxf.interceptor.Interceptor;
@@ -247,7 +248,7 @@ public class RMEndpoint {
         try {
             JAXBContext ctx =
                 JAXBContext.newInstance(
-                    CreateSequenceType.class.getPackage().getName(),
+                    PackageUtils.getPackageName(CreateSequenceType.class),
                     CreateSequenceType.class.getClassLoader());
             dataBinding = new JAXBDataBinding(ctx);
         } catch (JAXBException e) {
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2ws/util/JavaFirstUtil.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2ws/util/JavaFirstUtil.java
index 25398242c1..4d6b0c455a 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2ws/util/JavaFirstUtil.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2ws/util/JavaFirstUtil.java
@@ -23,6 +23,7 @@ import java.lang.reflect.Method;
 import java.lang.reflect.ParameterizedType;
 import java.lang.reflect.Type;
 
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.service.factory.ReflectionServiceFactoryBean;
 import org.apache.cxf.service.model.InterfaceInfo;
 import org.apache.cxf.service.model.OperationInfo;
@@ -68,11 +69,8 @@ public final class JavaFirstUtil {
             jreturn.setStyle(Style.OUT);
             jm.setReturn(jreturn);
 
-            if (m.getDeclaringClass().getPackage() != null) {
-                javaInf.setPackageName(m.getDeclaringClass().getPackage().getName());
-            } else {
-                javaInf.setPackageName(ToolConstants.DEFAULT_PACKAGE_NAME);
-            }
+            String pkg = PackageUtils.getPackageName(m.getDeclaringClass());
+            javaInf.setPackageName(pkg.length() == 0 ? ToolConstants.DEFAULT_PACKAGE_NAME : pkg);
             javaInf.addMethod(jm);
             javaInf.setName(inf.getName().getLocalPart());
 
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/WSDLGeneratorFactory.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/WSDLGeneratorFactory.java
index c802b298be..d42b65133e 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/WSDLGeneratorFactory.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/WSDLGeneratorFactory.java
@@ -19,6 +19,7 @@
 
 package org.apache.cxf.tools.java2wsdl.generator;
 
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.tools.common.ToolException;
 import org.apache.cxf.wsdl.WSDLConstants;
 
@@ -34,7 +35,7 @@ public final class WSDLGeneratorFactory {
     }
 
     protected String getGeneratorClassName() {
-        String pkgName = getClass().getPackage().getName();
+        String pkgName = PackageUtils.getPackageName(getClass());
         return pkgName + "." + wsdlVersion.toString().toLowerCase() + "." + wsdlVersion + "Generator";
     }
 
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/wsdl11/FaultBeanGenerator.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/wsdl11/FaultBeanGenerator.java
index f19c98cce2..92166ddbcf 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/wsdl11/FaultBeanGenerator.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/generator/wsdl11/FaultBeanGenerator.java
@@ -27,21 +27,22 @@ import java.util.HashSet;
 import java.util.Set;
 import javax.wsdl.Fault;
 
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.service.model.OperationInfo;
 import org.apache.cxf.service.model.ServiceInfo;
 import org.apache.cxf.tools.common.ToolConstants;
 import org.apache.cxf.tools.common.model.JavaClass;
 import org.apache.cxf.tools.java2wsdl.processor.internal.jaxws.FaultBean;
 
-
 public final class FaultBeanGenerator extends BeanGenerator {
 
     private String getSEIPackage(final Method method) {
-        Package pkg = method.getDeclaringClass().getPackage();
-        if (pkg == null) {
+        String pkg = PackageUtils.getPackageName(method.getDeclaringClass());
+        if (pkg.length() == 0) {
             return ToolConstants.DEFAULT_PACKAGE_NAME;
+        } else {
+            return pkg;
         }
-        return pkg.getName();
     }
     
     protected Collection<JavaClass> generateBeanClasses(final ServiceInfo serviceInfo) {
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/FaultBean.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/FaultBean.java
index b879eb1038..bac8b7f383 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/FaultBean.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/FaultBean.java
@@ -27,6 +27,7 @@ import java.util.TreeMap;
 import javax.xml.namespace.QName;
 import javax.xml.ws.WebFault;
 
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.tools.common.ToolConstants;
 import org.apache.cxf.tools.common.model.JavaClass;
@@ -64,13 +65,14 @@ public final class FaultBean {
         }
 
         buildBeanFields(exceptionClass, jClass);
-
-        if (exceptionClass.getPackage() != null) {
-            jClass.setElementName(new QName(URIParserUtil.getNamespace(exceptionClass.getPackage().getName()),
+        
+        String pkg = PackageUtils.getPackageName(exceptionClass);
+        if (pkg.length() > 0) {
+            jClass.setElementName(new QName(URIParserUtil.getNamespace(pkg),
                                         exceptionClass.getSimpleName()));
         } else {
             jClass.setElementName(new QName(URIParserUtil.getNamespace(ToolConstants.DEFAULT_PACKAGE_NAME),
-                                            exceptionClass.getSimpleName()));
+                                        exceptionClass.getSimpleName()));
         }
         jClass.annotate(new WrapperBeanAnnotator());
         
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/JAXWSFrontEndProcessor.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/JAXWSFrontEndProcessor.java
index 6ac40d2e16..c2917d7331 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/JAXWSFrontEndProcessor.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/JAXWSFrontEndProcessor.java
@@ -32,6 +32,7 @@ import javax.jws.WebService;
 
 import org.apache.cxf.common.i18n.Message;
 import org.apache.cxf.common.logging.LogUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.service.factory.ReflectionServiceFactoryBean;
 import org.apache.cxf.service.model.EndpointInfo;
 import org.apache.cxf.service.model.InterfaceInfo;
@@ -125,11 +126,8 @@ public class JAXWSFrontEndProcessor implements Processor {
             jreturn.setStyle(Style.OUT);
             jm.setReturn(jreturn);
 
-            if (m.getDeclaringClass().getPackage() != null) {
-                javaInf.setPackageName(m.getDeclaringClass().getPackage().getName());
-            } else {
-                javaInf.setPackageName(ToolConstants.DEFAULT_PACKAGE_NAME);
-            }
+            String pkg = PackageUtils.getPackageName(m.getDeclaringClass());
+            javaInf.setPackageName(pkg.length() > 0 ? pkg : ToolConstants.DEFAULT_PACKAGE_NAME);
             javaInf.addMethod(jm);
             javaInf.setName(inf.getName().getLocalPart());
 
diff --git a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
index 5b34023848..716ad0bdc2 100644
--- a/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
+++ b/tools/javato/ws/src/main/java/org/apache/cxf/tools/java2wsdl/processor/internal/jaxws/Wrapper.java
@@ -28,6 +28,7 @@ import javax.xml.namespace.QName;
 
 import org.apache.cxf.common.i18n.Message;
 import org.apache.cxf.common.logging.LogUtils;
+import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.service.model.OperationInfo;
 import org.apache.cxf.tools.common.ToolConstants;
@@ -133,11 +134,8 @@ public class Wrapper {
     }
 
     protected String getPackageName(final Method m) {
-        Package pkg = m.getDeclaringClass().getPackage();
-        if (pkg == null) {
-            return ToolConstants.DEFAULT_PACKAGE_NAME;
-        }
-        return pkg.getName();
+        String pkg = PackageUtils.getPackageName(m.getDeclaringClass());
+        return pkg.length() == 0 ? ToolConstants.DEFAULT_PACKAGE_NAME : pkg;
     }
 
     public boolean isWrapperAbsent() {
