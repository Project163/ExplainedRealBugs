diff --git a/tools/corba/src/main/java/org/apache/cxf/tools/corba/processors/idl/AttributeVisitor.java b/tools/corba/src/main/java/org/apache/cxf/tools/corba/processors/idl/AttributeVisitor.java
index 39093073d5..8f32454beb 100644
--- a/tools/corba/src/main/java/org/apache/cxf/tools/corba/processors/idl/AttributeVisitor.java
+++ b/tools/corba/src/main/java/org/apache/cxf/tools/corba/processors/idl/AttributeVisitor.java
@@ -19,6 +19,8 @@
 
 package org.apache.cxf.tools.corba.processors.idl;
 
+import java.util.HashMap;
+import java.util.Map;
 import javax.wsdl.Binding;
 import javax.wsdl.BindingInput;
 import javax.wsdl.BindingOperation;
@@ -49,8 +51,13 @@ import org.apache.ws.commons.schema.XmlSchemaElement;
 import org.apache.ws.commons.schema.XmlSchemaSequence;
 import org.apache.ws.commons.schema.XmlSchemaType;
 
+
+
 public class AttributeVisitor extends VisitorBase {
 
+    private static Map<String, String> duplicateTypeTrackerMap = new HashMap<String, String>();
+//    private static Map<String, String> duplicateMessageTrackerMap = new HashMap<String, String>();
+
     private static final String GETTER_PREFIX     = "_get_";
     private static final String SETTER_PREFIX     = "_set_";
     private static final String RESULT_POSTFIX    = "Result";
@@ -240,10 +247,20 @@ public class AttributeVisitor extends VisitorBase {
         XmlSchemaComplexType complex = new XmlSchemaComplexType(schema, false);
         complex.setParticle(sequence);
 
+        QName qName = new QName(definition.getTargetNamespace(), name);
+
         XmlSchemaElement result = new XmlSchemaElement(schema, true);
-        result.setName(name);
         result.setSchemaType(complex);
 
+        if (duplicateTypeTrackerMap.containsKey(qName.toString())) {
+            result.setName(getScope().toString() + "." + name);
+            qName = new QName(definition.getTargetNamespace(), getScope().toString() + "." + name);
+        } else {
+            result.setName(name);
+        }
+
+        duplicateTypeTrackerMap.put(qName.toString(), name);
+
         return result;
     }
 
@@ -253,10 +270,17 @@ public class AttributeVisitor extends VisitorBase {
         part.setElementName(element.getQName());
 
         Message result = definition.createMessage();
-        result.setQName(new QName(definition.getTargetNamespace(), name));
+
+        QName qName = new QName(definition.getTargetNamespace(), name);
+        if (definition.getMessage(qName) != null) {
+            String newName = getScope().toString() + "." + name;
+            qName = new QName(definition.getTargetNamespace(), newName);
+        }
+
+
+        result.setQName(qName);
         result.addPart(part);
         result.setUndefined(false);
-
         definition.addMessage(result);
 
         return result;
diff --git a/tools/corba/src/test/java/org/apache/cxf/tools/corba/IDLToWSDLTest.java b/tools/corba/src/test/java/org/apache/cxf/tools/corba/IDLToWSDLTest.java
index 352c9201fb..36a43e88e0 100644
--- a/tools/corba/src/test/java/org/apache/cxf/tools/corba/IDLToWSDLTest.java
+++ b/tools/corba/src/test/java/org/apache/cxf/tools/corba/IDLToWSDLTest.java
@@ -360,5 +360,22 @@ public class IDLToWSDLTest extends ToolTestBase {
         assertEquals("IDLToWSDL Failed", noError, exc);
         doTestGeneratedWsdl(expected, actual);
     }
-    
+
+    public void testDuplicateTypeGeneration() throws Exception {
+        File input = new File(getClass().getResource("/idl/duplicateAttribute.idl").toURI());
+        File expected =
+            new File(getClass().getResource("/idl/expected_duplicateAttribute.wsdl").toURI());
+
+        String[] args = new String[] {"-ow", "duplicateAttribute.wsdl",
+                                      "-o", output.toString(),
+                                      "-verbose",
+                                      input.toString()
+        };
+        int exc = execute(args);
+        File actual = new File(output, "duplicateAttribute.wsdl");
+
+        assertEquals("IDLToWSDL Failed", noError, exc);
+        doTestGeneratedWsdl(expected, actual);
+    }
+
 }
diff --git a/tools/corba/src/test/resources/idl/duplicateAttribute.idl b/tools/corba/src/test/resources/idl/duplicateAttribute.idl
new file mode 100644
index 0000000000..125466b3a3
--- /dev/null
+++ b/tools/corba/src/test/resources/idl/duplicateAttribute.idl
@@ -0,0 +1,17 @@
+
+module testDuplicateAttribute {
+
+    interface Filter {
+        readonly attribute string filter_string;
+
+        void store_filter(in string myfilter);
+        string retrieve_filter(in long id);
+    };
+    
+    interface MapFilter {
+        readonly attribute string filter_string;
+        
+        void store_map_filter(in string myfilter);
+        string retrieve_map_filter(in long  id);
+    };
+};
diff --git a/tools/corba/src/test/resources/idl/expected_duplicateAttribute.wsdl b/tools/corba/src/test/resources/idl/expected_duplicateAttribute.wsdl
new file mode 100644
index 0000000000..3710ae86d9
--- /dev/null
+++ b/tools/corba/src/test/resources/idl/expected_duplicateAttribute.wsdl
@@ -0,0 +1,256 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<wsdl:definitions targetNamespace="http://cxf.apache.org/bindings/corba/idl/duplicateAttribute" xmlns:corba="http://cxf.apache.org/bindings/corba" xmlns:tns="http://cxf.apache.org/bindings/corba/idl/duplicateAttribute" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
+  <corba:typeMapping targetNamespace="http://cxf.apache.org/bindings/corba/idl/duplicateAttribute/typemap"/>
+  <wsdl:types>
+    <xs:schema attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://cxf.apache.org/bindings/corba/idl/duplicateAttribute" xmlns="http://cxf.apache.org/bindings/corba/idl/duplicateAttribute" xmlns:xs="http://www.w3.org/2001/XMLSchema">
+      <xs:element name="_get_filter_string">
+        <xs:complexType>
+          <xs:sequence>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="_get_filter_stringResult">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="return" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="store_filter">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="myfilter" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="store_filterResponse">
+        <xs:complexType>
+          <xs:sequence>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="retrieve_filter">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="id" type="xs:int">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="retrieve_filterResponse">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="return" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="testDuplicateAttribute.MapFilter._get_filter_string">
+        <xs:complexType>
+          <xs:sequence>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="testDuplicateAttribute.MapFilter._get_filter_stringResult">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="return" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="store_map_filter">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="myfilter" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="store_map_filterResponse">
+        <xs:complexType>
+          <xs:sequence>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="retrieve_map_filter">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="id" type="xs:int">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+      <xs:element name="retrieve_map_filterResponse">
+        <xs:complexType>
+          <xs:sequence>
+            <xs:element name="return" type="xs:string">
+            </xs:element>
+          </xs:sequence>
+        </xs:complexType>
+      </xs:element>
+    </xs:schema>
+  </wsdl:types>
+  <wsdl:message name="store_map_filterResponse">
+    <wsdl:part name="outparameter" element="tns:store_map_filterResponse">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="testDuplicateAttribute.MapFilter._get_filter_stringResponse">
+    <wsdl:part name="parameters" element="tns:testDuplicateAttribute.MapFilter._get_filter_stringResult">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="store_filter">
+    <wsdl:part name="inparameter" element="tns:store_filter">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="_get_filter_string">
+    <wsdl:part name="parameters" element="tns:_get_filter_string">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="testDuplicateAttribute.MapFilter._get_filter_string">
+    <wsdl:part name="parameters" element="tns:testDuplicateAttribute.MapFilter._get_filter_string">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="retrieve_map_filter">
+    <wsdl:part name="inparameter" element="tns:retrieve_map_filter">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="retrieve_filter">
+    <wsdl:part name="inparameter" element="tns:retrieve_filter">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="_get_filter_stringResponse">
+    <wsdl:part name="parameters" element="tns:_get_filter_stringResult">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="store_map_filter">
+    <wsdl:part name="inparameter" element="tns:store_map_filter">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="retrieve_map_filterResponse">
+    <wsdl:part name="outparameter" element="tns:retrieve_map_filterResponse">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="retrieve_filterResponse">
+    <wsdl:part name="outparameter" element="tns:retrieve_filterResponse">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:message name="store_filterResponse">
+    <wsdl:part name="outparameter" element="tns:store_filterResponse">
+    </wsdl:part>
+  </wsdl:message>
+  <wsdl:portType name="testDuplicateAttribute.Filter">
+    <wsdl:operation name="_get_filter_string">
+      <wsdl:input name="_get_filter_string" message="tns:_get_filter_string">
+    </wsdl:input>
+      <wsdl:output name="_get_filter_stringResponse" message="tns:_get_filter_stringResponse">
+    </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="store_filter">
+      <wsdl:input name="store_filterRequest" message="tns:store_filter">
+    </wsdl:input>
+      <wsdl:output name="store_filterResponse" message="tns:store_filterResponse">
+    </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="retrieve_filter">
+      <wsdl:input name="retrieve_filterRequest" message="tns:retrieve_filter">
+    </wsdl:input>
+      <wsdl:output name="retrieve_filterResponse" message="tns:retrieve_filterResponse">
+    </wsdl:output>
+    </wsdl:operation>
+  </wsdl:portType>
+  <wsdl:portType name="testDuplicateAttribute.MapFilter">
+    <wsdl:operation name="_get_filter_string">
+      <wsdl:input name="testDuplicateAttribute.MapFilter._get_filter_string" message="tns:testDuplicateAttribute.MapFilter._get_filter_string">
+    </wsdl:input>
+      <wsdl:output name="testDuplicateAttribute.MapFilter._get_filter_stringResponse" message="tns:testDuplicateAttribute.MapFilter._get_filter_stringResponse">
+    </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="store_map_filter">
+      <wsdl:input name="store_map_filterRequest" message="tns:store_map_filter">
+    </wsdl:input>
+      <wsdl:output name="store_map_filterResponse" message="tns:store_map_filterResponse">
+    </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="retrieve_map_filter">
+      <wsdl:input name="retrieve_map_filterRequest" message="tns:retrieve_map_filter">
+    </wsdl:input>
+      <wsdl:output name="retrieve_map_filterResponse" message="tns:retrieve_map_filterResponse">
+    </wsdl:output>
+    </wsdl:operation>
+  </wsdl:portType>
+  <wsdl:binding name="testDuplicateAttribute.MapFilterCORBABinding" type="tns:testDuplicateAttribute.MapFilter">
+    <corba:binding repositoryID="IDL:testDuplicateAttribute/MapFilter:1.0"/>
+    <wsdl:operation name="_get_filter_string">
+      <corba:operation name="_get_filter_string">
+        <corba:return name="return" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="testDuplicateAttribute.MapFilter._get_filter_string">
+      </wsdl:input>
+      <wsdl:output name="testDuplicateAttribute.MapFilter._get_filter_stringResponse">
+      </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="store_map_filter">
+      <corba:operation name="store_map_filter">
+        <corba:param mode="in" name="myfilter" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="store_map_filterRequest">
+      </wsdl:input>
+      <wsdl:output name="store_map_filterResponse">
+      </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="retrieve_map_filter">
+      <corba:operation name="retrieve_map_filter">
+        <corba:param mode="in" name="id" idltype="corba:long"/>
+        <corba:return name="return" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="retrieve_map_filterRequest">
+      </wsdl:input>
+      <wsdl:output name="retrieve_map_filterResponse">
+      </wsdl:output>
+    </wsdl:operation>
+  </wsdl:binding>
+  <wsdl:binding name="testDuplicateAttribute.FilterCORBABinding" type="tns:testDuplicateAttribute.Filter">
+    <corba:binding repositoryID="IDL:testDuplicateAttribute/Filter:1.0"/>
+    <wsdl:operation name="_get_filter_string">
+      <corba:operation name="_get_filter_string">
+        <corba:return name="return" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="_get_filter_string">
+      </wsdl:input>
+      <wsdl:output name="_get_filter_stringResponse">
+      </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="store_filter">
+      <corba:operation name="store_filter">
+        <corba:param mode="in" name="myfilter" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="store_filterRequest">
+      </wsdl:input>
+      <wsdl:output name="store_filterResponse">
+      </wsdl:output>
+    </wsdl:operation>
+    <wsdl:operation name="retrieve_filter">
+      <corba:operation name="retrieve_filter">
+        <corba:param mode="in" name="id" idltype="corba:long"/>
+        <corba:return name="return" idltype="corba:string"/>
+      </corba:operation>
+      <wsdl:input name="retrieve_filterRequest">
+      </wsdl:input>
+      <wsdl:output name="retrieve_filterResponse">
+      </wsdl:output>
+    </wsdl:operation>
+  </wsdl:binding>
+  <wsdl:service name="testDuplicateAttribute.MapFilterCORBAService">
+    <wsdl:port name="testDuplicateAttribute.MapFilterCORBAPort" binding="tns:testDuplicateAttribute.MapFilterCORBABinding">
+      <corba:address location="IOR:"/>
+    </wsdl:port>
+  </wsdl:service>
+  <wsdl:service name="testDuplicateAttribute.FilterCORBAService">
+    <wsdl:port name="testDuplicateAttribute.FilterCORBAPort" binding="tns:testDuplicateAttribute.FilterCORBABinding">
+      <corba:address location="IOR:"/>
+    </wsdl:port>
+  </wsdl:service>
+</wsdl:definitions>
