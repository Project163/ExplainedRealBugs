diff --git a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/processor/internal/ParameterProcessor.java b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/processor/internal/ParameterProcessor.java
index 5fef73a0cb..7d1459bf50 100644
--- a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/processor/internal/ParameterProcessor.java
+++ b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/processor/internal/ParameterProcessor.java
@@ -114,7 +114,8 @@ public class ParameterProcessor extends AbstractProcessor {
         String name = parameter.getName();
         int count = 0;
         while (method.getParameter(parameter.getName()) != null
-            && context.optionSet(ToolConstants.CFG_AUTORESOLVE)) {
+            && context.optionSet(ToolConstants.CFG_AUTORESOLVE)
+            && parameter.getStyle() != JavaType.Style.INOUT) {
             parameter.setName(name + (++count));
         }
         
@@ -363,13 +364,23 @@ public class ParameterProcessor extends AbstractProcessor {
             if (outputWrapElement.size() > 1) {
                 for (QName inElement : inputWrapElement) {
                     if (isSameWrapperChild(inElement, outElement)) {
-                        JavaParameter  jp = getParameterFromQName(outputPart.getElementQName(), outElement,
-                                                                  JavaType.Style.INOUT, outputPart);
+                        JavaParameter jpIn = null;
+                        for (JavaParameter j : method.getParameters()) {
+                            if (inElement.equals(j.getQName())) {
+                                jpIn = j;
+                            }
+                        }
+                        JavaParameter jp = getParameterFromQName(outputPart.getElementQName(), outElement,
+                                                                 JavaType.Style.INOUT, outputPart);
                         if (!qualified) {
                             jp.setTargetNamespace("");
                         }
+                        if (!jpIn.getClassName().equals(jp.getClassName())) {
+                            jp.setStyle(JavaType.Style.OUT);
+                        } 
                         addParameter(method, jp);
                         sameWrapperChild = true;
+
                         if (method.getReturn() == null) {
                             addVoidReturn(method);
                         }
@@ -406,11 +417,21 @@ public class ParameterProcessor extends AbstractProcessor {
             if (inputWrapElement != null) {
                 for (QName inElement : inputWrapElement) {
                     if (isSameWrapperChild(inElement, outElement)) {
-                        JavaParameter  jp = getParameterFromQName(outputPart.getElementQName(), outElement,
-                                                                  JavaType.Style.INOUT, outputPart);
+                        
+                        JavaParameter jpIn = null;
+                        for (JavaParameter j : method.getParameters()) {
+                            if (inElement.equals(j.getQName())) {
+                                jpIn = j;
+                            }
+                        }
+                        JavaParameter jp = getParameterFromQName(outputPart.getElementQName(), outElement,
+                                                                 JavaType.Style.INOUT, outputPart);
                         if (!qualified) {
                             jp.setTargetNamespace("");
                         }
+                        if (!jpIn.getClassName().equals(jp.getClassName())) {
+                            jp.setStyle(JavaType.Style.OUT);
+                        }
                         addParameter(method, jp);
                         sameWrapperChild = true;
                         break;
diff --git a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/validator/WrapperStyleNameCollisionValidator.java b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/validator/WrapperStyleNameCollisionValidator.java
index 5ef5572408..263c85bc8f 100644
--- a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/validator/WrapperStyleNameCollisionValidator.java
+++ b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/validator/WrapperStyleNameCollisionValidator.java
@@ -31,6 +31,7 @@ import org.apache.cxf.service.model.InterfaceInfo;
 import org.apache.cxf.service.model.MessagePartInfo;
 import org.apache.cxf.service.model.OperationInfo;
 import org.apache.cxf.service.model.ServiceInfo;
+import org.apache.cxf.tools.common.ToolConstants;
 import org.apache.cxf.tools.common.ToolContext;
 import org.apache.cxf.tools.validator.ServiceValidator;
 import org.apache.cxf.tools.wsdlto.frontend.jaxws.customization.JAXWSBinding;
@@ -66,6 +67,8 @@ public class WrapperStyleNameCollisionValidator extends ServiceValidator {
 
     private boolean isValidOperation(OperationInfo operation) {
         ToolContext context = service.getProperty(ToolContext.class.getName(), ToolContext.class);
+        
+        boolean c = context.optionSet(ToolConstants.CFG_AUTORESOLVE);
 
         boolean valid = false;
         if (operation.getUnwrappedOperation() == null) {
@@ -101,27 +104,13 @@ public class WrapperStyleNameCollisionValidator extends ServiceValidator {
             && operation.getOutput().getMessageParts().size() == 1) {
             output = operation.getOutput().getMessageParts().iterator().next();
         }
-
-        Map<QName, QName> names = new HashMap<QName, QName>();
-        if (input != null) {
-            for (WrapperElement element : ProcessorUtil.getWrappedElement(context, input.getElementQName())) {
-                if (names.containsKey(element.getElementName())
-                    &&  (names.get(element.getElementName()) == element.getSchemaTypeName()
-                        || names.get(element.getElementName()).equals(element.getSchemaTypeName()))) {
-                    handleErrors(names.get(element.getElementName()), element);
-                    return false;
-                } else {
-                    names.put(element.getElementName(), element.getSchemaTypeName());
-                }
-            }
-        }
-
-        if (output != null) {
-            List<WrapperElement> els = ProcessorUtil.getWrappedElement(context, output.getElementQName());
-            if (els.size() > 1) {
-                for (WrapperElement element : els) {
+        if (!c) {
+            Map<QName, QName> names = new HashMap<QName, QName>();
+            if (input != null) {
+                for (WrapperElement element : ProcessorUtil.getWrappedElement(context, 
+                                                                              input.getElementQName())) {
                     if (names.containsKey(element.getElementName())
-                        &&  !(names.get(element.getElementName()) == element.getSchemaTypeName()
+                        &&  (names.get(element.getElementName()) == element.getSchemaTypeName()
                             || names.get(element.getElementName()).equals(element.getSchemaTypeName()))) {
                         handleErrors(names.get(element.getElementName()), element);
                         return false;
@@ -130,6 +119,22 @@ public class WrapperStyleNameCollisionValidator extends ServiceValidator {
                     }
                 }
             }
+    
+            if (output != null) {
+                List<WrapperElement> els = ProcessorUtil.getWrappedElement(context, output.getElementQName());
+                if (els.size() > 1) {
+                    for (WrapperElement element : els) {
+                        if (names.containsKey(element.getElementName())
+                            &&  !(names.get(element.getElementName()) == element.getSchemaTypeName()
+                                || names.get(element.getElementName()).equals(element.getSchemaTypeName()))) {
+                            handleErrors(names.get(element.getElementName()), element);
+                            return false;
+                        } else {
+                            names.put(element.getElementName(), element.getSchemaTypeName());
+                        }
+                    }
+                }
+            }
         }
         return true;
     }
