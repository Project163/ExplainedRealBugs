diff --git a/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java b/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
index f706b203e1..d96a986c0a 100644
--- a/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java
@@ -337,18 +337,22 @@ public final class StaxUtils {
     public static void copy(Source source, XMLStreamWriter writer) throws XMLStreamException {
         if (source instanceof SAXSource) {
             InputSource src = ((SAXSource)source).getInputSource();
-            if (src.getByteStream() == null && src.getCharacterStream() == null
-                && src.getSystemId() == null && src.getPublicId() == null
+            if (src.getSystemId() == null && src.getPublicId() == null
                 && ((SAXSource)source).getXMLReader() != null) {
-                //OK - reader is OK.  We'll dump that out
+                
+                //OK - reader is OK.  We'll use that out
                 StreamWriterContentHandler ch = new StreamWriterContentHandler(writer);
                 XMLReader reader = ((SAXSource)source).getXMLReader();
                 reader.setContentHandler(ch);
                 try {
+                    try {
+                        reader.setFeature("http://xml.org/sax/features/namespaces", true);
+                    } catch (Throwable t) {
+                        //ignore
+                    }
                     reader.parse(((SAXSource)source).getInputSource());
                     return;
                 } catch (Exception e) {
-                    e.printStackTrace();
                     throw new XMLStreamException(e);
                 }
             }
diff --git a/common/common/src/main/java/org/apache/cxf/staxutils/StreamWriterContentHandler.java b/common/common/src/main/java/org/apache/cxf/staxutils/StreamWriterContentHandler.java
index 2faa20f772..cda0401666 100644
--- a/common/common/src/main/java/org/apache/cxf/staxutils/StreamWriterContentHandler.java
+++ b/common/common/src/main/java/org/apache/cxf/staxutils/StreamWriterContentHandler.java
@@ -210,7 +210,11 @@ public class StreamWriterContentHandler implements ContentHandler {
                 int attCount = atts.getLength();
                 for (int i = 0; i < attCount; i++) {
                     if (StringUtils.isEmpty(atts.getURI(i))) {
-                        writer.writeAttribute(atts.getLocalName(i),
+                        String s = atts.getLocalName(i);
+                        if (StringUtils.isEmpty(s)) {
+                            s = atts.getQName(i);
+                        }
+                        writer.writeAttribute(s,
                                               atts.getValue(i));
                     } else {
                         writer.writeAttribute(atts.getURI(i),
