diff --git a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WSDL2JavaMojo.java b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WSDL2JavaMojo.java
index 9da2f55b43..57cbe0e8eb 100644
--- a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WSDL2JavaMojo.java
+++ b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WSDL2JavaMojo.java
@@ -375,7 +375,13 @@ public class WSDL2JavaMojo extends AbstractMojo {
                                                                    Artifact.SCOPE_COMPILE, wsdlA.getType());
             wsdlArtifact = resolveRemoteWsdlArtifact(remoteRepos, wsdlArtifact);
             if (wsdlArtifact != null) {
-                String path = wsdlArtifact.getFile().getAbsolutePath();
+                File supposedFile = wsdlArtifact.getFile();
+                if (!supposedFile.exists() || !supposedFile.isFile()) {
+                    getLog().info("Apparent Maven bug: wsdl artifact 'resolved' to " 
+                        + supposedFile.getAbsolutePath() + " for " + wsdlArtifact.toString());
+                    continue;
+                }
+                String path = supposedFile.getAbsolutePath();
                 getLog().info("Resolved WSDL artifact to file " + path);
                 wsdlOption.setWsdl(path);
             }
diff --git a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WsdlOption.java b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WsdlOption.java
index eabbd64c54..3f3079304b 100644
--- a/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WsdlOption.java
+++ b/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/WsdlOption.java
@@ -26,6 +26,7 @@ import java.util.List;
 
 import org.apache.cxf.tools.common.ToolConstants;
 import org.apache.cxf.tools.util.URIParserUtil;
+import org.apache.maven.plugin.MojoExecutionException;
 
 public class WsdlOption extends Option {
 
@@ -83,8 +84,11 @@ public class WsdlOption extends Option {
         return file;
     }
     
-    public URI getWsdlURI(URI baseURI) {
+    public URI getWsdlURI(URI baseURI) throws MojoExecutionException {
         String wsdlLocation = getWsdl();
+        if (wsdlLocation == null) {
+            throw new MojoExecutionException("No wsdl available for base URI " + baseURI);
+        }
         File wsdlFile = new File(wsdlLocation);
         return wsdlFile.exists() ? wsdlFile.toURI() 
             : baseURI.resolve(URIParserUtil.escapeChars(wsdlLocation));
diff --git a/parent/pom.xml b/parent/pom.xml
index 8bc3a8ea26..cbb1c7ecf0 100644
--- a/parent/pom.xml
+++ b/parent/pom.xml
@@ -77,6 +77,7 @@
 
         <cxf.jdom.version>1.0</cxf.jdom.version>
         <cxf.jetty.version>7.5.3.v20111011</cxf.jetty.version>
+	<cxf.maven.core.version>2.2.1</cxf.maven.core.version>
         <cxf.msv.version>2011.1</cxf.msv.version>
         <cxf.rhino.version>1.7R2</cxf.rhino.version>
         <cxf.saaj.version>1.3.4</cxf.saaj.version>
@@ -463,7 +464,7 @@
             <dependency>
                 <groupId>org.apache.maven</groupId>
                 <artifactId>maven-plugin-api</artifactId>
-                <version>2.0.4</version>
+                <version>${cxf.maven.core.version}</version>
                 <scope>provided</scope>
                 <exclusions>
                     <exclusion>
@@ -476,7 +477,7 @@
             <dependency>
                 <groupId>org.apache.maven</groupId>
                 <artifactId>maven-project</artifactId>
-                <version>2.0.4</version>
+                <version>${cxf.maven.core.version}</version>
                 <scope>provided</scope>
                 <exclusions>
                     <exclusion>
@@ -489,13 +490,13 @@
                 <groupId>org.apache.maven</groupId>
                 <artifactId>maven-artifact</artifactId>
                 <scope>provided</scope>
-                <version>2.0.4</version>
+                <version>${cxf.maven.core.version}</version>
             </dependency>
             <dependency>
                 <groupId>org.apache.maven</groupId>
                 <artifactId>maven-core</artifactId>
                 <scope>provided</scope>
-                <version>2.0.4</version>
+                <version>${cxf.maven.core.version}</version>
             </dependency>
             <dependency>
                 <groupId>httpunit</groupId>
