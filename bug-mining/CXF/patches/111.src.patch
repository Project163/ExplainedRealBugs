diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
index fb0e036209..a3aebc3c7f 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/WrapperClassGenerator.java
@@ -47,6 +47,7 @@ import org.apache.cxf.common.util.PackageUtils;
 import org.apache.cxf.common.util.StringUtils;
 import org.apache.cxf.helpers.JavaUtils;
 import org.apache.cxf.jaxb.JAXBUtils;
+import org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean;
 import org.apache.cxf.service.factory.ReflectionServiceFactoryBean;
 import org.apache.cxf.service.model.InterfaceInfo;
 import org.apache.cxf.service.model.MessageInfo;
@@ -66,8 +67,10 @@ public final class WrapperClassGenerator extends ASMHelper {
     private Set<Class<?>> wrapperBeans = new LinkedHashSet<Class<?>>();
     private InterfaceInfo interfaceInfo;
     private boolean qualified;
+    private JaxWsServiceFactoryBean factory;
     
-    public WrapperClassGenerator(InterfaceInfo inf, boolean q) {
+    public WrapperClassGenerator(JaxWsServiceFactoryBean fact, InterfaceInfo inf, boolean q) {
+        factory = fact;
         interfaceInfo = inf;
         qualified = q;
     }
@@ -295,21 +298,14 @@ public final class WrapperClassGenerator extends ASMHelper {
         
         AnnotationVisitor av0 = fv.visitAnnotation("Ljavax/xml/bind/annotation/XmlElement;", true);
         av0.visit("name", name);
-        
-        
-        Annotation[] a = (Annotation[])mpi.getProperty(ReflectionServiceFactoryBean.PARAM_ANNOTATION);
-        if (a != null) {
-            for (Annotation an : a) {
-                String tns = null;
-                if (an instanceof WebParam) {
-                    tns = ((WebParam)an).targetNamespace();
-                } else if (an instanceof WebResult) {
-                    tns = ((WebResult)an).targetNamespace();                    
-                }
-                if (tns != null && !StringUtils.isEmpty(tns)) {
-                    av0.visit("namespace", tns);
-                }
-            }
+        if (factory.isWrapperPartQualified(mpi)) {
+            av0.visit("namespace", mpi.getConcreteName().getNamespaceURI());            
+        }
+        if (factory.isWrapperPartNillable(mpi)) {
+            av0.visit("nillable", "true");
+        }
+        if (factory.getWrapperPartMinOccurs(mpi) == 1) {
+            av0.visit("required", "true");
         }
         av0.visitEnd();
 
diff --git a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
index bddd4ae4ef..dd543b6732 100644
--- a/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
+++ b/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/support/JaxWsServiceFactoryBean.java
@@ -502,7 +502,8 @@ public class JaxWsServiceFactoryBean extends ReflectionServiceFactoryBean {
     private Set<Class<?>> generatedWrapperBeanClass() {
         if (getDataBinding() instanceof JAXBDataBinding) {
             ServiceInfo serviceInfo = getService().getServiceInfos().get(0);
-            WrapperClassGenerator wrapperGen = new WrapperClassGenerator(serviceInfo.getInterface(),
+            WrapperClassGenerator wrapperGen = new WrapperClassGenerator(this,
+                                                                         serviceInfo.getInterface(),
                                                                          getQualifyWrapperSchema());
             return wrapperGen.generate();            
         }
diff --git a/rt/frontend/simple/src/main/java/org/apache/cxf/service/factory/ReflectionServiceFactoryBean.java b/rt/frontend/simple/src/main/java/org/apache/cxf/service/factory/ReflectionServiceFactoryBean.java
index e53e1cc84b..4e89ffae07 100644
--- a/rt/frontend/simple/src/main/java/org/apache/cxf/service/factory/ReflectionServiceFactoryBean.java
+++ b/rt/frontend/simple/src/main/java/org/apache/cxf/service/factory/ReflectionServiceFactoryBean.java
@@ -1981,7 +1981,7 @@ public class ReflectionServiceFactoryBean extends AbstractServiceFactoryBean {
         return null;
     }
     
-    public Boolean isWrapperPartQualified(MessagePartInfo mpi) {
+    public boolean isWrapperPartQualified(MessagePartInfo mpi) {
         for (AbstractServiceConfiguration c : serviceConfigurations) {
             Boolean b = c.isWrapperPartQualified(mpi);
             if (b != null) {
