diff --git a/api/src/main/java/org/apache/cxf/io/CachedWriter.java b/api/src/main/java/org/apache/cxf/io/CachedWriter.java
index 86d142a47d..2d0eae00eb 100644
--- a/api/src/main/java/org/apache/cxf/io/CachedWriter.java
+++ b/api/src/main/java/org/apache/cxf/io/CachedWriter.java
@@ -481,9 +481,8 @@ public class CachedWriter extends Writer {
                         closed = true;
                     }
                 };
-                Reader r = new InputStreamReader(fileInputStream, "UTF-8");
-                streamList.add(r);
-                return r;
+                streamList.add(fileInputStream);
+                return new InputStreamReader(fileInputStream, "UTF-8");
             } catch (FileNotFoundException e) {
                 throw new IOException("Cached file was deleted, " + e.toString());
             }
diff --git a/api/src/test/java/org/apache/cxf/io/CachedOutputStreamTest.java b/api/src/test/java/org/apache/cxf/io/CachedOutputStreamTest.java
index ac0f2ba7fc..a8ea3e1bc9 100644
--- a/api/src/test/java/org/apache/cxf/io/CachedOutputStreamTest.java
+++ b/api/src/test/java/org/apache/cxf/io/CachedOutputStreamTest.java
@@ -61,6 +61,25 @@ public class CachedOutputStreamTest extends Assert {
         assertFalse(tempFile.exists());
     }
 
+    @Test
+    public void testDeleteTmpFile2() throws IOException {
+        CachedOutputStream cos = new CachedOutputStream();        
+        //ensure output data size larger then 64k which will generate tmp file
+        String result = initTestData(65);
+        cos.write(result.getBytes());
+        //assert tmp file is generated
+        File tempFile = cos.getTempFile();
+        assertNotNull(tempFile);
+        assertTrue(tempFile.exists());
+        InputStream in = cos.getInputStream();
+        cos.close();
+        //assert tmp file is not deleted when the input stream is open
+        assertTrue(tempFile.exists());
+        in.close();
+        //assert tmp file is deleted after the input stream is closed
+        assertFalse(tempFile.exists());
+    }
+
     @Test
     public void testEncryptAndDecryptWithDeleteOnClose() throws IOException {
         CachedOutputStream cos = new CachedOutputStream();
diff --git a/api/src/test/java/org/apache/cxf/io/CachedWriterTest.java b/api/src/test/java/org/apache/cxf/io/CachedWriterTest.java
new file mode 100644
index 0000000000..2300973d02
--- /dev/null
+++ b/api/src/test/java/org/apache/cxf/io/CachedWriterTest.java
@@ -0,0 +1,89 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.io;
+
+import java.io.File;
+import java.io.IOException;
+import java.io.Reader;
+import java.io.StringWriter;
+
+import org.junit.Assert;
+import org.junit.Test;
+
+public class CachedWriterTest extends Assert {    
+    
+    @Test
+    public void testResetOut() throws IOException {
+        CachedWriter cos = new CachedWriter();        
+        String result = initTestData(16);
+        cos.write(result);
+        StringWriter out = new StringWriter();
+        cos.resetOut(out, true);
+        String test = out.toString();
+        assertEquals("The test stream content isn't same ", test , result);
+        cos.close();
+    }
+    
+    @Test
+    public void testDeleteTmpFile() throws IOException {
+        CachedWriter cos = new CachedWriter();        
+        //ensure output data size larger then 64k which will generate tmp file
+        String result = initTestData(65);
+        cos.write(result);
+        //assert tmp file is generated
+        File tempFile = cos.getTempFile();
+        assertNotNull(tempFile);
+        assertTrue(tempFile.exists());
+        cos.close();
+        //assert tmp file is deleted after close the CachedOutputStream
+        assertFalse(tempFile.exists());
+    }
+
+    @Test
+    public void testDeleteTmpFile2() throws IOException {
+        CachedWriter cos = new CachedWriter();
+        //ensure output data size larger then 64k which will generate tmp file
+        String result = initTestData(65);
+        cos.write(result);
+        //assert tmp file is generated
+        File tempFile = cos.getTempFile();
+        assertNotNull(tempFile);
+        assertTrue(tempFile.exists());
+        Reader in = cos.getReader();
+        cos.close();
+        //assert tmp file is not deleted when the reader is open
+        assertTrue(tempFile.exists());
+        in.close();
+        //assert tmp file is deleted after the reader is closed
+        assertFalse(tempFile.exists());
+    }
+
+    String initTestData(int packetSize) {
+        String temp = "abcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+?><[]/0123456789";
+        String result = new String();
+        for (int i = 0; i <  1024 * packetSize / temp.length(); i++) {
+            result = result + temp;
+        }
+        return result;
+    }
+    
+
+}
+    
+   
