diff --git a/common/common/src/main/java/org/apache/cxf/configuration/spring/StringBeanDefinitionParser.java b/common/common/src/main/java/org/apache/cxf/configuration/spring/StringBeanDefinitionParser.java
index b60989e68a..f103871203 100644
--- a/common/common/src/main/java/org/apache/cxf/configuration/spring/StringBeanDefinitionParser.java
+++ b/common/common/src/main/java/org/apache/cxf/configuration/spring/StringBeanDefinitionParser.java
@@ -29,7 +29,7 @@ public class StringBeanDefinitionParser extends AbstractSingleBeanDefinitionPars
     @SuppressWarnings("deprecation")
     @Override
     protected void doParse(Element element, BeanDefinitionBuilder builder) {
-        builder.addConstructorArg(DOMUtils.getContent(element));
+        builder.addConstructorArg(DOMUtils.getRawContent(element));
     }
 
     @Override
diff --git a/common/common/src/main/java/org/apache/cxf/helpers/DOMUtils.java b/common/common/src/main/java/org/apache/cxf/helpers/DOMUtils.java
index 2d9ffc699e..5c1d93a3ca 100644
--- a/common/common/src/main/java/org/apache/cxf/helpers/DOMUtils.java
+++ b/common/common/src/main/java/org/apache/cxf/helpers/DOMUtils.java
@@ -46,6 +46,7 @@ import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 import org.w3c.dom.NamedNodeMap;
 import org.w3c.dom.Node;
+import org.w3c.dom.Text;
 
 import org.xml.sax.EntityResolver;
 import org.xml.sax.InputSource;
@@ -93,17 +94,11 @@ public final class DOMUtils {
      * Get the trimmed text content of a node or null if there is no text
      */
     public static String getContent(Node n) {
-        if (n == null) {
-            return null;
+        String s = getRawContent(n);
+        if (s != null) {
+            s = s.trim();
         }
-
-        Node n1 = DOMUtils.getChild(n, Node.TEXT_NODE);
-
-        if (n1 == null) {
-            return null;
-        }
-
-        return n1.getNodeValue().trim();
+        return s;
     }
 
     /**
@@ -113,14 +108,26 @@ public final class DOMUtils {
         if (n == null) {
             return null;
         }
-
-        Node n1 = DOMUtils.getChild(n, Node.TEXT_NODE);
-
-        if (n1 == null) {
-            return null;
+        StringBuilder b = null;
+        String s = null;
+        Node n1 = n.getFirstChild();
+        while (n1 != null) {
+            if (n1.getNodeType() == Node.TEXT_NODE) {
+                if (b != null) {
+                    b.append(((Text)n1).getNodeValue());
+                } else if (s == null) {
+                    s = ((Text)n1).getNodeValue();
+                } else {
+                    b = new StringBuilder(s);
+                    s = null;
+                }
+            }
+            n1 = n1.getNextSibling();
         }
-
-        return n1.getNodeValue();
+        if (b != null) {
+            return b.toString();
+        }
+        return s;
     }
 
     /**
@@ -234,7 +241,7 @@ public final class DOMUtils {
             // System.out.println("getNode: " + name + " " +
             // node.getNodeName());
             if (name.equals(node.getNodeName())) {
-                return getContent(node);
+                return getRawContent(node);
             }
         }
         return null;
diff --git a/common/common/src/main/java/org/apache/cxf/staxutils/W3CDOMStreamReader.java b/common/common/src/main/java/org/apache/cxf/staxutils/W3CDOMStreamReader.java
index 89a166ff77..05b2b0e218 100644
--- a/common/common/src/main/java/org/apache/cxf/staxutils/W3CDOMStreamReader.java
+++ b/common/common/src/main/java/org/apache/cxf/staxutils/W3CDOMStreamReader.java
@@ -188,7 +188,7 @@ public class W3CDOMStreamReader extends AbstractDOMStreamReader<Node, Node> {
 
     @Override
     public String getElementText() throws XMLStreamException {
-        String result = DOMUtils.getContent(content);
+        String result = DOMUtils.getRawContent(content);
 
         ElementFrame<Node, Node> frame = getCurrentFrame();
         frame.ended = true;
@@ -229,8 +229,7 @@ public class W3CDOMStreamReader extends AbstractDOMStreamReader<Node, Node> {
         if (at == null) {
             return null;
         }
-
-        return DOMUtils.getContent(at);
+        return at.getNodeValue();
     }
 
     public int getAttributeCount() {
diff --git a/rt/bindings/http/src/main/java/org/apache/cxf/binding/http/interceptor/URIParameterOutInterceptor.java b/rt/bindings/http/src/main/java/org/apache/cxf/binding/http/interceptor/URIParameterOutInterceptor.java
index a041ab5162..6a8507a3ba 100644
--- a/rt/bindings/http/src/main/java/org/apache/cxf/binding/http/interceptor/URIParameterOutInterceptor.java
+++ b/rt/bindings/http/src/main/java/org/apache/cxf/binding/http/interceptor/URIParameterOutInterceptor.java
@@ -92,7 +92,7 @@ public class URIParameterOutInterceptor extends AbstractPhaseInterceptor<Message
                     Node node = root.getFirstChild();
                     while (node != null) {
                         if (node.getNodeType() == Node.ELEMENT_NODE && name.equals(node.getLocalName())) {
-                            builder.append(DOMUtils.getContent(node));
+                            builder.append(DOMUtils.getRawContent(node));
                             break;
                         }   
                         node = node.getNextSibling();
diff --git a/rt/core/src/main/java/org/apache/cxf/test/XPathAssert.java b/rt/core/src/main/java/org/apache/cxf/test/XPathAssert.java
index c961924895..2716b497d8 100644
--- a/rt/core/src/main/java/org/apache/cxf/test/XPathAssert.java
+++ b/rt/core/src/main/java/org/apache/cxf/test/XPathAssert.java
@@ -141,7 +141,7 @@ public final class XPathAssert {
                                            + writeNodeToString(node));
         }
 
-        String value2 = DOMUtils.getContent(result).trim();
+        String value2 = DOMUtils.getContent(result);
 
         Assert.assertEquals(value, value2);
     }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigDecimalType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigDecimalType.java
index 7b84d1fd03..2f4c514255 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigDecimalType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigDecimalType.java
@@ -39,7 +39,7 @@ public class BigDecimalType extends Type {
     public Object readObject(final MessageReader reader, final Context context) {
         final String value = reader.getValue();
 
-        return null == value ? null : new BigDecimal(value);
+        return null == value ? null : new BigDecimal(value.trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigIntegerType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigIntegerType.java
index fce35ef85f..ba8e5f89e9 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigIntegerType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/BigIntegerType.java
@@ -39,7 +39,7 @@ public class BigIntegerType extends Type {
     public Object readObject(final MessageReader reader, final Context context) {
         final String value = reader.getValue();
 
-        return null == value ? null : new BigInteger(value);
+        return null == value ? null : new BigInteger(value.trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ByteType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ByteType.java
index 9b59d07e2e..16596a0379 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ByteType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ByteType.java
@@ -31,7 +31,7 @@ import org.apache.cxf.aegis.xml.MessageWriter;
 public class ByteType extends Type {
     @Override
     public Object readObject(MessageReader reader, Context context) {
-        return new Byte(reader.getValue());
+        return new Byte(reader.getValue().trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/CalendarType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/CalendarType.java
index f249836bbd..b3d637885c 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/CalendarType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/CalendarType.java
@@ -44,7 +44,7 @@ public class CalendarType extends Type {
         }
 
         try {
-            return format.parseObject(value);
+            return format.parseObject(value.trim());
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:dateTime: " + e.getMessage(), e);
         }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateTimeType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateTimeType.java
index 622711454c..ebcd16abf6 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateTimeType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateTimeType.java
@@ -51,7 +51,7 @@ public class DateTimeType extends Type {
         }
 
         try {
-            return ((Calendar)format.parseObject(value)).getTime();
+            return ((Calendar)format.parseObject(value.trim())).getTime();
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:dateTime: " + e.getMessage(), e);
         }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateType.java
index 397fabe6b2..7c2321625d 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/DateType.java
@@ -47,7 +47,7 @@ public class DateType extends Type {
         }
 
         try {
-            return ((Calendar)format.parseObject(value)).getTime();
+            return ((Calendar)format.parseObject(value.trim())).getTime();
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:dat: " + e.getMessage(), e);
         }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ObjectType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ObjectType.java
index fcd7362fed..85295bb9a7 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ObjectType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ObjectType.java
@@ -101,6 +101,7 @@ public class ObjectType extends Type {
             throw new DatabindingException("Missing 'xsi:type' attribute value");
         }
 
+        typeName = typeName.trim();
         Type type = null;
         QName typeQName = null;
         if (typeName != null) {
@@ -154,7 +155,8 @@ public class ObjectType extends Type {
     private Object reconstituteJavaObject(MessageReader reader) throws DatabindingException {
 
         try {
-            ByteArrayInputStream in = new ByteArrayInputStream(Base64Utility.decode(reader.getValue()));
+            ByteArrayInputStream in = new ByteArrayInputStream(Base64Utility
+                                                                   .decode(reader.getValue().trim()));
             return new ObjectInputStream(in).readObject();
         } catch (Exception e) {
             throw new DatabindingException("Unable to reconstitute serialized object", e);
@@ -162,7 +164,7 @@ public class ObjectType extends Type {
     }
 
     private boolean isNil(MessageReader reader) {
-        return null != reader && "true".equals(reader.getValue());
+        return null != reader && "true".equals(reader.getValue() == null ? "" : reader.getValue());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ShortType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ShortType.java
index 7f96ea85f3..40ed480051 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ShortType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/ShortType.java
@@ -29,7 +29,7 @@ import org.apache.cxf.aegis.xml.MessageWriter;
 public class ShortType extends Type {
     @Override
     public Object readObject(MessageReader reader, Context context) {
-        return new Short(reader.getValue());
+        return new Short(reader.getValue().trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimeType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimeType.java
index 27149be287..52f0980229 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimeType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimeType.java
@@ -46,7 +46,7 @@ public class TimeType extends Type {
         }
 
         try {
-            Calendar c = (Calendar)format.parseObject(value);
+            Calendar c = (Calendar)format.parseObject(value.trim());
             return new Time(c.getTimeInMillis());
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:dateTime: " + e.getMessage(), e);
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimestampType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimestampType.java
index 9e39bd0d9c..307f283dee 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimestampType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimestampType.java
@@ -46,7 +46,7 @@ public class TimestampType extends Type {
         }
 
         try {
-            Calendar c = (Calendar)format.parseObject(value);
+            Calendar c = (Calendar)format.parseObject(value.trim());
             return new Timestamp(c.getTimeInMillis());
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:dateTime: " + e.getMessage(), e);
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimezoneLessDateType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimezoneLessDateType.java
index 17832cfeb6..e01c67f562 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimezoneLessDateType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/TimezoneLessDateType.java
@@ -47,7 +47,7 @@ public class TimezoneLessDateType extends DateType {
         }
 
         try {
-            return ((Calendar)format.parseObject(value)).getTime();
+            return ((Calendar)format.parseObject(value.trim())).getTime();
         } catch (ParseException e) {
             throw new DatabindingException("Could not parse xs:date: " + e.getMessage(), e);
         }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/URIType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/URIType.java
index 49296e8a0a..fb217788c8 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/URIType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/basic/URIType.java
@@ -35,7 +35,7 @@ public class URIType extends Type {
     public Object readObject(final MessageReader reader, final Context context) {
         final String value = reader.getValue();
 
-        return null == value ? null : URI.create(value);
+        return null == value ? null : URI.create(value.trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/DurationType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/DurationType.java
index 0be462f228..772daf84e7 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/DurationType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/DurationType.java
@@ -46,7 +46,7 @@ public class DurationType extends Type {
 
     @Override
     public Object readObject(MessageReader reader, Context context) {
-        return dtFactory.newDuration(reader.getValue());
+        return dtFactory.newDuration(reader.getValue().trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/EnumType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/EnumType.java
index 99e82d4847..63a731958e 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/EnumType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/EnumType.java
@@ -36,7 +36,7 @@ public class EnumType extends Type {
     public Object readObject(MessageReader reader, Context context) {
         String value = reader.getValue();
 
-        return Enum.valueOf(getTypeClass(), value);
+        return Enum.valueOf(getTypeClass(), value.trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/XMLGregorianCalendarType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/XMLGregorianCalendarType.java
index 558f99e676..2017970760 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/XMLGregorianCalendarType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/java5/XMLGregorianCalendarType.java
@@ -46,7 +46,7 @@ public class XMLGregorianCalendarType extends Type {
 
     @Override
     public Object readObject(MessageReader reader, Context context) {
-        return dtFactory.newXMLGregorianCalendar(reader.getValue());
+        return dtFactory.newXMLGregorianCalendar(reader.getValue().trim());
     }
 
     @Override
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AbstractXOPType.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AbstractXOPType.java
index 294a920f1d..aa06042460 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AbstractXOPType.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/mtom/AbstractXOPType.java
@@ -90,7 +90,7 @@ public abstract class AbstractXOPType extends Type {
             MessageReader child = reader.getNextElementReader();
             if (child.getName().equals(XOP_INCLUDE)) {
                 MessageReader mimeReader = child.getAttributeReader(XOP_HREF);
-                String type = mimeReader.getValue();
+                String type = mimeReader.getValue().trim();
                 o = readInclude(type, child, context);
             }
             child.readToEnd();
@@ -123,7 +123,7 @@ public abstract class AbstractXOPType extends Type {
     
     private Object readInclude(String type, MessageReader reader,
                               Context context) throws DatabindingException {
-        String href = reader.getAttributeReader(XOP_HREF).getValue();
+        String href = reader.getAttributeReader(XOP_HREF).getValue().trim();
 
         Attachment att = AttachmentUtil.getAttachment(href, context.getAttachments());
 
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/AbstractMessageReader.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/AbstractMessageReader.java
index 3c07d28234..320fe07762 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/AbstractMessageReader.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/AbstractMessageReader.java
@@ -50,7 +50,7 @@ public abstract class AbstractMessageReader implements MessageReader {
         boolean nil = false;
         if (nilReader != null) {
             String value = nilReader.getValue();
-            if (value != null && (value.equals("true") || value.equals("1"))) {
+            if (value != null && (value.trim().equals("true") || value.trim().equals("1"))) {
                 return true;
             }
         }
@@ -77,7 +77,7 @@ public abstract class AbstractMessageReader implements MessageReader {
             return 0;
         }
 
-        return Integer.parseInt(getValue());
+        return Integer.parseInt(getValue().trim());
     }
 
     /**
@@ -88,7 +88,7 @@ public abstract class AbstractMessageReader implements MessageReader {
             return 0L;
         }
 
-        return Long.parseLong(getValue());
+        return Long.parseLong(getValue().trim());
     }
 
     /**
@@ -99,7 +99,7 @@ public abstract class AbstractMessageReader implements MessageReader {
             return 0d;
         }
 
-        return Double.parseDouble(getValue());
+        return Double.parseDouble(getValue().trim());
     }
 
     /**
@@ -110,7 +110,7 @@ public abstract class AbstractMessageReader implements MessageReader {
             return 0f;
         }
 
-        return Float.parseFloat(getValue());
+        return Float.parseFloat(getValue().trim());
     }
 
     /**
@@ -121,7 +121,7 @@ public abstract class AbstractMessageReader implements MessageReader {
         if (value == null) {
             return false;
         }
-
+        value = value.trim();
         if ("true".equalsIgnoreCase(value) || "1".equalsIgnoreCase(value)) {
             return true;
         }
diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
index 2aa01da4d7..c8346b2ef7 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/xml/stax/ElementReader.java
@@ -141,8 +141,6 @@ public class ElementReader extends AbstractMessageReader implements MessageReade
             
             if (value == null) {
                 value = "";
-            } else {
-                value = value.trim();
             }
         }
         return value;
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType1.xml b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType1.xml
index 22f91e64ab..01c9b73166 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType1.xml
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType1.xml
@@ -25,7 +25,5 @@
 
   <thing xsi:type="xsd:int">42</thing>
   <thing xsi:type="xsd:float">42.42</thing>
-  <thing xsi:type="xsd:string">
-    Forty Two
-  </thing>
+  <thing xsi:type="xsd:string">Forty Two</thing>
 </b:numbers>
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType2.xml b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType2.xml
index 066f34190d..f9f68115f6 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType2.xml
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayAnyType2.xml
@@ -25,7 +25,5 @@
 
   <soapenc:int>42</soapenc:int>
   <soapenc:decimal>42.42</soapenc:decimal>
-  <xsd:string>
-    Forty Two
-  </xsd:string>
+  <xsd:string>Forty Two</xsd:string>
 </b:numbers>
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType1.xml b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType1.xml
index 96b66af454..8b8e49487c 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType1.xml
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType1.xml
@@ -25,7 +25,5 @@
 
   <thing xsi:type="xsd:int">42</thing>
   <thing xsi:type="xsd:float">42.42</thing>
-  <thing xsi:type="xsd:string">
-    Forty Two
-  </thing>
+  <thing xsi:type="xsd:string">Forty Two</thing>
 </b:numbers>
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType2.xml b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType2.xml
index 88c1293138..5d20fb8d16 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType2.xml
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/encoded/arrayUrType2.xml
@@ -25,7 +25,5 @@
 
   <soapenc:int>42</soapenc:int>
   <soapenc:decimal>42.42</soapenc:decimal>
-  <xsd:string>
-    Forty Two
-  </xsd:string>
+  <xsd:string>Forty Two</xsd:string>
 </b:numbers>
diff --git a/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsImpl.java b/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsImpl.java
index 96dc2ffa14..a47a6368d0 100644
--- a/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsImpl.java
+++ b/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsImpl.java
@@ -47,7 +47,7 @@ public class AegisJaxWsImpl implements AegisJaxWs {
     public Item getItemByKey(String key1, String key2) {
         Item fake = new Item();
         fake.setKey(new Integer(33));
-        fake.setData("and a third");
+        fake.setData(key1 + ":" + key2);
         return fake;
     }
     
diff --git a/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsTest.java b/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsTest.java
index 16898b10c2..2200d4450c 100644
--- a/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsTest.java
+++ b/systests/src/test/java/org/apache/cxf/systest/aegis/AegisJaxWsTest.java
@@ -19,12 +19,15 @@
 
 package org.apache.cxf.systest.aegis;
 
+import java.util.HashMap;
 import java.util.Map;
 import java.util.Map.Entry;
 
 import org.apache.cxf.aegis.databinding.AegisDatabinding;
 import org.apache.cxf.jaxws.JaxWsProxyFactoryBean;
 import org.apache.cxf.systest.aegis.bean.Item;
+import org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor;
+
 import org.junit.Test;
 import org.springframework.test.AbstractDependencyInjectionSpringContextTests;
 
@@ -43,26 +46,46 @@ public class AegisJaxWsTest extends AbstractDependencyInjectionSpringContextTest
         return new String[] {"classpath:aegisJaxWsBeans.xml"};
     }
     
-    private void setupForTest() throws Exception {
+    private void setupForTest(boolean sec) throws Exception {
         
         JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
         factory.setServiceClass(AegisJaxWs.class);
-        factory.setAddress("http://localhost:9167/aegisJaxWs");
+        if (sec) {
+            factory.setAddress("http://localhost:9167/aegisJaxWsUN");
+            WSS4JOutInterceptor wss4jOut = new WSS4JOutInterceptor();
+            wss4jOut.setProperty("action", "UsernameToken");
+            wss4jOut.setProperty("user", "alice");
+            wss4jOut.setProperty("password", "pass");
+            
+            factory.setProperties(new HashMap<String, Object>());
+            factory.getProperties().put("password", "pass");
+            factory.getOutInterceptors().add(wss4jOut);
+        } else {
+            factory.setAddress("http://localhost:9167/aegisJaxWs");            
+        }
         factory.getServiceFactory().setDataBinding(new AegisDatabinding());
 
         client = (AegisJaxWs)factory.create();
     }
     
     @Test
-    public void testGetItem() throws Exception {
-        setupForTest();
-        Item item = client.getItemByKey("a", "b");
+    public void testGetItemSecure() throws Exception {
+        setupForTest(true);
+        Item item = client.getItemByKey("   jack&jill   ", "b");
         assertEquals(33, item.getKey().intValue());
+        assertEquals("   jack&jill   :b", item.getData());
     }
     
+    @Test
+    public void testGetItem() throws Exception {
+        setupForTest(false);
+        Item item = client.getItemByKey(" a ", "b");
+        assertEquals(33, item.getKey().intValue());
+        assertEquals(" a :b", item.getData());
+    }
     @Test 
     public void testMapSpecified() throws Exception {
-        setupForTest();
+        setupForTest(false);
         Item item = new Item();
         item.setKey(new Integer(42));
         item.setData("Godzilla");
@@ -78,4 +101,5 @@ public class AegisJaxWsTest extends AbstractDependencyInjectionSpringContextTest
         assertEquals(42, key2.intValue());
         assertEquals("Godzilla", item2.getData());
     }
+    
 }
diff --git a/systests/src/test/java/org/apache/cxf/systest/aegis/ServerPasswordCallback.java b/systests/src/test/java/org/apache/cxf/systest/aegis/ServerPasswordCallback.java
new file mode 100644
index 0000000000..9416b31a23
--- /dev/null
+++ b/systests/src/test/java/org/apache/cxf/systest/aegis/ServerPasswordCallback.java
@@ -0,0 +1,43 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.systest.aegis;
+
+import java.io.IOException;
+
+import javax.security.auth.callback.Callback;
+import javax.security.auth.callback.CallbackHandler;
+import javax.security.auth.callback.UnsupportedCallbackException;
+
+import org.apache.ws.security.WSPasswordCallback;
+
+/**
+ * 
+ */
+public class ServerPasswordCallback implements CallbackHandler {
+
+    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {
+        for (int i = 0; i < callbacks.length; i++) {
+            WSPasswordCallback pc = (WSPasswordCallback)callbacks[i];
+            pc.setPassword("pass");
+        }
+
+    }
+
+}
diff --git a/systests/src/test/resources/aegisJaxWsBeans.xml b/systests/src/test/resources/aegisJaxWsBeans.xml
index 088e35aaca..ec8ee7f67d 100644
--- a/systests/src/test/resources/aegisJaxWsBeans.xml
+++ b/systests/src/test/resources/aegisJaxWsBeans.xml
@@ -60,4 +60,33 @@ http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd">
 				class="org.apache.cxf.binding.soap.saaj.SAAJInInterceptor" />
 		</jaxws:inInterceptors>
 	</jaxws:endpoint>
+	
+	
+	<bean id="myPasswordCallback"
+		class="org.apache.cxf.systest.aegis.ServerPasswordCallback"/>
+	
+	<jaxws:endpoint id="aegisRPCImplUN" implementor="#impl"
+		address="http://localhost:9167/aegisJaxWsUN">
+		<jaxws:serviceFactory>
+			<ref bean='jaxws-and-aegis-service-factory' />
+		</jaxws:serviceFactory>
+		
+		<jaxws:inInterceptors>
+  			<bean class="org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor">
+	     		<constructor-arg>
+	        		<map>
+	           			<entry key="action" value="UsernameToken"/>
+	           			<entry key="passwordType" value="PasswordText"/>
+	           			<entry key="passwordCallbackRef">
+	             			 <ref bean="myPasswordCallback"/>
+	           			</entry>
+	       			</map>
+	     		</constructor-arg>
+ 			</bean>
+		</jaxws:inInterceptors>
+
+		<jaxws:properties>
+		  <entry key="mtom-enabled" value="true" />
+		</jaxws:properties>
+	</jaxws:endpoint>
 </beans>
\ No newline at end of file
