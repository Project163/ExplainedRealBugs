diff --git a/rt/transports/common/src/main/java/org/apache/cxf/transport/common/gzip/GZIPOutInterceptor.java b/rt/transports/common/src/main/java/org/apache/cxf/transport/common/gzip/GZIPOutInterceptor.java
index 3c7095070d..80f563a8c8 100644
--- a/rt/transports/common/src/main/java/org/apache/cxf/transport/common/gzip/GZIPOutInterceptor.java
+++ b/rt/transports/common/src/main/java/org/apache/cxf/transport/common/gzip/GZIPOutInterceptor.java
@@ -106,6 +106,11 @@ public class GZIPOutInterceptor extends AbstractPhaseInterceptor<Message> {
         super(Phase.PREPARE_SEND);
         addAfter(MessageSenderInterceptor.class.getName());
     }
+    public GZIPOutInterceptor(int threshold) {
+        super(Phase.PREPARE_SEND);
+        addAfter(MessageSenderInterceptor.class.getName());
+        this.threshold = threshold;
+    }
 
     public void setThreshold(int threshold) {
         this.threshold = threshold;
diff --git a/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalConduit.java b/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalConduit.java
index 1fdcdafad9..25eb5689d9 100644
--- a/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalConduit.java
+++ b/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalConduit.java
@@ -93,9 +93,11 @@ public class LocalConduit extends AbstractConduit {
         
         OutputStream out = message.getContent(OutputStream.class);
         out.flush();
+        out.close();
         
         CachedOutputStream stream = message.get(CachedOutputStream.class);
         copy.setContent(InputStream.class, stream.getInputStream());
+        copy.removeContent(CachedOutputStream.class);
 
         // Create a new incoming exchange and store the original exchange for the response
         ExchangeImpl ex = new ExchangeImpl();
diff --git a/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalDestination.java b/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalDestination.java
index 6cb068ba24..264a3f2f0a 100644
--- a/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalDestination.java
+++ b/rt/transports/local/src/main/java/org/apache/cxf/transport/local/LocalDestination.java
@@ -120,6 +120,7 @@ public class LocalDestination extends AbstractDestination {
             } else {
                 CachedOutputStream stream = new CachedOutputStream();
                 message.setContent(OutputStream.class, stream);
+                message.setContent(CachedOutputStream.class, stream);
             }
         }
 
@@ -130,8 +131,10 @@ public class LocalDestination extends AbstractDestination {
                 
                 MessageImpl copy = new MessageImpl();
                 copy.putAll(message);
+                message.getContent(OutputStream.class).close();
+                CachedOutputStream stream = message.getContent(CachedOutputStream.class);
+                message.setContent(OutputStream.class, stream);
                 MessageImpl.copyContent(message, copy);
-                CachedOutputStream stream = (CachedOutputStream)message.getContent(OutputStream.class);
                 copy.setContent(InputStream.class, stream.getInputStream());
                 if (exchange != null && exchange.getInMessage() == null) {
                     exchange.setInMessage(copy);
diff --git a/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/DirectDispatchClientTest.java b/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/DirectDispatchClientTest.java
index 99cee92246..f032fc5bf0 100644
--- a/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/DirectDispatchClientTest.java
+++ b/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/DirectDispatchClientTest.java
@@ -30,7 +30,11 @@ import javax.xml.ws.Service;
 
 import org.apache.cxf.Bus;
 import org.apache.cxf.BusFactory;
+import org.apache.cxf.endpoint.Client;
+import org.apache.cxf.frontend.ClientProxy;
 import org.apache.cxf.testutil.common.AbstractBusClientServerTestBase;
+import org.apache.cxf.transport.common.gzip.GZIPInInterceptor;
+import org.apache.cxf.transport.common.gzip.GZIPOutInterceptor;
 import org.apache.cxf.transport.local.LocalConduit;
 import org.apache.hello_world_soap_http.Greeter;
 
@@ -71,6 +75,9 @@ public class DirectDispatchClientTest extends AbstractBusClientServerTestBase {
         Greeter greeter = service.getPort(localPortName, Greeter.class);
         
         if (isDirectDispatch) {
+            Client client = ClientProxy.getClient(greeter);
+            client.getOutInterceptors().add(new GZIPOutInterceptor(50));
+            client.getInInterceptors().add(new GZIPInInterceptor());
             InvocationHandler handler  = Proxy.getInvocationHandler(greeter);
             BindingProvider  bp = null;
             if (handler instanceof BindingProvider) {
diff --git a/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/Server.java b/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/Server.java
index 166687562c..0167d10c3b 100644
--- a/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/Server.java
+++ b/systests/transports/src/test/java/org/apache/cxf/systest/local_transport/Server.java
@@ -19,10 +19,12 @@
 
 package org.apache.cxf.systest.local_transport;
 
+import javax.jws.WebService;
 import javax.xml.ws.Endpoint;
 
+import org.apache.cxf.annotations.GZIP;
 import org.apache.cxf.testutil.common.AbstractBusTestServerBase;
-import org.apache.hello_world_soap_http.GreeterImpl;
+import org.apache.hello_world_soap_http.BaseGreeterImpl;
 
 public class Server extends AbstractBusTestServerBase {
 
@@ -44,5 +46,17 @@ public class Server extends AbstractBusTestServerBase {
             System.out.println("done!");
         }
     }
+    
+
+    @WebService(serviceName = "SOAPService",
+                portName = "SoapPort",
+                endpointInterface = "org.apache.hello_world_soap_http.Greeter",
+                targetNamespace = "http://apache.org/hello_world_soap_http",
+                wsdlLocation = "testutils/hello_world.wsdl")
+    @GZIP(threshold = 50)            
+    public class GreeterImpl extends BaseGreeterImpl {
+
+
+    }
 }
 
