diff --git a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/TypeUtil.java b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/TypeUtil.java
index e80304e7f4..8a68113802 100644
--- a/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/TypeUtil.java
+++ b/rt/databinding/aegis/src/main/java/org/apache/cxf/aegis/type/TypeUtil.java
@@ -18,6 +18,8 @@
  */
 package org.apache.cxf.aegis.type;
 
+import java.lang.reflect.Array;
+import java.lang.reflect.GenericArrayType;
 import java.lang.reflect.ParameterizedType;
 import java.lang.reflect.Type;
 import java.util.logging.Logger;
@@ -249,6 +251,16 @@ public final class TypeUtil {
             ParameterizedType pType = (ParameterizedType) type;
             return getTypeRelatedClass(pType.getRawType());
         }
+        
+        if (type instanceof GenericArrayType) {
+            GenericArrayType gat = (GenericArrayType) type;
+            Type compType = gat.getGenericComponentType();
+            Class<?> arrayBaseType = getTypeRelatedClass(compType);
+            // belive it or not, this seems to be the only way to get the
+            // Class object for an array of primitive type.
+            Object instance = Array.newInstance(arrayBaseType, 0);
+            return instance.getClass();
+        }
         return null;
     }
 }
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/AbstractAegisTest.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/AbstractAegisTest.java
index 61ce2d1797..4d51f12bfa 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/AbstractAegisTest.java
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/AbstractAegisTest.java
@@ -56,6 +56,7 @@ import org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory;
 import org.apache.cxf.frontend.ServerFactoryBean;
 import org.apache.cxf.helpers.DOMUtils;
 import org.apache.cxf.helpers.MapNamespaceContext;
+import org.apache.cxf.interceptor.LoggingOutInterceptor;
 import org.apache.cxf.jaxws.JaxWsServerFactoryBean;
 import org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean;
 import org.apache.cxf.service.Service;
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionService.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionService.java
new file mode 100644
index 0000000000..019d75ceb9
--- /dev/null
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionService.java
@@ -0,0 +1,97 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.aegis.type.java5;
+
+import java.util.ArrayList;
+import java.util.Collection;
+import java.util.HashSet;
+import java.util.List;
+import java.util.Map;
+import java.util.SortedSet;
+import java.util.Stack;
+
+public class CollectionService implements CollectionServiceInterface {
+    
+    private Map<String, Map<String, BeanWithGregorianDate>> lastComplexMap;
+    
+    /** {@inheritDoc}*/
+    public Collection<String> getStrings() {
+        return null;
+    }
+
+    /** {@inheritDoc}*/
+    public void setLongs(Collection<Long> longs) {
+    }
+
+    /** {@inheritDoc}*/
+    public Collection getUnannotatedStrings() {
+        return null;
+    }
+
+    /** {@inheritDoc}*/
+    public Collection<Collection<String>> getStringCollections() {
+        return null;
+    }
+    
+    /** {@inheritDoc}*/
+    public void takeDoubleList(List<Double> doublesList) {
+    }
+    
+    /** {@inheritDoc}*/
+    public String takeSortedStrings(SortedSet<String> strings) {
+        return strings.first();
+    }
+
+    public void method1(List<String> headers1) {
+        // do nothing, this is purely for schema issues.
+    }
+
+    public String takeStack(Stack<String> strings) {
+        return strings.firstElement();
+    }
+
+    //CHECKSTYLE:OFF
+    public String takeUnsortedSet(HashSet<String> strings) {
+        return Integer.toString(strings.size());
+    }
+
+    public String takeArrayList(ArrayList<String> strings) {
+        return strings.get(0);
+    }
+    //CHECKSTYLE:ON
+
+    public void mapOfMapWithStringAndPojo(Map<String, Map<String, BeanWithGregorianDate>> bigParam) {
+        lastComplexMap = bigParam;
+    }
+
+    protected Map<String, Map<String, BeanWithGregorianDate>> getLastComplexMap() {
+        return lastComplexMap;
+    }
+
+    public Collection<double[]> returnCollectionOfPrimitiveArrays() {
+        List<double[]> data = new ArrayList<double[]>();
+        double[] dataArray = new double[] {3.14, 2.0, -666.6 };
+        data.add(dataArray);
+        dataArray = new double[] {-666.6, 3.14, 2.0, 0 };
+        data.add(dataArray);
+        return data;
+    }
+
+}
\ No newline at end of file
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionServiceInterface.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionServiceInterface.java
index e5774dad58..8cade66166 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionServiceInterface.java
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionServiceInterface.java
@@ -49,4 +49,6 @@ public interface CollectionServiceInterface {
     void method1(List<String> headers1);
     
     void mapOfMapWithStringAndPojo(Map<String, Map<String, BeanWithGregorianDate>> bigParam); 
+    
+    Collection<double[]> returnCollectionOfPrimitiveArrays();
 }
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTest.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTest.java
index e9bc67cde0..b87028c06c 100644
--- a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTest.java
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTest.java
@@ -21,24 +21,14 @@ package org.apache.cxf.aegis.type.java5;
 import java.beans.Introspector;
 import java.beans.PropertyDescriptor;
 import java.lang.reflect.Method;
-import java.util.ArrayList;
-import java.util.Collection;
-import java.util.HashMap;
-import java.util.HashSet;
-import java.util.List;
 import java.util.Map;
 import java.util.Set;
-import java.util.SortedSet;
-import java.util.Stack;
-import java.util.TreeSet;
 
 import javax.xml.namespace.QName;
 
 import org.w3c.dom.Document;
 
 import org.apache.cxf.aegis.AbstractAegisTest;
-import org.apache.cxf.aegis.databinding.AegisDatabinding;
-import org.apache.cxf.aegis.databinding.XFireCompatibilityServiceConfiguration;
 import org.apache.cxf.aegis.type.AegisType;
 import org.apache.cxf.aegis.type.DefaultTypeMapping;
 import org.apache.cxf.aegis.type.TypeCreationOptions;
@@ -48,7 +38,6 @@ import org.apache.cxf.aegis.type.java5.dto.CollectionDTO;
 import org.apache.cxf.aegis.type.java5.dto.DTOService;
 import org.apache.cxf.aegis.type.java5.dto.ObjectDTO;
 import org.apache.cxf.common.util.SOAPConstants;
-import org.apache.cxf.frontend.ClientProxyFactoryBean;
 
 import org.junit.Before;
 import org.junit.Test;
@@ -232,32 +221,7 @@ public class CollectionTest extends AbstractAegisTest {
                       doc);
     }
     
-    @Test
-    public void testListTypes() throws Exception {
-        createService(CollectionServiceInterface.class, new CollectionService(), null);
-        
-        ClientProxyFactoryBean proxyFac = new ClientProxyFactoryBean();
-        proxyFac.getServiceFactory().getServiceConfigurations().add(0, 
-                                                              new XFireCompatibilityServiceConfiguration());
-        proxyFac.setServiceClass(CollectionServiceInterface.class);
-        proxyFac.setDataBinding(new AegisDatabinding());
-        proxyFac.setAddress("local://CollectionServiceInterface");
-        proxyFac.setBus(getBus());
-
-        CollectionServiceInterface csi = (CollectionServiceInterface)proxyFac.create();
-        SortedSet<String> strings = new TreeSet<String>();
-        strings.add("Able");
-        strings.add("Baker");
-        String first = csi.takeSortedStrings(strings);
-        assertEquals("Able", first);
-        
-        //CHECKSTYLE:OFF
-        HashSet<String> hashedSet = new HashSet<String>();
-        hashedSet.addAll(strings);
-        String countString = csi.takeUnsortedSet(hashedSet);
-        assertEquals("2", countString);
-        //CHECKSTYLE:ON
-    }
+
     
     @Test
     public void testNestedMapType() throws Exception {
@@ -270,101 +234,4 @@ public class CollectionTest extends AbstractAegisTest {
         AegisType valueType = mapType.getValueType();
         assertFalse(valueType.getSchemaType().getLocalPart().contains("any"));
     }
-    
-    /**
-     * CXF-2017
-     * @throws Exception
-     */
-    @Test
-    public void testNestedMap() throws Exception {
-        CollectionService impl = new CollectionService();
-        createService(CollectionServiceInterface.class, impl, null);
-        
-        ClientProxyFactoryBean proxyFac = new ClientProxyFactoryBean();
-        proxyFac.getServiceFactory().getServiceConfigurations().add(0, 
-                                                              new XFireCompatibilityServiceConfiguration());
-        proxyFac.setServiceClass(CollectionServiceInterface.class);
-        proxyFac.setDataBinding(new AegisDatabinding());
-        proxyFac.setAddress("local://CollectionServiceInterface");
-        proxyFac.setBus(getBus());
-
-        CollectionServiceInterface csi = (CollectionServiceInterface)proxyFac.create();
-        
-        Map<String, Map<String, BeanWithGregorianDate>> complexMap;
-        complexMap = new HashMap<String, Map<String, BeanWithGregorianDate>>();
-        Map<String, BeanWithGregorianDate> innerMap = new HashMap<String, BeanWithGregorianDate>();
-        BeanWithGregorianDate bean = new BeanWithGregorianDate();
-        bean.setName("shem bean");
-        bean.setId(42);
-        innerMap.put("firstBean", bean);
-        complexMap.put("firstKey", innerMap);
-        csi.mapOfMapWithStringAndPojo(complexMap);
-        
-        Map<String, Map<String, BeanWithGregorianDate>> gotMap = impl.getLastComplexMap();
-        assertTrue(gotMap.containsKey("firstKey"));
-        Map<String, BeanWithGregorianDate> v = gotMap.get("firstKey");
-        BeanWithGregorianDate b = v.get("firstBean");
-        assertNotNull(b);
-        
-    }
-
-    public class CollectionService implements CollectionServiceInterface {
-        
-        private Map<String, Map<String, BeanWithGregorianDate>> lastComplexMap;
-        
-        /** {@inheritDoc}*/
-        public Collection<String> getStrings() {
-            return null;
-        }
-
-        /** {@inheritDoc}*/
-        public void setLongs(Collection<Long> longs) {
-        }
-
-        /** {@inheritDoc}*/
-        public Collection getUnannotatedStrings() {
-            return null;
-        }
-
-        /** {@inheritDoc}*/
-        public Collection<Collection<String>> getStringCollections() {
-            return null;
-        }
-        
-        /** {@inheritDoc}*/
-        public void takeDoubleList(List<Double> doublesList) {
-        }
-        
-        /** {@inheritDoc}*/
-        public String takeSortedStrings(SortedSet<String> strings) {
-            return strings.first();
-        }
-
-        public void method1(List<String> headers1) {
-            // do nothing, this is purely for schema issues.
-        }
-
-        public String takeStack(Stack<String> strings) {
-            return strings.firstElement();
-        }
-
-        //CHECKSTYLE:OFF
-        public String takeUnsortedSet(HashSet<String> strings) {
-            return Integer.toString(strings.size());
-        }
-
-        public String takeArrayList(ArrayList<String> strings) {
-            return strings.get(0);
-        }
-        //CHECKSTYLE:ON
-
-        public void mapOfMapWithStringAndPojo(Map<String, Map<String, BeanWithGregorianDate>> bigParam) {
-            lastComplexMap = bigParam;
-        }
-
-        protected Map<String, Map<String, BeanWithGregorianDate>> getLastComplexMap() {
-            return lastComplexMap;
-        }
-
-    }
 }
diff --git a/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTestsWithService.java b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTestsWithService.java
new file mode 100644
index 0000000000..6e49fcbf9b
--- /dev/null
+++ b/rt/databinding/aegis/src/test/java/org/apache/cxf/aegis/type/java5/CollectionTestsWithService.java
@@ -0,0 +1,125 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.aegis.type.java5;
+
+import java.util.Collection;
+import java.util.HashMap;
+import java.util.HashSet;
+import java.util.Map;
+import java.util.SortedSet;
+import java.util.TreeSet;
+
+import org.apache.cxf.aegis.AbstractAegisTest;
+import org.apache.cxf.aegis.databinding.AegisDatabinding;
+import org.apache.cxf.aegis.databinding.XFireCompatibilityServiceConfiguration;
+import org.apache.cxf.frontend.ClientProxyFactoryBean;
+
+import org.junit.Before;
+import org.junit.Test;
+
+/**
+ * 
+ */
+public class CollectionTestsWithService extends AbstractAegisTest {
+    
+    private CollectionServiceInterface csi;
+    private CollectionService impl;
+
+    @Before
+    public void before() {
+        impl = new CollectionService();
+        createService(CollectionServiceInterface.class, impl, null);
+        
+        ClientProxyFactoryBean proxyFac = new ClientProxyFactoryBean();
+        proxyFac.getServiceFactory().getServiceConfigurations().add(0, 
+                                                              new XFireCompatibilityServiceConfiguration());
+        proxyFac.setServiceClass(CollectionServiceInterface.class);
+        proxyFac.setDataBinding(new AegisDatabinding());
+        proxyFac.setAddress("local://CollectionServiceInterface");
+        proxyFac.setBus(getBus());
+
+        csi = (CollectionServiceInterface)proxyFac.create();
+    }
+    
+    /**
+     * CXF-2017
+     * @throws Exception
+     */
+    @Test
+    public void testNestedMap() throws Exception {
+        Map<String, Map<String, BeanWithGregorianDate>> complexMap;
+        complexMap = new HashMap<String, Map<String, BeanWithGregorianDate>>();
+        Map<String, BeanWithGregorianDate> innerMap = new HashMap<String, BeanWithGregorianDate>();
+        BeanWithGregorianDate bean = new BeanWithGregorianDate();
+        bean.setName("shem bean");
+        bean.setId(42);
+        innerMap.put("firstBean", bean);
+        complexMap.put("firstKey", innerMap);
+        csi.mapOfMapWithStringAndPojo(complexMap);
+        
+        Map<String, Map<String, BeanWithGregorianDate>> gotMap = impl.getLastComplexMap();
+        assertTrue(gotMap.containsKey("firstKey"));
+        Map<String, BeanWithGregorianDate> v = gotMap.get("firstKey");
+        BeanWithGregorianDate b = v.get("firstBean");
+        assertNotNull(b);
+        
+    }
+    
+    @Test
+    public void testListTypes() throws Exception {
+        SortedSet<String> strings = new TreeSet<String>();
+        strings.add("Able");
+        strings.add("Baker");
+        String first = csi.takeSortedStrings(strings);
+        assertEquals("Able", first);
+        
+        //CHECKSTYLE:OFF
+        HashSet<String> hashedSet = new HashSet<String>();
+        hashedSet.addAll(strings);
+        String countString = csi.takeUnsortedSet(hashedSet);
+        assertEquals("2", countString);
+        //CHECKSTYLE:ON
+        
+    }
+    
+    @Test
+    public void returnValueIsCollectionOfArrays() {
+        Collection<double[]> doubleDouble = csi.returnCollectionOfPrimitiveArrays();
+        assertEquals(2, doubleDouble.size());
+        double[][] data = new double[2][];
+
+        for (double[] array : doubleDouble) {
+            if (array.length == 3) {
+                data[0] = array;
+            } else {
+                data[1] = array;
+            }
+        }
+        assertNotNull(data[0]);
+        assertNotNull(data[1]);
+        assertEquals(3.14, data[0][0], .0001);
+        assertEquals(2, data[0][1], .0001);
+        assertEquals(-666.6, data[0][2], .0001);
+        assertEquals(-666.6, data[1][0], .0001);
+        assertEquals(3.14, data[1][1], .0001);
+        assertEquals(2.0, data[1][2], .0001);
+    }
+
+}
