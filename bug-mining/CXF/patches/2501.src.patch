diff --git a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/DestinationRegistryImpl.java b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/DestinationRegistryImpl.java
index edfe5c2cd8..539ba6f326 100644
--- a/rt/transports/http/src/main/java/org/apache/cxf/transport/http/DestinationRegistryImpl.java
+++ b/rt/transports/http/src/main/java/org/apache/cxf/transport/http/DestinationRegistryImpl.java
@@ -85,9 +85,19 @@ public class DestinationRegistryImpl implements DestinationRegistry {
     }
     
     public AbstractHTTPDestination checkRestfulRequest(String address) {
+        AbstractHTTPDestination ret = getRestfulDestination(getDestinationsPaths(), address);
+        if (ret == null) {
+            ret = getRestfulDestination(decodedDestinations.keySet(), address);
+        }
+        if (ret != null && ret.getMessageObserver() == null) {
+            return null;
+        }
+        return ret; 
+    }
+    private AbstractHTTPDestination getRestfulDestination(Set<String> destPaths, String address) {
         int len = -1;
         AbstractHTTPDestination ret = null;
-        for (String path : getDestinationsPaths()) {
+        for (String path : destPaths) {
             String thePath = path.length() > 1 && path.endsWith(SLASH) 
                 ? path.substring(0, path.length() - 1) : path;
             if ((address.equals(thePath) 
@@ -99,10 +109,7 @@ public class DestinationRegistryImpl implements DestinationRegistry {
                 len = path.length();
             }
         }
-        if (ret != null && ret.getMessageObserver() == null) {
-            return null;
-        }
-        return ret; 
+        return ret;
     }
 
     public Collection<AbstractHTTPDestination> getDestinations() {
diff --git a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
index c4df434fe9..72afb43972 100644
--- a/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
+++ b/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSClientServerSpringBookTest.java
@@ -97,7 +97,7 @@ public class JAXRSClientServerSpringBookTest extends AbstractBusClientServerTest
     
     @Test
     public void testGetBookWebEx4() throws Exception {
-        final String address = "http://localhost:" + PORT + "/the/thebooks3/bookstore/books/webex2"; 
+        final String address = "http://localhost:" + PORT + "/the/thebooks%203/bookstore/books/webex2"; 
         doTestGetBookWebEx(address);
         
     }
@@ -377,7 +377,7 @@ public class JAXRSClientServerSpringBookTest extends AbstractBusClientServerTest
     @Test
     public void testGetBookByUriInfo2() throws Exception {
         String endpointAddress =
-            "http://localhost:" + PORT + "/the/thebooks3/bookstore/bookinfo?"
+            "http://localhost:" + PORT + "/the/thebooks%203/bookstore/bookinfo?"
                                + "param1=12&param2=3"; 
         getBook(endpointAddress, "resources/expected_get_book123json.txt");
     }
diff --git a/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml b/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
index f1acd6de49..ab7c78ff9f 100644
--- a/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
+++ b/systests/jaxrs/src/test/resources/jaxrs/WEB-INF/beans.xml
@@ -55,7 +55,7 @@
             <bean class="org.apache.cxf.systest.jaxrs.CustomWebApplicationExceptionMapper"/>
         </jaxrs:providers>
     </jaxrs:server>
-    <jaxrs:server id="bookservice3" address="/thebooks3/bookstore">
+    <jaxrs:server id="bookservice3" address="/thebooks%203/bookstore">
         <jaxrs:serviceBeans>
             <ref bean="serviceBean"/>
         </jaxrs:serviceBeans>
