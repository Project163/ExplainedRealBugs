diff --git a/api/src/main/java/org/apache/cxf/wsdl/EndpointReferenceUtils.java b/api/src/main/java/org/apache/cxf/wsdl/EndpointReferenceUtils.java
index d2f55d1d7a..f179ed84fc 100644
--- a/api/src/main/java/org/apache/cxf/wsdl/EndpointReferenceUtils.java
+++ b/api/src/main/java/org/apache/cxf/wsdl/EndpointReferenceUtils.java
@@ -161,7 +161,7 @@ public final class EndpointReferenceUtils {
                 impl.setByteStream(new ByteArrayInputStream(ds));
                 done.add(newId + ":" + namespaceURI);
             }
-            if (impl == null && bus != null) {
+            if (impl == null && bus != null && systemId != null) {
                 ResourceManager rm = bus.getExtension(ResourceManager.class);
                 URL url = rm == null ? null : rm.resolveResource(systemId, URL.class);
                 if (url != null) {
