diff --git a/distribution/src/main/release/samples/jax_rs/sse_cdi/pom.xml b/distribution/src/main/release/samples/jax_rs/sse_cdi/pom.xml
index 516616fdaa..d566cefe25 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_cdi/pom.xml
+++ b/distribution/src/main/release/samples/jax_rs/sse_cdi/pom.xml
@@ -13,7 +13,7 @@
     
     <properties>
         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
-        <cxf.jetty9.version>9.3.5.v20151012</cxf.jetty9.version>
+        <cxf.jetty9.version>9.4.6.v20170531</cxf.jetty9.version>
     </properties>
 
     <dependencies>
@@ -53,13 +53,13 @@
         <dependency>
             <groupId>org.jboss.weld.servlet</groupId>
             <artifactId>weld-servlet</artifactId>
-            <version>2.2.16.Final</version>
+            <version>2.4.0.Final</version>
         </dependency>
 
         <dependency>
             <groupId>org.jboss.weld</groupId>
             <artifactId>weld-core</artifactId>
-            <version>2.2.16.Final</version>
+            <version>2.4.0.Final</version>
         </dependency>
 
         <dependency>
@@ -97,7 +97,6 @@
         <dependency>
             <groupId>io.reactivex.rxjava2</groupId>
             <artifactId>rxjava</artifactId>
-            <version>2.0.7</version>
         </dependency>
     </dependencies>
     
diff --git a/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/java/demo/jaxrs/sse/StatsApplication.java b/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/java/demo/jaxrs/sse/StatsApplication.java
index a313967bbd..6bfa2c8f97 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/java/demo/jaxrs/sse/StatsApplication.java
+++ b/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/java/demo/jaxrs/sse/StatsApplication.java
@@ -18,27 +18,9 @@
  */
 package demo.jaxrs.sse;
 
-import java.util.HashSet;
-import java.util.Set;
-
-import javax.inject.Inject;
 import javax.ws.rs.ApplicationPath;
 import javax.ws.rs.core.Application;
 
-import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;
-
-import org.apache.cxf.jaxrs.sse.SseFeature;
-
 @ApplicationPath("api")
 public class StatsApplication extends Application {
-    @Inject private StatsRestServiceImpl statsRestService;
-
-    @Override
-    public Set<Object> getSingletons() {
-        final Set<Object> singletons = new HashSet<>();
-        singletons.add(new SseFeature());
-        singletons.add(statsRestService);
-        singletons.add(new JacksonJsonProvider());
-        return singletons;
-    }
 }
diff --git a/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/resources/META-INF/beans.xml b/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/resources/META-INF/beans.xml
index c17c9c2267..b000c00fea 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/resources/META-INF/beans.xml
+++ b/distribution/src/main/release/samples/jax_rs/sse_cdi/src/main/resources/META-INF/beans.xml
@@ -5,6 +5,5 @@
 	version="1.1">	
 
 	<scan>
-		<exclude name="org.apache.cxf.**" />
 	</scan>
 </beans>
diff --git a/distribution/src/main/release/samples/jax_rs/sse_spring/pom.xml b/distribution/src/main/release/samples/jax_rs/sse_spring/pom.xml
index 308a0fd4c9..c47b98dbaa 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_spring/pom.xml
+++ b/distribution/src/main/release/samples/jax_rs/sse_spring/pom.xml
@@ -13,7 +13,7 @@
     
     <properties>
         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
-        <cxf.jetty9.version>9.3.5.v20151012</cxf.jetty9.version>
+        <cxf.jetty9.version>9.4.6.v20170531</cxf.jetty9.version>
     </properties>
 
     <dependencies>
diff --git a/distribution/src/main/release/samples/jax_rs/sse_tomcat/pom.xml b/distribution/src/main/release/samples/jax_rs/sse_tomcat/pom.xml
index 0f054e7d50..5257f67466 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_tomcat/pom.xml
+++ b/distribution/src/main/release/samples/jax_rs/sse_tomcat/pom.xml
@@ -94,7 +94,6 @@
         <dependency>
             <groupId>org.atmosphere</groupId>
             <artifactId>atmosphere-runtime</artifactId>
-            <version>2.4.3</version>
         </dependency>
     </dependencies>
     
diff --git a/distribution/src/main/release/samples/jax_rs/sse_tomcat/src/main/java/demo/jaxrs/sse/StatsServer.java b/distribution/src/main/release/samples/jax_rs/sse_tomcat/src/main/java/demo/jaxrs/sse/StatsServer.java
index 9a11851dd1..6adad0b885 100644
--- a/distribution/src/main/release/samples/jax_rs/sse_tomcat/src/main/java/demo/jaxrs/sse/StatsServer.java
+++ b/distribution/src/main/release/samples/jax_rs/sse_tomcat/src/main/java/demo/jaxrs/sse/StatsServer.java
@@ -52,6 +52,7 @@ public final class StatsServer {
 
         final Wrapper cxfServlet = Tomcat.addServlet(context, "cxfServlet", new CXFServlet());
         cxfServlet.addInitParameter(CXFServlet.TRANSPORT_ID, SseHttpTransportFactory.TRANSPORT_ID);
+        cxfServlet.setAsyncSupported(true);
         context.addServletMapping("/rest/*", "cxfServlet");
 
         final Context staticContext = server.addWebapp("/static", base.getAbsolutePath());
diff --git a/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/SseHttpTransportFactory.java b/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/SseHttpTransportFactory.java
index a02dd1d1c0..60ce249ee9 100644
--- a/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/SseHttpTransportFactory.java
+++ b/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/SseHttpTransportFactory.java
@@ -52,6 +52,9 @@ public class SseHttpTransportFactory extends HTTPTransportFactory
 
     @Override
     public Destination getDestination(EndpointInfo endpointInfo, Bus bus) throws IOException {
-        return new AtmosphereSseServletDestination(bus, getRegistry(), endpointInfo, endpointInfo.getAddress());
+        final AtmosphereSseServletDestination destination = new AtmosphereSseServletDestination(bus, getRegistry(), 
+            endpointInfo, endpointInfo.getAddress());
+        destination.finalizeConfig();
+        return destination;
     }
 }
\ No newline at end of file
diff --git a/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/atmosphere/AtmosphereSseServletDestination.java b/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/atmosphere/AtmosphereSseServletDestination.java
index 92d6115222..add8afa08d 100644
--- a/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/atmosphere/AtmosphereSseServletDestination.java
+++ b/rt/rs/sse/src/main/java/org/apache/cxf/transport/sse/atmosphere/AtmosphereSseServletDestination.java
@@ -22,6 +22,7 @@ package org.apache.cxf.transport.sse.atmosphere;
 import java.io.IOException;
 import java.io.OutputStream;
 import java.util.Collections;
+import java.util.Enumeration;
 import java.util.List;
 import java.util.Map;
 import java.util.logging.Level;
@@ -61,23 +62,89 @@ public class AtmosphereSseServletDestination extends ServletDestination {
             EndpointInfo ei, String path) throws IOException {
         super(bus, registry, ei, path);
 
-        framework = new AtmosphereFramework(true, false);
-        framework.interceptor(new SseAtmosphereInterceptor());
-        framework.addInitParameter(ApplicationConfig.PROPERTY_NATIVE_COMETSUPPORT, "true");
-        framework.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPORT, "true");
-        framework.addInitParameter(ApplicationConfig.DISABLE_ATMOSPHEREINTERCEPTOR, "true");
-        framework.addInitParameter(ApplicationConfig.CLOSE_STREAM_ON_CANCEL, "true");
-        // Atmosphere does not limit amount of threads and application can crash in no time
-        // https://github.com/Atmosphere/atmosphere/wiki/Configuring-Atmosphere-for-Performance
-        framework.addInitParameter(ApplicationConfig.BROADCASTER_MESSAGE_PROCESSING_THREADPOOL_MAXSIZE, "20");
-        framework.addInitParameter(ApplicationConfig.BROADCASTER_ASYNC_WRITE_THREADPOOL_MAXSIZE, "20");
-        framework.setBroadcasterCacheClassName(UUIDBroadcasterCache.class.getName());
-        framework.addAtmosphereHandler("/", new DestinationHandler());
-        framework.init();
+        framework = create();
 
         bus.getFeatures().add(new SseFeature());
     }
 
+    private AtmosphereFramework create() {
+        final AtmosphereFramework instance = new AtmosphereFramework(true, false);
+        
+        instance.interceptor(new SseAtmosphereInterceptor());
+        instance.addInitParameter(ApplicationConfig.PROPERTY_NATIVE_COMETSUPPORT, "true");
+        instance.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPORT, "true");
+        instance.addInitParameter(ApplicationConfig.DISABLE_ATMOSPHEREINTERCEPTOR, "true");
+        instance.addInitParameter(ApplicationConfig.CLOSE_STREAM_ON_CANCEL, "true");
+        // Atmosphere does not limit amount of threads and application can crash in no time
+        // https://github.com/Atmosphere/atmosphere/wiki/Configuring-Atmosphere-for-Performance
+        instance.addInitParameter(ApplicationConfig.BROADCASTER_MESSAGE_PROCESSING_THREADPOOL_MAXSIZE, "20");
+        instance.addInitParameter(ApplicationConfig.BROADCASTER_ASYNC_WRITE_THREADPOOL_MAXSIZE, "20");
+        // workaround for atmosphere's jsr356 initialization requiring servletConfig
+        instance.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPRESS_JSR356, "true");
+
+        instance.setBroadcasterCacheClassName(UUIDBroadcasterCache.class.getName());
+        instance.addAtmosphereHandler("/", new DestinationHandler());
+        
+        return instance;
+    }
+    
+    @Override
+    public void onServletConfigAvailable(ServletConfig config) throws ServletException {
+        // Very likely there is JSR-356 implementation available, let us reconfigure the Atmosphere framework
+        // to use it since ServletConfig instance is already available.
+        final Object container = config.getServletContext()
+            .getAttribute("javax.websocket.server.ServerContainer");
+
+        if (container != null) {
+            if (framework.initialized()) {
+                framework.destroy();
+            }
+            
+            framework = create();
+            framework.addInitParameter(ApplicationConfig.PROPERTY_NATIVE_COMETSUPPORT, "false");
+            framework.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPRESS_JSR356, "false");
+            
+            framework.init(config);
+        }
+    }
+    
+    @Override
+    public void finalizeConfig() {
+        if (framework.initialized()) {
+            return;
+        }
+        
+        final ServletContext ctx = bus.getExtension(ServletContext.class);
+        if (ctx != null) {
+            try {
+                framework.init(new ServletConfig() {
+                    @Override
+                    public String getServletName() {
+                        return null;
+                    }
+                    @Override
+                    public ServletContext getServletContext() {
+                        return ctx;
+                    }
+                    @Override
+                    public String getInitParameter(String name) {
+                        return null;
+                    }
+
+                    @Override
+                    public Enumeration<String> getInitParameterNames() {
+                        return null;
+                    }
+                });
+            } catch (ServletException e) {
+                // TODO Auto-generated catch block
+                e.printStackTrace();
+            }
+        } else {
+            framework.init();
+        }
+    }
+
     @Override
     public void invoke(ServletConfig config, ServletContext context, HttpServletRequest req,
             HttpServletResponse resp) throws IOException {
diff --git a/rt/rs/sse/src/main/resources/META-INF/beans.xml b/rt/rs/sse/src/main/resources/META-INF/beans.xml
index 8d1007d917..74cd1004e7 100644
--- a/rt/rs/sse/src/main/resources/META-INF/beans.xml
+++ b/rt/rs/sse/src/main/resources/META-INF/beans.xml
@@ -1,5 +1,6 @@
 <?xml version="1.0"?>
 <beans xmlns="http://java.sun.com/xml/ns/javaee"
 	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
-	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd">
+	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd"
+	bean-discovery-mode="all">
 </beans>
