diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/CXFOSGiTestSupport.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/CXFOSGiTestSupport.java
index a330a924b8..b5d7f06e1e 100644
--- a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/CXFOSGiTestSupport.java
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/CXFOSGiTestSupport.java
@@ -23,7 +23,6 @@ package org.apache.cxf.osgi.itests;
 import java.io.File;
 
 import jakarta.inject.Inject;
-
 import org.apache.cxf.testutil.common.TestUtil;
 import org.osgi.framework.Bundle;
 import org.osgi.framework.BundleContext;
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/BookStore.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/BookStore.java
index 1e2f735325..9c3fea39c0 100644
--- a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/BookStore.java
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/BookStore.java
@@ -49,14 +49,7 @@ import org.apache.cxf.validation.BeanValidationProvider;
 import org.hibernate.validator.HibernateValidator;
 import org.hibernate.validator.HibernateValidatorConfiguration;
 
-import io.swagger.v3.oas.annotations.Operation;
-import io.swagger.v3.oas.annotations.media.Content;
-import io.swagger.v3.oas.annotations.media.Schema;
-import io.swagger.v3.oas.annotations.responses.ApiResponse;
-import io.swagger.v3.oas.annotations.tags.Tag;
-
 @Path("/bookstore")
-@Tag(name = "BookStore")
 @Produces("application/xml")
 public class BookStore {
     private Map<Long, Book> books = new HashMap<>();
@@ -79,15 +72,6 @@ public class BookStore {
 
     @GET
     @Path("/books/{id}")
-    @Operation(
-            summary = "Get book by ID",
-            description = "Get operation with path parameter",
-            responses = {
-                @ApiResponse(content = @Content(schema = @Schema(implementation = Book.class)),
-                    description = "Book found", responseCode = "200"),
-                @ApiResponse(description = "Book not found", responseCode = "404")
-            }
-    )
     public Response getBookRoot(@PathParam("id") Long id) {
         assertInjections();
         Book b = books.get(id);
@@ -97,14 +81,6 @@ public class BookStore {
         return Response.ok(b).build();
     }
 
-    @Operation(
-            summary = "Update book by ID",
-            description = "Put operation with path parameter",
-            responses = {
-                @ApiResponse(description = "Book found and updated", responseCode = "200"),
-                @ApiResponse(description = "Book not found", responseCode = "404")
-            }
-    )
     @PUT
     @Path("/books/{id}")
     public Response updateBook(@PathParam("id") Long id, Book book) {
@@ -117,14 +93,6 @@ public class BookStore {
         return Response.ok().build();
     }
 
-    @Operation(
-            summary = "Create a book with validation",
-            description = "Post operation with entity in body and validation",
-            responses = {
-                @ApiResponse(description = "Book created", responseCode = "201"),
-                @ApiResponse(description = "Validation failed", responseCode = "400")
-            }
-    )
     @POST
     @Path("/books-validate")
     public Response createBookValidate(Book book) {
@@ -154,15 +122,6 @@ public class BookStore {
         return createBook(book);
     }
 
-
-    @Operation(
-            summary = "Create new book",
-            description = "Post operation with entity in body",
-            responses = {
-                @ApiResponse(description = "Book created", responseCode = "201"),
-                @ApiResponse(description = "Book with given ID already exists", responseCode = "409")
-            }
-    )
     @POST
     @Path("/books")
     public Response createBook(Book book) {
@@ -177,14 +136,6 @@ public class BookStore {
         return Response.created(createdURI).build();
     }
 
-    @Operation(
-            summary = "Delete a book",
-            description = "Delete operation with path param",
-            responses = {
-                @ApiResponse(description = "Book deleted", responseCode = "200"),
-                @ApiResponse(description = "Book not found", responseCode = "404")
-            }
-    )
     @DELETE
     @Path("/books/{id}")
     public Response removeBook(@PathParam("id") Long id) {
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsServiceTest.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsServiceTest.java
index 2e6bc1f89f..52555def1e 100644
--- a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsServiceTest.java
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsServiceTest.java
@@ -25,11 +25,6 @@ import jakarta.ws.rs.client.Entity;
 import jakarta.ws.rs.client.WebTarget;
 import jakarta.ws.rs.core.Response;
 import jakarta.ws.rs.core.Response.Status;
-
-import com.fasterxml.jackson.core.JsonProcessingException;
-import com.fasterxml.jackson.databind.ObjectMapper;
-import com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider;
-
 import org.apache.cxf.helpers.JavaUtils;
 import org.apache.cxf.osgi.itests.AbstractServerActivator;
 import org.apache.cxf.osgi.itests.CXFOSGiTestSupport;
@@ -48,9 +43,6 @@ import org.ops4j.pax.tinybundles.core.TinyBundles;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
-import static org.junit.Assert.assertTrue;
-import static org.junit.Assert.fail;
-import static org.ops4j.pax.exam.CoreOptions.mavenBundle;
 import static org.ops4j.pax.exam.CoreOptions.provision;
 import static org.ops4j.pax.exam.karaf.options.KarafDistributionOption.features;
 import static org.ops4j.pax.exam.karaf.options.KarafDistributionOption.logLevel;
@@ -62,13 +54,8 @@ public class JaxRsServiceTest extends CXFOSGiTestSupport {
 
     private static final String BASE_URL = "http://localhost:" + PORT + "/cxf/jaxrs/";
     private static final String BOOKSTORE_PATH = "bookstore";
-    private static final String SWAGGER_PATH = "api-docs";
-    private static final String OPEN_API_FILE_PATH = "openapi.json";
 
-    private final WebTarget wt = ClientBuilder
-        .newClient()
-        .register(JacksonJsonProvider.class)
-        .target(BASE_URL);
+    private final WebTarget wt = ClientBuilder.newClient().target(BASE_URL);
 
     @Test
     public void testJaxRsGet() throws Exception {
@@ -130,34 +117,6 @@ public class JaxRsServiceTest extends CXFOSGiTestSupport {
         assertStatus(Status.OK, response);
     }
 
-    @Test
-    public void testGetSwaggerUi() {
-        WebTarget swaggerWt = wt.path(SWAGGER_PATH).queryParam("url", "/cxf/jaxrs/openapi.json");
-        Response response = swaggerWt.request().get();
-        String swaggerFileHtml = response.readEntity(String.class);
-
-        assertStatus(Status.OK, response);
-        assertTrue(swaggerFileHtml.contains("<html"));
-        assertTrue(swaggerFileHtml.contains("<head>"));
-        assertTrue(swaggerFileHtml.contains("<title>Swagger UI</title>"));
-        assertTrue(swaggerFileHtml.contains("</html>"));
-    }
-
-    @Test
-    public void testGetOpenApiJsonFile() {
-        WebTarget openApiWt = wt.path(OPEN_API_FILE_PATH);
-        Response response = openApiWt.request().get();
-        String openApiJson = response.readEntity(String.class);
-
-        assertStatus(Status.OK, response);
-        try {
-            new ObjectMapper().readValue(openApiJson, Object.class);
-            assertTrue(openApiJson.contains("/bookstore/"));
-        } catch (JsonProcessingException e) {
-            fail();
-        }
-    }
-
     private static void assertStatus(Status expectedStatus, Response response) {
         assertEquals(expectedStatus.getStatusCode(), response.getStatus());
     }
@@ -166,9 +125,7 @@ public class JaxRsServiceTest extends CXFOSGiTestSupport {
     public Option[] config() {
         return OptionUtils.combine(
             cxfBaseConfig(),
-            features(cxfUrl, "cxf-core", "cxf-wsdl", "cxf-jaxrs", "cxf-bean-validation-core", "cxf-bean-validation",
-                    "cxf-rs-description-openapi-v3"),
-            mavenBundle("org.webjars", "swagger-ui").versionAsInProject(),
+            features(cxfUrl, "cxf-core", "cxf-wsdl", "cxf-jaxrs", "cxf-bean-validation-core", "cxf-bean-validation"),
             logLevel(LogLevel.INFO),
             testUtils(),
             provision(serviceBundle())
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsTestActivator.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsTestActivator.java
index b7176ba039..42eec4eada 100644
--- a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsTestActivator.java
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/JaxRsTestActivator.java
@@ -22,8 +22,6 @@ import org.apache.cxf.Bus;
 import org.apache.cxf.BusFactory;
 import org.apache.cxf.endpoint.Server;
 import org.apache.cxf.jaxrs.JAXRSServerFactoryBean;
-import org.apache.cxf.jaxrs.openapi.OpenApiFeature;
-import org.apache.cxf.jaxrs.swagger.ui.SwaggerUiConfig;
 import org.apache.cxf.osgi.itests.AbstractServerActivator;
 
 public class JaxRsTestActivator extends AbstractServerActivator {
@@ -35,14 +33,6 @@ public class JaxRsTestActivator extends AbstractServerActivator {
         JAXRSServerFactoryBean sf = new JAXRSServerFactoryBean();
         sf.setBus(bus);
         sf.setResourceClasses(BookStore.class);
-
-        OpenApiFeature openApiFeature = new OpenApiFeature();
-        openApiFeature.setScan(false);
-        SwaggerUiConfig swaggerUiConfig = new SwaggerUiConfig();
-        swaggerUiConfig.setUrl("/cxf/jaxrs/openapi.json");
-        openApiFeature.setSwaggerUiConfig(swaggerUiConfig);
-
-        sf.getFeatures().add(openApiFeature);
         sf.setAddress("/jaxrs");
         return sf.create();
     }
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiBookStore.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiBookStore.java
new file mode 100644
index 0000000000..9cf0b55894
--- /dev/null
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiBookStore.java
@@ -0,0 +1,101 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+
+package org.apache.cxf.osgi.itests.jaxrs;
+
+
+import jakarta.ws.rs.DELETE;
+import jakarta.ws.rs.Path;
+import jakarta.ws.rs.PathParam;
+import jakarta.ws.rs.core.Response;
+
+import io.swagger.v3.oas.annotations.Operation;
+import io.swagger.v3.oas.annotations.media.Content;
+import io.swagger.v3.oas.annotations.media.Schema;
+import io.swagger.v3.oas.annotations.responses.ApiResponse;
+import io.swagger.v3.oas.annotations.tags.Tag;
+
+@Tag(name = "BookStore")
+public class OpenApiBookStore extends BookStore {
+    @Operation(
+            summary = "Get book by ID",
+            description = "Get operation with path parameter",
+            responses = {
+                @ApiResponse(content = @Content(schema = @Schema(implementation = Book.class)),
+                    description = "Book found", responseCode = "200"),
+                @ApiResponse(description = "Book not found", responseCode = "404")
+            }
+    )
+    public Response getBookRoot(@PathParam("id") Long id) {
+        return super.getBookRoot(id);
+    }
+
+    @Operation(
+            summary = "Update book by ID",
+            description = "Put operation with path parameter",
+            responses = {
+                @ApiResponse(description = "Book found and updated", responseCode = "200"),
+                @ApiResponse(description = "Book not found", responseCode = "404")
+            }
+    )
+    public Response updateBook(@PathParam("id") Long id, Book book) {
+        return super.updateBook(id, book);
+    }
+
+    @Operation(
+            summary = "Create a book with validation",
+            description = "Post operation with entity in body and validation",
+            responses = {
+                @ApiResponse(description = "Book created", responseCode = "201"),
+                @ApiResponse(description = "Validation failed", responseCode = "400")
+            }
+    )
+    public Response createBookValidate(Book book) {
+        return super.createBookValidate(book);
+    }
+
+
+    @Operation(
+            summary = "Create new book",
+            description = "Post operation with entity in body",
+            responses = {
+                @ApiResponse(description = "Book created", responseCode = "201"),
+                @ApiResponse(description = "Book with given ID already exists", responseCode = "409")
+            }
+    )
+    public Response createBook(Book book) {
+        return super.createBook(book);
+    }
+
+    @Operation(
+            summary = "Delete a book",
+            description = "Delete operation with path param",
+            responses = {
+                @ApiResponse(description = "Book deleted", responseCode = "200"),
+                @ApiResponse(description = "Book not found", responseCode = "404")
+            }
+    )
+    @DELETE
+    @Path("/books/{id}")
+    public Response removeBook(@PathParam("id") Long id) {
+        return super.removeBook(id);
+    }
+}
+
+
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiServiceTest.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiServiceTest.java
new file mode 100644
index 0000000000..7879305deb
--- /dev/null
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiServiceTest.java
@@ -0,0 +1,161 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.osgi.itests.jaxrs;
+
+import java.io.InputStream;
+import java.util.concurrent.TimeUnit;
+import java.util.function.Supplier;
+
+import com.fasterxml.jackson.core.JsonProcessingException;
+import com.fasterxml.jackson.databind.ObjectMapper;
+
+import jakarta.ws.rs.client.ClientBuilder;
+import jakarta.ws.rs.client.WebTarget;
+import jakarta.ws.rs.core.Response;
+import jakarta.ws.rs.core.Response.Status;
+import org.apache.cxf.helpers.JavaUtils;
+import org.apache.cxf.osgi.itests.AbstractServerActivator;
+import org.apache.cxf.osgi.itests.CXFOSGiTestSupport;
+import org.osgi.framework.Constants;
+
+import org.junit.Test;
+import org.junit.runner.RunWith;
+import org.ops4j.pax.exam.Configuration;
+import org.ops4j.pax.exam.Option;
+import org.ops4j.pax.exam.OptionUtils;
+import org.ops4j.pax.exam.junit.PaxExam;
+import org.ops4j.pax.exam.karaf.options.LogLevelOption.LogLevel;
+import org.ops4j.pax.exam.spi.reactors.ExamReactorStrategy;
+import org.ops4j.pax.exam.spi.reactors.PerClass;
+import org.ops4j.pax.tinybundles.core.TinyBundles;
+
+import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.fail;
+import static org.ops4j.pax.exam.CoreOptions.mavenBundle;
+import static org.ops4j.pax.exam.CoreOptions.provision;
+import static org.ops4j.pax.exam.karaf.options.KarafDistributionOption.features;
+import static org.ops4j.pax.exam.karaf.options.KarafDistributionOption.logLevel;
+
+
+@RunWith(PaxExam.class)
+@ExamReactorStrategy(PerClass.class)
+public class OpenApiServiceTest extends CXFOSGiTestSupport {
+
+    private static final String BASE_URL = "http://localhost:" + PORT + "/cxf/jaxrs/";
+    private static final String SWAGGER_PATH = "api-docs";
+    private static final String OPEN_API_FILE_PATH = "openapi.json";
+
+    private final WebTarget wt = ClientBuilder.newClient().target(BASE_URL);
+
+    @Test
+    public void testGetSwaggerUi() {
+        WebTarget swaggerWt = wt.path(SWAGGER_PATH).queryParam("url", "/cxf/jaxrs/openapi.json");
+        
+        // It may take some time for all bundles to start and get activated
+        await(5, TimeUnit.SECONDS, () -> swaggerWt.request().head().getStatus() == 200);
+        
+        Response response = swaggerWt.request().get();
+        String swaggerFileHtml = response.readEntity(String.class);
+
+        assertStatus(Status.OK, response);
+        assertTrue(swaggerFileHtml.contains("<html"));
+        assertTrue(swaggerFileHtml.contains("<head>"));
+        assertTrue(swaggerFileHtml.contains("<title>Swagger UI</title>"));
+        assertTrue(swaggerFileHtml.contains("</html>"));
+    }
+
+    @Test
+    public void testGetOpenApiJsonFile() {
+        WebTarget openApiWt = wt.path(OPEN_API_FILE_PATH);
+        
+        // It may take some time for all bundles to start and get activated
+        await(5, TimeUnit.SECONDS, () -> openApiWt.request().head().getStatus() == 200);
+
+        Response response = openApiWt.request().get();
+        String openApiJson = response.readEntity(String.class);
+
+        assertStatus(Status.OK, response);
+        try {
+            new ObjectMapper().readValue(openApiJson, Object.class);
+            assertTrue(openApiJson.contains("/bookstore/"));
+        } catch (JsonProcessingException e) {
+            fail();
+        }
+    }
+
+    private static void assertStatus(Status expectedStatus, Response response) {
+        assertEquals(expectedStatus.getStatusCode(), response.getStatus());
+    }
+
+    @Configuration
+    public Option[] config() {
+        return OptionUtils.combine(
+            cxfBaseConfig(),
+            features(cxfUrl, "cxf-core", "cxf-wsdl", "cxf-jaxrs", "cxf-bean-validation-core", "cxf-bean-validation",
+                    "cxf-rs-description-openapi-v3"),
+            mavenBundle("org.webjars", "swagger-ui").versionAsInProject(),
+            logLevel(LogLevel.INFO),
+            testUtils(),
+            provision(serviceBundle())
+        );
+    }
+
+    private static InputStream serviceBundle() {
+        if (JavaUtils.isJava11Compatible()) {
+            return TinyBundles.bundle()
+                  .add(AbstractServerActivator.class)
+                  .add(OpenApiTestActivator.class)
+                  .add(Book.class)
+                  .add(BookStore.class)
+                  .add(OpenApiBookStore.class)
+                  .set(Constants.BUNDLE_ACTIVATOR, OpenApiTestActivator.class.getName())
+                  .set("Require-Capability", "osgi.ee;filter:=\"(&(osgi.ee=JavaSE)(version=11))\"")
+                  .build(TinyBundles.withBnd());
+        } else {
+            return TinyBundles.bundle()
+                .add(AbstractServerActivator.class)
+                .add(OpenApiTestActivator.class)
+                .add(Book.class)
+                .add(BookStore.class)
+                .add(OpenApiBookStore.class)
+                .set(Constants.BUNDLE_ACTIVATOR, OpenApiTestActivator.class.getName())
+                .build(TinyBundles.withBnd());
+        }
+    }
+    
+    private static void await(int timeout, TimeUnit unit, Supplier<Boolean> condition) {
+        final int periods = 10;
+        final long millis = Math.max(1, unit.toMillis(timeout) / periods);
+        
+        for (int i = 0; i < periods; ++i) {
+            if (condition.get()) {
+                return;
+            }
+            
+            try {
+                Thread.sleep(millis);
+            } catch (InterruptedException e) {
+                break;
+            }
+        }
+        
+        fail("Waited at most " + unit.toMillis(timeout) + "ms, but condition was not met");
+    }
+}
diff --git a/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiTestActivator.java b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiTestActivator.java
new file mode 100644
index 0000000000..aafc17fe39
--- /dev/null
+++ b/osgi/itests/src/test/java/org/apache/cxf/osgi/itests/jaxrs/OpenApiTestActivator.java
@@ -0,0 +1,49 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements. See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership. The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License. You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied. See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.cxf.osgi.itests.jaxrs;
+
+import org.apache.cxf.Bus;
+import org.apache.cxf.BusFactory;
+import org.apache.cxf.endpoint.Server;
+import org.apache.cxf.jaxrs.JAXRSServerFactoryBean;
+import org.apache.cxf.jaxrs.openapi.OpenApiFeature;
+import org.apache.cxf.jaxrs.swagger.ui.SwaggerUiConfig;
+import org.apache.cxf.osgi.itests.AbstractServerActivator;
+
+public class OpenApiTestActivator extends AbstractServerActivator {
+
+    @Override
+    protected Server createServer() {
+        Bus bus = BusFactory.newInstance().createBus();
+        bus.setExtension(OpenApiTestActivator.class.getClassLoader(), ClassLoader.class);
+        JAXRSServerFactoryBean sf = new JAXRSServerFactoryBean();
+        sf.setBus(bus);
+        sf.setResourceClasses(OpenApiBookStore.class);
+
+        OpenApiFeature openApiFeature = new OpenApiFeature();
+        openApiFeature.setScan(false);
+        SwaggerUiConfig swaggerUiConfig = new SwaggerUiConfig();
+        swaggerUiConfig.setUrl("/cxf/jaxrs/openapi.json");
+        openApiFeature.setSwaggerUiConfig(swaggerUiConfig);
+
+        sf.getFeatures().add(openApiFeature);
+        sf.setAddress("/jaxrs");
+        return sf.create();
+    }
+}
