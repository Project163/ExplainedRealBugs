<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:56:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4608] DOMSource is returned rather than StAXSource</title>
                <link>https://issues.apache.org/jira/browse/CXF-4608</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;A Service created from a WSDL that has doc literal wrapped operations will always return DOMSource regardless of the source type requested by the Dispatch.invoke method.&lt;/p&gt;

&lt;p&gt;For example using a WSDL such as: &lt;a href=&quot;http://www.xignite.com/xQuotes.asmx?WSDL&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.xignite.com/xQuotes.asmx?WSDL&lt;/a&gt;, the following code highlights the issue with a class cast exception on the last line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Service service = Service.create(wsdl, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.xignite.com/services/&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;XigniteQuotes&quot;&lt;/span&gt;));
&lt;/span&gt;Dispatch&amp;lt;T&amp;gt; dispatch = wsdlService.createDispatch(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.xignite.com/services/&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;XigniteQuotesSoap&quot;&lt;/span&gt;), StAXSource.class, Service.Mode.PAYLOAD);
&lt;/span&gt;QName opQName = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.xignite.com/services/&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;GetFundQuote&quot;&lt;/span&gt;);
&lt;/span&gt;dispatch.getRequestContext().put(MessageContext.WSDL_OPERATION, opQName); 
StAXSource result = dispatch.invoke(someDoc);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12614403">CXF-4608</key>
            <summary>DOMSource is returned rather than StAXSource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="shawkins">Steven Hawkins</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 17:31:21 +0000</created>
                <updated>Wed, 19 Dec 2012 14:38:37 +0000</updated>
                            <resolved>Thu, 1 Nov 2012 20:42:31 +0000</resolved>
                                    <version>2.4.2</version>
                                    <fixVersion>2.5.7</fixVersion>
                    <fixVersion>2.6.4</fixVersion>
                    <fixVersion>2.7.1</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13488923" author="dkulp" created="Thu, 1 Nov 2012 18:48:36 +0000"  >&lt;p&gt;Can you try with a newer version of CXF?&lt;/p&gt;

&lt;p&gt;I just added a system test to our test suite:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/cxf/trunk/systests/jaxws/src/test/java/org/apache/cxf/systest/dispatch/DispatchClientServerTest.java?r1=1404719&amp;amp;r2=1404718&amp;amp;pathrev=1404719&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/cxf/trunk/systests/jaxws/src/test/java/org/apache/cxf/systest/dispatch/DispatchClientServerTest.java?r1=1404719&amp;amp;r2=1404718&amp;amp;pathrev=1404719&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;to test the StAXSource with the Dispatch and it works perfectly.   The returned value is a proper StAXSource.&lt;/p&gt;
</comment>
                            <comment id="13488951" author="shawkins" created="Thu, 1 Nov 2012 19:20:49 +0000"  >&lt;p&gt;This still failed for me when I updated to 2.7.0.  Does it matter that I&apos;m using javax.xml.ws.Service.create vs. the unit test using new SoapService?&lt;/p&gt;</comment>
                            <comment id="13488968" author="dkulp" created="Thu, 1 Nov 2012 19:36:15 +0000"  >
&lt;p&gt;Updated the test for that:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/cxf/trunk/systests/jaxws/src/test/java/org/apache/cxf/systest/dispatch/DispatchClientServerTest.java?r1=1404730&amp;amp;r2=1404731&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/cxf/trunk/systests/jaxws/src/test/java/org/apache/cxf/systest/dispatch/DispatchClientServerTest.java?r1=1404730&amp;amp;r2=1404731&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and it still works fine.   Any chance you can create a full small testcase?  Preferably maven based.   I&apos;m really not sure what would be causing any difference at this point.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13488969" author="dkulp" created="Thu, 1 Nov 2012 19:43:14 +0000"  >&lt;p&gt;&lt;br/&gt;
Actually, was just able to reproduce it....  digging in.&lt;/p&gt;</comment>
                            <comment id="13488972" author="dkulp" created="Thu, 1 Nov 2012 19:46:31 +0000"  >
&lt;p&gt;It something in the code around setting the operation name.  If you instead do:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        dispatch.getRequestContext().put(&lt;span class=&quot;code-quote&quot;&gt;&quot;SOAPAction&quot;&lt;/span&gt;,
                                         &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.xignite.com/services/GetFundQuote&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then it does work.    Still digging, but found a workaround.&lt;/p&gt;</comment>
                            <comment id="13488984" author="shawkins" created="Thu, 1 Nov 2012 20:05:54 +0000"  >&lt;p&gt;It&apos;s the setting of the WSDL_OPERATION that seems to be causing the issue. On 2.4.6 and 2.7.0 even if I set the soapaction, as long as the wsdl_operation is set then I&apos;ll get the wrong result.&lt;/p&gt;</comment>
                            <comment id="13489013" author="dkulp" created="Thu, 1 Nov 2012 20:42:32 +0000"  >&lt;p&gt;&lt;br/&gt;
Fixes committed to the various branches.&lt;/p&gt;</comment>
                            <comment id="13489079" author="shawkins" created="Thu, 1 Nov 2012 22:22:58 +0000"  >&lt;p&gt;Thanks for the fix.  Is specifying just the soap action a suitable workaround for 2.4?&lt;/p&gt;</comment>
                            <comment id="13489407" author="dkulp" created="Fri, 2 Nov 2012 13:08:32 +0000"  >&lt;p&gt;&lt;br/&gt;
It kind of depends on what you need from the WSDL.   If you just need the SOAPAction, then the action fix is definitely usable.   If you need more than that (primarily would be things like WS-Security Policy fragments or similar), then a deeper workaround would be needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0e4u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>