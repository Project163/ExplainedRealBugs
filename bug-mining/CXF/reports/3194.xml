<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:29:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7584] proxy client: forbid empty path param</title>
                <link>https://issues.apache.org/jira/browse/CXF-7584</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/{p}&quot;&lt;/span&gt;)
void doSmth(@PathParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;p&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; p);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;invoked like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
client.doSmth(&quot;&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;cause wrong endpoint called&lt;/p&gt;</description>
                <environment></environment>
        <key id="13123699">CXF-7584</key>
            <summary>proxy client: forbid empty path param</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="amarkevich">Alexey Markevich</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Dec 2017 12:55:54 +0000</created>
                <updated>Wed, 7 Feb 2018 14:52:08 +0000</updated>
                            <resolved>Mon, 11 Dec 2017 10:51:23 +0000</resolved>
                                    <version>3.2.1</version>
                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>3.1.15</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16283489" author="githubbot" created="Fri, 8 Dec 2017 12:57:21 +0000"  >&lt;p&gt;amarkevich opened a new pull request #354: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7584&quot; title=&quot;proxy client: forbid empty path param&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7584&quot;&gt;&lt;del&gt;CXF-7584&lt;/del&gt;&lt;/a&gt; proxy client: forbid empty path param&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/354&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16283503" author="sergey_beryozkin" created="Fri, 8 Dec 2017 13:18:10 +0000"  >&lt;p&gt;Hi Alexey&lt;br/&gt;
Thanks for the patch, it looks fine for the purpose of making sure client proxies function correctly, but changing it at the UriBuilder is sensitive, at a pure URI building level providing an empty template value is not disallowed and as such may cause unexpected side-effects; please consider doing a basic check at the ClientProxyImpl level, where it is indeed problematic to supply empty path values as it may case unexpected call to say &quot;GET orders&quot; as opposed to &quot;GET orders/1&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, may be try to check at the end of ClientProxyImpl.getPathParamValues &lt;/p&gt;</comment>
                            <comment id="16285728" author="githubbot" created="Mon, 11 Dec 2017 10:24:22 +0000"  >&lt;p&gt;asfgit closed pull request #354: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7584&quot; title=&quot;proxy client: forbid empty path param&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7584&quot;&gt;&lt;del&gt;CXF-7584&lt;/del&gt;&lt;/a&gt; proxy client: forbid empty path param&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/354&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java b/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java&lt;br/&gt;
index c012c6bec83..dbf8a540d77 100644&lt;br/&gt;
&amp;#8212; a/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java&lt;br/&gt;
+++ b/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/AbstractClient.java&lt;br/&gt;
@@ -45,6 +45,7 @@&lt;br/&gt;
 import java.util.concurrent.atomic.AtomicBoolean;&lt;br/&gt;
 import java.util.logging.Logger;&lt;/p&gt;

&lt;p&gt;+import javax.ws.rs.PathParam;&lt;br/&gt;
 import javax.ws.rs.ProcessingException;&lt;br/&gt;
 import javax.ws.rs.WebApplicationException;&lt;br/&gt;
 import javax.ws.rs.client.InvocationCallback;&lt;br/&gt;
@@ -82,6 +83,7 @@&lt;br/&gt;
 import org.apache.cxf.jaxrs.model.ParameterType;&lt;br/&gt;
 import org.apache.cxf.jaxrs.model.URITemplate;&lt;br/&gt;
 import org.apache.cxf.jaxrs.provider.ProviderFactory;&lt;br/&gt;
+import org.apache.cxf.jaxrs.utils.AnnotationUtils;&lt;br/&gt;
 import org.apache.cxf.jaxrs.utils.ExceptionUtils;&lt;br/&gt;
 import org.apache.cxf.jaxrs.utils.HttpUtils;&lt;br/&gt;
 import org.apache.cxf.jaxrs.utils.InjectionUtils;&lt;br/&gt;
@@ -807,7 +809,14 @@ protected String convertParamValue(Object pValue, Class&amp;lt;?&amp;gt; pClass, Annotation[]&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return pValue == null ? null : pValue.toString();&lt;br/&gt;
+        final String v = pValue == null ? null : pValue.toString();&lt;br/&gt;
+        if (null == v || v.isEmpty()) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            final PathParam pp = AnnotationUtils.getAnnotation(anns, PathParam.class);+            if (null != pp) {
+                throw new IllegalArgumentException(&quot;Value for &quot; + pp.value() + &quot; is not specified&quot;);
+            }+        }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;+        return v;&lt;br/&gt;
     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     protected static void reportMessageHandlerProblem(String name, Class&amp;lt;?&amp;gt; cls, MediaType ct, Throwable ex) {&lt;br/&gt;
diff --git a/rt/rs/client/src/test/java/org/apache/cxf/jaxrs/client/JAXRSClientFactoryBeanTest.java b/rt/rs/client/src/test/java/org/apache/cxf/jaxrs/client/JAXRSClientFactoryBeanTest.java&lt;br/&gt;
index 9e48aaf4ab7..d2ff8d7d12d 100644&lt;br/&gt;
&amp;#8212; a/rt/rs/client/src/test/java/org/apache/cxf/jaxrs/client/JAXRSClientFactoryBeanTest.java&lt;br/&gt;
+++ b/rt/rs/client/src/test/java/org/apache/cxf/jaxrs/client/JAXRSClientFactoryBeanTest.java&lt;br/&gt;
@@ -35,6 +35,7 @@&lt;br/&gt;
 import org.apache.cxf.jaxrs.model.UserOperation;&lt;br/&gt;
 import org.apache.cxf.jaxrs.model.UserResource;&lt;br/&gt;
 import org.apache.cxf.jaxrs.resources.Book;&lt;br/&gt;
+import org.apache.cxf.jaxrs.resources.BookInterface;&lt;br/&gt;
 import org.apache.cxf.jaxrs.resources.BookStore;&lt;br/&gt;
 import org.apache.cxf.jaxrs.resources.BookStoreSubresourcesOnly;&lt;br/&gt;
 import org.apache.cxf.message.Message;&lt;br/&gt;
@@ -194,7 +195,25 @@ public void testComplexProxy() throws Exception &lt;/p&gt;
{
         assertNotNull(productResourceElement);
     }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private class TestFeature extends AbstractFeature {&lt;br/&gt;
+    @Test(expected = IllegalArgumentException.class)&lt;br/&gt;
+    public void testInvokePathNull() throws Exception 
{
+        JAXRSClientFactoryBean bean = new JAXRSClientFactoryBean();
+        bean.setAddress(&quot;http://bar&quot;);
+        bean.setResourceClass(BookInterface.class);
+        BookInterface store = bean.create(BookInterface.class);
+        store.getBook(null);
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test(expected = IllegalArgumentException.class)&lt;br/&gt;
+    public void testInvokePathEmpty() throws Exception &lt;/p&gt;
{
+        JAXRSClientFactoryBean bean = new JAXRSClientFactoryBean();
+        bean.setAddress(&quot;http://bar&quot;);
+        bean.setResourceClass(BookInterface.class);
+        BookInterface store = bean.create(BookInterface.class);
+        store.getBook(&quot;&quot;);
+    }
&lt;p&gt;+&lt;br/&gt;
+    private static class TestFeature extends AbstractFeature {&lt;br/&gt;
         private TestInterceptor testInterceptor;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         @Override&lt;br/&gt;
@@ -208,7 +227,7 @@ protected boolean isInitialized() {&lt;br/&gt;
         }&lt;br/&gt;
     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private class TestInterceptor extends AbstractPhaseInterceptor&amp;lt;Message&amp;gt; {&lt;br/&gt;
+    private static class TestInterceptor extends AbstractPhaseInterceptor&amp;lt;Message&amp;gt; {&lt;br/&gt;
         private boolean isInitialized;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         TestInterceptor() {&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16285754" author="sergey_beryozkin" created="Mon, 11 Dec 2017 10:51:00 +0000"  >&lt;p&gt;Alexey, thanks for updating the patch, applied it, only added a property just in case even though it is hard to see why, with template path variables, one would like to optionally &apos;collapse&apos; a path segment...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3novb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>