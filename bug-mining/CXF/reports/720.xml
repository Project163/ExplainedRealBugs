<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:43:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3041] AsymmetricBinding used only for response causes error</title>
                <link>https://issues.apache.org/jira/browse/CXF-3041</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When specifying AsymmetricBinding at the operation level but only using it for the response message, the request message is sent with a signature and the server throws an exception (tested with both 2.2.10 and the 2.3 nightly):&lt;br/&gt;
org.w3c.dom.DOMException: Cannot find Reference in Manifest&lt;br/&gt;
	at org.apache.xml.security.signature.Manifest.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.xml.security.signature.SignedInfo.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.xml.security.signature.XMLSignature.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.ws.security.processor.SignatureProcessor.verifyXMLSignature(SignatureProcessor.java:197)&lt;br/&gt;
	at org.apache.ws.security.processor.SignatureProcessor.handleToken(SignatureProcessor.java:97)&lt;br/&gt;
	at org.apache.ws.security.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:326)&lt;/p&gt;

&lt;p&gt;Here&apos;s an edited version of the WSDL (intended to demonstrate using message-level encryption only in one direction):&lt;br/&gt;
&amp;lt;wsdl:definitions targetNamespace=&quot;http://ws.sosnoski.com/library/wsdl&quot;&lt;br/&gt;
    xmlns:wns=&quot;http://ws.sosnoski.com/library/wsdl&quot;&lt;br/&gt;
    xmlns:tns=&quot;http://ws.sosnoski.com/library/types&quot;&lt;br/&gt;
    xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&lt;br/&gt;
    xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;!-- Policy for asymmetric binding with the certificate included in the message from&lt;br/&gt;
   client to server but only a thumbprint on messages from the server to the client. --&amp;gt;&lt;br/&gt;
  &amp;lt;wsp:Policy wsu:Id=&quot;AsymmBinding&quot; xmlns:wsu=&lt;br/&gt;
      &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;br/&gt;
      xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot;&lt;br/&gt;
      xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;sp:AsymmetricBinding&amp;gt;&lt;br/&gt;
      &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
        &amp;lt;sp:InitiatorToken&amp;gt;&lt;br/&gt;
          &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
            &amp;lt;sp:X509Token sp:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient&quot;&amp;gt;&lt;br/&gt;
              &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
                &amp;lt;sp:RequireThumbprintReference/&amp;gt;&lt;br/&gt;
              &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
            &amp;lt;/sp:X509Token&amp;gt;&lt;br/&gt;
          &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
        &amp;lt;/sp:InitiatorToken&amp;gt;&lt;br/&gt;
        &amp;lt;sp:RecipientToken&amp;gt;&lt;br/&gt;
          &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
            &amp;lt;sp:X509Token sp:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never&quot;&amp;gt;&lt;br/&gt;
              &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
                &amp;lt;sp:RequireThumbprintReference/&amp;gt;&lt;br/&gt;
              &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
            &amp;lt;/sp:X509Token&amp;gt;&lt;br/&gt;
          &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
        &amp;lt;/sp:RecipientToken&amp;gt;&lt;br/&gt;
        &amp;lt;sp:AlgorithmSuite&amp;gt;&lt;br/&gt;
          &amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
            &amp;lt;sp:Basic128Rsa15/&amp;gt;&lt;br/&gt;
          &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
        &amp;lt;/sp:AlgorithmSuite&amp;gt;&lt;br/&gt;
      &amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
    &amp;lt;/sp:AsymmetricBinding&amp;gt;&lt;br/&gt;
  &amp;lt;/wsp:Policy&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;!-- Policy for signing the message body. --&amp;gt;&lt;br/&gt;
  &amp;lt;wsp:Policy wsu:Id=&quot;SignBody&quot; xmlns:wsu=&lt;br/&gt;
      &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;br/&gt;
      xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot;&lt;br/&gt;
      xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;sp:SignedParts&amp;gt;&lt;br/&gt;
      &amp;lt;sp:Body/&amp;gt;&lt;br/&gt;
    &amp;lt;/sp:SignedParts&amp;gt;&lt;br/&gt;
  &amp;lt;/wsp:Policy&amp;gt;&lt;/p&gt;

&lt;p&gt;  ...&lt;/p&gt;

&lt;p&gt;  &amp;lt;wsdl:binding name=&quot;LibrarySoapBinding&quot; type=&quot;wns:Library&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;wsdlsoap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;wsdl:operation name=&quot;getBook&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#AsymmBinding&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;wsdlsoap:operation soapAction=&quot;urn:getBook&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;wsdl:input name=&quot;getBookRequest&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;wsdlsoap:body use=&quot;literal&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/wsdl:input&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;wsdl:output name=&quot;getBookResponse&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#SignBody&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;wsdlsoap:body use=&quot;literal&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/wsdl:output&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;/wsdl:operation&amp;gt;&lt;br/&gt;
    ...&lt;br/&gt;
  &amp;lt;/wsdl:binding&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
&amp;lt;/wsdl:definitions&amp;gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s the actual request message:&lt;br/&gt;
&amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;soap:Header&amp;gt;&lt;br/&gt;
      &amp;lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; soap:mustUnderstand=&quot;1&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;wsse:BinarySecurityToken xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot; ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; wsu:Id=&quot;CertId-797FFC48A8BEF2669712863570548321&quot;&amp;gt;MIICoD....n33w==&amp;lt;/wsse:BinarySecurityToken&amp;gt;&lt;br/&gt;
         &amp;lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;Signature-1&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;ds:SignedInfo&amp;gt;&lt;br/&gt;
               &amp;lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&amp;gt;&lt;br/&gt;
               &amp;lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/ds:SignedInfo&amp;gt;&lt;br/&gt;
            &amp;lt;ds:SignatureValue&amp;gt;L422ALMnyFgf5WZiEixkUiaGY08otO3qRtm9C6mhWuZukFnmz0XmvggN03B6tcd1zE1nHWKUD0bLeOQ1RLjnd8LCL/+zYjnWOEtALZHPwJfJW5r9xq42DFIWVg2llVDw83rgShU5IhbBUMvdHv5zP/Y6xPipVysxDzPZS8t2gpM=&amp;lt;/ds:SignatureValue&amp;gt;&lt;br/&gt;
            &amp;lt;ds:KeyInfo Id=&quot;KeyId-797FFC48A8BEF2669712863570548432&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;wsse:SecurityTokenReference xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;STRId-797FFC48A8BEF2669712863570548463&quot;&amp;gt;&lt;br/&gt;
                  &amp;lt;wsse:Reference xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; URI=&quot;#CertId-797FFC48A8BEF2669712863570548321&quot; ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;/&amp;gt;&lt;br/&gt;
               &amp;lt;/wsse:SecurityTokenReference&amp;gt;&lt;br/&gt;
            &amp;lt;/ds:KeyInfo&amp;gt;&lt;br/&gt;
         &amp;lt;/ds:Signature&amp;gt;&lt;br/&gt;
      &amp;lt;/wsse:Security&amp;gt;&lt;br/&gt;
   &amp;lt;/soap:Header&amp;gt;&lt;br/&gt;
   &amp;lt;soap:Body&amp;gt;&lt;br/&gt;
      &amp;lt;getBook xmlns=&quot;http://ws.sosnoski.com/library/wsdl&quot; xmlns:ns2=&quot;http://ws.sosnoski.com/library/types&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;isbn&amp;gt;0061020052&amp;lt;/isbn&amp;gt;&lt;br/&gt;
      &amp;lt;/getBook&amp;gt;&lt;br/&gt;
   &amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;To use the attached .tgz, edit the build.properties cxf-home property to set the home directory for you CXF installation, and build with Ant (default target). This generates the .war, and you can then run the client with the Ant target &quot;run&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12476645">CXF-3041</key>
            <summary>AsymmetricBinding used only for response causes error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="dsosnoski">Dennis M. Sosnoski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Oct 2010 09:37:13 +0000</created>
                <updated>Mon, 6 Dec 2010 22:48:51 +0000</updated>
                            <resolved>Mon, 15 Nov 2010 15:46:54 +0000</resolved>
                                    <version>2.2.10</version>
                                    <fixVersion>2.2.12</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12918484" author="gmazza" created="Wed, 6 Oct 2010 12:07:28 +0000"  >&lt;p&gt;In the behavior of such &quot;one way Asymmetric Binding&quot; defined anywhere &amp;#8211; I&apos;m not sure how this is supposed to work.&lt;/p&gt;

&lt;p&gt;Main things I could find on the &apos;Net, a blog explanation&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and the WS-SecPol 1.2 explanation&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, both appeared to define AsymmetricBinding as a purely two-way street.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://thilinamb.wordpress.com/2009/08/19/ws-security-policy-assymetric-binding-explained/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://thilinamb.wordpress.com/2009/08/19/ws-security-policy-assymetric-binding-explained/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826560&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12918720" author="dsosnoski" created="Wed, 6 Oct 2010 22:47:53 +0000"  >&lt;p&gt;I think Thilina&apos;s blog is based on his understanding of this feature for the Rampart implementation, so I can&apos;t see it as a very definitive reference. As far as the standard goes, I don&apos;t see anything in the AsymmetricBinding description which defines it as a purely two-way street. What in particular are you looking at with this?&lt;/p&gt;

&lt;p&gt;WSSP does say that AsymmetricBinding can be used at either the endpoint or the operation level, and that the actual SignedParts or EncryptedParts can be used at the message level, so this does give a way of creating policies that apply signing or encryption to only certain messages. This would be difficult to make work in the fully general case - for instance, if you only wanted to encrypt the response from the server using the client&apos;s certificate, without that certificate being used in the request - but this case only requires that each side have access to it&apos;s own private key and the certificate of the other side.&lt;/p&gt;

&lt;p&gt;Unfortunately, WSSP defines a structure for expressing what you want done without ever saying exactly what is or is not supposed to work. Personally, I think any standard of this type should be required to provide a fairly comprehensive set of examples to help resolve just this type of issue. FWIW, Metro is able to handle this case.&lt;/p&gt;</comment>
                            <comment id="12918721" author="dsosnoski" created="Wed, 6 Oct 2010 22:49:30 +0000"  >&lt;p&gt;Cut out most of the certificate data so this will fit in a more-reasonable width.&lt;/p&gt;</comment>
                            <comment id="12918748" author="gmazza" created="Thu, 7 Oct 2010 00:43:55 +0000"  >&lt;p&gt;I think we&apos;re talking two different things, with me misunderstanding you.  If I understand you correctly now, you just want to encrypt the SOAP request but not sign it, and CXF is complaining about that, correct?  As message-level encryption allows you to define what needs signing and what needs encrypting, it is probably indeed a CXF bug if it is requiring the SOAP request to be signed while the WS-SecPol statements are not requiring it.&lt;/p&gt;</comment>
                            <comment id="12918772" author="dsosnoski" created="Thu, 7 Oct 2010 02:24:43 +0000"  >&lt;p&gt;Actually I want to only sign the response message, as specified by the policy. Even though the AsymmetricBinding is set at the operation level, nothing is specified for signing or encrypting in the request message.&lt;/p&gt;

&lt;p&gt;The CXF client is generating a signature for the request message, which was not requested. The CXF server complains about this, which is probably correct.&lt;/p&gt;</comment>
                            <comment id="12918778" author="gmazza" created="Thu, 7 Oct 2010 04:06:27 +0000"  >&lt;p&gt;quote: &quot;Even though the AsymmetricBinding is set at the operation level, nothing is specified for signing or encrypting in the request message.&quot;&lt;/p&gt;

&lt;p&gt;Oh, but by default then everything should be signed and encrypted in the request message.  So long as AsymmetricBinding is defined at the operation level, it should not be necessary to define message-level encryption and signature policy reference rules in order to activate either--deactivate maybe, but not activate. I don&apos;t see why the default should be nothing.&lt;/p&gt;

&lt;p&gt;To answer your earlier question:  &quot;As far as the standard goes, I don&apos;t see anything in the AsymmetricBinding description which defines it as a purely two-way street. What in particular are you looking at with this?&quot;&lt;/p&gt;

&lt;p&gt;In particular, the sentence: &quot;The AsymmetricBinding assertion is used in scenarios in which message protection is provided by means defined in WSS: SOAP Message Security using asymmetric key (Public Key) technology.&quot;&lt;/p&gt;

&lt;p&gt;Here, we need a definition of what &quot;asymmetric key technology&quot; is.  Thilna&apos;s non-normative definition from the blog entry is:&lt;/p&gt;

&lt;p&gt;In asymmetric binding, message encryption and signing takes place using the Public Key Infrastructure(PKI), i.e. sender encrypts messages using the public key of the recipient and sign the messages using his private key. Then the recipient can decrypt the received messages using his private key and verify the signature of the message using the public key of the sender. This way, the confidentiality, integrity and the non-repudiation properties of the message exchanges can be assured.&lt;/p&gt;

&lt;p&gt;The Wikipedia entry (&lt;a href=&quot;http://en.wikipedia.org/wiki/Public-key_cryptography&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Public-key_cryptography&lt;/a&gt;) says much the same.  That should be the default (as it&apos;s the most idiot-proof setting)--sign and encrypt everything in both directions.  As of this moment, I don&apos;t see the bug here.  &lt;/p&gt;

&lt;p&gt;quote: &quot;The CXF client is generating a signature for the request message, which was not requested.&quot;&lt;br/&gt;
I&apos;m not an expert at reading policy, but I would argue it &lt;b&gt;was&lt;/b&gt; requested, because you did not explicitly shut it off at the message level, no?&lt;/p&gt;</comment>
                            <comment id="12918782" author="dsosnoski" created="Thu, 7 Oct 2010 04:41:30 +0000"  >&lt;p&gt;Glen, I understand that you&apos;re assuming the default should be to sign and encrypt everything if AsymmetricBinding is defined. However, I can see nothing in the WS-SP standard that backs up this assumption. Just because asymmetric encryption can be used in both directions doesn&apos;t mean it should automatically be applied to everything.&lt;/p&gt;

&lt;p&gt;WS-SP has specific assertions for specifying what message components are to be signed and/or encrypted, the SignedParts/SignedElements and EncryptedParts/EncryptedElements/ContentEncryptedElements assertions. If the intent of the WS-SP writers was to make these values default to &quot;everything&quot;, I would have expected them to make some statement to that effect.&lt;/p&gt;

&lt;p&gt;As for explicitly shutting off signing at the message level, AFAIK WS-SP does not provide any way of doing this.&lt;/p&gt;</comment>
                            <comment id="12918837" author="gmazza" created="Thu, 7 Oct 2010 08:44:22 +0000"  >&lt;p&gt;Dennis, you keep using phrases like &quot;I can see nothing .... that suggests that....&quot; to imply that there is something that states the opposite, i.e., what you want.  Look at your statements:&lt;/p&gt;

&lt;p&gt;However, I can see nothing in the WS-SP standard that backs up this assumption &lt;span class=&quot;error&quot;&gt;&amp;#91;that AB is a two-way street&amp;#93;&lt;/span&gt;. &lt;br/&gt;
==&amp;gt; But there is equally nothing in the WS-SP standard that suggests it can be a one-way street.&lt;/p&gt;

&lt;p&gt;If the intent of the WS-SP writers was to make these values default to &quot;everything&quot;, I would have expected them to make some statement to that effect.&lt;br/&gt;
==&amp;gt;  The statement above is just as valid with the word &quot;nothing&quot;, i.e., what you want.  I.e., the above sentence is meaningless if you are trying to make an argument in favor of what you want.&lt;/p&gt;

&lt;p&gt;Even though the AsymmetricBinding is set at the operation level, nothing is specified for signing or encrypting in the request message. &lt;br/&gt;
==&amp;gt;  Nothing is specified for &lt;b&gt;not&lt;/b&gt; signing or encrypting the request message either.&lt;/p&gt;

&lt;p&gt;These are for web services that can hold people&apos;s sensitive data, such as credit card information, so it would appear to me that the most secure option (sign &amp;amp; encrypt everything if nothing specified) should be the default to make things idiot-proof, i.e., for newbie or novice or lazy developers just setting up security without much attention to detail, everything will be handled perfectly securely.  Those like you who know what they are doing can go in and reduce the amount of security, but it&apos;s dangerous to rely on newbies to properly &lt;b&gt;add&lt;/b&gt; in security.&lt;/p&gt;

&lt;p&gt;When hotel room doors shut, they lock by default.  They don&apos;t stay unlocked and require the person staying there or leaving the room to manually lock the door.  It&apos;s the same principle.&lt;/p&gt;

&lt;p&gt;&quot;As for explicitly shutting off signing at the message level, AFAIK WS-SP does not provide any way of doing this.&quot;&lt;/p&gt;

&lt;p&gt;Maybe there&apos;s a reason for that--namely, that Assymmetric Binding is meant to provide both encryption and integrity/non-repudiation, and signatures are a vital part of the latter.  Maybe the WS-SP writers wanted to make things idiot-proof by disallowing it.  I don&apos;t know.  Maybe if I could get a fuller use case of what you&apos;re trying to do I could understand the need for this better.&lt;/p&gt;</comment>
                            <comment id="12918881" author="dsosnoski" created="Thu, 7 Oct 2010 10:55:19 +0000"  >&lt;p&gt;Glen, you&apos;re the one who&apos;s making all kind of bold statements about how this all works, without any justification in the standard (instead drawing on blogs, Wikipedia general articles on encryption, and... hotel room door analogies?). If one-way encryption or signing is &lt;b&gt;not&lt;/b&gt; intended to be supported by the standard, why does the standard not make signing or encrypting the default (which it does not, no matter how much you think it &lt;b&gt;should&lt;/b&gt; do so)? And why does the standard explicitly allow the SignedParts/EncryptedParts assertions to be attached at the message level? This would make no sense if the intent was to always apply signing and encryption in both directions.&lt;/p&gt;

&lt;p&gt;As to the use case, there are many situations where only one direction of information flow needs to be signed. For example, it makes sense to sign responses from a government server providing official information, so that the response can be saved and provided if proof of the response is needed later (the equivalent of a certified document). It&apos;s a little more difficult to come up with examples where encryption is only needed in one direction, but I&apos;m sure there are real situations of that type, too.&lt;/p&gt;</comment>
                            <comment id="12918945" author="gmazza" created="Thu, 7 Oct 2010 15:22:51 +0000"  >&lt;p&gt;I think I can get a little bit more authoritative:&lt;/p&gt;

&lt;p&gt;From here: &lt;a href=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826512&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you just specify /sp:SignedParts, with no child elements, body and certain headers &lt;b&gt;must&lt;/b&gt; be signed. Quote: This assertion specifies the parts of the message that need integrity protection. If no child elements are specified, all message headers targeted at the UltimateReceiver role &lt;span class=&quot;error&quot;&gt;&amp;#91;SOAP12&amp;#93;&lt;/span&gt; or actor &lt;span class=&quot;error&quot;&gt;&amp;#91;SOAP11&amp;#93;&lt;/span&gt; and the body of the message MUST be integrity protected.&lt;/p&gt;

&lt;p&gt;From here: &lt;a href=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826515&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html#_Toc161826515&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you just specify /sp:EncryptedParts, body alone must be encrypted: This assertion specifies the parts of the message that need confidentiality protection. The single child element of this assertion specifies the set of message parts using an extensible dialect. If no child elements are specified, the body of the message MUST be confidentiality protected.&lt;/p&gt;

&lt;p&gt;In other words, the spec folk have already defined the most idiot-proof defaults if you just use this:&lt;/p&gt;

&lt;p&gt;&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:SignedParts/&amp;gt;&lt;br/&gt;
&amp;lt;sp:EncryptedParts/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;/p&gt;

&lt;p&gt;I would submit that those should be the same defaults if you fail to attach a Policy at all to the message. However, I concede there&apos;s nothing in the spec to suggest that (or the contrary for that matter). As WS-SecPol 1.3 is still in development, perhaps you can make suggestions to them on providing an ability to clearly and unambiguously shutting off of encryption and/or signing from either the request or response. At the very least, to have them clearly specify what the default message level encryption/signature policy is if you don&apos;t attach a message policy reference to the message.&lt;/p&gt;

&lt;p&gt;Your quote: For example, it makes sense to sign responses from a government server providing official information, so that the response can be saved and provided if proof of the response is needed later (the equivalent of a certified document).&lt;/p&gt;

&lt;p&gt;Actually, that&apos;s not the point, I need to know why it is so important &lt;b&gt;not&lt;/b&gt; to sign the request or encrypt in both directions, I understand you don&apos;t care about it being signed, but why MUST it not be signed? Performance is certainly an argument, but not enough in my view to trump idiot-proofing.&lt;/p&gt;

&lt;p&gt;Incidentally, you can probably do what you want in CXF by &lt;b&gt;not&lt;/b&gt; using Policy statements but just the traditional interceptors instead:&lt;br/&gt;
&lt;a href=&quot;http://www.jroller.com/gmazza/entry/cxf_x509_profile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.jroller.com/gmazza/entry/cxf_x509_profile&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12919071" author="dsosnoski" created="Thu, 7 Oct 2010 21:31:08 +0000"  >&lt;p&gt;Yes, &lt;b&gt;if&lt;/b&gt; you include an empty sp:SignedParts assertion, &lt;b&gt;then&lt;/b&gt; the body and certain headers must be signed. How do you use that to justify the assumption that if you &lt;b&gt;don&apos;t&lt;/b&gt; include an sp:SignedParts assertion the same thing is supposed to occur? The writers of the standard specifically stated one case, don&apos;t you think they would have specifically stated the other case, too, if that&apos;s what they intended?&lt;/p&gt;

&lt;p&gt;I did a quick search and found at least one documented example of AsymmetricBinding used only for encrypting one component of the message, only sent in one direction. In this case it&apos;s used for just encrypting a UsernameToken: &lt;a href=&quot;http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_configmsglvlpolicyset.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_configmsglvlpolicyset.html&lt;/a&gt; For most people this example would be enough to show that your arguments are wrong, but I suspect you won&apos;t be convinced. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12919192" author="gmazza" created="Fri, 8 Oct 2010 07:55:13 +0000"  >&lt;p&gt;Your first two questions I answered as well as I could in my immediately preceding response.  I believe your next step is to go to the WS-SecPol WG and get clarification from them to get more ammo before coming back here.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what your example is showing, it just overrides the defaults by -&lt;del&gt;&amp;gt;explicitly&amp;lt;&lt;/del&gt;- signing/encrypting one thing, the UsernameToken--nothing about what happens when you omit the SignedParts/EncryptedParts tags entirely.  Also, nothing one way or the other is being said about the response.  At any rate, when I had earlier showed the Axis2/Rampart example &lt;b&gt;not&lt;/b&gt; supporting what you had wanted you had dismissed individual implementations as not sufficiently definitive enough on how things should be implemented.&lt;/p&gt;</comment>
                            <comment id="12927320" author="dsosnoski" created="Tue, 2 Nov 2010 06:48:58 +0000"  >&lt;p&gt;The WS-SecPolicy WG does not respond to questions about usage, as far as I&apos;ve ever seen, so I think your suggestion is not intended to be helpful.&lt;/p&gt;

&lt;p&gt;If you&apos;re correct that everything should be signed and encrypted by default, and that the standard somehow forgot to mention this seemingly crucial point, then both CXF and all the other stacks I&apos;m aware are broken because they don&apos;t do this. If I&apos;m correct that only those components specified by the policy should be signed or encrypted, then the issue is somewhat simpler in that CXF just needs to stop generating a signature block if no components are being signed. Either way, the current behavior is wrong.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456485" name="effective3.tgz" size="14789" author="dsosnoski" created="Wed, 6 Oct 2010 09:51:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>