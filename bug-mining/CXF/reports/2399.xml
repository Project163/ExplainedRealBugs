<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:12:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6041] Corba Binding is throwing a ObjectNotActive Corba exception being thrown back to application code on endpoint/bus shutdown</title>
                <link>https://issues.apache.org/jira/browse/CXF-6041</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;On updating CXF from 2.3.5 to 2.7.12 in our product we noticed that our CorbaBinding tests are failing during bus shutdown with the ORB (Orbix in this case).&lt;/p&gt;

&lt;p&gt;It appears that a CXF commit around CXF 2.5 added a &quot;deactivate()&quot; call into the CorbaDestination.stop() method: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit 88835b13e975c1716cc241c3caaf886c1f52ca40
Author: J. Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;
Date:   Fri Mar 23 14:54:49 2012 +0000

    Fix problem with calling stop()on Corba endpoints not properly
    de-registering the endpoint.

    git-svn-id: https://svn.apache.org/repos/asf/cxf/trunk@1304394 13f79535-47bb-0310-9956-ffa450edef68
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This method gets hit during either Endpoint.stop() call or a Bus.shutdown() call, when we&apos;ve already published a Corba Endpoint (via the JAX_WS Endpoint.publish() api.  The stop()/shutdown() results in an ObjectNotActive Corba exception being thrown.  From what I can see, I&apos;d gather we&apos;ve one of two scenarios happening here:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;There&apos;s another deactivate_object() call on a POA instance with the same oid, the second call will emit an ObjectNotActive.&lt;/li&gt;
	&lt;li&gt;The objectId is never in the AOM, and deactivate_object() will throw the exception when it can&apos;t be found.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Either way expecting the application code to catch such an exception isn&apos;t the right thing to be doing IMO.&lt;/p&gt;

&lt;p&gt;Below is a proposed git patch for 2.7.12 (it&apos;s identical for 3.0.1), that will have CXF consume the ObjectNotActive exception, and just log (at info level) that it&apos;s being caught.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/rt/bindings/corba/src/main/java/org/apache/cxf/binding/corba/CorbaDestination.java b/rt/bindings/corba/src/main/java/org/apache/cxf/binding/corba/CorbaDestination.java
index b94de2f..ed1deb9 100644
--- a/rt/bindings/corba/src/main/java/org/apache/cxf/binding/corba/CorbaDestination.java
+++ b/rt/bindings/corba/src/main/java/org/apache/cxf/binding/corba/CorbaDestination.java
@@ -52,6 +52,7 @@ import org.omg.PortableServer.LifespanPolicyValue;
 import org.omg.PortableServer.POA;
 import org.omg.PortableServer.POAHelper;
 import org.omg.PortableServer.POAManager;
+import org.omg.PortableServer.POAPackage.ObjectNotActive;
 import org.omg.PortableServer.RequestProcessingPolicyValue;
 import org.omg.PortableServer.Servant;
 import org.omg.PortableServer.ThreadPolicyValue;
@@ -356,6 +357,9 @@ public class CorbaDestination implements MultiplexDestination {

             try {
                 bindingPOA.deactivate_object(objectId);
+            } catch (ObjectNotActive ona) {
+                LOG.info(&quot;Caught ObjectNotActive exception: &quot; + ona
+                         + &quot; during deactivate_object() call on POA: &quot; + bindingPOA);
             } catch (Exception ex) {
                 throw new CorbaBindingException(&quot;Unable to deactivate CORBA servant&quot;, ex);
             }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux, and Windows, although should be evident on all platforms&lt;/p&gt;</environment>
        <key id="12746970">CXF-6041</key>
            <summary>Corba Binding is throwing a ObjectNotActive Corba exception being thrown back to application code on endpoint/bus shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="khalligan">Keith Halligan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Oct 2014 09:16:58 +0000</created>
                <updated>Mon, 16 Feb 2015 16:09:06 +0000</updated>
                            <resolved>Tue, 28 Oct 2014 18:30:16 +0000</resolved>
                                    <version>2.7.12</version>
                    <version>3.0.1</version>
                                    <fixVersion>3.0.3</fixVersion>
                    <fixVersion>2.7.14</fixVersion>
                                    <component>CORBA Binding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20z8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>