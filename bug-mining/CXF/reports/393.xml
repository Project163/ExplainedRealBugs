<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2474] DocLiteralInInterceptor.handleMessage(Message) does not handle use case where message part is an XMLStreamReader</title>
                <link>https://issues.apache.org/jira/browse/CXF-2474</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The DocLiteralInInterceptor.handleMessage(Message) method breaks on the use case where the message part is an XMLStreamReader.&lt;/p&gt;

&lt;p&gt;The code seems to assume that line 188:&lt;/p&gt;

&lt;p&gt;                    o = dr.read(p, xmlReader);&lt;/p&gt;

&lt;p&gt;actually &quot;reads&quot; the message XML from xmlReader and advances to the next message part.  Not so when dr is an XMLStreamDataReader.  In that case, o is in fact xmlReader itself.&lt;/p&gt;

&lt;p&gt;We need to check in the while condition at line 195 that o != xmlReader (or come up with a more elegant solution).  I&apos;m attaching a patch that does that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438178">CXF-2474</key>
            <summary>DocLiteralInInterceptor.handleMessage(Message) does not handle use case where message part is an XMLStreamReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="msa@allman.ms">Michael Allman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Oct 2009 08:42:11 +0000</created>
                <updated>Fri, 4 Dec 2009 22:34:07 +0000</updated>
                            <resolved>Thu, 15 Oct 2009 16:20:02 +0000</resolved>
                                    <version>2.2.4</version>
                    <version>2.2.5</version>
                                    <fixVersion>2.2.5</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12765976" author="msa@allman.ms" created="Thu, 15 Oct 2009 08:42:30 +0000"  >&lt;p&gt;Proposed fix&lt;/p&gt;</comment>
                            <comment id="12766110" author="dkulp" created="Thu, 15 Oct 2009 16:20:02 +0000"  >
&lt;p&gt;I did provide the suggested fix, but one major note is that the StaxDatabinding specifically states in it&apos;s javadoc that it doesn&apos;t work with the standard interceptors.   You should be using the StaxDatabinding feature thing that removes those interceptors.&lt;/p&gt;

&lt;p&gt;Either that or (preferrably for 2.2.5) change to the SourceDatabinding which does work with better with them and provides some extra flexibility as well as better testing (due to the JAX-WS providers using it).   Additional features and stuff will be added to the SourceDatabinding and probably not the StaxDatabinding.&lt;/p&gt;
</comment>
                            <comment id="12766472" author="msa@allman.ms" created="Fri, 16 Oct 2009 08:27:51 +0000"  >&lt;p&gt;Daniel,&lt;/p&gt;

&lt;p&gt;I can&apos;t use the SourceDataBinding.  Its DataWriter does not handle the case where the object to write is an instance of XMLStreamWriterCallback.  My invoke method returns an object of that type.  That&apos;s one reason I&apos;m not using JAX-WS in the first place, but that&apos;s a different story...&lt;/p&gt;

&lt;p&gt;Can you elaborate on the &quot;StaxDatabinding feature thing that removes those interceptors&quot; as I don&apos;t know what that is?&lt;/p&gt;

&lt;p&gt;Cheers.&lt;/p&gt;</comment>
                            <comment id="12766690" author="dkulp" created="Fri, 16 Oct 2009 20:41:00 +0000"  >
&lt;p&gt;With 2.2.5, the SourceDatabinding properly supports either the Java6  javax.xml.transform.stax.StAXSource object or our own org.apache.cxf.staxutils.StaxSource (subclass of SAXSource) which can hold onto the XMLStreamReader.&lt;/p&gt;

&lt;p&gt;In anycase, if you configure in a feature of class org.apache.cxf.databinding.stax.StaxDataBindingFeature  (see &lt;a href=&quot;http://cxf.apache.org/docs/features.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/features.html&lt;/a&gt;), it should remove the interceptors it has problems with and put in a new one.&lt;/p&gt;</comment>
                            <comment id="12766954" author="msa@allman.ms" created="Sat, 17 Oct 2009 20:23:59 +0000"  >&lt;p&gt;WRT SourceDatabinding, yes, I see that it supports javax.xml.transform.stax.StAXSource.  However, it does not support return values of type XMLStreamWriterCallback.  Are there plans to support this?  Writing the response using an XMLStreamWriter is &lt;b&gt;much&lt;/b&gt; easier than using an XMLStreamReader.  If you want, I can work on a patch.&lt;/p&gt;

&lt;p&gt;As far as the StaxDataBindingFeature goes, I&apos;ve written the code but have been unable to test it yet.  I will write again when I&apos;ve confirmed it&apos;s working.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12767642" author="msa@allman.ms" created="Tue, 20 Oct 2009 01:07:30 +0000"  >&lt;p&gt;I have verified that the StaxDataBindingFeature works for me. This eliminates my need to use the patch.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12422197" name="DocLiteralInInterceptor.patch" size="1077" author="msa@allman.ms" created="Thu, 15 Oct 2009 08:42:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sy3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>