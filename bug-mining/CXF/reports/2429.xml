<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:12:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6118] Schema Validation refinements</title>
                <link>https://issues.apache.org/jira/browse/CXF-6118</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Disabling input schema-validation for my &amp;lt;jaxws:client&amp;gt; was unsuccessful following the docs. Neither &apos;false&apos; nor &apos;NONE&apos; were effective and the client (an integration test) was still validating &amp;amp; throwing exceptions.&lt;/p&gt;

&lt;p&gt;Debugging the CXF code, I found Message.SCHEMA_VALIDATION_ENABLED being set to &apos;IN&apos; by code in AbstractInDatabindingInterceptor.setOperationSchemaValidation(). This setting of &apos;IN&apos; appears to be coming from the Service/ Endpoint definitions!&lt;/p&gt;

&lt;p&gt;I had defined the service (LoanApplicationWS) as validating IN (by means of annotations). When I changed the service validation to NONE, client was no longer forced to validate.&lt;/p&gt;

&lt;p&gt;There are two issues here:&lt;br/&gt;
1) Service/Endpoint validation settings, should not automatically be overriding Client settings &lt;br/&gt;
2) Service OUT validation corresponds to Client IN validation;  the directions are inverted.&lt;/p&gt;

&lt;p&gt;The background here, is to extend a service &amp;amp; schema designed for &quot;complete&quot; Loan Applications to be able to retrieve &quot;draft&quot; applications &amp;#8211; which are only partly-formed, and thus do not include some elements required in the schema.&lt;/p&gt;

&lt;p&gt;For this reason, I intend to disable output validation of the Service; and correspondingly disable input validation at the Client.&lt;/p&gt;

&lt;p&gt;However, CXF is somehow finding validation settings Service/Endpoint and applying them (in an incorrect directional sense) to the Client.&lt;/p&gt;

&lt;p&gt;I&apos;ve included screenshots of the Client 1) broken and 2) working, according to changes to the Service validation setting.&lt;/p&gt;

&lt;p&gt;Please find a partial project attached containing a few relevant files &amp;amp; the screenshots.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Regards&lt;br/&gt;
Thomas&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.7.0_51,&lt;br/&gt;
Spring Framework 3.2.0,&lt;br/&gt;
Windows 7&lt;/p&gt;</environment>
        <key id="12758118">CXF-6118</key>
            <summary>Schema Validation refinements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jpell">Jason Pell</assignee>
                                    <reporter username="thomasw_nz">Thomas Whitmore</reporter>
                        <labels>
                            <label>client</label>
                            <label>operation</label>
                            <label>schema</label>
                            <label>validation</label>
                    </labels>
                <created>Thu, 27 Nov 2014 02:29:59 +0000</created>
                <updated>Sat, 13 Dec 2014 03:15:44 +0000</updated>
                            <resolved>Mon, 1 Dec 2014 03:04:08 +0000</resolved>
                                    <version>2.7.8</version>
                    <version>2.7.13</version>
                    <version>3.0.2</version>
                                    <fixVersion>3.0.3</fixVersion>
                    <fixVersion>2.7.14</fixVersion>
                    <fixVersion>3.1</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14227165" author="thomasw_nz" created="Thu, 27 Nov 2014 02:31:17 +0000"  >&lt;p&gt;See screenshots in root of folder particularly.&lt;/p&gt;</comment>
                            <comment id="14227209" author="jpell" created="Thu, 27 Nov 2014 03:21:20 +0000"  >&lt;p&gt;While this issue is fixed, you can work around the problem by adding the validation annotations to the Implementation rather than the interface.  It&apos;s not ideal but if you can&apos;t wait for a fix, it will work fine.&lt;/p&gt;</comment>
                            <comment id="14227242" author="jpell" created="Thu, 27 Nov 2014 04:11:47 +0000"  >&lt;p&gt;This looks pretty easy to fix, I hope to get it into 2.7.14 which is going to be released next week.&lt;/p&gt;</comment>
                            <comment id="14227970" author="thomasw_nz" created="Thu, 27 Nov 2014 21:13:54 +0000"  >&lt;p&gt;Thanks, that&apos;s great. I&apos;ll try annotating the implementation as a workaround, we are a bit restricted as to library versions and can&apos;t necessarily take upgrades immediately.&lt;/p&gt;

&lt;p&gt;Much appreciated.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Thomas&lt;/p&gt;</comment>
                            <comment id="14228000" author="jpell" created="Thu, 27 Nov 2014 23:08:22 +0000"  >&lt;p&gt;Your other option which means no code changes, would be to assign a org.apache.cxf.feature.validation.SchemaValidationFeature to each client.&lt;/p&gt;

&lt;p&gt;Implement a SchemaValidationTypeProvider which returns IN or NONE for all.&lt;/p&gt;

&lt;p&gt;There is no cxf namespace support for enabling this feature.  You can find example of it in the systests/jax-ws&lt;/p&gt;

&lt;p&gt;I also provided an example on my github project&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/pellcorp/JavaFirst/blob/master/JavaFirst/src/test/resources/META-INF/validation/clientContext.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pellcorp/JavaFirst/blob/master/JavaFirst/src/test/resources/META-INF/validation/clientContext.xml&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14228072" author="jpell" created="Fri, 28 Nov 2014 04:58:11 +0000"  >&lt;p&gt;I have pushed the first set of changes to 2.7.14.  If you have a chance to test a snapshot build locally I would be grateful for any feedback.&lt;/p&gt;</comment>
                            <comment id="14229282" author="jpell" created="Sun, 30 Nov 2014 23:43:32 +0000"  >&lt;p&gt;I changed the title of the jira, so when it appears in the release notes its not misleading, as the IN / OUT mappings are actually correct.&lt;/p&gt;

&lt;p&gt;Added new SchemaValidation REQUEST and RESPONSE types which will map correctly to IN / OUT depending on whether its on client side or server side.&lt;/p&gt;

&lt;p&gt;IN and OUT annotation will continue to be applied to incoming messages on both server and client without mapping.&lt;/p&gt;

&lt;p&gt;Please refer to the following mail thread for details as to why changing the meaning of IN and OUT on the client is not the correct approach.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.547215.n5.nabble.com/Re-cxf-git-commit-CXF-6118-support-overriding-schema-validation-at-jaxws-endpoint-and-client-level-al-tt5751632.htm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Re-cxf-git-commit-CXF-6118-support-overriding-schema-validation-at-jaxws-endpoint-and-client-level-al-tt5751632.htm&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14245111" author="thomasw_nz" created="Sat, 13 Dec 2014 02:10:29 +0000"  >&lt;p&gt;Sorry for the delayed response &amp;#8211; just moved to a new job, so limited time to wrap up before I left. We did verify your workaround (moving service annotations to the implementation, not the interface) and were able to get a good solution with this.&lt;/p&gt;

&lt;p&gt;Reading your comment &amp;amp; the Nabble thread quickly:  &quot;An IN for service is the OUT for client.&quot;  This is fundamental &amp;amp; I think the touchstone. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I think I read that you&apos;ve fixed the code that forcibly override Client settings from the Service model/ or whatever. That&apos;s much better.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;re: Daniel Kulp: &quot;I&#8217;m -1 on the part of this that changes the IN to an OUT on the client side&quot;.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;IN and OUT direction specifiers are, fundamentally, relative to the endpoint.&lt;/li&gt;
	&lt;li&gt;they are not objective, since they have no external frame of reference. (REQUEST and RESPONSE are framed objectively with regard to the interaction.)&lt;/li&gt;
	&lt;li&gt;any Model that assumes IN direction can be applied to either endpoint equally, is insufficient.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We should not need to &quot;change IN to OUT&quot; for Client side in a static way; a specifier on Client.IN should still refer to the response.&lt;/p&gt;

&lt;p&gt;Instead, the correct understanding should be dynamic &amp;#8211; that we &lt;em&gt;apply Service specifications to the Client&lt;/em&gt; with direction reversed. This does not affect correct specification at either end, it only corrects the &lt;em&gt;defaulting or application between ends&lt;/em&gt;.&lt;br/&gt;
&amp;#8212;&lt;/p&gt;

&lt;p&gt;REQUEST and RESPONSE are Ok as a concept &amp;#8211; using an external frame of reference for direction, rather than being endpoint-relative, is potentially a good idea. However, I would be lukewarm about adding more API surface, as IN &amp;amp; OUT were not well known yet &amp;#8211; most examples focused on &quot;true&quot; or &quot;false&quot;. &lt;/p&gt;

&lt;p&gt;Achieving a solid conceptual footing is, however, definitely useful.&lt;/p&gt;

&lt;p&gt;Re: Daniel Kulp&apos;s comments about weakening the schema, this was essentially about &quot;optionality&quot; of content rather than blatantly invalid data. Service used an existing schema (specified to submit only complete &amp;amp; correct applications), but extended the scope to retrieve &quot;draft&quot; status application &amp;#8211; which may have only partial data.&lt;/p&gt;

&lt;p&gt;Business decision was to develop initially using the already-published schema. This avoided cost of versioning &amp;amp; publishing a new separate schema, which would be equivalent value-wise but merely looser as to optionality.&lt;/p&gt;

&lt;p&gt;Anyway, thanks for your amazingly rapid assistance &amp;amp; updates. &lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Thomas&lt;/p&gt;</comment>
                            <comment id="14245149" author="jpell" created="Sat, 13 Dec 2014 03:15:44 +0000"  >&lt;p&gt;The meaning of IN and OUT remain the same.  The new REQUEST and RESPONSE will map correctly based on whether client or server.  No changes will be made to the meaning of in and out.&lt;/p&gt;

&lt;p&gt;The jira is closed and delivered in 2.7.14 and 3.0.3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12683985" name="problem example.zip" size="291112" author="thomasw_nz" created="Thu, 27 Nov 2014 02:31:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22u13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>