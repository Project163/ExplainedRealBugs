<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:21:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7069] Finish JPACodeDataProvider implementation</title>
                <link>https://issues.apache.org/jira/browse/CXF-7069</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Current JPACodeDataProvider has the following issues :&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Shared entityManager (1 for all clients)&lt;br/&gt;
   This is because we&apos;re injecting an entityManager into JPACodeDataProvider, which is a singleton (from what I understand all dataProviders are to be used as singletons).&lt;br/&gt;
   This has the following effects :
	&lt;ul&gt;
		&lt;li&gt;loading all database in JPA lvl1 cache.&lt;/li&gt;
		&lt;li&gt;race conditions between threads (we&apos;re using bean managed transaction)&lt;br/&gt;
  I&apos;m using this kind of configuration :
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;oidcAuthorizationService&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.rs.security.oidc.idp.OidcAuthorizationCodeService&quot;&lt;/span&gt;&amp;gt;
         &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;dataProvider&quot;&lt;/span&gt; ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;oauthProvider&quot;&lt;/span&gt;/&amp;gt;
         &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;subjectCreator&quot;&lt;/span&gt; ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;subjectCreator&quot;&lt;/span&gt;/&amp;gt;
         &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;skipAuthorizationWithOidcScope&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
         &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;canSupportPublicClients&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/bean&amp;gt;

  &amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;oauthProvider&quot;&lt;/span&gt;
          class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.rs.security.oauth2.grants.code.JPACodeDataProvider&quot;&lt;/span&gt;
          init-method=&lt;span class=&quot;code-quote&quot;&gt;&quot;init&quot;&lt;/span&gt; destroy-method=&lt;span class=&quot;code-quote&quot;&gt;&quot;close&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;entityManager&quot;&lt;/span&gt; ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;entityManager&quot;&lt;/span&gt;/&amp;gt;
        ...
  &amp;lt;/bean&amp;gt;

  &amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;entityManager&quot;&lt;/span&gt;
          factory-bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;entityManagerFactory&quot;&lt;/span&gt;
          factory-method=&lt;span class=&quot;code-quote&quot;&gt;&quot;createEntityManager&quot;&lt;/span&gt;/&amp;gt;

  &amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;entityManagerFactory&quot;&lt;/span&gt;
          class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In our sample, we could resolve this issue by configuring  a prototype scoped oauthProvider &lt;b&gt;and&lt;/b&gt; an openEntityInView spring filter &lt;b&gt;and&lt;/b&gt; setting each reference to oauthProvider as aop:scoped-proxy in spring. IMO, this appears to me to be too much magic.&lt;/p&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Error when creating a BearerAccessToken during OIDC authorization code flow&lt;br/&gt;
   This can be reproduced by running Fediz OIDCTest.testOIDCLoginForClient2() 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: &amp;lt;openjpa-2.4.1-r422266:1730418 fatal store error&amp;gt; org.apache.openjpa.persistence.RollbackException: The transaction has been rolled back.  See the nested exceptions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details on the errors that occurred.
    at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:595)
    at org.apache.cxf.rs.security.oauth2.grants.code.JPACodeDataProvider.saveCodeGrant(JPACodeDataProvider.java:58)
    at org.apache.cxf.rs.security.oauth2.grants.code.JPACodeDataProvider.createCodeGrant(JPACodeDataProvider.java:37)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
    at com.sun.proxy.$Proxy154.createCodeGrant(Unknown Source)
    at org.apache.cxf.rs.security.oauth2.services.AuthorizationCodeGrantService.getGrantRepresentation(AuthorizationCodeGrantService.java:139)
    at org.apache.cxf.rs.security.oauth2.services.AuthorizationCodeGrantService.createGrant(AuthorizationCodeGrantService.java:99)
    at org.apache.cxf.rs.security.oauth2.services.RedirectionBasedGrantService.startAuthorization(RedirectionBasedGrantService.java:213)
    at org.apache.cxf.rs.security.oidc.idp.OidcAuthorizationCodeService.startAuthorization(OidcAuthorizationCodeService.java:79)
    at org.apache.cxf.rs.security.oauth2.services.RedirectionBasedGrantService.startAuthorization(RedirectionBasedGrantService.java:136)
    at org.apache.cxf.rs.security.oauth2.services.RedirectionBasedGrantService.authorize(RedirectionBasedGrantService.java:94)
    at org.apache.cxf.rs.security.oauth2.services.AuthorizationService.authorize(AuthorizationService.java:58)
    at org.apache.cxf.rs.security.oauth2.services.AuthorizationService$$FastClassBySpringCGLIB$$411268cd.invoke(&amp;lt;generated&amp;gt;)
    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:718)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
    at org.apache.cxf.rs.security.oauth2.services.AuthorizationService$$EnhancerBySpringCGLIB$$68d08bc2.authorize(&amp;lt;generated&amp;gt;)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)
    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
    ... 35 more
Caused by: &amp;lt;openjpa-2.4.1-r422266:1730418 fatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: The transaction has been rolled back.  See the nested exceptions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details on the errors that occurred.
    at org.apache.openjpa.kernel.BrokerImpl.newFlushException(BrokerImpl.java:2368)
    at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:2205)
    at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:2103)
    at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:2021)
    at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)
    at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1526)
    at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:932)
    at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:571)
    ... 77 more
Caused by: &amp;lt;openjpa-2.4.1-r422266:1730418 fatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: data exception: string data, right truncation;  table: BEARERACCESSTOKEN_PARAMETERS column: VALUE {prepstmnt 549315712
INSERT INTO BearerAccessToken_parameters (BEARERACCESSTOKEN_TOKENKEY, propName,
        value)
    VALUES (?, ?, ?)
[params=(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) 289fdb944ad4f26bc83e970a8a8b8, (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) id_token, (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) eyJhbGciOiJSUzI1NiJ9.eyJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhbGljZSIsInN1YiI...]} [code=3401, state=22001]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;

</description>
                <environment></environment>
        <key id="13007074">CXF-7069</key>
            <summary>Finish JPACodeDataProvider implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="gonzalad">Adrian Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2016 07:50:46 +0000</created>
                <updated>Thu, 4 May 2017 19:46:46 +0000</updated>
                            <resolved>Mon, 26 Sep 2016 11:57:00 +0000</resolved>
                                    <version>3.1.7</version>
                                    <fixVersion>3.1.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15515750" author="githubbot" created="Fri, 23 Sep 2016 08:05:25 +0000"  >&lt;p&gt;GitHub user gonzalad opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/173&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7069&quot; title=&quot;Finish JPACodeDataProvider implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7069&quot;&gt;&lt;del&gt;CXF-7069&lt;/del&gt;&lt;/a&gt; Finish JPACodeDataProvider implementation&lt;/p&gt;

&lt;p&gt;    This PR resolves the following issues : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;shared em between all clients.&lt;/li&gt;
	&lt;li&gt;error when persisting BearerAccessToken (we annotated OidcUserSubject attributes with @Lob)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    JPACodeDataProvider has now : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a resource-local entity manager version.&lt;br/&gt;
       In this version, transactions are managed by JPACodeDataProvider.&lt;/li&gt;
	&lt;li&gt;a container-managed entity manager version (CMT).&lt;br/&gt;
       In this version, transactions are managed by the container (i.e. Spring).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Tests have been added to check both Hibernate and OpenJPA compliance.&lt;/p&gt;

&lt;p&gt;    Bad news is that overall performance is not quite good.&lt;br/&gt;
    Here&apos;s the number of request issued for basic OIDC / Oauth2 interactions : &lt;/p&gt;

&lt;p&gt;    ```&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Hibernate CMT &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; OpenJPA CMT      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Authorization code flow request      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     1          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;      8           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=1            &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=8              &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Authentication                       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     1          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;      8           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=1            &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=8              &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Grant                                &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     9 (5 real) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     16           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=1,I=7,U=1    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=8,I=7,U=1      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Token Request                        &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;    15 (11 real)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     25           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=2,I=9,U=1,D=3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=11,I=9,U=1,D=4 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Token Introspection                  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;    2           &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     14           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=2            &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; S=14             &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;    ```&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/gonzalad/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gonzalad/cxf&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7069&quot; title=&quot;Finish JPACodeDataProvider implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7069&quot;&gt;&lt;del&gt;CXF-7069&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/173.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/173.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #173&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 27a95f050bfdbeb9d3e63af11fc2e8c4370ae549&lt;br/&gt;
Author: Kai Rommel &amp;lt;kai.rommel@sap.com&amp;gt;&lt;br/&gt;
Date:   2016-05-04T00:45:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6646&quot; title=&quot;CXF 3.x WSRM message may not be retrieved from database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6646&quot;&gt;&lt;del&gt;CXF-6646&lt;/del&gt;&lt;/a&gt; CXF 3.x WSRM Replace RewindableInputStream with CachedOutputStream&lt;/p&gt;

&lt;p&gt;commit 907fbb7b8b437ebfa902b2daeebf610aa5888bdd&lt;br/&gt;
Author: Kai Rommel &amp;lt;kai.rommel@sap.com&amp;gt;&lt;br/&gt;
Date:   2016-06-03T17:13:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6863&quot; title=&quot;WS-RM 3.x does not work with attachments upon a network error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6863&quot;&gt;&lt;del&gt;CXF-6863&lt;/del&gt;&lt;/a&gt; WS-RM 3.x fix for retransmission works with attachments upon a network error&lt;/p&gt;

&lt;p&gt;commit dbe659d16f536944afaee85d76715558761936c6&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-07T12:47:57Z&lt;/p&gt;

&lt;p&gt;    Finishing keys refactor&lt;/p&gt;

&lt;p&gt;commit c3bef354ca5cd17e3bc545e03f7c01ac64969867&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-07T16:42:07Z&lt;/p&gt;

&lt;p&gt;    Prototyping the JAX-RS proxy async support&lt;/p&gt;

&lt;p&gt;commit f7db188bb0da238dac2e7714285d5ae3463d6428&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-07T17:04:48Z&lt;/p&gt;

&lt;p&gt;    Adding a test with multiple JAXRS proxy callbacks&lt;/p&gt;

&lt;p&gt;commit 27917f3accef78556fa7ed8e79f1746052bfd4d9&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-07T20:52:39Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6869&quot; title=&quot;Consider adding Spring Boot starter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6869&quot;&gt;&lt;del&gt;CXF-6869&lt;/del&gt;&lt;/a&gt; Adding rs-client dep to starter-jaxrs&lt;/p&gt;

&lt;p&gt;commit 2f56d25eccef5e18222b9bd96083a98871e76af9&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T09:46:17Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6936&quot; title=&quot;Make log-category for ext logging feature configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6936&quot;&gt;&lt;del&gt;CXF-6936&lt;/del&gt;&lt;/a&gt; Make log-category for ext logging feature configurable, patch from David Karlsen applied with thanks, This closes #142&lt;/p&gt;

&lt;p&gt;commit 98d1eac7b215dbafe697ad9ba14604d22cfc3bed&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T10:19:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6935&quot; title=&quot;Better error message than java.lang.NullPointerException - org.apache.cxf.common.util.Compiler.useJava6Compiler(Compiler.java:187) when running on a JRE instead of JDK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6935&quot;&gt;&lt;del&gt;CXF-6935&lt;/del&gt;&lt;/a&gt; Better error message than NPE in Compiler.useJava6Compiler, patch from Gary Gregory applied with thanks&lt;/p&gt;

&lt;p&gt;commit 577edfe1de17ebfef3df71a27380f2181958ec26&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T11:02:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6918&quot; title=&quot;Print the XMLInputFactory implementation class when throwing &amp;quot;Cannot create a secure XMLInputFactory&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6918&quot;&gt;&lt;del&gt;CXF-6918&lt;/del&gt;&lt;/a&gt; Better error processing when creating XMLInputFactory, patch from Svetlin Zarev applied with thanks&lt;/p&gt;

&lt;p&gt;commit a1e91a05d9addc0461e98921d07a4c01f4979a63&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T12:49:31Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6869&quot; title=&quot;Consider adding Spring Boot starter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6869&quot;&gt;&lt;del&gt;CXF-6869&lt;/del&gt;&lt;/a&gt; Applying the last part of the patch from Vedran but with a property condition as agreed and also updating a scan demo&lt;/p&gt;

&lt;p&gt;commit 163e1d2361643251b31b6fdf7def0b52542577dd&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T14:45:47Z&lt;/p&gt;

&lt;p&gt;    Few updates to JAXRS client proxy async code&lt;/p&gt;

&lt;p&gt;commit 214b741754b078e41d471889b7233a90aac017b5&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T15:40:26Z&lt;/p&gt;

&lt;p&gt;    Updating jaxrs_spring_boot demo to use an interface&lt;/p&gt;

&lt;p&gt;commit 553be8f2afd1c54158f1fa2eec20c8b8571f8aef&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-08T16:01:52Z&lt;/p&gt;

&lt;p&gt;    Fixing jaxrs spring boot scan demo&lt;/p&gt;

&lt;p&gt;commit 06fbd75b77597a6b413c72ab845578ba03bf3a21&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-09T09:43:40Z&lt;/p&gt;

&lt;p&gt;    Updating JAXRS spring boot scan demo to use HelloService interface&lt;/p&gt;

&lt;p&gt;commit 2ceb8351e2cd174297c5bf11c389280a33b39fc3&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-09T11:50:37Z&lt;/p&gt;

&lt;p&gt;    Updating jaxrs spring boot demos to use the application context&lt;/p&gt;

&lt;p&gt;commit 83846d088d78a03159b259fb9969052a33904faa&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-07T16:05:25Z&lt;/p&gt;

&lt;p&gt;    Use a &quot;keys&quot; classifier for the jar containing the test keys.  Make sure that is build in package phase for -Pfastinstall to work.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;systests/transport-undertow/pom.xml&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;commit 0572061edf5ab349dc61e77fbb8d360c7521d111&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-07T17:52:42Z&lt;/p&gt;

&lt;p&gt;    Fix UDP tests on my mac&lt;/p&gt;

&lt;p&gt;commit 2e7e04b546c73daf61cf5b841db3a104d4fec2eb&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-10T17:35:34Z&lt;/p&gt;

&lt;p&gt;    Recording .gitmergeinfo Changes&lt;/p&gt;

&lt;p&gt;commit b4e7dffbaeae4fdf1a20d70cef51e2e44e8960bc&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-13T11:27:55Z&lt;/p&gt;

&lt;p&gt;    Enabling encryption serializers for outbound&lt;/p&gt;

&lt;p&gt;commit cc0eb7f8e1ac8bb9e62f757bba7aca3d10ceb7da&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-17T09:23:07Z&lt;/p&gt;

&lt;p&gt;    Make it possible to use short KeyTypes with the REST STS rather than the full WS-Trust URIs&lt;/p&gt;

&lt;p&gt;commit 06a86cd527ea393602038a963f9a78103e96c161&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-17T16:44:03Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6940&quot; title=&quot;Bus Reference nullified pre-maturely in ClientImpl causing Exceptions while processing Responses&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6940&quot;&gt;&lt;del&gt;CXF-6940&lt;/del&gt;&lt;/a&gt; Update javadoc&lt;/p&gt;

&lt;p&gt;commit 399249b7f872942b8ce23efc5fc91183ba8b9b0e&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-17T16:45:09Z&lt;/p&gt;

&lt;p&gt;    Recording .gitmergeinfo Changes&lt;/p&gt;

&lt;p&gt;commit 0ea13a8e17b88fd4cdf7273b55115c1e48908bfc&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-20T09:05:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6945&quot; title=&quot;cxf-wadl2java-plugin wadlRoot configuration parameter typo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6945&quot;&gt;&lt;del&gt;CXF-6945&lt;/del&gt;&lt;/a&gt; Fixing a typo in WADL2JavaMojo, patch from Jurrie Overgoor applied&lt;/p&gt;

&lt;p&gt;commit f44f6d7d1e869f6f814ffd940299cc77f1e23d07&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-20T11:38:44Z&lt;/p&gt;

&lt;p&gt;    Updating JwsUtils to optionally set an X509 chain property on verification JWKs&lt;/p&gt;

&lt;p&gt;commit 84efaebc82361805ea3938803445ede34e8c901e&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-20T15:46:08Z&lt;/p&gt;

&lt;p&gt;    Recording .gitmergeinfo Changes&lt;/p&gt;

&lt;p&gt;commit 9520839dd27899ba4be4dfd430330a2a7f276d96&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-20T17:17:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6947&quot; title=&quot;Make it possible to use custom LDAP filters when retrieving group information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6947&quot;&gt;&lt;del&gt;CXF-6947&lt;/del&gt;&lt;/a&gt; - Make it possible to use custom LDAP filters when retrieving group information&lt;/p&gt;

&lt;p&gt;commit edb2304a4e9213051c052017a397b829048a7485&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-20T17:31:58Z&lt;/p&gt;

&lt;p&gt;    JDK7 fix&lt;/p&gt;

&lt;p&gt;commit 8aa894e5d1ea82d795893f4786b00c4237b4d136&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-20T20:51:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6948&quot; title=&quot;WebClient may cause JMX CounterRepository OOM if a request URI varies a lot  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6948&quot;&gt;&lt;del&gt;CXF-6948&lt;/del&gt;&lt;/a&gt; Optionally blocking WebClient from reporting the URI-based operation name, removing the optiona query params&lt;/p&gt;

&lt;p&gt;commit f1d904238001070e3aae593ed86828f219630bc9&lt;br/&gt;
Author: Sergey Beryozkin &amp;lt;sberyozkin@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-06-21T10:08:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6938&quot; title=&quot;Setting the providers on a bus causes a leak if this bus is used by per-request clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6938&quot;&gt;&lt;del&gt;CXF-6938&lt;/del&gt;&lt;/a&gt; Removing the redundant bus property&lt;/p&gt;

&lt;p&gt;commit 55e98022cc19a87549546d176dec2b3e4da83128&lt;br/&gt;
Author: Colm O hEigeartaigh &amp;lt;coheigea@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-06-21T10:17:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6949&quot; title=&quot;Add support to the ReceivedTokenCalbackHandler to return a transformed token&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6949&quot;&gt;&lt;del&gt;CXF-6949&lt;/del&gt;&lt;/a&gt; - Add support to the ReceivedTokenCalbackHandler to return a transformed token&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15516069" author="gonzalad" created="Fri, 23 Sep 2016 10:32:12 +0000"  >&lt;p&gt;Initial patch attached&lt;/p&gt;</comment>
                            <comment id="15519725" author="gonzalad" created="Sat, 24 Sep 2016 22:23:49 +0000"  >&lt;p&gt;Proposed patch for hibernate optimisation (httpVerbs and uris OAuthPermission attributes are put in 2nd level cache).&lt;/p&gt;

&lt;p&gt;This is achieved by using specific hibernate hbm.xml (instead of hibernate annotations) to override Permission and OAuthPermission. &lt;/p&gt;</comment>
                            <comment id="15521160" author="sergey_beryozkin" created="Sun, 25 Sep 2016 17:34:05 +0000"  >&lt;p&gt;Hi Adrian, I&apos;ve completed applying your original patch to the 3.2.0-SNAPSHOT, thanks.&lt;/p&gt;

&lt;p&gt;As far as this hibernate orm extension is concerned, this is OK, but it is a test resource so do we really need it ?&lt;br/&gt;
I&apos;d rather have this issue resolved now and then you open a separate issue - remove JPA2 annotations and ship a main orm.xml resource instead - and once that is done then we can consider shipping hbm.xml alongside it, as a &apos;main&apos; resource too - this moving of JPA2 annotations to orm.xml can be done later on for sure. &lt;/p&gt;

&lt;p&gt;Thanks, Sergey &lt;/p&gt;</comment>
                            <comment id="15521170" author="gonzalad" created="Sun, 25 Sep 2016 17:40:50 +0000"  >&lt;p&gt;Hi Sergey, completely agree with you about doing hibernate-specific optimizations in another JIRA.&lt;/p&gt;

&lt;p&gt;About moving all JPA standard annotations to orm.xml, I don&apos;t understand what you mean, sorry.&lt;br/&gt;
My last motive was just about adding hibernate specific performance optimization in its own hbm.xml (I cannot use orm.xml for hibernate-specific things - not until hibernate 6.x) - and hence keeping JPA annotations as of now.&lt;br/&gt;
Why do we want to remove all JPA standard annotations in a orm.xml ?&lt;/p&gt;
</comment>
                            <comment id="15521401" author="sergey_beryozkin" created="Sun, 25 Sep 2016 20:52:17 +0000"  >&lt;p&gt;Hi Adrian, &lt;br/&gt;
I thought we can ship orm.xml describing the common JPA2 model - that would be understood by both OpenJPA and Hibernate, plus a Hibernate specific orm extension dealing with this optimization. &lt;br/&gt;
I think keeping the code JPA2 annotation free will give the developers more flexibility - they will be able to tune orm.xml if needed (ex, modify orm.xml in the oauth2 or oidc module jars), without having to wait for another CXF release if anything needs to be updated. I know Fediz IDP core module also uses orm.xml. &lt;br/&gt;
But as I said this is not urgent per se. We can discuss it later on.&lt;br/&gt;
Sergey &lt;/p&gt;</comment>
                            <comment id="15522842" author="sergey_beryozkin" created="Mon, 26 Sep 2016 11:57:01 +0000"  >&lt;p&gt;Adrian, thanks again for the patches, much appreciated, let me resolve this issue, we can continue discussing further how to utilize a hibernate extension better  &lt;/p&gt;</comment>
                            <comment id="15997335" author="githubbot" created="Thu, 4 May 2017 19:46:06 +0000"  >&lt;p&gt;Github user gonzalad closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/173&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15997336" author="githubbot" created="Thu, 4 May 2017 19:46:46 +0000"  >&lt;p&gt;Github user gonzalad commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/173&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Closed as too old pr&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12830205" name="CXF-7069-hbmxml.patch" size="5572" author="gonzalad" created="Sat, 24 Sep 2016 22:23:49 +0000"/>
                            <attachment id="12830029" name="CXF-7069-patch.diff" size="185933" author="gonzalad" created="Fri, 23 Sep 2016 10:32:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33zrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>