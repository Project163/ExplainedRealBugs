<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:58:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4750] Wrong return type for enumeration in generated service interface using xmlbeans</title>
                <link>https://issues.apache.org/jira/browse/CXF-4750</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I have a WSDL which has an enumeration as the response type for a SOAP operation. From that, I am generating Java classes using the cxf-codegen-plugin with xmlbeans.&lt;br/&gt;
The generated service interface has a String as response type. If my implementation returns a String containing one of the specified enum values, I get an Exception (using CXF 2.3.11):&lt;br/&gt;
org.apache.cxf.interceptor.Fault&lt;br/&gt;
	at org.apache.cxf.databinding.AbstractWrapperHelper.createWrapperObject(AbstractWrapperHelper.java:107)&lt;br/&gt;
	at org.apache.cxf.jaxws.interceptors.WrapperClassOutInterceptor.handleMessage(WrapperClassOutInterceptor.java:105)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)&lt;br/&gt;
	at org.apache.cxf.interceptor.OutgoingChainInterceptor.handleMessage(OutgoingChainInterceptor.java:77)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:113)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletDestination.invoke(ServletDestination.java:102)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:464)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:188)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractCXFServlet.invoke(AbstractCXFServlet.java:148)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:179)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:103)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:751)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:159)&lt;/p&gt;

&lt;p&gt;If I manually change the return type of the generated interface and my implementation from String to &quot;org.apache.test.ETestResponseType.Enum&quot;, everything works well.&lt;/p&gt;

&lt;p&gt;I could only test the wsdl2java generation with a newer CXF version, but 2.7.2 also generates a String as the response type.&lt;/p&gt;

&lt;p&gt;I will attach a sample project.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627412">CXF-4750</key>
            <summary>Wrong return type for enumeration in generated service interface using xmlbeans</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="rmueller">Roland Mueller</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jan 2013 11:16:23 +0000</created>
                <updated>Thu, 28 Feb 2013 17:27:21 +0000</updated>
                            <resolved>Mon, 28 Jan 2013 18:13:59 +0000</resolved>
                                    <version>2.3.11</version>
                    <version>2.7.2</version>
                                    <fixVersion>2.5.9</fixVersion>
                    <fixVersion>2.6.6</fixVersion>
                    <fixVersion>2.7.3</fixVersion>
                                    <component>OtherDatabindings</component>
                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13552586" author="rmueller" created="Mon, 14 Jan 2013 11:17:02 +0000"  >&lt;p&gt;Sample project&lt;/p&gt;</comment>
                            <comment id="13557326" author="rmueller" created="Fri, 18 Jan 2013 16:25:51 +0000"  >&lt;p&gt;Thanks for the quick fix! Sadly it also changed the behavior when Enums are used as input parameters, where I get exceptions now. These had a String type previously, which was fine, and also need an Enum now. Here&apos;s a stacktrace of 2.5.9-SNAPSHOT:&lt;/p&gt;

&lt;p&gt;org.apache.cxf.interceptor.Fault: argument type mismatch while invoking public abstract org.apache.test.MyResponseType org.apache.test.TestServicePortType.testFunction2(org.apache.test.ETestResponseType$Enum) with params &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;xml-fragment&amp;gt;ONE&amp;lt;/xml-fragment&amp;gt;&amp;#93;&lt;/span&gt;.&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:159)&lt;br/&gt;
	at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:86)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:133)&lt;br/&gt;
	at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:66)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:75)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:107)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:122)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:233)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:209)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:189)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:129)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:223)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:143)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:751)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:199)&lt;br/&gt;
...&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: argument type mismatch&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89)&lt;br/&gt;
	... 44 more&lt;/p&gt;</comment>
                            <comment id="13559878" author="dkulp" created="Tue, 22 Jan 2013 18:57:54 +0000"  >&lt;p&gt;We&apos;ll likely need to see a full testcase.   The test I added does a complete echo of the enum:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://fisheye6.atlassian.com/browse/cxf/trunk/systests/databinding/src/test/java/org/apache/cxf/systest/xmlbeans/GreeterImpl.java?r2=1433007&amp;amp;r1=1127624&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/browse/cxf/trunk/systests/databinding/src/test/java/org/apache/cxf/systest/xmlbeans/GreeterImpl.java?r2=1433007&amp;amp;r1=1127624&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;which works.  Thus, it looks like the incoming enum should work OK based on the testcase.&lt;/p&gt;</comment>
                            <comment id="13564255" author="rmueller" created="Mon, 28 Jan 2013 13:02:15 +0000"  >&lt;p&gt;Hi, I created two test projects, one using CXF 2.7.2, the other one using CXF 2.7.3-SNAPSHOT, which I will attach.&lt;br/&gt;
You can run them via Maven, first &quot;mvn clean install&quot; and then &quot;mvn jetty:run&quot;. The projects only differ in the CXF version in the pom.xml and in the implementation of the generated service interface.&lt;br/&gt;
I use soapUI for generating test requests from the wsdl and for requesting the server. The problematic request is called &quot;sampleMethod&quot; and looks like the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soapenv:Envelope &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soapenv&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:test&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://test.apache.org/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soapenv:Header/&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soapenv:Body&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;test:sampleMethod&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;sampleValue&amp;gt;&lt;/span&gt;LEFT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/sampleValue&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/test:sampleMethod&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soapenv:Body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soapenv:Envelope&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It works on 2.7.2, but does not on 2.7.3-SNAPSHOT where I get the exception from above. For completeness, I also added the previous testFunction, which works on 2.7.3-SNAPSHOT, but does not on 2.7.2.&lt;/p&gt;</comment>
                            <comment id="13564469" author="dkulp" created="Mon, 28 Jan 2013 18:13:59 +0000"  >&lt;p&gt;&lt;br/&gt;
OK.  This now works.   If you have a type that extends an enumeration, XmlSchemas doesn&apos;t map those to an enumeration.  I&apos;ve updated the code generator to use the same type mapping in this case.   For example, in the SampleMethodDocument.java, the getSampleValue() call returns an ESample and not an Enum.  Thus, we need to make sure we use that ESample type instead.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566753" name="enumtest-2.7.2.zip" size="13961" author="rmueller" created="Mon, 28 Jan 2013 13:02:50 +0000"/>
                            <attachment id="12566754" name="enumtest-2.7.3-SNAPSHOT.zip" size="13984" author="rmueller" created="Mon, 28 Jan 2013 13:02:50 +0000"/>
                            <attachment id="12564688" name="enumtest.zip" size="5054" author="rmueller" created="Mon, 14 Jan 2013 11:17:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17k1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>