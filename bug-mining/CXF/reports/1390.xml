<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:54:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4054] Unclear error messages given if client policy configuration can&apos;t be found.</title>
                <link>https://issues.apache.org/jira/browse/CXF-4054</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Dennis has noted: &lt;a href=&quot;http://cxf.547215.n5.nabble.com/Invalid-property-bus-of-bean-class-error-Spring-problem-tp5163771p5165056.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Invalid-property-bus-of-bean-class-error-Spring-problem-tp5163771p5165056.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this tutorial: &lt;a href=&quot;http://www.jroller.com/gmazza/entry/cxf_x509_profile_secpol&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.jroller.com/gmazza/entry/cxf_x509_profile_secpol&lt;/a&gt;, in particular, the WSC config file within it:&lt;/p&gt;

&lt;p&gt;&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
   xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot;&lt;br/&gt;
   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans &lt;br/&gt;
   &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;http://cxf.apache.org/jaxws&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/jaxws&lt;/a&gt; &lt;br/&gt;
   &lt;a href=&quot;http://cxf.apache.org/schemas/jaxws.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/schemas/jaxws.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;jaxws:client name=&quot;&lt;/p&gt;
{http://www.example.org/contract/DoubleIt}
&lt;p&gt;DoubleItPort&quot; createdFromAPI=&quot;true&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;jaxws:properties&amp;gt;&lt;br/&gt;
         &amp;lt;entry key=&quot;ws-security.callback-handler&quot; value=&quot;client.ClientKeystorePasswordCallback&quot;/&amp;gt;        &lt;br/&gt;
         &amp;lt;entry key=&quot;ws-security.encryption.properties&quot; value=&quot;clientKeystore.properties&quot;/&amp;gt;&lt;br/&gt;
         &amp;lt;entry key=&quot;ws-security.signature.properties&quot; value=&quot;clientKeystore.properties&quot;/&amp;gt;&lt;br/&gt;
         &amp;lt;entry key=&quot;ws-security.encryption.username&quot; value=&quot;myservicekey&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/jaxws:properties&amp;gt;&lt;br/&gt;
   &amp;lt;/jaxws:client&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;Usage of an incorrect port name in the &quot;name&quot; attribute of the jaxws:client element gives unhelpful/confusing error messages.  &lt;/p&gt;

&lt;p&gt;If the port name doesn&apos;t exist at all (e.g., &quot;&lt;/p&gt;
{http://www.example.org/contract/DoubleIt}
&lt;p&gt;DoubleItXYZ&quot;), the reader gets this error:&lt;/p&gt;

&lt;p&gt;WARNING: Interceptor for &lt;/p&gt;
{http://www.example.org/contract/DoubleIt}
&lt;p&gt;DoubleItService#&lt;/p&gt;
{http://www.example.org/contract/DoubleIt}
&lt;p&gt;DoubleIt has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault: No signature username found.&lt;br/&gt;
	at org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.doSignBeforeEncrypt(AsymmetricBindingHandler.java:172)&lt;br/&gt;
	at org.apache.cxf.ws.security.wss4j.policyhandlers.AsymmetricBindingHandler.handleBinding(AsymmetricBindingHandler.java:96)&lt;br/&gt;
	at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:164)&lt;br/&gt;
	at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JOutInterceptor$PolicyBasedWSS4JOutInterceptorInternal.handleMessage(PolicyBasedWSS4JOutInterceptor.java:88)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:519)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:449)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:352)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:304)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:88)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)&lt;br/&gt;
	at $Proxy24.doubleIt(Unknown Source)&lt;br/&gt;
	at client.WSClient.doubleIt(WSClient.java:28)&lt;br/&gt;
	at client.WSClient.main(WSClient.java:21)&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what should be done in this case &amp;#8211; because a non-matching port name like the above should indeed be ignored (as it could refer to another port in another WSDL), but perhaps a clearer error given that no configuration was provided for the client endpoint for the port being used.&lt;/p&gt;

&lt;p&gt;If the service name was erroneously used instead of the port name, this error is given:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;&lt;/p&gt;
{http://www.example.org/contract/DoubleIt}
&lt;p&gt;DoubleItService&apos;: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &apos;bus&apos; of bean class &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.service.ServiceImpl&amp;#93;&lt;/span&gt;: Bean property &apos;bus&apos; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1361)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)&lt;/p&gt;

&lt;p&gt;Here, an error message given that the port, and not the service name, should be referred to.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12539501">CXF-4054</key>
            <summary>Unclear error messages given if client policy configuration can&apos;t be found.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gmazza">Glen Mazza</assignee>
                                    <reporter username="gmazza">Glen Mazza</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2012 17:17:16 +0000</created>
                <updated>Tue, 28 Aug 2012 17:44:41 +0000</updated>
                            <resolved>Mon, 18 Jun 2012 18:07:08 +0000</resolved>
                                                    <fixVersion>2.6.2</fixVersion>
                    <fixVersion>2.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13393357" author="gmazza" created="Sat, 16 Jun 2012 18:10:03 +0000"  >&lt;p&gt;Potential solution.&lt;/p&gt;</comment>
                            <comment id="13393359" author="gmazza" created="Sat, 16 Jun 2012 18:15:57 +0000"  >&lt;p&gt;The patch I just attached better separates, for this type of config file: &lt;a href=&quot;https://github.com/gmazza/blog-samples/blob/master/cxf_x509_profile_secpol/client/src/main/resources/cxf.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gmazza/blog-samples/blob/master/cxf_x509_profile_secpol/client/src/main/resources/cxf.xml&lt;/a&gt;, the case where (1) the jaxws:client element was missing or otherwise not tied to the endpoint properly via its name attribute vs. (2) just a missing ws-security.signature.username or org.apache.ws.security.crypto.merlin.keystore.alias value.  Main concern I have is the message for (1):&lt;/p&gt;

&lt;p&gt;+                policyNotAsserted(token, &quot;Security configuration could not be detected. &quot;&lt;br/&gt;
+                    + &quot;Potential cause: Make sure jaxws:client element with name &quot; &lt;br/&gt;
+                    + &quot;attribute value matching endpoint port is defined as well as a &quot; &lt;br/&gt;
+                    + SecurityConstants.SIGNATURE_PROPERTIES + &quot; element within it.&quot;);&lt;br/&gt;
+                return null;&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how many other configuration elements besides jaxws:client this part of the error handling would be relavant for.  If it&apos;s just jaxws:client, the patch is probably good-to-go, else I may need to make the message more generic.&lt;/p&gt;</comment>
                            <comment id="13395810" author="coheigea" created="Mon, 18 Jun 2012 11:01:47 +0000"  >
&lt;p&gt;Looks fine to me...&lt;/p&gt;

&lt;p&gt;Colm.&lt;/p&gt;</comment>
                            <comment id="13396088" author="gmazza" created="Mon, 18 Jun 2012 18:07:08 +0000"  >&lt;p&gt;Applied just to 2.6.x and 2.7.x branches (earlier branches were too substantively different to allow an easy merge.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12532307" name="CXF4054.patch" size="4665" author="gmazza" created="Sat, 16 Jun 2012 18:10:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05u4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>