<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:22:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7112] AsyncHTTPConduit ignore the ReceiveTimeout when use Async JAXWS api</title>
                <link>https://issues.apache.org/jira/browse/CXF-7112</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;As for the ahc we should use the application level way to check the ReceiveTimeout to let ahc connectionManager to manage the connection lifecycle for a better performance.&lt;/p&gt;

&lt;p&gt;This works with jaxws sync api and AsyncHTTPConduit.getHttpResponse have this timeout check(AsyncHTTPConduitTest.testTimeout cover this scenario), but with jaxws async api we don&apos;t have this timeout check for ahc, we need provide one&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13016032">CXF-7112</key>
            <summary>AsyncHTTPConduit ignore the ReceiveTimeout when use Async JAXWS api</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="ffang">Freeman Yue Fang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Oct 2016 03:38:41 +0000</created>
                <updated>Fri, 14 Jun 2019 12:58:37 +0000</updated>
                            <resolved>Fri, 28 Oct 2016 04:15:27 +0000</resolved>
                                                    <fixVersion>3.1.9</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15619544" author="githubbot" created="Sun, 30 Oct 2016 08:13:42 +0000"  >&lt;p&gt;GitHub user tadayosi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/188&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;CXF-7112,CXF-7109&amp;#93;&lt;/span&gt; Make sure to remove ClientCallback from exchange when invoking handleException()&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7112&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7112&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    If a client callback is not removed from exchange, there still remains a possibility for some other thread somewhere else to invoke the same callback again, according to &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7109&quot; title=&quot;ClientCallback may be invoked twice when Async HTTP Transport is used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7109&quot;&gt;&lt;del&gt;CXF-7109&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7109&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tadayosi/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tadayosi/cxf&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7112&quot; title=&quot;AsyncHTTPConduit ignore the ReceiveTimeout when use Async JAXWS api&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7112&quot;&gt;&lt;del&gt;CXF-7112&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/188.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/188.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #188&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1d67c14d413c0ead5daa3ac5d1a0e5e8ad3145ec&lt;br/&gt;
Author: Tadayoshi Sato &amp;lt;sato.tadayoshi@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-10-30T08:07:40Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;CXF-7112,CXF-7109&amp;#93;&lt;/span&gt; Make sure to remove ClientCallback from exchange when invoking handleException()&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15620008" author="githubbot" created="Sun, 30 Oct 2016 14:12:45 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/188&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16863146" author="aritz" created="Thu, 13 Jun 2019 14:42:10 +0000"  >&lt;p&gt;Hi! Is this issue really fixed? I&apos;m experiencing exactly this problem. &lt;br/&gt;
My &quot;receiveTimeout&quot; configuration was working OK in the sync version, but is now ignored when I switched to async bindings...&lt;/p&gt;</comment>
                            <comment id="16863162" author="ffang" created="Thu, 13 Jun 2019 15:01:34 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Aritz&quot; class=&quot;user-hover&quot; rel=&quot;Aritz&quot;&gt;Aritz&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Which CXF version  you are using?&lt;/p&gt;

&lt;p&gt;Could you please append a reproducer testcase?&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="16863255" author="aritz" created="Thu, 13 Jun 2019 16:41:24 +0000"  >&lt;p&gt;Hi, I&apos;m using CXF version 3.3.0. Ok, I&apos;ll try to append a testcase. Is there any sample I can use for that?&lt;br/&gt;
By the way, just be clear, I&apos;m using the &quot;javax.xml.ws.client.receiveTimeout&quot; property on BindingProvider.&lt;/p&gt;</comment>
                            <comment id="16863293" author="ffang" created="Thu, 13 Jun 2019 17:09:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Aritz&quot; class=&quot;user-hover&quot; rel=&quot;Aritz&quot;&gt;Aritz&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;For the test example, I think you can take a look at&lt;br/&gt;
org.apache.cxf.transport.http.asyncclient.AsyncHTTPConduitTest.testTimeoutAsync()&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="16863362" author="ffang" created="Thu, 13 Jun 2019 18:33:04 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Aritz&quot; class=&quot;user-hover&quot; rel=&quot;Aritz&quot;&gt;Aritz&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;No worries, I saw this problem, it&apos;s because you use &quot;javax.xml.ws.client.receiveTimeout&quot; property  which is ignored by AsyncHttpConduit, working on a fix.&lt;/p&gt;

&lt;p&gt;And the workaround so far is that you put the receiveTimeout on HttpClientPolicy&lt;/p&gt;

&lt;p&gt;code like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        HTTPConduit c = (HTTPConduit)ClientProxy.getClient(g).getConduit();
        c.getClient().setReceiveTimeout(3000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="16863395" author="ffang" created="Thu, 13 Jun 2019 19:23:30 +0000"  >&lt;p&gt;created &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8055&quot; title=&quot;AsyncHTTPConduit should also consider jaxws spec timeout properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-8055&quot;&gt;&lt;del&gt;CXF-8055&lt;/del&gt;&lt;/a&gt; to track it&lt;/p&gt;</comment>
                            <comment id="16864032" author="aritz" created="Fri, 14 Jun 2019 12:58:00 +0000"  >&lt;p&gt;Thank you very much for the fix, and also for the&#160;workaround.&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;By the way,&#160;in case you have some time to look at it,&#160;some months ago I opened a related issue reporting other conformance errors with the JAX-WS spec: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7951&quot; title=&quot;Async binding not JAX-WS compliant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7951&quot;&gt;CXF-7951&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;CXF does not&#160;return&#160;a Response Bean wrapping all out parameters, as required by the spec section 2.3.4.3.&lt;/li&gt;
	&lt;li&gt;CXF does not wrap exceptions with WebServiceException, as required by the spec section 4.3.3.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13239354">CXF-8055</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35ivz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>