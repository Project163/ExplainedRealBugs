<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:18:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6655] Error Invalid address. Endpoint address cannot be null</title>
                <link>https://issues.apache.org/jira/browse/CXF-6655</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When creating a client setting proxy config first and then endopoint address, we get Exception when Sending Message (this worked perfectly in CXF 3.0.2):&lt;br/&gt;
java.net.URISyntaxException: Invalid address. Endpoint address cannot be null. at index 0: &amp;lt;null&amp;gt;&lt;/p&gt;

&lt;p&gt;org.apache.cxf.interceptor.Fault: Could not send Message.&lt;br/&gt;
        at org.apache.cxf.interceptor.MessageSenderInterceptor.handleMessage(MessageSenderInterceptor.java:48)&lt;br/&gt;
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:516)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:425)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)&lt;br/&gt;
        at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)&lt;br/&gt;
        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:138)&lt;br/&gt;
        .............&lt;br/&gt;
.....................&lt;br/&gt;
Caused by: java.io.IOException: java.net.URISyntaxException: Invalid address. Endpoint address cannot be null. at index 0: &amp;lt;null&amp;gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.prepare(HTTPConduit.java:490)&lt;br/&gt;
        at org.apache.cxf.interceptor.MessageSenderInterceptor.handleMessage(MessageSenderInterceptor.java:46)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Invalid address. Endpoint address cannot be null. at index 0: &amp;lt;null&amp;gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.setAndGetDefaultAddress(HTTPConduit.java:732)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.setupAddress(HTTPConduit.java:677)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.prepare(HTTPConduit.java:488)&lt;br/&gt;
        ... 17 more&lt;/p&gt;

&lt;p&gt;Could not send Message.&lt;br/&gt;
javax.xml.ws.WebServiceException: Could not send Message.&lt;br/&gt;
        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:149)&lt;br/&gt;
......&lt;br/&gt;
......&lt;br/&gt;
Caused by: java.io.IOException: java.net.URISyntaxException: Invalid address. Endpoint address cannot be null. at index 0: &amp;lt;null&amp;gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.prepare(HTTPConduit.java:490)&lt;br/&gt;
        at org.apache.cxf.interceptor.MessageSenderInterceptor.handleMessage(MessageSenderInterceptor.java:46)&lt;br/&gt;
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:516)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:425)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)&lt;br/&gt;
        at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)&lt;br/&gt;
        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:138)&lt;br/&gt;
        ... 9 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Invalid address. Endpoint address cannot be null. at index 0: &amp;lt;null&amp;gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.setAndGetDefaultAddress(HTTPConduit.java:732)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.setupAddress(HTTPConduit.java:677)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.prepare(HTTPConduit.java:488)&lt;br/&gt;
        ... 17 more&lt;/p&gt;




&lt;p&gt;This is Client Creation:&lt;/p&gt;

&lt;p&gt;Service service = HydraWebService.create(SERVICE_NAME);&lt;br/&gt;
        port = service.getPort(HydraService.class);&lt;/p&gt;

&lt;p&gt;        Client client = ClientProxy.getClient(port);&lt;br/&gt;
        client.getInInterceptors().add(new LoggingInInterceptor());&lt;br/&gt;
        client.getOutInterceptors().add(new LoggingOutInterceptor());&lt;br/&gt;
        HTTPConduit http = (HTTPConduit) client.getConduit();&lt;br/&gt;
        HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy();&lt;br/&gt;
        httpClientPolicy.setAllowChunking(false);&lt;br/&gt;
        httpClientPolicy.setReceiveTimeout(0);&lt;br/&gt;
        httpClientPolicy.setProxyServerType(ProxyServerType.HTTP);&lt;br/&gt;
httpClientPolicy.setProxyServer(ConnectorConfiguration.getProxyURL());&lt;br/&gt;
httpClientPolicy.setProxyServerPort(Integer.parseInt(ConnectorConfiguration.getProxyPort()));&lt;br/&gt;
        http.setClient(httpClientPolicy);&lt;br/&gt;
        BindingProvider provider = (BindingProvider) port;&lt;/p&gt;

&lt;p&gt;    	provider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, wsdlURL.toString());&lt;/p&gt;</description>
                <environment></environment>
        <key id="12908197">CXF-6655</key>
            <summary>Error Invalid address. Endpoint address cannot be null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asoldano">Alessio Soldano</assignee>
                                    <reporter username="jvicens">Jaume Vicens</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Oct 2015 11:28:28 +0000</created>
                <updated>Fri, 14 Oct 2016 14:12:39 +0000</updated>
                            <resolved>Fri, 30 Oct 2015 13:18:30 +0000</resolved>
                                    <version>3.0.6</version>
                    <version>3.1.3</version>
                                    <fixVersion>3.0.7</fixVersion>
                    <fixVersion>3.1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14978203" author="ay" created="Wed, 28 Oct 2015 10:46:32 +0000"  >&lt;p&gt;This regression appears to be the result of a series of optimization done in HTTPConduit recently &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6404&quot; title=&quot;HTTPConduit performance improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6404&quot;&gt;&lt;del&gt;CXF-6404&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6415&quot; title=&quot;WS-RM client persistent tests are failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6415&quot;&gt;&lt;del&gt;CXF-6415&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As such, reverting the following commits in the order will go back to the previous state which does not have this issue.&lt;br/&gt;
79f9a1056d979b138041ef0693052d3f989ef522&lt;br/&gt;
dd1b3ebf5b10651a2220a54a1f6e276d2197acf0&lt;br/&gt;
88a7cd850f0471d6e51f9045bf01f775a905cbf2&lt;/p&gt;
</comment>
                            <comment id="14978220" author="ay" created="Wed, 28 Oct 2015 10:56:28 +0000"  >&lt;p&gt;asked Alessio to have a look.&lt;/p&gt;</comment>
                            <comment id="14981549" author="asoldano" created="Thu, 29 Oct 2015 23:20:36 +0000"  >&lt;p&gt;I&apos;m willing to help on resolving this (as reverting the mentioned commits is clearly not a real solution...), so I tried reproducing it but failed. Please see my testcase at &lt;a href=&quot;https://github.com/asoldano/cxf/commit/75f6f08244457563d91e52d44cb8d9d82171341e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/asoldano/cxf/commit/75f6f08244457563d91e52d44cb8d9d82171341e&lt;/a&gt; (which passes) . Note the proxy is setup but not actually used in the test, not sure that&apos;s really relevant here though.&lt;br/&gt;
If anybody can help on producing a testcase failing because of this issue, I could try working on a fix.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="14982097" author="jvicens" created="Fri, 30 Oct 2015 08:08:58 +0000"  >&lt;p&gt;Hi Alessio,&lt;br/&gt;
I think the main difference between my code and your test case is that we create WebService and Port without wsdl address, so we don&apos;t want to store a wsdl file in classpath and we can&apos;t put there a remote wsdl address because that happens before proxy configuration and would fail.&lt;/p&gt;

&lt;p&gt;So, the solution which worked for us at least until CXF 3.0.2 was to create service only specifying QName and set address after proxy configuration, just like the example shown in the Jira Description.&lt;br/&gt;
Does it make sense in your test case?&lt;/p&gt;</comment>
                            <comment id="14982313" author="ay" created="Fri, 30 Oct 2015 10:28:16 +0000"  >&lt;p&gt;Alessio and I had an irc chat a few days ago and I described briefly how to reproduce the problem and the cases where the problem doesn&apos;t occur.&lt;/p&gt;

&lt;p&gt;The problem can be reproduced when using the same setup sequence as Jaume&apos;s description. If the address is set earlier at the port creation as Jaume comments above or somewhere before the conduit setup by setting BindingProvider.ENDPOINT_ADDRESS_PROPERTY of the port, the problem does not occur.&lt;/p&gt;

&lt;p&gt;In other words, a workaround for new clients is to set BindingProvider.ENDPOINT_ADDRESS_PROPERTY before the conduit setup to avoid this issue. But I think this problem can be resolved somewhere in the cxf code so that the setting the address at the end should work as before.&lt;/p&gt;
</comment>
                            <comment id="14982320" author="asoldano" created="Fri, 30 Oct 2015 10:33:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvicens&quot; class=&quot;user-hover&quot; rel=&quot;jvicens&quot;&gt;jvicens&lt;/a&gt; you&apos;re right, the issue is exactly with services built without specifying the wsdl location. I&apos;m now reproducing the error by building the service with new HelloService(null, serviceName)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt; yes, that&apos;s a workaround for sure. Another one is to save a local copy of the wsdl and let the client read it when building the service. I&apos;m testing a possible fix atm anyway.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12831051">CXF-6415</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12829852">CXF-6404</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nkkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>