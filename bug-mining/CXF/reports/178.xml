<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:35:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1991] Incomplete implementations of UriInfo and UriBuilder</title>
                <link>https://issues.apache.org/jira/browse/CXF-1991</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Some useful methods like UriBuilder.path(Class), UriBuilder.path(Method) or UriInfo.getMatchedResources() are not implemented so far.&lt;/p&gt;

&lt;p&gt;Since I am have my locally tuned versions of these classes I am going to provide patch soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12412718">CXF-1991</key>
            <summary>Incomplete implementations of UriInfo and UriBuilder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="amichalec">Andrzej Michalec</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2009 01:35:34 +0000</created>
                <updated>Mon, 9 Feb 2009 22:20:16 +0000</updated>
                            <resolved>Mon, 2 Feb 2009 16:01:36 +0000</resolved>
                                    <version>2.1.3</version>
                    <version>2.2</version>
                                    <fixVersion>2.1.4</fixVersion>
                    <fixVersion>2.2</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12665091" author="sergey_beryozkin" created="Mon, 19 Jan 2009 10:31:47 +0000"  >&lt;p&gt;The patch will be welcomed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - take your time please. &lt;/p&gt;
</comment>
                            <comment id="12665159" author="amichalec" created="Mon, 19 Jan 2009 17:33:35 +0000"  >&lt;p&gt;I have working set of UriInfo.getMatched*() methods that cooperate with JAXRSInvoker to access to runtime stack of ORIs. I want to also build unit tests for them to solidify code. From short review however I found only unit tests statically using Book/BookStore/etc samples. Is there any good approach to bootstrap JAXRSserver for such cases? Maybe I;ve just overlooked already existing unit tests. Code snippets, or advice appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (use priv email if preferred)&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy&lt;/p&gt;</comment>
                            <comment id="12665171" author="sergey_beryozkin" created="Mon, 19 Jan 2009 18:08:51 +0000"  >&lt;p&gt;Hi Andy&lt;/p&gt;

&lt;p&gt;Can you please update your code to interact with a Message instance instead ? I&apos;d prefer to have JAXRS impl classes be unaware of things like JAXRSInvoker...For ex, we might let people to provide custom invoker implementations, similarly to JAXWS runtime. Rather than having UriInfo be aware of JAXRSInvoker, it would check a message instead, this is a typical pattern in CXF.&lt;br/&gt;
For example, in JAXRSInvoker, before an invocation/injection is done, do something like :&lt;/p&gt;

&lt;p&gt;message.put(&quot;MATCHED_OPERATIONS&quot;, oris);&lt;/p&gt;

&lt;p&gt;and then in UriInfo you&apos;ll do message.get();&lt;/p&gt;

&lt;p&gt;At the moment there&apos;s no central place for keeping key definitions like MATCHED_OPERATIONS, some of them are kept in JAXRSInInterceptor which is really a wrong place for then. Perhaps it&apos;s time to inroduce some JAXRSConstants class.&lt;/p&gt;

&lt;p&gt;This way, you can just add some test into JAXRSUtilsTest, or create a new test suite altogether and work with a Message(Impl) only.&lt;/p&gt;

&lt;p&gt;In system tests once cam also bootstrap a server, either programmatically or from Spring. See systests/.../jaxrs/JAXRSClientServerBookTest for an example of the former approach and other tests for the example of the latter one&lt;/p&gt;


&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="12665236" author="amichalec" created="Mon, 19 Jan 2009 21:11:51 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
I was aware of decoupling them and indeed they are already done similar way: JAXRSInvoker recursivelly put on stack ORIs and the stack itself is register insinde inbound Message (uder key being stack&apos;s class object; same as other objects, it&apos;s mimics of surrounding code doing things this way). From UriInfoImpl side it can extracts stack from Message already passed through constructor &amp;#8211; from this perspective no other changes are introduces on the way from JAXRSInvoker to UriInfoImpl. &lt;/p&gt;

&lt;p&gt;I could not find better point of stack generation that invoker itself, since invoker is responsible for lookup for resources &amp;#8211; what&apos;s your suggestion? Where is other control point to put ORI on stack?&lt;/p&gt;

&lt;p&gt;Or maybe let me finish this unit of work and once patch is submitted you can help me improving it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12665251" author="sergey_beryozkin" created="Mon, 19 Jan 2009 22:12:12 +0000"  >&lt;p&gt;Hi Andy,&lt;/p&gt;

&lt;p&gt;Ok, thanks, it sounds good. So you might want to add a unit test to UriInfoImplTest, and some system test - you might want to update the existing one...&lt;/p&gt;

&lt;p&gt;JAXRSInvoker is probably the best place indeed - but as you said - lets get the first implementation and then we&apos;ll see where things can be improved&lt;/p&gt;

&lt;p&gt;thanks, Sergey &lt;/p&gt;</comment>
                            <comment id="12665294" author="amichalec" created="Tue, 20 Jan 2009 00:37:23 +0000"  >&lt;p&gt;While I can run unit tests from Eclipse, I see problems with systests (CreateProcess fails due to too long command line, yeah Windows box). If I have to run it maven for it, is there any magic spell to run tests only on JAXRS part?&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy&lt;/p&gt;</comment>
                            <comment id="12665380" author="sergey_beryozkin" created="Tue, 20 Jan 2009 09:39:23 +0000"  >&lt;p&gt;You can do&lt;/p&gt;

&lt;p&gt;mvn test -Dtest=JAXRS*&lt;/p&gt;

&lt;p&gt;two tests won&apos;t not picked up - AtomClientBookTest and JaxRsJaxWsBookTest - I&apos;ll need to rename them so that they start from JAXRS* too. Also, JAXRSContinuations test fails when running with this pattern at init time, for some reasons a private static JAXRSContinuations.BookWorker class is deemed to be a test class... &lt;/p&gt;

&lt;p&gt;I&apos;ve seen CreateProcess failures too on Windows. When it happens I just rerun &apos;mvn -Peclipse.setup&apos; and then refresh the workspace - and I reckon it actually helps...&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="12665635" author="amichalec" created="Tue, 20 Jan 2009 23:31:30 +0000"  >&lt;p&gt;OK, I am very close to get stable state (source + unit test + system tests) however I found some weird behavior of current UriBuilderImpl code that impacts new code behavior:&lt;/p&gt;

&lt;p&gt;I am not sure what is expected behavior when one of interior path elements has trailing slash (here: &quot;baz/&quot;). It leads to failure of this new test case:&lt;/p&gt;

&lt;p&gt;public class UriBuilderImplTest {&lt;br/&gt;
    @Test&lt;br/&gt;
    public void testAddPathSlashes() throws Exception &lt;/p&gt;
{
        URI uri = new URI(&quot;http://foo/&quot;);
        URI newUri = new UriBuilderImpl().uri(uri).path(&quot;/bar&quot;).path(&quot;baz/&quot;).path(&quot;/blah/&quot;).build();
        assertEquals(&quot;URI is not built correctly&quot;, new URI(&quot;http://foo/bar/baz/blah&quot;), newUri);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;UriBuilderImpl  produces here double slash after &quot;baz&quot;. It is because internally JAXRSUtils.getPathSegments(String) distinguishes trailing slash and generates empty path segment &amp;#8211; and I am not sure why, since JAX-RS spec says leading/trailing slashes are meaningless, only correct path segments separation is important. Any ideas?&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12665638" author="amichalec" created="Tue, 20 Jan 2009 23:34:50 +0000"  >&lt;p&gt;Forgot show message: &lt;br/&gt;
java.lang.AssertionError: URI is not built correctly expected:&amp;lt;&lt;a href=&quot;http://foo/bar/baz/blah&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo/bar/baz/blah&lt;/a&gt;&amp;gt; but was:&amp;lt;&lt;a href=&quot;http://foo/bar/baz//blah/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo/bar/baz//blah/&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;there is also trailing slash for &quot;blah/&quot; I guess reason is the same. One could normalize URI but it&apos;s not the case here (or it is?).&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12665643" author="amichalec" created="Wed, 21 Jan 2009 00:15:23 +0000"  >&lt;p&gt;Here goes my first patch in this thread (see &apos;cxf-1991_20090121.patch&apos; attachment) with following notes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Formatting led to more content in patch (removal of trailing blanks etc)&lt;/li&gt;
	&lt;li&gt;Please double check, could not run full tests on my Windows box (see this discussion: &lt;a href=&quot;http://www.nabble.com/Failures-of-unit-tests-on-2.2-snapshot-td21506655.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Failures-of-unit-tests-on-2.2-snapshot-td21506655.html&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;UriBuilderImpl has now complete set of path() methods, some are still not implemented (comming soon I hope); problem with trailing- and double-slashes described earlier is marked as &quot;fixme&quot;.&lt;/li&gt;
	&lt;li&gt;UriInfoImpl serves now runtime stack informatin &amp;#8211; see getMatched*() methods&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cheers,&lt;br/&gt;
andy&lt;/p&gt;</comment>
                            <comment id="12665772" author="sergey_beryozkin" created="Wed, 21 Jan 2009 09:57:37 +0000"  >&lt;p&gt;Hi Andy&lt;/p&gt;

&lt;p&gt;Many thanks for this effort. I&apos;ll try to apply the patch asap.&lt;br/&gt;
As far as your test is concerned :&lt;/p&gt;

&lt;p&gt;URI newUri = new UriBuilderImpl().uri(uri).path(&quot;/bar&quot;).path(&quot;baz/&quot;).path(&quot;/blah/&quot;).build();&lt;br/&gt;
assertEquals(&quot;URI is not built correctly&quot;, new URI(&quot;http://foo/bar/baz/blah&quot;), newUri); &lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: URI is not built correctly expected:&amp;lt;&lt;a href=&quot;http://foo/bar/baz/blah&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo/bar/baz/blah&lt;/a&gt;&amp;gt; but was:&amp;lt;&lt;a href=&quot;http://foo/bar/baz//blah/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo/bar/baz//blah/&lt;/a&gt;&amp;gt; &lt;/p&gt;

&lt;p&gt;I think the last trailing slash in &quot;http://foo/bar/baz//blah/&quot; is actually correct., but there&apos;s a bug for &apos;baz//&apos;.&lt;br/&gt;
The last trailing slash can make a difference in matching, for ex&lt;/p&gt;

&lt;p&gt;@Path(&quot;/bar&quot;) void bar() {}&lt;br/&gt;
@Path(&quot;/bar/&quot;) void bar2() {}&lt;/p&gt;

&lt;p&gt;/bar/ will match both methods, but bar2() will be chosen as the @Path value has more literal characters (candidates are sorted in descending order for this criteria)&lt;/p&gt;

</comment>
                            <comment id="12666168" author="sergey_beryozkin" created="Thu, 22 Jan 2009 15:18:12 +0000"  >&lt;p&gt;Hi Andy,&lt;/p&gt;

&lt;p&gt;I applied the patch with FixMe tests fixed, thanks again.&lt;br/&gt;
Would you like me to close this JIRA or are you thinking of submitting another patch for UriBuilderImpl ? UriInfo implementation is now complete&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="12666198" author="amichalec" created="Thu, 22 Jan 2009 16:29:23 +0000"  >&lt;p&gt;I am working to complete UriBuilderImpl so please keep this issue opened for a while. I will update my svn copy and commit second final patch for this thread.&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12668238" author="amichalec" created="Wed, 28 Jan 2009 23:44:30 +0000"  >&lt;p&gt;Here goes next patch &apos;cxf-1991_20090128.patch&apos; ready to apply on today&apos;s head svn revision:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;set of UriBuilder.build*() methods now fully respect current JAX-RS 1.0 spec&lt;/li&gt;
	&lt;li&gt;URITemplate was extended with template substitution&lt;br/&gt;
Some methods are still TBD - matrix and query parameters; hope I can get there with 3rd and last patch as soon as I got some more clarification from jsr311 users group&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sergey, BTW I&apos;ve found also that URITemplate does not hold when playing with complex regexp for variables matching: simple ones like &quot;&lt;/p&gt;
{var:\d\d}
&lt;p&gt;&quot; are ok but with &quot;&lt;/p&gt;
{var:.*}
&lt;p&gt;&quot; it regexp compilation fails.&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12668486" author="sergey_beryozkin" created="Thu, 29 Jan 2009 14:41:13 +0000"  >&lt;p&gt;This is awesome. Will take care of applying the send patch now. &lt;/p&gt;

&lt;p&gt;&amp;gt; Sergey, BTW I&apos;ve found also that URITemplate does not hold when playing with complex regexp for variables matching: &lt;br/&gt;
&amp;gt; simple ones like &quot;&lt;/p&gt;
{var:\d\d}
&lt;p&gt;&quot; are ok but with &quot;&lt;/p&gt;
{var:.*}
&lt;p&gt;&quot; it regexp compilation fails. &lt;/p&gt;

&lt;p&gt;I have a test for expressions like &quot;/&lt;/p&gt;
{base:base.+}
&lt;p&gt;/&lt;/p&gt;
{tail}
&lt;p&gt;&quot;, &quot;/books/&lt;/p&gt;
{bookId:[^/]+?}
&lt;p&gt;&quot;, &quot;/books/&lt;/p&gt;
{bookId:...\\.}
&lt;p&gt;&quot; plus few others;&lt;br/&gt;
I do know that one can&apos;t do expressions with &apos;&lt;/p&gt;
{&apos; and &apos;}
&lt;p&gt;&apos;, like {var:\d{9}}, one needs to do \d 9 times, I didn&apos;t have time to make it rock solid, so looks like a &apos;*&apos; gets into that category.&lt;br/&gt;
Can you open a JIRA please if you get a chance ? &lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12668615" author="amichalec" created="Thu, 29 Jan 2009 21:41:17 +0000"  >&lt;p&gt;Done - see &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-2014&quot; title=&quot;@Path fails when uses variable with regexp containing curly braces.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-2014&quot;&gt;&lt;del&gt;CXF-2014&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
BTW example with &lt;/p&gt;
{var:.*}
&lt;p&gt; works fine, my bad. The only problem are curly braces &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12668625" author="sergey_beryozkin" created="Thu, 29 Jan 2009 21:55:52 +0000"  >&lt;p&gt;thanks Andy ... I&apos;ll get it fixed&lt;/p&gt;</comment>
                            <comment id="12669481" author="amichalec" created="Mon, 2 Feb 2009 00:45:51 +0000"  >&lt;p&gt;And here goes final patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;all &lt;b&gt;query&lt;/b&gt;() methods were fixed due to lack of respect for valid &quot;single param name with multiple values&quot; case (supporting junits added too).&lt;/li&gt;
	&lt;li&gt;all &lt;b&gt;matrix&lt;/b&gt;() methods for matrix params manipulation with same rules as for query URI part (note ability to have &quot;single param with multiple values&quot; due to discussion on jsr311 users group).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note: I&apos;ve not changed default behavior of many methods that strip matrix params from path segments keeping matrix management separated. Examples:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;building URI from &quot;http://foo;p1=v1/bar&quot; results with &quot;http://foo/bar&quot; &amp;#8211; this is ok for me since matrix params should appear only in final path segment&lt;/li&gt;
	&lt;li&gt;adding path &quot;/bar;p1=v1&quot; to &quot;http://foo&quot; causes build() to return &quot;http://foo/bar&quot; - user must explicitly add matrix param in next step(s).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sergey, if you do not find any problems with patch, feel free to close this thread.&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12669551" author="sergey_beryozkin" created="Mon, 2 Feb 2009 10:31:22 +0000"  >&lt;p&gt;Hi Andy - it&apos;s a great effort. I&apos;ll apply a patch.&lt;/p&gt;

&lt;p&gt;I&apos;ll keep the issue open for a bit longer though. First, I reckon we actually should not strip matrix params as the spec supports them being located at any path segment - so I can get the code updated , unless you get a chance to revisit this issue at some time - let me know please.  I&apos;ll also need to fix the issue I&apos;ve talked about on the cxf-dev list, for UriInfo.getMatchedURI()&lt;/p&gt;

&lt;p&gt;Many Thanks &lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="12669559" author="amichalec" created="Mon, 2 Feb 2009 11:11:04 +0000"  >&lt;p&gt;Hi Sergey, &lt;br/&gt;
I was following spec&apos;s javadoc pointing to this note: &lt;a href=&quot;http://www.w3.org/DesignIssues/MatrixURIs.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/DesignIssues/MatrixURIs.html&lt;/a&gt;. &lt;br/&gt;
JAX-RS spec seems to explicitly point to doc that discusses only subset of implicitly required functionality.&lt;br/&gt;
I agree matrix param could be located at any segment; UriBuilder could modify only &lt;b&gt;current&lt;/b&gt; path segment like this:&lt;/p&gt;

&lt;p&gt;new UriBuilderImpl(&quot;http://foo&quot;).matrixParam(&quot;p1&quot;,&quot;v1&quot;).path(&quot;bar&quot;).matrixParam(&quot;p2&quot;,&quot;v2&quot;); &lt;br/&gt;
// leads to:  &lt;a href=&quot;http://foo;p1=v1/bar;p2=v2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo;p1=v1/bar;p2=v2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will try to find time to look at it, I need more time though &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy&lt;/p&gt;</comment>
                            <comment id="12669606" author="sergey_beryozkin" created="Mon, 2 Feb 2009 14:10:42 +0000"  >&lt;p&gt;Hi Andy - no problems at all - thanks for doing all the hard work&lt;/p&gt;

&lt;p&gt;It&apos;s the use of @MatrixParam which is problematic in JAXRS. Specifically, it picks up the first matching parameter, irrespectively of what segment it belongs to, last one or some ancestor one. I believe the JAXRS maintenance spec will limit it to the last segment only. PathSegment can be used to analyze matrix params at any given segment...&lt;/p&gt;

&lt;p&gt;I agree that the pattern you suggest makes sense, we just need to do one last minor tweak...&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="12669638" author="sergey_beryozkin" created="Mon, 2 Feb 2009 16:01:36 +0000"  >&lt;p&gt;Hi Andy - I got the matrix issue fixed - hopefully you haven&apos;t started coding yet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I updated buldPath() to get matrix parameters for all but the last segment added too, while &apos;matrix&apos; map is still used as the last segment&apos;s matrix. When path(String) is called, the last existing segment, if any, gets updated with &apos;matrix&apos;, then matrix is cleared and gets updated from the newly added last segment&lt;/p&gt;

&lt;p&gt;If you see any weakness in this solution then please let me know or submit a patch.&lt;/p&gt;

&lt;p&gt;By the way - would you be interested in adding a short section to User Guide on how UriBuilder and UriInfo.getMatched* methods can be used ?&lt;/p&gt;

&lt;p&gt;I&apos;ll update the TODO list on the wiki - very happy to see &quot;UriInfo &amp;amp; UriBuilder&quot; issue done.&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="12669667" author="amichalec" created="Mon, 2 Feb 2009 17:46:31 +0000"  >&lt;p&gt;I can try, point me out where should I start and grant me access rights (I cannot start edit this page: &lt;a href=&quot;http://cwiki.apache.org/confluence/display/CXF20DOC/JAX-RS+(JSR-311&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/CXF20DOC/JAX-RS+(JSR-311&lt;/a&gt;) ). &lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                            <comment id="12669668" author="dkulp" created="Mon, 2 Feb 2009 17:53:18 +0000"  >
&lt;p&gt;Andy,&lt;/p&gt;

&lt;p&gt;We need an ICLA on file from you to be able to edit the wiki.    See the section &quot;Contributor License Agreements&quot; at:&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/licenses/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(BTW: that is also the first step if voted in as a committer so if you are heading that way, it&apos;s a good thing to get done anyway.....   &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12669704" author="amichalec" created="Mon, 2 Feb 2009 19:19:50 +0000"  >&lt;p&gt;Ah, right.  It&apos;s done now: signed, scanned and sent back via email.&lt;/p&gt;

&lt;p&gt;cheers,&lt;br/&gt;
andy.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12398355" name="cxf-1991_20090121.patch" size="39328" author="amichalec" created="Wed, 21 Jan 2009 00:15:23 +0000"/>
                            <attachment id="12398947" name="cxf-1991_20090128.patch" size="41113" author="amichalec" created="Wed, 28 Jan 2009 23:44:30 +0000"/>
                            <attachment id="12399254" name="cxf-1991_20090201.patch" size="18841" author="amichalec" created="Mon, 2 Feb 2009 00:45:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>50360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1472f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>