<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:56:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4552] typical HTML form payload does not seem to work when HTML form is used</title>
                <link>https://issues.apache.org/jira/browse/CXF-4552</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I am using HTML form below to upload files using jax-rs but the attachments parameter is null.    &lt;/p&gt;

&lt;p&gt;The code and error are shown:&lt;/p&gt;

&lt;p&gt;form:&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt; &lt;br/&gt;
&amp;lt;FORM action=&quot;/jax_rs_basic/cxf/files/upload&quot;&lt;br/&gt;
       enctype=&quot;multipart/form-data&quot;&lt;br/&gt;
       method=&quot;post&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;P&amp;gt;&lt;br/&gt;
   What is your name? &amp;lt;INPUT type=&quot;text&quot; name=&quot;submit-name&quot;&amp;gt;&amp;lt;BR&amp;gt;&lt;br/&gt;
   What files are you sending? &amp;lt;INPUT id=&quot;files&quot; type=&quot;file&quot; name=&quot;files&quot;&amp;gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;INPUT type=&quot;submit&quot; value=&quot;Send&quot;&amp;gt; &amp;lt;INPUT type=&quot;reset&quot;&amp;gt;&lt;br/&gt;
 &amp;lt;/FORM&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;



&lt;p&gt;code:&lt;br/&gt;
package demo.jaxrs.server;&lt;/p&gt;

&lt;p&gt;import java.io.BufferedReader;&lt;br/&gt;
import java.io.IOException;&lt;br/&gt;
import java.io.InputStream;&lt;br/&gt;
import java.io.InputStreamReader;&lt;br/&gt;
import java.util.List;&lt;/p&gt;

&lt;p&gt;import javax.ws.rs.Consumes;&lt;br/&gt;
import javax.ws.rs.POST;&lt;br/&gt;
import javax.ws.rs.Path;&lt;br/&gt;
import javax.ws.rs.Produces;&lt;br/&gt;
import javax.ws.rs.core.Response;&lt;/p&gt;

&lt;p&gt;import org.apache.cxf.jaxrs.ext.multipart.Multipart;&lt;br/&gt;
import org.apache.cxf.message.Attachment;&lt;/p&gt;

&lt;p&gt;@Path(&quot;/files/&quot;)&lt;br/&gt;
public class MultipartService {&lt;/p&gt;

&lt;p&gt;	@Path(&quot;/upload&quot;)&lt;br/&gt;
	@Consumes(&quot;multipart/form-data&quot;)&lt;br/&gt;
	@Produces(&quot;text/html&quot;)&lt;br/&gt;
	@POST&lt;br/&gt;
	public Response addAttachments(@Multipart(&quot;submit-name&quot;) String submitName, &lt;br/&gt;
			@Multipart(&quot;files&quot;) List&amp;lt;Attachment&amp;gt; files) {&lt;/p&gt;

&lt;p&gt;		System.out.println(submitName);&lt;br/&gt;
		System.out.println(files);&lt;br/&gt;
		for(Attachment a:files) {&lt;br/&gt;
			System.out.println(a.getId());&lt;br/&gt;
			InputStream is;&lt;br/&gt;
			try &lt;/p&gt;
{
				is = a.getDataHandler().getInputStream();
				BufferedReader r = new BufferedReader(new InputStreamReader(is));
				System.out.println(r.readLine());
			}
&lt;p&gt; catch (IOException e) &lt;/p&gt;
{
				// TODO Auto-generated catch block
				e.printStackTrace();
			}

&lt;p&gt;		}&lt;/p&gt;

&lt;p&gt;		return Response.ok(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;Files Saved&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;).type(&quot;text/html&quot;).build();&lt;/p&gt;

&lt;p&gt;	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;beans.xml:&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
  xmlns:jaxrs=&quot;http://cxf.apache.org/jaxrs&quot;&lt;br/&gt;
  xsi:schemaLocation=&quot;&lt;br/&gt;
&lt;a href=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cxf.apache.org/jaxrs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/jaxrs&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cxf.apache.org/schemas/jaxrs.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/schemas/jaxrs.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;!-- do not use import statements if CXFServlet init parameters link to this beans.xml --&amp;gt; &lt;/p&gt;

&lt;p&gt;  &amp;lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;import resource=&quot;classpath:META-INF/cxf/cxf-servlet.xml&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean id=&quot;MyInterceptor&quot; class=&quot;org.apache.cxf.interceptor.LoggingInInterceptor&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;jaxrs:server id=&quot;customerService&quot; address=&quot;/&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;jaxrs:inInterceptors&amp;gt;&amp;lt;ref bean=&quot;MyInterceptor&quot;/&amp;gt;&amp;lt;/jaxrs:inInterceptors&amp;gt;&lt;br/&gt;
    &amp;lt;jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
      &amp;lt;!--  ref bean=&quot;customerBean&quot; /--&amp;gt;&lt;br/&gt;
      &amp;lt;ref bean=&quot;filesBean&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
  &amp;lt;/jaxrs:server&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean id=&quot;customerBean&quot; class=&quot;demo.jaxrs.server.CustomerService&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;bean id=&quot;filesBean&quot; class=&quot;demo.jaxrs.server.MultipartService&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;


&lt;p&gt;error log:&lt;br/&gt;
17:10:58 INFO  context.ContextLoader - Root WebApplicationContext: initialization completed in 1422 ms&lt;br/&gt;
17:10:58 DEBUG support.DefaultListableBeanFactory - Returning cached instance of singleton bean &apos;cxf&apos;&lt;br/&gt;
Oct 09, 2012 5:02:09 PM org.apache.cxf.interceptor.LoggingInInterceptor&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 1&lt;br/&gt;
Address: &lt;a href=&quot;http://pinkydebian:8080/jax_rs_basic/cxf/files/upload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pinkydebian:8080/jax_rs_basic/cxf/files/upload&lt;/a&gt;&lt;br/&gt;
Encoding: ISO-8859-1&lt;br/&gt;
Http-Method: POST&lt;br/&gt;
Content-Type: multipart/form-data; boundary=---------------------------222852432428027&lt;br/&gt;
Headers: &lt;/p&gt;
{Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], accept-encoding=[gzip, deflate], accept-language=[en-us,en;q=0.5], connection=[keep-alive], Content-Length=[469], content-type=[multipart/form-data; boundary=---------------------------222852432428027], host=[pinkydebian:8080], referer=[http://pinkydebian:8080/jax_rs_basic/multipart.html], user-agent=[Mozilla/5.0 (Windows NT 6.1; rv:15.0) Gecko/20100101 Firefox/15.0.1]}
&lt;p&gt;Payload: -----------------------------222852432428027&lt;br/&gt;
Content-Disposition: form-data; name=&quot;submit-name&quot;&lt;/p&gt;

&lt;p&gt;Miten&lt;br/&gt;
-----------------------------222852432428027&lt;br/&gt;
Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;kingfisher.txt&quot;&lt;br/&gt;
Content-Type: text/plain&lt;/p&gt;

&lt;p&gt;Service Temporarily Unavailable&lt;/p&gt;

&lt;p&gt;The server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later.&lt;br/&gt;
----------------------------&lt;del&gt;222852432428027&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;--------------------------------------&lt;br/&gt;
Miten&lt;br/&gt;
null&lt;br/&gt;
Oct 09, 2012 5:02:09 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
WARNING: Application &lt;/p&gt;
{http://server.jaxrs.demo/}
&lt;p&gt;MultipartService has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:166)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:107)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:122)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:207)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:213)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:154)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:126)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:185)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:108)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:164)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at demo.jaxrs.server.MultipartService.addAttachments(MultipartService.java:30)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)&lt;br/&gt;
	... 34 more&lt;/p&gt;

&lt;p&gt;Oct 09, 2012 5:02:09 PM org.apache.cxf.phase.PhaseInterceptorChain unwind&lt;br/&gt;
WARNING: Exception in handleFault on interceptor org.apache.cxf.binding.xml.interceptor.XMLFaultOutInterceptor@8dae83&lt;br/&gt;
org.apache.cxf.interceptor.Fault&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:166)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:107)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:122)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:207)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:213)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:154)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:126)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:185)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:108)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:164)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at demo.jaxrs.server.MultipartService.addAttachments(MultipartService.java:30)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)&lt;br/&gt;
	... 34 more&lt;/p&gt;

&lt;p&gt;Oct 09, 2012 5:02:09 PM org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver onMessage&lt;br/&gt;
SEVERE: Error occurred during error handling, give up!&lt;br/&gt;
org.apache.cxf.interceptor.Fault&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:166)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:107)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:122)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:207)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:213)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:154)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:126)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:185)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:108)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:164)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at demo.jaxrs.server.MultipartService.addAttachments(MultipartService.java:30)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)&lt;br/&gt;
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)&lt;br/&gt;
	... 34 more&lt;/p&gt;




&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Miten&lt;br/&gt;
imiten@yahoo.com&lt;/p&gt;</description>
                <environment>&lt;p&gt;mitenm@pinkydebian:~$ uname -a; java -version&lt;br/&gt;
Linux pinkydebian 2.6.32-5-686 #1 SMP Sun May 6 04:01:19 UTC 2012 i686 GNU/Linux&lt;br/&gt;
java version &quot;1.7.0_04&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_04-b20)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 23.0-b21, mixed mode)&lt;br/&gt;
mitenm@pinkydebian:~$&lt;/p&gt;</environment>
        <key id="12610976">CXF-4552</key>
            <summary>typical HTML form payload does not seem to work when HTML form is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="imitenmehta">Miten Mehta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2012 12:26:12 +0000</created>
                <updated>Thu, 8 Nov 2012 17:14:58 +0000</updated>
                            <resolved>Fri, 2 Nov 2012 10:42:52 +0000</resolved>
                                    <version>2.5.2</version>
                                    <fixVersion>2.5.6</fixVersion>
                    <fixVersion>2.6.3</fixVersion>
                    <fixVersion>2.7.1</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13472310" author="imitenmehta" created="Tue, 9 Oct 2012 12:38:54 +0000"  >&lt;p&gt;Have tried using Attachment import as below too but still same result of NullPointerException.&lt;/p&gt;

&lt;p&gt;import org.apache.cxf.message.Attachment;&lt;br/&gt;
replaced with&lt;br/&gt;
import org.apache.cxf.jaxrs.ext.multipart.Attachment;&lt;/p&gt;
</comment>
                            <comment id="13473175" author="sergey_beryozkin" created="Wed, 10 Oct 2012 12:27:58 +0000"  >&lt;p&gt;There was an issue with processing List parameters annotated with @Multipart annotation. In a &apos;plain&apos; multipart payload it is not possible to have different parts with the same content id / name hence this combination was only supported for form data payloads with multiple files submitted, where a given top-level part has embedded parts, one per each file.&lt;/p&gt;

&lt;p&gt;However when a single file is submitted only then the part with a given id does not have the embedded parts of its own and hence &quot;@Multipart(&quot;files&quot;) List&quot; was not processed. &lt;/p&gt;</comment>
                            <comment id="13473857" author="imitenmehta" created="Thu, 11 Oct 2012 05:38:57 +0000"  >&lt;p&gt;I am unable to understand your comment.  could you elaborate with code snippets.&lt;br/&gt;
what is &apos;plain&apos; multipart payload and form-data payload and whats the difference ? &lt;br/&gt;
I am using HTML form with multipart/form-data encoding.  can you refer in reference to it ?&lt;/p&gt;

&lt;p&gt;different parts with same name/id ? &lt;br/&gt;
In HTML form to upload multiple files if I use same name/id is that incorrect ? &lt;/p&gt;

&lt;p&gt; &amp;lt;INPUT id=&quot;files&quot; type=&quot;file&quot; name=&quot;files&quot;&amp;gt;&amp;lt;BR&amp;gt;&lt;br/&gt;
 &amp;lt;INPUT id=&quot;files&quot; type=&quot;file&quot; name=&quot;files&quot;&amp;gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;I am hoping that for two files I can use above html in form and then I can grab the two as list by @Multipart(&quot;files&quot;) List&amp;lt;Attachment&amp;gt;.&lt;/p&gt;

&lt;p&gt;When single file is submitted meaning single file upload tag in html form as below&lt;br/&gt;
 &amp;lt;INPUT id=&quot;files&quot; type=&quot;file&quot; name=&quot;files&quot;&amp;gt;&amp;lt;BR&amp;gt;&lt;/p&gt;

&lt;p&gt;the parameter should not be List then what should it be ?&lt;br/&gt;
@Multipart(&quot;files&quot;) Attachment files ?&lt;/p&gt;

&lt;p&gt;The ticket shows fix versions 2.5.6 etc.  is it immediately available from the CXF download link ? 2.5.2 is not being applied fix ? &lt;/p&gt;

&lt;p&gt;how can I refer to files changed in the releases for this ticket ? I was hoping to see some link in ticket referring to change list committed in version control system.&lt;/p&gt;</comment>
                            <comment id="13473976" author="sergey_beryozkin" created="Thu, 11 Oct 2012 09:00:47 +0000"  >&lt;p&gt;Can you try the latest 2.5.x or 2.6.x snapshot ?&lt;/p&gt;</comment>
                            <comment id="13474072" author="sergey_beryozkin" created="Thu, 11 Oct 2012 12:11:17 +0000"  >&lt;p&gt;More enhancement for supporting multiple parts with the same name may need to be coded given that not all form data payloads containing multiple files are &apos;well-formed&apos;&lt;/p&gt;</comment>
                            <comment id="13489353" author="sergey_beryozkin" created="Fri, 2 Nov 2012 10:42:52 +0000"  >&lt;p&gt;mapping multiple parts with the same content id to a collection parameter bound to that content id with Multipart annotation is also supported &lt;/p&gt;</comment>
                            <comment id="13489533" author="imitenmehta" created="Fri, 2 Nov 2012 16:45:11 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;Thanks for patch.&#160; Please update documentation with two liner example !&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Miten.&lt;/p&gt;



</comment>
                            <comment id="13489565" author="sergey_beryozkin" created="Fri, 2 Nov 2012 17:28:32 +0000"  >&lt;p&gt;Nothing changes at the code level, what will happen now that is irrespectively of how multipart/form-data payload containing multiple files is structured (exactly as in HTMLForm document or with every file part having the same name such as &quot;files&quot;), this code which is already on the wiki will work:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
POST
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void upload(@Multipart(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, @Multipart(&lt;span class=&quot;code-quote&quot;&gt;&quot;files&quot;&lt;/span&gt;) List&amp;lt;Attachment&amp;gt; files) {...}


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a side note, please review &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.apache.org/docs/jax-rs-redirection.html#JAX-RSRedirection-WithRequestDispatcherProvider&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/jax-rs-redirection.html#JAX-RSRedirection-WithRequestDispatcherProvider&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;(check the info re enums)&lt;/p&gt;</comment>
                            <comment id="13490193" author="imitenmehta" created="Sun, 4 Nov 2012 13:48:11 +0000"  >&lt;p&gt;H Sergey,&lt;/p&gt;

&lt;p&gt;Nice addition for enum.&#160; It will make things convenient now for navigation view configuration.&#160; Also I am able to follow your one liner about multipart files with same name.&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Miten.&lt;/p&gt;



</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07fuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>