<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:23:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6962] Basic auth uses UTF-8 for the encoded password when it should use ISO-8859-1</title>
                <link>https://issues.apache.org/jira/browse/CXF-6962</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Basic auth uses UTF-8 for the encoded password when it should use ISO-8859-1.   Also (or instead), implement RFC 7617 which allows a server to indicate it does support UTF-8.&lt;/p&gt;

&lt;p&gt;The RFC that covers Basic authentication says that the authentication header contains base 64 encoded TEXT &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.  The TEXT format needs to be read under the HTTP specification &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; which says:&lt;/p&gt;

&lt;p&gt;   The TEXT rule is only used for descriptive field contents and values&lt;br/&gt;
   that are not intended to be interpreted by the message parser. Words&lt;br/&gt;
   of *TEXT MAY contain characters from character sets other than ISO-&lt;br/&gt;
   8859-1 &lt;span class=&quot;error&quot;&gt;&amp;#91;22&amp;#93;&lt;/span&gt; only when encoded according to the rules of RFC 2047&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;14&amp;#93;&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;RFC 2047 describes an encoding method that embeds the encoded string in &quot;=?&quot; and &quot;?=&quot;.  But it appears no implementation of HTTP is doing this.  Certainly no browser is doing this.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://tools.ietf.org/html/rfc2617#section-2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc2617#section-2&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12986865">CXF-6962</key>
            <summary>Basic auth uses UTF-8 for the encoded password when it should use ISO-8859-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="cdolphy">Chris Dolphy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jul 2016 16:10:45 +0000</created>
                <updated>Fri, 26 Jun 2020 21:34:46 +0000</updated>
                            <resolved>Fri, 27 Jan 2017 14:12:02 +0000</resolved>
                                    <version>2.7.18</version>
                    <version>3.1.6</version>
                                    <fixVersion>3.1.10</fixVersion>
                    <fixVersion>3.0.13</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15362698" author="cdolphy" created="Tue, 5 Jul 2016 16:12:24 +0000"  >&lt;p&gt;Can workaround this issue with a custom auth supplier that does:&lt;/p&gt;

&lt;p&gt;    public static String getBasicAuthHeader(String userName, String passwd) {&lt;br/&gt;
        String userAndPass = userName + &quot;:&quot; + passwd;&lt;br/&gt;
        try &lt;/p&gt;
{
            return &quot;Basic &quot; + Base64Utility.encode(userAndPass.getBytes(&quot;ISO-8859-1&quot;));
        }
&lt;p&gt; catch (java.io.UnsupportedEncodingException e) &lt;/p&gt;
{
            return &quot;Basic &quot; + Base64Utility.encode(userAndPass.getBytes());
        }

&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;and setting it with     http.setAuthSupplier(new CustomBasicAuthSupplier());&lt;/p&gt;
</comment>
                            <comment id="15363994" author="sergey_beryozkin" created="Wed, 6 Jul 2016 08:40:52 +0000"  >&lt;p&gt;Hi, can you please explain why using UTF-8 causes side-effects in your case ?&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="15828332" author="hgordon" created="Wed, 18 Jan 2017 16:06:36 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve just stumbled across this myself. &lt;br/&gt;
It causes problems when a browser correctly encodes the password in iso8859 and apache is interpreting it as UTF-8. &lt;/p&gt;

&lt;p&gt;Every passwort containing &#167; will get rejected by the server even when it is correct. &lt;/p&gt;

&lt;p&gt;Replacing any &quot;&#167;&quot; character with &quot;&#194;&#167;&quot; will make the password work again. And that alone is a good reason to change the behaviour.&lt;/p&gt;

</comment>
                            <comment id="15840502" author="sergey_beryozkin" created="Thu, 26 Jan 2017 21:40:02 +0000"  >&lt;p&gt;Hi, I agree it is a problem, the question is how to solve it now without breaking CXF clients which may be already encoding a character like &quot;&#167;&quot; using UTF-8 which works against a CXF server decoding with UTF-8.&lt;br/&gt;
May be we can try to come up with a property instructing CXF to use ISO-8859-1, too late for 3.1.10 but possible for 3.1.11&lt;/p&gt;</comment>
                            <comment id="15842907" author="sergey_beryozkin" created="Fri, 27 Jan 2017 14:11:46 +0000"  >&lt;p&gt;I&apos;ve experimented with CXF Spring Security and Jetty JAAS based tests and I do not see either Spring Security or Jetty being able to handle special characters encoded with ISO-8859-1, may be they have to configured somehow, def not working OOB.&lt;br/&gt;
As far as CXF is concerned, I&apos;ve added the properties to optionally use ISO-8859-1 which I believe is the best what we can do to avoid breaking the existing CXF servers/clients,&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/8937386f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/8937386f&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="15844982" author="shadow" created="Mon, 30 Jan 2017 09:38:07 +0000"  >&lt;p&gt;Btw, I see that no encoding is specified when ISO-8859-1 is not requested.&lt;br/&gt;
Is that correct? Wouldn&apos;t it be better to specify one explicitly in that case too?&lt;/p&gt;</comment>
                            <comment id="15845034" author="sergey_beryozkin" created="Mon, 30 Jan 2017 10:37:34 +0000"  >&lt;p&gt;It would be better if there was a specific reason to do so, example, fix an authentication info decoding issue to do with the default decoding process failing to pick up UTF-8 as it does now &lt;/p&gt;</comment>
                            <comment id="15845045" author="shadow" created="Mon, 30 Jan 2017 10:50:19 +0000"  >&lt;p&gt;I&apos;m just saying that &lt;tt&gt;new String(byte[])&lt;/tt&gt; doesn&apos;t necessarily means &lt;tt&gt;new String(byte[], &quot;UTF-8&quot;)&lt;/tt&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
It just uses the default encoding of the JVM, which might not be UTF-8.&lt;/p&gt;</comment>
                            <comment id="15845049" author="sergey_beryozkin" created="Mon, 30 Jan 2017 10:59:42 +0000"  >&lt;p&gt;Yes, what I was trying to imply is that even though explicitly specifying UTF-8 looks right, we do not know why we would do it - no-one has ever reported any issues with the default process except for this issue where ISO-8859-1 is preferred - and where is a guarantee a system encoding is not ISO-8859-1 which is what some users may already be depending upon ? &lt;/p&gt;</comment>
                            <comment id="15845060" author="shadow" created="Mon, 30 Jan 2017 11:05:54 +0000"  >&lt;p&gt;Aa, got it now.&lt;br/&gt;
Looking at the title of the issue, I was under the impression that UTF-8 was explicitly used and the code wasn&apos;t actually doing that.&lt;br/&gt;
Maybe a property for the encoding would have been better? And if it is not set, just use the JVM default.&lt;/p&gt;</comment>
                            <comment id="15845073" author="sergey_beryozkin" created="Mon, 30 Jan 2017 11:22:03 +0000"  >&lt;p&gt;This is more or less what we&apos;ve done with this JIRA issue. The spec does not require to support the arbitrary encoding (whatever the user prefers) but ISO-8859-1. So now the property has been introduced to let people explicitly select ISO-8859-1 - or let the default encoding (UTF-8, possibly even ISO-8859-1, etc) be selected&lt;/p&gt;</comment>
                            <comment id="17141930" author="fml2" created="Mon, 22 Jun 2020 11:17:55 +0000"  >&lt;p&gt;IIUC one has to set the message property &quot;&lt;font color=&quot;#008000&quot;&gt;encode.basicauth.with.iso8859&lt;/font&gt;&quot; to enforce the basic auth to be encoded with ISO-8859-1 in outgoing requests. How can I set the property if all I have access to is the Client and HTTPConduit?&lt;/p&gt;</comment>
                            <comment id="17143461" author="reta" created="Wed, 24 Jun 2020 02:10:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fml2&quot; class=&quot;user-hover&quot; rel=&quot;fml2&quot;&gt;fml2&lt;/a&gt; you could use Bus properties fe to set the &quot;&lt;font color=&quot;#008000&quot;&gt;encode.basicauth.with.iso8859&lt;/font&gt;&quot;. If you could share the way you configure your Client / HTTPConduit, that would be helpful.&lt;/p&gt;</comment>
                            <comment id="17144701" author="fml2" created="Thu, 25 Jun 2020 07:10:10 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;I create and configure the client like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getServicePort(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; portClass, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; endPoint, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; user, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pwd) {
    JaxWsProxyFactoryBean factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsProxyFactoryBean();
    factory.setAddress(endPoint);
    factory.setServiceClass(portClass);
    
    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; clientPort = factory.create(portClass);
    
    Client clientProxy = getClient(port);
    HTTPConduit conduit = (HTTPConduit) clientProxy.getConduit();
    conduit.getAuthorization().setAuthorizationType(&lt;span class=&quot;code-quote&quot;&gt;&quot;Basic&quot;&lt;/span&gt;);
    conduit.getAuthorization().setUserName(user);
    conduit.getAuthorization().setPassword(pwd);
    
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; clientPort;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The result of getServicePort is then downcasted to the particular port type (generated by CXF from WSDL) which is then used to make calls.&lt;/p&gt;</comment>
                            <comment id="17145970" author="reta" created="Fri, 26 Jun 2020 02:09:26 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fml2&quot; class=&quot;user-hover&quot; rel=&quot;fml2&quot;&gt;fml2&lt;/a&gt; ,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; BindingProvider bindingProvider = (BindingProvider) clientPort ;
bindingProvider.getRequestContext().put(&lt;span class=&quot;code-quote&quot;&gt;&quot;encode.basicauth.with.iso8859&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should do it, please give it a try, thanks.&lt;/p&gt;</comment>
                            <comment id="17146656" author="fml2" created="Fri, 26 Jun 2020 21:34:46 +0000"  >&lt;p&gt;Thank you for the hint! I&apos;ll try it!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30jof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>