<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:10:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5791] Could not send a message. Caused by HTTP response &apos;404: Not Found&apos;</title>
                <link>https://issues.apache.org/jira/browse/CXF-5791</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The issue &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-5781&lt;/a&gt; was resolved the exception &quot;port out of range: -1&quot;, but introduced the new exception below (Could not send Message - HTTP response &apos;404: Not Found&apos;) &lt;/p&gt;

&lt;p&gt;What is surprising for me is that the application server hosting the webservice runs an instance of JBoss (Red Hat) and not IIS (Microsoft). I say this because the HTTP header response for code 404 was produced by an IIS server (Microsoft). In DEBUG mode, I collected the correct header produced by JBOSS and wrong produced by IIS (Microsoft). I caught these two headers stopping code execution in getResponseCode () method of the class $ org.apache.cxf.transport.http.netty.client.NettyHttpConduit NettyWrappedOutputStream.&lt;/p&gt;

&lt;p&gt;The wrong HTTP header was produced simply running the code!&lt;/p&gt;

&lt;p&gt;The correct HTTP header was produced as follows: at runtime, in initializePorts() method of class org.apache.cxf.jaxws.ServiceImpl.java the value of the local variable called &quot;address&quot; (in line 210, before calling the method addPort) was changed to include the number of TCP port 443 (&lt;a href=&quot;https://homologwsincom.in.gov.br:443/services/servicoIN&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://homologwsincom.in.gov.br:443/services/servicoIN&lt;/a&gt;). With this change again (the reasons are described in &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-5781&lt;/a&gt;), everything worked normally.&lt;/p&gt;

&lt;p&gt;Despite trying to create a patch, I did not get success. So, I would ask that the TCP port number was not removed from the local variable called &quot;address&quot;.&lt;/p&gt;

&lt;p&gt;Below the headers HTTP:&lt;br/&gt;
==========================================================&lt;br/&gt;
Correct Header&lt;/p&gt;

&lt;p&gt;DefaultFullHttpResponse(decodeResult: success)&lt;br/&gt;
HTTP/1.1 200 OK&lt;br/&gt;
Date: Mon, 09 Jun 2014 01:22:57 GMT&lt;br/&gt;
X-Powered-By: Servlet 2.5; JBoss-5.0/JBossWeb-2.1&lt;br/&gt;
Content-Type: text/xml;charset=UTF-8&lt;br/&gt;
Vary: Accept-Encoding,User-Agent&lt;br/&gt;
Keep-Alive: timeout=20, max=100&lt;br/&gt;
Connection: Keep-Alive&lt;br/&gt;
Content-Length: 730&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------------&lt;br/&gt;
Wrong Header&lt;/p&gt;

&lt;p&gt;DefaultFullHttpResponse(decodeResult: success)&lt;br/&gt;
HTTP/1.1 404 Not Found&lt;br/&gt;
Date: Mon, 09 Jun 2014 01:20:52 GMT&lt;br/&gt;
Server: Microsoft-IIS/7.5&lt;br/&gt;
Content-Type: text/html; charset=ISO-8859-1&lt;br/&gt;
X-Powered-By: ASP.NET&lt;br/&gt;
Vary: Accept-Encoding,User-Agent&lt;br/&gt;
Keep-Alive: timeout=5, max=100&lt;br/&gt;
Connection: Keep-Alive&lt;br/&gt;
Content-Length: 1245&lt;br/&gt;
=========================================================&lt;br/&gt;
Below, the stacktrace:&lt;/p&gt;

&lt;p&gt;Jun 08, 2014 10:09:05 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
WARNING: Interceptor for &lt;/p&gt;
{http://xfire.ws.incom}
&lt;p&gt;servicoIN#&lt;/p&gt;
{http://xfire.ws.incom}
&lt;p&gt;ConsultaFormasPagamento has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault: Could not send Message.&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:137)&lt;br/&gt;
	at com.sun.proxy.$Proxy35.consultaFormasPagamento(Unknown Source)&lt;br/&gt;
	at incom.ws.xfire.ServicoINPortType_ServicoINHttpPort_Client.main(ServicoINPortType_ServicoINHttpPort_Client.java:60)&lt;br/&gt;
Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &apos;404: Not Found&apos; when communicating with &lt;a href=&quot;https://homologwsincom.in.gov.br/services/servicoIN&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://homologwsincom.in.gov.br/services/servicoIN&lt;/a&gt;&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1573)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1525)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1330)&lt;br/&gt;
	at org.apache.cxf.transport.http.netty.client.NettyHttpConduit$NettyWrappedOutputStream.close(NettyHttpConduit.java:153)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:638)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	... 9 more&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Could not send Message.&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:148)&lt;br/&gt;
	at com.sun.proxy.$Proxy35.consultaFormasPagamento(Unknown Source)&lt;br/&gt;
	at incom.ws.xfire.ServicoINPortType_ServicoINHttpPort_Client.main(ServicoINPortType_ServicoINHttpPort_Client.java:60)&lt;br/&gt;
Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &apos;404: Not Found&apos; when communicating with &lt;a href=&quot;https://homologwsincom.in.gov.br/services/servicoIN&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://homologwsincom.in.gov.br/services/servicoIN&lt;/a&gt;&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1573)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1525)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1330)&lt;br/&gt;
	at org.apache.cxf.transport.http.netty.client.NettyHttpConduit$NettyWrappedOutputStream.close(NettyHttpConduit.java:153)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:638)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:137)&lt;br/&gt;
	... 2 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;GNU/Linux Debian sid with jdk1.7.0_60 (Java HotSpot(TM) 64-Bit Server VM (build 24.60-b09, mixed mode))&lt;/p&gt;</environment>
        <key id="12719098">CXF-5791</key>
            <summary>Could not send a message. Caused by HTTP response &apos;404: Not Found&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="velosologan">Guilherme Veloso Neves Oliveira</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 9 Jun 2014 02:01:09 +0000</created>
                <updated>Mon, 13 Feb 2017 05:00:58 +0000</updated>
                            <resolved>Wed, 11 Jun 2014 11:47:45 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.0.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14027058" author="velosologan" created="Tue, 10 Jun 2014 21:24:59 +0000"  >&lt;p&gt;Despite not believe that this is the proper solution, I repeated the same idea used in the solution of issue &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-5781&lt;/a&gt;. The problem happens in the creation of objects of type URI and URL. I&apos;ll investigate further and then put the patch refactoring fix here.&lt;/p&gt;</comment>
                            <comment id="14027660" author="ay" created="Wed, 11 Jun 2014 11:47:45 +0000"  >&lt;p&gt;Guilherme&apos;s patch applied.&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="15352413" author="maninder2016" created="Tue, 28 Jun 2016 06:00:04 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Can you please let me know, from which version onward the fix is present ?&lt;/p&gt;

&lt;p&gt;Thanks &amp;amp; Regards,&lt;br/&gt;
Maninder&lt;/p&gt;</comment>
                            <comment id="15353615" author="velosologan" created="Tue, 28 Jun 2016 20:00:40 +0000"  >&lt;p&gt;Maninder,&lt;/p&gt;


&lt;p&gt;in theory, from version 3.0.1 . At least the correction was made in&lt;br/&gt;
this particular version&lt;/p&gt;

&lt;p&gt;[ ]&apos;s&lt;/p&gt;


&lt;p&gt;On Tue, Jun 28, 2016 at 3:01 AM, Maninder Singh (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="15358509" author="maninder2016" created="Fri, 1 Jul 2016 06:55:46 +0000"  >&lt;p&gt;Do we have any work around for this ?&lt;br/&gt;
I am using version 2.7.14&lt;/p&gt;</comment>
                            <comment id="15863213" author="jay@bangalore" created="Mon, 13 Feb 2017 04:59:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt; I can find the same issue in Karaf version 3.0.2. Do we need to make any changes in the configuration file  of Karaf or how it works ?&lt;br/&gt;
The issue is as &quot;org.apache.cxf.interceptor.Fault: XML_WRITE_EXC&quot;&lt;br/&gt;
Caused by: com.ctc.wstx.exc.WstxIOException: null&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12718261">CXF-5781</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12649674" name="NettyHttpClientRequest.patch" size="1049" author="velosologan" created="Tue, 10 Jun 2014 21:24:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wefr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>