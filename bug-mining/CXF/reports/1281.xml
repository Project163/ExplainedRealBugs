<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:52:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4183] SOAP Fault cause NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/CXF-4183</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The below exception happens &quot;sometimes&quot; I tried to trace the code. it seems like the XMLStreamWriter doesn&apos;t have namespace context&lt;/p&gt;

&lt;p&gt;(StaxUtils.java:727) String decUri = writer.getNamespaceContext().getNamespaceURI(prefix);&lt;/p&gt;


&lt;p&gt;Mar 15, 2012 11:23:14 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
INFO: Application &lt;/p&gt;
{http://example.com/blackboard/kb/}
&lt;p&gt;Subscriber#&lt;/p&gt;
{http://example.com/blackboard/kb/}
&lt;p&gt;push has thrown exception, unwinding now: com.example.kb.failure.FeedServiceException: net.organon.platform.channel.ChannelException: java.lang.NullPointerException&lt;br/&gt;
Mar 15, 2012 11:23:14 PM org.apache.cxf.binding.soap.interceptor.Soap12FaultOutInterceptor$Soap12FaultOutInterceptorInternal handleMessage&lt;br/&gt;
INFO: class org.apache.cxf.binding.soap.interceptor.Soap12FaultOutInterceptor$Soap12FaultOutInterceptorInternalapplication/soap+xml&lt;br/&gt;
Mar 15, 2012 11:23:14 PM org.apache.cxf.binding.soap.interceptor.Soap12FaultOutInterceptor$Soap12FaultOutInterceptorInternal handleMessage&lt;br/&gt;
WARNING: Error writing to XMLStreamWriter.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
        at org.apache.cxf.staxutils.StaxUtils.writeElement(StaxUtils.java:727)
        at org.apache.cxf.staxutils.StaxUtils.writeElement(StaxUtils.java:693)
        at org.apache.cxf.staxutils.StaxUtils.writeNode(StaxUtils.java:808)
        at org.apache.cxf.binding.soap.interceptor.Soap12FaultOutInterceptor$Soap12FaultOutInterceptorInternal.handleMessage(Soap12FaultOutInterceptor.java:124)
        at org.apache.cxf.binding.soap.interceptor.Soap12FaultOutInterceptor$Soap12FaultOutInterceptorInternal.handleMessage(Soap12FaultOutInterceptor.java:56)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)
        at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:113)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:323)
        at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:123)
        at net.organon.messaging.xmpp.soap.XMPPSOAPTransporter$1.run(XMPPSOAPTransporter.java:238)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at net.organon.security.identify.runtime.SSOSubject.doAs(SSOSubject.java:180)
        at net.organon.messaging.xmpp.soap.XMPPSOAPTransporter.handleMessage(XMPPSOAPTransporter.java:234)
        at net.organon.messaging.xmpp.model.stanza.processor.AbstractAgent.execute(AbstractAgent.java:70)
        at net.organon.messaging.xmpp.model.stanza.processor.AbstractComponent.execute(AbstractComponent.java:82)
        at net.organon.messaging.xmpp.runtime.channel.XMPPEventContext.sendUpstream(XMPPEventContext.java:122)
        at net.organon.platform.channel.AbstractChannelEventContext.sendUpstream(AbstractChannelEventContext.java:146)
        at net.organon.platform.channel.UpstreamChannelEventContext.call(UpstreamChannelEventContext.java:43)
        at net.organon.platform.channel.UpstreamChannelEventContext.call(UpstreamChannelEventContext.java:19)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeOperation(AbstractXMPPChannel.java:273)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeOperation(AbstractXMPPChannel.java:263)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeOperation(AbstractXMPPChannel.java:256)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeUpstream(AbstractXMPPChannel.java:230)
        at net.organon.platform.channel.DefaultUpstreamChannel.writeUpstream(DefaultUpstreamChannel.java:35)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPRouterChannel.route(AbstractXMPPRouterChannel.java:273)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPRouterChannel.writeUpstream(AbstractXMPPRouterChannel.java:248)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeUpstream(AbstractXMPPChannel.java:241)
        at net.organon.messaging.xmpp.runtime.channel.AbstractXMPPChannel.writeUpstream(AbstractXMPPChannel.java:232)
        at net.organon.platform.channel.DefaultUpstreamChannel.writeUpstream(DefaultUpstreamChannel.java:35)
        at net.organon.messaging.bus.EventQueue.writeUpstream(EventQueue.java:191)
        at net.organon.platform.channel.DefaultUpstreamChannel.writeUpstream(DefaultUpstreamChannel.java:104)
        at net.organon.platform.channel.DefaultUpstreamChannel.writeUpstream(DefaultUpstreamChannel.java:42)
        at net.organon.platform.channel.DefaultUpstreamChannel.writeUpstream(DefaultUpstreamChannel.java:35)
        at net.organon.messaging.bus.EventQueue.writeDownstream(EventQueue.java:177)
        at net.organon.platform.channel.DefaultChannel.writeDownstream(DefaultChannel.java:104)
        at net.organon.platform.channel.DefaultChannel.writeDownstream(DefaultChannel.java:42)
        at net.organon.messaging.bus.EventFuture$1.run(EventFuture.java:70)
        at net.organon.messaging.bus.EventFuture$1.run(EventFuture.java:65)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at net.organon.security.identify.runtime.SSOSubject.doAs(SSOSubject.java:180)
        at net.organon.messaging.bus.EventFuture.run(EventFuture.java:65)
        at net.organon.messaging.bus.EventQueue.execute(EventQueue.java:225)
        at net.organon.messaging.bus.EventQueue$EventQueueProcessor.run(EventQueue.java:235)
        at net.organon.platform.internal.runtime.InternalProcessManager$Worker$1.run(InternalProcessManager.java:190)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at net.organon.security.identify.runtime.SSOSubject.doAs(SSOSubject.java:180)
        at net.organon.platform.internal.runtime.InternalProcessManager$Worker.run(InternalProcessManager.java:183)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mar 15, 2012 11:23:14 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
INFO: Application &lt;/p&gt;
{http://example.com/blackboard/kb/}
&lt;p&gt;Subscriber#&lt;/p&gt;
{http://example/blackboard/kb/}
&lt;p&gt;push has thrown exception, unwinding now: com.example.blackboard.kb.failure.FeedServiceException: net.organon.platform.channel.ChannelException: java.lang.NullPointerException&lt;/p&gt;</description>
                <environment>&lt;p&gt;Openjdk version &quot;1.7.0&quot;&lt;br/&gt;
OpenJDK Runtime Environment (build 1.7.0-root_2011_07_02_05_19-b00)&lt;br/&gt;
OpenJDK Server VM (build 21.0-b17, mixed mode)&lt;/p&gt;


&lt;p&gt;FreeBSD localhost 9.0-CURRENT FreeBSD 9.0-CURRENT #8: Thu May  5 16:46:16 UTC 2011 root@localhost:/usr/obj/usr/src/sys/MINA  i386&lt;/p&gt;

&lt;p&gt;CXF 2.5.2&lt;/p&gt;</environment>
        <key id="12546963">CXF-4183</key>
            <summary>SOAP Fault cause NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="mina">Mina R Waheeb</reporter>
                        <labels>
                            <label>soap</label>
                    </labels>
                <created>Sun, 18 Mar 2012 18:57:35 +0000</created>
                <updated>Mon, 23 Apr 2012 16:45:22 +0000</updated>
                            <resolved>Tue, 20 Mar 2012 18:37:17 +0000</resolved>
                                    <version>2.5.2</version>
                                    <fixVersion>2.4.7</fixVersion>
                    <fixVersion>2.5.3</fixVersion>
                                    <component>Soap Binding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13232680" author="dkulp" created="Mon, 19 Mar 2012 15:30:26 +0000"  >
&lt;p&gt;If the NamespaceContext is null, that&apos;s really bad.  Any chance you could trace into there and figure out the classsname of the writer?   I&apos;d like to know if it&apos;s a specific woodstox class, one of our wrappers, etc....   &lt;/p&gt;
</comment>
                            <comment id="13232930" author="mina" created="Mon, 19 Mar 2012 21:29:43 +0000"  >&lt;p&gt;I found the problem its in class &quot;com.sun.xml.internal.stream.writers.XMLDOMWriterImpl&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. I use XMPP transporter and trying to remove some XML overhead by skipping the OutputStream stream and write the SOAP message to XMLStreamWriter using:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;message.put(Document.class, doc);
message.setContent(XMLStreamWriter.class, StaxUtils.createXMLStreamWriter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DOMResult(doc)));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The woodstox was not visible to the classpath of the transporter classloader at the runtime! after I added it everything working fine. My bad &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/com/sun/xml/internal/stream/writers/XMLDOMWriterImpl.java#XMLDOMWriterImpl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/com/sun/xml/internal/stream/writers/XMLDOMWriterImpl.java#XMLDOMWriterImpl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13233110" author="dkulp" created="Tue, 20 Mar 2012 01:43:41 +0000"  >&lt;p&gt;Any chance you could replace your call to StaxUtils.createXMLStreamWriter(new DOMResult(doc)) with something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.cxf.staxutils.W3CDOMStreamWriter(doc);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and test that? If that works, I&apos;ll update the createXMLStreamWriter(Result) method to check for DOMResult and return that instead.   We already do that for all the createXMLStreamReader calls due to buggy DOM readers, doing that for the writers may make some sense.&lt;/p&gt;


</comment>
                            <comment id="13233547" author="mina" created="Tue, 20 Mar 2012 16:51:10 +0000"  >&lt;p&gt;Yes, It works. It passes all the tests with almost the same performance. I think this would be a better solution for the DOM case.&lt;/p&gt;</comment>
                            <comment id="13233555" author="dkulp" created="Tue, 20 Mar 2012 16:59:23 +0000"  >&lt;p&gt;Re-open since we have a fix for it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b6hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>