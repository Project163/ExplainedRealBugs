<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:59:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4928] CXF-rt-frontend-simple - incorrect &quot;location&quot; attribute with &quot;wsdl:import&quot; tag</title>
                <link>https://issues.apache.org/jira/browse/CXF-4928</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m using CXF 2.6.2 implementation with OpenEJB embedded 4.5.0 for functional testing in my project.&lt;br/&gt;
When using interface for WebService and implementation of this interface but without &quot;name&quot; and &quot;targetNamespace&quot; attribute in @WebServic, OpenEJB server publish wsdl with &quot;wsdl:import&quot; that has incorrect &quot;location&quot; attribute.&lt;/p&gt;

&lt;p&gt;CXF implementation with Jboss 7 behave correctly.&lt;/p&gt;

&lt;p&gt;Example.&lt;/p&gt;

&lt;p&gt;1. Interface&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@WebService(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;WSTest &quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test.com/wstest&quot;&lt;/span&gt;)
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; WSTest {
 &lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. Implementation&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Stateless
@WebService
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WSTestImpl &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; WSTest {
 &lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. Published wsdl by OpenEJB under &lt;a href=&quot;http://127.0.0.1:8983/test/WSTestImpl?wsdl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8983/test/WSTestImpl?wsdl&lt;/a&gt; : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;wsdl:definitions xmlns:ns1=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test.com/wstest&quot;&lt;/span&gt; xmlns:ns4=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/http&quot;&lt;/span&gt; xmlns:soap=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&lt;/span&gt; xmlns:wsdl=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/&quot;&lt;/span&gt; xmlns:xsd=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;WSTestImplService&quot;&lt;/span&gt; targetNamespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://test.com/&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&amp;lt;wsdl:&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; location=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:8983/test/WSTestImpl?wsdl?wsdl=TestWS.wsdl&quot;&lt;/span&gt; namespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://test.com/wstest&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &quot;?wsdl&quot; keyword is repeated 2 times:&lt;br/&gt;
&amp;lt;wsdl:import location=&quot;http://127.0.0.1:8983/test/WSTestImpl?wsdl&lt;font color=&quot;red&quot;&gt;?wsdl&lt;/font&gt;=TestWS.wsdl&quot;&lt;/p&gt;

&lt;p&gt;OpenEJB or CXF doesn&apos;t set any properties of the endpoint WS (like PUBLISHED_ENDPOINT_URL) and this cause that WSDLGetUtils.updateDoc method take the whole address of wsdl (&lt;a href=&quot;http://127.0.0.1:8983/test/WSTestImpl?wsdl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8983/test/WSTestImpl?wsdl&lt;/a&gt;) and append to it another &quot;?wsdl&quot; keyword causing this bug.&lt;/p&gt;

&lt;p&gt;I&apos;ve made quick, not elegant, fix to WSDLGetUtils.java version 2.6.2 (but problem exists also with newest 2.7.3). Simply cutting the end of base location if it has &quot;?wsdl&quot; substring.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-comment&quot;&gt;// FIX base adres can be like http://aaa.com/Service?wsdl
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// remove wsdl parameter
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; indexOfParam = base.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;?&quot;&lt;/span&gt;);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (indexOfParam != -1){
                base = base.substring(0, indexOfParam);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Probably more elegant solution is needed.&lt;/p&gt;

&lt;p&gt;Attached source of the whole class WSDLGetUtils.java version 2.6.2&lt;/p&gt;</description>
                <environment>&lt;p&gt;OpenEJB embedded server with CXF implementation&lt;/p&gt;</environment>
        <key id="12639278">CXF-4928</key>
            <summary>CXF-rt-frontend-simple - incorrect &quot;location&quot; attribute with &quot;wsdl:import&quot; tag</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="pawel.ruta">Pawel Ruta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Mar 2013 10:51:17 +0000</created>
                <updated>Thu, 5 Dec 2013 19:05:24 +0000</updated>
                            <resolved>Wed, 20 Nov 2013 13:30:09 +0000</resolved>
                                    <version>2.6.2</version>
                    <version>2.7.3</version>
                                    <fixVersion>Invalid</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13616114" author="ffang" created="Thu, 28 Mar 2013 07:21:35 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I tried to reproduce this with standalone CXF but I can&apos;t, IIRC, with simple frontend, the @WebService annotation should be ignored.&lt;br/&gt;
Do you see this problem with standalone CXF? Could you provide a simple testcase which we can reproduce it with standalone CXF?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Freeman&lt;/p&gt;
</comment>
                            <comment id="13625149" author="ffang" created="Mon, 8 Apr 2013 05:15:08 +0000"  >&lt;p&gt;I just commit a testcase&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to demonstrate the wsdl in simple frontend works as expected, so I don&apos;t think this is a CXF side issue&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;http://svn.apache.org/r1465537&lt;/p&gt;</comment>
                            <comment id="13625162" author="pawel.ruta" created="Mon, 8 Apr 2013 05:43:30 +0000"  >&lt;p&gt;I&apos;ll provide testcase as soon as I have free time. Don&apos;t know what exactly is causing issue, but published WS Endpoint doean&apos;t have any properties so code in CXF is taking location of WS as &quot;http://127.0.0.1:8983/test/WSTestImpl?wsdl&quot; instead of &quot;http://127.0.0.1:8983/test/WSTestImpl&quot;&lt;/p&gt;</comment>
                            <comment id="13625420" author="dkulp" created="Mon, 8 Apr 2013 14:41:46 +0000"  >&lt;p&gt;&lt;br/&gt;
How are you publishing your service?   If using Endpoint.publish(...) or using the address attribute on the jaxws:endpoint or similar, those addresses are the address of the endpoint that should not have the &quot;?wsdl&quot; on there.  It SOUNDS like the endpoint it being published with the wrong address, but I could be wrong.   A test case would be useful.&lt;/p&gt;</comment>
                            <comment id="13827646" author="dkulp" created="Wed, 20 Nov 2013 13:30:09 +0000"  >&lt;p&gt;Needed more information that we never received.  Could not reproduce.  Works ok in standalone and JBoss.  May be an openejb issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12575688" name="WSDLGetUtils.java" size="28898" author="pawel.ruta" created="Wed, 27 Mar 2013 10:52:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j65b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>