<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:35:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1930] JAX-WS + JAXB does not honor the service factory isAnonymousWrapperTypes() flag</title>
                <link>https://issues.apache.org/jira/browse/CXF-1930</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m having trouble getting JAX-WS with JAXB databinding to work with the configuration option for using anonymous wrapper types:&lt;/p&gt;

&lt;p&gt;JaxWsServerFactoryBean serverFactory = new JaxWsServerFactoryBean();&lt;br/&gt;
// set address, service class etc...&lt;br/&gt;
serverFactory.getServiceFactory().setAnonymousWrapperTypes(true);&lt;br/&gt;
serverFactory.create();&lt;/p&gt;

&lt;p&gt;Doing this doesn&apos;t result in the expected results (there are still separate named complex types besides the elements in the WSDL).&lt;/p&gt;

&lt;p&gt;It seems to work fine with the simple frontend + aegis databinding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409634">CXF-1930</key>
            <summary>JAX-WS + JAXB does not honor the service factory isAnonymousWrapperTypes() flag</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="valdemar">Valdemar Mejstad</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 09:41:36 +0000</created>
                <updated>Mon, 9 Feb 2009 22:20:15 +0000</updated>
                            <resolved>Wed, 3 Dec 2008 19:28:35 +0000</resolved>
                                    <version>2.1.3</version>
                                    <fixVersion>2.1.4</fixVersion>
                                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652326" author="valdemar" created="Tue, 2 Dec 2008 09:42:32 +0000"  >&lt;p&gt;Reply by mail from Daniel Kulp:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I see the problem.   With 2.1.x, if ASM is on the classpath, we use ASM to&lt;br/&gt;
generate jaxb wrapper beans in memory and then let JAXB generate the schema.&lt;br/&gt;
However, those generated wrapper beans aren&apos;t honoring that flag.&lt;/p&gt;

&lt;p&gt;If you pull asm off the classpath, it probably will generate what you expect.&lt;/p&gt;

&lt;p&gt;I THINK the problem is at line 197 of WrapperClassGenerator.    It needs to&lt;br/&gt;
wrap the creation of the XmlType element with a call into the service factory&lt;br/&gt;
bean (it&apos;s a field on the WrapperClassGenerator) to check that flag and not&lt;br/&gt;
generate that annotation if true.&lt;/p&gt;

&lt;p&gt;Could you log a JIRA for that (feel free to assign to me)?   If you have the&lt;br/&gt;
ability to checkout the source and build it, it would be great if you could&lt;br/&gt;
give that fix a try as well and attache a patch.&lt;/p&gt;

&lt;p&gt;I&apos;m busy for the next couple days and won&apos;t get a chance to look at it&lt;br/&gt;
immediately so I want to make sure it doesn&apos;t get lost.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12652333" author="valdemar" created="Tue, 2 Dec 2008 10:41:26 +0000"  >&lt;p&gt;I tried both pulling the asm-jar from the classpath and patching WrapperClassGenerator, but couldn&apos;t get any of those two &quot;fixes&quot; to work. &lt;/p&gt;</comment>
                            <comment id="12652401" author="dkulp" created="Tue, 2 Dec 2008 15:19:01 +0000"  >
&lt;p&gt;Any chance you could attach a small project that shows the issue.   That would make debugging this quite  a bit easier.&lt;/p&gt;</comment>
                            <comment id="12652900" author="dkulp" created="Wed, 3 Dec 2008 18:59:50 +0000"  >
&lt;p&gt;OK.   I was on the right track, but not quite.   For anonymous types, you have to generate the XmlType annotation, but set the name attribute to an empty string.&lt;/p&gt;

&lt;p&gt;         av0 = cw.visitAnnotation(&quot;Ljavax/xml/bind/annotation/XmlType;&quot;, true);&lt;br/&gt;
         if (!anonymous) &lt;/p&gt;
{
            av0.visit(&quot;name&quot;, wrapperElement.getLocalPart());
            av0.visit(&quot;namespace&quot;, wrapperElement.getNamespaceURI());
        }
&lt;p&gt; else &lt;/p&gt;
{
            av0.visit(&quot;name&quot;, &quot;&quot;);
        }
&lt;p&gt;        av0.visitEnd();&lt;/p&gt;

&lt;p&gt;Will commit once tests done running.&lt;/p&gt;</comment>
                            <comment id="12652941" author="valdemar" created="Wed, 3 Dec 2008 20:03:50 +0000"  >&lt;p&gt;Thank you for fixing this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>50392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v19b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>