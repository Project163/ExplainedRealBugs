<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:49:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3821] FormEncodingProvider does not check for null incoming object</title>
                <link>https://issues.apache.org/jira/browse/CXF-3821</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;FormEncodingProvider does not check for null incoming object. A NPE is then thrown at line FormEncodingProvider Line 133&lt;/p&gt;</description>
                <environment></environment>
        <key id="12524265">CXF-3821</key>
            <summary>FormEncodingProvider does not check for null incoming object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="m4rkmckenna">Mark McKenna</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Sep 2011 11:04:34 +0000</created>
                <updated>Wed, 19 Oct 2011 17:30:21 +0000</updated>
                            <resolved>Mon, 26 Sep 2011 16:57:45 +0000</resolved>
                                    <version>2.4.2</version>
                                    <fixVersion>2.3.7</fixVersion>
                    <fixVersion>2.4.3</fixVersion>
                    <fixVersion>2.5</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13112479" author="sergey_beryozkin" created="Thu, 22 Sep 2011 11:15:49 +0000"  >&lt;p&gt;Hi, which object happens to be null ? In my current 2.4.x copy a line 133 points to comments&lt;/p&gt;</comment>
                            <comment id="13112491" author="m4rkmckenna" created="Thu, 22 Sep 2011 11:54:34 +0000"  >&lt;p&gt;In the below function clazz can be null and when clazz.newInstance() is called NPE is thrown&lt;/p&gt;

&lt;p&gt;    protected MultivaluedMap&amp;lt;String, String&amp;gt; createMap(Class&amp;lt;?&amp;gt; clazz) throws Exception {&lt;br/&gt;
        if (clazz == MultivaluedMap.class || clazz == Form.class) &lt;/p&gt;
{
            return new MetadataMap&amp;lt;String, String&amp;gt;();
        }
&lt;p&gt;else if (clazz != null)&lt;/p&gt;
{
        return (MultivaluedMap&amp;lt;String, String&amp;gt;)clazz.newInstance();
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;I have overwritten createMap to ..........&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
            protected javax.ws.rs.core.MultivaluedMap&amp;lt;String, String&amp;gt; createMap(final java.lang.Class&amp;lt;?&amp;gt; clazz)&lt;br/&gt;
                    throws InstantiationException, IllegalAccessException {&lt;br/&gt;
                if (clazz == MultivaluedMap.class || clazz == Form.class) &lt;/p&gt;
{
                    return new MetadataMap&amp;lt;String, String&amp;gt;();
                }
&lt;p&gt; else if (clazz != null) &lt;/p&gt;
{
                    return (MultivaluedMap&amp;lt;String, String&amp;gt;) clazz.newInstance();
                }
&lt;p&gt;                return null;&lt;br/&gt;
            };&lt;/p&gt;</comment>
                            <comment id="13112497" author="sergey_beryozkin" created="Thu, 22 Sep 2011 12:02:18 +0000"  >&lt;p&gt;thanks, but I don&apos;t understand how a class can be null, can you explain please.&lt;br/&gt;
Also, returning null there would result in NPE immediately in the next call ?&lt;/p&gt;</comment>
                            <comment id="13112500" author="m4rkmckenna" created="Thu, 22 Sep 2011 12:14:30 +0000"  >&lt;p&gt;class will be null if say the payload of the message is empty. The above solution works for me but I havent had time to implemnet a more elegant solution.....in the readFrom function i check for the returned MultivaluedMap being null also (if null return null)&lt;/p&gt;</comment>
                            <comment id="13112689" author="sergey_beryozkin" created="Thu, 22 Sep 2011 16:28:56 +0000"  >&lt;p&gt;I can not reproduce, sorry. A&lt;br/&gt;
I can easily add a null guard - but a bit concerned re the null value coming in - that should not even happen.&lt;br/&gt;
How does the signature of your method look like ?&lt;/p&gt;
</comment>
                            <comment id="13114746" author="sergey_beryozkin" created="Mon, 26 Sep 2011 16:08:06 +0000"  >&lt;p&gt;As I said, I can not reproduce it, I did add a local test with an empty form payload posted and got no exception.&lt;br/&gt;
You are seeing NPE but I need to see more details because adding an NPE guard would simply hide an issue existing elsewhere.&lt;br/&gt;
Can you help me with reproducing it ? Catch a TCP trace and show the method signature and may be we can do something, otherwise I&apos;d need to close it as Can&apos;t Reproduce&lt;br/&gt;
thanks &lt;/p&gt;</comment>
                            <comment id="13114768" author="m4rkmckenna" created="Mon, 26 Sep 2011 16:35:36 +0000"  >&lt;p&gt;Hi Sergey.&lt;br/&gt;
I have looked into this a bit more.....It appears that the root of the problem is in the readFrom function. If the inputStream (arg5) is null a NPE is thrown when populateMap is called.&lt;br/&gt;
M&lt;/p&gt;</comment>
                            <comment id="13114786" author="sergey_beryozkin" created="Mon, 26 Sep 2011 16:57:45 +0000"  >&lt;p&gt;I&apos;ve added NPE guard against IS, the spec says that an empty content in case of JAXB should result in 400, otherwise a corresponding method parameter has to be set to null... I can&apos;t get is set to null - probably specific to the servlet container you are working with... thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b7l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>