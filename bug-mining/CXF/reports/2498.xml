<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:14:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4109] UriInfo getHost caches first request&apos;s host and always returns that on subsequent calls</title>
                <link>https://issues.apache.org/jira/browse/CXF-4109</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The call to UriInfo.getHost() is caching the first request&apos;s host and always returning that on all subsequent calls.&lt;/p&gt;

&lt;p&gt;For example, Tomcat starts up and a request is made to the server using a URL of &quot;http://1.2.3.4/apicall&quot;, getHost() returns &quot;1.2.3.4&quot;, the next request is made using a URL of &quot;http://mydomainname.com/apicall&quot;, getHost() still returns &quot;1.2.3.4&quot;, where &quot;mydomainname.com&quot; is expected.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux CentOS 6&lt;/p&gt;</environment>
        <key id="12542550">CXF-4109</key>
            <summary>UriInfo getHost caches first request&apos;s host and always returns that on subsequent calls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="dhintz">Dan Hintz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Feb 2012 15:19:00 +0000</created>
                <updated>Mon, 13 Apr 2015 16:25:57 +0000</updated>
                            <resolved>Tue, 14 Feb 2012 17:13:56 +0000</resolved>
                                    <version>2.5.2</version>
                                    <fixVersion>2.4.7</fixVersion>
                    <fixVersion>2.5.3</fixVersion>
                    <fixVersion>2.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14364889" author="hovenko" created="Tue, 17 Mar 2015 10:28:40 +0000"  >&lt;p&gt;This issue seems to be back, at least in CXF version 2.7.14.&lt;br/&gt;
UriInfo caches the Host and port information (from X-Port) from the first requests.&lt;/p&gt;</comment>
                            <comment id="14372220" author="sergey_beryozkin" created="Fri, 20 Mar 2015 22:10:15 +0000"  >&lt;p&gt;I&apos;m seeing URI.getHost() got back into CXF 3.0.x, so I&apos;ve just removed the references to it.&lt;/p&gt;

&lt;p&gt;Can you check this code, &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://fisheye6.atlassian.com/browse/~br=2.7.x-fixes/cxf/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/utils/HttpUtils.java?r=4c509a53208f69dd81c0c25990277a2e65be68f4#to261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/browse/~br=2.7.x-fixes/cxf/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/utils/HttpUtils.java?r=4c509a53208f69dd81c0c25990277a2e65be68f4#to261&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Do you have any idea what call may be causing the caching of the host and port ?&lt;br/&gt;
thanks  &lt;/p&gt;</comment>
                            <comment id="14392813" author="sergey_beryozkin" created="Thu, 2 Apr 2015 15:15:31 +0000"  >&lt;p&gt;Any chance you can help with isolating the code which proves to be problematic in your case ?&lt;br/&gt;
I&apos;ll have to resolve it otherwise as Won&apos;t Fix due to Can&apos;t Reproduce.&lt;/p&gt;</comment>
                            <comment id="14392814" author="sergey_beryozkin" created="Thu, 2 Apr 2015 15:16:21 +0000"  >&lt;p&gt;Well this issue has not been re-opened so far but basically I&apos;ll need your help if you&apos;d like me to revisit it&lt;/p&gt;</comment>
                            <comment id="14492140" author="hovenko" created="Mon, 13 Apr 2015 09:48:59 +0000"  >&lt;p&gt;I tried to look at the code in Fisheye, but I just can&apos;t make sense of the presentation of the commit on the link you posted...&lt;br/&gt;
Looks to me that the commit has no changes... or might be just me not understanding hos Fisheye works... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;We worked around the issue by supplying a init-param &lt;b&gt;disable-address-updates=true&lt;/b&gt; in web.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&amp;lt;servlet&amp;gt;
		&amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;
		&amp;lt;servlet-&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;gt;org.apache.cxf.transport.servlet.CXFServlet&amp;lt;/servlet-&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;gt;
		&amp;lt;init-param&amp;gt;
			&amp;lt;param-name&amp;gt;disable-address-updates&amp;lt;/param-name&amp;gt;
			&amp;lt;param-value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/param-value&amp;gt;
		&amp;lt;/init-param&amp;gt;
		&amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;
	&amp;lt;/servlet&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;As a side note... this init-param seems to have a logical flaw... since I in any other situation would read the name of the init-param as functioning the other way around, that updating of the address would now be disabled (aka cached), instead of forcing it to be updated.&lt;/p&gt;</comment>
                            <comment id="14492585" author="sergey_beryozkin" created="Mon, 13 Apr 2015 16:25:57 +0000"  >&lt;p&gt;Ok, thanks for the confirmation. I did not notice it was CXF 2.5.2.&lt;br/&gt;
This is a known workaround, and it this property is enabled by default in CXF 3.0.x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13zef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>