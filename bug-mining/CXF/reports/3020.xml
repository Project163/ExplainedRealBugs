<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:24:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7291] sharedPackageName for Swagger description should ignore proxy classes</title>
                <link>https://issues.apache.org/jira/browse/CXF-7291</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;A com.sun.proxy class causes empty Swagger description because the resourcePackage is empty in this case.&lt;/p&gt;

&lt;p&gt;I&apos;ll create a PR with a fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13057900">CXF-7291</key>
            <summary>sharedPackageName for Swagger description should ignore proxy classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="deki">Dennis Kieselhorst</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Mar 2017 13:22:50 +0000</created>
                <updated>Mon, 10 Apr 2017 19:04:34 +0000</updated>
                            <resolved>Wed, 29 Mar 2017 15:36:29 +0000</resolved>
                                    <version>3.1.10</version>
                                    <fixVersion>3.1.11</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15934622" author="githubbot" created="Tue, 21 Mar 2017 13:25:43 +0000"  >&lt;p&gt;GitHub user deki opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7291&quot; title=&quot;sharedPackageName for Swagger description should ignore proxy classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7291&quot;&gt;&lt;del&gt;CXF-7291&lt;/del&gt;&lt;/a&gt;: sharedPackageName for Swagger desc should ignore proxys&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/deki/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/deki/cxf&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7291&quot; title=&quot;sharedPackageName for Swagger description should ignore proxy classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7291&quot;&gt;&lt;del&gt;CXF-7291&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #247&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 35dc8302065eaabff2488976943002364beebb30&lt;br/&gt;
Author: Dennis Kieselhorst &amp;lt;mail@dekies.de&amp;gt;&lt;br/&gt;
Date:   2017-03-21T13:23:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7291&quot; title=&quot;sharedPackageName for Swagger description should ignore proxy classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7291&quot;&gt;&lt;del&gt;CXF-7291&lt;/del&gt;&lt;/a&gt;: sharedPackageName for Swagger description should ignore proxy classes&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15934911" author="githubbot" created="Tue, 21 Mar 2017 17:15:39 +0000"  >&lt;p&gt;Github user sberyozkin commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi Dennis, is it related to the client proxy thing ?&lt;/p&gt;</comment>
                            <comment id="15934917" author="githubbot" created="Tue, 21 Mar 2017 17:18:36 +0000"  >&lt;p&gt;Github user deki commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    yes but in my view this should be fixed in any case&lt;/p&gt;</comment>
                            <comment id="15934922" author="githubbot" created="Tue, 21 Mar 2017 17:20:45 +0000"  >&lt;p&gt;Github user reta commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247#discussion_r107218893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247#discussion_r107218893&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/cxf/common/util/PackageUtils.java &amp;#8212;&lt;br/&gt;
    @@ -56,7 +57,9 @@ public static String getSharedPackageName(List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; classes) {&lt;br/&gt;
             List&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; lParts = new ArrayList&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;(classes.size());&lt;br/&gt;
             List&amp;lt;String&amp;gt; currentParts = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
             for (Class&amp;lt;?&amp;gt; cls : classes) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lParts.add(StringUtils.getParts(getPackageName(cls), &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;.&quot;));&lt;br/&gt;
    +            if (!Proxy.isProxyClass(cls)) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    In this case, should we get the real class using `getProxyClass` and extract the package from it?&lt;/p&gt;</comment>
                            <comment id="15934957" author="sergey_beryozkin" created="Tue, 21 Mar 2017 17:37:20 +0000"  >&lt;p&gt;Sure let me have a look&lt;/p&gt;</comment>
                            <comment id="15935854" author="githubbot" created="Wed, 22 Mar 2017 07:18:16 +0000"  >&lt;p&gt;Github user deki commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247#discussion_r107344997&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247#discussion_r107344997&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: core/src/main/java/org/apache/cxf/common/util/PackageUtils.java &amp;#8212;&lt;br/&gt;
    @@ -56,7 +57,9 @@ public static String getSharedPackageName(List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; classes) {&lt;br/&gt;
             List&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; lParts = new ArrayList&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;(classes.size());&lt;br/&gt;
             List&amp;lt;String&amp;gt; currentParts = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
             for (Class&amp;lt;?&amp;gt; cls : classes) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lParts.add(StringUtils.getParts(getPackageName(cls), &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;.&quot;));&lt;br/&gt;
    +            if (!Proxy.isProxyClass(cls)) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Good idea, I first thought to use InvocationHandler stuff for this but in the method only the class itself is available. And afaik it&apos;s not possible to get the real class as there might be multiple interfaces...&lt;/p&gt;</comment>
                            <comment id="15936085" author="sergey_beryozkin" created="Wed, 22 Mar 2017 10:36:48 +0000"  >&lt;p&gt;What I&apos;d like to understand is how a Proxy class is leaking into this list, given that we are talking about PackageUtils being called from the Swagger feature which enumerates on ClassResourceInfo.serviceClass (as opposed to a &apos;resourceClass&apos;) which must represent a non-Proxy class. &lt;/p&gt;

&lt;p&gt;Dennis. can you please do me a favour and create a test case (may be copy &amp;amp; paste the spring_boot_scan demo and tweak it a bit to show how the client proxies are getting picked up by the server scan code) so that I can trace where this Proxy leak occurs.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15944715" author="deki" created="Tue, 28 Mar 2017 07:53:45 +0000"  >&lt;p&gt;Created a test case in &lt;a href=&quot;https://github.com/deki/cxf/tree/spring-boot-scan-jaxrs-proxy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/deki/cxf/tree/spring-boot-scan-jaxrs-proxy&lt;/a&gt; in distribution/src/main/release/samples/jax_rs/spring_boot_scan_proxy&lt;/p&gt;</comment>
                            <comment id="15947344" author="githubbot" created="Wed, 29 Mar 2017 15:31:42 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/247&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15947348" author="sergey_beryozkin" created="Wed, 29 Mar 2017 15:36:29 +0000"  >&lt;p&gt;Hi Dennis, I applied this patch, I&apos;m not sure we should go further than ignoring Proxies, after a fix at the AbstractSpringComponentServer they should not even make it to Swagger2Feature which is the only consumer of this code at the moment.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="15947473" author="deki" created="Wed, 29 Mar 2017 16:42:44 +0000"  >&lt;p&gt;Thanks, in my view that&apos;s sufficient.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ckvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>