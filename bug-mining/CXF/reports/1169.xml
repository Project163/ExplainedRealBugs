<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:50:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3910] CXF &quot;Thread-local&quot; Request Context feature doesn&apos;t work with Dispatch Objects </title>
                <link>https://issues.apache.org/jira/browse/CXF-3910</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I am using the dispatch object for creating dynamic webservice clients :&lt;/p&gt;

&lt;p&gt;                Service service=Service.create(serviceName);	&lt;br/&gt;
		service.addPort(portName, JMSSpecConstants.SOAP_JMS_SPECIFICATION_TRANSPORTID, address);&lt;/p&gt;

&lt;p&gt;		Dispatch&amp;lt;SOAPMessage&amp;gt; dispatch = service.createDispatch(builder.build(), &lt;br/&gt;
				SOAPMessage.class, Mode.MESSAGE,&lt;br/&gt;
				enabledRequiredwsf);&lt;/p&gt;

&lt;p&gt;		((BindingProvider)dispatch).getRequestContext().put(&quot;thread.local.request.context&quot;, true);	&lt;/p&gt;

&lt;p&gt;I need to use the request context of each dispatch object with a thread local scope. The use of &quot;thread.local.request.context&quot; in the request context of dispatch objects doesn&apos;t seem to affect its default behavior: The request context remains shared by all dispatch objects within the same classloader. Is the thread-local request context feature supposed to work with Dispatch objects also, or only with conventional jax-ws proxies?      &lt;/p&gt;




</description>
                <environment>&lt;p&gt;Ubuntu 11.10 64 bits&lt;/p&gt;</environment>
        <key id="12531346">CXF-3910</key>
            <summary>CXF &quot;Thread-local&quot; Request Context feature doesn&apos;t work with Dispatch Objects </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="bhlangonijr">Ben-Hur Carlos Vieira Langoni J&#250;nior</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 17:34:25 +0000</created>
                <updated>Thu, 26 Jul 2012 13:00:14 +0000</updated>
                            <resolved>Wed, 18 Jan 2012 20:21:42 +0000</resolved>
                                    <version>2.4.4</version>
                                    <fixVersion>Invalid</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13165447" author="dkulp" created="Thu, 8 Dec 2011 19:12:41 +0000"  >
&lt;p&gt;We&apos;ll likely need a testcase for this.   I just ported our testcase for the thread local request context to use dispatch clients in addition to the normal clients and the tests all pass and are doing what we expect.   Thus, it looks like they are working fine.&lt;/p&gt;</comment>
                            <comment id="13188675" author="dkulp" created="Wed, 18 Jan 2012 20:21:42 +0000"  >&lt;p&gt;&lt;br/&gt;
Test case in our system tests does not show the problem and request for a test showing the issue unanswered for over a month.&lt;/p&gt;</comment>
                            <comment id="13423032" author="sinihong" created="Thu, 26 Jul 2012 12:39:41 +0000"  >&lt;p&gt;I have the same problem. &lt;br/&gt;
because all thread local context was created with currentRequestContext and all updates would be applied to the currentRequestContext, all thread might have same context in the end.   &lt;br/&gt;
I think any update on the EchoContext should not be delegated to shared map.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b8e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>