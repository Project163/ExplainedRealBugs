<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:38:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-8655] Incorrect XSD resolution when the file name is the same in different folders</title>
                <link>https://issues.apache.org/jira/browse/CXF-8655</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The attached gradle project contains a WSDL file which imports a XSD and it, in turn, imports another two XSD files with the same name but located in different directories. It triggers incorrect resolution of the XSD files. The structure is the following:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1) MyWebservice.wsdl
&#160; &#160;1.1) imports schema/MyWebservice.xsd -&amp;gt; schema/MyWebservice.xsd
&#160; &#160; &#160; &#160; 1.1.1) imports ../../../common/common.xsd -&amp;gt; ../../common/common.xsd
&#160; &#160; &#160; &#160; 1.1.2) imports ../../common/common.xsd -&amp;gt; ../common/common.xsd
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1.1.2.1) imports ../../common/common.xsd -&amp;gt; ../../common/common.xsd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The resulting imports are:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1) http://localhost:8080/wsdl-test/MyWebservice?wsdl (OK)
&#160; &#160;1.1) http://localhost:8080/wsdl-test/MyWebservice?xsd=schema/MyWebservice.xsd (OK)
&#160; &#160; &#160; &#160; 1.1.1) http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd (KO)
&#160; &#160; &#160; &#160; 1.1.2) http://localhost:8080/wsdl-test/MyWebservice?xsd=../common/common.xsd (OK)
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1.1.2.1) http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd (KO)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160; &#160;&lt;br/&gt;
The URL &lt;tt&gt;&lt;a href=&quot;http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd&lt;/a&gt;&lt;/tt&gt; in 1.1.1 returns invalid content. The content is the file in 1.1.2 (not 1.1.1) and besides the contained import is not rewritten in its location.&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;StepsToreproduce%3A&quot;&gt;&lt;/a&gt;Steps To reproduce:&lt;/h3&gt;

&lt;ul&gt;
	&lt;li&gt;Download attached maven project.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
unzip wsdl-test.zip
cd wsdl-test/
mvn clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
mvn jetty:run
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Go to the wsdl &lt;tt&gt;&lt;a href=&quot;http://localhost:8080/wsdl-test/MyWebservice?wsdl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/wsdl-test/MyWebservice?wsdl&lt;/a&gt;&lt;/tt&gt; and follow imports until &lt;tt&gt;&lt;a href=&quot;http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/wsdl-test/MyWebservice?xsd=../../common/common.xsd&lt;/a&gt;&lt;/tt&gt; and check the received output is incorrect.&lt;/li&gt;
	&lt;li&gt;You can also execute the client while the jetty is running with:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn exec:java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13427238">CXF-8655</key>
            <summary>Incorrect XSD resolution when the file name is the same in different folders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rickyepoderi">Ricardo Martin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Feb 2022 15:56:53 +0000</created>
                <updated>Mon, 18 Sep 2023 18:48:08 +0000</updated>
                            <resolved>Wed, 16 Mar 2022 16:27:08 +0000</resolved>
                                    <version>3.5.0</version>
                    <version>3.3.12</version>
                    <version>3.4.5</version>
                                    <fixVersion>3.5.2</fixVersion>
                    <fixVersion>3.4.7</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Simple Frontend</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17488969" author="rickyepoderi" created="Tue, 8 Feb 2022 16:01:09 +0000"  >&lt;p&gt;After looking into it, this &lt;a href=&quot;https://github.com/apache/cxf/blob/cxf-3.5.0/rt/frontend/simple/src/main/java/org/apache/cxf/frontend/WSDLGetUtils.java#L569-L571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;three lines&lt;/a&gt; are adding the location that appears in the file and later &lt;a href=&quot;https://github.com/apache/cxf/blob/cxf-3.5.0/rt/frontend/simple/src/main/java/org/apache/cxf/frontend/WSDLGetUtils.java#L555&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the other schema is not added because it is already present in the map&lt;/a&gt;. In those lines the key is only added if not present (so it&apos;s optional), but in the reproducer it is the other way around, first the optional key is added and then the real one is not because the previous is already present. The issue &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6717&quot; title=&quot;Live WSDL regression: Fails updating schemaLocation in catalog-imported schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6717&quot;&gt;&lt;del&gt;CXF-6717&lt;/del&gt;&lt;/a&gt; introduced those lines in this &lt;a href=&quot;https://github.com/apache/cxf/commit/28a092319a9223d93bcbd94abd3e9c0a8a54ac09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit&lt;/a&gt; and my feeling is that it was just added to cover the &quot;urn&quot; catalog type. But:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Right now the &quot;urn&quot; URI schema is not valid anymore after &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8167&quot; title=&quot;Restrict the URI schemes allowed when importing schemas or WSDLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-8167&quot;&gt;&lt;del&gt;CXF-8167&lt;/del&gt;&lt;/a&gt; (I don&apos;t see any way to make it valid).&lt;/li&gt;
	&lt;li&gt;The example in &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6717&quot; title=&quot;Live WSDL regression: Fails updating schemaLocation in catalog-imported schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-6717&quot;&gt;&lt;del&gt;CXF-6717&lt;/del&gt;&lt;/a&gt; works using a generated key (&lt;tt&gt;_import1.xsd&lt;/tt&gt;) even after removing the three lines. I need to manually add &quot;urn&quot; to the valid schemas at code level to test it.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m going to send a PR with &lt;a href=&quot;https://github.com/rmartinc/cxf/commits/CXF-8655-master&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this branch&lt;/a&gt;.&#160; All tests pass for me (included the one added for this issue). There is another option to solve this, adding the optional keys at the end (for example storing them in another map, and only adding them at the end if not present). But I think that removing the lines is enough. Please comment in the PR if any change is wanted.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13039777" name="wsdl-test.zip" size="10009" author="rickyepoderi" created="Tue, 8 Feb 2022 15:51:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0zd5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>