<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:18:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6638] AsyncHTTPConduit does not allow body payloads with &quot;PATCH&quot; method</title>
                <link>https://issues.apache.org/jira/browse/CXF-6638</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When using &quot;PATCH&quot; http method using the Async Http Transport, the payload is always null.&lt;/p&gt;

&lt;p&gt;After debugging, I saw that &lt;em&gt;AsyncHTTPConduit&lt;/em&gt; class does not override the  &quot;isChunkingSupported&quot; method. Something like following is needed to be added to this class to allow PATCH call with payload&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isChunkingSupported(Message message, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; httpMethod) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;PATCH&quot;&lt;/span&gt;.equals(httpMethod)) { 
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.isChunkingSupported(message, httpMethod);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There may be other methods this need to support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12904223">CXF-6638</key>
            <summary>AsyncHTTPConduit does not allow body payloads with &quot;PATCH&quot; method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="rareddy">Ramesh Reddy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Oct 2015 16:03:47 +0000</created>
                <updated>Fri, 14 Oct 2016 14:12:19 +0000</updated>
                            <resolved>Tue, 13 Oct 2015 16:16:38 +0000</resolved>
                                    <version>2.7.14</version>
                                    <fixVersion>2.7.18</fixVersion>
                    <fixVersion>3.0.7</fixVersion>
                    <fixVersion>3.1.4</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14953336" author="sergey_beryozkin" created="Mon, 12 Oct 2015 16:49:13 +0000"  >&lt;p&gt;On the trunk and in 3.0.x we have this test:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/blob/master/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSAsyncClientTest.java#L94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/master/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSAsyncClientTest.java#L94&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you prototype some code here showing how you do a PATCH call in CXF 2.7.x, I&apos;m presuming with WebClient ?&lt;/p&gt;

&lt;p&gt;FYI, in CXF 2.7.x we have something like:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/blob/2.7.x-fixes/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSAsyncClientTest.java#L83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/2.7.x-fixes/systests/jaxrs/src/test/java/org/apache/cxf/systest/jaxrs/JAXRSAsyncClientTest.java#L83&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;it is not PATCH but a custom RETRIEVE, but it is the same really...&lt;br/&gt;
Though the fact chunking is not supported now for PATCH/etc is a problem of its own but I&apos;m not sure it in itself is a blocker&lt;/p&gt;</comment>
                            <comment id="14953471" author="rareddy" created="Mon, 12 Oct 2015 17:49:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt; I have not tested on 3.x branch, so not sure there. &lt;/p&gt;

&lt;p&gt;Yes, I am using WebClient, my code is here &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which may be little cryptic, but simple. Essentially below is what I am doing. Payload is of type InputStream&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Bus bus = getBus(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.configFile);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (httpMethod.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;PATCH&quot;&lt;/span&gt;)) {
    bus.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;use.async.http.conduit&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE);
    bus.setExtension(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AsyncHTTPConduitFactory(bus), HTTPConduitFactory.class);
}

JAXRSClientFactoryBean bean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JAXRSClientFactoryBean();
bean.setBus(bus);
bean.setAddress(baseAddress);

WebClient client = bean.createWebClient()
javax.ws.rs.core.Response response = client.invoke(httpMethod, payload);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/teiid/teiid/blob/master/connectors/connector-ws/src/main/java/org/teiid/resource/adapter/ws/WSConnectionImpl.java#L154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/teiid/teiid/blob/master/connectors/connector-ws/src/main/java/org/teiid/resource/adapter/ws/WSConnectionImpl.java#L154&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14955185" author="sergey_beryozkin" created="Tue, 13 Oct 2015 16:03:55 +0000"  >&lt;p&gt;Yes, this is strange but this test:&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/1156c4ef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/1156c4ef&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;works in 3.0.x/3.1.x but not in 2.7.x. Enabling the chunking did fix it, thanks for identifying a solution. As I said it is good for 3.1.x/3.0.x too because we do want the large PATCH/etc payloads to avail of the chunking support...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mw8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>