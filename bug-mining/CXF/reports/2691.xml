<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:18:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6347] CXF bundle activators not called in Eclipse/Equinox</title>
                <link>https://issues.apache.org/jira/browse/CXF-6347</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The CXF bundles have OSGi activators that perform initialization stuff such as looking for CXF services in other bundles. However, in Equinox the bundle activators are not called unless one explicitly starts the bundles. The default strategy in Equinox is not to start bundles, unless the &quot;Bundle-ActivationPolicy&quot; is set to &quot;lazy&quot;. Therefore this header should be added to all bundles so that CXF (esp. the client) is also usable inside an Eclipse application.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Eclipse 4.4&lt;/p&gt;</environment>
        <key id="12820491">CXF-6347</key>
            <summary>CXF bundle activators not called in Eclipse/Equinox</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="sithmein">Thorsten Meinl</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2015 09:03:18 +0000</created>
                <updated>Fri, 14 Oct 2016 14:12:29 +0000</updated>
                            <resolved>Thu, 22 Oct 2015 15:39:27 +0000</resolved>
                                    <version>3.0.4</version>
                                    <fixVersion>3.0.7</fixVersion>
                    <fixVersion>3.1.4</fixVersion>
                                    <component>OSGi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14543149" author="ffang" created="Thu, 14 May 2015 04:03:35 +0000"  >&lt;p&gt;I&apos;d say bundle activator get invoked when start the bundle is per the OSGi spec, so IMO CXF bundles are good here.&lt;/p&gt;

&lt;p&gt;Btw, I suggest you use Apache Karaf feature way to use CXF bundles so that when you install the CXF feature the related CXF bundles get started OOTB. You can choose the underlying OSGi framework implementations used in Karaf, both Equinox and Felix work.&lt;/p&gt;</comment>
                            <comment id="14958956" author="sithmein" created="Thu, 15 Oct 2015 14:08:40 +0000"  >&lt;p&gt;As I said the bundle is &lt;b&gt;not&lt;/b&gt; started by Equinox, therefore the activator is not called (which is OK). You need the additional bundle header to force a start.&lt;br/&gt;
I don&apos;t want to use Karaf or anything else. It would work perfectly without any additional stuff if this header was added. Currently this is a blocker for all Eclipse-based applications.&lt;/p&gt;</comment>
                            <comment id="14958963" author="sergey_beryozkin" created="Thu, 15 Oct 2015 14:15:12 +0000"  >&lt;p&gt;Would that affect CXF Services that depend on CXF being already initialized by the time they are installed ?&lt;/p&gt;</comment>
                            <comment id="14958986" author="sithmein" created="Thu, 15 Oct 2015 14:31:55 +0000"  >&lt;p&gt;The current situation does certainly affect services. When the activator of the core bundle is not called the whole initialization part is missing and all components relying on it will fail.&lt;/p&gt;</comment>
                            <comment id="14959025" author="sergey_beryozkin" created="Thu, 15 Oct 2015 15:01:08 +0000"  >&lt;p&gt;So it is not called because &quot;Bundle-ActivationPolicy: lazy&quot; is missing ? Sorry, may be I missing something but that does not make sense, why do we need to set this property to &apos;lazy&apos; for Equinox to call CXF activators ?&lt;/p&gt;</comment>
                            <comment id="14959043" author="sithmein" created="Thu, 15 Oct 2015 15:11:58 +0000"  >&lt;p&gt;Equinox does not start bundles/call the activator when classes are loaded and &quot;Bundle-ActivationPolicy: lazy&quot; is not set. You need to explicitly (i.e. programmatically) start a bundle in this case. Setting &quot;Bundle-ActivationPolicy: lazy&quot; means that the bundle activator will be called before the first class is loaded and this is what we want.&lt;br/&gt;
Not sure if this is standard or correct but this is how it works in Equinox.&lt;/p&gt;</comment>
                            <comment id="14959102" author="sergey_beryozkin" created="Thu, 15 Oct 2015 15:46:36 +0000"  >&lt;p&gt;Ok, if &apos;Bundle-ActivationPolicy: lazy&apos; is not set, what does it mean to Equinox ? Do not call activators at all ? I&apos;m def not an OSGI expert but it appears to be nether standard nor correct... And this is why I also asked, what if we do set this headers and then Karaf will start honouring it and not calling CXF activators when CXF bundles are loaded - while we do want them be called when they are loaded   &lt;/p&gt;</comment>
                            <comment id="14959112" author="sithmein" created="Thu, 15 Oct 2015 15:53:22 +0000"  >&lt;p&gt;As I said, not setting this header means that the activator is only called when you explicitly start a bundle. Which basically never happens in Eclipse because everything is done lazily.&lt;br/&gt;
If Karaf honors Bundle-ActivationPolicy it should to no harm because the spec says:&lt;/p&gt;

&lt;p&gt;... Currently, the only supported value for this is lazy, which means that once the bundle is to be started, it does not invoke the Bundle-Activator&apos;s start() method until the first access of a class is received.&lt;/p&gt;

&lt;p&gt;But I guess you don&apos;t need the activator be called before you access a class in it (but for this I&apos;m not enough an export in CXF).&lt;/p&gt;</comment>
                            <comment id="14967506" author="dkulp" created="Wed, 21 Oct 2015 17:30:16 +0000"  >&lt;p&gt;Except it also states:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; It is not suitable &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; bundles which need to register services programmatically in the start() method of the Bundle-Activator;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is exactly what some of the Activators do.  &lt;/p&gt;</comment>
                            <comment id="14967532" author="sithmein" created="Wed, 21 Oct 2015 17:45:18 +0000"  >&lt;p&gt;If you read design document for lazy activation it becomes clear that Equinox behaves according to the standard: &lt;a href=&quot;http://www.osgi.org/Design/LazyStart&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/Design/LazyStart&lt;/a&gt;. It clearly states that in case of lazy activation (which Equinox does for very good reason that are also described in the linked document) the bundle is only activated when Bundle-ActivationPolicy is set to lazy. From the comments above it seems that most other OSGi frameworks don&apos;t support lazy activation and bundles are always explicitly activated. In this case specifying this header should not have any effect (somehow using something else than Equinox has to confirm this, though).&lt;br/&gt;
The current state is simply that the CXF are unusable in Equinox. If you don&apos;t want to support Equinox and/or lazy activation or if it breaks other frameworks this would be unfortunate and you should clearly state it.&lt;/p&gt;</comment>
                            <comment id="14967745" author="dkulp" created="Wed, 21 Oct 2015 19:46:33 +0000"  >&lt;p&gt;I&apos;ve been playing with this a bit today and while adding the header doesn&apos;t seem to harm anything, it also doesn&apos;t solve all the problems in Equinox due to what I explicitly mentioned above.   If my &quot;service bundle&quot; which implements the service uses pure JAX-WS  or JAX-RS API&apos;s and just a blueprint XML file to expose it, CXF won&apos;t start.   Aries blueprint goes into a grace period waiting for the appropriate namespace handler service to start.     There is nothing in the service bundle (other than the namespace) that references CXF so nothing triggers the start.  Once I start the cxf-rt-frontend-jaxws bundle, then the service proceeds as that would trigger the Activator in that bundle which would then register the namespace handler.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12914782">CXF-6687</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d68n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>