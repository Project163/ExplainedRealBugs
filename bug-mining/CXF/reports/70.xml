<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:34:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1663] Attempting to use a Spring configured HTTPConduit causing compatability problems with Spring 2.5.4 testing framework</title>
                <link>https://issues.apache.org/jira/browse/CXF-1663</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;I&apos;m attempting to run some integration tests with a spring configured HTTP conduit:&lt;br/&gt;
    &amp;lt;http:conduit name=&quot;*.http-conduit&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;http:tlsClientParameters secureSocketProtocol=&quot;SSL&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;sec:keyManagers keyPassword=&quot;0123456789&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;sec:keyStore type=&quot;PKCS12&quot; password=&quot;0123456789&quot;&lt;br/&gt;
                    file=&quot;src/test/resources/keystores/client.p12&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/sec:keyManagers&amp;gt;&lt;br/&gt;
            &amp;lt;sec:trustManagers&amp;gt;&lt;br/&gt;
                &amp;lt;sec:keyStore type=&quot;JKS&quot; password=&quot;0123456789&quot;&lt;br/&gt;
                    file=&quot;src/test/resources/keystores/truststore.jks&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;/sec:trustManagers&amp;gt;        &lt;br/&gt;
            &amp;lt;sec:cipherSuitesFilter&amp;gt;&lt;br/&gt;
                &amp;lt;!-- these filters ensure that a ciphersuite with&lt;br/&gt;
                    export-suitable or null encryption is used,&lt;br/&gt;
                    but exclude anonymous Diffie-Hellman key change as&lt;br/&gt;
                    this is vulnerable to man-in-the-middle attacks --&amp;gt;&lt;br/&gt;
                &amp;lt;sec:include&amp;gt;.&lt;b&gt;&lt;em&gt;EXPORT&lt;/em&gt;.&lt;/b&gt;&amp;lt;/sec:include&amp;gt;&lt;br/&gt;
                &amp;lt;sec:include&amp;gt;.&lt;b&gt;&lt;em&gt;EXPORT1024&lt;/em&gt;.&lt;/b&gt;&amp;lt;/sec:include&amp;gt;&lt;br/&gt;
                &amp;lt;sec:include&amp;gt;.&lt;b&gt;&lt;em&gt;WITH_DES&lt;/em&gt;.&lt;/b&gt;&amp;lt;/sec:include&amp;gt;&lt;br/&gt;
                &amp;lt;sec:include&amp;gt;.&lt;b&gt;&lt;em&gt;WITH_NULL&lt;/em&gt;.&lt;/b&gt;&amp;lt;/sec:include&amp;gt;&lt;br/&gt;
                &amp;lt;sec:exclude&amp;gt;.&lt;b&gt;&lt;em&gt;DH_anon&lt;/em&gt;.&lt;/b&gt;&amp;lt;/sec:exclude&amp;gt;&lt;br/&gt;
            &amp;lt;/sec:cipherSuitesFilter&amp;gt;&lt;br/&gt;
        &amp;lt;/http:tlsClientParameters&amp;gt;&lt;br/&gt;
    &amp;lt;/http:conduit&amp;gt;              &lt;/p&gt;

&lt;p&gt;My test class is using JUnit 4 annotations and I&apos;m also extending from AbstractJUnit4SpringContextTests which as you may know automatically loads the spring context for you with autowiring turned on. The problem I&apos;m having is that HTTPConduit declares some of its methods with the @Resource annotation which Spring then attempts to resolved dependencies for and fails. The issue is that the HTTPConduit class does not need these dependencies injected in order to function correctly so I guess I&apos;m wondering why they are annotated as such. Is this necessary?&lt;/p&gt;

&lt;p&gt;If so is there anything I can do to work around this problem?&lt;/p&gt;

&lt;p&gt;Here&apos;s a sample stack trace to illustrated the problem that occurs:&lt;br/&gt;
javax.xml.ws.soap.SOAPFaultException: Error creating bean with name &apos;*.http-conduit&apos;: Injection of resource methods failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt; is defined: Unsatisfied dependency of type &lt;span class=&quot;error&quot;&gt;&amp;#91;class org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt;: expected at least 1 matching bean&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:211)&lt;br/&gt;
	at $Proxy54.getAccountDetails(Unknown Source)&lt;br/&gt;
	at com.sportex.regpay.payment.mtapi.transfers.TransferFundsIntegrationTest.performTransferCreditSuccessfulWithGBP(TransferFundsIntegrationTest.java:97)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringTestMethod.invoke(SpringTestMethod.java:163)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringMethodRoadie.runTestMethod(SpringMethodRoadie.java:233)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringMethodRoadie$RunBeforesThenTestThenAfters.run(SpringMethodRoadie.java:333)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringMethodRoadie.runWithRepetitions(SpringMethodRoadie.java:217)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringMethodRoadie.runTest(SpringMethodRoadie.java:197)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringMethodRoadie.run(SpringMethodRoadie.java:143)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.invokeTestMethod(SpringJUnit4ClassRunner.java:142)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:51)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:44)&lt;br/&gt;
	at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)&lt;br/&gt;
	at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:42)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;*.http-conduit&apos;: Injection of resource methods failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt; is defined: Unsatisfied dependency of type &lt;span class=&quot;error&quot;&gt;&amp;#91;class org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt;: expected at least 1 matching bean&lt;br/&gt;
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:306)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:996)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.configureBean(AbstractAutowireCapableBeanFactory.java:283)&lt;br/&gt;
	at org.springframework.beans.factory.wiring.BeanConfigurerSupport.configureBean(BeanConfigurerSupport.java:155)&lt;br/&gt;
	at org.apache.cxf.configuration.spring.ConfigurerImpl.configureBean(ConfigurerImpl.java:114)&lt;br/&gt;
	at org.apache.cxf.configuration.spring.ConfigurerImpl.configureWithWildCard(ConfigurerImpl.java:134)&lt;br/&gt;
	at org.apache.cxf.configuration.spring.ConfigurerImpl.configureBean(ConfigurerImpl.java:101)&lt;br/&gt;
	at org.apache.cxf.configuration.spring.ConfigurerImpl.configureBean(ConfigurerImpl.java:84)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPTransportFactory.configure(AbstractHTTPTransportFactory.java:223)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPTransportFactory.getConduit(AbstractHTTPTransportFactory.java:163)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPTransportFactory.getConduit(AbstractHTTPTransportFactory.java:145)&lt;br/&gt;
	at org.apache.cxf.endpoint.AbstractConduitSelector.getSelectedConduit(AbstractConduitSelector.java:73)&lt;br/&gt;
	at org.apache.cxf.endpoint.UpfrontConduitSelector.prepare(UpfrontConduitSelector.java:61)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.prepareConduitSelector(ClientImpl.java:452)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:273)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:222)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:170)&lt;br/&gt;
	... 24 more&lt;br/&gt;
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt; is defined: Unsatisfied dependency of type &lt;span class=&quot;error&quot;&gt;&amp;#91;class org.apache.cxf.configuration.security.AuthorizationPolicy&amp;#93;&lt;/span&gt;: expected at least 1 matching bean&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:613)&lt;br/&gt;
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:423)&lt;br/&gt;
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:502)&lt;br/&gt;
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:192)&lt;br/&gt;
	at org.springframework.beans.factory.annotation.InjectionMetadata.injectMethods(InjectionMetadata.java:117)&lt;br/&gt;
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:303)&lt;br/&gt;
	... 41 more&lt;/p&gt;


&lt;p&gt;Many thanks,&lt;br/&gt;
James K&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12398702">CXF-1663</key>
            <summary>Attempting to use a Spring configured HTTPConduit causing compatability problems with Spring 2.5.4 testing framework</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="james.kavanagh">James Kavanagh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jun 2008 13:21:18 +0000</created>
                <updated>Mon, 28 Jul 2008 14:09:36 +0000</updated>
                            <resolved>Mon, 7 Jul 2008 21:30:21 +0000</resolved>
                                    <version>2.0.5</version>
                                    <fixVersion>2.0.8</fixVersion>
                    <fixVersion>2.1.2</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12610218" author="jgeraerts" created="Thu, 3 Jul 2008 12:55:23 +0000"  >&lt;p&gt;I was able to work around this issue by using the legacy AbstractDependencyInjectionSpringContextTests and not use @Resource &lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1acpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>