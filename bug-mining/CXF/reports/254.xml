<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:37:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2139] Deserializer for complex types is not created inside the generated JavaScript client code</title>
                <link>https://issues.apache.org/jira/browse/CXF-2139</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The JavaScript client code generator successfully creates serializers and deserializers for first level soap requests and response objects. Serializing code is also created for complex types but the deserializer code is not created.&lt;/p&gt;

&lt;p&gt;Digging down the code it seems that the problem is in the class &quot;org.apache.cxf.javascript.types.SchemaJavascriptBuilder&quot; the following HACK made the JS client work correctly:&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;    public void domDeserializerFunction(QName name, XmlSchemaComplexType type) {&lt;br/&gt;
        utils = new JavascriptUtils(code);&lt;br/&gt;
        XmlSchemaSequence sequence = null;&lt;/p&gt;

&lt;p&gt;        sequence = XmlSchemaUtils.getSequence(type);&lt;/p&gt;

&lt;p&gt;        // HACK, use alternate way to get sequence&lt;br/&gt;
        if (sequence.getItems().getCount() == 0) {&lt;br/&gt;
                XmlSchemaSequence s = XmlSchemaUtils.getContentSequence(type);&lt;br/&gt;
                if (s != null) &lt;/p&gt;
{
                        System.err.println(&quot;HACK-applied, generating deserializer for &quot; + name);
                        sequence = s;
                }
&lt;p&gt;        }&lt;br/&gt;
        // HACK-END, use alternate way to get sequence&lt;/p&gt;

&lt;p&gt;        String typeObjectName = nameManager.getJavascriptName(name);&lt;br/&gt;
&amp;#8212;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6, ANT based build script&lt;/p&gt;</environment>
        <key id="12421497">CXF-2139</key>
            <summary>Deserializer for complex types is not created inside the generated JavaScript client code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bmargulies">Benson Margulies</assignee>
                                    <reporter username="juergenk">Juergen Kellerer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Mar 2009 15:29:14 +0000</created>
                <updated>Fri, 24 Apr 2009 21:17:11 +0000</updated>
                            <resolved>Thu, 2 Apr 2009 00:05:48 +0000</resolved>
                                    <version>2.1.4</version>
                    <version>2.2</version>
                                    <fixVersion>2.1.5</fixVersion>
                    <fixVersion>2.2.1</fixVersion>
                                    <component>JavaScript Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12693571" author="juergenk" created="Sun, 29 Mar 2009 15:45:50 +0000"  >&lt;p&gt;.. was a bit to fast with the given HACK, simply using the method from the serializer code seems the fix the problem better, the solution I used before doesn&apos;t cover inheritance. However I&apos;m still not sure if this causes any other side effects, it&apos;s just a quick HACK that does the trick for me.&lt;/p&gt;

&lt;p&gt;public void domDeserializerFunction(QName name, XmlSchemaComplexType type) {&lt;br/&gt;
       utils = new JavascriptUtils(code);&lt;br/&gt;
       List&amp;lt;XmlSchemaObject&amp;gt; items = XmlSchemaUtils.getContentElements(type, xmlSchemaCollection);&lt;/p&gt;

&lt;p&gt;       String typeObjectName = nameManager.getJavascriptName(name);&lt;br/&gt;
       code.append(&quot;function &quot; + typeObjectName + &quot;_deserialize (cxfjsutils, element) {\n&quot;);&lt;br/&gt;
       // create the object we are deserializing into.&lt;br/&gt;
       utils.appendLine(&quot;var newobject = new &quot; + typeObjectName + &quot;();&quot;);&lt;br/&gt;
       utils.appendLine(&quot;cxfjsutils.trace(&apos;element: &apos; + cxfjsutils.traceElementName(element));&quot;);&lt;br/&gt;
       utils.appendLine(&quot;var curElement = cxfjsutils.getFirstElementChild(element);&quot;);&lt;/p&gt;

&lt;p&gt;       utils.appendLine(&quot;var item;&quot;);&lt;/p&gt;

&lt;p&gt;       for (ListIterator&amp;lt;XmlSchemaObject&amp;gt; i = items.listIterator(); i.hasNext()&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; {&lt;br/&gt;
              utils.appendLine(&quot;cxfjsutils.trace(&apos;curElement: &apos; + cxfjsutils.traceElementName(curElement));&quot;);&lt;br/&gt;
              XmlSchemaObject thing = i.next();&lt;br/&gt;
              ParticleInfo itemInfo = ParticleInfo.forLocalItem(thing, schemaInfo.getSchema(),&lt;br/&gt;
                            xmlSchemaCollection, prefixAccumulator, type.getQName());&lt;br/&gt;
              if (itemInfo.isAny()) {&lt;br/&gt;
                     ParticleInfo nextItem = null;&lt;br/&gt;
                     if (i.hasNext()) {&lt;br/&gt;
                            XmlSchemaObject nextThing = i.next();&lt;br/&gt;
                            nextItem = ParticleInfo.forLocalItem(nextThing, schemaInfo.getSchema(),&lt;br/&gt;
                                          xmlSchemaCollection, prefixAccumulator, type.getQName());&lt;br/&gt;
                            // theoretically, you could have two anys with different&lt;br/&gt;
                            // namespaces.&lt;br/&gt;
                            if (nextItem.isAny()) &lt;/p&gt;
{
                                      unsupportedConstruct(&quot;MULTIPLE_ANY&quot;, type.getQName());
                            }
&lt;p&gt;                     }&lt;br/&gt;
                     deserializeAny(type, itemInfo, nextItem);&lt;br/&gt;
              } else &lt;/p&gt;
{
                     deserializeElement(type, thing);
              }
&lt;p&gt;       }&lt;br/&gt;
       utils.appendLine(&quot;return newobject;&quot;);&lt;br/&gt;
       code.append(&quot;}\n\n&quot;);&lt;br/&gt;
}&lt;/p&gt;</comment>
                            <comment id="12693575" author="juergenk" created="Sun, 29 Mar 2009 15:50:40 +0000"  >&lt;p&gt;This is a compiled version of the described HACK to test it quickly.&lt;/p&gt;</comment>
                            <comment id="12693625" author="bmargulies" created="Sun, 29 Mar 2009 23:02:19 +0000"  >&lt;p&gt;Hi there. For legal reasons, I have to ask you to post a diff with the &apos;licensed to Apache&apos; flag turned on for me to work with this.&lt;/p&gt;</comment>
                            <comment id="12693736" author="juergenk" created="Mon, 30 Mar 2009 11:49:34 +0000"  >&lt;p&gt;Here you go. (Please ignore changed imports, I ran reformat code.. my bad.)&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
I have to add that this was made for version 2.1.4, I just quickly tried 2.2 and saw it has the same issue.&lt;/p&gt;</comment>
                            <comment id="12694833" author="bmargulies" created="Thu, 2 Apr 2009 00:00:11 +0000"  >&lt;p&gt;That diff was pretty untractable due to the lack of -u or -c and the reformatting.&lt;/p&gt;

&lt;p&gt;What I really need is a testcase of the problem ...&lt;/p&gt;</comment>
                            <comment id="12694836" author="bmargulies" created="Thu, 2 Apr 2009 00:05:48 +0000"  >&lt;p&gt;I committed a fix based on your work. Please try it out.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12404122" name="SchemaJavascriptBuilder.diff" size="3637" author="juergenk" created="Mon, 30 Mar 2009 11:49:34 +0000"/>
                            <attachment id="12404085" name="js-patch-2.1.4.jar" size="7658" author="juergenk" created="Sun, 29 Mar 2009 15:50:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>