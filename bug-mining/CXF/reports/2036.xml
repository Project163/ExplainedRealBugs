<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:06:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5391] Response code is not logged for SOAP responses</title>
                <link>https://issues.apache.org/jira/browse/CXF-5391</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If you enable logging through the LoggingIn/OutInterceptors and then send a SOAP request through, the response code is not logged.&lt;/p&gt;

&lt;p&gt;---------------------------&lt;br/&gt;
ID: 2&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Content-Type: text/xml&lt;/p&gt;

&lt;p&gt;The response code is logged fine for rest requests:&lt;/p&gt;

&lt;p&gt;---------------------------&lt;br/&gt;
ID: 19&lt;br/&gt;
Response-Code: 200&lt;br/&gt;
Content-Type: application/xml&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679656">CXF-5391</key>
            <summary>Response code is not logged for SOAP responses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="mandyp">Mandy Warren</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Nov 2013 22:46:41 +0000</created>
                <updated>Tue, 26 Nov 2013 17:40:14 +0000</updated>
                            <resolved>Tue, 19 Nov 2013 16:05:09 +0000</resolved>
                                    <version>2.7.7</version>
                                    <fixVersion>3.0.0-milestone1</fixVersion>
                    <fixVersion>2.7.8</fixVersion>
                    <fixVersion>2.6.11</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13825277" author="ay" created="Mon, 18 Nov 2013 11:49:04 +0000"  >&lt;p&gt;there seems to be an inconsistency between jaxrs and jaws in how the http code is logged at the server/provider side.&lt;br/&gt;
in any case, we should make this consistent.&lt;/p&gt;</comment>
                            <comment id="13826482" author="ay" created="Tue, 19 Nov 2013 13:22:16 +0000"  >&lt;p&gt;Hi Mandy,&lt;br/&gt;
I just fixed this issue in trunk and the current 2.7.x and 2.6.x snapshots.&lt;br/&gt;
the response code should be included now.&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="13827049" author="mandyp" created="Tue, 19 Nov 2013 22:48:30 +0000"  >&lt;p&gt;Hi Aki &lt;/p&gt;

&lt;p&gt;Many thanks for fixing this so quickly. I can confirm your fix has fixed the issue with HTTP transport but there is still an issue with Local Transport. Can you reopen the issue please?&lt;/p&gt;

&lt;p&gt;Best wishes&lt;br/&gt;
Mandy&lt;/p&gt;</comment>
                            <comment id="13827611" author="ay" created="Wed, 20 Nov 2013 12:55:44 +0000"  >&lt;p&gt;Hi Mandy,&lt;br/&gt;
thanks for testing the patch.&lt;/p&gt;

&lt;p&gt;Regarding your mentioning of Local Transport, there is no equivalent of the HTTP status code in Local transport. So, I am not sure what you mean by your comment. If you have questions, could you post a mail message to the users@cxf mailing list with some more details?&lt;/p&gt;

&lt;p&gt;Regards, aki&lt;/p&gt;</comment>
                            <comment id="13827616" author="sergey_beryozkin" created="Wed, 20 Nov 2013 13:05:45 +0000"  >&lt;p&gt;Hi Aki, my understanding is that Local Transport is used to test WS &amp;amp; RS endpoints, so the higher-level info like headers, etc may be handy to display, example, Content-Type is HTTP header. &lt;/p&gt;

&lt;p&gt;Note, in the JAX-RS case, the response code is set before the transport is even invoked, in JAXRSOutInterceptor, before LoggingOutInterceptor is invoked so we see the response code on the JAX-RS out path. Not sure though if it is possible to set up the response code earlier on the WS out path: perhaps a simple &apos;fix&apos; is to register LoggingOutInterceptor after WS out interceptor sets the response code, if such WS code exists&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="13827668" author="ay" created="Wed, 20 Nov 2013 13:54:44 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
if we want to get some status for LocalTRP that is analogue to the http status code, we could set it in the LocalTRP&apos;s serialization step and that can be pulled when the LogOutInterceptor gets executed.&lt;br/&gt;
that&apos;s how the sttus code inclusion for HTTP was added to the LogOutInterceptor.&lt;/p&gt;

&lt;p&gt;But is there some meaningful status code for LocalTRP? &lt;br/&gt;
assuming for the error case, someone is already setting the appropriate code, we could add the same logic that is in the httpdestination like?&lt;br/&gt;
everything ok and has body -&amp;gt; 200&lt;br/&gt;
ok but empty -&amp;gt; 202?&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="13827672" author="sergey_beryozkin" created="Wed, 20 Nov 2013 14:05:14 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;I guess so, if no Message.RESPONSE_CODE is set then default to something like that. &lt;br/&gt;
By the way, in the defaulting logic,  if the message has no response body it has to be 202 only if it is a one way request, 204 otherwise&lt;br/&gt;
Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="13827943" author="ay" created="Wed, 20 Nov 2013 18:32:37 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
okay.&lt;br/&gt;
But this 204 is jaxrs specific and i suppose you are already setting it within the jaxrs part, right?&lt;br/&gt;
HTTPDest has the logic of using the status code if it is already set in the message or if not, choose between 200 and 202 based on several factors such as whether the call was oneway, empty-partial-resp, partial reap, etc to get the right status code for jaxws stuff with or without ws-* extensions. So I suppose, we can use the same logic of setting either 200 or 202 for LocalDest only when the code is not set.&lt;/p&gt;

&lt;p&gt;In anyway, I&apos;ll create a new ticket to track this topic and link it from here.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5409&quot; title=&quot;Make response code be included in logging for LocalTransport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-5409&quot;&gt;&lt;del&gt;CXF-5409&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="13828102" author="sergey_beryozkin" created="Wed, 20 Nov 2013 20:55:53 +0000"  >&lt;p&gt;Hi Aki&lt;/p&gt;

&lt;p&gt;204 is really not JAX-RS specific. If you have a request-response and the response has no body it is 204. &lt;br/&gt;
Consider a JAX-WS Provider&amp;lt;Source&amp;gt; REST service returning null to a GET request, it is def 204 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, not 202&lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="13828105" author="sergey_beryozkin" created="Wed, 20 Nov 2013 20:58:28 +0000"  >&lt;p&gt;Pressed something and saw it reassigned to me, was not my intention &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13828683" author="ay" created="Thu, 21 Nov 2013 10:29:23 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
Okay, maybe, this is something of REST vs SOAP?&lt;/p&gt;

&lt;p&gt;But in any case, the status code 204 is returned only if it is set in the message at the moment, no?&lt;br/&gt;
Do you think we need to add this 204 logic (using some rules to decide between 202 and 204) in the default logic so that you don&apos;t have to explicitly do the setting?&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;</comment>
                            <comment id="13828822" author="sergey_beryozkin" created="Thu, 21 Nov 2013 11:02:19 +0000"  >&lt;p&gt;Hi Aki, &lt;br/&gt;
you are right, 204 would be returned on a non-SOAP path when the response body is empty. I guess it might also happen on a SOAP Get Binding path too but I&apos;m not sure if any of CXF users depends on SOAP GET Binding at all. We can probably add some property later on to help the HTTP transport to decide that may be 204 is needed in a given case. &lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pw0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>