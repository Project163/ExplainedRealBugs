<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:09:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5665] Java First WS-Policy duplicate PolicyReferences when using annotations and no separate Java Interface</title>
                <link>https://issues.apache.org/jira/browse/CXF-5665</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;In CXF 2.7.10 when using Java First WS-Policy Annotations such as: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Policies({ 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationPolicy.xml&quot;&lt;/span&gt;), 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationInputPolicy.xml&quot;&lt;/span&gt;, 
			placement = Policy.Placement.BINDING_OPERATION_INPUT), 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationOutputPolicy.xml&quot;&lt;/span&gt;, 
			placement = Policy.Placement.BINDING_OPERATION_OUTPUT), 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationPTPolicy.xml&quot;&lt;/span&gt;, 
			placement = Policy.Placement.PORT_TYPE_OPERATION), 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationPTInputPolicy.xml&quot;&lt;/span&gt;, 
			placement = Policy.Placement.PORT_TYPE_OPERATION_INPUT), 
	@Policy(uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;annotationpolicies/TestOperationPTOutputPolicy.xml&quot;&lt;/span&gt;, 
			placement = Policy.Placement.PORT_TYPE_OPERATION_OUTPUT) 
}) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The resulting WSDL ends up generating multiple PolicyReference elements when there is no separate Java Interface for example: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:operation name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoInt&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:operation soapAction=&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; style=&quot;&lt;/span&gt;document&quot;/&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:input name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoInt&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:body use=&lt;span class=&quot;code-quote&quot;&gt;&quot;literal&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpInputPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpInputPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsdl:input&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:output name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoIntResponse&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:body use=&lt;span class=&quot;code-quote&quot;&gt;&quot;literal&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpOutputPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:PolicyReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#echoIntBindingOpOutputPolicy&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsdl:output&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsdl:operation&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This problem can be reproduced by modifying the &lt;br/&gt;
&lt;em&gt;rt/frontend/jaxws/src/test/java/org/apache/cxf/jaxws/ws/PolicyAnnotationTest.java&lt;/em&gt; test so that it counts the number PolicyReference&apos;s&lt;/p&gt;

&lt;p&gt;This problem affects both the 2.7.x series and master/trunk at the present time, 2.6.x does not have this problem.&lt;/p&gt;

&lt;p&gt;A &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638154/12638154_duplicate-policyreference-test.patch&quot; title=&quot;duplicate-policyreference-test.patch attached to CXF-5665&quot;&gt;patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; for the test mentioned above is attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706060">CXF-5665</key>
            <summary>Java First WS-Policy duplicate PolicyReferences when using annotations and no separate Java Interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="japearson">Joel Pearson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 23:26:06 +0000</created>
                <updated>Fri, 11 Jul 2014 12:50:21 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 06:35:37 +0000</resolved>
                                    <version>3.0.0-milestone2</version>
                    <version>2.7.10</version>
                                    <fixVersion>2.7.11</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12638154" name="duplicate-policyreference-test.patch" size="1660" author="japearson" created="Tue, 1 Apr 2014 23:26:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u7yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>