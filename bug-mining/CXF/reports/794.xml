<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:44:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3135] WadlGenerator does not respect Consumes annotation for form requests</title>
                <link>https://issues.apache.org/jira/browse/CXF-3135</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;&lt;tt&gt;WadlGenerator&lt;/tt&gt; invokes &lt;tt&gt;handleRepresentation&lt;/tt&gt; with the wrong parameter when creating the &lt;tt&gt;&amp;lt;request&amp;gt;&lt;/tt&gt; element.  The last parameter of &lt;tt&gt;handleRepresentation&lt;/tt&gt; should be &lt;em&gt;true&lt;/em&gt; not &lt;em&gt;false&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ori.getMethodToInvoke().getParameterTypes().length != 0) {
            sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;request&amp;gt;&quot;&lt;/span&gt;);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isFormRequest(ori)) {
                handleRepresentation(sb, jaxbTypes, qnameResolver, clsMap, ori, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Parameter p : ori.getParameters()) {        
                    handleParameter(sb, jaxbTypes, qnameResolver, clsMap, ori, p);             
                }
            }
            sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/request&amp;gt;&quot;&lt;/span&gt;);
 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;any&lt;/p&gt;</environment>
        <key id="12480365">CXF-3135</key>
            <summary>WadlGenerator does not respect Consumes annotation for form requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="guyd">Guy Dumais</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 19:18:28 +0000</created>
                <updated>Fri, 21 Jan 2011 18:14:31 +0000</updated>
                            <resolved>Tue, 11 Jan 2011 21:00:05 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.3.2</fixVersion>
                    <fixVersion>2.4</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12933767" author="sergey_beryozkin" created="Fri, 19 Nov 2010 11:08:45 +0000"  >&lt;p&gt;Can you please provide more information ? I have a test confirming @Consumes is checked.&lt;/p&gt;

&lt;p&gt;Just post here a sample class resource with a single method only which uses @Consumes, as well as a sample (JAXB) bean - if this method does expect some XML.&lt;/p&gt;</comment>
                            <comment id="12933807" author="guyd" created="Fri, 19 Nov 2010 13:52:04 +0000"  >&lt;p&gt;I can certainly do that but I feel it is just simpler to take a look at the &lt;tt&gt;WadlGenerator&lt;/tt&gt; code directly.  The snippet I pasted in the description shows that &lt;tt&gt;handleRepresentation&lt;/tt&gt; is called with the last parameter set to false while handling the generation of the &lt;tt&gt;&amp;lt;request&amp;gt;&lt;/tt&gt; element.  That last parameter determines if the representation is for &lt;em&gt;inbound&lt;/em&gt; communication.  In this case I believe it should be &lt;em&gt;true&lt;/em&gt; not &lt;em&gt;false&lt;/em&gt;.  &lt;/p&gt;</comment>
                            <comment id="12933860" author="sergey_beryozkin" created="Fri, 19 Nov 2010 16:49:14 +0000"  >&lt;p&gt;Hope you appreciate that I can not just change it to &apos;true&apos; just because it seems like the right thing to do.&lt;/p&gt;

&lt;p&gt;As you can see from the code, a check is done if a current method is supposed to handle form submissions or not. If yes then it uses &apos;false&apos; which alongside with some other parameters indicate to handleRepresentation() that in this case request parameters have to be shown as parameters of the representation which exactly what needs to be done per the WADL spec, where form parameters are shown as query parameters. This is actually a broken way to convey it and will be refactored but this is the way I did id awhile back.&lt;/p&gt;

&lt;p&gt;So can you elaborate please on what exactly do you mean that @Consumes is not checked ? If you show me a method signature then it will help. It does not have to be the signature from the production code, but just needs to show the same annotations that you use in the real case. &lt;/p&gt;</comment>
                            <comment id="12933899" author="guyd" created="Fri, 19 Nov 2010 18:18:25 +0000"  >&lt;p&gt;Thanks for the additional feedback.  Let me review the case I&apos;ve stumbled upon yesterday and update the description accordingly.&lt;/p&gt;</comment>
                            <comment id="12934503" author="guyd" created="Mon, 22 Nov 2010 16:23:36 +0000"  >&lt;p&gt;Here is the example I was concerned with.  It seems that these two methods should generate the same &lt;b&gt;mediaType attribute&lt;/b&gt; in the request representation element but there are not:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Service(&lt;span class=&quot;code-quote&quot;&gt;&quot;wadlTest&quot;&lt;/span&gt;)
@Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/resource&quot;&lt;/span&gt;)
@Description(&lt;span class=&quot;code-quote&quot;&gt;&quot;Shouldn&apos;t these two cases give the same representation&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WadlTest {
	org.apache.cxf.jaxrs.model.wadl.WadlGenerator wadl;
	
	@POST
	@Consumes(MediaType.APPLICATION_FORM_URLENCODED)
	@Produces(MediaType.APPLICATION_JSON)
	@Description(&lt;span class=&quot;code-quote&quot;&gt;&quot;using MultiValuedMap gives application/x-www-form-urlencoded&quot;&lt;/span&gt;)
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; postWithMultiValued(MultivaluedMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; formParams) {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stringParam = formParams.getFirst(&lt;span class=&quot;code-quote&quot;&gt;&quot;stringParam&quot;&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; longParam = &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(formParams.getFirst(&lt;span class=&quot;code-quote&quot;&gt;&quot;longParam&quot;&lt;/span&gt;));
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;{}&quot;&lt;/span&gt;;
	}
	
	@POST
	@Consumes(MediaType.APPLICATION_FORM_URLENCODED)
	@Produces(MediaType.APPLICATION_JSON)
	@Description(&lt;span class=&quot;code-quote&quot;&gt;&quot;using FormParam gives application/json&quot;&lt;/span&gt;)
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; postWithFormParam(@FormParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;stringParam&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stringParam,
			@FormParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;longParam&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; longParam) {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;{}&quot;&lt;/span&gt;;
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The generated WADL with CXF 2.2.9 is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resource path=&lt;span class=&quot;code-quote&quot;&gt;&quot;/resource&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;doc&amp;gt;&lt;/span&gt;Shouldn&apos;t these two cases give the same representation&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/doc&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;method name=&lt;span class=&quot;code-quote&quot;&gt;&quot;POST&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;doc&amp;gt;&lt;/span&gt;using MultiValuedMap gives application/x-www-form-urlencoded&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/doc&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;request&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;representation mediaType=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/request&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;response&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Primitive type : xs:string --&amp;gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;representation mediaType=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/response&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/method&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;method name=&lt;span class=&quot;code-quote&quot;&gt;&quot;POST&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;doc&amp;gt;&lt;/span&gt;using FormParam gives application/json&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/doc&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;request&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;representation mediaType=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;stringParam&quot;&lt;/span&gt; style=&lt;span class=&quot;code-quote&quot;&gt;&quot;query&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;xs:string&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;longParam&quot;&lt;/span&gt; style=&lt;span class=&quot;code-quote&quot;&gt;&quot;query&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;xs:long&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/representation&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/request&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;response&amp;gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Primitive type : xs:string --&amp;gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;representation mediaType=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/response&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/method&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/resource&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12980131" author="sergey_beryozkin" created="Tue, 11 Jan 2011 14:57:12 +0000"  >&lt;p&gt;Confirmed, thanks for posting the sample output&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13ypb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>