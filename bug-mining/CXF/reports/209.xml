<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:36:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2050] MimeBodyPartInputStream never finishes reading certain streams</title>
                <link>https://issues.apache.org/jira/browse/CXF-2050</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The MimeBodyPartInputStream class never finishes reading certain kinds of input streams - it continues to read the same bytes over and over. One result of this issue is that the AttachmentDeserializer enters an infinite loop when trying to deserialize a binary attachment, so I would consider this an important issue.&lt;/p&gt;

&lt;p&gt;It appears that the problem has to do with how the end of the stream is read. First, the MimeBody stream&apos;s read() method reads the to the end of the PushBack stream. Upon reaching the end of the PushBack stream, the MimeBody stream&apos;s hasData() method unreads the last 15 bytes of the PushBack stream. The MimeBody stream&apos;s read() method returns 0, which signals that more data needs to be read. This loop can happen over and over - the invoking code will keep asking the MimeBody stream for more data, and the MimeBody stream will continue returning 0.&lt;/p&gt;

&lt;p&gt;The MimeBody stream should return -1 if there is no more data to be read - it does this in most cases, but it doesn&apos;t handle this case for some reason.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415078">CXF-2050</key>
            <summary>MimeBodyPartInputStream never finishes reading certain streams</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="piepera">aaron pieper</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Feb 2009 18:11:42 +0000</created>
                <updated>Fri, 24 Apr 2009 21:17:04 +0000</updated>
                            <resolved>Thu, 19 Feb 2009 22:07:01 +0000</resolved>
                                    <version>2.1.4</version>
                                    <fixVersion>2.0.11</fixVersion>
                    <fixVersion>2.1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12674720" author="piepera" created="Wed, 18 Feb 2009 18:14:46 +0000"  >&lt;p&gt;Here is a test case which duplicates the issue. Executing this test case will demonstrate that MimeBodyInputStream.read() is returning 0 over and over.&lt;/p&gt;

&lt;p&gt;Alternatively, you can change this test so that it calls IOUtils.toString() on the stream. This will cause the code to enter an infinite loop, similar to the behavior caused by AttachmentDeserializer.&lt;/p&gt;</comment>
                            <comment id="12674732" author="piepera" created="Wed, 18 Feb 2009 18:38:12 +0000"  >&lt;p&gt;Proposed patch to MimeBodyPartInputStream; changed the processBuffer() method so it doesn&apos;t unread the Pushback stream when it hits the end of the Pushback stream.&lt;/p&gt;</comment>
                            <comment id="12675152" author="dkulp" created="Thu, 19 Feb 2009 22:07:01 +0000"  >
&lt;p&gt;Your patch caused MANY tests to start failing as existing mime streams could no longer be properly parsed. &lt;/p&gt;

&lt;p&gt;However, your test case was a big help and I&apos;ve fixed to pass your test.    Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400432" name="MimeBodyPartInputStreamTest.java" size="851" author="piepera" created="Wed, 18 Feb 2009 18:14:46 +0000"/>
                            <attachment id="12400436" name="patch.txt" size="1450" author="piepera" created="Wed, 18 Feb 2009 18:38:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ae1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>