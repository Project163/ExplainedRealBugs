<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:09:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5645] wsp:Optional isn&apos;t adhered to for WS-RM policy in WSDL</title>
                <link>https://issues.apache.org/jira/browse/CXF-5645</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The &lt;tt&gt;wsp:Optional&lt;/tt&gt; attribute doesn&apos;t work for WS-RM. As far as the specs tell both WS-Addressing and WS-RM should support &lt;tt&gt;wsp:Optional&lt;/tt&gt;, that is, if &lt;tt&gt;wsp:Optional&lt;/tt&gt; is set to &lt;tt&gt;true&lt;/tt&gt; on a WS-RM policy the WS-RM policy should become optional &amp;#8211; the endpoint should allow both messages with and without WS-RM [1]. However, my experimentation showed that it actually doesn&apos;t.&lt;/p&gt;

&lt;p&gt;What I did is as follows (see the attached reproducer for details):&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Configured in WSDL (&lt;tt&gt;greeting.wsdl&lt;/tt&gt;) an endpoint as optionally WS-RM enabled like the following:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:binding name=&lt;span class=&quot;code-quote&quot;&gt;&quot;GreetingServiceSoapBinding&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;tns:GreetingService&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:Policy &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsp&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2006/07/ws-policy&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &amp;lt;wsam:Addressing &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsam&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2007/02/addressing/metadata&quot;&lt;/span&gt;
                wsp:Optional=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; /&amp;gt;
            &amp;lt;wsrmp:RMAssertion &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsrmp&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/ws/2005/02/rm/policy&quot;&lt;/span&gt;
                wsp:Optional=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; /&amp;gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsp:Policy&amp;gt;&lt;/span&gt;
        ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Sent a WS-RM unaware (= no SOAP header) SOAP request from the client but got the following SOAP Fault:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Envelope &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soap&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Fault&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;faultcode&amp;gt;&lt;/span&gt;soap:Server&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/faultcode&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;faultstring&amp;gt;&lt;/span&gt;WS-Addressing is required by this endpoint.&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/faultstring&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Fault&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; In WS-RM Policy 1.1 p.8:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/wsrmp:RMAssertion/@wsp:Optional=&quot;true&quot;&lt;br/&gt;
Per WS-Policy, this is compact notation for two policy alternatives, one with and one without the assertion. The intuition is that the behavior indicated by the assertion is optional, or in this case, that WS-ReliableMessaging MAY be used.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12703652">CXF-5645</key>
            <summary>wsp:Optional isn&apos;t adhered to for WS-RM policy in WSDL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ema">Jim Ma</assignee>
                                    <reporter username="tadayosi">Tadayoshi Sato</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 05:02:18 +0000</created>
                <updated>Fri, 11 Jul 2014 12:50:18 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 08:32:12 +0000</resolved>
                                    <version>3.0.0-milestone2</version>
                    <version>2.7.10</version>
                                    <fixVersion>2.7.11</fixVersion>
                    <fixVersion>2.6.14</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13947556" author="tadayosi" created="Wed, 26 Mar 2014 05:07:32 +0000"  >&lt;p&gt;Attached a reproducer (&lt;tt&gt;ws-rm.zip&lt;/tt&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12544140">CXF-4139</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12636858" name="ws-rm.zip" size="18215" author="tadayosi" created="Wed, 26 Mar 2014 05:07:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>