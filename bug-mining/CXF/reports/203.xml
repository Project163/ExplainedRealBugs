<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:36:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2033] StaxUtils assumes DOM Node::appendChild(c) returns the passed-in child</title>
                <link>https://issues.apache.org/jira/browse/CXF-2033</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;StaxUtils does XML manipulation:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/cxf/trunk/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/cxf/trunk/common/common/src/main/java/org/apache/cxf/staxutils/StaxUtils.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;in startElement(...) it builds a fragment and attaches it to a parent using appendChild(e):&lt;/p&gt;

&lt;p&gt;        parent.appendChild(e);&lt;/p&gt;

&lt;p&gt;When using this with the JBoss AS5 SOAP/DOM implementation, a SOAPBody appending a SOAPElement will return a different object than the one passed-in.  (In JBoss&apos;s case, you get back a SOAPBodyElement that&apos;s quite similar to, but distinct from, the SOAPElement you passed to appendChild(...)).&lt;/p&gt;

&lt;p&gt;The DOM spec says that appendChild(...) returns the node that was appended, which implies (to me, and at least 1 other JBoss developer) that it may be different than the one you handed in.&lt;/p&gt;

&lt;p&gt;This only becomes a problem when later in startElement(...), code calls e.getParent() to perform some logic.  This fails with JBoss DOM, since the &apos;e&apos; StaxUtils is holding was detached from its own parent, and replaced with a different element node.&lt;/p&gt;

&lt;p&gt;The fix is simply to assign the result of appendChild(e) back to e itself:&lt;/p&gt;

&lt;p&gt;    e = (Element) parent.appendChild(e);&lt;/p&gt;

&lt;p&gt;This causes StaxUtils not to freak out the JBoss DOM.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSX, JBoss AS5, JDK6&lt;/p&gt;</environment>
        <key id="12414578">CXF-2033</key>
            <summary>StaxUtils assumes DOM Node::appendChild(c) returns the passed-in child</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="bob">Bob Paulin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2009 16:02:10 +0000</created>
                <updated>Fri, 24 Apr 2009 21:17:04 +0000</updated>
                            <resolved>Fri, 13 Feb 2009 03:41:40 +0000</resolved>
                                    <version>2.1.4</version>
                                    <fixVersion>2.0.11</fixVersion>
                    <fixVersion>2.1.5</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="180">0.05h</timeoriginalestimate>
                            <timeestimate seconds="180">0.05h</timeestimate>
                                        <comments>
                            <comment id="12673133" author="dkulp" created="Fri, 13 Feb 2009 03:49:45 +0000"  >
&lt;p&gt;I marked this resolved as I fixed the specific location.   However, there are most likely a BUNCH of other places that do this.&lt;/p&gt;

&lt;p&gt;A grep of:&lt;br/&gt;
grep -r &quot;appendChild&quot; * | wc -l&lt;br/&gt;
yields 91 calls to appendChild that need to be audited.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sy9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>