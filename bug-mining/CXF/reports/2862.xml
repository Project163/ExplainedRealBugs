<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:21:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7026] o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak</title>
                <link>https://issues.apache.org/jira/browse/CXF-7026</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;During memory leak search I saw some old registrations of &lt;tt&gt;org.apache.cxf.transport.servlet.CXFNonSpringServlet&lt;/tt&gt;. Here&apos;s GC root path:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;this     - value: org.eclipse.jetty.server.ServerConnector$ServerConnectorManager #1
 &amp;lt;- _manager     - class: org.eclipse.jetty.server.ServerConnector, value: org.eclipse.jetty.server.ServerConnector$ServerConnectorManager #1
  &amp;lt;- [0]     - class: java.lang.Object[], value: org.eclipse.jetty.server.ServerConnector #1
   &amp;lt;- array     - class: java.util.concurrent.CopyOnWriteArrayList, value: java.lang.Object[] #17136
    &amp;lt;- _connectors     - class: org.ops4j.pax.web.service.jetty.internal.JettyServerWrapper, value: java.util.concurrent.CopyOnWriteArrayList #521
     &amp;lt;- _server     - class: org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler, value: org.ops4j.pax.web.service.jetty.internal.JettyServerWrapper #1
      &amp;lt;- _servletHandler     - class: org.eclipse.jetty.servlet.ServletHolder, value: org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler #1
       &amp;lt;- this$0     - class: org.eclipse.jetty.servlet.ServletHolder$Config, value: org.eclipse.jetty.servlet.ServletHolder #1
        &amp;lt;- config     - class: org.apache.cxf.transport.servlet.CXFNonSpringServlet, value: org.eclipse.jetty.servlet.ServletHolder$Config #1
         &amp;lt;- servlet     - class: org.apache.cxf.transport.http.osgi.ServletExporter, value: org.apache.cxf.transport.servlet.CXFNonSpringServlet #1
          &amp;lt;- m_svcObj     - class: org.apache.felix.framework.ServiceRegistrationImpl, value: org.apache.cxf.transport.http.osgi.ServletExporter #1
           &amp;lt;- [2]     - class: org.osgi.framework.ServiceRegistration[], value: org.apache.felix.framework.ServiceRegistrationImpl #311
            &amp;lt;- value     - class: java.util.HashMap$Node, value: org.osgi.framework.ServiceRegistration[] #87
             &amp;lt;- [179]     - class: java.util.HashMap$Node[], value: java.util.HashMap$Node #47874
              &amp;lt;- table     - class: java.util.HashMap, value: java.util.HashMap$Node[] #9801
               &amp;lt;- m     - class: java.util.Collections$SynchronizedMap, value: java.util.HashMap #84
                &amp;lt;- m_regsMap     - class: org.apache.felix.framework.ServiceRegistry, value: java.util.Collections$SynchronizedMap #7
                 &amp;lt;- m_registry (Java frame)     - class: org.apache.felix.framework.FrameworkStartLevelImpl, value: org.apache.felix.framework.ServiceRegistry #1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which shows that CXF servlet prevents from freeing previous instance of &lt;tt&gt;org.eclipse.jetty.server.ServerConnector&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;After some debugging, I&apos;ve found that &lt;tt&gt;org.apache.cxf.transport.http.osgi.HttpServiceTrackerCust#removedService()&lt;/tt&gt; isn&apos;t called - why? because &lt;tt&gt;org.apache.cxf.transport.http.osgi.HttpServiceTrackerCust#addingService()&lt;/tt&gt; returns &lt;tt&gt;null&lt;/tt&gt;...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13000395">CXF-7026</key>
            <summary>o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="ggrzybek">Grzegorz Grzybek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Aug 2016 14:20:11 +0000</created>
                <updated>Fri, 21 Oct 2016 18:46:16 +0000</updated>
                            <resolved>Mon, 29 Aug 2016 02:33:28 +0000</resolved>
                                    <version>3.1.7</version>
                                    <fixVersion>3.1.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>OSGi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15439130" author="githubbot" created="Fri, 26 Aug 2016 14:25:01 +0000"  >&lt;p&gt;GitHub user grgrzybek opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/162&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7026&quot; title=&quot;o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7026&quot;&gt;&lt;del&gt;CXF-7026&lt;/del&gt;&lt;/a&gt; o.a.c.transport.http.osgi.HttpServiceTrackerCust#removedSe&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;rvice was not called&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/grgrzybek/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/grgrzybek/cxf&lt;/a&gt; master-&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7026&quot; title=&quot;o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7026&quot;&gt;&lt;del&gt;CXF-7026&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/162.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/162.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #162&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 09712af17f75e9d81d05718e8270cc3741e276db&lt;br/&gt;
Author: Grzegorz Grzybek &amp;lt;gr.grzybek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-26T14:23:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7026&quot; title=&quot;o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7026&quot;&gt;&lt;del&gt;CXF-7026&lt;/del&gt;&lt;/a&gt; o.a.c.transport.http.osgi.HttpServiceTrackerCust#removedService was not called&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15439131" author="gzres" created="Fri, 26 Aug 2016 14:25:06 +0000"  >&lt;p&gt;PR for master branch: &lt;a href=&quot;https://github.com/apache/cxf/pull/162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/162&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15444575" author="githubbot" created="Mon, 29 Aug 2016 02:29:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/162&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15444585" author="ffang" created="Mon, 29 Aug 2016 02:33:10 +0000"  >&lt;p&gt;patch applied on behalf of Grzegorz Grzybek with thanks&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/09712af1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/09712af1&lt;/a&gt; for master&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/6c14b437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/6c14b437&lt;/a&gt; for 3.1.x-fixes branch&lt;/p&gt;</comment>
                            <comment id="15444841" author="gzres" created="Mon, 29 Aug 2016 05:05:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ffang&quot; class=&quot;user-hover&quot; rel=&quot;ffang&quot;&gt;ffang&lt;/a&gt; thanks for merging!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32umv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>