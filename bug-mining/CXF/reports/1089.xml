<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:49:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3802] jaxws Provider doesn&apos;t allow override of outbound ws addressing headers</title>
                <link>https://issues.apache.org/jira/browse/CXF-3802</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I have a jaxws Provider configured to do WS-Addressing and the defaults seem to work fine.  However, if I try to override some of the WS-Addressing headers in the MessageContext, it gets ignored.  I&apos;ve tried the following :&lt;/p&gt;

&lt;p&gt;AddressingProperties wsaServer = new AddressingPropertiesImpl(); AttributedURIType aut = new AttributedURIType(); aut.setValue(&quot;urn:get:some&quot;); wsaServer.setAction(aut); messageContext.put(JAXWSAConstants.SERVER_ADDRESSING_PROPERTIES_OUTBOUND, wsaServer); &lt;/p&gt;

&lt;p&gt;But the Action header sent in the response is the default from the WSDL, not my override value.  Am I doing something wrong or this never worked?  I&apos;ve tried doing:&lt;br/&gt;
messageContext.get(JAXWSAConstants.SERVER_ADDRESSING_PROPERTIES_OUTBOUND)&lt;/p&gt;

&lt;p&gt;But that returns null, so I&apos;ve been using the put instead.  I tried overriding the messageId as well, but that didn&apos;t work either.&lt;/p&gt;

&lt;p&gt;Debugging through the code illustrates that you can&apos;t just set this property on the MessageContext object for the Provider, you must set it on the outbound message object, like this:&lt;br/&gt;
((org.apache.cxf.jaxws.context.WrappedMessageContext)messageContext).getWrappedMessage().getExchange().getOutMessage().put(JAXWSAConstants.SERVER_ADDRESSING_PROPERTIES_OUTBOUND, wsaServer);&lt;/p&gt;

&lt;p&gt;So the working code for me becomes something like:&lt;br/&gt;
AddressingProperties wsaServer = new AddressingPropertiesImpl(); AttributedURIType aut = new AttributedURIType(); aut.setValue(&quot;urn:get:some&quot;); wsaServer.setAction(aut); ((org.apache.cxf.jaxws.context.WrappedMessageContext)messageContext).getWrappedMessage().getExchange().getOutMessage().put(JAXWSAConstants.SERVER_ADDRESSING_PROPERTIES_OUTBOUND, wsaServer);&lt;/p&gt;

&lt;p&gt;I&apos;ve tried overriding the message id and the action headers, both were successful.&lt;/p&gt;

&lt;p&gt;Dan suggested the following fix in ContextUtils.  Change these lines:&lt;br/&gt;
        AddressingPropertiesImpl maps =&lt;br/&gt;
            (AddressingPropertiesImpl)message.get(mapProperty);&lt;br/&gt;
        if (maps != null) {&lt;br/&gt;
            LOG.log(Level.FINE, &quot;current MAPs &lt;/p&gt;
{0}&quot;, maps);&lt;br/&gt;
        }&lt;br/&gt;
to:&lt;br/&gt;
        AddressingPropertiesImpl maps =&lt;br/&gt;
            (AddressingPropertiesImpl)message.get(mapProperty);&lt;br/&gt;
        if (maps == null &amp;amp;&amp;amp; isOutbound &amp;amp;&amp;amp; !isRequestor) {
        	maps = (AddressingPropertiesImpl)message.getExchange().getInMessage().get(mapProperty);
        }&lt;br/&gt;
        if (maps != null) {&lt;br/&gt;
            LOG.log(Level.FINE, &quot;current MAPs {0}
&lt;p&gt;&quot;, maps);&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;I&apos;ve tested this and it is successful with just the expected messageContext.put() call.  Thanks Dan!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12522788">CXF-3802</key>
            <summary>jaxws Provider doesn&apos;t allow override of outbound ws addressing headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="jpangburn">Jesse Pangburn</reporter>
                        <labels>
                            <label>jaxws</label>
                            <label>provider</label>
                            <label>ws-addressing</label>
                    </labels>
                <created>Mon, 12 Sep 2011 19:24:58 +0000</created>
                <updated>Wed, 19 Oct 2011 17:30:23 +0000</updated>
                            <resolved>Wed, 14 Sep 2011 17:55:10 +0000</resolved>
                                    <version>2.4.2</version>
                                    <fixVersion>2.3.7</fixVersion>
                    <fixVersion>2.4.3</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b7sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>