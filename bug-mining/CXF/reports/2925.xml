<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:22:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7147] Unable to register a generic _InvocationCallback&lt;Object&gt;_ when using the async proxy client API in JAX-RS</title>
                <link>https://issues.apache.org/jira/browse/CXF-7147</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;It is currently impossible to register a generic &lt;em&gt;InvocationCallback&amp;lt;Object&amp;gt;&lt;/em&gt; when invoking a method that returns void. This is due to a &lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/ClientProxyImpl.java#L797&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;check&lt;/a&gt; that isn&apos;t satisfied when the &lt;em&gt;methodReturnType&lt;/em&gt; is void. I propose to add the following case&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.class == callbackRespClass
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And let the user handle the logic.&lt;/p&gt;

&lt;p&gt; I also propose to remove the condition&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Response.class == callbackRespClass
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which will lead to failure when &lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/JaxrsClientCallback.java#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;casting&lt;/a&gt; to a return type upon completion. I will provide a PR.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt; sorry for the confusion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13022449">CXF-7147</key>
            <summary>Unable to register a generic _InvocationCallback&lt;Object&gt;_ when using the async proxy client API in JAX-RS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="jpoth">John Poth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Nov 2016 09:30:48 +0000</created>
                <updated>Wed, 22 Mar 2017 17:25:03 +0000</updated>
                            <resolved>Tue, 22 Nov 2016 16:57:22 +0000</resolved>
                                                    <fixVersion>3.1.9</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15686205" author="githubbot" created="Tue, 22 Nov 2016 09:34:28 +0000"  >&lt;p&gt;GitHub user johnpoth opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/204&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7147&quot; title=&quot;Unable to register a generic _InvocationCallback&amp;lt;Object&amp;gt;_ when using the async proxy client API in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7147&quot;&gt;&lt;del&gt;CXF-7147&lt;/del&gt;&lt;/a&gt; Allow generic invocation callback for JAX-RS async proxy c&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;lients&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7147&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7147&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/johnpoth/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/johnpoth/cxf&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7147&quot; title=&quot;Unable to register a generic _InvocationCallback&amp;lt;Object&amp;gt;_ when using the async proxy client API in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7147&quot;&gt;&lt;del&gt;CXF-7147&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/204.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/204.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #204&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0f3080d68532713e78b38f46ab302d2670f8b749&lt;br/&gt;
Author: jpoth &amp;lt;poth.john@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-22T09:33:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7147&quot; title=&quot;Unable to register a generic _InvocationCallback&amp;lt;Object&amp;gt;_ when using the async proxy client API in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7147&quot;&gt;&lt;del&gt;CXF-7147&lt;/del&gt;&lt;/a&gt; Allow generic invocation callback for JAX-RS async proxy clients&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15686557" author="sergey_beryozkin" created="Tue, 22 Nov 2016 12:05:32 +0000"  >&lt;p&gt;This should be InvocationCallback&amp;lt;Void&amp;gt; ? I&apos;m not really keen to start loosening the proxy based code - it is possible to register multiple InvocationCallbacks. &lt;/p&gt;

&lt;p&gt;And supporting InvocationCallback&amp;lt;Response&amp;gt; seemed reasonable to me, what is wrong with Response.class==callbackResponseClass ?&lt;/p&gt;</comment>
                            <comment id="15686843" author="jpoth" created="Tue, 22 Nov 2016 14:08:36 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for looking into this. &lt;/p&gt;

&lt;p&gt;1- Registering InvocationCallback&amp;lt;Void&amp;gt; will not pass the check (I just re-verified). This is because at runtime, &lt;em&gt;callbackRespClass&lt;/em&gt; will be set to  &lt;em&gt;java.lang.Void.class&lt;/em&gt; whereas &lt;em&gt;methodReturnType_will be set to _java.lang.Void#TYPE&lt;/em&gt; and therefore&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;callbackRespClass.isAssignableFrom(methodReturnType)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will return false. Some people treat void as a primitive (after all Void.TYPE.isPrimitive() does return true) which will solve this. This can be changed and added to PrimitiveUtils, I can update the PR if you think this makes sense. This will remove the Response and Object corner cases.&lt;/p&gt;

&lt;p&gt;2- Adding the check for InvocationCallback&amp;lt;Response&amp;gt; will fail later on in the code when you receive the response. You will get a casting exception &lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/rs/client/src/main/java/org/apache/cxf/jaxrs/client/JaxrsClientCallback.java#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; for methods that return instances that cannot be casted to Response.&lt;/p&gt;

&lt;p&gt;Hope this clears things up,&lt;/p&gt;

&lt;p&gt;John.&lt;/p&gt;</comment>
                            <comment id="15686879" author="sergey_beryozkin" created="Tue, 22 Nov 2016 14:26:25 +0000"  >&lt;p&gt;Hi, yes, I indeed got confused about Response.class, I guess this is why I might&apos;ve removed that check awhile back. &lt;br/&gt;
Can we then remove that check altogether given that isAssignable check follows and also update PrimitiveUtils with a void pair ? Thanks&lt;/p&gt;</comment>
                            <comment id="15687253" author="githubbot" created="Tue, 22 Nov 2016 16:54:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/204&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15687259" author="sergey_beryozkin" created="Tue, 22 Nov 2016 16:57:23 +0000"  >&lt;p&gt;Thanks for the patch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13022448">CXF-7146</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36mh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>