<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:26:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7510] SSE integration in CDI abruptly fails with no indication why</title>
                <link>https://issues.apache.org/jira/browse/CXF-7510</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/10d99c0d013a3d23361a3898171e7bd2b311a509349433db3b6cacaa@%3Cusers.cxf.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/10d99c0d013a3d23361a3898171e7bd2b311a509349433db3b6cacaa@%3Cusers.cxf.apache.org%3E&lt;/a&gt; has more details&lt;/p&gt;

&lt;p&gt;Intermittently, when bootstrapping CXF + CDI, the integration for SSE will fail.  When it fails, there&apos;s no log messages indicating the issue, however attempts to invoke any rest endpoint will give a warning like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Sep 17, 2017 7:50:33 PM org.apache.cxf.transport.servlet.ServletController
invoke
WARNING: Can&lt;span class=&quot;code-quote&quot;&gt;&apos;t find the request &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//my-hostname:4403/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&apos;&lt;/span&gt;s Observer&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13103459">CXF-7510</key>
            <summary>SSE integration in CDI abruptly fails with no indication why</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reta">Andriy Redko</assignee>
                                    <reporter username="johndament">John D. Ament</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Sep 2017 00:16:34 +0000</created>
                <updated>Tue, 28 Nov 2017 10:51:33 +0000</updated>
                            <resolved>Wed, 18 Oct 2017 11:50:34 +0000</resolved>
                                    <version>3.2.0</version>
                                    <fixVersion>3.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16172952" author="sergey_beryozkin" created="Wed, 20 Sep 2017 09:42:45 +0000"  >&lt;p&gt;There are no details in the thread, the only detail there is that you say that it fails now and then in the integration tests.&lt;/p&gt;

</comment>
                            <comment id="16191073" author="sergey_beryozkin" created="Wed, 4 Oct 2017 09:55:00 +0000"  >&lt;p&gt;Hi John - can you please attach a test project, Andriy may spot something...&lt;/p&gt;</comment>
                            <comment id="16191123" author="johndament" created="Wed, 4 Oct 2017 11:02:07 +0000"  >&lt;p&gt;I&apos;ll see if I can put something together.  It is easiest to replicate in a unit test.  If I point you to an existing github repo would that work for you?&lt;/p&gt;</comment>
                            <comment id="16191169" author="sergey_beryozkin" created="Wed, 4 Oct 2017 11:55:09 +0000"  >&lt;p&gt;Sure, please paste a link, that may work for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="16191242" author="reta" created="Wed, 4 Oct 2017 13:24:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt;. We should be able to discover the features automatically, I will try to reproduce the problem as well. &lt;/p&gt;</comment>
                            <comment id="16196365" author="reta" created="Sun, 8 Oct 2017 23:07:52 +0000"  >&lt;p&gt;Hey guys,&lt;/p&gt;

&lt;p&gt;Would appreciate your help / hints here please. So I started to look into this issue, there are basically two observations I have at the moment:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the automatic discovery of Features (SseFeature f.e.) in CDI works, no issue here (assuming beans.xml has no package exclusions)&lt;/li&gt;
	&lt;li&gt;the sample project we have provided as part of distribution references older Jetty 9.3.5.v20151012, messing dependencies up with Jetty 9.4.6.v20170531&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But I cannot reproduce imminent issue with initialization. Would you mind guys to attach the sample project to this ticket so we could pin-point the exact problem?&lt;br/&gt;
Thanks.&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="16196366" author="johndament" created="Sun, 8 Oct 2017 23:21:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sorry, my fault.  I had on my TODO to get a link over and forgot &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Here&apos;s a test that can reproduce the intermitent issue (though its more of a case where 90% it fails).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/hammock-project/hammock/blob/sse-issue/rest-cxf/src/test/java/org/hammock/test/cxf/CXFSseTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hammock-project/hammock/blob/sse-issue/rest-cxf/src/test/java/org/hammock/test/cxf/CXFSseTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When it works, you&apos;ll see the atmosphere install occurring, when it fails it just does nothing.  &lt;/p&gt;</comment>
                            <comment id="16196369" author="johndament" created="Sun, 8 Oct 2017 23:30:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; RE the discovery of SseFeature, I was trying to figure out why it wasn&apos;t working.  I noticed that the &lt;tt&gt;beans.xml&lt;/tt&gt; file in the archive is missing a &lt;tt&gt;bean-discovery-mode&lt;/tt&gt;, per the docs its required if you&apos;re using &lt;tt&gt;version=1.1&lt;/tt&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The version of CDI this beans.xml is for. If the version is &quot;1.1&quot; (or later), then the attribute bean-discovery-mode must be added.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16196391" author="reta" created="Mon, 9 Oct 2017 00:38:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt;, I will update the sample. Regarding, the CXFSseTest, the first issue is that `SseTransportCustomizationExtension` is not being included / discovered (it is part of CXF sse module). I did a quick patch, `new HammockArchive().classes(..., SseTransportCustomizationExtension.class).jar()` and things started to bootstrap properly (ee need this extension to hint somehow CXF/CDI to use SSE transport when constructing factory beans). &lt;/p&gt;

&lt;p&gt;Aside from that, there seems to be another issue with Atm, we have seen it already and we know how to fix it (hopefully, the cause is the same). I&apos;ll try to address it shortly, thanks a lot for the test case. &lt;/p&gt;</comment>
                            <comment id="16196394" author="johndament" created="Mon, 9 Oct 2017 00:43:45 +0000"  >&lt;p&gt;Ah ok, I see.  That actually explains why I sometimes see it in SE as well.  See my prior note about &lt;tt&gt;bean-discovery-mode&lt;/tt&gt;.  Note that this isn&apos;t an issue &lt;tt&gt;cxf-integration-cdi&lt;/tt&gt; since it has a CDI extension in it, that always enables CDI scanning in that JAR.&lt;/p&gt;

&lt;p&gt;I would actually recommend using &lt;tt&gt;annotated&lt;/tt&gt; discovery and adding bean defining annotations to the relevant classes.  Thoughts?&lt;/p&gt;</comment>
                            <comment id="16196395" author="reta" created="Mon, 9 Oct 2017 00:47:01 +0000"  >&lt;p&gt;Sure, something like that (`cxf-integration-cdi/src/main/resources/META-INF/beans.xml`):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;beans xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; 
&lt;/span&gt;	xsi:schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;&lt;/span&gt;
&lt;/span&gt;	bean-discovery-mode=&lt;span class=&quot;code-quote&quot;&gt;&quot;annotated&quot;&lt;/span&gt;&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16196402" author="johndament" created="Mon, 9 Oct 2017 01:01:10 +0000"  >&lt;p&gt;I was thinking a little more comprehensive patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/SseFeature.java b/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/SseFeature.java
index 36ea9ed..9193426 100644
--- a/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/SseFeature.java
+++ b/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/SseFeature.java
@@ -30,7 +30,10 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.feature.AbstractFeature;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.jaxrs.provider.ServerProviderFactory;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.jaxrs.sse.atmosphere.SseAtmosphereEventSinkContextProvider;
 
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.enterprise.context.Dependent;
+
 @Provider(value = Type.Feature, scope = Scope.Server)
+@Dependent
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SseFeature &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractFeature {
     @Override
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void initialize(Server server, Bus bus) {
diff --git a/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/cdi/SseTransportCustomizationExtension.java b/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/cdi/SseTransportCustomizationExtension.java
index 68af13c..66cb166 100644
--- a/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/cdi/SseTransportCustomizationExtension.java
+++ b/rt/rs/sse/src/main/java/org/apache/cxf/jaxrs/sse/cdi/SseTransportCustomizationExtension.java
@@ -22,6 +22,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.cdi.extension.JAXRSServerFactoryCustomizationExtension;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.jaxrs.JAXRSServerFactoryBean;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.transport.sse.SseHttpTransportFactory;
 
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.enterprise.context.Dependent;
+
+@Dependent
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SseTransportCustomizationExtension &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; JAXRSServerFactoryCustomizationExtension {
     @Override
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void customize(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JAXRSServerFactoryBean bean) {
diff --git a/rt/rs/sse/src/main/resources/META-INF/beans.xml b/rt/rs/sse/src/main/resources/META-INF/beans.xml
index 8d1007d..6b50728 100644
--- a/rt/rs/sse/src/main/resources/META-INF/beans.xml
+++ b/rt/rs/sse/src/main/resources/META-INF/beans.xml
@@ -1,5 +1,6 @@
 &amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;?&amp;gt;
 &amp;lt;beans xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;
&lt;/span&gt;-       xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; 
&lt;/span&gt;-       xsi:schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;+   xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
&lt;/span&gt;+   xsi:schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;&lt;/span&gt;
&lt;/span&gt;+    bean-discovery-mode=&lt;span class=&quot;code-quote&quot;&gt;&quot;annotated&quot;&lt;/span&gt;&amp;gt;
 &amp;lt;/beans&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also RE the transport customization, I&apos;m not sure that fixes it consistently.  I do add this servlet param, which I was told on list sets it as well&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(enableSseTransport) {
            params.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WebParam(CXFNonSpringJaxrsServlet.TRANSPORT_ID, SseHttpTransportFactory.TRANSPORT_ID));
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16197221" author="reta" created="Mon, 9 Oct 2017 16:20:19 +0000"  >&lt;p&gt;That&apos;s right, we need the transport to be passed to CXF servlet as well. The CXF/CDI should generally stay transparent (all based on extensions), but not the servlet part. So this code is correct:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
params.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WebParam(CXFNonSpringJaxrsServlet.TRANSPORT_ID, SseHttpTransportFactory.TRANSPORT_ID));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I gave your suggestion a second thought and decided to opt-out from explicit CDI annotations (falling to bean-discovery-mode=&quot;all&quot;). The reason is that CXF is not really bound to CDI but if we explicitly add the `@Dependent` annontation to `SseFeature`, we would make this dependency unavoidable. It definitely applies well to `SseTransportCustomizationExtension`, but with  `bean-discovery-mode=&quot;all&quot;` we should be all set, right? Another option would be to move `SseTransportCustomizationExtension` to separate module for SSE+CDI integration, but it looks like a bit over kill. Sounds reasonable?&lt;/p&gt;

&lt;p&gt;There is one issue with your test case (CXFSseTest), the Thread.sleep() must be inside try-with-resources block, otherwise the SseEventSource  is closed before having a chance to consume any events. &lt;/p&gt;

&lt;p&gt;Could you please try it out with latest 3.2.1-SNAPSHOT (should be published in a few hours)? Just committed a couple of fixes, the test is green with all the fixes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16200274" author="sergey_beryozkin" created="Wed, 11 Oct 2017 13:32:26 +0000"  >&lt;p&gt;Hi Andriy, the actual SSEFeature, can it be auto-discovered in the CDI case so that it&apos;s not manually created ? I added a CXF Provider annotation to it&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="16200291" author="reta" created="Wed, 11 Oct 2017 13:48:20 +0000"  >&lt;p&gt;Hi Sergey, &lt;/p&gt;

&lt;p&gt;The discovery is controlled by `bean-discovery-mode` property, which right now is set to `all`, so the SseFeature and companion classes should be discovered (and they are). Another option, suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt;, is to use `annotated` which means we should add CDI annotations (like `@Dependable`) in order for classes to be discovered. Thanks.&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="16200312" author="sergey_beryozkin" created="Wed, 11 Oct 2017 13:53:44 +0000"  >&lt;p&gt;Hi Andriy, and John, - if it&apos;s is already discoverable then I guess there&apos;s no need to add another annotations to it, as indeed, it is expected to work without CDI as well...&lt;br/&gt;
thanks &lt;/p&gt;</comment>
                            <comment id="16200326" author="johndament" created="Wed, 11 Oct 2017 14:03:10 +0000"  >&lt;p&gt;Technically the discovery in this way will only work in some deployment scenarios (e.g. WARs).  I&apos;m using Java SE/CDI SE, so the present beans.xml would never be valid.&lt;/p&gt;</comment>
                            <comment id="16200331" author="sergey_beryozkin" created="Wed, 11 Oct 2017 14:05:32 +0000"  >&lt;p&gt;Right, but the actual SSEFeature should remain neutral.&lt;/p&gt;</comment>
                            <comment id="16200337" author="johndament" created="Wed, 11 Oct 2017 14:08:34 +0000"  >&lt;p&gt;Ah, nevermind.  I see you already pushed up the change to add &lt;tt&gt;bean-discovery-mode&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16200515" author="reta" created="Wed, 11 Oct 2017 16:00:55 +0000"  >&lt;p&gt;Thant&apos;s right, the SseFeature should remain neutral, and &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bean-discovery-mode&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is there. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt; could you please check out if 3.2.1-SNAPSHOT works for you? The test is green for me after all the changes.&lt;/p&gt;</comment>
                            <comment id="16206874" author="johndament" created="Tue, 17 Oct 2017 01:10:40 +0000"  >&lt;p&gt;I made the changes noted here (mostly just adding &lt;tt&gt;SseTransportCustomizationExtension&lt;/tt&gt; as a bean to the JAR.  Unfortunately I still see the atmosphere bootstrap issue.&lt;/p&gt;</comment>
                            <comment id="16206878" author="reta" created="Tue, 17 Oct 2017 01:16:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt; Are you running against 3.2.1-SNAPSHOT? Did you move the Thread.sleep() inside try-with-resources block? Are your changes committed so I can pull the from hammock repo?&lt;/p&gt;</comment>
                            <comment id="16206883" author="johndament" created="Tue, 17 Oct 2017 01:30:02 +0000"  >&lt;p&gt;I figured it out, was something stupid on my part.  I ended up getting it working with 3.2.0 by running with the extension being registered.&lt;/p&gt;

&lt;p&gt;One other note, in &lt;a href=&quot;https://github.com/apache/cxf/blob/master/integration/cdi/src/main/java/org/apache/cxf/cdi/JAXRSCdiResourceExtension.java#L361-L364&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/master/integration/cdi/src/main/java/org/apache/cxf/cdi/JAXRSCdiResourceExtension.java#L361-L364&lt;/a&gt; there&apos;s a bug.  You&apos;re using `getBeanClass()` which isn&apos;t the class if you&apos;re using a producer method/field.  You&apos;re better off using the value `JAXRSServerFactoryCustomizationExtension.class` instead.&lt;/p&gt;

&lt;p&gt;If you want I can raise a PR for that.&lt;/p&gt;</comment>
                            <comment id="16206891" author="reta" created="Tue, 17 Oct 2017 01:36:22 +0000"  >&lt;p&gt;Will do, thanks a lot for spotting that. I will fix it first thing tomorrow, if you have time for the PR, it would be very welcomed! So SSE rocks? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16208234" author="reta" created="Tue, 17 Oct 2017 19:55:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johndament&quot; class=&quot;user-hover&quot; rel=&quot;johndament&quot;&gt;johndament&lt;/a&gt; Fixed the issue you have mentioned, thanks again, are we good to resolve this one? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16208642" author="johndament" created="Wed, 18 Oct 2017 00:24:17 +0000"  >&lt;p&gt;Sounds good to me.  Looks good, hopefully 3.2.1 comes soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3k9uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>