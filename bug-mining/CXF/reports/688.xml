<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:43:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3035] Missing Cookies Due to org.apache.cxf.jaxrs.client.AbstractClient#setResponseBuilder(HttpURLConnection, Exchange) line 341</title>
                <link>https://issues.apache.org/jira/browse/CXF-3035</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If you try wget -S www.walmart.com you can see that our tomcat server returns a header which contains &quot;Set-Cookie:&quot; multiple times:&lt;/p&gt;

&lt;p&gt;jfk@preding:/tmp$ wget -S www.walmart.com&lt;br/&gt;
-&lt;del&gt;2010-10-04 16:44:22&lt;/del&gt;-  &lt;a href=&quot;http://www.walmart.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.walmart.com/&lt;/a&gt;&lt;br/&gt;
Resolving www.walmart.com... 161.170.244.20&lt;br/&gt;
Connecting to www.walmart.com|161.170.244.20|:80... connected.&lt;br/&gt;
HTTP request sent, awaiting response... &lt;br/&gt;
  HTTP/1.1 200 OK&lt;br/&gt;
  Date: Mon, 04 Oct 2010 23:44:22 GMT&lt;br/&gt;
  Server: Apache/2.2.15&lt;br/&gt;
  Via: HTTP/1.0 nw106 (nw106_6799663104_56977920)&lt;br/&gt;
  Set-Cookie: cef.env=PROD; Domain=.walmart.com; Path=/&lt;br/&gt;
  Set-Cookie: com.wm.visitor=10789493347; Domain=.walmart.com; Expires=Thu, 01-Oct-2020 23:44:22 GMT; Path=/&lt;br/&gt;
  Set-Cookie: spcf.backup=&quot;|com.wm.visitor:10789493347|&quot;; Version=1; Domain=.walmart.com; Path=/&lt;br/&gt;
  Set-Cookie: com.wm.anoncart=107894933471602436; Domain=.walmart.com; Expires=Thu, 01-Oct-2020 23:44:22 GMT; Path=/&lt;br/&gt;
  Set-Cookie: spcf.backup=&quot;|com.wm.anoncart:107894933471602436|:|com.wm.visitor:10789493347|&quot;; Version=1; Domain=.walmart.com; Path=/&lt;br/&gt;
  Set-Cookie: WMSessionID=0000000456ff25583fcc12af37682dc03fb73f1623a00e60_1286235862759_SSL206_10-15-43-137_1286235862759_10.9_N_; Domain=.walmart.com; Path=/&lt;br/&gt;
  Set-Cookie: cef.env=PROD+B+&lt;ins&gt;H&lt;/ins&gt;&lt;ins&gt;D&lt;/ins&gt;&lt;ins&gt;Y&lt;/ins&gt;%3Fcat%3D3891+C+; Domain=.walmart.com; Path=/&lt;br/&gt;
  Set-Cookie: com.wm.reflector=&quot;reflectorid:0000000000000000000000@lastupd:1286235862786@firstcreate:1286235862786&quot;; Version=1; Domain=.walmart.com; Path=/&lt;br/&gt;
  Cache-Control: private&lt;br/&gt;
  Cache-Control: max-age=900&lt;br/&gt;
  Last-Modified: Mon, 04 Oct 2010 23:44:22 GMT&lt;br/&gt;
  Expires: Mon, 04 Oct 2010 23:44:22 GMT&lt;br/&gt;
  Set-Cookie: prefses=NAVPATH~10DcurrentDS0A0|1A0; Domain=.walmart.com; Path=/&lt;br/&gt;
  Vary: Accept-Encoding&lt;br/&gt;
  Connection: close&lt;br/&gt;
  Content-Type: text/html;ISO-8859-1;charset=ISO-8859-1&lt;br/&gt;
  Set-Cookie: NSC_xxx.xbmnbsu.dpn-mc=445c13ab3660;path=/&lt;br/&gt;
Length: unspecified &lt;span class=&quot;error&quot;&gt;&amp;#91;text/html&amp;#93;&lt;/span&gt;&lt;br/&gt;
Saving to: `index.html&apos;&lt;/p&gt;

&lt;p&gt;    [   &amp;lt;=&amp;gt;                                                                                                                                 ] 83,335       132K/s   in 0.6s    &lt;/p&gt;

&lt;p&gt;2010-10-04 16:44:23 (132 KB/s) - `index.html&apos; saved &lt;span class=&quot;error&quot;&gt;&amp;#91;83335&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately, everything but the first &quot;Set-Cookie&quot; is stripped by line 341 in org.apache.cxf.jaxrs.client.AbstractClient#setResponseBuilder(HttpURLConnection, Exchange)&lt;/p&gt;

&lt;p&gt;Instead of the current code, which only uses the first value returned by getValue(), it would be great if the next version could iterate through every item in the list.&lt;/p&gt;</description>
                <environment>&lt;p&gt;any&lt;/p&gt;</environment>
        <key id="12475825">CXF-3035</key>
            <summary>Missing Cookies Due to org.apache.cxf.jaxrs.client.AbstractClient#setResponseBuilder(HttpURLConnection, Exchange) line 341</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="jolira">Joachim F. Kainz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Oct 2010 23:48:12 +0000</created>
                <updated>Mon, 11 Oct 2010 14:46:22 +0000</updated>
                            <resolved>Tue, 5 Oct 2010 22:51:46 +0000</resolved>
                                    <version>2.2.10</version>
                                    <fixVersion>2.3</fixVersion>
                    <fixVersion>2.2.11</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12917992" author="jolira" created="Tue, 5 Oct 2010 14:28:17 +0000"  >&lt;p&gt;A patch for the issue. Please apply!&lt;/p&gt;</comment>
                            <comment id="12918086" author="sergey_beryozkin" created="Tue, 5 Oct 2010 17:44:18 +0000"  >&lt;p&gt;thanks for the pointer to where the problem is - will get it fixed this evening&lt;/p&gt;</comment>
                            <comment id="12918105" author="jolira" created="Tue, 5 Oct 2010 18:29:00 +0000"  >&lt;p&gt;Sorry, my first patch only fixes the problem half-way. Here is a better version. This version no longer relies on .split(&quot;,&quot;), which breaks for &quot;Set-Cookie&quot;. I hope you can use this one.&lt;/p&gt;</comment>
                            <comment id="12918242" author="sergey_beryozkin" created="Tue, 5 Oct 2010 21:54:58 +0000"  >&lt;p&gt;Hi - thanks for the 2nd patch.&lt;br/&gt;
I have a test checking for Allow which has the following format :&lt;br/&gt;
Allow: POST,GET&lt;/p&gt;

&lt;p&gt;So this change breaks the test expecting the list of 2 values in this example.&lt;/p&gt;

&lt;p&gt;Yeah I can see one of those cookies contains a comma in its Expires value;&lt;br/&gt;
JAXRS NewCookie does not even support that Expires thing...&lt;/p&gt;

&lt;p&gt;What I&apos;ll do is that I&apos;ll provide a workaround. i.e, I&apos;d explcitly check if it&apos;s a SetCookie and then set it as is, otherwise - continue splitting&lt;/p&gt;</comment>
                            <comment id="12918298" author="sergey_beryozkin" created="Tue, 5 Oct 2010 22:51:46 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;At the moment I ended up with an explicit check for Set-Cookie containing Expires field as it appears it is the only field which may contain embedded &quot;,&quot;.&lt;br/&gt;
Otherwise the split is done - this is because CXF server would actually return multiple Set-Cookies separated by &apos;,&apos;, example, &quot;a=b;c=d, a1=b1&quot;&lt;/p&gt;

&lt;p&gt;Hope this intermediate fix works for you&lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="12918334" author="jolira" created="Tue, 5 Oct 2010 23:55:16 +0000"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;Yes, this will work. Thank you for your help.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;Joachim&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456418" name="cxf-rt-frontend-jaxrs-2.2.10.1.patch" size="873" author="jolira" created="Tue, 5 Oct 2010 18:29:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13yf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231206</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>