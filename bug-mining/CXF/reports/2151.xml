<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:08:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5575] Extra slash (&apos;/&apos;) is prefixed to redirect URL in &quot;redirects-list&quot;</title>
                <link>https://issues.apache.org/jira/browse/CXF-5575</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Using jetty 9.1.2 and latest CXF SNAPSHOT.&lt;/p&gt;

&lt;p&gt;Exception is thrown if trying to load i.e. &quot;index.jsp&quot;:&lt;/p&gt;

&lt;p&gt;javax.servlet.ServletException: RequestDispatcher for path /index.jsp has failed&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.redirect(AbstractHTTPServlet.java:364) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-rt-transports-http-3.0.0-SNAPSHOT.jar:3.0.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:274) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-rt-transports-http-3.0.0-SNAPSHOT.jar:3.0.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:211) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-rt-transports-http-3.0.0-SNAPSHOT.jar:3.0.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;javax.servlet-api-3.1.0.jar:3.1.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-rt-transports-http-3.0.0-SNAPSHOT.jar:3.0.0.SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:717) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1644) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.qos.logback.classic.selector.servlet.LoggerContextFilter.doFilter(LoggerContextFilter.java:70) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;logback-classic-1.1.1.jar:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1615) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:568) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-security-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1112) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:479) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1046) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:459) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:281) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:232) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.io.AbstractConnection$1.run(AbstractConnection.java:505) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-util-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536) &lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-util-9.1.2.v20140210.jar:9.1.2.v20140210&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.7.0_51&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I have done some debugging and looks like CXF is adding extra &apos;/&apos; to the beginning of redirect URL. That makes jetty jsp servlet return error that //index.jsp is not found.&lt;/p&gt;

&lt;p&gt;Servlet configuration:&lt;/p&gt;

&lt;p&gt;&amp;lt;servlet&amp;gt;&lt;br/&gt;
    &amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;&lt;br/&gt;
    &amp;lt;servlet-class&amp;gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&amp;lt;/servlet-class&amp;gt;&lt;br/&gt;
    &amp;lt;init-param&amp;gt;&lt;br/&gt;
        &amp;lt;param-name&amp;gt;javax.ws.rs.Application&amp;lt;/param-name&amp;gt;&lt;br/&gt;
        &amp;lt;param-value&amp;gt;net.aurius.guestlist.GuestListApplicationConfig&amp;lt;/param-value&amp;gt;&lt;br/&gt;
    &amp;lt;/init-param&amp;gt;&lt;br/&gt;
    &amp;lt;init-param&amp;gt;&lt;br/&gt;
        &amp;lt;param-name&amp;gt;redirects-list&amp;lt;/param-name&amp;gt;&lt;br/&gt;
        &amp;lt;param-value&amp;gt;/(\w)+.jsp&amp;lt;/param-value&amp;gt;&lt;br/&gt;
    &amp;lt;/init-param&amp;gt;&lt;br/&gt;
    &amp;lt;init-param&amp;gt;&lt;br/&gt;
        &amp;lt;param-name&amp;gt;redirect-servlet-name&amp;lt;/param-name&amp;gt;&lt;br/&gt;
        &amp;lt;param-value&amp;gt;jsp&amp;lt;/param-value&amp;gt;&lt;br/&gt;
    &amp;lt;/init-param&amp;gt;&lt;br/&gt;
    &amp;lt;init-param&amp;gt;&lt;br/&gt;
        &amp;lt;param-name&amp;gt;redirect-attributes&amp;lt;/param-name&amp;gt;&lt;br/&gt;
        &amp;lt;param-value&amp;gt;javax.servlet.include.request_uri&amp;lt;/param-value&amp;gt;&lt;br/&gt;
    &amp;lt;/init-param&amp;gt;&lt;br/&gt;
    &amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;&lt;br/&gt;
&amp;lt;/servlet&amp;gt;&lt;br/&gt;
&amp;lt;servlet-mapping&amp;gt;&lt;br/&gt;
    &amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;&lt;br/&gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
&amp;lt;/servlet-mapping&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;jetty 9.1.2&lt;/p&gt;</environment>
        <key id="12696737">CXF-5575</key>
            <summary>Extra slash (&apos;/&apos;) is prefixed to redirect URL in &quot;redirects-list&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="aurius">Aurius Bendikas</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Feb 2014 17:20:25 +0000</created>
                <updated>Fri, 11 Jul 2014 12:51:11 +0000</updated>
                            <resolved>Wed, 26 Feb 2014 23:00:54 +0000</resolved>
                                    <version>3.0.0-milestone2</version>
                                    <fixVersion>3.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13910271" author="sergey_beryozkin" created="Mon, 24 Feb 2014 13:08:07 +0000"  >&lt;p&gt;Hi, where do you see the extra &quot;/&quot; being added ?&lt;/p&gt;

&lt;p&gt;Is it in the private HttpServletRequestFilter#getRequestURI ? &lt;/p&gt;

&lt;p&gt;or in AbstsractHttpServlet.redirect(), when we have&lt;/p&gt;

&lt;p&gt;sc.getRequestDispatcher(theServletPath + pathInfo); ?&lt;/p&gt;

&lt;p&gt;And which value actually introduces this extra &quot;/&quot; ? I can&apos;t really debug for now as we have the tests and the demos where the redirection is used and so far I have not had to deal with the duplicate forward slash issue. &lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="13910319" author="sergey_beryozkin" created="Mon, 24 Feb 2014 13:59:44 +0000"  >&lt;p&gt;I&apos;ve just added the code replacing the possible slash duplicates in those code blocks. Give the snapshots a try please&lt;/p&gt;</comment>
                            <comment id="13910765" author="aurius" created="Mon, 24 Feb 2014 20:17:50 +0000"  >&lt;p&gt;I have now spent more time and got better grip of the problem. The issue is in org.apache.cxf.transport.servlet.AbstractHTTPServlet$HttpServletRequestFilter.getServletPath() impelemtation. According to Servet API documentation &quot;This method will return an empty string (&quot;&quot;) if the servlet used to process this request was matched using the &quot;/*&quot; pattern.&quot;. But in this case it returns &quot;/&quot;, and this causes the issue.&lt;/p&gt;</comment>
                            <comment id="13911714" author="sergey_beryozkin" created="Tue, 25 Feb 2014 16:52:42 +0000"  >&lt;p&gt;I&apos;ve added a dedicated test, the configuration is nearly identical:&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/a5cd5a25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/a5cd5a25&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All works. I wonder if is it to do with Jetty 9 being too sensitive, not really sure. &lt;/p&gt;

&lt;p&gt;Can you please create a simple Maven-based test project ?&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;
</comment>
                            <comment id="13911736" author="sergey_beryozkin" created="Tue, 25 Feb 2014 17:13:32 +0000"  >&lt;p&gt;I&apos;ve just rebuilt the studio to reference the latest Jetty 9, the test also passes.&lt;br/&gt;
Basically, I&apos;m interested in tracing the issue but I need to have a test case, otherwise I&apos;ll need to close it as Can&apos;t Reproduce.&lt;/p&gt;

&lt;p&gt;By the way, have you tried with the latest changes ?&lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;</comment>
                            <comment id="13912119" author="aurius" created="Tue, 25 Feb 2014 21:51:42 +0000"  >&lt;p&gt;Here goes mini maven project to reproduce the issue. Just run &quot;mvn compile jetty:start&quot; and navigate to &quot;http://localhost:8080/index.jsp&quot;. Theoretically when this will be fixed the url &quot;http://localhost:8080/host&quot; should also work.&lt;/p&gt;</comment>
                            <comment id="13912961" author="sergey_beryozkin" created="Wed, 26 Feb 2014 14:33:59 +0000"  >&lt;p&gt;This is what I see when I deploy it into Tomcat 6 with &quot;test-web-project&quot; context.&lt;/p&gt;

&lt;p&gt;Jetty 9 is a bit sensitive, not sure why yet&lt;/p&gt;</comment>
                            <comment id="13912999" author="sergey_beryozkin" created="Wed, 26 Feb 2014 15:12:08 +0000"  >&lt;p&gt;jetty plugin seems to be broken. When I deploy to Tomcat and do&lt;/p&gt;

&lt;p&gt;GET &lt;a href=&quot;http://localhost:8080/test-web-project/services&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/services&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the page is returned confirming the endpoint address is &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8080/test-web-project&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When I deploy it with the Jetty plugin (and with configuration/webApp or configuration/webAppConfig set to &quot;/test-web-project&quot; ) the server does recognize&lt;/p&gt;

&lt;p&gt;GET &lt;a href=&quot;http://localhost:8080/test-web-project/services&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/services&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but returns the page which says&lt;/p&gt;

&lt;p&gt;the page is returned confirming the endpoint address is &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8080/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which is wrong.&lt;/p&gt;

&lt;p&gt;Any idea how to configure the jetty plugin to support a custom context correctly ?&lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;
</comment>
                            <comment id="13913209" author="sergey_beryozkin" created="Wed, 26 Feb 2014 17:39:40 +0000"  >&lt;p&gt;Never mind, this is not a blocker per se. We are talking about the edge case here where a default context is used; FYI, localhost:8080/host is not even found by Jetty.&lt;/p&gt;

&lt;p&gt;If you remove &quot;redirect-attributes&quot; parameter (may only be needed to handle welcome pages), and replace it with the empty redirect-servlet-path parameter, then localhost:8080/index.jsp works.&lt;/p&gt;

&lt;p&gt;I&apos;ll think a bit more if it even makes sense to update the code...&lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;
</comment>
                            <comment id="13913581" author="aurius" created="Wed, 26 Feb 2014 22:02:07 +0000"  >&lt;p&gt;We are getting a little bit sidetracked here. So I would like to bring us back to solving the main issue:&lt;/p&gt;

&lt;p&gt;The javadoc of on getServletPath() in javax.servlet.http.HttpServletRequestWrapper (actually on javax.servlet.http.HttpServletRequest since &quot;wraper&quot; extends it) states: &quot;a String containing the name or path of the servlet being called, as specified in the request URL, decoded, or an empty string if the servlet used to process the request is matched using the &quot;/*&quot; pattern.&quot;&lt;/p&gt;

&lt;p&gt;In the example I have sent you the servlet is mapped to the &quot;/*&quot; patternd=, but the org.apache.cxf.transport.servlet.AbstractHTTPServlet.HttpServletRequestFilter getServletPath() returns &quot;/&quot; instead of empty string.&lt;/p&gt;

&lt;p&gt;So this problem is simply caused by not conforming to servelt API specification.&lt;/p&gt;

&lt;p&gt;On the other hand I have attached the new pom.xml file witch maps the test-web-project to context &quot;/test-web-project&quot;. And after running &quot;http://localhost:8080/test-web-project/services&quot; I have got this output:&lt;/p&gt;

&lt;p&gt;Available RESTful services:&lt;br/&gt;
Endpoint address: &lt;a href=&quot;http://localhost:8080/test-web-project/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/&lt;/a&gt;&lt;br/&gt;
WADL : &lt;a href=&quot;http://localhost:8080/test-web-project/?_wadl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/?_wadl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Therefore &quot;http://localhost:8080/test-web-project/index.jsp&quot; is still failing.&lt;/p&gt;

&lt;p&gt;Also my original use-case is not about displaying welcome pages. I am developing a use case where I have a rest service /host/{id) and if you query it with the browser it will return html response, otherwise it will be JSON. I have encountered this problem while the CXF was trying to redirect to .jsp file to render html output. Then I just tried to render jsp directly and got the same problem. The simplification of this use-case is implemented in the test example.&lt;/p&gt;

&lt;p&gt;There is also a chance that I am miss-configuring something since this is the first time I use CXF &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13913626" author="sergey_beryozkin" created="Wed, 26 Feb 2014 22:30:01 +0000"  >&lt;p&gt;We are not getting side-tracked but doing a proper investigation of why the extra &quot;/&quot; causes the advanced container which Jetty 9 is fail the redirect. &lt;/p&gt;

&lt;p&gt;Your original test case is somewhat unrealistic, the default context is used, this fact and the fact that Tomcat test and numerous Jetty tests in CXF just work led me to believe this is a very isolated/edge issue specific to Jetty. I have also offered you a reasonable workaround, to do with using a redirect-servlet-path parameter.&lt;/p&gt;

&lt;p&gt;FYI, the servlet path of the original request has nothing to do with forming the redirect path. You may have a servlet listening on &quot;/bar/*&quot; but want a default or JSP servlet take care of the redirect. The documentation is for the end users of the Servlet API so I&apos;m surprised the Jetty RequestDispatcher implementation is so sensitive. The other point is that replacing &quot;/&quot; with &quot;&quot; breaks CXF tests where a path info is null. &lt;/p&gt;

&lt;p&gt;So on one hand, giving the sensitivity of the fix and the fact a good enough workaround exists I&apos;m not really willing to change anything in CXF. On the other hand, because you have just confirmed Jetty 9 chokes on this &quot;/&quot; even with the proper context, I&apos;m thinking may be I just should do a minor fix and be done, in the end of the day using &apos;redirect-servlet-path&apos; is not there to hide some internal redirect issues but actually facilitate the redirection to some other servlets listening on some custom patterns.&lt;/p&gt;

&lt;p&gt;We may be able to use &quot;&quot; if it is set to &quot;/&quot; by default and not set via the redirect-servlet-path, and pathInfo is not null. &lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;

</comment>
                            <comment id="13913673" author="sergey_beryozkin" created="Wed, 26 Feb 2014 22:58:41 +0000"  >&lt;p&gt;Right, I&apos;m seeing a different 404 response with your pom.xml, using redirect-servlet-path still works.&lt;br/&gt;
So, I&apos;m going ahead with a minor fix, going to limit to 3.0.0-SNAPSHOT for now. OK ?&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="13913679" author="sergey_beryozkin" created="Wed, 26 Feb 2014 23:00:54 +0000"  >&lt;p&gt;Resolving on the trunk only for now&lt;/p&gt;</comment>
                            <comment id="13913681" author="sergey_beryozkin" created="Wed, 26 Feb 2014 23:02:03 +0000"  >&lt;p&gt; Aurius, please update the snapshots (you may need to rebuild locally), &apos;mvn install -Pfastinstall&apos; and let me know if it all works for you&lt;/p&gt;

&lt;p&gt;Thanks for your input&lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="13914157" author="aurius" created="Thu, 27 Feb 2014 07:21:30 +0000"  >&lt;p&gt;Upgraded to the latest snapshot and recompiled.&lt;/p&gt;

&lt;p&gt;After adding to web.xml:&lt;br/&gt;
        &amp;lt;init-param&amp;gt;&lt;br/&gt;
            &amp;lt;param-name&amp;gt;redirect-servlet-path&amp;lt;/param-name&amp;gt;&lt;br/&gt;
            &amp;lt;param-value&amp;gt;&amp;lt;/param-value&amp;gt;&lt;br/&gt;
        &amp;lt;/init-param&amp;gt;&lt;br/&gt;
then &lt;a href=&quot;http://localhost:8080/test-web-project/index.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/index.jsp&lt;/a&gt; worked perfectly. But the &lt;a href=&quot;http://localhost:8080/test-web-project/host&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/test-web-project/host&lt;/a&gt; failed.&lt;/p&gt;

&lt;p&gt;Then I modified RequestDispatcherProvider in TestApplicationConfig.java, by setting &apos;requestDispatcherProvider.setServletPath(&quot;&quot;);&apos; and now everything works fine.&lt;/p&gt;

&lt;p&gt;I am very thankful for the support.&lt;/p&gt;

&lt;p&gt;I also see that you have provided a solution already yesterday by instructing to empty the &quot;redirect-servlet-path&quot;, I am sorry to I misunderstand your post back then. And thank you again for support.&lt;/p&gt;</comment>
                            <comment id="13914485" author="sergey_beryozkin" created="Thu, 27 Feb 2014 13:21:40 +0000"  >&lt;p&gt;Hi, np, it is important that we deal correctly with the various subtle redirection issues.&lt;br/&gt;
By the way, I&apos;ve just committed a similar update to RequestDispatcherProvider, and&lt;br/&gt;
now test-web-project/host returns a &quot;Yo&quot; greeting generated by the index.jsp. &lt;br/&gt;
At the servlet level only a redirect path to index.jsp is set. &lt;br/&gt;
So all works now with Jetty9.&lt;/p&gt;

&lt;p&gt;As a side note, most of this redirection support will be utilized for supporting the future JAX-RS MVC feature.&lt;/p&gt;

&lt;p&gt;Cheers, Sergey &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12631235" name="InsertTitleHere.png" size="23380" author="sergey_beryozkin" created="Wed, 26 Feb 2014 14:33:59 +0000"/>
                            <attachment id="12631361" name="pom.xml" size="5227" author="aurius" created="Wed, 26 Feb 2014 22:02:07 +0000"/>
                            <attachment id="12631058" name="test-project.zip" size="3479" author="aurius" created="Tue, 25 Feb 2014 21:51:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1snpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>