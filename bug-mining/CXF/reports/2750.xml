<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:19:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6785] AbstractHTTPDestination should handle the case when pathInfo of HttpServletRequest is null </title>
                <link>https://issues.apache.org/jira/browse/CXF-6785</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description></description>
                <environment></environment>
        <key id="12940080">CXF-6785</key>
            <summary>AbstractHTTPDestination should handle the case when pathInfo of HttpServletRequest is null </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="ffang">Freeman Yue Fang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Feb 2016 07:17:40 +0000</created>
                <updated>Fri, 14 Oct 2016 14:20:27 +0000</updated>
                            <resolved>Thu, 18 Feb 2016 07:24:41 +0000</resolved>
                                                    <fixVersion>3.1.6</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15151858" author="ffang" created="Thu, 18 Feb 2016 07:24:41 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/4fc5e7af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/4fc5e7af&lt;/a&gt; for master&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/a27f27bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/a27f27bc&lt;/a&gt; for 3.1.x-fixes branch&lt;/p&gt;</comment>
                            <comment id="15152052" author="sergey_beryozkin" created="Thu, 18 Feb 2016 09:59:45 +0000"  >&lt;p&gt;Hi Freeman&lt;/p&gt;

&lt;p&gt;What does &apos;requestUri&apos; return when pathInfo is null ?&lt;/p&gt;

&lt;p&gt;Are you sure that a servlet path is not lost ? As far as CXF is concerned, if we have &quot;/services/*&quot; servlet path then services is included. &lt;/p&gt;

&lt;p&gt;Cheers, Sergey &lt;/p&gt;</comment>
                            <comment id="15152198" author="ffang" created="Thu, 18 Feb 2016 11:45:19 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;This issue comes from when I&apos;m working on implementing cxf http-undertow transport.  Cxf http-undertow transport will start an embeded undertow server, just like what jetty do. In Camel there&apos;s already a camel-undertow component and in Karaf which use pax-web there&apos;s also an undertow OSGi http service implementation so I think it&apos;s should be good we also have a http-undertow transport in CXF. I&apos;m going to write a HEADUP to summarize what I did and append my code very soon to community(I still left few camel-cxf tests failure when run against the http-undertow transport ).&lt;/p&gt;

&lt;p&gt;So when I run all CXF system test with cxf http-undertow transport, I found this problem which cause ManualHttpMulitplexClientServerTest and MultiplexHttpAddressClientServerTest failure , I think it&apos;s  probably undertow implementation specific(getPathInfo is null but use getRequestUri instead just works) and never saw this with jetty.&lt;/p&gt;

&lt;p&gt;Anyway, this change let me pass system test with cxf http-undertow transport and won&apos;t break any existing jetty tests.&lt;/p&gt;

&lt;p&gt;Best Regards&lt;br/&gt;
Freeman&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="15152212" author="sergey_beryozkin" created="Thu, 18 Feb 2016 11:53:19 +0000"  >&lt;p&gt;Hi Freeman&lt;/p&gt;

&lt;p&gt;Thanks, I understand some HTTP stacks can return null and indeed it is documented in HttpServletRequest that returning null is possible, that is fine.&lt;/p&gt;

&lt;p&gt;But what does &apos;requestUri&apos; return if pathInfo is null ?&lt;br/&gt;
As I said, are you sure &apos;contextServletPath&apos; is not lost, i.e, should we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pathInfo != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
 	inMessage.put(Message.PATH_INFO, contextServletPath + pathInfo);
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
       inMessage.put(Message.PATH_INFO, contextServletPath); 
       &lt;span class=&quot;code-comment&quot;&gt;// instead of
&lt;/span&gt;       &lt;span class=&quot;code-comment&quot;&gt;// inMessage.put(Message.PATH_INFO, requestURI);
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="15152290" author="ffang" created="Thu, 18 Feb 2016 13:18:50 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;No, the contextServletPath isn&apos;t lost, the difference is that the getPathInfo is null for undertow.&lt;br/&gt;
For example, for the MultiplexHttpAddressClientServerTest.testWithGetPortExtensionHttp, I print out the values when run test against undertow and against jetty separately.&lt;/p&gt;

&lt;p&gt;For the undertow&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;the contextPath is /NumberService/NumberPort
the servletPath is 
the contextServletPath is /NumberService/NumberPort
the pathInfo is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
the requestURI is /NumberService/NumberPort/23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For the jetty&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;the contextPath is /NumberService/NumberPort
the servletPath is 
the contextServletPath is /NumberService/NumberPort
the pathInfo is /23
the requestURI is /NumberService/NumberPort/23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Freeman&lt;/p&gt;</comment>
                            <comment id="15152384" author="sergey_beryozkin" created="Thu, 18 Feb 2016 14:26:35 +0000"  >&lt;p&gt;Hi Freeman&lt;/p&gt;

&lt;p&gt;Ok, thanks, that seems to provide an equivalent substitution, &lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sznr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>