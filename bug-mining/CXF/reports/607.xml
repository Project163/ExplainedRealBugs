<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:42:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2829] W3CDOMStreamReader is not compatible with wstx XMLEventReader</title>
                <link>https://issues.apache.org/jira/browse/CXF-2829</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If you create an XMLEventReader from a W3CDOMStreamReader (with the woodstox library), it will fail because XMLEventAllocator doesnt accept Attribute XMLEvent :&lt;/p&gt;

&lt;p&gt;Caused by: com.ctc.wstx.exc.WstxException: Internal error: should not get &lt;span class=&quot;error&quot;&gt;&amp;#91;13&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.evt.DefaultEventAllocator.allocate(DefaultEventAllocator.java:256)&lt;br/&gt;
	at org.codehaus.stax2.ri.Stax2EventReaderImpl.createNextEvent(Stax2EventReaderImpl.java:411)&lt;br/&gt;
	at org.codehaus.stax2.ri.Stax2EventReaderImpl.nextEvent(Stax2EventReaderImpl.java:255)&lt;/p&gt;

&lt;p&gt;Here is the comment in wstx source code :&lt;/p&gt;

&lt;p&gt;------------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;------------&lt;br/&gt;
            /* Following 2 types should never get in here; they are directly&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;handled by the reader, and can only be accessed via start&lt;/li&gt;
	&lt;li&gt;element.&lt;br/&gt;
             */&lt;br/&gt;
        case NAMESPACE:&lt;br/&gt;
        case ATTRIBUTE:&lt;br/&gt;
            throw new WstxException(&quot;Internal error: should not get &quot;&lt;br/&gt;
                                    +ErrorConsts.tokenTypeDesc(r.getEventType()));&lt;br/&gt;
------------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;-----------&lt;del&gt;8&amp;lt;&lt;/del&gt;------------&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;To create a XMLStreamReader from a DOM Document or Node, i recommand to simply use XMLInputFactory.createStreamReader(source), where source is a DOMSource.&lt;/p&gt;

&lt;p&gt;I think it&apos;s better to rely on stax implementation to create a StreamReader from a DOM Node.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mule 2.2.6-snapshot in proxy mode, and WS-Security (wss4j)&lt;br/&gt;
WSTX 4.0.8&lt;/p&gt;</environment>
        <key id="12465553">CXF-2829</key>
            <summary>W3CDOMStreamReader is not compatible with wstx XMLEventReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="bugsan">sebastien chatel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 May 2010 12:42:32 +0000</created>
                <updated>Mon, 11 Oct 2010 14:52:39 +0000</updated>
                            <resolved>Thu, 27 May 2010 16:43:17 +0000</resolved>
                                    <version>2.2.8</version>
                                    <fixVersion>2.2.9</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12872236" author="dkulp" created="Thu, 27 May 2010 14:52:10 +0000"  >

&lt;p&gt;I think I see the issue.   Testing a fix now.   &lt;/p&gt;


&lt;p&gt;We cannot rely on the StreamReader created from  XMLInputFactory.createStreamReader(source) for a variety of reasons:&lt;/p&gt;

&lt;p&gt;1) For some optimizations that we do, we need direct access to the &quot;current&quot; node being read.   Without that, certain operations would be significantly slower.&lt;/p&gt;

&lt;p&gt;2) Not all the parsers implement everything we require in their &quot;DOM wrapping StreamReader&quot; things.   For example, woodstox doesn&apos;t implement the &quot;String getNamespaceURI(String prefix)&quot; method (always returns null) which is needed when processing qname types.    &lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dejj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>