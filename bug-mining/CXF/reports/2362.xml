<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:11:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5976] incompatible with javax.xml.bind.JAXBElement error when using List&lt;JAXBElement&lt;Book&gt;&gt;  as resource method param</title>
                <link>https://issues.apache.org/jira/browse/CXF-5976</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m migrating App to CXF3.0.1 from wink. There will be ClassCastException if I using JAXBElement List  (e.g. List&amp;lt;JAXBElement&amp;lt;Book&amp;gt;&amp;gt;) in the resource method.&lt;br/&gt;
e.g. &lt;br/&gt;
    @Path(&quot;booklistjaxbelement&quot;)&lt;br/&gt;
    @Produces(MediaType.APPLICATION_XML)&lt;br/&gt;
    @Consumes(MediaType.APPLICATION_XML)&lt;br/&gt;
    @POST&lt;br/&gt;
    public List&amp;lt;JAXBElement&amp;lt;Book&amp;gt;&amp;gt; echoJAXBElementBookList(List&amp;lt;JAXBElement&amp;lt;Book&amp;gt;&amp;gt; bookElements) {&lt;br/&gt;
        List&amp;lt;JAXBElement&amp;lt;Book&amp;gt;&amp;gt; ret = new ArrayList&amp;lt;JAXBElement&amp;lt;Book&amp;gt;&amp;gt;();&lt;br/&gt;
        Author author = null;&lt;br/&gt;
        Author retAuthor = null;&lt;br/&gt;
        Book retBook = null;&lt;br/&gt;
        for (JAXBElement&amp;lt;Book&amp;gt; bookElement : bookElements) &lt;/p&gt;
{
            author = bookElement.getValue().getAuthor();
            retAuthor = new Author();
            retAuthor.setFirstName(&quot;echo &quot; + author.getFirstName());
            retAuthor.setLastName(&quot;echo &quot; + author.getLastName());
            retBook = new Book();
            retBook.setAuthor(retAuthor);
            retBook.setTitle(&quot;echo &quot; + bookElement.getValue().getTitle());
            JAXBElement&amp;lt;Book&amp;gt; element = new JAXBElement&amp;lt;Book&amp;gt;(new QName(&quot;book&quot;), Book.class, retBook);
            ret.add(element);
        }
&lt;p&gt;        return ret;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;Book is an JAXB bean like this:&lt;br/&gt;
@XmlRootElement&lt;br/&gt;
public class Book {&lt;/p&gt;

&lt;p&gt;    private Author author;&lt;br/&gt;
    private String title;&lt;/p&gt;

&lt;p&gt;    public Author getAuthor() &lt;/p&gt;
{
        return author;
    }

&lt;p&gt;    public void setAuthor(Author author) &lt;/p&gt;
{
        this.author = author;
    }

&lt;p&gt;    public String getTitle() &lt;/p&gt;
{
        return title;
    }
&lt;p&gt;....&lt;br/&gt;
Test client is like this:&lt;/p&gt;

&lt;p&gt;   List&amp;lt;Book&amp;gt; source = getBookSource();&lt;br/&gt;
        Resource resource = client.resource(JAXB_BASE_URI + &quot;/booklistjaxbelement&quot;);&lt;br/&gt;
        ClientResponse response =&lt;br/&gt;
                        resource.accept(MediaType.APPLICATION_XML).contentType(MediaType.APPLICATION_XML)&lt;br/&gt;
                                        .post(new GenericEntity&amp;lt;List&amp;lt;Book&amp;gt;&amp;gt;(source) {&lt;br/&gt;
                                              });&lt;br/&gt;
        List&amp;lt;Book&amp;gt; responseEntity = response.getEntity(new EntityType&amp;lt;List&amp;lt;Book&amp;gt;&amp;gt;() {&lt;br/&gt;
                        });&lt;br/&gt;
-------------------&lt;br/&gt;
Debugged CXF code and find in AbstractInvoker. performInvocation, it will invoke the method.invoke. The value of paramArray here is Book ArrayList and caused this issue.&lt;br/&gt;
This scenario is working in wink, but doesn&apos;t work here...&lt;/p&gt;


&lt;p&gt;    protected Object performInvocation(Exchange exchange, final Object serviceObject, Method m,&lt;br/&gt;
                                       Object[] paramArray) throws Exception {&lt;br/&gt;
        paramArray = insertExchange(m, paramArray, exchange);&lt;br/&gt;
        if (LOG.isLoggable(Level.FINER)) {&lt;br/&gt;
            LOG.log(Level.FINER, &quot;INVOKING_METHOD&quot;, new Object[] &lt;/p&gt;
{serviceObject, 
                                                                  m,
                                                                  Arrays.asList(paramArray)}
&lt;p&gt;);&lt;br/&gt;
        }&lt;br/&gt;
        return m.invoke(serviceObject, paramArray);&lt;br/&gt;
    }&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12737356">CXF-5976</key>
            <summary>incompatible with javax.xml.bind.JAXBElement error when using List&lt;JAXBElement&lt;Book&gt;&gt;  as resource method param</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="beanoct">Bin Zhu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2014 11:05:33 +0000</created>
                <updated>Mon, 16 Feb 2015 16:09:42 +0000</updated>
                            <resolved>Mon, 1 Sep 2014 12:27:06 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.0.2</fixVersion>
                    <fixVersion>3.1</fixVersion>
                                    <component>JAX-RS</component>
                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14117372" author="sergey_beryozkin" created="Mon, 1 Sep 2014 12:26:38 +0000"  >&lt;p&gt;Hi, to be honest I think it is difficult to expect the interoperability in cases where explicit collections are used because every runtime may use its own mechanism to deal with reading/writing such collections. Not sure how it worked with Wink, but I did update some of CXF code for it to work, in a CXF to CXF calls at least. Give the snapshots a try please&lt;br/&gt;
Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="14117819" author="beanoct" created="Tue, 2 Sep 2014 01:27:35 +0000"  >&lt;p&gt;Thanks Sergey for the update. Is there a patch for this fix? Or how could I find the binaries which included this fix? Download the latest source code and build it locally?&lt;/p&gt;</comment>
                            <comment id="14118148" author="sergey_beryozkin" created="Tue, 2 Sep 2014 12:45:09 +0000"  >&lt;p&gt;Try 3.0.2-SNAPSHOT from a Maven snapshots repository &lt;br/&gt;
Cheers, Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zfov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>