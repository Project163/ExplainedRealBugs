<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:09:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4910] Bad handling of Schema imports (WSDLGetInterceptor)</title>
                <link>https://issues.apache.org/jira/browse/CXF-4910</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;While doing my experiments with completely dynamic service creation from WSDL only, I found suspicious code in WSDLGetInterceptor regarding schema cacheing. &lt;br/&gt;
A following example results in incorrect behavior:&lt;/p&gt;

&lt;p&gt;Namely:&lt;br/&gt;
WSDLGetUtils.updateSchemaImports() uses a map for caching processed schemata.&lt;br/&gt;
A service built from following path layout&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Wsdl.wsdl
z/Types.xsd
z/z/Types.xsd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Wsdl.wsld imports z/Types.xsd(NS: &lt;a href=&quot;http://example.com/NS1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://example.com/NS1&lt;/a&gt;) using relative path&lt;/li&gt;
	&lt;li&gt;z/Types.xsd imports z/Types.xsd(NS: &lt;a href=&quot;http://example.com/NS2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://example.com/NS2&lt;/a&gt;) using relative path (i.e. imports z/z/Types.xsd)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;results in incorrect serving of service definition when querying the endpoint.&lt;/p&gt;

&lt;p&gt;The link from wsdl to import points to &quot;?xsd=z/Types.xsd&quot;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:definitions &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsd&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsdl&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:tns&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/Service/&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soap&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Service&quot;&lt;/span&gt; targetNamespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/Service/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsdl:types&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xsd:schema &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsd&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsdl&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:tns&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/Service/&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:sty&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/StructTypes&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soap&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&lt;/span&gt; targetNamespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/Service/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xsd:import namespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/StructTypes&quot;&lt;/span&gt; schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://localhost:8080/Service?xsd=z/Types.xsd&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
[...SNIP...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The link from z/Types.xsd points again to itself &quot;?xsd=z/Types.xsd&quot; (same content is served).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xsd:schema &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsd&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:tns&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/StructTypes&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:bty&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/BaseTypes&quot;&lt;/span&gt; targetNamespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/StructTypes&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xsd:import namespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://example.com/BaseTypes&quot;&lt;/span&gt; schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://localhost:8080/Service?xsd=z/Types.xsd&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
[...SNIP...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is because the WSDLGetUtils cuts of the schemata processing on the first import because relative path is used as key identifier in the schema map.&lt;/p&gt;

&lt;p&gt;I suspect the same applies for the WSDL imports in WSDLGetUtils.updateDefinition() due to caching the definitions in the definition map.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12638237">CXF-4910</key>
            <summary>Bad handling of Schema imports (WSDLGetInterceptor)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ema">Jim Ma</assignee>
                                    <reporter username="erce">Rastislav Cesnek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Mar 2013 13:51:46 +0000</created>
                <updated>Wed, 6 May 2015 15:01:06 +0000</updated>
                            <resolved>Thu, 6 Mar 2014 13:54:38 +0000</resolved>
                                    <version>2.7.3</version>
                                    <fixVersion>2.7.11</fixVersion>
                    <fixVersion>2.6.14</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                    <component>Simple Frontend</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12827677">CXF-6392</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12771361">CXF-6234</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1izrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>