<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2499] (EffectivePolicyImpl/PolicyEngineImpl) Policy engine for ws security policy (based on wsdl attachment) fails to apply message level policies</title>
                <link>https://issues.apache.org/jira/browse/CXF-2499</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The problem is caused by the initialisePolicy method in the EffectivePolicyImpl.&lt;/p&gt;

&lt;p&gt;The original method decided which BindingMessageInfo is used based on the boolean requestor, which results in always using the OutputBindingMessage on server-side respective Input.- on the client side. To fix this I introduced a new parameter (boolean request) which is used for this decisions. The parameter has to be passed from different methods in the PolicyEngineImpl. Thus I also slightly changed the PolicyEngineImpl.  &lt;/p&gt;

&lt;p&gt;Since I don&apos;t want to rebuild the jar I extended both classed, reimplemented the necessary methods and registered them as policy engine in my cxf.xml.&lt;/p&gt;

&lt;p&gt;Thus I can&apos;t attach a patch, but I append the extended implementations.&lt;/p&gt;

&lt;p&gt;Greetings&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</description>
                <environment>&lt;p&gt;System:&lt;br/&gt;
2.6.28-15-generic #52-Ubuntu SMP Wed Sep 9 10:48:52 UTC 2009 x86_64 GNU/Linux&lt;/p&gt;

&lt;p&gt;Java:&lt;br/&gt;
java version &quot;1.6.0_16&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_16-b01)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode)&lt;/p&gt;

&lt;p&gt;Apache CXF 2.2.3 (not in version list)&lt;/p&gt;</environment>
        <key id="12439144">CXF-2499</key>
            <summary>(EffectivePolicyImpl/PolicyEngineImpl) Policy engine for ws security policy (based on wsdl attachment) fails to apply message level policies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="mellowsnow">Christian Connert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Oct 2009 08:33:03 +0000</created>
                <updated>Fri, 4 Dec 2009 22:34:08 +0000</updated>
                            <resolved>Fri, 30 Oct 2009 14:06:48 +0000</resolved>
                                                    <fixVersion>2.2.5</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12771537" author="mellowsnow" created="Thu, 29 Oct 2009 18:33:01 +0000"  >&lt;p&gt;Sorry but I found out that I had a one little bug in my fix:&lt;/p&gt;

&lt;p&gt;public EffectivePolicy getEffectiveClientResponsePolicy(EndpointInfo ei, BindingOperationInfo boi) {&lt;br/&gt;
        EffectivePolicy effectivePolicy = (EffectivePolicy)boi.getProperty(POLICY_INFO_RESPONSE_CLIENT);&lt;br/&gt;
        if (null == effectivePolicy) &lt;/p&gt;
{
            EffectivePolicyImpl epi = createOutPolicyInfo();
            epi.initialise(ei, boi, this, true, false);                                              //  previously epi.initialise(ei, boi, this, true, true);        
            boi.setProperty(POLICY_INFO_RESPONSE_CLIENT, epi);
            effectivePolicy = epi;
        }
&lt;p&gt;        return effectivePolicy;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423293" name="EffectivePolicyImpl.java" size="7034" author="mellowsnow" created="Tue, 27 Oct 2009 08:33:37 +0000"/>
                            <attachment id="12423295" name="Messages.properties" size="1316" author="mellowsnow" created="Tue, 27 Oct 2009 08:33:37 +0000"/>
                            <attachment id="12423294" name="PolicyEngineImpl.java" size="7834" author="mellowsnow" created="Tue, 27 Oct 2009 08:33:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>