<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:29:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7389] JAXRSUtils warning logs</title>
                <link>https://issues.apache.org/jira/browse/CXF-7389</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We&apos;re running a REST API service using CXF. We&apos;ve got a dashboard with all warning and error logs that we frequently use, and this dashboard includes 404&apos;s that clients get when communicating with our API. We do not log WARN or ERROR any other errors from the 400-series, because it&apos;s in theory the clients fault and we can&apos;t do anything about it. We have now decided that we want to stop logging WARN for these 404&apos;s.&lt;/p&gt;

&lt;p&gt;Our issue: We don&apos;t see any possible way to disable this log (or preferably change it to INFO). It&apos;s logged from a static class, JAXRSUtils, see this line:&lt;br/&gt;
&lt;a href=&quot;http://grepcode.com/file/repo1.maven.org/maven2/org.apache.cxf/cxf-bundle-jaxrs/2.7.6/org/apache/cxf/jaxrs/utils/JAXRSUtils.java#501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grepcode.com/file/repo1.maven.org/maven2/org.apache.cxf/cxf-bundle-jaxrs/2.7.6/org/apache/cxf/jaxrs/utils/JAXRSUtils.java#501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We could of course change the threshold to ERROR for this class, but I don&apos;t want to lose the other INFO and WARN logs.&lt;/p&gt;

&lt;p&gt;I understand that this warning is great for clients, but I don&apos;t see it being very useful for servers?&lt;/p&gt;

&lt;p&gt;Any tips or ideas about how we can disable this warning?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13076504">CXF-7389</key>
            <summary>JAXRSUtils warning logs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="anton-johansson">Anton Johansson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Jun 2017 12:21:40 +0000</created>
                <updated>Fri, 30 Aug 2024 11:39:10 +0000</updated>
                            <resolved>Thu, 31 Aug 2017 12:52:11 +0000</resolved>
                                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>3.1.15</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16032933" author="sergey_beryozkin" created="Thu, 1 Jun 2017 12:56:57 +0000"  >&lt;p&gt;I&apos;m not certain at all 404 does not deserve a WARN level at the server side - it can help indicate that a client is simply unaware that some old resource is no longer available in the upgraded server, so a WARN will help the admin to update the client or ask the server developers why exactly they did not support the old resource in the new server, or if 404 is thrown by the application code, or it can indicate some DOS attack.&lt;/p&gt;

&lt;p&gt;Though I can see some users might prefer to customize...&lt;/p&gt;
</comment>
                            <comment id="16032935" author="sergey_beryozkin" created="Thu, 1 Jun 2017 12:59:03 +0000"  >&lt;p&gt;At what level say Tomcat reports 404 in its logs without CXF even being involved ?&lt;/p&gt;</comment>
                            <comment id="16032990" author="anton-johansson" created="Thu, 1 Jun 2017 13:35:24 +0000"  >&lt;p&gt;Sure, I relate to what you&apos;re saying about being aware of potential client issues or DOS attacks. But for us, we would prefer INFO here, because we use this dashboard to show &quot;real&quot; issues that we can direct affect (fix an issue in our code, etc). Clients of our API are probably always gonna do mistakes from time time time, and it should be up to them to act if they get a 404.&lt;/p&gt;

&lt;p&gt;About the potential DOS attack, it&apos;s interesting that you bring it up. However, I think we could be warned about that through other ways, for example request logs in our nginx load balancer. For our application logs, I&apos;d really like to reduce 404&apos;s to INFO.&lt;/p&gt;

&lt;p&gt;So yeah, some customization would be nice. Do you have any suggestions of what I can do, or would something need to be fixed in CXF (I would guess so)?&lt;/p&gt;

&lt;p&gt;About your Tomcat issue: I&apos;m not sure what you mean. Also, we&apos;re running CXF in Karaf (Jetty), not Tomcat.&lt;/p&gt;</comment>
                            <comment id="16033099" author="sergey_beryozkin" created="Thu, 1 Jun 2017 14:52:50 +0000"  >&lt;p&gt;OK, what significance does Jetty allocate to 404 in its logs, when no CXF is involved ? &lt;/p&gt;</comment>
                            <comment id="16033122" author="anton-johansson" created="Thu, 1 Jun 2017 15:06:04 +0000"  >&lt;p&gt;I had to enable DEBUG-logging to see anything related to Jetty, and this is the only log related to the 404:&lt;/p&gt;

&lt;p&gt;2017-06-01 17:03:58,839 | DEBUG | on-existing-path | Server                           | 47 - org.eclipse.jetty.aggregate.jetty-all-server - 8.1.16.v20140903 | RESPONSE /non-existing-path  404 handled=true&lt;/p&gt;</comment>
                            <comment id="16138129" author="anton-johansson" created="Wed, 23 Aug 2017 09:22:38 +0000"  >&lt;p&gt;Hey again! Any news or ideas about this one?&lt;/p&gt;</comment>
                            <comment id="16148938" author="sergey_beryozkin" created="Thu, 31 Aug 2017 12:51:59 +0000"  >&lt;p&gt;I&apos;ve updated the code to log the client errors at the fine level, which can be further customized by reg a ClientErrorException.class.getName() + &quot;.log.level&quot; property&lt;/p&gt;</comment>
                            <comment id="16149028" author="anton-johansson" created="Thu, 31 Aug 2017 14:07:19 +0000"  >&lt;p&gt;Awesome, thanks a bunch!&lt;/p&gt;</comment>
                            <comment id="16243967" author="anton-johansson" created="Wed, 8 Nov 2017 13:50:52 +0000"  >&lt;p&gt;Hey again!&lt;/p&gt;

&lt;p&gt;I noticed there are a couple of other classes that also log this as warnings. Not sure why I didn&apos;t notice them earlier, but they are:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/interceptor/JAXRSInInterceptor.java#L166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JAXRSInInterceptor.java&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/frontend/jaxrs/src/main/java/org/apache/cxf/jaxrs/impl/WebApplicationExceptionMapper.java#L72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;WebApplicationExceptionMapper.java&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The last one, I can override by setting printStackTrace to false. However, that would reduce all kinds of logs to FINE instead of WARNING. I only want to reduce 404&apos;s. Or maybe I want to avoid all logs here, I don&apos;t know. What&apos;s the idea behind it? Maybe it&apos;s not really informative to do this for any of these errors. Most of these seem to be ClientErrorExceptions, which is really out of our control. Then we have a few ServerErrorExceptions, but I don&apos;t think we get any of these, really. The times we want to show a 500, we do that ourselves. So maybe the mapper one isn&apos;t such a big deal. The JAXRSInInterceptor is harder to control...&lt;/p&gt;</comment>
                            <comment id="16244292" author="sergey_beryozkin" created="Wed, 8 Nov 2017 16:48:47 +0000"  >&lt;p&gt;I updated those files as well&lt;/p&gt;</comment>
                            <comment id="16257173" author="anton-johansson" created="Fri, 17 Nov 2017 16:18:49 +0000"  >&lt;p&gt;Awesome, thanks &amp;amp; nice work! I&apos;ll wait for 3.1.15 and 3.2.2. Maybe update &quot;Fix Version/s:&quot;, for future reference?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13590565">CXF-9049</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fqzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>