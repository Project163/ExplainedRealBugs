<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:42:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2975] ChainInitiationObserver  lack synchronization which could causes continuations to malfunction for some rare scenario</title>
                <link>https://issues.apache.org/jira/browse/CXF-2975</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If we call continuation.resume in another thread after we call continuation.suspend immediately,  we may encounter  a situation where resume is called on continuation before the SuspendedInvocationException causes PhaseInterceptorChain to change state to &apos;paused&apos;, so that ChainInitiationObserver instead of resuming the the PhaseInterceptorChain from where it was suspended, it starts it&apos;s from the beginning. This is incorrect as interceptors that has already been run are called again in this case.&lt;/p&gt;

&lt;p&gt;With this attached testcase which expose this problem,  simply use continuation api in a jaxws provider, we can see the IncomingMessageCounterInterceptor get invoked twice for one incoming messsage intermittently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473377">CXF-2975</key>
            <summary>ChainInitiationObserver  lack synchronization which could causes continuations to malfunction for some rare scenario</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="ffang">Freeman Yue Fang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Sep 2010 11:27:06 +0000</created>
                <updated>Mon, 11 Oct 2010 14:46:08 +0000</updated>
                            <resolved>Mon, 6 Sep 2010 12:47:24 +0000</resolved>
                                    <version>2.2.10</version>
                                    <fixVersion>2.3</fixVersion>
                    <fixVersion>2.2.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12906485" author="ffang" created="Mon, 6 Sep 2010 11:37:33 +0000"  >&lt;p&gt;The fix should be simply adding&lt;br/&gt;
synchronized (phaseChain) &lt;/p&gt;

&lt;p&gt;For code piecs&lt;br/&gt;
               if (phaseChain.getState() == InterceptorChain.State.PAUSED) &lt;/p&gt;
{
                    phaseChain.resume();
                    return;
                }

&lt;p&gt;ChainInitiationObserver.onMessage()&lt;/p&gt;
</comment>
                            <comment id="12906499" author="ffang" created="Mon, 6 Sep 2010 12:47:24 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=993010&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=993010&amp;amp;view=rev&lt;/a&gt; for trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=993012&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=993012&amp;amp;view=rev&lt;/a&gt; for 2.2.x branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453939" name="testcase.patch" size="16490" author="ffang" created="Mon, 6 Sep 2010 11:29:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13yhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>