<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:43:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3075] ConcurrentModificationException under load</title>
                <link>https://issues.apache.org/jira/browse/CXF-3075</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Here is the config:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JAXB 2.2.1.1&lt;/li&gt;
	&lt;li&gt;CXF 2.3.0&lt;/li&gt;
	&lt;li&gt;JBOSS 5.1.0&lt;/li&gt;
	&lt;li&gt;SPRING 3.2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The client is configured as follows: &lt;br/&gt;
                     &amp;lt;bean id=&quot;fcrsFactory&quot; class=&quot;org.apache.cxf.jaxws.JaxWsProxyFactoryBean&quot; &amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;address&quot;&amp;gt;&amp;lt;value&amp;gt;${fcrs.url}&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;serviceClass&quot;&amp;gt;&amp;lt;value&amp;gt;com.tascet.wsdl.fcrs.v1.FacialRecognitionService&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;serviceName&quot;&amp;gt;&amp;lt;value&amp;gt;FacialRecognitionService&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;endpointName&quot;&amp;gt;&amp;lt;value&amp;gt;FacialRecognitionServicePort&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
	&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;	&amp;lt;bean id=&quot;fcrs&quot; class=&quot;com.tascet.wsdl.fprs.v1.FingerprintRecognitionService&quot; factory-bean=&quot;fcrsFactory&quot; factory-method=&quot;create&quot; scope=&quot;prototype&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;The server is configured as follows:&lt;br/&gt;
                     &amp;lt;jaxws:endpoint id=&quot;fcrs&quot;&lt;br/&gt;
	                     implementor=&quot;#fcrsImpl&quot;&lt;br/&gt;
		endpointName=&quot;s:FacialRecognitionServicePort&quot;&lt;br/&gt;
		serviceName=&quot;s:FacialRecognitionService&quot;&lt;br/&gt;
		address=&quot;/FacialRecognitionService&quot;&lt;br/&gt;
		wsdlLocation=&quot;/WEB-INF/wsdl/FCRS.wsdl&quot;&lt;br/&gt;
		xmlns:s=&quot;http://wsdl.tascet.com/fcrs/v1&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;	   &amp;lt;jaxws:properties&amp;gt;&lt;br/&gt;
	      &amp;lt;entry key=&quot;mtom-enabled&quot; value=&quot;true&quot;/&amp;gt;&lt;br/&gt;
	    &amp;lt;/jaxws:properties&amp;gt;&lt;/p&gt;

&lt;p&gt;    	&amp;lt;jaxws:schemaLocations&amp;gt;&lt;br/&gt;
		&amp;lt;jaxws:schemaLocation&amp;gt;/WEB-INF/schemas/Automation_FCRS.xsd&amp;lt;/jaxws:schemaLocation&amp;gt;&lt;br/&gt;
		&amp;lt;jaxws:schemaLocation&amp;gt;/WEB-INF/schemas/Automation_Ping.xsd&amp;lt;/jaxws:schemaLocation&amp;gt;&lt;br/&gt;
    		&amp;lt;jaxws:schemaLocation&amp;gt;/WEB-INF/schemas/Message_FCRS.xsd&amp;lt;/jaxws:schemaLocation&amp;gt;&lt;br/&gt;
    	&amp;lt;/jaxws:schemaLocations&amp;gt;&lt;br/&gt;
    &amp;lt;/jaxws:endpoint&amp;gt;&lt;/p&gt;

&lt;p&gt;Under moderate load with 5 concurrent users the following exception starts showing up sporadically:&lt;/p&gt;

&lt;p&gt;org.drools.runtime.rule.ConsequenceException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;fcrs&apos; defined in class path resource &lt;span class=&quot;error&quot;&gt;&amp;#91;com/tascet/incore/fcrs/applicationContext.xml&amp;#93;&lt;/span&gt;: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method &lt;span class=&quot;error&quot;&gt;&amp;#91;public java.lang.Object org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create()&amp;#93;&lt;/span&gt; threw exception; nested exception is java.util.ConcurrentModificationException&lt;br/&gt;
	at org.drools.runtime.rule.impl.DefaultConsequenceExceptionHandler.handleException(DefaultConsequenceExceptionHandler.java:23)&lt;br/&gt;
	at org.drools.common.DefaultAgenda.fireActivation(DefaultAgenda.java:943)&lt;br/&gt;
	at org.drools.common.DefaultAgenda.fireNextItem(DefaultAgenda.java:885)&lt;br/&gt;
	at org.drools.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:1086)&lt;br/&gt;
	at org.drools.common.AbstractWorkingMemory.fireAllRules(AbstractWorkingMemory.java:660)&lt;br/&gt;
	at org.drools.common.AbstractWorkingMemory.fireAllRules(AbstractWorkingMemory.java:637)&lt;br/&gt;
	at org.drools.impl.StatelessKnowledgeSessionImpl.execute(StatelessKnowledgeSessionImpl.java:252)&lt;br/&gt;
	at com.tascet.incore.main.FusionManager.execute(FusionManager.java:110)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)&lt;br/&gt;
	at com.tascet.common.aop.async.AsyncInvokeMethodInterceptor$1.run(AsyncInvokeMethodInterceptor.java:37)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;fcrs&apos; defined in class path resource &lt;span class=&quot;error&quot;&gt;&amp;#91;com/tascet/incore/fcrs/applicationContext.xml&amp;#93;&lt;/span&gt;: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method &lt;span class=&quot;error&quot;&gt;&amp;#91;public java.lang.Object org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create()&amp;#93;&lt;/span&gt; threw exception; nested exception is java.util.ConcurrentModificationException&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:568)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:973)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:879)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)&lt;br/&gt;
	at com.tascet.incore.blip.fcrs.FCManagerImpl.search12F(FCManagerImpl.java:84)&lt;br/&gt;
	at com.tascet.incore.blip.fc.FCProcessorImpl.executeFC12FSearch(FCProcessorImpl.java:73)&lt;br/&gt;
	at com.tascet.incore.blip.main.StateProcessorImpl.matchFace(StateProcessorImpl.java:85)&lt;br/&gt;
	at com.tascet.incore.blip.normal.Rule_9_PRE1_&lt;em&gt;If_FP_1_N_search_returned_1_result_then_do_1_F_FC_Search&lt;/em&gt;&lt;em&gt;if_not_done_already&lt;/em&gt;_&lt;em&gt;0.consequence(Rule_9_PRE1&lt;/em&gt;&lt;em&gt;If_FP_1_N_search_returned_1_result_then_do_1_F_FC_Search&lt;/em&gt;&lt;em&gt;if_not_done_already&lt;/em&gt;__0.java:35)&lt;br/&gt;
	at com.tascet.incore.blip.normal.Rule_9_PRE1_&lt;em&gt;If_FP_1_N_search_returned_1_result_then_do_1_F_FC_Search&lt;/em&gt;&lt;em&gt;if_not_done_already&lt;/em&gt;_&lt;em&gt;0ConsequenceInvoker.evaluate(Rule_9_PRE1&lt;/em&gt;&lt;em&gt;If_FP_1_N_search_returned_1_result_then_do_1_F_FC_Search&lt;/em&gt;&lt;em&gt;if_not_done_already&lt;/em&gt;__0ConsequenceInvoker.java:23)&lt;br/&gt;
	at org.drools.common.DefaultAgenda.fireActivation(DefaultAgenda.java:934)&lt;br/&gt;
	... 17 more&lt;br/&gt;
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Factory method &lt;span class=&quot;error&quot;&gt;&amp;#91;public java.lang.Object org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create()&amp;#93;&lt;/span&gt; threw exception; nested exception is java.util.ConcurrentModificationException&lt;br/&gt;
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:158)&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:557)&lt;br/&gt;
	... 30 more&lt;br/&gt;
Caused by: java.util.ConcurrentModificationException&lt;br/&gt;
	at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)&lt;br/&gt;
	at java.util.AbstractList$Itr.next(AbstractList.java:343)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.createInputWrappedMessageParts(ReflectionServiceFactoryBean.java:1607)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.createOperation(ReflectionServiceFactoryBean.java:934)&lt;br/&gt;
	at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.createOperation(JaxWsServiceFactoryBean.java:595)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.createInterface(ReflectionServiceFactoryBean.java:907)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:433)&lt;br/&gt;
	at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:645)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:505)&lt;br/&gt;
	at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:242)&lt;br/&gt;
	at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:184)&lt;br/&gt;
	at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:101)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientFactoryBean.create(ClientFactoryBean.java:90)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:105)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create(JaxWsProxyFactoryBean.java:124)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor345.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146)&lt;br/&gt;
	... 31 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477781">CXF-3075</key>
            <summary>ConcurrentModificationException under load</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="rockyalam">Rocky Alam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2010 21:15:26 +0000</created>
                <updated>Mon, 6 Dec 2010 22:49:00 +0000</updated>
                            <resolved>Wed, 20 Oct 2010 19:17:39 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.2.12</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kl73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>