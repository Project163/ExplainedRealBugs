<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:57:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4745] jaxb errors when calling with @WebParam and header=true</title>
                <link>https://issues.apache.org/jira/browse/CXF-4745</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When calling a method with @WebParam and header=true in the signature like the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @WebResult(targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test2.test1/&quot;&lt;/span&gt;, name = &lt;span class=&quot;code-quote&quot;&gt;&quot;returnedValFromTestSOAP&quot;&lt;/span&gt;)
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; testSOAP(@WebParam(mode = WebParam.Mode.IN, header = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, name = &lt;span class=&quot;code-quote&quot;&gt;&quot;credentials&quot;&lt;/span&gt;) Credentials credentials,
    		@WebParam(name=&lt;span class=&quot;code-quote&quot;&gt;&quot;par1&quot;&lt;/span&gt;) WrappedList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; par1,
    		@WebParam(name=&lt;span class=&quot;code-quote&quot;&gt;&quot;par2&quot;&lt;/span&gt;) WrappedList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; par2);    
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; the call fails (the parameters are not correctly put in the message). Without the header=true the call it is ok and the message it is correctly formatted. The soap header it is formed in an intercetor:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test1.test3;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.xml.bind.JAXBException;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.binding.soap.SoapHeader;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.binding.soap.SoapMessage;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.headers.Header;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.interceptor.Fault;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.jaxb.JAXBDataBinding;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.phase.Phase;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.xml.namespace.QName;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; test1.test2.Credentials;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CustomSOAPHeaderOutInterceptor &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractSoapInterceptor
{

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; CustomSOAPHeaderOutInterceptor() {
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(Phase.PRE_PROTOCOL);

	}

	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void handleMessage(SoapMessage message) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Fault{

		SoapMessage soapMessage = (SoapMessage) message;
		List&amp;lt;Header&amp;gt; list = message.getHeaders();

		QName q = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test2.test1/&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;credentials&quot;&lt;/span&gt;); 
&lt;/span&gt;		Credentials credentials = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Credentials();
		
		credentials.setUsername(&lt;span class=&quot;code-quote&quot;&gt;&quot;uname&quot;&lt;/span&gt;);
		credentials.setPassword(&lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt;);
		credentials.setDomain(&lt;span class=&quot;code-quote&quot;&gt;&quot;domain&quot;&lt;/span&gt;);
		
		JAXBDataBinding dataBinding = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			dataBinding = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JAXBDataBinding(credentials.getClass());
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (JAXBException e1) {
			e1.printStackTrace();
		}

		SoapHeader header = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SoapHeader(q, credentials, dataBinding);
		list.add(header);

	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Windows 7 64 bit, jdk with jre 32 bit 1.6.0_18. Eclipse Helios sr2&lt;/p&gt;</environment>
        <key id="12627137">CXF-4745</key>
            <summary>jaxb errors when calling with @WebParam and header=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bogdantudor74@gmail.com">bogdantudor74@gmail.com</reporter>
                        <labels>
                            <label>cxf</label>
                            <label>runtime</label>
                    </labels>
                <created>Fri, 11 Jan 2013 07:45:04 +0000</created>
                <updated>Mon, 14 Jan 2013 19:36:44 +0000</updated>
                            <resolved>Mon, 14 Jan 2013 08:32:08 +0000</resolved>
                                    <version>2.7.1</version>
                                    <fixVersion>2.7.3</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13550940" author="bogdantudor74@gmail.com" created="Fri, 11 Jan 2013 07:46:46 +0000"  >&lt;p&gt;This is an archive that contains the server / client projects.&lt;/p&gt;</comment>
                            <comment id="13551297" author="dkulp" created="Fri, 11 Jan 2013 17:37:05 +0000"  >
&lt;p&gt;I&apos;m not sure if this is really a bug other than &quot;it should provide a better error message&quot;.   If you do a wsdl2java on the wsdl, the testSOAP method would look like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @WebMethod
    @WebResult(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;testSOAPResponse&quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test2.test1/&quot;&lt;/span&gt;, partName = &lt;span class=&quot;code-quote&quot;&gt;&quot;parameters&quot;&lt;/span&gt;)
&lt;/span&gt;    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; TestSOAPResponse testSOAP(
        @WebParam(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;testSOAP&quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test2.test1/&quot;&lt;/span&gt;, partName = &lt;span class=&quot;code-quote&quot;&gt;&quot;parameters&quot;&lt;/span&gt;)
&lt;/span&gt;        TestSOAP parameters,
        @WebParam(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;credentials&quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//test2.test1/&quot;&lt;/span&gt;, header = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, partName = &lt;span class=&quot;code-quote&quot;&gt;&quot;credentials&quot;&lt;/span&gt;)
&lt;/span&gt;        Credentials credentials);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and THAT is the format of the parameters that needs to be sent into the invoke for the DynamicClient.   Not the two WrappedList things.   Most likely, we should do a quick check to make sure the passed in parameter objects match the type that is expected and throw an exception if not.&lt;/p&gt;
</comment>
                            <comment id="13552507" author="bogdantudor74@gmail.com" created="Mon, 14 Jan 2013 08:29:12 +0000"  >&lt;p&gt;You are right. I have modified the interface as:&lt;/p&gt;

&lt;p&gt;    @WebResult(targetNamespace = &quot;http://test2.test1/&quot;, name = &quot;returnedValFromTestSOAP&quot;)&lt;br/&gt;
    @SOAPBinding(parameterStyle=ParameterStyle.BARE)&lt;br/&gt;
    public String testSOAP(@WebParam(mode = WebParam.Mode.IN, header = true, name = &quot;credentials&quot;) Credentials credentials,&lt;br/&gt;
    		@WebParam(name=&quot;par1&quot;) WrappedList&amp;lt;String&amp;gt; par1,&lt;br/&gt;
    		@WebParam(name=&quot;par2&quot;) WrappedList&amp;lt;String&amp;gt; par2);    &lt;/p&gt;

&lt;p&gt;(because the wrapped style it is the default).&lt;/p&gt;

&lt;p&gt;Now the call:&lt;/p&gt;

&lt;p&gt;    	Object[] res = client.invoke(&quot;testSOAP&quot;, credentials, par1, par2);&lt;/p&gt;

&lt;p&gt;it is running as expected.&lt;/p&gt;</comment>
                            <comment id="13552508" author="bogdantudor74@gmail.com" created="Mon, 14 Jan 2013 08:32:08 +0000"  >&lt;p&gt;This was due to the @SOAPBinding annotation and the unclear generated message.&lt;/p&gt;</comment>
                            <comment id="13553029" author="dkulp" created="Mon, 14 Jan 2013 19:36:44 +0000"  >&lt;p&gt;Note that I did add a better error message for the next CXF versions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564372" name="camelcxf.zip" size="26672" author="bogdantudor74@gmail.com" created="Fri, 11 Jan 2013 07:46:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17gsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>