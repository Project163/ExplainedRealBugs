<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:38:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-8555] JsonMapObjectReaderWriter escapes now any back slash</title>
                <link>https://issues.apache.org/jira/browse/CXF-8555</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Since the correction&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;CXF-8435&lt;/a&gt;,&#160;any back-slash in a claim value is duplicated. This correction that was supposed to escape only double-quote, escapes now any existing back-slash (&lt;a href=&quot;https://github.com/apache/cxf/blob/7cdd22fda7e74ddcfbed03dcf95186b8d7f3df55/rt/rs/extensions/json-basic/src/main/java/org/apache/cxf/jaxrs/json/basic/JsonMapObjectReaderWriter.java#L371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;See line 371 of&#160;JsonMapObjectReaderWriter class&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13384936">CXF-8555</key>
            <summary>JsonMapObjectReaderWriter escapes now any back slash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coheigea">Colm O hEigeartaigh</assignee>
                                    <reporter username="Albert966">J&#233;r&#244;me cabaret</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jun 2021 15:17:12 +0000</created>
                <updated>Wed, 22 Dec 2021 20:43:52 +0000</updated>
                            <resolved>Thu, 24 Jun 2021 07:39:47 +0000</resolved>
                                    <version>3.4.4</version>
                                    <fixVersion>3.3.12</fixVersion>
                    <fixVersion>3.4.5</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17367035" author="coheigea" created="Tue, 22 Jun 2021 06:21:32 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://www.freeformatter.com/json-escape.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.freeformatter.com/json-escape.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;The following characters are reserved in JSON and must be properly escaped to be used in strings:&#160;&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;b&gt;Backslash&lt;/b&gt; is replaced with *&lt;br class=&quot;atl-forced-newline&quot; /&gt;*&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17367381" author="albert966" created="Tue, 22 Jun 2021 14:23:52 +0000"  >&lt;p&gt;Ok, so what must happen with a slash escaped with a back slash in a claim value like this: http:\/\/localhost:8080 ?&lt;/p&gt;

&lt;p&gt;Because, before the&#160;correction&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;CXF-8435&lt;/a&gt;, the previous claim value returned&#160;&lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080&lt;/a&gt;&#160;(thanks to the &lt;a href=&quot;https://github.com/apache/cxf/blob/7cdd22fda7e74ddcfbed03dcf95186b8d7f3df55/rt/rs/extensions/json-basic/src/main/java/org/apache/cxf/jaxrs/json/basic/JsonMapObjectReaderWriter.java#L240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;readPrimitiveValue&lt;/a&gt;)&#160;and since the&#160;correction&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;CXF-8435&lt;/a&gt;, the result is http:\/\/localhost:8080.&lt;/p&gt;</comment>
                            <comment id="17367473" author="coheigea" created="Tue, 22 Jun 2021 15:40:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; - What is your take on this?&lt;/p&gt;</comment>
                            <comment id="17367826" author="reta" created="Wed, 23 Jun 2021 02:42:22 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coheigea&quot; class=&quot;user-hover&quot; rel=&quot;coheigea&quot;&gt;coheigea&lt;/a&gt; , yeah, the JSON specification, RFC-8259, &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is not very intuitive, however this is what it says regarding representing strings:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 string = quotation-mark *&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; quotation-mark      &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; = unescaped /
          escape (
              %x22 /          ; &quot;    quotation mark  U+0022
              %x5C /          ; \    reverse solidus U+005C
              %x2F /          ; /    solidus         U+002F
              %x62 /          ; b    backspace       U+0008
              %x66 /          ; f    form feed       U+000C
              %x6E /          ; n    line feed       U+000A
              %x72 /          ; r    carriage &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; U+000D
              %x74 /          ; t    tab             U+0009
              %x75 4HEXDIG )  ; uXXXX                U+XXXX      
escape = %x5C              ; \      
quotation-mark = %x22      ;
unescaped = %x20-21 / %x23-5B / %x5D-10FFFF &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the nutshell, the `&quot;` and &quot;\&quot; and &quot;/&quot; have to be escaped (plus a few more). With respect to the example provided by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Albert966&quot; class=&quot;user-hover&quot; rel=&quot;Albert966&quot;&gt;Albert966&lt;/a&gt; , the correct escaped JSON representation of the&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080 &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;would be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
http:\/\/localhost:8080&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It looks like we need a bit more complicated solution which should skip over the sequences which are already escaped, but escape the required ones. Getting back to the example provided, it looks like the value:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
http:\/\/localhost:8080 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is already correctly escaped (nonetheless we replace `\` with double `\`), but if we take for example another variant:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 http:\&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080 &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we should escape the second slash only, so it becomes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 http:\/\/localhost:8080 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What do you think, does it make sense? &lt;br/&gt;
 Thank you!&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc8259&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://datatracker.ietf.org/doc/html/rfc8259&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17369447" author="albert966" created="Fri, 25 Jun 2021 12:53:52 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for your prompt response.&lt;/p&gt;

&lt;p&gt;BR,&lt;/p&gt;

&lt;p&gt;J.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s54o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>