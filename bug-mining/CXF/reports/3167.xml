<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:29:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7534] Bus set on jaxws-endpoint is not honored anymore</title>
                <link>https://issues.apache.org/jira/browse/CXF-7534</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We&apos;re setting up a bus for our JAX-WS endpoints with custom features/interceptors  to handle some cross-cutting concerns.&lt;/p&gt;

&lt;p&gt;This worked quite well up until cxf-3.1.10. In all following versions, however, the interceptors are not triggered anymore.&lt;br/&gt;
Some debugging revealed that while the endpoint is being initialized with the correct bus, at runtime a different bus instance (one that holds only a single PolicyInInterceptor) is being used.&lt;/p&gt;

&lt;p&gt;Please advise how the cause can be pinned down, I&apos;m a bit lost in the internal complexities of CXF...&lt;/p&gt;

&lt;p&gt;Sample configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;cxf:bus bus=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.jaxws.bus&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;cxf:features&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.httpMetricsFeature&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.jaxws.soapMessageLoggingFeature&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.jaxws.konsensSoapHeaderFeature&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/cxf:features&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;cxf:inInterceptors&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.jaxws.endpointDeactivatingInterceptor&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.jaxws.globalAttachmentCachingInterceptor&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/cxf:inInterceptors&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;cxf:outFaultInterceptors&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.common.jaxws.globalKonsensAwareFaultInterceptor&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;  
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/cxf:outFaultInterceptors&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/cxf:bus&amp;gt;&lt;/span&gt;

            &amp;lt;jaxws:endpoint id=&lt;span class=&quot;code-quote&quot;&gt;&quot;contr.iorouter.v1.ControllerIORouterWS&quot;&lt;/span&gt;
                bus=&lt;span class=&quot;code-quote&quot;&gt;&quot;geco.proton.jaxws.bus&quot;&lt;/span&gt;
                address=&lt;span class=&quot;code-quote&quot;&gt;&quot;${services.intern.iorouter-ev-v1.settings[@endpointAddress]}&quot;&lt;/span&gt; implementor=&lt;span class=&quot;code-quote&quot;&gt;&quot;#contr.iorouter.v1.ControllerIORouterWSImpl&quot;&lt;/span&gt;
                wsdlLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;${services.intern.iorouter-ev-v1.settings[@wsdlLocation]}&quot;&lt;/span&gt; endpointName=&lt;span class=&quot;code-quote&quot;&gt;&quot;ns:ControllerEV&quot;&lt;/span&gt;
                serviceName=&lt;span class=&quot;code-quote&quot;&gt;&quot;ns:ControllerEV&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://finkonsens.de/geco/controller/ev/v1&quot;&lt;/span&gt;&amp;gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:properties&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;schema-validation-enabled&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;${services.intern.iorouter-ev-v1.settings[@schemaValidationEnabled]}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;mtom-enabled&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;${services.intern.iorouter-ev-v1.settings[@mtomEnabled]}&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:properties&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:endpoint&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13110668">CXF-7534</key>
            <summary>Bus set on jaxws-endpoint is not honored anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="lkoe">Lars K&#246;dderitzsch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Oct 2017 13:11:31 +0000</created>
                <updated>Tue, 28 Nov 2017 10:51:37 +0000</updated>
                            <resolved>Wed, 1 Nov 2017 20:01:52 +0000</resolved>
                                    <version>3.1.11</version>
                    <version>3.2.0</version>
                                    <fixVersion>3.1.14</fixVersion>
                    <fixVersion>3.2.1</fixVersion>
                                    <component>Bus</component>
                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16212761" author="dkulp" created="Fri, 20 Oct 2017 15:04:05 +0000"  >&lt;p&gt;You are likely going to need to create a test case for this.  I just did a &quot;git diff cxf-3.1.10 cxf-3.1.11&quot; and I don&apos;t see ANYTHING in the diff that would have any impact on the bus that is being used.   Also, two tests that I know use unique busses defined like that (core/src/test/java/org/apache/cxf/bus/spring/BusDefinitionParserTest.java and core/src/test/java/org/apache/cxf/bus/spring/SpringBusFactoryTest.java) both pass. &lt;/p&gt;</comment>
                            <comment id="16218405" author="lkoe" created="Wed, 25 Oct 2017 11:14:06 +0000"  >&lt;p&gt;I&apos;ve created a small test project which shows the problem using a very stripped down version of our CXF setup.&lt;br/&gt;
I hope a gradle project is ok.&lt;br/&gt;
The included unit test fails with cxf &amp;lt; 3.1.10 and succeeds with 3.1.10. To use different versions just change the cxfVersion variable in build.gradle&lt;/p&gt;</comment>
                            <comment id="16222654" author="dkulp" created="Fri, 27 Oct 2017 16:45:50 +0000"  >&lt;p&gt;The real issue is a resource injection of fields on parent classes.   &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13112653">CXF-7542</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12893920" name="cxf-7534-test.zip" size="3685" author="lkoe" created="Wed, 25 Oct 2017 11:11:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lgpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>