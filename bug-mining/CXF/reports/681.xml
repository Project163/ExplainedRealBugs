<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:43:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2997] CXF JAX-RS not thread safe when accessing multiple destinations concurrently </title>
                <link>https://issues.apache.org/jira/browse/CXF-2997</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If a (single) JAX-RS service is invoked concurrently for different destinations, the CXF ServletController and ServletTransportFactory implementations override the current Destination state between these invocations.&lt;br/&gt;
I have created a simple test web application using Spring to expose this problem.&lt;/p&gt;

&lt;p&gt;My example ServiceImpl.java looks like:&lt;/p&gt;

&lt;p&gt;@Path(&quot;/myservice/&quot;)&lt;br/&gt;
@Produces(&quot;application/xml&quot;)&lt;br/&gt;
public class ServiceImpl {&lt;/p&gt;

&lt;p&gt;  volatile boolean locked;&lt;/p&gt;

&lt;p&gt;  @GET&lt;br/&gt;
  @Path(&quot;/uris&quot;)&lt;br/&gt;
  @Produces(&quot;text/plain&quot;)&lt;br/&gt;
  public String getUris(@Context UriInfo uriInfo) {&lt;br/&gt;
    StringBuilder uris = new StringBuilder(&quot;BaseUri on entry: &quot;+uriInfo.getBaseUri().toString()).append(&quot;\n&quot;);&lt;br/&gt;
    try {&lt;br/&gt;
      while (locked) &lt;/p&gt;
{
        Thread.sleep(1000);
      }
&lt;p&gt;    }  &lt;br/&gt;
    catch (Exception x) {}&lt;br/&gt;
    return uris.append(&quot;BaseUri on exit : &quot; + uriInfo.getBaseUri().toString()).append(&quot;\n&quot;).toString();&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;  @GET&lt;br/&gt;
  @Path(&quot;/lock&quot;)&lt;br/&gt;
  @Produces(&quot;text/plain&quot;)&lt;br/&gt;
  public String lock() &lt;/p&gt;
{
    locked = true;
    return &quot;locked&quot;;
  }

&lt;p&gt;  @GET&lt;br/&gt;
  @Path(&quot;/unlock&quot;)&lt;br/&gt;
  @Produces(&quot;text/plain&quot;)&lt;br/&gt;
  public String unlock() &lt;/p&gt;
{
    locked = false;
    return &quot;unlocked&quot;;
  }

&lt;p&gt;And in my web.xml I defined two CXFServlet mappings as follows:&lt;/p&gt;

&lt;p&gt;    &amp;lt;servlet-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/one/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/servlet-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;servlet-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/two/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/servlet-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;Finally, in Spring ApplicationContext.xml I setup the jaxrs server like this:&lt;/p&gt;

&lt;p&gt;    &amp;lt;jaxrs:server id=&quot;myService&quot; address=&quot;/&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
            &amp;lt;ref bean=&quot;serviceImpl&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;/jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
        &amp;lt;jaxrs:extensionMappings&amp;gt;&lt;br/&gt;
            &amp;lt;entry key=&quot;xml&quot; value=&quot;application/xml&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;/jaxrs:extensionMappings&amp;gt;&lt;br/&gt;
    &amp;lt;/jaxrs:server&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;bean id=&quot;serviceImpl&quot; class=&quot;service.ServiceImpl&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;As can be seen from the ServicesImpl.java, I used a trick to temporarily &quot;lock&quot; and &quot;unlock&quot; a call to /myservice/uris from another request using /myservice/lock and /myservice/unlock.&lt;/p&gt;

&lt;p&gt;Without locking, a call to &lt;a href=&quot;http://localhost:8085/one/myservice/uris&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/myservice/uris&lt;/a&gt; produces the expected following result:&lt;/p&gt;

&lt;p&gt;  BaseUri on entry: &lt;a href=&quot;http://localhost:8085/one/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/&lt;/a&gt;&lt;br/&gt;
  BaseUri on exit : &lt;a href=&quot;http://localhost:8085/two/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/two/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, if I first call &lt;a href=&quot;http://localhost:8085/one/myservice/lock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/myservice/lock&lt;/a&gt;, then &lt;a href=&quot;http://localhost:8085/one/myservice/uris&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/myservice/uris&lt;/a&gt; (blocked), and finally &lt;a href=&quot;http://127.0.0.1:8085/two/myservice/unlock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/two/myservice/unlock&lt;/a&gt; (note the different hostname 127.0.0.1 and servletPath /two) I get the following result:&lt;/p&gt;

&lt;p&gt;  BaseUri on entry: &lt;a href=&quot;http://localhost:8085/one/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/&lt;/a&gt;&lt;br/&gt;
  BaseUri on exit : &lt;a href=&quot;http://127.0.0.1:8085/two/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/two/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Clearly, UriInfo.getBaseURI() isn&apos;t thread safe as is shown above.&lt;/p&gt;

&lt;p&gt;After debugging a bit the current (CXF 2.2.10) implementation of the ServletController and ServletTransportFactory, it looks like the ServletController.updateDests(HttpServletRequest) method and the ServletTransportFactory as a whole don&apos;t maintain resolved Destination state isolated per request.&lt;/p&gt;

&lt;p&gt;Our CXF (JAX-RS) application exposes the same REST service to be called from many different addresses (hosts) as well as upfront unknown servlet paths, this really is a blocking issue.&lt;br/&gt;
To be more concrete, we have to use a request wrapper to dynamically &quot;mount&quot; the same rest service for different urls (its a front end for a unlimited hierarchical resources repository). &lt;/p&gt;

&lt;p&gt;Is there an easy way to protect JAX-RS service interactions from concurrent invocations, e.g. by using special configurations, or is this indeed a serious bug which will have to be fixed first? &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12474293">CXF-2997</key>
            <summary>CXF JAX-RS not thread safe when accessing multiple destinations concurrently </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ate">Ate Douma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Sep 2010 16:05:20 +0000</created>
                <updated>Mon, 11 Oct 2010 14:46:15 +0000</updated>
                            <resolved>Sun, 3 Oct 2010 20:54:56 +0000</resolved>
                                    <version>2.2.10</version>
                                    <fixVersion>2.3</fixVersion>
                    <fixVersion>2.2.11</fixVersion>
                                    <component>JAX-RS</component>
                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12910209" author="adouma" created="Thu, 16 Sep 2010 16:09:34 +0000"  >&lt;p&gt;Simple maven test project to expose the problem.&lt;/p&gt;

&lt;p&gt;To compile and start the test webapp just execute:&lt;br/&gt;
  $mvn jetty:run &lt;/p&gt;

&lt;p&gt;Then from two different browser windows invoke the following requests:&lt;/p&gt;

&lt;p&gt;  1) &lt;a href=&quot;http://127.0.0.1:8085/two/myservice/lock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/two/myservice/lock&lt;/a&gt; (browser window 1)&lt;br/&gt;
  2) &lt;a href=&quot;http://localhost:8085/one/myservice/uris&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/myservice/uris&lt;/a&gt; (browser window 2)&lt;br/&gt;
  3) &lt;a href=&quot;http://127.0.0.1:8085/two/myservice/unlock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/two/myservice/unlock&lt;/a&gt; (browser window 1)&lt;/p&gt;

&lt;p&gt;Resulting output from browser window 2:&lt;/p&gt;

&lt;p&gt;  BaseUri on entry: &lt;a href=&quot;http://localhost:8085/one/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/&lt;/a&gt;&lt;br/&gt;
  BaseUri on exit : &lt;a href=&quot;http://127.0.0.1:8085/two/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/two/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12910227" author="sergey_beryozkin" created="Thu, 16 Sep 2010 17:09:21 +0000"  >&lt;p&gt;I believe it is an old and known issue with overlapping Servlet Destinations, in fact there was a patch proposed awhile back on the users list. We&apos;ll need to resurrect it,&lt;/p&gt;

&lt;p&gt;in mean time, what the following should fix it :&lt;/p&gt;

&lt;p&gt;1. Have a single servlet mapping&lt;/p&gt;

&lt;p&gt;&amp;lt;servlet-mapping&amp;gt;&lt;br/&gt;
&amp;lt;servlet-name&amp;gt;CXFServlet&amp;lt;/servlet-name&amp;gt;&lt;br/&gt;
&amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
&amp;lt;/servlet-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;2. Have multiple jaxrs endpoint definitions linking to the same service bean with unique address values :&lt;/p&gt;

&lt;p&gt;&amp;lt;jaxrs:server id=&quot;myService&quot; address=&quot;/one&quot;&amp;gt;&lt;br/&gt;
&amp;lt;jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
&amp;lt;ref bean=&quot;serviceImpl&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
&amp;lt;/jaxrs:server&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;jaxrs:server id=&quot;myService&quot; address=&quot;/two&quot;&amp;gt;&lt;br/&gt;
&amp;lt;jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
&amp;lt;ref bean=&quot;serviceImpl&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/jaxrs:serviceBeans&amp;gt;&lt;br/&gt;
&amp;lt;/jaxrs:server&amp;gt;&lt;/p&gt;


&lt;p&gt;This is nearly identical to your original setup, but instead we just push the support for multiple contexts down to the beans.xml&lt;/p&gt;

&lt;p&gt;I&apos;m nearly sure the same trick would have to be employed for jaxws services in a similar setup&lt;/p&gt;

&lt;p&gt;let us know if it works for you.&lt;/p&gt;

&lt;p&gt;cheers, Sergey &lt;/p&gt;</comment>
                            <comment id="12910352" author="adouma" created="Thu, 16 Sep 2010 22:14:37 +0000"  >&lt;p&gt;Hi Sergey, thanks for the reply.&lt;/p&gt;

&lt;p&gt;Too bad but your solution doesn&apos;t work for us, for two reasons:&lt;/p&gt;

&lt;p&gt;a) Defining multiple endpoint definitions only is feasible if all potential endpoint addresses would be known upfront (and are just a few).&lt;br/&gt;
But for our application this won&apos;t work as we have a potentially unlimited number of endpoint addresses, which also can be created/added at runtime (after CXF startup).&lt;br/&gt;
Our application provides a REST api on top of a hierarchical (path based) repository of resources.&lt;br/&gt;
From the initially incoming request (pathinfo) we first determine the longest path matching an existing &quot;resource&quot; within our repository. The remainder of the pathinfo (suffix) is (assumed to be) the target REST api destination.&lt;br/&gt;
Once this is determined we create a requestwrapper and modify the servlet path to represent our actual repository resource and the remainder as new pathinfo for the CXFServlet, and finally we forward to the CXFServlet.&lt;br/&gt;
To make this work, of course we only can use a single server entrypoint address for all possible CXF requests.&lt;br/&gt;
Defining all potential entrypoint addresses upfront is furthermore technically impossible as new repository resources can be created any time.&lt;br/&gt;
So far it all worked pretty well, with non-overlapping requests that is, but now it fails miserably when different &quot;resource paths&quot; are accessed concurrently. &lt;/p&gt;

&lt;p&gt;b) To make things even more complicated, our application furthermore can be accessed from unknown amount of hosts (well: they are &quot;known&quot; but also can be dynamically added at runtime). &lt;br/&gt;
So, just using a single CXFServlet mapping with multiple endpoint definitions still won&apos;t work, even if we only had a few fixed endpoint addresses.&lt;br/&gt;
As you can already test with the example application I uploaded, even going through the same endpoint but with a different hostname screws up the internal state.&lt;br/&gt;
When executing the following requests in order:&lt;/p&gt;

&lt;p&gt;  1) &lt;a href=&quot;http://127.0.0.1:8085/one/myservice/lock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/one/myservice/lock&lt;/a&gt; (browser window 1)&lt;br/&gt;
  2) &lt;a href=&quot;http://localhost:8085/one/myservice/uris&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/myservice/uris&lt;/a&gt; (browser window 2)&lt;br/&gt;
  3) &lt;a href=&quot;http://127.0.0.1:8085/one/myservice/unlock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/one/myservice/unlock&lt;/a&gt; (browser window 1)&lt;/p&gt;

&lt;p&gt;the following output is the result (browser window 2):&lt;/p&gt;

&lt;p&gt;  BaseUri on entry: &lt;a href=&quot;http://localhost:8085/one/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8085/one/&lt;/a&gt;&lt;br/&gt;
  BaseUri on exit : &lt;a href=&quot;http://127.0.0.1:8085/one/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8085/one/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So, I think we&apos;ll need a real fix to solve concurrent requests with overlapping destinations.&lt;br/&gt;
I&apos;ve already looked and searched in both the users and dev mailing list but haven&apos;t been able yet to find the (old) patch you are referring to.&lt;br/&gt;
I&apos;m willing to spend time investing this further and come up with a new patch if needed, but any help and pointer to this &quot;old issue+patch&quot; would be very welcome!&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Ate&lt;/p&gt;</comment>
                            <comment id="12910659" author="sergey_beryozkin" created="Fri, 17 Sep 2010 16:51:12 +0000"  >&lt;p&gt;Thanks, I&apos;ll need to look into it asap - I&apos;ll get back to you in the next few days - not able to investigate during the day at the moment, and we&apos;ll see what is the best way forward is, it will need to be fixed for 2.3/2.2.11&lt;/p&gt;</comment>
                            <comment id="12910999" author="adouma" created="Sat, 18 Sep 2010 11:50:07 +0000"  >&lt;p&gt;That would be great, thanks!&lt;/p&gt;</comment>
                            <comment id="12915044" author="sergey_beryozkin" created="Sun, 26 Sep 2010 21:29:59 +0000"  >&lt;p&gt;This is the initial attempt to fix it :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1001520&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1001520&amp;amp;view=rev&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;If one has many servlets &apos;binding&apos; to the same destination then one has to set either &quot;disable-address-updates&quot; servlet parameter on each servlet to true or call setDisableAddressUpdates on CXFServlet/CXFNonSpringServlet.&lt;/p&gt;

&lt;p&gt;Perhaps, another and better solution is to introduce a thread local storage and associate it with Destination and completely disable the address overwrites but I thought that with the CXF 2.3 release coming close this change would be a bit unsafe - we&apos;d just not know what we&apos;d break.&lt;/p&gt;

&lt;p&gt;Any other ideas and comments are welcome. &lt;br/&gt;
Please verify if this commit fixes the problem. We can get a proper fix once we evaluate what side-effects are possible...  &lt;/p&gt;</comment>
                            <comment id="12916426" author="adouma" created="Thu, 30 Sep 2010 09:54:16 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I finally found time to test your fix, for which I tried both the 2.2.x-fixes branch and 2.3.0-SNAPSHOT trunk.&lt;/p&gt;

&lt;p&gt;With the 2.2.x-fixes branch, I ran my test webapp as previously attached to this issue (adjusted to use cxf 2.2.11-SNAPSHOT) and adding init-param disable-address-updates=true on CXFServlet.&lt;br/&gt;
This now seems to works!&lt;br/&gt;
Note, even if you only have one servlet (mapping) configured this disable-address-updates parameter is required to be set if you access the endpoints through multiple host names (as localhost and 127.0.0.1 in my test app).&lt;/p&gt;

&lt;p&gt;The current 2.3.0-SNAPSHOT trunk I couldn&apos;t test because it fails to build...&lt;br/&gt;
Note: I first (had to) build the cxf-build-utils and cxf-xjc-builds as the current apache snapshot repository seems not to be up to date. &lt;br/&gt;
Thereafter it get a compilation error on the generated cxf-api sources: &lt;/p&gt;

&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;/cxf-2.3.0-SNAPSHOT/api/src/main/java/org/apache/cxf/wsdl/TExtensibilityElementImpl.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;31,12&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
    symbol: class TExtensibilityElement&lt;br/&gt;
    extends TExtensibilityElement&lt;/p&gt;

&lt;p&gt;Shortly above this error is another suspicious error logged by cxf-xjc:xsdtojava: &lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [cxf-xjc:xsdtojava &lt;/p&gt;
{execution: generate-sources}
&lt;p&gt;]&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; The declaration for the entity &quot;ContentType&quot; must end with &apos;&amp;gt;&apos;.&lt;br/&gt;
    line 81 of &lt;a href=&quot;http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Not sure if this is related and/or only an intermediate problem with the trunk?&lt;br/&gt;
Note: I&apos;m building on Linux with maven 2.2.1 and Java 1.6.0_20-b02 (i386)  &lt;/p&gt;</comment>
                            <comment id="12916439" author="sergey_beryozkin" created="Thu, 30 Sep 2010 10:57:15 +0000"  >&lt;p&gt;Hi Ate - thanks for finding the time and verifying the fix on the 2.2.x branch.&lt;/p&gt;

&lt;p&gt;The thing is I&apos;m seeing these build errors on the trunk on (Ubuntu) regularly, I should&apos;ve reported them earlier on to the dev list.&lt;br/&gt;
I &apos;fix&apos; them by removing the ~/.m2/repository/org/apache/cxf. I&apos;ll start a thread on the dev list...&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;
</comment>
                            <comment id="12916469" author="adouma" created="Thu, 30 Sep 2010 13:19:47 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I now also tested against cxf-2.3.0-SNAPSHOT (thanks for the hint for &apos;fixing&quot; the build), and that one also checks out OK!&lt;/p&gt;

&lt;p&gt;So, for us this blocking issue now is resolved, thanks!&lt;br/&gt;
With regards to introducing a thread local and completely disable address overwrites, I agree that most likely is a better solution and probably needed for better stability and scalability. &lt;br/&gt;
But I also understand and agree this better not be done before the imminent 2.3 release. &lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Ate&lt;/p&gt;</comment>
                            <comment id="12916493" author="sergey_beryozkin" created="Thu, 30 Sep 2010 14:40:27 +0000"  >&lt;p&gt;Hi Ate&lt;/p&gt;

&lt;p&gt;thanks a million.&lt;br/&gt;
Yes, we need to think it over, I suspect that the reason overwriting is done is that further down the chain (JAXWS) WebServiceContexts or WSA, etc, can deal with addresses in the transport independent manner, irrespectively of whether&lt;br/&gt;
it is HTTP or JMS, etc...&lt;/p&gt;

&lt;p&gt;I&apos;ll create another JIRA so that we can track that&lt;br/&gt;
cheers, Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454777" name="cxf-rest-test.tar.gz" size="1935" author="ate" created="Thu, 16 Sep 2010 16:09:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uxxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>178640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>