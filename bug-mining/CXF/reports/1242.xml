<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:51:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4115] The operation property of the MessageContext may return wrong value if erroneous request is sent</title>
                <link>https://issues.apache.org/jira/browse/CXF-4115</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Send a random request to a Provider based service. Retrieving the operation property from the MessageContext within the invoke method always returns an operation defined in the attached wsdl even if the the rquest is completely unrelated, e.g. unknown SOAPAction, payload not matching any schema in the WSDL.&lt;br/&gt;
Expected behavior is to get back some undefined value, e.g. null, to indicate the requested operation could not be determined. &lt;/p&gt;

&lt;p&gt;Attached is the slightly modified jaxws_dispatch_provider sample. The changes were basically made in demo.hwDispatch.server.GreeterSoapMessageProvider:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;GreeterSoapMessageProvider.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@WebServiceProvider(portName = &lt;span class=&quot;code-quote&quot;&gt;&quot;SoapPort1&quot;&lt;/span&gt;, serviceName = &lt;span class=&quot;code-quote&quot;&gt;&quot;SOAPService1&quot;&lt;/span&gt;,
                      targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//apache.org/hello_world_soap_http&quot;&lt;/span&gt;,
&lt;/span&gt;                      wsdlLocation = &lt;span class=&quot;code-quote&quot;&gt;&quot;wsdl/hello_world.wsdl&quot;&lt;/span&gt;)
@ServiceMode(value = Service.Mode.MESSAGE)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GreeterSoapMessageProvider &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Provider&amp;lt;SOAPMessage&amp;gt; {

    @Resource
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; WebServiceContext context;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SOAPMessage invoke(SOAPMessage request) {

	    QName opName = (QName) context.getMessageContext().get(MessageContext.WSDL_OPERATION);

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Incoming Client Request as a SOAPMessage calling operation &quot;&lt;/span&gt; + opName);

...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;If sending the request attached in the output of the console is:&lt;br/&gt;
{{monospaced}}Incoming Client Request as a SOAPMessage calling operation &lt;/p&gt;
{http://apache.org/hello_world_soap_http}
&lt;p&gt;greetMe{{monospaced}}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542853">CXF-4115</key>
            <summary>The operation property of the MessageContext may return wrong value if erroneous request is sent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="zbeothy">Zsolt Beothy-Elo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2012 11:54:03 +0000</created>
                <updated>Mon, 23 Apr 2012 16:45:12 +0000</updated>
                            <resolved>Thu, 16 Feb 2012 18:10:50 +0000</resolved>
                                    <version>2.5.2</version>
                                    <fixVersion>2.3.10</fixVersion>
                    <fixVersion>2.4.7</fixVersion>
                    <fixVersion>2.5.3</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13209307" author="gmazza" created="Thu, 16 Feb 2012 12:24:10 +0000"  >&lt;p&gt;Rather than &quot;Expected behavior is to get back some undefined value, e.g. null, to indicate the requested operation could not be determined&quot; I think it should be &quot;Expected behavior is to get back some undefined value, e.g. null, to indicate framework making no effort to match the incoming request with a specific SEI operation.&quot;  If you&apos;re using a Provider-based service, the framework should be throwing all SOAP requests to it, so the algorithm it uses to match SOAP request to specific SEI operations (when using SEI-based services) should never have been activated anyway.&lt;/p&gt;

&lt;p&gt;Or maybe not.  The difference in approach here is with Provider it is still possible for the CXF framework to try to match the SOAP request to a specific wsdl:operation (even though there&apos;s no corresponding unique method in a Provider implementation to be called as a result), which would allow Provider implementations that ability to base business logic off of a populated MessageContext.WSDL_OPERATION instead of parsing the SOAP request to determine the functionality that needs to be called.  A case can be made for this but as I linked to in the superceding bug &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-4108&quot; title=&quot;Dispatch provider accepts any request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-4108&quot;&gt;&lt;del&gt;CXF-4108&lt;/del&gt;&lt;/a&gt;, Metro does not offer this so such functionality would break portability, and this algorithm activation for incoming calls to the Provider would cause some (probably minor) performance hit.&lt;/p&gt;</comment>
                            <comment id="13209447" author="dkulp" created="Thu, 16 Feb 2012 15:44:57 +0000"  >
&lt;p&gt;Just played around with the JAX-WS RI with your sample to see what it does.&lt;/p&gt;

&lt;p&gt;With JAX-WS RI 2.1.7 (and what&apos;s built into JDK 1.6), the provider ALWAYS gets null for the operation.  Looking into their code, they do not provide the wsdl operation name at all.  (it IS optional in the spec, see table 9.2 in the spec).    However, with 2.2.5 (version built into Java7), it provides null if the message doesn&apos;t match the wsdl and the proper qname if it does.   &lt;/p&gt;

&lt;p&gt;Anyway, I do think we need to return null in the non-matching case.   I just wanted to point out that code that relies on it NOT being null isn&apos;t exactly portable as the operation name is optional in the spec.&lt;/p&gt;



</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12542533">CXF-4108</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12514791" name="jaxws_dispatch_provider.zip" size="9593" author="zbeothy" created="Thu, 16 Feb 2012 11:55:30 +0000"/>
                            <attachment id="12514792" name="request.txt" size="504" author="zbeothy" created="Thu, 16 Feb 2012 11:55:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b8nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>