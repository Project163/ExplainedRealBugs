<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:49:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3365] CXF uses wrong policy alternative on response message</title>
                <link>https://issues.apache.org/jira/browse/CXF-3365</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;CXF uses a wrong policy on outgoing messages, if the wsdl has alternative policies.&lt;/p&gt;

&lt;p&gt;Here is my setup:&lt;br/&gt;
Server-policy:&lt;br/&gt;
  &amp;lt;wsp:ExactlyOne&amp;gt;&lt;br/&gt;
   &amp;lt;wsp:All&amp;gt;&lt;br/&gt;
	#1 SecureConversation policy&lt;br/&gt;
   &amp;lt;/wsp:All&amp;gt;&lt;br/&gt;
   &amp;lt;wsp:All&amp;gt;&lt;br/&gt;
	#2 nothing special, clients just send an UsernameToken&lt;br/&gt;
   &amp;lt;/wsp:All&amp;gt;&lt;br/&gt;
  &amp;lt;/wsp:ExactlyOne&amp;gt;&lt;/p&gt;

&lt;p&gt;Client-policy:&lt;br/&gt;
  &amp;lt;wsp:ExactlyOne&amp;gt;&lt;br/&gt;
   &amp;lt;wsp:All&amp;gt;&lt;br/&gt;
	#1 SecureConversation policy&lt;br/&gt;
   &amp;lt;/wsp:All&amp;gt;&lt;br/&gt;
  &amp;lt;/wsp:ExactlyOne&amp;gt;&lt;/p&gt;

&lt;p&gt;The client defines only the SecureConversation policy in it&apos;s wsdl.&lt;/p&gt;

&lt;p&gt;If I test my service, they communicate like this:&lt;br/&gt;
Client &amp;gt; Server: RST/SCT message&lt;br/&gt;
Server &amp;gt; Client: answers with a token&lt;br/&gt;
Client &amp;gt; Server: calls the webservice with an encrypted soap message&lt;br/&gt;
Server &amp;gt; Client: answers the service call with an unencrypted message&lt;br/&gt;
(the server took policy #2 for the answer) -&amp;gt; client throws an exception&lt;br/&gt;
&quot;These policy alternatives can not be satisfied&quot;&lt;/p&gt;


&lt;p&gt;I attached a test project, based on the AC_IPingService from the interop samples.&lt;br/&gt;
You can change the wsdl, which will be used by the server, in WSSCTest.startServers().&lt;/p&gt;


&lt;p&gt;Related to this issue is the following bug:&lt;/p&gt;

&lt;p&gt;If the UsernameToken policy is defined before the SecureConversation policy, the webservice fails on the RST/SCT message. Start the server with UtSecConvIPingService() to test this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499692">CXF-3365</key>
            <summary>CXF uses wrong policy alternative on response message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="karl rhenius">Karl Rhenius</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Feb 2011 10:48:17 +0000</created>
                <updated>Tue, 1 Nov 2011 02:11:38 +0000</updated>
                            <resolved>Wed, 5 Oct 2011 19:45:43 +0000</resolved>
                                    <version>2.3.2</version>
                                    <fixVersion>2.5</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12999291" author="karl rhenius" created="Fri, 25 Feb 2011 10:54:21 +0000"  >&lt;p&gt;testcase&lt;/p&gt;</comment>
                            <comment id="13121400" author="dkulp" created="Wed, 5 Oct 2011 19:45:43 +0000"  >

&lt;p&gt;See my comments in:&lt;br/&gt;
&lt;a href=&quot;http://cxf.547215.n5.nabble.com/WS-Policy-alternatives-td4867625.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/WS-Policy-alternatives-td4867625.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;about the compatibility of the fix and why it&apos;s only fixed for CXF 2.5.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471920" name="cxf-jira-3365.zip" size="314201" author="karl rhenius" created="Fri, 25 Feb 2011 10:54:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46582</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14f4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>