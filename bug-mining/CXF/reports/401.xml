<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2311] client can&apos;t be used with different ws security users</title>
                <link>https://issues.apache.org/jira/browse/CXF-2311</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;in a managed environment such as an application server it is impossible to use a generated webservice client with ws-security authentication with different users&lt;/li&gt;
	&lt;li&gt;the client seems to be a singleton and the WSS4JOutInterceptor is attached to the client, so it can&apos;t be changed for a single request without changing it for other callers&lt;/li&gt;
	&lt;li&gt;so the current implementation adds a kind of state to the client which the webservice dosn&apos;t have&lt;/li&gt;
	&lt;li&gt;there is no real request context for a single request to submit the ws-security credentials to a potential context sensitive security interceptor&lt;br/&gt;
-creating a client for everey request, after removing the client from the factory&lt;br/&gt;
  &amp;lt;code&amp;gt;&lt;br/&gt;
  jaxWsProxyFactoryBean.getClientFactoryBean().setClient(null);&lt;br/&gt;
  jaxWsProxyFactoryBean.create();&lt;br/&gt;
  &amp;lt;/code&amp;gt;&lt;br/&gt;
results in a heavy memory loss&lt;br/&gt;
-possible solution: create a by request context and add to generated clients, create a context sensitive ws-security interceptor &lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;webservice client&lt;br/&gt;
ws-security authentication&lt;br/&gt;
stateless session bean in an application server (JBoss)&lt;/p&gt;</environment>
        <key id="12428673">CXF-2311</key>
            <summary>client can&apos;t be used with different ws security users</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="sven-reinhardt">Sven Reinhardt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jun 2009 14:26:36 +0000</created>
                <updated>Fri, 4 Dec 2009 22:34:05 +0000</updated>
                            <resolved>Fri, 16 Oct 2009 20:00:34 +0000</resolved>
                                    <version>2.2.1</version>
                    <version>2.2.2</version>
                                    <fixVersion>2.2.5</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="864000">240h</timeoriginalestimate>
                            <timeestimate seconds="864000">240h</timeestimate>
                                        <comments>
                            <comment id="12725327" author="dkulp" created="Mon, 29 Jun 2009 20:17:31 +0000"  >
&lt;p&gt;Are you sure this doesn&apos;t already work?  At least with 2.2.2?&lt;/p&gt;

&lt;p&gt;Looking at that code, for everything OTHER than the Action and Actor, it seems to check the msg context for any properties.    Thus, just doing something like:&lt;/p&gt;

&lt;p&gt;((BindingProvider)client).getRequestContext().put(WSHandlerConstants.USER, &quot;joe&quot;);&lt;/p&gt;

&lt;p&gt; and similar should work.&lt;/p&gt;
</comment>
                            <comment id="12727451" author="sven-reinhardt" created="Mon, 6 Jul 2009 09:31:25 +0000"  >&lt;p&gt;It can&apos;t  work because the client on &lt;br/&gt;
jaxWsProxyFactoryBean.getClientFactoryBean().getClient(); &lt;br/&gt;
is a singleton.&lt;br/&gt;
code like this:&lt;br/&gt;
MyService client1 = (MyService) jaxWsProxyFactoryBean.create();&lt;br/&gt;
MyService client2 = (MyService) jaxWsProxyFactoryBean.create();&lt;br/&gt;
((BindingProvider)client1).getRequestContext().put(WSHandlerConstants.USER, &quot;jack&quot;); &lt;br/&gt;
((BindingProvider)client2).getRequestContext().put(WSHandlerConstants.USER, &quot;joe&quot;); &lt;br/&gt;
LOG.info(((BindingProvider)client1).getRequestContext().get(WSHandlerConstants.USER));&lt;/p&gt;

&lt;p&gt;produces:&lt;br/&gt;
joe&lt;br/&gt;
instead of jack&lt;br/&gt;
So it is not a per request context not even per service. &lt;/p&gt;

&lt;p&gt;I&apos;m using 2.2.2.&lt;br/&gt;
Is jaxWsProxyFactoryBean the right way to create the client in this situation?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10064"><![CDATA[Guru]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ux7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>178523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>