<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:47:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3627] high load may cause deadlocks</title>
                <link>https://issues.apache.org/jira/browse/CXF-3627</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;we tried to implement bi directional ws communication (both sides are client and servers)&lt;br/&gt;
methods were annotated with @oneway to make sure that on the other side request is processed in separate thread and to make sure requesting thread do not wait for the server processing (because server can issue another request back).&lt;/p&gt;

&lt;p&gt;Unfortunately there is confusing part of the code in org/apache/cxf/interceptor/OneWayProcessorInterceptor.java &lt;/p&gt;

&lt;p&gt;} catch (RejectedExecutionException e) {&lt;br/&gt;
      //the executor queue is full, so run the task in the caller thread&lt;br/&gt;
      chain.resume();&lt;/p&gt;

&lt;p&gt;that ignores @oneway and continues with the current thread, which means requesting thread (acting as client) will wait... in some cases forever (or till some network timeout)&lt;/p&gt;


&lt;p&gt;What is even worse, there is no single log line indicating that (and suggesting to increase thread pool size), so it was really hard to debug it&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512338">CXF-3627</key>
            <summary>high load may cause deadlocks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="repp">Peter Repp</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jun 2011 15:37:01 +0000</created>
                <updated>Fri, 19 Aug 2011 03:30:04 +0000</updated>
                            <resolved>Fri, 1 Jul 2011 04:19:06 +0000</resolved>
                                    <version>2.4.1</version>
                                    <fixVersion>2.3.6</fixVersion>
                    <fixVersion>2.4.2</fixVersion>
                    <fixVersion>2.5</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13058189" author="ffang" created="Fri, 1 Jul 2011 02:51:53 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RejectedExecutionException e) {
&lt;span class=&quot;code-comment&quot;&gt;//the executor queue is full, so run the task in the caller thread
&lt;/span&gt;chain.resume();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ensure that we won&apos;t lose oneway invocation if the executor queue is full. Anyway you can alawys configure a larger executor queue for high load. And I agree that add a log to indicate the &quot;the executor queue is full, so run the task in the caller thread&quot; should be good.&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="13058210" author="ffang" created="Fri, 1 Jul 2011 04:19:06 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1141787&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1141787&amp;amp;view=rev&lt;/a&gt; for trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1141788&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1141788&amp;amp;view=rev&lt;/a&gt; for 2.4.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1141789&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1141789&amp;amp;view=rev&lt;/a&gt; for 2.3.x branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b7u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>