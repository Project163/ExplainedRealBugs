<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:26:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7512] Swagger UI does not work for CXF-DOSGi mutli bundle distro</title>
                <link>https://issues.apache.org/jira/browse/CXF-7512</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;In karaf the swagger UI works fine but not in the multi bundle distro.&lt;/p&gt;

&lt;p&gt;The bug is in org.apache.cxf.jaxrs.swagger.OsgiSwaggerUiResolver. There the swagger UI is detected. Unfortunately the detection is based on the bundle location and only works for maven uri based deployments. As the mutli bundle distro is deployed using files it fails.&lt;/p&gt;

&lt;p&gt;I will change the detection to scan for the swagger webbundle by detecting the signature resource /META-INF/resources/swagger-ui. This approach should make the detection more robust regarding different packagings and deployments.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13103918">CXF-7512</key>
            <summary>Swagger UI does not work for CXF-DOSGi mutli bundle distro</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Sep 2017 12:30:56 +0000</created>
                <updated>Mon, 18 Sep 2023 18:50:46 +0000</updated>
                            <resolved>Wed, 4 Oct 2017 09:45:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16175519" author="sergey_beryozkin" created="Thu, 21 Sep 2017 21:52:46 +0000"  >&lt;p&gt;Hi Christian, thanks for having a lively discussion on IRC and sorry for being too defensive &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Lets start moving your way but in two phases as I&apos;d be really nervous with simply dropping the code which loads the maven bundles. As suggested, at the moment - please add your code after the one which checks Maven artifacts fails to find something. You can also optimize and skip the Maven-related code if the provided coordinates is not null and contains a &apos;/&apos; - the convention is to have something like &apos;groupId/artifactId&apos; - thus if no &apos;/&apos; is there =&amp;gt; we can skip the original code.&lt;br/&gt;
I&apos;ll then play on my own with the code you add, and may be we can indeed drop the original one once we move to the next main master...&lt;/p&gt;

&lt;p&gt;Thanks     &lt;/p&gt;</comment>
                            <comment id="16176033" author="chris@die-schneider.net" created="Fri, 22 Sep 2017 07:15:29 +0000"  >&lt;p&gt;Hi Sergey, no worries. &lt;br/&gt;
I created a PR for this issue now. For now I left the old code in place. I tested outside OSGi as well as with the CXF multi bundle distro. &lt;br/&gt;
I propose we first validate my PR and see if it solves the issue. Then we can decide if we deprecate the maven artifact based lookup.&lt;br/&gt;
The new lookup code is in a new class so it is nicely separated from the maven based lookup. I had to change the main code for calling the lookup methods though. I hope this is still correct.&lt;/p&gt;

</comment>
                            <comment id="16191066" author="sergey_beryozkin" created="Wed, 4 Oct 2017 09:45:22 +0000"  >&lt;p&gt;&quot;swagger-ui&quot; is part of the resource path to the root, so not sure making it configurable was needed. The existing resolver is already iterating over all the bundles, so I simply updated it to check the local entry if no user-provided maven coordinates were available, if found it would be preferred over the default Maven based location &lt;/p&gt;</comment>
                            <comment id="16494960" author="githubbot" created="Wed, 30 May 2018 10:03:29 +0000"  >&lt;p&gt;palmpatrick commented on issue #315: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7512&quot; title=&quot;Swagger UI does not work for CXF-DOSGi mutli bundle distro&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7512&quot;&gt;&lt;del&gt;CXF-7512&lt;/del&gt;&lt;/a&gt; Support searching swaggerUi by name and version in all bun&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/315#issuecomment-393104816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/315#issuecomment-393104816&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Hi @cschneider, @sberyozkin &lt;/p&gt;

&lt;p&gt;   I&apos;m using CXF-DOSGi to host and consume both SOAP and REST services within a plain Apache Felix OSGi distribution.&lt;br/&gt;
   It works flawlessly, except for the swagger UI.&lt;/p&gt;

&lt;p&gt;   What is the estimate on getting this fix reintegrated to CXF?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16495012" author="githubbot" created="Wed, 30 May 2018 10:54:53 +0000"  >&lt;p&gt;reta commented on a change in pull request #315: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7512&quot; title=&quot;Swagger UI does not work for CXF-DOSGi mutli bundle distro&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7512&quot;&gt;&lt;del&gt;CXF-7512&lt;/del&gt;&lt;/a&gt; Support searching swaggerUi by name and version in all bun&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/315#discussion_r191723521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/315#discussion_r191723521&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: rt/rs/description-swagger/src/main/java/org/apache/cxf/jaxrs/swagger/SwaggerUiResolver.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -87,12 +74,22 @@ protected static String checkUiRoot(String urlStr, String swaggerUiVersion) {&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;     public static String findSwaggerUiRoot(String swaggerUiMavenGroupAndArtifact, &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;String swaggerUiVersion) {&lt;/li&gt;
	&lt;li&gt;String root = HELPER.findSwaggerUiRootInternal(swaggerUiMavenGroupAndArtifact,&lt;/li&gt;
	&lt;li&gt;swaggerUiVersion);&lt;/li&gt;
	&lt;li&gt;if (root == null &amp;amp;&amp;amp; HELPER.getClass() != SwaggerUiResolver.class) {&lt;/li&gt;
	&lt;li&gt;root = new SwaggerUiResolver().findSwaggerUiRootInternal(swaggerUiMavenGroupAndArtifact,&lt;/li&gt;
	&lt;li&gt;swaggerUiVersion);&lt;br/&gt;
+                                           String swaggerUiName, String swaggerUiVersion) {&lt;br/&gt;
+        String root = null;&lt;br/&gt;
+        try 
{
+            root = new OsgiSwaggerUiResolver()
+                .findSwaggerUiRoot(swaggerUiMavenGroupAndArtifact, swaggerUiVersion);
+        }
&lt;p&gt; catch (Throwable e) &lt;/p&gt;
{
+            // Ignore
+        }
&lt;p&gt;+        try {&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Should it be wrapped into `if (root == null) &lt;/p&gt;
{ ... }
&lt;p&gt;` block (if previous lookup succeeded)?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="13103914">DOSGI-276</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13103923">CXF-7513</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kcof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>