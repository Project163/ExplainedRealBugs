<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:21:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7010] Swagger2Feature can not auto-link to SwaggerUi in OSGI</title>
                <link>https://issues.apache.org/jira/browse/CXF-7010</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description></description>
                <environment></environment>
        <key id="12996933">CXF-7010</key>
            <summary>Swagger2Feature can not auto-link to SwaggerUi in OSGI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="sergey_beryozkin">Sergey Beryozkin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2016 12:11:35 +0000</created>
                <updated>Sun, 2 Apr 2017 17:56:31 +0000</updated>
                            <resolved>Tue, 16 Aug 2016 09:53:10 +0000</resolved>
                                    <version>3.1.7</version>
                                    <fixVersion>3.1.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15421047" author="sergey_beryozkin" created="Mon, 15 Aug 2016 14:26:31 +0000"  >&lt;p&gt;Hey &#321;ukasz&lt;/p&gt;

&lt;p&gt;Can you give me a favour and check this code:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/rs/description-swagger/src/main/java/org/apache/cxf/jaxrs/swagger/OsgiSwaggerUiResolver.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/rs/description-swagger/src/main/java/org/apache/cxf/jaxrs/swagger/OsgiSwaggerUiResolver.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15421529" author="splatch" created="Mon, 15 Aug 2016 19:36:43 +0000"  >&lt;p&gt;Hey Sergey,&lt;br/&gt;
It is working fine when ui version is set, and no problems are reported. I am just a bit concerned about passing String as URI to SwaggerUIService. Classloader would be safer and can be achieved without wrapping logic by this sequence:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bundle.adapt(BundleWiring.class).getClassLoader
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure if its a bug but service listing (&lt;a href=&quot;http://localhost:8181/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/cxf&lt;/a&gt;) still doesn&apos;t show up link to swagger ui.&lt;/p&gt;</comment>
                            <comment id="15421612" author="sergey_beryozkin" created="Mon, 15 Aug 2016 20:26:51 +0000"  >&lt;p&gt;Hi &#321;ukasz, thanks for a quick test, nice start.&lt;/p&gt;

&lt;p&gt;I thought after I left the 1st comment that may be String would not be enough but then realized that obviously OSGI has a &apos;bundle:&apos; URL handler. I guess under the hood it all gets back to this Classloader. And in case of URLClassLoader we have a URL.&lt;br/&gt;
But we can tweak this SwaggerUiResolver code as often as we need &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, ping me please whenever you see an issue. &lt;br/&gt;
Let me look at the service page issue now...&lt;/p&gt;</comment>
                            <comment id="15421634" author="sergey_beryozkin" created="Mon, 15 Aug 2016 20:39:04 +0000"  >&lt;p&gt;Hi &#321;ukasz, &lt;br/&gt;
Hmm, I wonder if a bus visible to ServletController is different to the one which Swagger2Feature uses to set a swaggerUiAvailability flag. Should be the same but may be it is not the case in your deployment, can you please &lt;br/&gt;
check bus instances at&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/servicelist/FormattedServiceListWriter.java#L176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/transports/http/src/main/java/org/apache/cxf/transport/servlet/servicelist/FormattedServiceListWriter.java#L176&lt;/a&gt;&lt;br/&gt;
and  &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/rs/description-swagger/src/main/java/org/apache/cxf/jaxrs/swagger/Swagger2Feature.java#L99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/3.1.x-fixes/rt/rs/description-swagger/src/main/java/org/apache/cxf/jaxrs/swagger/Swagger2Feature.java#L99&lt;/a&gt;&lt;br/&gt;
thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15421653" author="splatch" created="Mon, 15 Aug 2016 20:54:19 +0000"  >&lt;p&gt;I reached these points as well. Property is properly set, however bus argument is null in FormattedServiceListWriter. I can see here a small conflict because SwaggerFeature must be added to endpoint, how service list will work if there will be multiple endpoints on the same bus?&lt;/p&gt;</comment>
                            <comment id="15421776" author="sergey_beryozkin" created="Mon, 15 Aug 2016 22:11:43 +0000"  >&lt;p&gt;I updated FormattedServiceListWriter to check a default bus in case the one passed to it is null. That should do it, hopefully.&lt;br/&gt;
For every endpoint there will be its own link, that should be fine too&lt;/p&gt;</comment>
                            <comment id="15421807" author="splatch" created="Mon, 15 Aug 2016 22:32:22 +0000"  >&lt;p&gt;It works like a charm! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15422516" author="sergey_beryozkin" created="Tue, 16 Aug 2016 09:52:57 +0000"  >&lt;p&gt;Nice, thanks for validating so fast, as I said we can continue improving as needed&lt;/p&gt;</comment>
                            <comment id="15952709" author="ashakirin" created="Sun, 2 Apr 2017 14:43:27 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I have discovered one case in OSGi, where the default bus fix doesn&apos;t really solve the problem.&lt;br/&gt;
It happens, if jax-rs service initializes a jax-rs or jax-ws client proxy on startup and this client proxy is created not through the blueprint, but programmatically, for example using JAXRSClientFactory.&lt;br/&gt;
If such client is created before the registration of first blueprint jax-rs service or blueprint jax-rs client in OSGi, the BusFactory will be initialized with ExtensionManagerBus as default bus (instead BlueprintBus).&lt;br/&gt;
This ExtensionManagerBus wouldn&apos;t be used by WadlGeneratior and doesn&apos;t know about &quot;wadl.service.description.available&quot; property. &lt;br/&gt;
As result the WADL links still wouldn&apos;t be shown in service list page.&lt;br/&gt;
Of course it is a bit &quot;exotic&quot; case, anyway the service page view will changed after migration on CXF 3.X.&lt;br/&gt;
I haven&apos;t a good idea how to fix it, perhaps introducing optional JVM property that always force WADL links. What do you think?&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Andrei.&lt;/p&gt;
</comment>
                            <comment id="15952791" author="sergey_beryozkin" created="Sun, 2 Apr 2017 17:56:31 +0000"  >&lt;p&gt;Hi Andrei&lt;/p&gt;

&lt;p&gt;Can you please experiment with setting a 2nd parameter to true:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/blob/master/rt/transports/http/src/main/java/org/apache/cxf/transport/http/osgi/HttpServiceTrackerCust.java#L65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/master/rt/transports/http/src/main/java/org/apache/cxf/transport/http/osgi/HttpServiceTrackerCust.java#L65&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope this is where the real fix should go in&lt;/p&gt;

&lt;p&gt;We need to also show the swagger links, and the high chance is either WADL or Swagger link will be non-operational if we just show both of them &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Thanks Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3299r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>