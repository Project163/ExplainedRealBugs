<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:02:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5102] schema resource loading code in various blueprint namespace handlers not working in some environment</title>
                <link>https://issues.apache.org/jira/browse/CXF-5102</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The local schema resource loading code of various blueprint namespace handlers uses the incorrect resource name syntax to load included resources, which the eclipse&apos;s classloader seems to tolerate but the standalone classloader has an issue with it.&lt;/p&gt;

&lt;p&gt;As a result, using PojoSR, you will see the following warning for various cxf&apos;s xml-schemas because those schemas cannot be loaded from the specified resource paths.&lt;/p&gt;

&lt;p&gt;2013-06-29 16:49:18,008 &lt;span class=&quot;error&quot;&gt;&amp;#91;int Extender: 3&amp;#93;&lt;/span&gt; WARN  NamespaceHandlerRegistryImpl   - No URL is defined for schema &lt;a href=&quot;http://cxf.apache.org/ws/rm/manager&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/ws/rm/manager&lt;/a&gt;. This schema will not be validated&lt;br/&gt;
2013-06-29 16:49:18,009 &lt;span class=&quot;error&quot;&gt;&amp;#91;int Extender: 3&amp;#93;&lt;/span&gt; WARN  NamespaceHandlerRegistryImpl   - No URL is defined for schema &lt;a href=&quot;http://schemas.xmlsoap.org/ws/2005/02/rm/policy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://schemas.xmlsoap.org/ws/2005/02/rm/policy&lt;/a&gt;. This schema will not be validated&lt;br/&gt;
2013-06-29 16:49:18,010 &lt;span class=&quot;error&quot;&gt;&amp;#91;int Extender: 3&amp;#93;&lt;/span&gt; WARN  NamespaceHandlerRegistryImpl   - No URL is defined for schema &lt;a href=&quot;http://cxf.apache.org/ws/addressing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/ws/addressing&lt;/a&gt;. This schema will not be validated&lt;/p&gt;


&lt;p&gt;Concretely, those namespace handlers are loading resources using the following syntax, for example when loading schemas/blueprint/something.xsd packaged in the jar.&lt;br/&gt;
getClass().getClassLoader().&lt;br/&gt;
                getResource(&quot;/schemas/blueprint/something.xsd&quot;)&lt;/p&gt;

&lt;p&gt;However, when loading a resource over the class loader, it should use the relative path like:&lt;br/&gt;
getClass().getClassLoader().&lt;br/&gt;
                getResource(&quot;schemas/blueprint/something.xsd&quot;)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12655573">CXF-5102</key>
            <summary>schema resource loading code in various blueprint namespace handlers not working in some environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="ay">Akitoshi Yoshida</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Jul 2013 10:27:01 +0000</created>
                <updated>Wed, 14 Aug 2013 15:49:23 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 11:51:32 +0000</resolved>
                                    <version>2.6.8</version>
                    <version>2.7.5</version>
                                    <fixVersion>2.6.9</fixVersion>
                    <fixVersion>2.7.6</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13696821" author="dkulp" created="Mon, 1 Jul 2013 13:51:58 +0000"  >
&lt;p&gt;Actually, they likely should use ClassLoaderUtils.getResource(String resourceName, Class&amp;lt;?&amp;gt; callingClass) which would try a couple different methods for locating the schema to take into account several different classloader behaviors.&lt;/p&gt;

&lt;p&gt;Either that or have the BundleContext injected into the Namespace handler and grab the schema directly from the bundle.  Not sure if BP would allow that though.&lt;/p&gt;
</comment>
                            <comment id="13697821" author="ay" created="Tue, 2 Jul 2013 14:18:05 +0000"  >&lt;p&gt;Hi Dan,&lt;br/&gt;
I think the standard path notation is the relative path (no leading &quot;/&quot;). &lt;/p&gt;

&lt;p&gt;Some loaders seem to have a pre-processing code that removes the leading &quot;/&quot; if present, so the absolute path also works.&lt;/p&gt;

&lt;p&gt;This removal code is also in java.lang.Class, so invoking getClass().getResource(&quot;/path/resource.txt&quot;) will look up &quot;path/resource.txt&quot; using its classloader and find the specified resource, as if invoking getClass().getClassLoader().getResource(&quot;path/resource.txt&quot;). I supposed this removal of leading &quot;/&quot; was a convenience code.&lt;/p&gt;

&lt;p&gt;If there are classloaders that only take the absolute path, we should switch to ClassLoaderUtils&apos;s getResource. But otherwise, I think we can stick to the relative path notation and use the simple mechanism to load the resources.&lt;/p&gt;

&lt;p&gt;Can we find or get an official confirmation or disconfirmation on this assumption?&lt;/p&gt;

&lt;p&gt;thanks.&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="13697887" author="dkulp" created="Tue, 2 Jul 2013 15:30:59 +0000"  >&lt;p&gt;The ClassLoaderUtils stuff was first put in place many years ago.  At that point, there were likely more problematic use cases.   Anyway, if you&apos;ve tested without the / with both Felix and Equinox, I&apos;m OK.&lt;/p&gt;</comment>
                            <comment id="13698220" author="ay" created="Tue, 2 Jul 2013 20:53:52 +0000"  >&lt;p&gt;Okay. Thanks.&lt;br/&gt;
Have run a simple test on both felix-4.0.3 and equinox-3.8.0&lt;br/&gt;
        System.out.println(&quot;classloader: &quot; + getClass().getClassLoader().getClass()); &lt;br/&gt;
        System.out.println(&quot;folder/res.txt? &quot;&lt;br/&gt;
            + getClass().getClassLoader().getResource(&quot;path/file.txt&quot;));&lt;br/&gt;
        System.out.println(&quot;/folder/res.txt? &quot;&lt;br/&gt;
            + getClass().getClassLoader().getResource(&quot;/path/file.txt&quot;));&lt;/p&gt;

&lt;p&gt;and saw the both path expressions successfully resolved.&lt;br/&gt;
classloader: class org.apache.felix.framework.BundleWiringImpl$BundleClassLoaderJava5&lt;br/&gt;
folder/res.txt? bundle://54.0:1/path/file.txt&lt;br/&gt;
/folder/res.txt? bundle://54.0:1/path/file.txt&lt;/p&gt;

&lt;p&gt;classloader: class org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader&lt;br/&gt;
folder/res.txt? bundleresource://54.fwk833898193/path/file.txt&lt;br/&gt;
/folder/res.txt? bundleresource://54.fwk833898193/path/file.txt&lt;/p&gt;

&lt;p&gt;So, this change should not harm the OSGi use cases.&lt;/p&gt;
</comment>
                            <comment id="13698864" author="ay" created="Wed, 3 Jul 2013 11:45:08 +0000"  >&lt;p&gt;and to complete the test output, here is the standalone jdk6 case.&lt;/p&gt;

&lt;p&gt;classloader: class sun.misc.Launcher$AppClassLoader&lt;br/&gt;
folder/res.txt? jar:&lt;a href=&quot;file:/tmp/test/test-resource-loading-0.0.1-SNAPSHOT.jar!/path/file.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/tmp/test/test-resource-loading-0.0.1-SNAPSHOT.jar!/path/file.txt&lt;/a&gt;&lt;br/&gt;
/folder/res.txt? null&lt;/p&gt;
</comment>
                            <comment id="13698870" author="ay" created="Wed, 3 Jul 2013 11:51:32 +0000"  >&lt;p&gt;regarding the 2.7.x changes, some files that are listed for trunk on the source tab are not listed for 2.7.x, as those files were wrongly submitted with another ticket number, but these files have been also integrated into 2.7.x.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lxjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>