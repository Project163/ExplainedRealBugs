<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:48:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3510] wrong destination determination by OSGi based CXF entry point (regarding its fallback logic)</title>
                <link>https://issues.apache.org/jira/browse/CXF-3510</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;This problem is described in cxf-user thread&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.547215.n5.nabble.com/strange-destination-determination-logic-used-by-the-osgi-based-cxf-entry-point-td4385312.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/strange-destination-determination-logic-used-by-the-osgi-based-cxf-entry-point-td4385312.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In summary, the http entry point in the OSGi container uses the destination determination logic using a simple request path matching when there is no exact match of the request URL path to one of the registered destination paths. Consequently, when you have a service registered at &quot;/abc&quot;, a request to any URL path starting with this string, for example, &quot;/abc2&quot;, &quot;/abctest&quot; is also fowarded to this service. And this is not intended.&lt;/p&gt;

&lt;p&gt;The intention of this fallback logic was for the rest based calls to forward a request with an additional path argument to its correct service. For examples, requests to &quot;/abc/def&quot; or &quot;/abc/1/2&quot; should be forwarded to the service registered at &quot;/abc&quot;.&lt;/p&gt;

&lt;p&gt;I&apos;ll be suggesting the change required in org.apache.cxf.transport.http_osgi.OsgiServletController for 2.3.x and org.apache.cxf.transport.http.DestinationRegistryImpl for 2.4.x.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12506869">CXF-3510</key>
            <summary>wrong destination determination by OSGi based CXF entry point (regarding its fallback logic)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="ay">Akitoshi Yoshida</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 May 2011 16:00:34 +0000</created>
                <updated>Mon, 8 Aug 2011 14:43:48 +0000</updated>
                            <resolved>Mon, 23 May 2011 14:28:52 +0000</resolved>
                                    <version>2.4</version>
                    <version>2.3.4</version>
                                    <fixVersion>2.4.1</fixVersion>
                    <fixVersion>2.3.5</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13031827" author="sergey_beryozkin" created="Wed, 11 May 2011 16:19:05 +0000"  >&lt;p&gt;It is also meant to serve SOAP GET requests where method name and parameter value is embedded in URI&lt;/p&gt;</comment>
                            <comment id="13032541" author="ay" created="Thu, 12 May 2011 17:52:22 +0000"  >&lt;p&gt;Attached are the 2.3.x and trunk fixes with unit tests.&lt;/p&gt;

&lt;p&gt;M       2.3.x-fixes/rt/transports/http-osgi/src/test/java/org/apache/cxf/transport/http_osgi/OsgiServletTest.java&lt;br/&gt;
M       2.3.x-fixes/rt/transports/http-osgi/src/main/java/org/apache/cxf/transport/http_osgi/OsgiServletController.java&lt;/p&gt;

&lt;p&gt;A       trunk/rt/transports/http/src/test/java/org/apache/cxf/transport/http/DestinationRegistryImplTest.java&lt;br/&gt;
M       trunk/rt/transports/http/src/main/java/org/apache/cxf/transport/http/DestinationRegistryImpl.java&lt;/p&gt;

&lt;p&gt;The path matching code checks the trailing &apos;/&apos; to avoid false matching. This change itself is straightforward.&lt;/p&gt;

&lt;p&gt;The test class is also straightforward for 2.4.x, as the method to be tested is public. In cotrast, it is somehow complicated for 2.3.x, as the coresponding method is not public and the test uses another accessible method.&lt;/p&gt;

&lt;p&gt;For both codelines, the provided tests cover the cases that we discussed in the dev@cxf mailing list.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;</comment>
                            <comment id="13033070" author="sergey_beryozkin" created="Fri, 13 May 2011 15:15:58 +0000"  >&lt;p&gt;Hi Aki - that looks like a very effective solution, I was thinking of splitting and comparing segments but your solution is much simpler, looks good&lt;/p&gt;</comment>
                            <comment id="13037786" author="ay" created="Mon, 23 May 2011 08:13:36 +0000"  >&lt;p&gt;trunk - Committed revision 1126369.&lt;br/&gt;
2.3.x-fixed - Committed revision 1126371.&lt;/p&gt;</comment>
                            <comment id="13037917" author="ay" created="Mon, 23 May 2011 12:43:45 +0000"  >&lt;p&gt;the code submitted with the previous patch does not match the request (e.g., /bookstore/books/123) against the regisered service when the service is registered at the root &quot;/&quot;. Consequently, the change is breaking some of the jaxrs systest.&lt;/p&gt;

&lt;p&gt;I need to add the path.equals(&quot;/&quot;) as a special case in the matching condition to handle these cases.&lt;/p&gt;</comment>
                            <comment id="13037964" author="ay" created="Mon, 23 May 2011 14:28:52 +0000"  >&lt;p&gt;fixed the mentioned issue by adding the &quot;/&quot; check.&lt;br/&gt;
trunk       - r1126478&lt;br/&gt;
2.3.x-fixed - r1126488&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12508785">CXF-3559</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12478997" name="2.3.x-fixes-20110512.diff.txt" size="6774" author="ay" created="Thu, 12 May 2011 17:52:22 +0000"/>
                            <attachment id="12478998" name="trunk-20110512.diff.txt" size="6762" author="ay" created="Thu, 12 May 2011 17:52:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b70n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>