<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:24:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7304] WADL generator doesn&apos;t work properly in case cyrillic characters is used in URL</title>
                <link>https://issues.apache.org/jira/browse/CXF-7304</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;WADL generator doesn&apos;t work properly in case Cyrillic characters is used in URL. WADL generator skips all methods description when URL contains Cyrillic characters. If I replace Cyrillic characters in URL to Latin characters generator will work fine.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 10, Java 8&lt;/p&gt;</environment>
        <key id="13060082">CXF-7304</key>
            <summary>WADL generator doesn&apos;t work properly in case cyrillic characters is used in URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="mkamalov">Marat Kamalov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Mar 2017 15:53:03 +0000</created>
                <updated>Mon, 10 Apr 2017 19:04:34 +0000</updated>
                            <resolved>Wed, 5 Apr 2017 21:58:54 +0000</resolved>
                                    <version>3.0.11</version>
                                    <fixVersion>3.0.13</fixVersion>
                    <fixVersion>3.1.11</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15947404" author="sergey_beryozkin" created="Wed, 29 Mar 2017 16:05:55 +0000"  >&lt;p&gt;Can you please type an example of the Java code, I believe you have the characters set in JAX-RS Path annotations ?&lt;/p&gt;</comment>
                            <comment id="15947407" author="sergey_beryozkin" created="Wed, 29 Mar 2017 16:07:12 +0000"  >&lt;p&gt;or Description.docuri ?&lt;/p&gt;</comment>
                            <comment id="15947680" author="mkamalov" created="Wed, 29 Mar 2017 18:47:40 +0000"  >&lt;p&gt;No, we don&apos;t have Cyrillic characters in interface annotations. All characters in annotations has only Latin characters. Sorry, we don&apos;t have interface code to show you, because it is generated in runtime. Cyrillic characters are only used in one line of code:&lt;br/&gt;
JAXRSServerFactoryBean svrFactory = ....;&lt;br/&gt;
svrFactory.setAddress(url);&lt;br/&gt;
Url variable contains Cyrillic characters.&lt;br/&gt;
Please, could you check that WadlGenerator with JAXRSServerFactoryBean that uses URL with Cyrillic characters works properly?&lt;br/&gt;
WadlGenerator doesn&apos;t generate body if url variable contains Cyrillic characters. We don&apos;t use Cyrillic characters in other places.&lt;/p&gt;</comment>
                            <comment id="15947702" author="mkamalov" created="Wed, 29 Mar 2017 18:58:00 +0000"  >&lt;p&gt;Our application is Open Source. I can provide configured WAR file with this issue for you if you wish.&lt;/p&gt;</comment>
                            <comment id="15947724" author="sergey_beryozkin" created="Wed, 29 Mar 2017 19:07:43 +0000"  >&lt;p&gt;Thanks, well, I don&apos;t need exactly the same application but only a sample showing what you do. So the only place where the Cyrillic characters are used is when the service factory address is set, can you type an example URI (with the arbitrary Cyrillic chars) which only shows at what level the characters are set (URI Path component ? Are they %encoded) ?&lt;br/&gt;
And does the server respond to the HTTP requests or have you only tried to get WADL so far ?&lt;/p&gt;</comment>
                            <comment id="15947778" author="mkamalov" created="Wed, 29 Mar 2017 19:44:39 +0000"  >&lt;p&gt;We have init-param for CXFServlet in web.xml.&lt;br/&gt;
                &amp;lt;init-param&amp;gt;&lt;br/&gt;
			&amp;lt;param-name&amp;gt;uriEncoding&amp;lt;/param-name&amp;gt;&lt;br/&gt;
			&amp;lt;param-value&amp;gt;UTF-8&amp;lt;/param-value&amp;gt;&lt;br/&gt;
		&amp;lt;/init-param&amp;gt;&lt;br/&gt;
and additional:&lt;br/&gt;
	&amp;lt;filter&amp;gt;&lt;br/&gt;
		&amp;lt;filter-name&amp;gt;CharacterEncodingFilter&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
		&amp;lt;filter-class&amp;gt;org.springframework.web.filter.CharacterEncodingFilter&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
		&amp;lt;init-param&amp;gt;&lt;br/&gt;
			&amp;lt;param-name&amp;gt;encoding&amp;lt;/param-name&amp;gt;&lt;br/&gt;
			&amp;lt;param-value&amp;gt;UTF-8&amp;lt;/param-value&amp;gt;&lt;br/&gt;
		&amp;lt;/init-param&amp;gt;&lt;br/&gt;
	&amp;lt;/filter&amp;gt;&lt;br/&gt;
	&amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
		&amp;lt;filter-name&amp;gt;CharacterEncodingFilter&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
		&amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
	&amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;My URI is &lt;a href=&quot;http://localhost:8110/org.openl.rules.ruleservice.ws-5.20.0-SNAPSHOT/REST/datasource/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.openl.rules.ruleservice.ws-5.20.0-SNAPSHOT/REST/datasource/&lt;/a&gt;&#1055;&#1088;&#1080;&#1074;&#1077;&#1090;/DriverAgeType shows in google chrome, but it sends as &lt;a href=&quot;http://localhost:8110/org.openl.rules.ruleservice.ws-5.20.0-SNAPSHOT/REST/datasource/%D0%9F%D1%80%D0%B8%D0%B2%D0%B5%D1%82/DriverAgeType&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.openl.rules.ruleservice.ws-5.20.0-SNAPSHOT/REST/datasource/%D0%9F%D1%80%D0%B8%D0%B2%D0%B5%D1%82/DriverAgeType&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a POST request without any parameter.&lt;/p&gt;

&lt;p&gt;Server doesn&apos;t respond to the HTTP requests also. I found that JAXRSUtil class in findTargetMethod method has following code:&lt;br/&gt;
if (uriTemplate != null &amp;amp;&amp;amp; uriTemplate.match(path, map)) {&lt;br/&gt;
I have path variable in this line equal to &quot;/org.openl.rules.ruleservice.ws-5.20.0-SNAPSHOT/REST/datasource/%D0%9F%D1%80%D0%B8%D0%B2%D0%B5%D1%82/DriverAgeType&quot; if I use Cyrillic chars. But if I use only Latin chars it equals to &quot;/DriverAgeType&quot;.&lt;/p&gt;</comment>
                            <comment id="15947817" author="mkamalov" created="Wed, 29 Mar 2017 20:14:54 +0000"  >&lt;p&gt;Please, could you look at attached screenshot. I found in debug that &quot;path&quot; variable and &quot;address&quot; are different. One is encoded but another is decoded. And method path.indexOf (line 500) doesn&apos;t work as expected. Please, could you give me some advice?&lt;/p&gt;</comment>
                            <comment id="15947824" author="sergey_beryozkin" created="Wed, 29 Mar 2017 20:21:07 +0000"  >&lt;p&gt;Very interesting - I don&apos;t think we&apos;ve ever had such issues reported before, where internatialized URLs are used. &lt;/p&gt;

&lt;p&gt;I think I do need to ask you after all, can you please create some basic HelloWorld war which has all set up so that I can debug and see where the problem is, otherwise it will be difficult to reproduce for me, thanks &lt;/p&gt;</comment>
                            <comment id="15947828" author="sergey_beryozkin" created="Wed, 29 Mar 2017 20:23:09 +0000"  >&lt;p&gt;This shows the end result leading to a mismatch and I&apos;d like to have a war available for me to trace where the problem is originating from&lt;/p&gt;</comment>
                            <comment id="15947840" author="mkamalov" created="Wed, 29 Mar 2017 20:34:32 +0000"  >&lt;p&gt;Sure I will prepare WAR with simple REST service for you tomorrow.&lt;/p&gt;</comment>
                            <comment id="15948659" author="mkamalov" created="Thu, 30 Mar 2017 08:31:50 +0000"  >&lt;p&gt;I prepared a simple HelloWorld example for you. Sample WAR file and sources was attached to ticket.&lt;/p&gt;

&lt;p&gt;&quot;my-beans.xml&quot; file has following bean:&lt;br/&gt;
	&amp;lt;bean class=&quot;org.open.cxf.issue.CXFServiceBean&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;address&quot; value=&quot;/&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;jaxrsServerFactoryBean&quot; ref=&quot;JAXRSServerFactoryBean&quot;/&amp;gt;&lt;br/&gt;
	&amp;lt;/bean&amp;gt;&lt;br/&gt;
Please, replace address property to &quot;/latin&quot; and compare results.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/latin/hello&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/latin/hello&lt;/a&gt; - works! &lt;br/&gt;
&lt;a href=&quot;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/&lt;/a&gt;&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;/hello - server responds 404&lt;/p&gt;

&lt;p&gt;And, please, compare WADLs for Latin and Cyrillic chars. There are different.&lt;/p&gt;</comment>
                            <comment id="15948900" author="sergey_beryozkin" created="Thu, 30 Mar 2017 11:41:50 +0000"  >&lt;p&gt;The problem is that at the CXF level the address is &quot;/&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;&quot; but when the browser issues a request, each Cyrrilic char is percent-encoded, hence the mismatch. The runtime must not decode the %-encoded chars before the service is invoked.&lt;br/&gt;
The same problem would apply if you had @Path(&quot;&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;&quot;) on one of the resource methods.&lt;/p&gt;

&lt;p&gt;I don&apos;t know how it should be processed. For ex, if one has @Path(&quot;some path&quot;) then the runtime will ensure that the actual path value is &quot;some%20path&quot;. I&apos;m not sure yet if &quot;&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;&quot; should be automatically URL-encoded &lt;/p&gt;

&lt;p&gt;In the short term set the URLEncoded value of &quot;&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;&quot;&lt;/p&gt;
</comment>
                            <comment id="15948918" author="sergey_beryozkin" created="Thu, 30 Mar 2017 11:56:01 +0000"  >&lt;p&gt;Actually it works at the Path level...&lt;/p&gt;</comment>
                            <comment id="15949281" author="mkamalov" created="Thu, 30 Mar 2017 15:30:35 +0000"  >&lt;p&gt;If I used URL-encoded value for address, CXF can&apos;t find service.&lt;/p&gt;

&lt;p&gt;Path level is not acceptable for these purposes, because you can&apos;t use empty address for service and have to define something and Path is different level ( you will not have WADL on &lt;a href=&quot;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/&lt;/a&gt;&#1082;&#1080;&#1088;&#1080;&#1083;&#1080;&#1094;&#1072;?_wadl you will have wadl on &lt;a href=&quot;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/someaddress?_wadl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8110/org.open.cxf.issue-0.0.1-SNAPSHOT/someaddress?_wadl&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15951226" author="sergey_beryozkin" created="Fri, 31 Mar 2017 16:32:55 +0000"  >&lt;p&gt;I did a minor update that will let it work if you set a &quot;/&quot; + URLEncoded value as an address, with a test confirming it. The reason I did it is that it will be consistent with the fact that this relative address is just one of the path segments and given that JAX-RS encodes @Path values itself, it will be correct to ensure the 1st path segment is treated the same way.&lt;br/&gt;
The sensitive part here is that this 1st path segment is registered with the underlying HTTP container therefore I decided not to auto-encode it to avoid breaking some people&apos;s code by accident even though it appears to be a safe way to do - we just have no enough material yet how various containers would react to percent-encoded endpoint address values. Perhaps we can update CXF to auto-encode the endpoint address at a later stage. Please try CXF 3.0.13-SNAPSHOT next week &lt;/p&gt;</comment>
                            <comment id="15957828" author="sergey_beryozkin" created="Wed, 5 Apr 2017 21:58:54 +0000"  >&lt;p&gt;I&apos;ll resolve it, let us know how it works out&lt;/p&gt;</comment>
                            <comment id="15958564" author="mkamalov" created="Thu, 6 Apr 2017 08:40:52 +0000"  >&lt;p&gt;Thanks, It works with encoded url now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12861194" name="org.open.cxf.issue-0.0.1-SNAPSHOT.war" size="9672648" author="mkamalov" created="Thu, 30 Mar 2017 08:21:57 +0000"/>
                            <attachment id="12861195" name="org.open.cxf.issue.zip" size="10690" author="mkamalov" created="Thu, 30 Mar 2017 08:21:57 +0000"/>
                            <attachment id="12861089" name="screenshot-1.png" size="37337" author="mkamalov" created="Wed, 29 Mar 2017 20:10:28 +0000"/>
                            <attachment id="12861095" name="screenshot-2.png" size="71826" author="mkamalov" created="Wed, 29 Mar 2017 20:33:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cyc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>