<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2571] wsdl2java and jax-ws-catalog: failing to resolve schemas included with xsd:include in jar-file</title>
                <link>https://issues.apache.org/jira/browse/CXF-2571</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;cxf-codegen-plugin/wsdl2java (2.1.8, 2.2.5)&lt;/p&gt;

&lt;p&gt;Refer user-list thread:&lt;br/&gt;
&lt;a href=&quot;http://old.nabble.com/jax-ws-catalog-and-resolving-schemas-in-jars-that-do-xsd%3Ainclude-td26590812.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://old.nabble.com/jax-ws-catalog-and-resolving-schemas-in-jars-that-do-xsd%3Ainclude-td26590812.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Schema resolution from a jar-file (using jax-ws-catalog as per 4.4 Catalog Facility in the JAX-WS 2.1 spec) fails when:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The referenced schema in a jar makes xsd:include on another schema in the&lt;br/&gt;
jar (all schemas in a jar share the same namespace).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Stacktrace below for CXF 2.1.8 below. CXF 2.2.5 also fails but with a NullPointerException.&lt;/p&gt;

&lt;p&gt;Note: xsd:import works but requires imported schema to be in another&lt;br/&gt;
namespace.&lt;/p&gt;


&lt;p&gt;Projects look like:&lt;/p&gt;

&lt;p&gt;common-types-domain1&lt;br/&gt;
   META-INF/jax-ws-catalog.xml&lt;br/&gt;
   schemas/domain1/domain1-schema1.xsd&lt;br/&gt;
   schemas/domain1/domain1-schema2.xsd&lt;/p&gt;

&lt;p&gt;wsdl-project-1&lt;br/&gt;
   src\main\resources\schemas\GetX.xsd&lt;br/&gt;
   src\main\resources\schemas\GetXService.wsdl&lt;/p&gt;

&lt;p&gt;where the GetXService.wsdl imports GetX.xsd which imports&lt;br/&gt;
domain1-schema2.xsd like this:&lt;/p&gt;


&lt;p&gt;GetX.xsd:&lt;/p&gt;

&lt;p&gt;   &amp;lt;xsd:import namespace=&quot;http://www.example.org/schemas/domain1&quot;&lt;br/&gt;
       schemaLocation=&quot;&lt;br/&gt;
&lt;a href=&quot;http://www.example.org/schemas/domain1/domain1-schema2.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org/schemas/domain1/domain1-schema2.xsd&lt;/a&gt;&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;domain1-schema2.xsd:&lt;/p&gt;

&lt;p&gt;   &amp;lt;xsd:include schemaLocation=&quot;domain1-schema1.xsd&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;common-types-domain1/META-INF/jax-ws-catalog.xml:&lt;/p&gt;

&lt;p&gt;   &amp;lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&lt;br/&gt;
prefer=&quot;system&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;system systemId=&quot;&lt;br/&gt;
&lt;a href=&quot;http://www.example.org/schemas/domain1/domain1-schema1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org/schemas/domain1/domain1-schema1.xsd&lt;/a&gt;&quot;&lt;br/&gt;
         uri=&quot;classpath:schemas/domain1/domain1-schema1.xsd&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;system systemId=&quot;&lt;br/&gt;
&lt;a href=&quot;http://www.example.org/schemas/domain1/domain1-schema2.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org/schemas/domain1/domain1-schema2.xsd&lt;/a&gt;&quot;&lt;br/&gt;
         uri=&quot;classpath:schemas/domain1/domain1-schema2.xsd&quot;/&amp;gt;&lt;br/&gt;
   &amp;lt;/catalog&amp;gt;&lt;/p&gt;

&lt;p&gt;results in:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.cxf.tools.common.ToolException: Thrown by JAXB :&lt;br/&gt;
&lt;a href=&quot;http://www.example.org/schemas/domain1/domain1-schema1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org/schemas/domain1/domain1-schema1.xsd&lt;/a&gt;&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBBindErrorListener.error(JAXBBindErrorListener.java:34)&lt;br/&gt;
   at&lt;br/&gt;
com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.error(SchemaCompilerImpl.java:285)&lt;br/&gt;
   at com.sun.tools.xjc.ErrorReceiver.error(ErrorReceiver.java:90)&lt;br/&gt;
   at&lt;br/&gt;
com.sun.tools.xjc.reader.internalizer.DOMForest.parse(DOMForest.java:402)&lt;br/&gt;
   at&lt;br/&gt;
com.sun.tools.xjc.reader.internalizer.DOMForest.parse(DOMForest.java:301)&lt;br/&gt;
   at&lt;br/&gt;
com.sun.tools.xjc.reader.internalizer.AbstractReferenceFinderImpl.startElement(AbstractReferenceFinderImpl.java:95)&lt;br/&gt;
   at&lt;br/&gt;
org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:527)&lt;br/&gt;
   at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:240)&lt;br/&gt;
   at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:277)&lt;br/&gt;
   at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:246)&lt;br/&gt;
   at com.sun.xml.bind.unmarshaller.DOMScanner.scan(DOMScanner.java:123)&lt;br/&gt;
   at&lt;br/&gt;
com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.parseSchema(SchemaCompilerImpl.java:135)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBDataBinding.addSchemas(JAXBDataBinding.java:253)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:196)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.generateTypes(WSDLToJavaContainer.java:588)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:239)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:130)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:283)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:83)&lt;br/&gt;
   at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:103)&lt;br/&gt;
   at&lt;br/&gt;
org.apache.cxf.maven_plugin.WSDL2JavaMojo.processWsdl(WSDL2JavaMojo.java:337)&lt;br/&gt;
   ... 20 more&lt;br/&gt;
Caused by: java.io.FileNotFoundException:&lt;br/&gt;
&lt;a href=&quot;http://www.example.org/schemas/domain1/domain1-schema1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org/schemas/domain1/domain1-schema1.xsd&lt;/a&gt;&lt;br/&gt;
   ... 39 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 2.2.1&lt;br/&gt;
Java version: 1.5.0_21&lt;br/&gt;
OS name: &quot;windows xp&quot;&lt;/p&gt;</environment>
        <key id="12442325">CXF-2571</key>
            <summary>wsdl2java and jax-ws-catalog: failing to resolve schemas included with xsd:include in jar-file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="hdahl">H&#229;kan Dahl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Dec 2009 09:40:14 +0000</created>
                <updated>Fri, 5 Feb 2010 09:18:35 +0000</updated>
                            <resolved>Thu, 10 Dec 2009 18:04:42 +0000</resolved>
                                    <version>2.1.8</version>
                    <version>2.2.5</version>
                                    <fixVersion>2.1.9</fixVersion>
                    <fixVersion>2.2.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12785239" author="hdahl" created="Thu, 3 Dec 2009 09:44:31 +0000"  >&lt;p&gt;Attached test-projects.&lt;/p&gt;

&lt;p&gt;To reproduce problem, run the following in the root-project:&lt;/p&gt;

&lt;p&gt;mvn -e clean install&lt;/p&gt;</comment>
                            <comment id="12787133" author="dkulp" created="Mon, 7 Dec 2009 21:42:14 +0000"  >
&lt;p&gt;I got past the NPE in 2.2.5 (we were not setting the systemId), but ran into a bug in XJC.   They are doing:&lt;/p&gt;

&lt;p&gt;new URI(locator.getSystemId()).resolve(new URI(schemaLocation))&lt;/p&gt;

&lt;p&gt;to resolve the include.   However, that doesn&apos;t work with a &quot;jar&quot; url as the systemId of the original schema.   The URI in that case is considered opaque and thus resolve just returns the child value as is.       I THINK I can work around this by kind of DOM loading the schemas and preprocessing the includes and such, but yuck.   &lt;/p&gt;

&lt;p&gt;I&apos;m going to doubt I&apos;ll be able to fix this on 2.1.x as the databinding/schema code there is very  different.&lt;/p&gt;</comment>
                            <comment id="12787168" author="dkulp" created="Mon, 7 Dec 2009 22:25:56 +0000"  >
&lt;p&gt;Workaround/hack committed to 2.2 branch.   Tomorrows snapshots should have the fix.   It would be great if you could rerun your tests and such with the snapshot.&lt;/p&gt;</comment>
                            <comment id="12787278" author="dkulp" created="Tue, 8 Dec 2009 03:24:19 +0000"  >&lt;p&gt;&lt;br/&gt;
The NPE is gone and it looks like it&apos;s working, but not all the types are being generated.&lt;/p&gt;</comment>
                            <comment id="12788080" author="hdahl" created="Wed, 9 Dec 2009 13:18:22 +0000"  >&lt;p&gt;Verified:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;2.2.6-SNAPSHOT: works OK!&lt;/li&gt;
	&lt;li&gt;2.1.9-SNAPSHOT: still broken. Getting error below:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&amp;#8212;&lt;br/&gt;
Caused by: org.apache.maven.plugin.MojoExecutionException: Thrown by JAXB : unknown protocol: classpath&lt;br/&gt;
	at org.apache.cxf.maven_plugin.WSDL2JavaMojo.processWsdl(WSDL2JavaMojo.java:340)&lt;br/&gt;
	at org.apache.cxf.maven_plugin.WSDL2JavaMojo.execute(WSDL2JavaMojo.java:245)&lt;br/&gt;
	at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)&lt;br/&gt;
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)&lt;br/&gt;
	... 17 more&lt;br/&gt;
Caused by: org.apache.cxf.tools.common.ToolException: Thrown by JAXB : unknown protocol: classpath&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBBindErrorListener.error(JAXBBindErrorListener.java:34)&lt;br/&gt;
	at com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.error(SchemaCompilerImpl.java:285)&lt;br/&gt;
	at com.sun.tools.xjc.ErrorReceiver.error(ErrorReceiver.java:90)&lt;br/&gt;
	at com.sun.tools.xjc.reader.internalizer.DOMForest.parse(DOMForest.java:402)&lt;br/&gt;
	at com.sun.tools.xjc.reader.internalizer.DOMForest.parse(DOMForest.java:301)&lt;br/&gt;
	at com.sun.tools.xjc.reader.internalizer.AbstractReferenceFinderImpl.startElement(AbstractReferenceFinderImpl.java:95)&lt;br/&gt;
	at org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:527)&lt;br/&gt;
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:240)&lt;br/&gt;
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:277)&lt;br/&gt;
	at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:246)&lt;br/&gt;
	at com.sun.xml.bind.unmarshaller.DOMScanner.scan(DOMScanner.java:123)&lt;br/&gt;
	at com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.parseSchema(SchemaCompilerImpl.java:135)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBDataBinding.addSchemas(JAXBDataBinding.java:257)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.databinding.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:198)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.generateTypes(WSDLToJavaContainer.java:588)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:239)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:130)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:283)&lt;br/&gt;
	at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:83)&lt;br/&gt;
	at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:103)&lt;br/&gt;
	at org.apache.cxf.maven_plugin.WSDL2JavaMojo.processWsdl(WSDL2JavaMojo.java:337)&lt;br/&gt;
	... 20 more&lt;/p&gt;

</comment>
                            <comment id="12830023" author="hdahl" created="Fri, 5 Feb 2010 09:18:35 +0000"  >&lt;p&gt;Verified:&lt;/p&gt;

&lt;p&gt;2.1.9 is fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12426767" name="jax-ws-catalog-test-20091203.zip" size="13350" author="hdahl" created="Thu, 3 Dec 2009 09:44:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v21b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>