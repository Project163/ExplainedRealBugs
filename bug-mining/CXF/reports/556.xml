<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:41:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2703] cxf-codegen-plugin problem resolving schemas in jars that have spaces in the path (patch attached)</title>
                <link>https://issues.apache.org/jira/browse/CXF-2703</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Here is the scenario: Dan did a patch for an issue I logged &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
involving the proper resolution of XSDs held in a separate maven&lt;br/&gt;
module (or any jar on the classpath for that matter) instead of the&lt;br/&gt;
XSDs existing directly in the module where cxf-codegen-plugin is being&lt;br/&gt;
invoked.  It worked great for me, but oddly enough only when I invoked&lt;br/&gt;
an &quot;mvn clean install&quot; from the parent project.  If I went down into&lt;br/&gt;
the actual module that was setup for cxf-codegen-plugin and try to&lt;br/&gt;
clean install, it would bomb with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;---------------------------------------------------------------------------------------------
org.apache.maven.lifecycle.LifecycleExecutionException: Thrown by JAXB
: unknown protocol: classpath
.
.
Caused by: java.net.MalformedURLException: unknown protocol: classpath
       at java.net.URL.&amp;lt;init&amp;gt;(URL.java:574)
       at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)
       at java.net.URL.&amp;lt;init&amp;gt;(URL.java:413)
       at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown
Source)
       at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown
Source)
       at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
       at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
       at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
       at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
       at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown
Source)
       at com.sun.tools.xjc.reader.internalizer.DOMForest.parse(DOMForest.java:394)

------------------------------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I debugged like crazy, found where things were going wrong.  I found a&lt;br/&gt;
bug &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; which kind of described the problem, i.e. a jar on the&lt;br/&gt;
classpath you are trying to get a resource URL for has a space in it&apos;s&lt;br/&gt;
path.  So what I did was I changed my Maven repo from D:\Documents and&lt;br/&gt;
Settings\.... to D:\m2repo, a path without spaces.  Lo and behold,&lt;br/&gt;
everything worked peachy after that.&lt;/p&gt;

&lt;p&gt;So, attached is an attempt at a patch to URIResolver in order to fix&lt;br/&gt;
the problem.  That being said, I have no way to test this patch in&lt;br/&gt;
order to see if it works.  Why?  Because if I make the fix myself to&lt;br/&gt;
the 2.2.6 code on my system, then mvn clean install a new version into&lt;br/&gt;
my local repo, then run a debug session when it gets to&lt;br/&gt;
AbstractWrapperWSDLLocator.getImportInputSource, the parentLocation&lt;br/&gt;
parameter doesn&apos;t include a classpath:/ prefix, instead it just&lt;br/&gt;
contains the relative path found within the XSD, and I get a&lt;br/&gt;
&quot;FileNotFound&quot; type error.  No clue why.&lt;/p&gt;

&lt;p&gt;People on Windows (because of the m2 repo being under &quot;Documents and&lt;br/&gt;
Settings&quot; by default; a path containing spaces) would definitely face&lt;br/&gt;
the problem I&apos;m trying to solve.  I&apos;m not completely sure if it&apos;s JDK&lt;br/&gt;
vendor related, but on my project I&apos;m using IBM jvm, here&apos;s my&lt;br/&gt;
environment:&lt;/p&gt;

&lt;p&gt;-----------------------------------------&lt;br/&gt;
$ mvn --version&lt;br/&gt;
Apache Maven 2.2.1 (r801777; 2009-08-06 14:16:01-0500)&lt;br/&gt;
Java version: 1.6.0&lt;br/&gt;
Java home: D:\Program Files\IBM\RAD75\jdk\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows xp&quot; version: &quot;5.1 build 2600 service pack 3&quot; arch:&lt;br/&gt;
&quot;x86&quot; Family: &quot;windows&quot;&lt;br/&gt;
-----------------------------------------&lt;/p&gt;

&lt;p&gt;So, if anyone would be so kind as to try to replicate the problem,&lt;br/&gt;
then apply the patch and see if the problem is resolved, that would be&lt;br/&gt;
great.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;br/&gt;
1) download the sample project from the JIRA issue &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2) crack open the pom.xml file from CXFSchemaRefProblemPom, update the&lt;br/&gt;
cxf versions to 2.2.6&lt;br/&gt;
3) crack open the pom.xml from CXFSchemaRefProblemWar and comment out&lt;br/&gt;
all the extraargs except for -verbose&lt;br/&gt;
4) &quot;mvn clean install&quot; from CXFSchemaRefProblemPom, should build cleanly&lt;br/&gt;
5) &quot;mvn clean install -e&quot; from CXFSchemaRefProblemWar, you should get&lt;br/&gt;
the classpath protocol error&lt;br/&gt;
6) apply my patch, install the change locally, try step 5 again.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Craig&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-2599&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-2599&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; - &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6506304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6506304&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;$ mvn --version&lt;br/&gt;
Apache Maven 2.2.1 (r801777; 2009-08-06 14:16:01-0500)&lt;br/&gt;
Java version: 1.6.0&lt;br/&gt;
Java home: D:\Program Files\IBM\RAD75\jdk\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows xp&quot; version: &quot;5.1 build 2600 service pack 3&quot; arch:&lt;br/&gt;
&quot;x86&quot; Family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12458678">CXF-2703</key>
            <summary>cxf-codegen-plugin problem resolving schemas in jars that have spaces in the path (patch attached)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="ctataryn">Craig Tataryn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Mar 2010 16:10:39 +0000</created>
                <updated>Tue, 23 Mar 2010 02:59:18 +0000</updated>
                            <resolved>Thu, 11 Mar 2010 17:13:48 +0000</resolved>
                                    <version>2.2.6</version>
                                    <fixVersion>2.2.7</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12438414" name="URIResolver.java-jar-space-fix.patch" size="2178" author="ctataryn" created="Wed, 10 Mar 2010 16:11:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>