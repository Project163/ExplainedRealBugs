<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:50:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3987] incompatible change in JAX-RS from 2.5.0 to 2.5.1</title>
                <link>https://issues.apache.org/jira/browse/CXF-3987</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;One of my multipart tests is now failing with a 400. The 400 is thrown from FormUtils in the runtime. It runs just fine in 2.5.0.&lt;/p&gt;

&lt;p&gt;My function looks like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Produces(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html&quot;&lt;/span&gt;)
    @Consumes(&lt;span class=&quot;code-quote&quot;&gt;&quot;multipart/form-data&quot;&lt;/span&gt;)
    @Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/processFormTextToJson&quot;&lt;/span&gt;)
    @Descriptions({ 
        @Description(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;Accepts text from an HTML form, returns analysis results in JSON.&quot;&lt;/span&gt;, target = DocTarget.METHOD),
        @Description(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;Json containing all of the analysis results&quot;&lt;/span&gt;, target = DocTarget.RETURN)
     })
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response processFormTextToJson(@Description(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;Json specification of the processing options.&quot;&lt;/span&gt;, target = DocTarget.PARAM)
                                          @Multipart(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;options&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; optionsString,
                                          @Description(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;Input text&quot;&lt;/span&gt;, target = DocTarget.PARAM)
                                          @Multipart(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;data&quot;&lt;/span&gt;) InputStream data) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the code leading to the exception in CXF is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void populateMapFromMultipart(MultivaluedMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; params,
                                                Annotation[] anns,
                                                MultipartBody body, 
                                                &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; decode) {
 

       List&amp;lt;Attachment&amp;gt; atts = body.getAllAttachments();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Attachment a : atts) {
            ContentDisposition cd = a.getContentDisposition();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cd == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !MULTIPART_FORM_DATA_TYPE.equalsIgnoreCase(cd.getType())
                || cd.getParameter(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                Multipart id = AnnotationUtils.getAnnotation(anns, Multipart.class);
                
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (id == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || id.required()) {
                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WebApplicationException(400);
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
                }
            }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The annotations present are:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[@org.apache.cxf.jaxrs.model.wadl.Description(title=, target=param, value=Json specification of the processing options., lang=, docuri=), @org.apache.cxf.jaxrs.ext.multipart.Multipart(value=options, required=true, type=*/*)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that the required flag is on. cd is null. In other words, even if the names match, if there is no content disposition, we get a 400. Is that really right? Why require a cd? What&apos;s wrong with the plain old name field of the part?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12535840">CXF-3987</key>
            <summary>incompatible change in JAX-RS from 2.5.0 to 2.5.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmargulies">Benson Margulies</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2011 13:02:14 +0000</created>
                <updated>Mon, 23 Apr 2012 16:50:18 +0000</updated>
                            <resolved>Wed, 21 Dec 2011 13:08:26 +0000</resolved>
                                    <version>2.5.1</version>
                                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13173174" author="sergey_beryozkin" created="Tue, 20 Dec 2011 13:20:34 +0000"  >&lt;p&gt;Hi Benson&lt;/p&gt;

&lt;p&gt;How did it work before ?&lt;br/&gt;
@Multipart in case of form-data just points to an expected Content-Disposition&apos;s name parameter.&lt;/p&gt;

&lt;p&gt;Can you show the sample payload please ?&lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="13173180" author="sergey_beryozkin" created="Tue, 20 Dec 2011 13:26:50 +0000"  >&lt;p&gt;In 2.5.0 it was:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cd == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !MULTIPART_FORM_DATA_TYPE.equalsIgnoreCase(cd.getType())
                || cd.getParameter(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WebApplicationException(415);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in 2.5.1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cd == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !MULTIPART_FORM_DATA_TYPE.equalsIgnoreCase(cd.getType())
                || cd.getParameter(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                Multipart id = AnnotationUtils.getAnnotation(anns, Multipart.class);
                
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (id == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || id.required()) {
                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WebApplicationException(400);
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
                }
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is actually less strict in 2.5.1 as we give users a chance to state that a given part is not required to be present&lt;/p&gt;</comment>
                            <comment id="13173237" author="bmargulies" created="Tue, 20 Dec 2011 15:14:25 +0000"  >&lt;p&gt;No content disposition? start= instead?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;----------------------------&lt;br/&gt;
ID: 1&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:15000/r4dws/services/doc/processFormTextToJson&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:15000/r4dws/services/doc/processFormTextToJson&lt;/a&gt;&lt;br/&gt;
Encoding: ISO-8859-1&lt;br/&gt;
Http-Method: POST&lt;br/&gt;
Content-Type: multipart/form-data; type=&quot;application/json&quot;; boundary=&quot;uuid:00b0aabf-6dc8-4a22-a5c4-a5d2eaa2264e&quot;; start=&quot;&amp;lt;options&amp;gt;&quot;; start-info=&quot;application/json&quot;&lt;br/&gt;
Headers: &lt;/p&gt;
{Accept=[text/html], cache-control=[no-cache], connection=[keep-alive], content-type=[multipart/form-data; type=&quot;application/json&quot;; boundary=&quot;uuid:00b0aabf-6dc8-4a22-a5c4-a5d2eaa2264e&quot;; start=&quot;&amp;lt;options&amp;gt;&quot;; start-info=&quot;application/json&quot;], host=[localhost:15000], pragma=[no-cache], transfer-encoding=[chunked], user-agent=[Apache CXF 2.5.1]}
&lt;p&gt;Payload: &lt;br/&gt;
--uuid:00b0aabf-6dc8-4a22-a5c4-a5d2eaa2264e&lt;br/&gt;
Content-Type: application/json&lt;br/&gt;
Content-Transfer-Encoding: binary&lt;br/&gt;
Content-ID: &amp;lt;options&amp;gt;&lt;/p&gt;

&lt;p&gt;{&quot;languageDetection&quot;:&lt;/p&gt;
{&quot;language&quot;:&quot;UNKNOWN&quot;,&quot;strategy&quot;:&quot;MULTIPLE&quot;}
&lt;p&gt;,&quot;text&quot;:null}&lt;br/&gt;
--uuid:00b0aabf-6dc8-4a22-a5c4-a5d2eaa2264e&lt;br/&gt;
Content-Type: application/octet-stream&lt;br/&gt;
Content-Transfer-Encoding: binary&lt;br/&gt;
Content-ID: &amp;lt;data&amp;gt;&lt;/p&gt;

&lt;p&gt;&#65279;1 de junio de 2003, 18h01&lt;/p&gt;

&lt;p&gt;Bush y Chirac sonr&#237;en para las c&#225;maras en tensa cumbre del G-8&lt;/p&gt;</comment>
                            <comment id="13173239" author="bmargulies" created="Tue, 20 Dec 2011 15:15:26 +0000"  >&lt;p&gt;WebClient code that produced this ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; List&amp;lt;Attachment&amp;gt; atts = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedList&amp;lt;Attachment&amp;gt;();
 atts.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Attachment(&lt;span class=&quot;code-quote&quot;&gt;&quot;options&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt;, ptio));
 atts.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Attachment(&lt;span class=&quot;code-quote&quot;&gt;&quot;data&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;application/octet-stream&quot;&lt;/span&gt;, FileUtils
 readFileToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(btRoot, &lt;span class=&quot;code-quote&quot;&gt;&quot;rlp/samples/data/Spanish-French-German.txt&quot;&lt;/span&gt;))));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13173244" author="bmargulies" created="Tue, 20 Dec 2011 15:22:09 +0000"  >&lt;p&gt;In 2.5.0, the wire data looks rather similar, so the mystery is, why is the ContentDisposition reference null?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ID: 6
Address: http://localhost:51102/r4dws/services/doc/processFormTextToJson
Encoding: ISO-8859-1
Http-Method: POST
Content-Type: multipart/form-data; type=&quot;application/json&quot;; boundary=&quot;uuid:22187f34-ab19-411a-b13e-5af4486ef93c&quot;; start=&quot;&amp;lt;options&amp;gt;&quot;; start-info=&quot;application/json&quot;
Headers: {Accept=[text/html], cache-control=[no-cache], connection=[keep-alive], content-type=[multipart/form-data; type=&quot;application/json&quot;; boundary=&quot;uuid:22187f34-ab19-411a-b13e-5af4486ef93c&quot;; start=&quot;&amp;lt;options&amp;gt;&quot;; start-info=&quot;application/json&quot;], host=[localhost:51102], pragma=[no-cache], transfer-encoding=[chunked], user-agent=[Apache CXF 2.5.0]}
Payload: ^M
--uuid:22187f34-ab19-411a-b13e-5af4486ef93c^M
Content-Type: application/json^M
Content-Transfer-Encoding: binary^M
Content-ID: &amp;lt;options&amp;gt;^M
^M
{&quot;languageDetection&quot;:{&quot;language&quot;:&quot;UNKNOWN&quot;,&quot;strategy&quot;:&quot;MULTIPLE&quot;},&quot;text&quot;:null}^M
--uuid:22187f34-ab19-411a-b13e-5af4486ef93c^M
Content-Type: application/octet-stream^M
Content-Transfer-Encoding: binary^M
Content-ID: &amp;lt;data&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13173262" author="bmargulies" created="Tue, 20 Dec 2011 15:50:44 +0000"  >&lt;p&gt;Now I think I&apos;ve lost my mind. I added content-disposition to the attachments, and it does not show up in the log message from the in-interceptor on the service side.&lt;/p&gt;</comment>
                            <comment id="13173280" author="bmargulies" created="Tue, 20 Dec 2011 16:18:41 +0000"  >&lt;p&gt;OK, I see one thing. You can&apos;t add a header to an Attachment once you make it. Another jira, coming up.&lt;/p&gt;</comment>
                            <comment id="13173288" author="bmargulies" created="Tue, 20 Dec 2011 16:33:19 +0000"  >&lt;p&gt;Here&apos;s the function I wrote to work around this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Attachment makeBrowerLikeAttachment(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; id, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; mediaType, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; data) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        JsonFactory factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MappingJsonFactory();
        ByteArrayOutputStream baos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
        JsonGenerator gen = factory.createJsonGenerator(baos);
        gen.writeObject(data);
        gen.flush();
        MetadataMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; headers = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetadataMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-ID&quot;&lt;/span&gt;, id);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;, mediaType);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Disposition&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;form-data; name=\&quot;&lt;/span&gt;%s\&quot;&quot;, id));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Attachment(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(baos.toByteArray()), headers);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13173589" author="sergey_beryozkin" created="Tue, 20 Dec 2011 22:57:38 +0000"  >&lt;p&gt;Benson, I removed some of the code which made it into 2.5.1 to minimize the confusion but either way I think it&apos;s Not A Problem issue. When we have multipart/form-data payloads, we do expect Content-Disposition with the &quot;form-data&quot; type; if we relax it then we can capture by mistake the data meant to be processed by MultipartProvider.&lt;/p&gt;

&lt;p&gt;If you disagree then let me know please what do you think can be improved &lt;/p&gt;</comment>
                            <comment id="13173702" author="bmargulies" created="Wed, 21 Dec 2011 00:53:57 +0000"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;I think that the issue here is the client side. Absolutely none of the constructors for Attachment build something that corresponds to what a browser does. The documented examples on the client side don&apos;t work.&lt;/p&gt;

&lt;p&gt;Though, breaking working clients in a double-point release might be a cause for concern.&lt;/p&gt;

&lt;p&gt;I&apos;ll add a constructor or a factory for Attachment.&lt;/p&gt;

&lt;p&gt;--benson&lt;/p&gt;</comment>
                            <comment id="13173989" author="sergey_beryozkin" created="Wed, 21 Dec 2011 10:14:55 +0000"  >&lt;p&gt;May be I don&apos;t understand something, what is wrong with this code which you used:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MetadataMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; headers = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetadataMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-ID&quot;&lt;/span&gt;, id);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;, mediaType);
        headers.putSingle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Disposition&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;form-data; name=\&quot;&lt;/span&gt;%s\&quot;&quot;, id));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Attachment(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(baos.toByteArray()), headers);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code produces a self-contained part with headers and the data.&lt;/p&gt;</comment>
                            <comment id="13173991" author="sergey_beryozkin" created="Wed, 21 Dec 2011 10:22:59 +0000"  >&lt;p&gt;By the way, I updated that FormUtils code to check Content-Id in case of missing Content-Dispositions - which should let your old code continue working without having to add CDs; can we close this JIRA as Duplicate of 3988 and chat about possible Attachment enhancements in JIRA-3988 ?&lt;/p&gt;</comment>
                            <comment id="13174056" author="bmargulies" created="Wed, 21 Dec 2011 12:46:10 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="13174079" author="sergey_beryozkin" created="Wed, 21 Dec 2011 13:08:26 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3988&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-3988&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b8bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>