<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:09:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5630] In robust one-way fault the fault message should result in SOAPFaultException</title>
                <link>https://issues.apache.org/jira/browse/CXF-5630</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Now in &lt;tt&gt;org.apache.cxf.transport.http.HTTPConduit.WrappedOutputStream.handleResponseInternal()&lt;/tt&gt; there&apos;s just one check if the exchange is one-way without checking the &quot;robust&quot; status and if exchange is one way, any soap fault is consumed.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how this should be handled, as &lt;em&gt;robustnes&lt;/em&gt; is not defined per SOAP 1.1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12702641">CXF-5630</key>
            <summary>In robust one-way fault the fault message should result in SOAPFaultException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="ggrzybek">Grzegorz Grzybek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Mar 2014 14:16:08 +0000</created>
                <updated>Fri, 11 Jul 2014 12:50:18 +0000</updated>
                            <resolved>Tue, 25 Mar 2014 13:18:21 +0000</resolved>
                                                    <fixVersion>2.7.11</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13942850" author="gzres" created="Fri, 21 Mar 2014 07:07:46 +0000"  >&lt;p&gt;It &lt;b&gt;would be&lt;/b&gt; useful, unfortunately JAX-WS 2 says explicitly that @OneWay operations &lt;b&gt;must&lt;/b&gt; throw &lt;tt&gt;WebServiceException&lt;/tt&gt;...&lt;br/&gt;
Maybe with JAX-WS 3?&lt;/p&gt;</comment>
                            <comment id="13943277" author="dkulp" created="Fri, 21 Mar 2014 17:30:01 +0000"  >&lt;p&gt;&lt;br/&gt;
If the client specifically sets the ROBUST_ONEWAY flag on the request context, we can throw the SOAPFaultException (which is a subclass of WebServiceException and thus is technically allowed).   At least the fault is not &quot;lost&quot; in that case.&lt;/p&gt;</comment>
                            <comment id="13943420" author="gzres" created="Fri, 21 Mar 2014 19:16:24 +0000"  >&lt;p&gt;You&apos;re right - the spec should allow this. But all depends on mysterious TCK developers whether they used &lt;tt&gt;instanceof&lt;/tt&gt; or &lt;tt&gt;Class.equals(Class other)&lt;/tt&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Anyway - I checked that in debug session:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I set contextual property on &lt;tt&gt;((Client)greeter).getEndpoint().put(Message.ROBUST_ONEWAY, true)&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;While handling the response in HTTPConduit I tweaked the code to check the flag and not go into &lt;tt&gt;if (oneway) {...&lt;/tt&gt;} block - the exception was then constructed as &lt;tt&gt;SOAPFaultException&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;OK, I&apos;ll reopen it and think about it tomorrow.&lt;/p&gt;</comment>
                            <comment id="13943424" author="gzres" created="Fri, 21 Mar 2014 19:20:18 +0000"  >&lt;p&gt;Everything depends on interpretation of JAX-WS 2.2:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Conformance (Failed Dispatch.invokeOneWay):&lt;br/&gt;
When an operation is invoked using an invoke-OneWay method, an implementation MUST throw a WebServiceException. if there is any error in the configuration of the Dispatch instance or if an error is detected during the remote operation invocation.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;and it depends on TCK (I wonder if I live to see JavaEE TCKs available on GitHub...) of course.&lt;/p&gt;</comment>
                            <comment id="13943566" author="dkulp" created="Fri, 21 Mar 2014 21:18:28 +0000"  >&lt;p&gt;Did you check the code on trunk/2.7.x-fixes?   I did fix the HTTPConduit to check the ROBUST_ONEWAY flag.&lt;/p&gt;

&lt;p&gt;Since the TCK would never set the ROBUST_ONEWAY flag as that&apos;s a proprietary flag, the change in HTTPConduit would have no effect on the TCK.&lt;/p&gt;</comment>
                            <comment id="13943933" author="gzres" created="Sat, 22 Mar 2014 05:48:45 +0000"  >&lt;p&gt;Hello Daniel - I was checking only on master branch - the test &lt;tt&gt;testRobustFailWithoutAddressingInUserLogicalPhase&lt;/tt&gt; prepares the flag (but I didn&apos;t know if it should be in &lt;tt&gt;Client.getEndpoint&lt;/tt&gt; or &lt;tt&gt;BindingProvider.getRequestContext()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;And what about other conduits?&lt;/p&gt;

&lt;p&gt;And I forgot TCK doesn&apos;t care about &lt;em&gt;robust&lt;/em&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I hope CXF people will lead JAX-WS 3 spec soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13944036" author="dkulp" created="Sat, 22 Mar 2014 12:12:39 +0000"  >&lt;p&gt;Certainly not supportable at all with JMS.  We could try it with the Local trasnport since we could pass the &quot;robust&quot; flag right along from the client side so the server would know to send something back either way.  &lt;/p&gt;</comment>
                            <comment id="13946455" author="gzres" created="Tue, 25 Mar 2014 12:30:21 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkulp&quot; class=&quot;user-hover&quot; rel=&quot;dkulp&quot;&gt;dkulp&lt;/a&gt;, I saw your changes and that&apos;s exactly how I wanted CXF to bahave.&lt;br/&gt;
Did I choose the right place to set the ROBUST flag?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;client.getEndpoint().put(Message.ROBUST_ONEWAY, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Or maybe it should be done in &lt;tt&gt;getRequestContext()&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="13946496" author="dkulp" created="Tue, 25 Mar 2014 13:18:05 +0000"  >&lt;p&gt;Either location should work fine.   &lt;/p&gt;</comment>
                            <comment id="13946499" author="gzres" created="Tue, 25 Mar 2014 13:19:02 +0000"  >&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tn2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>