<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:49:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3768] HTTP response code 202 is not set for WS-Addressing partial responses</title>
                <link>https://issues.apache.org/jira/browse/CXF-3768</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When asyncronous processing is requested by specifying an endpoint reference in the request&apos;s ReplyTo WSA header, an immediate acknowledgement should be sent with HTTP code 202.  Older CXF versions (e.g. 2.2.11) implemented this requirement in the method &lt;tt&gt;org.apache.cxf.transport.http.AbstractHTTPDestination#markPartialResponse&lt;/tt&gt;, but the newer ones (2.4.1, 2.4.2) do not set the HTTP response code explicitely, therefore acknowledgements are delivered with code 200.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12520271">CXF-3768</key>
            <summary>HTTP response code 202 is not set for WS-Addressing partial responses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="rnd">Dmytro Rud</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Aug 2011 16:48:01 +0000</created>
                <updated>Tue, 1 Nov 2011 02:11:37 +0000</updated>
                            <resolved>Wed, 7 Sep 2011 07:58:24 +0000</resolved>
                                    <version>2.4.2</version>
                                    <fixVersion>2.5</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13092677" author="ay" created="Mon, 29 Aug 2011 07:31:36 +0000"  >&lt;p&gt;The change needed to correct the following issue introduced this regression problem.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3004&quot; title=&quot;Inconsistent HTTP response code 202 returned for WS-RM piggybacked Ack response message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3004&quot;&gt;&lt;del&gt;CXF-3004&lt;/del&gt;&lt;/a&gt; Inconsistent HTTP response code 202 returned for WS-RM piggybacked Ack response message&lt;/p&gt;

&lt;p&gt;We probably need to introduce another method in MessageUtils to check if the partial response is empty or non-empty so that AbstractHTTPDestination knows which HTTP status code to return.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;no partial response or an empty partial response -&amp;gt; http 202&lt;br/&gt;
This is the case for normal oneway calls or oneway calls with ws-a engaged which sets a partial response.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a non-empty partial response -&amp;gt; http 200&lt;br/&gt;
This is the case for oneway calls with ws-a and additionally some interceptors (ws-rm) setting some properties of the partial response.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13092681" author="ffang" created="Mon, 29 Aug 2011 08:00:35 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;Isn&apos;t it a good practice that when you assign a issue for yourself, you should check if this issue already assigned to other guys? Or at least you should ping the guy who is the previous assignee if you want to take over an issue?&lt;/p&gt;

&lt;p&gt;I&apos;m totally OK with that you take over this issue as you obviously know better about this issue history, however IMHO we should follow some good practice when we work on same project together.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;
</comment>
                            <comment id="13092689" author="elakito@googlemail.com" created="Mon, 29 Aug 2011 08:23:38 +0000"  >&lt;p&gt;Freeman,&lt;br/&gt;
I am very sorry. I thought I saw the status as unsigned when I&lt;br/&gt;
assigned this issue to me. I saw the issue on Friday and it was on my&lt;br/&gt;
browser&apos;s cache and the status was still unsigned when I did reload&lt;br/&gt;
this page this morning.  The page was in my browsers cache. I didn&apos;t&lt;br/&gt;
see that you had already taken it. I am really sorry. It was not&lt;br/&gt;
intended.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;
</comment>
                            <comment id="13092697" author="ffang" created="Mon, 29 Aug 2011 08:29:20 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;Understood and It doesn&apos;t matter.&lt;br/&gt;
Just ensure we follow same practice when we work on same project.&lt;br/&gt;
Btw, you&apos;re welcome to take this issue, &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Best Regards&lt;br/&gt;
Freeman&lt;/p&gt;</comment>
                            <comment id="13092713" author="elakito@googlemail.com" created="Mon, 29 Aug 2011 08:59:39 +0000"  >&lt;p&gt;Hi Freeman,&lt;/p&gt;

&lt;p&gt;thanks. I&apos;ll take the issue. And do you think the suggested solution is alright?&lt;/p&gt;

&lt;p&gt;I am introducing a new constant EMPTY_PARTIAL_RESPONSE_MESSAGE in&lt;br/&gt;
Message. This is set to Boolean.TRUE along with the existing Boolean&lt;br/&gt;
property PARTIAL_RESPONSE_MESSAGE when a partial response message is&lt;br/&gt;
created. Later when some component updates the partial response&lt;br/&gt;
message, we remove this EMPTY_PARTIAL_RESPONSE_MESSAGE property so&lt;br/&gt;
that the AbstractHTTPDestination can decide which http response must&lt;br/&gt;
be returned. I tried this out and it seems to be working fine.&lt;/p&gt;

&lt;p&gt;I would appreciate your comments.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;br/&gt;
p.s. I&apos;ll double check the status next time when I am taking an issue,&lt;br/&gt;
but I am worried what will happen when two people push &quot;Assgin to me&quot;&lt;br/&gt;
button around the same time, whether the second person will get some&lt;br/&gt;
warning or error message and not getting the issue assigned.&lt;/p&gt;
</comment>
                            <comment id="13092774" author="ffang" created="Mon, 29 Aug 2011 11:30:44 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;Your solution sounds ok for me.&lt;br/&gt;
The rough idea is that we need figure out a way to tell the difference between empty and non-empty partial response(so that use different http return code), and your solution exactly can do it.&lt;/p&gt;

&lt;p&gt;And about the &quot;Assign to me&quot; issue, I don&apos;t think jira can really warn you that there&apos;s another guy to do same operation at the same time, the &quot;Assign to me&quot; request would be processed one by one, that said, the last one would be the assignee. Anyway, we have email notification for jira changes and IMO that&apos;s very rare that two guys try to assign same issue to himself at the same time, so we shouldn&apos;t worry this too much.&lt;/p&gt;

&lt;p&gt;Best Regards.&lt;br/&gt;
Freeman&lt;/p&gt;</comment>
                            <comment id="13092791" author="dkulp" created="Mon, 29 Aug 2011 12:07:42 +0000"  >&lt;p&gt;&lt;br/&gt;
Well, part of the problem is that CXF is returning a non-empty partial response when it should be returning an empty one.    I started looking into this briefly on Friday and noticed that when the incoming request has a reply to to a decoupled dest, we&apos;re sending back a 200 with a message with an envelope with an empty body.   The 200 is correct there.   Instead, it SHOULD be a 202 with an empty response.   &lt;/p&gt;</comment>
                            <comment id="13094453" author="ay" created="Wed, 31 Aug 2011 12:00:27 +0000"  >&lt;p&gt;My reply to Dan was sent to dev@cxf and not to this jira. The link to the mail thread is at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.547215.n5.nabble.com/Re-jira-Commented-CXF-3768-HTTP-response-code-202-is-not-set-for-WS-Addressing-partial-responses-tt4746059.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Re-jira-Commented-CXF-3768-HTTP-response-code-202-is-not-set-for-WS-Addressing-partial-responses-tt4746059.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Basically, I fixed the behavior as described in the above thread. But the problem is that many existing WS-RM systests are failing after this change, as some of their test assertions are counting those empty messages as well.&lt;/p&gt;

&lt;p&gt;I need to look into this and restructure those tests to not rely on the number of physical messages but rely on the information exchanged (i.e., real acks).&lt;/p&gt;

&lt;p&gt;After I figure this out, I will submit the change.&lt;/p&gt;
</comment>
                            <comment id="13094875" author="dkulp" created="Wed, 31 Aug 2011 20:34:21 +0000"  >
&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-981&quot; title=&quot;Partial responses are always sent when WS-A is enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-981&quot;&gt;&lt;del&gt;CXF-981&lt;/del&gt;&lt;/a&gt; is related to this or is a duplicate of this.  Aki, can you check on that. &lt;/p&gt;

&lt;p&gt;Actually, in the WS-* component in JIRA, there are a bunch of open WS-RM and WS-Addressing related open issues that may be related to this or are already implemented.&lt;/p&gt;</comment>
                            <comment id="13094909" author="ay" created="Wed, 31 Aug 2011 21:21:37 +0000"  >&lt;p&gt;Hi Dan,&lt;br/&gt;
Okay. I looked at &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-981&quot; title=&quot;Partial responses are always sent when WS-A is enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-981&quot;&gt;&lt;del&gt;CXF-981&lt;/del&gt;&lt;/a&gt;. It&apos;s difficult to say what is meant by &quot;partial responses&quot; and by &quot;ws-rm is enabled&quot; in this ticket. &lt;/p&gt;

&lt;p&gt;Within the server runtime, we have partial responses at some point when ws-a is enabled. Prior to the change I made for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3768&quot; title=&quot;HTTP response code 202 is not set for WS-Addressing partial responses&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3768&quot;&gt;&lt;del&gt;CXF-3768&lt;/del&gt;&lt;/a&gt;, we had these PR serialized as http 200 responses. And depending on which interceptors are configured, those responses differ:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;http 200 empty soap body (if only ws-a is used as in this ticket or if ws-rm is used but there is no sequence ack attached to this PR).&lt;/li&gt;
	&lt;li&gt;http 200 with non empty soap (if ws-rm is used and there is some sequence ack attached).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If Dan Diephaus meant that he didn&apos;t want to see those empty soap with http 200 in those ws-a only cases or those ws-rm without any sequence ack attached cases, his issue would be resolved with this change.&lt;/p&gt;

&lt;p&gt;I will search for other tickets you suggested.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;br/&gt;
p.s. I have a question about how I should fix the test cases and whether to keep the fall back option. I will post it to dev@cxf.&lt;/p&gt;</comment>
                            <comment id="13095931" author="ay" created="Fri, 2 Sep 2011 11:59:16 +0000"  >&lt;p&gt;Regarding the related jira tickets, I found&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-366&quot; title=&quot;mods to partial response mechanism to facilitate wider interop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-366&quot;&gt;&lt;del&gt;CXF-366&lt;/del&gt;&lt;/a&gt;	&lt;br/&gt;
mods to partial response mechanism to facilitate wider interop&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-981&quot; title=&quot;Partial responses are always sent when WS-A is enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-981&quot;&gt;&lt;del&gt;CXF-981&lt;/del&gt;&lt;/a&gt;	&lt;br/&gt;
Partial responses are always sent when WS-A is enabled&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-366&quot; title=&quot;mods to partial response mechanism to facilitate wider interop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-366&quot;&gt;&lt;del&gt;CXF-366&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-981&quot; title=&quot;Partial responses are always sent when WS-A is enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-981&quot;&gt;&lt;del&gt;CXF-981&lt;/del&gt;&lt;/a&gt; both talk about suppressing the superfluous http 200 responses. Additionally, &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-366&quot; title=&quot;mods to partial response mechanism to facilitate wider interop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-366&quot;&gt;&lt;del&gt;CXF-366&lt;/del&gt;&lt;/a&gt; talks about accepting HTTP 200 with no content, which is already implemented in CXF.&lt;/p&gt;

&lt;p&gt;So, the patch for this &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3768&quot; title=&quot;HTTP response code 202 is not set for WS-Addressing partial responses&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3768&quot;&gt;&lt;del&gt;CXF-3768&lt;/del&gt;&lt;/a&gt; which suppresses the transmission of HTTP 200 empty SOAP envelope responses, I suppose these both issues can be resolved as well.&lt;/p&gt;

&lt;p&gt;I will also create a separate jira ticket to make the client side change that is required for letting the CXF client handle HTTP 202 for the CreateSequence call when the CreateSequenceResponse is sent back to the decoupled endpoint.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;</comment>
                            <comment id="13098692" author="ay" created="Wed, 7 Sep 2011 07:58:24 +0000"  >&lt;p&gt;The patch is applied for 2.5.&lt;/p&gt;

&lt;p&gt;We had discussion on the potential impact of this change to other part of CXF and decided to make this change only for 2.5 for now.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.547215.n5.nabble.com/Adjusting-WS-RM-systests-for-http-202-tt4756114.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Adjusting-WS-RM-systests-for-http-202-tt4756114.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If this change needs to be integrated to 2.4, this ticket can be reopened.&lt;br/&gt;
regards, aki&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14f5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>