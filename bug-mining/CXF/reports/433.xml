<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2510] XMLBEANS_NAMESPACE_HACK alternative is missing in case of XmlBeans data binding</title>
                <link>https://issues.apache.org/jira/browse/CXF-2510</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;MAIN DESCRIPTION&lt;/p&gt;

&lt;p&gt;Is there a chance to port the XMLBEANS_NAMESPACE_HACK feature from XFire to CXF?&lt;/p&gt;

&lt;p&gt;Here is a reference: &lt;a href=&quot;http://xfire.codehaus.org/XMLBeans+Integration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://xfire.codehaus.org/XMLBeans+Integration&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;PROBLEM&lt;/p&gt;

&lt;p&gt;CXF always use XMLBeans XMLStreamReader to write to the outgoing xml stream.&lt;/p&gt;

&lt;p&gt;There is a number of issues related to namespaces when this reader is used, e.g.:&lt;/p&gt;

&lt;p&gt;1. It either fails to read info or fails to write info in some cases.&lt;/p&gt;

&lt;p&gt;2. Namespaces are duplicated for each element even with&lt;br/&gt;
   the fix &lt;a href=&quot;http://issues.apache.org/jira/browse/CXF-2468&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/CXF-2468&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If there was an opportunity to switch CXF to use XMLBeans DOM as a source object&lt;br/&gt;
instead of XMLStreamReader then I suppose these issues would be resolved.&lt;/p&gt;



&lt;p&gt;BACKGROUND - SOME XFIRE SOURCES&lt;/p&gt;

&lt;p&gt;xfire-1.2.4\xfire-xmlbeans\src\main\org\codehaus\xfire\xmlbeans\XmlBeansType.java&lt;/p&gt;

&lt;p&gt;Here is an excerpt from the XmlBeansType.writeObject(..) method:&lt;/p&gt;

&lt;p&gt;            if (Boolean.valueOf((String) context.getContextualProperty(XMLBEANS_NAMESPACE_HACK)).booleanValue())&lt;br/&gt;
            {&lt;br/&gt;
                Object o = obj.newDomNode();&lt;br/&gt;
                if (o instanceof Document)&lt;/p&gt;
                {
                    org.w3c.dom.Element e = ((Document) o).getDocumentElement();
                    STAXUtils.writeElement(e, xsw, false);
                }
&lt;p&gt;                else if (o instanceof DocumentFragment)&lt;br/&gt;
                {&lt;br/&gt;
                    DocumentFragment frag = (DocumentFragment) o;&lt;/p&gt;

&lt;p&gt;                    NodeList nodes = frag.getChildNodes();&lt;br/&gt;
                    Node node = nodes.item(0);&lt;br/&gt;
                    nodes = node.getChildNodes();&lt;br/&gt;
                    for (int i = 0; i &amp;lt; nodes.getLength(); i++)&lt;/p&gt;
                    {
                        STAXUtils.writeNode(nodes.item(i), xsw, false);
                    }
&lt;p&gt;                }&lt;br/&gt;
                else&lt;/p&gt;
                {
                    throw new XFireRuntimeException(&quot;Invalid document type returned: &quot; + o);
                }
&lt;p&gt;            }&lt;br/&gt;
            else&lt;/p&gt;
            {
                XmlCursor cursor = obj.newCursor();
                
                STAXUtils.copy(cursor.newXMLStreamReader(), 
                                ((ElementWriter) writer).getXMLStreamWriter());
            }</description>
                <environment></environment>
        <key id="12439554">CXF-2510</key>
            <summary>XMLBEANS_NAMESPACE_HACK alternative is missing in case of XmlBeans data binding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="mklimiuk">Michael Klimiuk</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2009 17:14:23 +0000</created>
                <updated>Fri, 4 Dec 2009 22:34:11 +0000</updated>
                            <resolved>Mon, 2 Nov 2009 17:33:35 +0000</resolved>
                                                    <fixVersion>2.1.8</fixVersion>
                    <fixVersion>2.2.5</fixVersion>
                                    <component>OtherDatabindings</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12772544" author="mklimiuk" created="Mon, 2 Nov 2009 15:45:03 +0000"  >&lt;p&gt;Hi Daniel,&lt;/p&gt;

&lt;p&gt;It seems one conditional statement is missed in the fix.&lt;/p&gt;

&lt;p&gt;The logic after this condition:&lt;/p&gt;

&lt;p&gt;    if (message != null &lt;br/&gt;
        &amp;amp;&amp;amp; MessageUtils.getContextualBoolean(message, &lt;br/&gt;
            XmlBeansDataBinding.XMLBEANS_NAMESPACE_HACK, &lt;br/&gt;
                false)) &lt;/p&gt;
{

should be in ELSE block:

137    }
&lt;p&gt; else {&lt;br/&gt;
               XMLStreamReader reader;&lt;br/&gt;
               if (obj instanceof XmlObjectBase) &lt;/p&gt;
{
                   XmlObjectBase source = (XmlObjectBase)obj;
                   reader = source.newCursorForce().newXMLStreamReader(options);
               ...
               }
&lt;p&gt; else &lt;/p&gt;
{
                   StaxUtils.copy(reader, output, true);
               }
&lt;p&gt;169    }&lt;/p&gt;

&lt;p&gt;I.e. this ELSE block statement is missed.&lt;/p&gt;

&lt;p&gt;Please check.&lt;/p&gt;</comment>
                            <comment id="12772566" author="dkulp" created="Mon, 2 Nov 2009 17:33:35 +0000"  >&lt;p&gt;Added a missing return at the end of the block for the hack.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uyuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>178786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>