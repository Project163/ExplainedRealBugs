<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:26:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7503] JwsJsonContainerRequestFilter throws exception in case of DELETE method invocation with empty payload    </title>
                <link>https://issues.apache.org/jira/browse/CXF-7503</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Below is the stack trace. As GET method does not has such an issue, I looked into JwsJsonContainerRequestFilter and found JWS is pypassed in case of GET method. I think DELETE should also bypass the check. (Note that when DELETE method has an empty response, JWS should also be bypassed)&lt;/p&gt;

&lt;p&gt;public class JwsJsonContainerRequestFilter extends AbstractJwsJsonReaderProvider implements ContainerRequestFilter {&lt;br/&gt;
    @Override&lt;br/&gt;
    public void filter(ContainerRequestContext context) throws IOException {&lt;br/&gt;
        if (HttpMethod.GET.equals(context.getMethod()) &lt;/p&gt;
{
            return;
        }


&lt;p&gt;========GET=======&lt;br/&gt;
--------------------------------------&lt;br/&gt;
Sep 14, 2017 4:17:04 PM org.apache.cxf.interceptor.LoggingInInterceptor&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 3&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:9000/app/swaggerSample/sample/aaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9000/app/swaggerSample/sample/aaa&lt;/a&gt;&lt;br/&gt;
Http-Method: GET&lt;br/&gt;
Content-Type: application/json&lt;br/&gt;
Headers: &lt;/p&gt;
{Accept=[application/json], cache-control=[no-cache], connection=[keep-alive], content-type=[application/json], host=[localhost:9000], pragma=[no-cache], user-agent=[Apache-CXF/3.2.0]}
&lt;p&gt;--------------------------------------&lt;br/&gt;
Sep 14, 2017 4:17:04 PM org.apache.cxf.interceptor.LoggingOutInterceptor&lt;br/&gt;
INFO: Outbound Message&lt;br/&gt;
---------------------------&lt;br/&gt;
ID: 3&lt;br/&gt;
Response-Code: 200&lt;br/&gt;
Content-Type: application/jose+json&lt;br/&gt;
Headers: &lt;/p&gt;
{Content-Type=[application/jose+json], Date=[Thu, 14 Sep 2017 23:17:04 GMT], Access-Control-Allow-Origin=[*], Access-Control-Allow-Methods=[GET, POST, DELETE, PUT, PATCH], Access-Control-Allow-Headers=[Content-Type]}
&lt;p&gt;Payload: {&quot;payload&quot;:&quot;eyJuYW1lIjoiYWFhIiwidmFsdWUiOiIxMTEiLCJjb2RlIjoiISEhIn0&quot;,&quot;signatures&quot;:[&lt;/p&gt;
{&quot;protected&quot;:&quot;eyJhbGciOiJFUzI1NiIsImN0eSI6Impzb24ifQ&quot;,&quot;signature&quot;:&quot;q7h5u-a6OmWH8bXCXPF27aD8-euUqqPGPzvBkEl3WfaUenNLU0uFbCsyzXCVbhrbX5SMZra3ePQO4D3Hh6msNw&quot;}
&lt;p&gt;]}&lt;br/&gt;
--------------------------------------&lt;/p&gt;


&lt;p&gt;=======DELETE========&lt;br/&gt;
--------------------------------------&lt;br/&gt;
Sep 14, 2017 4:17:04 PM org.apache.cxf.interceptor.LoggingInInterceptor&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 4&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:9000/app/swaggerSample/sample/aaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9000/app/swaggerSample/sample/aaa&lt;/a&gt;&lt;br/&gt;
Http-Method: DELETE&lt;br/&gt;
Content-Type: application/json&lt;br/&gt;
Headers: &lt;/p&gt;
{Accept=[application/json], cache-control=[no-cache], connection=[keep-alive], content-type=[application/json], host=[localhost:9000], pragma=[no-cache], user-agent=[Apache-CXF/3.2.0]}
&lt;p&gt;--------------------------------------&lt;br/&gt;
Sep 14, 2017 4:17:04 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
WARNING: Interceptor for &lt;/p&gt;
{http://server.swagger.jaxrs.demo/}
&lt;p&gt;Sample has thrown exception, unwinding now&lt;br/&gt;
java.lang.StringIndexOutOfBoundsException: String index out of range: -2&lt;br/&gt;
	at java.lang.String.substring(String.java:1967)&lt;br/&gt;
	at org.apache.cxf.jaxrs.json.basic.JsonMapObjectReaderWriter.fromJson(JsonMapObjectReaderWriter.java:155)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.prepare(JwsJsonConsumer.java:56)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.&amp;lt;init&amp;gt;(JwsJsonConsumer.java:51)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.&amp;lt;init&amp;gt;(JwsJsonConsumer.java:47)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jaxrs.JwsJsonContainerRequestFilter.filter(JwsJsonContainerRequestFilter.java:47)&lt;br/&gt;
	at org.apache.cxf.jaxrs.utils.JAXRSUtils.runContainerRequestFilters(JAXRSUtils.java:1681)&lt;br/&gt;
	at org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.processRequest(JAXRSInInterceptor.java:106)&lt;br/&gt;
	at org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.handleMessage(JAXRSInInterceptor.java:77)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:191)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doDelete(AbstractHTTPServlet.java:231)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:653)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:276)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:748)&lt;/p&gt;

&lt;p&gt;Sep 14, 2017 4:17:04 PM org.apache.cxf.phase.PhaseInterceptorChain unwind&lt;br/&gt;
WARNING: Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@6d703c7a&lt;br/&gt;
org.apache.cxf.interceptor.Fault: String index out of range: -2&lt;br/&gt;
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:75)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.wrapExceptionAsFault(PhaseInterceptorChain.java:374)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:332)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:191)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doDelete(AbstractHTTPServlet.java:231)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:653)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:276)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)&lt;br/&gt;
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)&lt;br/&gt;
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)&lt;br/&gt;
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)&lt;br/&gt;
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)&lt;br/&gt;
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:748)&lt;br/&gt;
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -2&lt;br/&gt;
	at java.lang.String.substring(String.java:1967)&lt;br/&gt;
	at org.apache.cxf.jaxrs.json.basic.JsonMapObjectReaderWriter.fromJson(JsonMapObjectReaderWriter.java:155)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.prepare(JwsJsonConsumer.java:56)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.&amp;lt;init&amp;gt;(JwsJsonConsumer.java:51)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsJsonConsumer.&amp;lt;init&amp;gt;(JwsJsonConsumer.java:47)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jaxrs.JwsJsonContainerRequestFilter.filter(JwsJsonContainerRequestFilter.java:47)&lt;br/&gt;
	at org.apache.cxf.jaxrs.utils.JAXRSUtils.runContainerRequestFilters(JAXRSUtils.java:1681)&lt;br/&gt;
	at org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.processRequest(JAXRSInInterceptor.java:106)&lt;br/&gt;
	at org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.handleMessage(JAXRSInInterceptor.java:77)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)&lt;br/&gt;
	... 26 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="13102425">CXF-7503</key>
            <summary>JwsJsonContainerRequestFilter throws exception in case of DELETE method invocation with empty payload    </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="r8921039">Daniel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Sep 2017 23:47:21 +0000</created>
                <updated>Tue, 28 Nov 2017 10:51:32 +0000</updated>
                            <resolved>Tue, 19 Sep 2017 16:04:05 +0000</resolved>
                                    <version>3.2.0</version>
                                    <fixVersion>3.1.14</fixVersion>
                    <fixVersion>3.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16171862" author="sergey_beryozkin" created="Tue, 19 Sep 2017 15:11:36 +0000"  >&lt;p&gt;All of JOSE writer (client request or container response) interceptors already check if the entity object is available and if not - skip the processing.&lt;br/&gt;
It&apos;s more complex on the read side (client response or container request) - the current CXF message will always have InputStream set. With GET we can simply skip, but the empty streams can also be set for POST (request/response) and other verbs and Content-Length is not always available.&lt;/p&gt;

&lt;p&gt;I&apos;ll update the reader interceptors to optionally check if the stream is empty (will add a boolean &apos;checkEmptyStream&apos; property, disabled by default) - it will be optional because it will have a &apos;cost&apos; (will depend on a mark and might even have side-effects) and if the service is always returning or receiving the non-empty streams then it would be a &apos;penalty&apos; for such services.&lt;br/&gt;
The other option - use JAX-RS DynamicFeature to attach the JOSE interceptors only to the methods which need JOSE, it will be a very clean solution too...&lt;/p&gt;
</comment>
                            <comment id="16171950" author="sergey_beryozkin" created="Tue, 19 Sep 2017 16:07:51 +0000"  >&lt;p&gt;I&apos;ve deployed 3.1.14-SNAPSHOT, please try to set the new property on this filter and see if it works&lt;/p&gt;</comment>
                            <comment id="16172501" author="r8921039" created="Tue, 19 Sep 2017 23:40:22 +0000"  >&lt;p&gt;Thanks Sergey for the fix. I just tried by setting the property in my cxf service config xml but couldn&apos;t get it to work. Any idea where I could go wrong is appreciated. &lt;/p&gt;

&lt;p&gt;    &amp;lt;bean id=&quot;jwsInFilter&quot; class=&quot;org.apache.cxf.rs.security.jose.jaxrs.JwsContainerRequestFilter&quot;&amp;gt;&lt;br/&gt;
&lt;font color=&quot;#d04437&quot;&gt;        &amp;lt;property name=&quot;checkEmptyStream&quot; value=&quot;true&quot;/&amp;gt;&lt;/font&gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;br/&gt;
Thanks, &lt;br/&gt;
Daniel &lt;/p&gt;</comment>
                            <comment id="16172505" author="r8921039" created="Tue, 19 Sep 2017 23:42:42 +0000"  >&lt;p&gt;I am trying with 3.2.1-SANPSHOT in the above&lt;/p&gt;</comment>
                            <comment id="16172522" author="r8921039" created="Wed, 20 Sep 2017 00:08:02 +0000"  >&lt;p&gt;my debug printout shows my setting checkEmptyStream true is picked up alright but IOUtils.isEmpty(context.getEntityStream()) returns false even though there is no payload. This can be further verified by removing &quot;HttpMethod.GET.equals(context.getMethod())&quot; and solely relies on &quot;isCheckEmptyStream() &amp;amp;&amp;amp; IOUtils.isEmpty(context.getEntityStream())&quot;&lt;/p&gt;</comment>
                            <comment id="16176676" author="sergey_beryozkin" created="Fri, 22 Sep 2017 16:31:35 +0000"  >&lt;p&gt;I ended up adding an explicit check for DELETE and if it is ever needed that a non-expected DELETE with the content arrives then the filter&apos;s method where it is checked would need to be overridden.&lt;br/&gt;
Besides, if Content-Length=0 then it will also work for any HTTP verb with the empty payload...&lt;/p&gt;

&lt;p&gt;The problem is the fix to &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-6891&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-6891&lt;/a&gt;, where apparently we have a case where a non empty InputStream does not support marks and returns isAvailable=0.&lt;/p&gt;

&lt;p&gt;I know some multipart streams can also return 0 in isAvailable.&lt;/p&gt;

&lt;p&gt;I&apos;m not really sure what is best way to be sure, 100%, that the input stream is def empty if isAvailable=0. I&apos;ll deal with it as part of the future work, may be we can introduce a property which will let CXF tell the stream is empty if isAvailable=0.&lt;/p&gt;

&lt;p&gt;As far as this JIRA issue is concerned, it&apos;s fixed&lt;/p&gt;</comment>
                            <comment id="16176827" author="r8921039" created="Fri, 22 Sep 2017 18:02:51 +0000"  >&lt;p&gt;I just verified the fix works on JwsContainerRequestFilter. However, JwsClientResponseFilter still has a problem in case of empty payload of DELETE, where isCheckEmptyStream() returns &quot;false&quot;. Below is the log from the client. &lt;/p&gt;

&lt;p&gt;Sep 22, 2017 10:43:24 AM org.apache.cxf.interceptor.LoggingOutInterceptor&lt;br/&gt;
INFO: Outbound Message&lt;br/&gt;
---------------------------&lt;br/&gt;
ID: 3&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:9000/app/swaggerSample/sample/aaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9000/app/swaggerSample/sample/aaa&lt;/a&gt;&lt;br/&gt;
Http-Method: DELETE&lt;br/&gt;
Content-Type: application/json&lt;br/&gt;
Headers: &lt;/p&gt;
{Content-Type=[application/json], Accept=[application/json]}
&lt;p&gt;--------------------------------------&lt;br/&gt;
Sep 22, 2017 10:43:24 AM org.apache.cxf.interceptor.LoggingInInterceptor&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 3&lt;br/&gt;
Response-Code: 200&lt;br/&gt;
Encoding: ISO-8859-1&lt;br/&gt;
Content-Type: &lt;br/&gt;
Headers: &lt;/p&gt;
{Access-Control-Allow-Headers=[Content-Type], Access-Control-Allow-Methods=[GET, POST, DELETE, PUT, PATCH], Access-Control-Allow-Origin=[*], Content-Length=[0], Date=[Fri, 22 Sep 2017 17:43:24 GMT], Server=[Apache-Coyote/1.1]}
&lt;p&gt;--------------------------------------&lt;br/&gt;
Sep 22, 2017 10:43:24 AM org.apache.cxf.rs.security.jose.jws.JwsCompactConsumer &amp;lt;init&amp;gt;&lt;br/&gt;
WARNING: Compact JWS does not have 3 parts&lt;br/&gt;
Sep 22, 2017 10:43:24 AM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging&lt;br/&gt;
WARNING: Interceptor for &lt;/p&gt;
{http://localhost:9000/app/swaggerSample/sample}
&lt;p&gt;WebClient has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.rs.security.jose.jws.JwsException: INVALID_COMPACT_JWS&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsCompactConsumer.&amp;lt;init&amp;gt;(JwsCompactConsumer.java:52)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jws.JwsCompactConsumer.&amp;lt;init&amp;gt;(JwsCompactConsumer.java:43)&lt;br/&gt;
	at org.apache.cxf.rs.security.jose.jaxrs.JwsClientResponseFilter.filter(JwsClientResponseFilter.java:42)&lt;br/&gt;
	at org.apache.cxf.jaxrs.client.spec.ClientResponseFilterInterceptor.handleMessage(ClientResponseFilterInterceptor.java:66)&lt;/p&gt;

</comment>
                            <comment id="16176828" author="r8921039" created="Fri, 22 Sep 2017 18:03:40 +0000"  >&lt;p&gt;I assume similar isssues for JwsJsonClientResponseFilter &lt;/p&gt;</comment>
                            <comment id="16176916" author="sergey_beryozkin" created="Fri, 22 Sep 2017 18:43:35 +0000"  >&lt;p&gt;Have you configured client side interceptors to check the input stream ? I see Content-Length being set to 0, that should be enough, CXF test is passing&lt;/p&gt;</comment>
                            <comment id="16182675" author="sergey_beryozkin" created="Wed, 27 Sep 2017 14:52:45 +0000"  >&lt;p&gt;I&apos;ve also added the method check which can be customized if needed on the client side&lt;/p&gt;</comment>
                            <comment id="16184841" author="r8921039" created="Thu, 28 Sep 2017 20:45:53 +0000"  >&lt;p&gt;The fix works for the latest 3.2.1-SNAPSHOT. Thank you Sergey!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3k3iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>