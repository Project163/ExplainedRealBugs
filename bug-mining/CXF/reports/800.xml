<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:44:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3249] When accessing a service that requires auth CXF returns: RuntimeException: Can&apos;t find input stream in message</title>
                <link>https://issues.apache.org/jira/browse/CXF-3249</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I try to access a service that requires basic auth. My request does not include credentials. I would expect CXF to return something like&lt;br/&gt;
401 Authentication required. But it returns the following exception:&lt;/p&gt;

&lt;p&gt;WARNUNG: Interceptor for &lt;/p&gt;
{http://customerservice.example.com/}
&lt;p&gt;CustomerServiceService#&lt;/p&gt;
{http://customerservice.example.com/}
&lt;p&gt;getCustomersByName has thrown exception, unwinding now&lt;br/&gt;
java.lang.RuntimeException: Can&apos;t find input stream in message&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:116)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:60)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:755)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:2330)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2192)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:2036)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:696)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)&lt;br/&gt;
	at $Proxy30.getCustomersByName(Unknown Source)&lt;br/&gt;
	at client.JaxWsClient.main(JaxWsClient.java:24)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495698">CXF-3249</key>
            <summary>When accessing a service that requires auth CXF returns: RuntimeException: Can&apos;t find input stream in message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Jan 2011 08:00:19 +0000</created>
                <updated>Fri, 21 Jan 2011 22:24:09 +0000</updated>
                            <resolved>Sun, 16 Jan 2011 08:15:14 +0000</resolved>
                                    <version>2.3.1</version>
                                    <fixVersion>2.3.2</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12982236" author="chris@die-schneider.net" created="Sun, 16 Jan 2011 08:05:59 +0000"  >&lt;p&gt;It seems this happens because the message has no inputstream in this case. I added an empty inputstream for these cases.&lt;/p&gt;

&lt;p&gt;Additionally I added throwing an http exception for all reponse codes &amp;gt;= 400 and != 500. I hope this is correct. All tests passed.&lt;/p&gt;</comment>
                            <comment id="12982239" author="chris@die-schneider.net" created="Sun, 16 Jan 2011 08:07:40 +0000"  >&lt;p&gt;The exception now looks like the following. I also tried to avoid the could not send message but the code of cxf depends on this at some places. Perhaps we can do this at a later time.&lt;/p&gt;

&lt;p&gt;WARNUNG: Interceptor for &lt;/p&gt;
{http://customerservice.example.com/}
&lt;p&gt;CustomerServiceService#&lt;/p&gt;
{http://customerservice.example.com/}
&lt;p&gt;getCustomersByName has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault: Could not send Message.&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)&lt;br/&gt;
	at $Proxy30.getCustomersByName(Unknown Source)&lt;br/&gt;
	at client.JaxWsClient.main(JaxWsClient.java:24)&lt;br/&gt;
Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &apos;401: Full authentication is required to access this resource&apos; when communicating with &lt;a href=&quot;http://localhost:9090/CustomerServicePort&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9090/CustomerServicePort&lt;/a&gt;&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1502)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1448)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1356)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:614)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	... 8 more&lt;/p&gt;</comment>
                            <comment id="12982243" author="chris@die-schneider.net" created="Sun, 16 Jan 2011 08:15:13 +0000"  >&lt;p&gt;Committed patch&lt;/p&gt;</comment>
                            <comment id="12982603" author="sergey_beryozkin" created="Mon, 17 Jan 2011 11:43:10 +0000"  >&lt;p&gt;Hi Christian&lt;/p&gt;

&lt;p&gt;One minor comment is that having a 500 status does not guarantee that it is a valid SOAP fault response, but this probably indicates the server is in a pretty bad state.&lt;/p&gt;

&lt;p&gt;The other comment is that you may still want to wrap a CXF specific HTTP exception into a javax one you spotted on Friday somewhere at the JAX-WS level (in-fault interceptor comes to mind), this would make the JAX-WS client code portable and it will also let us experiment going forward with different approaches. &lt;/p&gt;

&lt;p&gt;For example, the reason the JAX-RS client runtime &apos;disables&apos; the exceptions at the HTTPConduit level is that noisy log messages are being generated and if we have a client code catching (JAX-RS) WebApplicationExceptions or checking explicit (JAX-RS) Responses and doing some logging of it own then the logging becomes too visible... Disabling logging at the transport level is not possible because we may have some genuine IO exceptions like timeout, etc, but choosing to deal with 400+ statuses at the higher level is a possibility&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12983957" author="cxfuser71" created="Thu, 20 Jan 2011 00:41:42 +0000"  >&lt;p&gt;Hi Christian,&lt;br/&gt;
In my case I do pass the credential - but still I get the same exception as shown below.&lt;br/&gt;
I am accessing a remote webservice (i.e. deployed in different m/c).&lt;br/&gt;
I am using JBoss 6.x which comes with CXF stack (version 2.3.1) - can you pls. suggest where need to look up further?&lt;br/&gt;
The remote webservice&apos;s WSDL is properly accessible thru browser.&lt;/p&gt;

&lt;p&gt;For passing the credential I have following code in my WS-client. &lt;br/&gt;
The sever side implementation (to expose the web service) has been done using .NET - so my question is do I need to keep any &quot;cxf.xml&quot; as part of my ws-client ?&lt;br/&gt;
If yes, then what should be the ideal place to keep such &quot;cxf.xml&quot; file?&lt;/p&gt;

&lt;p&gt;My ws-client  class is inside a jar and is deployed as part of EAR/lib in Jboss (i.e. ws-client is Not part of WAR module).&lt;br/&gt;
===========================================================&lt;br/&gt;
     class MyAuthenticator extends Authenticator {&lt;br/&gt;
            @Override&lt;br/&gt;
            public PasswordAuthentication getPasswordAuthentication() &lt;/p&gt;
{
                return new PasswordAuthentication(login, password.toCharArray());
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        Authenticator.setDefault(new MyAuthenticator());&lt;br/&gt;
=============================================================&lt;/p&gt;



&lt;p&gt;19:08:20,449 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.service.factory.ReflectionServiceFactoryBean&amp;#93;&lt;/span&gt; Creating Service &lt;/p&gt;
{http://www.towersoft.com/schema/webservice/trim2/}
&lt;p&gt;Engine from WSDL: &lt;a href=&quot;http://rclient114.cup.hp.com:80/trimws/trim.asmx?WSDL&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://rclient114.cup.hp.com:80/trimws/trim.asmx?WSDL&lt;/a&gt;&lt;br/&gt;
19:08:22,424 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.cxf.phase.PhaseInterceptorChain&amp;#93;&lt;/span&gt; Interceptor for &lt;/p&gt;
{http://www.towersoft.com/schema/webservice/trim2/}
&lt;p&gt;Engine#&lt;/p&gt;
{http://www.towersoft.com/
schema/webservice/trim2/}
&lt;p&gt;ListProperties has thrown exception, unwinding now: java.lang.RuntimeException: Can&apos;t find input stream in message&lt;br/&gt;
        at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:116) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:60) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:755) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:2330) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2192) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:2036) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:696) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt; &lt;/p&gt;


&lt;p&gt;Hope I will get some pointer to look for.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Kuntal&lt;/p&gt;</comment>
                            <comment id="12984146" author="chris@die-schneider.net" created="Thu, 20 Jan 2011 11:53:45 +0000"  >&lt;p&gt;Have you checked that the credentials really reach the server. Could you try this:&lt;/p&gt;

&lt;p&gt;        BindingProvider bp = (BindingProvider)serviceProxy;&lt;br/&gt;
        bp.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, username);&lt;br/&gt;
        bp.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, password);&lt;/p&gt;

&lt;p&gt;These lines should be inserted before calling the service.&lt;/p&gt;</comment>
                            <comment id="12984308" author="cxfuser71" created="Thu, 20 Jan 2011 18:01:45 +0000"  >&lt;p&gt;Hi Christian,&lt;br/&gt;
I do not have access in the server side implementation - I am the web service consumer.&lt;br/&gt;
What I have is the WSDL file and a jar file containing all related artifacts.&lt;/p&gt;

&lt;p&gt;Can you tell me if &quot;BindingProvider&quot; is the only option to pass username/password on the request context?&lt;br/&gt;
Previous version of  JBoss would support &quot;Metro WS stack&quot; and we could use &quot;java.net.Authenticator&quot; instead of BindingProvider and could access the remote web service successfully.&lt;br/&gt;
But with &quot;JBoss 6.0 GA&quot; release the &quot;Metro WS stack&quot; has been discontinued and we have to use &quot;CXF WS stack&quot;.&lt;br/&gt;
I also find that if I use &quot;JAXWS RI&quot; implementation that comes with JDK 6, I can still use the &quot;java.net.Authenticator&quot; and can successfully  invoke the remote web service.&lt;/p&gt;

&lt;p&gt;Is there any way I can tweak my ws-client side code so that by using &quot;java.net.Authenticator&quot;, I can access that remote web service with CXF stack in the same way?&lt;/p&gt;

&lt;p&gt;Also, if I use &quot;BindingProvider&quot; I get following error in ws-client console.&lt;br/&gt;
In the WSDL  I could not find any &amp;lt;HEAD&amp;gt; or &amp;lt;META&amp;gt; tag - so it is part of the response, being parsed by the library.&lt;br/&gt;
Is there a way to dump the response received from server side?&lt;br/&gt;
================================================================================&lt;br/&gt;
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.&lt;br/&gt;
	at org.apache.cxf.wsdl11.WSDLServiceFactory.&amp;lt;init&amp;gt;(WSDLServiceFactory.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:207) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.jaxws.ServiceImpl.&amp;lt;init&amp;gt;(ServiceImpl.java:150) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 93 more&lt;br/&gt;
Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/HEAD&amp;gt;; expected &amp;lt;/META&amp;gt;.&lt;br/&gt;
 at &lt;span class=&quot;error&quot;&gt;&amp;#91;row,col,system-id&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;11,6,&amp;quot;http://rclient114.cup.hp.com:80/trimws/trim.asmx?WSDL&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:235) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:186) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.wsdl11.WSDLServiceFactory.&amp;lt;init&amp;gt;(WSDLServiceFactory.java:91) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 95 more&lt;br/&gt;
Caused by: com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/HEAD&amp;gt;; expected &amp;lt;/META&amp;gt;.&lt;br/&gt;
 at &lt;span class=&quot;error&quot;&gt;&amp;#91;row,col,system-id&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;11,6,&amp;quot;http://rclient114.cup.hp.com:80/trimws/trim.asmx?WSDL&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.StreamScanner.constructWfcException(StreamScanner.java:630) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.StreamScanner.throwParseError(StreamScanner.java:461) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.BasicStreamReader.reportWrongEndElem(BasicStreamReader.java:3256) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.BasicStreamReader.readEndElem(BasicStreamReader.java:3198) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.BasicStreamReader.nextFromTree(BasicStreamReader.java:2830) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1019) &lt;span class=&quot;error&quot;&gt;&amp;#91;:3.2.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.staxutils.StaxUtils.readDocElements(StaxUtils.java:998) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.staxutils.StaxUtils.read(StaxUtils.java:849) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:226) &lt;span class=&quot;error&quot;&gt;&amp;#91;:2.3.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 97 more&lt;br/&gt;
===================================================================================&lt;/p&gt;


&lt;p&gt;Thanks a lot for your help.&lt;/p&gt;</comment>
                            <comment id="12984618" author="chris@die-schneider.net" created="Fri, 21 Jan 2011 08:35:54 +0000"  >&lt;p&gt;We have an implementation of Authenticator in CXF so it should work but I have never used it.&lt;/p&gt;

&lt;p&gt;To log the messages you should try: &lt;br/&gt;
Client client = ClientProxy.getClient(serviceProxy);&lt;br/&gt;
client.getOutInterceptors().add(new LoggingOutInterceptor());&lt;br/&gt;
client.getInInterceptors().add(new LoggingInInterceptor());&lt;/p&gt;

&lt;p&gt;also see: &lt;a href=&quot;http://cxf.apache.org/docs/debugging-and-logging.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/debugging-and-logging.html&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12984968" author="cxfuser71" created="Fri, 21 Jan 2011 22:19:22 +0000"  >&lt;p&gt;Hi Chrisitian,&lt;br/&gt;
I have used the &quot;Authenticator&quot; with CXF and found it works okay.&lt;br/&gt;
Actually in my case the webservice was deployed on Microsoft IIS server and I &quot;have to&quot; use  &quot;Authenticator&quot;  -  &quot;BindingProvider&quot; does not work for me.&lt;/p&gt;

&lt;p&gt;It turns out that since the web service was deployed on Microsoft IIS which needs NTLM authentication, and if we use Apache CXF library for ws-client, we &quot;must&quot; need to setup the CXF client to turn off chunking. The reason is that the NTLM authentication requires a 3 part handshake which breaks the  streaming. This was beyond my knowledge as I have very very limited knowledge about Microsoft technologies.&lt;br/&gt;
Surprisingly JAX-WS RI implementation or Metro-WS stack does not demand this kind requirement. Thus in my opinion it is indeed an overhead for CXF users. &lt;/p&gt;

&lt;p&gt;The other error. i.e. &quot;Unexpected close tag &amp;lt;/HEAD&amp;gt;; expected &amp;lt;/META&amp;gt;&quot;, was occurring because the server was sending an error page which was lacking an end &amp;lt;/META&amp;gt; tag. &lt;br/&gt;
The CXF library is strict in XML parsing and instead of showing error as &quot;401 Authentication Required&quot;, it just states about the parsing error. &lt;br/&gt;
AGAIN, the JAX-WS RI implementation or Metro-WS stack does properly show the correct error message (i.e. 401 authentication required.)  even if the returned html page misses an end &amp;lt;/META&amp;gt; tag.&lt;/p&gt;

&lt;p&gt;Also can you tell me what is the side effect of &quot;turning off chunking&quot;? Will my ws-request take more time to retrieve the complete result set from server?&lt;br/&gt;
Do I need to &quot;turn ON&quot; chunking once the authentication completes successfully? If yes then how can I do that?&lt;/p&gt;

&lt;p&gt;Though I have found the solution but I would love to know more about NTLM authentication and how the turning the chunking off resolves the authentication failure issues with CXF stack. So if anybody can throw some light in it, will be very happy.&lt;/p&gt;


&lt;p&gt;Cheers,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Kuntal&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v0hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>