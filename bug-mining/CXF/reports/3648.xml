<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:38:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-8636] Swagger2Feature: Can&apos;t set url in UI through SwaggerUiConfig</title>
                <link>https://issues.apache.org/jira/browse/CXF-8636</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;ve included the swagger ui by adding a dependency on org.webjars:swagger-ui.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://cxf.apache.org/docs/swagger2feature.html#Swagger2Feature-ConfiguringSwaggerUI(3.2.7+)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Documentation&lt;/a&gt; mentions that the swagger UI can be configured through SwaggerUiConfig which sets config as query params.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Since &lt;a href=&quot;https://github.com/swagger-api/swagger-ui/releases/tag/v4.1.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;swagger ui 4.1.3&lt;/a&gt; passing the default url as query parameter, e.g. `?url=swagger.json` is disabled by default due to security concerns. Instead the default swagger PetStore definition is loaded.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It&apos;s possible to restore the old behaviour by setting queryConfigEnabled, but I couldn&apos;t find a way to set this. Of course enabling this also brings back the security issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13420410">CXF-8636</key>
            <summary>Swagger2Feature: Can&apos;t set url in UI through SwaggerUiConfig</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reta">Andriy Redko</assignee>
                                    <reporter username="mksplg">Markus Plangg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Jan 2022 16:54:02 +0000</created>
                <updated>Mon, 18 Sep 2023 18:48:11 +0000</updated>
                            <resolved>Tue, 15 Feb 2022 01:35:14 +0000</resolved>
                                    <version>3.5.0</version>
                    <version>3.4.5</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.1</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17468101" author="reta" created="Mon, 3 Jan 2022 17:04:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mksplg&quot; class=&quot;user-hover&quot; rel=&quot;mksplg&quot;&gt;mksplg&lt;/a&gt; Yes, there is an issue on Swagger UI 4.1.3 side, the 4.1.2 works well, could you try that version please? Thank you.&lt;/p&gt;</comment>
                            <comment id="17468108" author="mksplg" created="Mon, 3 Jan 2022 17:24:03 +0000"  >&lt;p&gt;Thanks for the fast answer.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Using 4.1.2 works as a workaround.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Still this will be an issue for all future versions of Swagger UI.&lt;/p&gt;</comment>
                            <comment id="17468122" author="reta" created="Mon, 3 Jan 2022 17:34:37 +0000"  >&lt;p&gt;Thank you, we are looking into supporting this new Swagger UI 4.1.3 deployment model but it may take some time.&lt;/p&gt;</comment>
                            <comment id="17468516" author="mksplg" created="Tue, 4 Jan 2022 09:44:12 +0000"  >&lt;p&gt;No problem and thanks for the fast reply.&lt;/p&gt;</comment>
                            <comment id="17475032" author="reta" created="Thu, 13 Jan 2022 00:53:11 +0000"  >&lt;p&gt;Since Swagger UI 4.1.3, the `url` parameter is not accepted through query string unless such functionality enabled by setting the `&lt;tt&gt;queryConfigEnabled&lt;/tt&gt;` core property &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Consequently, this property could be set only by:&lt;/p&gt;

&lt;p&gt;&#160;- crafting own SwaggerUI distribution with&#160; customized &lt;tt&gt;swagger-config.yaml&lt;/tt&gt; &lt;br/&gt;
&#160;- manipulating JS model &lt;tt&gt;SwaggerUI&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;CXF does not build own SwaggerUI distribution nor modifies / alters the JS model anyhow, we use `org.webjars.swagger-ui` artifacts as is. Probably, the only solution which we could offer to keep &#160;`url` parameter supported is by overriding on the fly `index.html` from the &#160;`org.webjars.swagger-ui` and replacing the URL fed to &lt;tt&gt;SwaggerUI&lt;/tt&gt; model.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md#core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md#core&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17492315" author="reta" created="Tue, 15 Feb 2022 01:45:22 +0000"  >&lt;p&gt;Documentation update: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/CXF20DOC/Swagger2Feature#Swagger2Feature-ConfiguringSwaggerUI(3.2.7+&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/CXF20DOC/Swagger2Feature#Swagger2Feature-ConfiguringSwaggerUI(3.2.7+&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17543639" author="amichai" created="Sun, 29 May 2022 13:56:20 +0000"  >&lt;p&gt;The services list page generated by CXF still shows e.g.:&lt;/p&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Endpoint address:&#160;&lt;a href=&quot;https://localhost:8183/api/v1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8183/api/v1&lt;/a&gt;&lt;br/&gt;
WADL :&#160;&lt;a href=&quot;https://localhost:8183/api/psd2?_wadl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8183/api/v1?_wadl&lt;/a&gt;&lt;br/&gt;
OpenAPI :&#160;&lt;a href=&quot;https://localhost:8183/api/psd2/api-docs?url=/api/psd2/openapi.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8183/api/v1/api-docs?url=/api/v1/openapi.json&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;With the bottom link broken by this issue (showing the petstore instead of the application api that it used to show in previous versions).&lt;/p&gt;</comment>
                            <comment id="17543648" author="reta" created="Sun, 29 May 2022 14:37:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt; have you read the documentation update &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;? We had to accommodate the SwaggerUI changes by introducing &lt;tt&gt;queryConfigEnabled&lt;/tt&gt;&#160; property.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://cwiki.apache.org/confluence/display/CXF20DOC/Swagger2Feature#Swagger2Feature-ConfiguringSwaggerUI(3.2.7+&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/CXF20DOC/Swagger2Feature#Swagger2Feature-ConfiguringSwaggerUI(3.2.7+&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17543776" author="amichai" created="Mon, 30 May 2022 05:04:34 +0000"  >&lt;p&gt;I read the documentation, which says that prior to CXF 3.5.1 it would pass the url as the query parameter, and in newer CXF it employs a different strategy. In this services list page it still passes the url as a query parameter also in 3.5.2. The documentation also says the new strategy &quot;could be turned off by setting &lt;tt&gt;queryConfigEnabled&lt;/tt&gt;&#160; property of the&#160;&lt;b&gt;SwaggerUiConfig&lt;/b&gt;&#160;to&#160;&lt;tt&gt;true&lt;/tt&gt;&quot;. It doesn&apos;t say anything about having to set this property to get it to work in the first place. Perhaps the documentation should be clarified if that&apos;s not the case.&lt;/p&gt;

&lt;p&gt;Also, how does one configure this when using the OpenAPIFeature (from blueprint)? is it the same configuration property?&lt;/p&gt;</comment>
                            <comment id="17543908" author="reta" created="Mon, 30 May 2022 11:45:54 +0000"  >&lt;p&gt;Thanks for the feedback &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt;, I will update the documentation to be more precise&lt;/p&gt;

&lt;p&gt;&amp;gt; Also, how does one configure this when using the OpenAPIFeature (from blueprint)? is it the same configuration property?&lt;/p&gt;

&lt;p&gt;Yes, the `OpenAPIFeature::setSwaggerUiConfig` configures SwaggerUI, please provide &lt;b&gt;SwaggerUiConfig&lt;/b&gt; instance with `url` property and &lt;tt&gt;queryConfigEnabled&lt;/tt&gt; set to `true`.&lt;/p&gt;</comment>
                            <comment id="17543932" author="amichai" created="Mon, 30 May 2022 12:42:07 +0000"  >&lt;p&gt;Great! Perhaps you can also update the OpenAPIFeature docs about this? They still show the url query param and don&apos;t mention any of the required changes and what works or doesn&apos;t work out of the box now...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/CXF20DOC/OpenAPIFeature#OpenApiFeature-EnablingSwaggerUI&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/CXF20DOC/OpenAPIFeature#OpenApiFeature-EnablingSwaggerUI&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17544072" author="reta" created="Mon, 30 May 2022 21:38:26 +0000"  >&lt;p&gt;Sure, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17544867" author="amichai" created="Wed, 1 Jun 2022 12:21:48 +0000"  >&lt;p&gt;Thanks for the updates!&lt;/p&gt;

&lt;p&gt;I still can&apos;t get it to work though. On Karaf 4.3.7, CXF 3.5.2, blueprint, OpenApiFeature with or without an explicit SwaggerUiConfig bean, the cxf services list page still shows the url query parameter on the link (as I pasted above - this may be a separate but related issue), and also browsing to the page with or without the query string, even with adding an explicit index.html manually (as far as I can see in the code it looks for that hard-coded string when applying the workaround), everything results in seeing the petstore api. In fact it seems to redirect (307) from all those variants back to the original url with the query string, which then still shows the petstore api. Maybe there&apos;s something else I need to be doing, but this used to work out of the box, and now does not.&lt;/p&gt;</comment>
                            <comment id="17544893" author="reta" created="Wed, 1 Jun 2022 13:05:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&amp;gt; I still can&apos;t get it to work though. On Karaf 4.3.7, CXF 3.5.2, blueprint, OpenApiFeature with or without an explicit SwaggerUiConfig bean, the cxf services list page still shows the url query parameter on the link (as I pasted above - this may be a separate but related issue)&lt;/p&gt;

&lt;p&gt;This is fine in a sense that CXF always pass it through (fe you may use different version of the Swagger UI), it should not be an issue&lt;/p&gt;

&lt;p&gt;&amp;gt; also browsing to the page with or without the query string, even with adding an explicit index.html manually (as far as I can see in the code it looks for that hard-coded string when applying the workaround), everything results in seeing the petstore api&lt;/p&gt;

&lt;p&gt;That is not intended behavior, I will double check it under Karaf&lt;/p&gt;

&lt;p&gt;&amp;gt; Maybe there&apos;s something else I need to be doing, but this used to work out of the box, and now does not.&lt;/p&gt;

&lt;p&gt;The change comes from SwaggerUI and needs adjustment across the board (not only CXF is affected).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17544936" author="amichai" created="Wed, 1 Jun 2022 14:30:57 +0000"  >&lt;p&gt;After digging a bit deeper, and better understanding what was wrong and why the docs are still confusing:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The workaround is activated only if the SwaggerUIConfig exists, it has a url property, and either doesn&apos;t have the queryConfigEnabled or has it set to &apos;false&apos;. or inversely: it does not work out of the box (when no config exists), does not work if a url is not set (which is not apparent from the docs - the query parameter exists but is ignored and only the config url is used), or if queryConfigEnabled is set to &apos;true&apos;.&lt;/li&gt;
	&lt;li&gt;I went straight for the latest swagger-ui 4.11.1, but as it turns out, the CXF 3.5.2 workaround is broken on it. The last swagger-ui for which CXF 3.5.2 still works is 4.8.1. It looks like the workaround may have been updated to work with newer swagger-ui only in newer CXF, hopefully backwards-compatible with all the intermediate swagger-ui versions as well.&lt;/li&gt;
	&lt;li&gt;The url query parameter is still added and redirected to, but then ignored (only url from config is used).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So in short,it works with CXF 3.5.2 but only up to swagger-ui 4.8.1, with an explicit SwaggerUIConfig with explicit url and false or unset queryConfigEnabled.&lt;/p&gt;

&lt;p&gt;To save others a few hours of work, I think a fuller explanation with all the details should be updated in the docs (both for swagger and openapi features).&lt;/p&gt;

&lt;p&gt;I hope this helps...&lt;/p&gt;</comment>
                            <comment id="17545075" author="reta" created="Wed, 1 Jun 2022 18:07:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt;, I will try to improve the defaults (there are some ideas how), regarding Swagger 4.11.1 - see please &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8683&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-8683&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17545205" author="reta" created="Wed, 1 Jun 2022 23:54:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amichai&quot; class=&quot;user-hover&quot; rel=&quot;amichai&quot;&gt;amichai&lt;/a&gt; I created this one, &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-8710&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-8710&lt;/a&gt;, hopefully I captured the root cause of the migration hiccups correctly, could you please confirm that? Thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0y774:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>