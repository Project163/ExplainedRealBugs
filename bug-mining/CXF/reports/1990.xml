<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:04:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5306] Soap body in header</title>
                <link>https://issues.apache.org/jira/browse/CXF-5306</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I am using apache-cxf-2.7.6. I generated soap client from wsdl. In Java code I set values for the request object and send request. Soap xml request is not valid. In the header is request body and soap:body is empty. This is generated xml which is not valid:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Envelope &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soap&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Header&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ns7:MetaHeader &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns12&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/common/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns11&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/MessageDelivery/SendSMS/res/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns10&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/MessageDelivery/SendSMS/req/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns9&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/SMS/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns8&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/SMS/core&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns7&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://ed6.kbc.com/metaheader.1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns6&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/common/core&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns5&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://services.csob.cz/base_v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns4&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/MessageDelivery/SendEmail/res/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns3&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/Email/v1&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ns2&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/MessageDelivery/SendEmail/req/v1&quot;&lt;/span&gt; xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.csob.cz/infrastructure/Email/core&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ns2:EmailToFields&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;EmailToField&amp;gt;&lt;/span&gt;test@test.sk&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/EmailToField&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ns2:EmailToFields&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;EmailSubject&amp;gt;&lt;/span&gt;test&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/EmailSubject&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;EmailFromField&amp;gt;&lt;/span&gt;test@test.sk&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/EmailFromField&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ns2:EmailBody&amp;gt;&lt;/span&gt;Hello World!&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ns2:EmailBody&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;DeliveryPriority&amp;gt;&lt;/span&gt;1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/DeliveryPriority&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ns7:MetaHeader&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Header&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Body/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the code how I am sending request:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      MessageDelivery messageDelivery = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageDelivery();
			SendEmailPortType client = messageDelivery.getSendEmailPortTypeBindingPort(); 

			org.apache.cxf.endpoint.Client clientEnd = ClientProxy.getClient(client);
			clientEnd.getOutInterceptors().add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyLogInterceptor());
			
			SendEmailReq sendEmailReq = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SendEmailReq();
			sendEmailReq.setEmailSubject(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;);
			sendEmailReq.setEmailBody(body);
			sendEmailReq.setEmailFromField(&lt;span class=&quot;code-quote&quot;&gt;&quot;test@test.sk&quot;&lt;/span&gt;);
			sendEmailReq.setEmailToFields(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SendEmailReq.EmailToFields());
			sendEmailReq.getEmailToFields().getEmailToField().add(&lt;span class=&quot;code-quote&quot;&gt;&quot;test@test.sk&quot;&lt;/span&gt;);
			sendEmailReq.setDeliveryPriority(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;(1));
      
			client.sendEmailV1(sendEmailReq);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12670904">CXF-5306</key>
            <summary>Soap body in header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="matej">matej</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2013 11:34:20 +0000</created>
                <updated>Tue, 26 Nov 2013 17:40:02 +0000</updated>
                            <resolved>Tue, 8 Oct 2013 21:22:48 +0000</resolved>
                                    <version>2.7.6</version>
                                    <fixVersion>2.7.8</fixVersion>
                    <fixVersion>2.6.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13779842" author="matej" created="Fri, 27 Sep 2013 11:37:16 +0000"  >&lt;p&gt;I imported same wsdl to the new project in SOAPUI. It creates correct empty request. So I am wonder why cxf putting body to the soap header.&lt;br/&gt;
I tried also older versions of cfx with the same result.&lt;/p&gt;</comment>
                            <comment id="13779905" author="matej" created="Fri, 27 Sep 2013 13:13:20 +0000"  >&lt;p&gt;Here is the wsdl file.&lt;/p&gt;</comment>
                            <comment id="13780112" author="dkulp" created="Fri, 27 Sep 2013 17:27:10 +0000"  >
&lt;p&gt;We&apos;d probalby need to see the full test case with all the schemas and such.&lt;/p&gt;

&lt;p&gt;In anycase, can you try generating the client with the &quot;-exsh true&quot; flag added to the wsdl2java?   That should change the method signature a bit to reflect the required SOAP header. The soap binding in the wsdl describes a header (MetaHeader element) so it looks like it&apos;s using the parameter for that and then there isn&apos;t anything left for the body.  It SHOULDN&apos;T be doing that which is why I&apos;d like a full test case, but adding the additional flags to wsdl2java may provide a workaround for you.&lt;/p&gt;</comment>
                            <comment id="13787984" author="matej" created="Mon, 7 Oct 2013 08:22:01 +0000"  >&lt;p&gt;I tried that. I get this message:&lt;/p&gt;

&lt;p&gt;WSDLToJava Error: Parameter: part1 already exists for method sendEmailV1 but of type cz.csob.infrastructure.messagedelivery.sendemail.req.v1.SendEmailReq instead of com.kbc.ed6.metaheader.MetaHeader.  Use a JAXWS/JAXB binding customization to rename the parameter.&lt;/p&gt;</comment>
                            <comment id="13788169" author="matej" created="Mon, 7 Oct 2013 14:14:21 +0000"  >&lt;p&gt;Here is wsdl with all xsd schemas. I tried also wsimport with autoNameResolution with the same result. &lt;br/&gt;
wsimport -keep -verbose -B-XautoNameResolution -extension MessageDelivery.wsdl&lt;/p&gt;</comment>
                            <comment id="13789599" author="dkulp" created="Tue, 8 Oct 2013 19:46:16 +0000"  >
&lt;p&gt;You can use CXF&apos;s wsdl2java tool:&lt;/p&gt;

&lt;p&gt;wsdl2java  -exsh true -autoNameResolution  MessageDelivery.wsdl&lt;/p&gt;

&lt;p&gt;and that generates fine.&lt;/p&gt;
</comment>
                            <comment id="13789658" author="dkulp" created="Tue, 8 Oct 2013 20:30:25 +0000"  >&lt;p&gt;Slightly amused by this bug.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;CXF and the JAX-WS reference implementation are BOTH outputting the data in the soap header.   However, it definitely is a bug (in both implementations).   I&apos;m testing a fix now.&lt;/p&gt;

&lt;p&gt;If you can change the WSDL, you can get it to work for both implementations.    If you change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;message name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Meta&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;part name=&lt;span class=&quot;code-quote&quot;&gt;&quot;part1&quot;&lt;/span&gt; element=&lt;span class=&quot;code-quote&quot;&gt;&quot;meta:MetaHeader&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/message&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;message name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Meta&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;part name=&lt;span class=&quot;code-quote&quot;&gt;&quot;meta&quot;&lt;/span&gt; element=&lt;span class=&quot;code-quote&quot;&gt;&quot;meta:MetaHeader&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/message&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then also update the &quot;part&quot; attribute on the soap:header lines to match the name, then it should work fine.  That also has NO effect of the on-the-wire format and is thus completely compatible.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12605439" name="MessageDelivery.wsdl" size="5669" author="matej" created="Fri, 27 Sep 2013 13:13:20 +0000"/>
                            <attachment id="12607157" name="MessageDelivery.zip" size="359841" author="matej" created="Mon, 7 Oct 2013 14:14:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oh1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>