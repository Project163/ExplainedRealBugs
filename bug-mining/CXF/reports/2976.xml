<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:23:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7262] JAXRS: ClientConfig lost when using templates in the path method</title>
                <link>https://issues.apache.org/jira/browse/CXF-7262</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The ClientConfiguration (not to be confused with the JAXRS Configuration) is lost when a user of the JAXRS Client APIs calls path(...) on a WebTarget with a template.  The ClientConfiguration contains important pieces like Interceptors, etc. that would be lost when the user tries to invoke the method on the WebTarget returned from the path(...) method.&lt;/p&gt;

&lt;p&gt;For example, we create an out interceptor and add it to the ClientConfiguration, and we would expect that interceptor to be executed on every outbound request, but the following example shows that it is not:&lt;/p&gt;

&lt;p&gt;Client client = ClientBuilder.newClient();&lt;br/&gt;
WebTarget target = client.target(&quot;http://localhost:8080/myRoot&quot;);&lt;br/&gt;
target.request().get(); // works - invokes the interceptor&lt;br/&gt;
WebTarget target2 = target.path(&quot;/path/&lt;/p&gt;
{key}
&lt;p&gt;&quot;).resolveTemplate(&quot;key&quot;, &quot;value&quot;);&lt;br/&gt;
target2.request().get(); // fails - request is sent without invoking the interceptor&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047474">CXF-7262</key>
            <summary>JAXRS: ClientConfig lost when using templates in the path method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="andymc">Andrew J McMurry</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Mar 2017 21:44:28 +0000</created>
                <updated>Mon, 10 Apr 2017 19:04:42 +0000</updated>
                            <resolved>Mon, 6 Mar 2017 12:56:05 +0000</resolved>
                                    <version>3.1.8</version>
                                    <fixVersion>3.1.11</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15891218" author="githubbot" created="Wed, 1 Mar 2017 22:36:47 +0000"  >&lt;p&gt;GitHub user andymc12 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/240&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7262&quot; title=&quot;JAXRS: ClientConfig lost when using templates in the path method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7262&quot;&gt;&lt;del&gt;CXF-7262&lt;/del&gt;&lt;/a&gt;: Preserve client config after path(...) calls&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andymc12/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andymc12/cxf&lt;/a&gt; clientconfig&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/240.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/240.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #240&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 394c6003d1a10b47abd6e944d888a1d3472c349c&lt;br/&gt;
Author: Andy McCright &amp;lt;andymc@us.ibm.com&amp;gt;&lt;br/&gt;
Date:   2017-03-01T22:35:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7262&quot; title=&quot;JAXRS: ClientConfig lost when using templates in the path method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7262&quot;&gt;&lt;del&gt;CXF-7262&lt;/del&gt;&lt;/a&gt;: Preserve client config after path(...) calls&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15892210" author="sergey_beryozkin" created="Thu, 2 Mar 2017 13:03:30 +0000"  >&lt;p&gt;Hi Andy, good to see you submitting another patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
FYI, I&apos;m getting NPE with this patch if I initialize a Client with a URI already containing the templates:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testGetBookSpecTemplate() {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; address = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:&quot;&lt;/span&gt; + PORT + &lt;span class=&quot;code-quote&quot;&gt;&quot;/bookstore/{a}/simple&quot;&lt;/span&gt;;
&lt;/span&gt;        Client client = ClientBuilder.newClient();
        WebTarget webTarget = client.target(address)
            .resolveTemplate(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bookheaders&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-comment&quot;&gt;// NPE
&lt;/span&gt;        Invocation.Builder builder = webTarget.request(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml&quot;&lt;/span&gt;).header(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BType());

        Response r = builder.get();
        Book book = r.readEntity(Book.class);
        assertEquals(124L, book.getId());
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, r.getHeaderString(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;I wonder if we should keep a complete check but pass a &apos;targetClient&apos; in the non-complete branch&lt;/p&gt;

&lt;p&gt;Can you experiment please ?&lt;br/&gt;
thanks&lt;/p&gt;</comment>
                            <comment id="15892958" author="andymc" created="Thu, 2 Mar 2017 20:44:41 +0000"  >&lt;p&gt;Good catch Sergey!  I missed the scenario where the initial WebClient was null.  This would be the case when the unresolved template is part of the initial target() call.  I&apos;ve updated my patch with a fix that keeps the targetClient field null if it was previously null, but preserves it in all other cases - preserving the config.  That passes the original test and yours (which I added to the new test class).&lt;/p&gt;

&lt;p&gt;Thanks, Andy&lt;/p&gt;</comment>
                            <comment id="15895204" author="sergey_beryozkin" created="Fri, 3 Mar 2017 23:02:19 +0000"  >&lt;p&gt;Hi Andy sorry I actually did not realize until my Friday evening that you typed you had already updated the patch, I was curious why you did not do it yet when finally realized it was already done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, I&apos;ll apply asap, won&apos;t do it in a hurry now, but it will be in the source shortly&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15897201" author="githubbot" created="Mon, 6 Mar 2017 12:39:17 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/240&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15897225" author="sergey_beryozkin" created="Mon, 6 Mar 2017 12:56:05 +0000"  >&lt;p&gt;Andy, thanks for the patch, I did minor follow up updates as it became obvious the builder build try was redundant, I do not recall now why I did it, probably wanted to make sure the URI which was still parameterized would not make it into the underlying WebClient... Added a system test and did a minor tweak to the test code for it to compile with Java 7&lt;br/&gt;
thanks&lt;/p&gt;</comment>
                            <comment id="15897587" author="andymc" created="Mon, 6 Mar 2017 16:25:52 +0000"  >&lt;p&gt;Thanks Sergey, and sorry for the extra work.  I have a new system, and didn&apos;t install Java 7 on it, so I guess I need to configure it to use Java 7 compilation settings...&lt;/p&gt;

&lt;p&gt;Thanks again,&lt;br/&gt;
Andy&lt;/p&gt;</comment>
                            <comment id="15897590" author="sergey_beryozkin" created="Mon, 6 Mar 2017 16:30:00 +0000"  >&lt;p&gt;Hi Andy, &lt;br/&gt;
np at all, I&apos;m breaking the builds quite regularly myself to do with the newer constructs/etc making it into the source not supported by either Java 6 (CXF 3.0.x) or Java 7 (CXF 3.1.x) &lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3atgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>