<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:19:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6764] Should add RI JAXB Namespacemapper support</title>
                <link>https://issues.apache.org/jira/browse/CXF-6764</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;/cxf-core/src/main/java/org/apache/cxf/common/jaxb/JAXBUtils.java:1097&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cls == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
            &amp;amp;&amp;amp; (mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;.internal.&quot;&lt;/span&gt;) || mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sun&quot;&lt;/span&gt;))) {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                cls = ClassLoaderUtils.loadClass(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.common.jaxb.NamespaceMapper&quot;&lt;/span&gt;, 
                                                 JAXBUtils.class);
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException ex2) {
                &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;CXF only add org.apache.cxf.common.jaxb.NamespaceMapper which extends com.sun.xml.bind.marshaller.NamespacePrefixMapper, but the RI JAXB need a mapper extends com.sun.xml.internal.bind.marshaller.NamespacePrefixMapper&lt;/p&gt;

&lt;p&gt;So when we add namespace mapper in JAXBElementProvider subclass, the RI JAXB cann&apos;t add the namespace mapping correctly.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12934670">CXF-6764</key>
            <summary>Should add RI JAXB Namespacemapper support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="nbqyqx@163.com">Neal Hu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2016 02:54:15 +0000</created>
                <updated>Fri, 14 Oct 2016 14:13:24 +0000</updated>
                            <resolved>Wed, 16 Mar 2016 20:16:35 +0000</resolved>
                                    <version>3.0.7</version>
                    <version>3.1.4</version>
                                    <fixVersion>3.1.6</fixVersion>
                    <fixVersion>3.0.9</fixVersion>
                                    <component>Core</component>
                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15121985" author="dkulp" created="Thu, 28 Jan 2016 17:58:23 +0000"  >&lt;p&gt;I&apos;m a bit confused by the comment.   There is a bug there as that SHOULD be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cls == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
            &amp;amp;&amp;amp; (!mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;.internal.&quot;&lt;/span&gt;) &amp;amp;&amp;amp; mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sun&quot;&lt;/span&gt;))) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as it should only go into there if its NOT the &quot;internal&quot; version.   If it is the internal version, the code above this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cls == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                ClassWriter cw = helper.createClassWriter();
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cw != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) { 
                    cls = createNamespaceWrapperInternal(helper, cw, postFix, mcls);
                }
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RuntimeException ex) {
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;
&lt;/span&gt;            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should be generating NamespaceMapper of the &quot;internal&quot; type.&lt;/p&gt;
</comment>
                            <comment id="15123849" author="nbqyqx@163.com" created="Fri, 29 Jan 2016 17:38:39 +0000"  >&lt;p&gt;Hi Dan,&lt;br/&gt;
Do we have the class named org.apache.cxf.jaxb.NamespaceMapperInternal?&lt;/p&gt;

&lt;p&gt;How about add below logic and new class named org.apache.cxf.common.jaxb.NamespaceMapperInternal extends com.sun.xml.internal.bind.marshaller.NamespacePrefixMapper&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cls == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
            &amp;amp;&amp;amp; (mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;.internal.&quot;&lt;/span&gt;) || mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sun&quot;&lt;/span&gt;))) {
            &lt;span class=&quot;code-comment&quot;&gt;//Liberty change, when use jdk JAXB we need NamespaceMapper &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt;  com.sun.xml.internal.bind.marshaller.NamespacePrefixMapper
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mcls.getName().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;.internal.&quot;&lt;/span&gt;))
                className = &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.common.jaxb.NamespaceMapper&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;Internal&quot;&lt;/span&gt;;
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
                className = &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.common.jaxb.NamespaceMapper&quot;&lt;/span&gt;;

            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                cls = ClassLoaderUtils.loadClass(className, JAXBUtils.class);
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException ex2) {
                &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15123856" author="dkulp" created="Fri, 29 Jan 2016 17:43:17 +0000"  >
&lt;p&gt;No we don&apos;t.  It&apos;s created by ASM (you must have ASM on the classpath) at runtime.   &lt;/p&gt;

&lt;p&gt;We cannot have a class that subclasses any of the &quot;internal&quot; stuff as then CXF cannot build on the JDK&apos;s that don&apos;t have the &quot;internal&quot; versions.   For example, the IBM jdk&apos;s don&apos;t rename all those things to &quot;internal&quot;.&lt;/p&gt;
</comment>
                            <comment id="15123877" author="nbqyqx@163.com" created="Fri, 29 Jan 2016 17:57:40 +0000"  >&lt;p&gt;If we have none internal JAXB, then we will create none internal prefix mapper. Otherwise create internal prefix mapper(RI). Have not tried add ASM, but the previous problematic code will create none internal prefix mapper for RI JAXB marshaller, which    caused ClassCastException.&lt;/p&gt;

&lt;p&gt;Neal&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s2l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>