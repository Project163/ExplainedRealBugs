<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:02:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5176] Aegis inheritance: inherited xml attributes appear twice</title>
                <link>https://issues.apache.org/jira/browse/CXF-5176</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This JIRA issue follows &lt;a href=&quot;http://cxf.547215.n5.nabble.com/Aegis-and-inheritance-issue-migrating-from-2-3-9-to-2-7-5-tt5731622.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my post&lt;/a&gt; in user mailing list (as asked by Dan Kulp).&lt;/p&gt;

&lt;p&gt;The behavior of Aegis databinding between CXF 2.3.9 and 2.7.5 has somewhat changed regarding inheritance.&lt;/p&gt;

&lt;p&gt;Being&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;two classes, &lt;tt&gt;BaseType&lt;/tt&gt; and &lt;tt&gt;ExtendedType&lt;/tt&gt; (that extends &lt;tt&gt;BaseType&lt;/tt&gt;), both declaring XML elements and attributes, both having a distinct namespace (&lt;tt&gt;base-type-ns&lt;/tt&gt;, &lt;tt&gt;extended-type-ns&lt;/tt&gt;) ).&lt;/li&gt;
	&lt;li&gt;A simple web service operation returning an instance of &lt;tt&gt;ExtendedType&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; In CXF 2.3.9 &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; In CXF 2.7.5 &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;In the generated XML Schema (from the WSDL), only one type (&lt;tt&gt;ExtendedType&lt;/tt&gt;) is present, having attributes and elements of &lt;tt&gt;BaseType&lt;/tt&gt; appearing therefore in &lt;tt&gt;extended-type-ns&lt;/tt&gt; namespace&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; In the generated XML Schema (from the WSDL), the two types appear. One being an extension of the other. Therefore, elements from &lt;tt&gt;BaseType&lt;/tt&gt; are in the &lt;tt&gt;base-type-ns&lt;/tt&gt; namespace &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; In generated XML Schema, &lt;tt&gt;BaseType&lt;/tt&gt; attributes are present twice: in the &lt;tt&gt;BaseType&lt;/tt&gt; type definition but also in the &lt;tt&gt;ExtendedType&lt;/tt&gt; definition. That generates invalid xml message, the same (unqualified) attribute being written twice...&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;First &quot;behavior change&quot; (element from super type that have a different namespace now) has also been reported by others (cf &lt;a href=&quot;http://cxf.547215.n5.nabble.com/Aegis-and-inheritance-issue-migrating-from-2-3-9-to-2-7-5-td5731622.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt;), but doesn&apos;t look like very problematic.&lt;br/&gt;
I mean, the new behavior is somewhat logical and it is what anyone would expect.&lt;/p&gt;

&lt;p&gt;But, the wrong handling of base type attributes is more than annoying, as non invalid xml is generated...&lt;/p&gt;

&lt;p&gt;In order to help regarding the resolution of this issue, I have written:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A small standalone maven project illustrating the test case described above and emphasizing the difference between 2.3.9 and 2.7.5 version,&lt;/li&gt;
	&lt;li&gt;a patch (for &lt;tt&gt;2.7.x-fixes&lt;/tt&gt; branch) to &quot;enrich&quot; the existing aegis databing inheritance testcase so that the attributes appearing twice are detected,&lt;/li&gt;
	&lt;li&gt;a patch (for &lt;tt&gt;2.7.x-fixes&lt;/tt&gt; branch) with a proposed quick fix for this issue. (To be stricly reviewed)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(I just need to find a way to attach them to this issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;Kind regards,&lt;br/&gt;
Vincent&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12661612">CXF-5176</key>
            <summary>Aegis inheritance: inherited xml attributes appear twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="vincentr42">Vincent</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Aug 2013 19:26:26 +0000</created>
                <updated>Fri, 27 Sep 2013 18:18:04 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 19:48:20 +0000</resolved>
                                    <version>2.7.5</version>
                                    <fixVersion>2.6.10</fixVersion>
                    <fixVersion>2.7.7</fixVersion>
                                    <component>Aegis Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13728967" author="vincentr42" created="Sun, 4 Aug 2013 19:34:19 +0000"  >&lt;p&gt;Here we go for attached files:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595824/12595824_cxf-aegis-inheritance-bug.zip&quot; title=&quot;cxf-aegis-inheritance-bug.zip attached to CXF-5176&quot;&gt;cxf-aegis-inheritance-bug.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;: the standalone small maven project illustrating differences between 2.3.9 / 2.7.5 versions regarding inheritance. Please adapt the &lt;tt&gt;cxf.version&lt;/tt&gt; property in project pom.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595825/12595825_enrich-aegis-inheritance-test-case.patch&quot; title=&quot;enrich-aegis-inheritance-test-case.patch attached to CXF-5176&quot;&gt;enrich-aegis-inheritance-test-case.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;:&lt;br/&gt;
the enrichment of the existing inheritance test case. Patch to be applied on &lt;tt&gt;cxf\branches\2.7.x-fixes\rt\databinding\aegis&lt;/tt&gt; directory &lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595826/12595826_fix-aegis-inheritance-issue.patch&quot; title=&quot;fix-aegis-inheritance-issue.patch attached to CXF-5176&quot;&gt;fix-aegis-inheritance-issue.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;: A fix proposal. It simply applies the same logic for attributes as the one used for elements (skip inherited properties, when writing object/schema of the extended object). Probably a bit naive but it seems to work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Patch to be applied on &lt;tt&gt;cxf\branches\2.7.x-fixes\rt\databinding\aegis&lt;/tt&gt; directory&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Kind regards,&lt;br/&gt;
Vincent&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12595824" name="cxf-aegis-inheritance-bug.zip" size="16017" author="vincentr42" created="Sun, 4 Aug 2013 19:34:19 +0000"/>
                            <attachment id="12595825" name="enrich-aegis-inheritance-test-case.patch" size="2414" author="vincentr42" created="Sun, 4 Aug 2013 19:34:19 +0000"/>
                            <attachment id="12595826" name="fix-aegis-inheritance-issue.patch" size="3245" author="vincentr42" created="Sun, 4 Aug 2013 19:34:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1my4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>