<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:38:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2447] Invalid paths used in CXF for the xml files results in failures in java 6</title>
                <link>https://issues.apache.org/jira/browse/CXF-2447</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;CXF 2.3.0-SNAPSHOT is failing to parse xml files in java 6. Things work fine for java 5. The error we see on startup of any bundles which use CXF is:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; WARN org.apache.cxf.bus.spring.SpringBusFactory - Initial attempt to crate application context was unsuccessful.&lt;br/&gt;
org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource &lt;span class=&quot;error&quot;&gt;&amp;#91;META-INF/cxf/cxf.xml&amp;#93;&lt;/span&gt;; nested exception is java.lang.RuntimeException: Couldn&apos;t parse stream.&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:420)&lt;br/&gt;
	at org.apache.cxf.bus.spring.ControlledValidationXmlBeanDefinitionReader.doLoadBeanDefinitions(ControlledValidationXmlBeanDefinitionReader.java:109)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)&lt;br/&gt;
	at org.apache.cxf.bus.spring.ControlledValidationXmlBeanDefinitionReader.loadBeanDefinitions(ControlledValidationXmlBeanDefinitionReader.java:131)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)&lt;br/&gt;
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:109)&lt;br/&gt;
	at org.apache.cxf.bus.spring.BusApplicationContext.loadBeanDefinitions(BusApplicationContext.java:263)&lt;br/&gt;
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:123)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:422)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)&lt;br/&gt;
	at org.apache.cxf.bus.spring.BusApplicationContext.&amp;lt;init&amp;gt;(BusApplicationContext.java:91)&lt;br/&gt;
	at org.apache.cxf.bus.spring.SpringBusFactory.createApplicationContext(SpringBusFactory.java:102)&lt;br/&gt;
	at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:93)&lt;br/&gt;
	at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:86)&lt;br/&gt;
	at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:64)&lt;br/&gt;
	at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:53)&lt;br/&gt;
	at org.apache.cxf.BusFactory.getDefaultBus(BusFactory.java:69)&lt;br/&gt;
	at org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:106)&lt;br/&gt;
	at org.apache.cxf.BusFactory.getThreadDefaultBus(BusFactory.java:97)&lt;br/&gt;
	at org.apache.cxf.endpoint.AbstractEndpointFactory.getBus(AbstractEndpointFactory.java:73)&lt;br/&gt;
	at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.initializeServiceFactory(AbstractWSDLBasedEndpointFactory.java:231)&lt;br/&gt;
	at org.apache.cxf.frontend.ServerFactoryBean.initializeServiceFactory(ServerFactoryBean.java:164)&lt;br/&gt;
	at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:100)&lt;br/&gt;
	at org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:118)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.handlers.HttpServiceConfigurationTypeHandler.createServer(HttpServiceConfigurationTypeHandler.java:124)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.hooks.ServiceHookUtils.createServer(ServiceHookUtils.java:86)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.hooks.CxfPublishHook.createServer(CxfPublishHook.java:106)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.hooks.CxfPublishHook.publishEndpoint(CxfPublishHook.java:80)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.Activator.checkExistingServices(Activator.java:151)&lt;br/&gt;
	at org.apache.cxf.dosgi.dsw.Activator.start(Activator.java:81)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:667)&lt;br/&gt;
	at org.apache.felix.framework.Felix.activateBundle(Felix.java:1699)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1621)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1076)&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:264)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:637)&lt;br/&gt;
Caused by: java.lang.RuntimeException: Couldn&apos;t parse stream.&lt;br/&gt;
	at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:945)&lt;br/&gt;
	at org.apache.cxf.staxutils.StaxUtils.copy(StaxUtils.java:357)&lt;br/&gt;
	at org.apache.cxf.bus.spring.TunedDocumentLoader.loadDocument(TunedDocumentLoader.java:113)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:396)&lt;br/&gt;
	... 36 more&lt;br/&gt;
Caused by: javax.xml.stream.XMLStreamException: java.net.MalformedURLException&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.setInputSource(XMLStreamReaderImpl.java:217)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.&amp;lt;init&amp;gt;(XMLStreamReaderImpl.java:189)&lt;br/&gt;
	at com.sun.xml.internal.stream.XMLInputFactoryImpl.createXMLStreamReader(XMLInputFactoryImpl.java:145)&lt;br/&gt;
	at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:940)&lt;br/&gt;
	... 39 more&lt;br/&gt;
Caused by: java.net.MalformedURLException&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:601)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:413)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:650)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1315)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDocumentEntity(XMLEntityManager.java:1267)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.setInputSource(XMLDocumentScannerImpl.java:281)&lt;br/&gt;
	at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.setInputSource(XMLStreamReaderImpl.java:204)&lt;br/&gt;
	... 42 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;docking-hg-48-121-dhcp:felix azeckoski$ uname -a&lt;br/&gt;
Darwin docking-hg-48-121-dhcp.ethz.ch 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT 2009; root:xnu-1228.15.4~1/RELEASE_I386 i386&lt;br/&gt;
docking-hg-48-121-dhcp:felix azeckoski$ java -version&lt;br/&gt;
java version &quot;1.6.0_15&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_15-b03-226)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 14.1-b02-92, mixed mode)&lt;/p&gt;</environment>
        <key id="12436576">CXF-2447</key>
            <summary>Invalid paths used in CXF for the xml files results in failures in java 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="azeckoski">Aaron Zeckoski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Sep 2009 10:03:51 +0000</created>
                <updated>Tue, 29 Sep 2009 08:59:45 +0000</updated>
                            <resolved>Sat, 26 Sep 2009 00:43:45 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.1.7</fixVersion>
                    <fixVersion>2.2.4</fixVersion>
                                    <component>Configuration</component>
                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12759470" author="azeckoski" created="Fri, 25 Sep 2009 10:06:50 +0000"  >&lt;p&gt;According to the debugger this fails because the path is not a valid URL: META-INF/cxf/cxf.xml has no protocol&lt;/p&gt;</comment>
                            <comment id="12759717" author="dkulp" created="Fri, 25 Sep 2009 19:36:52 +0000"  >
&lt;p&gt;I&apos;m not even sure how to go about trying to reproduce this as it seems to work OK for the simple things I&apos;ve tried.    It may be sue to my osgi stuff (servicemix) using the SMX stax-api bundle and woodstox.  Not really sure.    Basically, we just pass the InputSource object that Spring gives us along to the parsers.   Thus, it&apos;s spring that is setting up the URL in the InputSource, not us, so I&apos;m not sure what can be done.   &lt;/p&gt;

&lt;p&gt;In anycase, is there any way you could debug into BusApplicationContext.getConfigResources()?    There is a block that starts with  &lt;br/&gt;
&quot;if (includeDefaults) {&quot; &lt;br/&gt;
that is interesting.   At the end of that block, the resources list should have a list of resources.  I&apos;d be interested in knowing what the classes are for those Resources (ClassPathResource, UrlResource, InputStreamResource, etc....) as well as what the values of those fields are.&lt;/p&gt;
</comment>
                            <comment id="12759747" author="dkulp" created="Fri, 25 Sep 2009 21:10:42 +0000"  >
&lt;p&gt;OK.   Managed to reproduce this and came up with a workaround.   Running tests now.&lt;/p&gt;</comment>
                            <comment id="12760227" author="azeckoski" created="Mon, 28 Sep 2009 12:22:41 +0000"  >&lt;p&gt;Is this updated in the 2.3.0 snapshot? I am still getting the failures after downloading fresh copies this morning.&lt;br/&gt;
I am trying a source build to see if things start working.&lt;/p&gt;</comment>
                            <comment id="12760249" author="azeckoski" created="Mon, 28 Sep 2009 13:55:42 +0000"  >&lt;p&gt;OK, I rebuilt cxf from source but it does not build the bundle which is what we are using. Is there a way to build the bundle from the cxf trunk source?&lt;br/&gt;
I am still getting the failure with the 2.3.0-SNAPSHOT from the snapshots server.&lt;/p&gt;</comment>
                            <comment id="12760251" author="dkulp" created="Mon, 28 Sep 2009 13:59:55 +0000"  >
&lt;p&gt;The SNAPSHOT SHOULD be OK as Hudson does have it marked as deployed.  Bizzarre.  &lt;/p&gt;

&lt;p&gt;In anycase, if you run:&lt;/p&gt;

&lt;p&gt;mvn -Peverything,fastinstall&lt;/p&gt;

&lt;p&gt;top level, it will end up building everything, including the bundles.    &lt;/p&gt;
</comment>
                            <comment id="12760533" author="azeckoski" created="Tue, 29 Sep 2009 08:59:05 +0000"  >&lt;p&gt;Confirmed that things are working with the SNAPSHOT I built myself from trunk.&lt;/p&gt;

&lt;p&gt;When I downloaded a new copy this morning via maven it looks like the jars are the same and things are working now so I think it is updated on the SNAPSHOT server as well.&lt;/p&gt;</comment>
                            <comment id="12760536" author="azeckoski" created="Tue, 29 Sep 2009 08:59:45 +0000"  >&lt;p&gt;Everything looks good to me. Thanks for fixing this so quickly!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0cux3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>