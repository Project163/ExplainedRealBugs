<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:18:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6657] CXF Failover using JAXRS prevents header retrieval from ResponseExceptionMappers</title>
                <link>https://issues.apache.org/jira/browse/CXF-6657</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Our custom ResponseExceptionMapper is designed to transform responses with status code 400 into client code exceptions by retrieving custom header properties.&lt;/p&gt;

&lt;p&gt;This works as long as the failover feature is not enabled, were would want the failover code to be triggered only in case of support not available errors but let through other status codes &lt;/p&gt;

&lt;p&gt;When using the FailoverFeature and even when setting the supportNotAvailableErrorsOnly property of the FailoverTargetSelector to true, an HttpException is raised in the handleResponseInternal method of HTTPConduit which prevents the headers from being updated in the input message.&lt;/p&gt;

&lt;p&gt;This is due to the fact that the FailoverTargetSelector clears the org.apache.cxf.transport.no_io_exceptions flag set by JAXRS.&lt;/p&gt;

&lt;p&gt;The attached patch make the FailoverTargetSelector clears the org.apache.cxf.transport.no_io_exceptions flag only when supportNotAvailableErrorsOnly is false. It also modifies HTTPConduit.handleResponseInternal to set org.apache.cxf.transport.service_not_available even if no IOExceptions should be thrown so that the failover code could catch such cases. Finally, it also make the preProcessResult method of jaxrs AbstractClient complete the conduit selector if org.apache.cxf.transport.service_not_available is true in case of failover.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JAXRS Client 2.7.17 with Sequential Failover and a ResponseExceptionMapper.&lt;/p&gt;</environment>
        <key id="12909174">CXF-6657</key>
            <summary>CXF Failover using JAXRS prevents header retrieval from ResponseExceptionMappers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="fleger">Florian L&#233;ger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2015 10:33:16 +0000</created>
                <updated>Fri, 14 Oct 2016 14:12:06 +0000</updated>
                            <resolved>Fri, 30 Oct 2015 12:18:46 +0000</resolved>
                                    <version>2.7.17</version>
                                    <fixVersion>2.7.18</fixVersion>
                    <fixVersion>3.0.7</fixVersion>
                    <fixVersion>3.1.4</fixVersion>
                                    <component>Clustering</component>
                    <component>JAX-RS</component>
                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14982324" author="fleger" created="Fri, 30 Oct 2015 10:35:02 +0000"  >&lt;p&gt;Patch against CXF 2.7.17&lt;/p&gt;</comment>
                            <comment id="14982470" author="sergey_beryozkin" created="Fri, 30 Oct 2015 12:18:29 +0000"  >&lt;p&gt;Thanks for a patch, I applied with small modifications, in 2.7.18-SNAPSHOT HttpConduit changed a bit, so I did apply the code manually there and I introduced few String constants - though I know I&apos;ve been liberal with using literals a lot &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, overall the patch looks good, cheers&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12769753" name="Failover-make-failover-work-without-forcing-org.apac.patch" size="6801" author="fleger" created="Fri, 30 Oct 2015 10:35:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nqjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>