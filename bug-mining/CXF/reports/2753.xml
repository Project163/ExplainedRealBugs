<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:19:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6793] InvocationCallback doesn&apos;t try to get response class type</title>
                <link>https://issues.apache.org/jira/browse/CXF-6793</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;in org.apache.cxf.jaxrs.client.WebClient#doInvokeAsyncCallback the webclient could try to find the response class if not there.&lt;/p&gt;

&lt;p&gt;would avoid to give a null type the providers can&apos;t use to do what they need to&lt;/p&gt;

&lt;p&gt;Code can be if respClass is null and callback is not null something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// in real code filter interfaces and dont access them directly by index
&lt;/span&gt;ParameterizedType.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(callback.getClass().getGenericInterfaces()[0]).getActualTypeArguments()[0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;edit: digging a bit seems org.apache.cxf.jaxrs.utils.InjectionUtils#getSuperType just doesn&apos;t default to anything and in case of TypeVariable unbounded is not able to default to Object so if bound is really Object it fails&lt;/p&gt;

&lt;p&gt;if it helps here is the code I use: &lt;a href=&quot;https://gist.github.com/rmannibucau/09a084c28d8b61c232cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/rmannibucau/09a084c28d8b61c232cf&lt;/a&gt; - of course would like to make the class geenric (&amp;lt;T&amp;gt;) and remove this String typing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12940870">CXF-6793</key>
            <summary>InvocationCallback doesn&apos;t try to get response class type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="romain.manni-bucau">Romain Manni-Bucau</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Feb 2016 11:38:25 +0000</created>
                <updated>Fri, 14 Oct 2016 14:13:24 +0000</updated>
                            <resolved>Mon, 22 Feb 2016 16:24:43 +0000</resolved>
                                    <version>3.1.5</version>
                                    <fixVersion>3.1.6</fixVersion>
                    <fixVersion>3.0.9</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15156786" author="sergey_beryozkin" created="Mon, 22 Feb 2016 11:18:09 +0000"  >&lt;p&gt;Hi Romain - can you please type the client code which does not work ?&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15156835" author="romain.manni-bucau" created="Mon, 22 Feb 2016 12:30:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt; simple async post call with as callback: new JaxRsPromise().toJaxRsCallback() (see the gist). Depending the method the type variable is resolvable or not by cxf but it should pass at least Object.class to message body writers and not null IMO.&lt;/p&gt;

&lt;p&gt;edit: &lt;a href=&quot;https://gist.github.com/rmannibucau/b8be7a3904294c23b612&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/rmannibucau/b8be7a3904294c23b612&lt;/a&gt; shows it in a main&lt;/p&gt;</comment>
                            <comment id="15156864" author="sergey_beryozkin" created="Mon, 22 Feb 2016 13:03:04 +0000"  >&lt;p&gt;Sure, I agree.&lt;/p&gt;</comment>
                            <comment id="15157032" author="sergey_beryozkin" created="Mon, 22 Feb 2016 14:12:49 +0000"  >&lt;p&gt;I&apos;ve added a test:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/commit/0c1f1e6a9b7d0510783f602ff608c9f1390d64b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/0c1f1e6a9b7d0510783f602ff608c9f1390d64b8&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All seems to work OK, I&apos;m seeing in a debug mode that a custom Boolean provider gets passed Object.class in its readFrom() and isReadable().&lt;/p&gt;

&lt;p&gt;What am I missing ?&lt;/p&gt;</comment>
                            <comment id="15157084" author="romain.manni-bucau" created="Mon, 22 Feb 2016 14:53:54 +0000"  >&lt;p&gt;Just reading the test I think the callbacks are not type variables. Try adding &amp;lt;T&amp;gt; and InvocationCallback&amp;lt;T&amp;gt; even if it is useless language wise.&lt;/p&gt;</comment>
                            <comment id="15157169" author="sergey_beryozkin" created="Mon, 22 Feb 2016 15:51:39 +0000"  >&lt;p&gt;Right, adding few Ts helped to reproduce it, and I&apos;ve fixed it:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/commit/7a2d475073ad1671d729f2d4f8031df74fec1b1a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/7a2d475073ad1671d729f2d4f8031df74fec1b1a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note it is actually Response that will be injected into InvocationCallback. &lt;br/&gt;
If you do &apos;.get().get()&apos; in your code instead of &apos;.get(createCallback()).get()&apos; then Response will be returned, so if you have&lt;br/&gt;
a callback with the unbounded T then for the consistency it has to be Response too. In such cases, in your callback, cast the provided value to Response and then do response.readEntity(myType.class) or response.readEntity(Object.class).&lt;/p&gt;

&lt;p&gt;Or simply return InvocationCallback&amp;lt;Response&amp;gt; &lt;/p&gt;</comment>
                            <comment id="15157225" author="romain.manni-bucau" created="Mon, 22 Feb 2016 16:22:19 +0000"  >&lt;p&gt;Makes sense, thanks for the fix. Main issue was really it was breaking a bunch of provider which was hidding the real generic hell of the code. Thanks (again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;/p&gt;</comment>
                            <comment id="15157226" author="sergey_beryozkin" created="Mon, 22 Feb 2016 16:24:15 +0000"  >&lt;p&gt;Great, happy that you agree with the fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, &lt;br/&gt;
thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2t4jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>