<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:34:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1669] MTOM does not work when add WSS4J interceptors(UsernameToken and Timestamp)</title>
                <link>https://issues.apache.org/jira/browse/CXF-1669</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I have wriitten an Apache CXF client with the following specification,&lt;/p&gt;

&lt;p&gt;1. MTOM attachment enabled(implemented by refering &lt;a href=&quot;http://cwiki.apache.org/CXF20DOC/mtom.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/CXF20DOC/mtom.html&lt;/a&gt; link).&lt;br/&gt;
2. WS-Secuirty features namely, UsernameToken and Timestamp (implemented by refering   &lt;a href=&quot;http://cwiki.apache.org/CXF20DOC/ws-security.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/CXF20DOC/ws-security.html&lt;/a&gt; link)&lt;/p&gt;

&lt;p&gt;As per my observation, i see that the MTOM attachment gets inlined in the soap body of request, when i enable either of  WS-Security features(UsernameToken or Timestamp).But when i disable WSS4J interceptors i see that client sends the data as MTOM attachment.&lt;/p&gt;

&lt;p&gt;I suspect  WSS4J interceptor is causing the problem.Kindly help me in this regard.&lt;/p&gt;

&lt;p&gt;Note: I added WSS4J interceptors programmatically.&lt;/p&gt;

&lt;p&gt;Thanks in advance,&lt;br/&gt;
Navin Bhat&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Windows Xp,&lt;br/&gt;
JDK 1.5 update 11&lt;br/&gt;
apache CXF 2.1 release&lt;/p&gt;</environment>
        <key id="12399085">CXF-1669</key>
            <summary>MTOM does not work when add WSS4J interceptors(UsernameToken and Timestamp)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="navinbhat">naveen bhat</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jun 2008 13:31:28 +0000</created>
                <updated>Mon, 10 Nov 2008 10:47:20 +0000</updated>
                            <resolved>Mon, 7 Jul 2008 19:08:04 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.0.8</fixVersion>
                    <fixVersion>2.1.2</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="259200">72h</timeestimate>
                                        <comments>
                            <comment id="12608451" author="dkulp" created="Thu, 26 Jun 2008 14:29:05 +0000"  >
&lt;p&gt;This is as designed.   Right now, wss4j doesn&apos;t know anything about the attachments and thus stuff outside the soap body.   Thus, the data needs to remain inlined to be encrypted and/or signed.&lt;/p&gt;

</comment>
                            <comment id="12608650" author="navinbhat" created="Fri, 27 Jun 2008 04:02:29 +0000"  >
&lt;p&gt;If WSS4J is designed to behave that way then,it is impossible for me to transfer large attachments(around 1GB or so) with WS-Security features enabled.I will get heap space exception if i try to send large data.It means it is a shortcoming on the part of apache CXF.I have worked on glassfish ,it does allow me to send large attachments with WSS enabled.&lt;/p&gt;

&lt;p&gt;Thanks for your comments Mr.Daniel Kulp.&lt;br/&gt;
Let me know if there is a work around.&lt;/p&gt;</comment>
                            <comment id="12608757" author="gmazza" created="Fri, 27 Jun 2008 12:43:28 +0000"  >&lt;p&gt;Since Metro solves your needs, I would just use it.  It&apos;s a fine product.&lt;/p&gt;
</comment>
                            <comment id="12608836" author="dkulp" created="Fri, 27 Jun 2008 16:57:45 +0000"  >
&lt;p&gt;Do you know if metro enrypts/signs the mtom attachments as well or are they passed in the clear?   If you are OK with them being passed in the clear, it&apos;s a simple.  Line 73 of the WSS4JOutInterceptor turns off the mtom stuff.   You can just add an interceptor immediately after the WSS4JOutInterceptor to turn it back on.  (or subclass the WSS4JOutInterceptor and reset it after calling super.handleMessage(msg))&lt;/p&gt;


</comment>
                            <comment id="12611294" author="dkulp" created="Mon, 7 Jul 2008 19:08:04 +0000"  >&lt;p&gt;&lt;br/&gt;
I&apos;ve added a AllowMTOM property to the out interceptor to allow the mtom settings to go through.  Keep in mind, attachments are not considered in the security actions (encrypting/signatures).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12408143">CXF-1904</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1acon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>