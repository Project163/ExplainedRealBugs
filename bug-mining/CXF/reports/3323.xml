<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:32:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7805] Transform feature outDropElements has no effect</title>
                <link>https://issues.apache.org/jira/browse/CXF-7805</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We&apos;re running CXF 3.2.5 web services in Tomcat, java-first-approach.&lt;/p&gt;

&lt;p&gt;For compatibility with older clients, we&apos;d like to remove some elements from the response using the transform feature. We&apos;d prefer to do this via configuration, so the feature can be easily removed once all clients have upgraded.&lt;/p&gt;

&lt;p&gt;We put the configuration - jaxws:feature and beans - in WEB-INF/classes/CXF/beans.xml, referenced throug web.xml. Any other way - via cxf.xml, be it on classpath or referenced per JVM parameter - failed to find the bean defintion. Introducing errors in the bean definition leads to corresponding errors, so the bean is recognized, but the configuration has no effect on the outbound XML. We also tried addressing the elements with and without namespace, full paths, shallow and deep drop, and the XSLT feature, too, but to no avail.&lt;/p&gt;

&lt;p&gt;We suspect this might still be a configuration issue or some peculiar constellation we fail to recognize, but we are at out wit&apos;s end finding the real cause of it.&lt;/p&gt;

&lt;p&gt;Attached you find a Maven test project, stripped down to the one web service with the one method in question, and exported from Eclipse after running maven --clean. The pom contains all dependencies of the original project. There is no test case, we simply used SOAPUI which worked fine. The archive also contains the WSDL file copied from the source view of the browser.&lt;/p&gt;

&lt;p&gt;TIA,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 8&lt;/p&gt;

&lt;p&gt;Tomcat 8.5&lt;/p&gt;

&lt;p&gt;Eclipse 4.3&lt;/p&gt;

&lt;p&gt;CXF 3.2.5&lt;/p&gt;

&lt;p&gt;Windows 7 Professional&lt;/p&gt;</environment>
        <key id="13173487">CXF-7805</key>
            <summary>Transform feature outDropElements has no effect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coheigea">Colm O hEigeartaigh</assignee>
                                    <reporter username="framecounter">Michael Sch&#228;fer</reporter>
                        <labels>
                            <label>features</label>
                            <label>outDropElements</label>
                            <label>transform</label>
                    </labels>
                <created>Fri, 20 Jul 2018 16:07:28 +0000</created>
                <updated>Wed, 3 Oct 2018 13:33:17 +0000</updated>
                            <resolved>Wed, 25 Jul 2018 11:25:17 +0000</resolved>
                                    <version>3.2.5</version>
                                    <fixVersion>3.2.6</fixVersion>
                    <fixVersion>3.1.17</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16552583" author="coheigea" created="Mon, 23 Jul 2018 10:05:24 +0000"  >&lt;p&gt;I can&apos;t run the project:&lt;/p&gt;

&lt;p&gt;&quot;Failure to find de.destatis.idb:eingangsdb-eks:jar:2.0 in &lt;a href=&quot;https://repo.maven.apache.org/maven2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2&lt;/a&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="16552605" author="framecounter" created="Mon, 23 Jul 2018 10:20:48 +0000"  >&lt;p&gt;My apologies, this is a local dependency I forgot about. It is not needed in the test case, just remove it from the pom.&lt;/p&gt;</comment>
                            <comment id="16552609" author="coheigea" created="Mon, 23 Jul 2018 10:22:43 +0000"  >&lt;p&gt;It is needed, there is a compilation error otherwise.&lt;/p&gt;</comment>
                            <comment id="16552683" author="framecounter" created="Mon, 23 Jul 2018 11:25:06 +0000"  >&lt;p&gt;Apologies again, strucks me as strange as I removed the dependency and made a maven update before sending my comment. I&apos;ll take care of it tomorrow as I&apos;m already out of the office.&lt;/p&gt;</comment>
                            <comment id="16553918" author="framecounter" created="Tue, 24 Jul 2018 07:34:36 +0000"  >&lt;p&gt;Beats me, no compilation errors here, maven update and install run flawlessly without the dependency, I also searched the java files for any references, with zero results. I&apos;ve uploaded the project as it compiles here plus the missing jar. Which classes suffer compilation errors?&lt;/p&gt;</comment>
                            <comment id="16554023" author="coheigea" created="Tue, 24 Jul 2018 09:52:23 +0000"  >&lt;p&gt;On mvn clean install I get:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Compilation failure: &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;8,21&amp;#93;&lt;/span&gt; package javax.servlet does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;9,21&amp;#93;&lt;/span&gt; package javax.servlet does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;10,21&amp;#93;&lt;/span&gt; package javax.servlet does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;23,36&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol: class ServletContextListener&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;26,17&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;33,38&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContextEvent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;41,40&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContextEvent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;48,69&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContextEvent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;69,43&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContextEvent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;146,61&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext.IDBLifeCycle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;156,34&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; symbol:&#160;&#160; class ServletContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&#160;&#160; location: class de.destatis.idb.server.lifecycle.IDBContext.IDBLifeCycle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;32,9&amp;#93;&lt;/span&gt; method does not override or implement a method from a supertype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/colm/Desktop/tmp/cxfOutDropElements/src/main/java/de/destatis/idb/server/lifecycle/IDBContext.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;40,9&amp;#93;&lt;/span&gt; method does not override or implement a method from a supertype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16554053" author="framecounter" created="Tue, 24 Jul 2018 10:16:00 +0000"  >&lt;p&gt;This package is typically in servlet-api.jar in Tomcat&apos;s lib directory. In Eclipse, it is resolved when Tomcat is bound in the build path.&lt;/p&gt;</comment>
                            <comment id="16554277" author="coheigea" created="Tue, 24 Jul 2018 14:05:17 +0000"  >&lt;p&gt;OK I can confirm the issue..looking into it.&lt;/p&gt;</comment>
                            <comment id="16554494" author="coheigea" created="Tue, 24 Jul 2018 16:33:30 +0000"  >&lt;p&gt;The problem is that the outputstream optimization must be disabled explicitly to use the outbound transformation feature on the service side. So add the following to your spring configuration:&lt;/p&gt;

&lt;p&gt;&amp;lt;jaxws:properties&amp;gt;&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;entry key=&quot;disable.outputstream.optimization&quot; value=&quot;true&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/jaxws:properties&amp;gt;&lt;/p&gt;

&lt;p&gt;I am going to look into changing this by default.&lt;/p&gt;</comment>
                            <comment id="16555464" author="framecounter" created="Wed, 25 Jul 2018 09:55:42 +0000"  >&lt;p&gt;Works like a charm now! I suggest to include this information on the [documentation page|&lt;a href=&quot;http://cxf.apache.org/docs/transformationfeature.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/transformationfeature.html&lt;/a&gt;]. I&apos;d be happy to do this if you think it&apos;s worth the effort of my registering as a contributor/editor.&lt;/p&gt;

&lt;p&gt;Meanwhile I&apos;ve found a way to put the definition of the transform feature bean in an cxf.xml file external to the deployed application by putting the respective folder on the classpath. The endpoint definitions shall remain internal and reside in in WEB-INF/classes/cxf.xml which is exactly the META-INF/cxf/beans.xml I used originally. However, there are still effects I fail to grasp such as when I move WEB-INF/classes/cxf.xml to META-INF/cxf/cxf.xml, no service is created, also on startup CXF logs that it scans all those locations for bean definitions. Also, -Dcxf.config.file.url still doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;It would be great if you could look into that, I&apos;d also open another&#160;Jira or provide a new test case if you think that&apos;s better. I would also debug into it, but I&apos;m afraid I cannot spare the time, at least no so soon.&lt;/p&gt;

&lt;p&gt;Many thanks for the great help!&lt;/p&gt;</comment>
                            <comment id="16555497" author="coheigea" created="Wed, 25 Jul 2018 10:31:46 +0000"  >&lt;p&gt;Great, I&apos;ve merged a fix so that in the future people won&apos;t run into this problem. In the meantime I&apos;ll update the docs myself.&lt;/p&gt;

&lt;p&gt;Yes please open a separate Jira for the configuration issue - giving a test-case if possible and the information to reproduce the problem and I&apos;ll take a look when I get a chance.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12932851" name="cxfOutDropElements-2.zip" size="59404" author="framecounter" created="Tue, 24 Jul 2018 07:28:04 +0000"/>
                            <attachment id="12932430" name="cxfOutDropElements.zip" size="60739" author="framecounter" created="Fri, 20 Jul 2018 16:02:50 +0000"/>
                            <attachment id="12932852" name="eingangsdb-eks-2.0.jar" size="83586" author="framecounter" created="Tue, 24 Jul 2018 07:30:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3w4b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>