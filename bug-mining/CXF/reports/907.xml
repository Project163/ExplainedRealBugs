<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:46:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3466] HTTP client sends empty messages when FINE log level is enabled</title>
                <link>https://issues.apache.org/jira/browse/CXF-3466</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m testing JBossWS-CXF integration with Apache CXF 2.4.0 and I&apos;m seeing a weird behaviour in HTTPConduit.&lt;br/&gt;
Basically, when the org.apache.cxf log category is set to DEBUG (I&apos;m using log4j logging, that&apos;s FINE level) I see empty(1) messages being sent from client to server. Setting the log level to INFO, remove the problem. So I looked for &quot;isLoggable(Level.FINE&quot; strings in the CXF sources and tried commenting out them one by one to identify the culprit. Finally isolated it in the following code in HTTPConduit::onFirstWrite()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;HTTPConduit.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isLoggable(Level.FINE)) {
                LOG.fine(&lt;span class=&quot;code-quote&quot;&gt;&quot;Sending &quot;&lt;/span&gt;
                    + connection.getRequestMethod() 
                    + &lt;span class=&quot;code-quote&quot;&gt;&quot; Message with Headers to &quot;&lt;/span&gt; 
                    + connection.getURL()
                    + &lt;span class=&quot;code-quote&quot;&gt;&quot; Conduit :&quot;&lt;/span&gt;
                    + conduitName
                    + &lt;span class=&quot;code-quote&quot;&gt;&quot;\nContent-Type: &quot;&lt;/span&gt; + connection.getContentType() + &lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;My guess is one of the calls to the connection in there compromise its state.&lt;/p&gt;

&lt;p&gt;(1) actually, capturing the network traffic reveals the http headers only are written, the body is completely missing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12504831">CXF-3466</key>
            <summary>HTTP client sends empty messages when FINE log level is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="asoldano">Alessio Soldano</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Apr 2011 23:07:48 +0000</created>
                <updated>Mon, 8 Aug 2011 14:43:47 +0000</updated>
                            <resolved>Thu, 21 Apr 2011 09:25:34 +0000</resolved>
                                    <version>2.4</version>
                                    <fixVersion>2.4.1</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13022418" author="asoldano" created="Wed, 20 Apr 2011 23:21:53 +0000"  >&lt;p&gt;A &apos;svn blame&apos; suggests this is related to Christian&apos;s changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3123&quot; title=&quot;Support Spnego/Kerberos authentication for http transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3123&quot;&gt;&lt;del&gt;CXF-3123&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13022695" author="chris@die-schneider.net" created="Thu, 21 Apr 2011 09:19:54 +0000"  >&lt;p&gt;Hi Alessio,&lt;/p&gt;

&lt;p&gt;I can confirm the bug and I already haave written a test that also shows it. I think the problem is in connection.getContentType. I will remove this from the log statement.&lt;/p&gt;</comment>
                            <comment id="13022698" author="chris@die-schneider.net" created="Thu, 21 Apr 2011 09:25:34 +0000"  >&lt;p&gt;I added a test and removed the problematic call on connection&lt;/p&gt;</comment>
                            <comment id="13059859" author="mrpi" created="Tue, 5 Jul 2011 12:26:01 +0000"  >&lt;p&gt;I just wanted you guys to know that I spent and entire day trying to find the problem for why my client sent an empty body to the server. This was the cause of the problem. Luckily it appears that you guys already fixed the problem. When is version 2.4.1 gonna be out?&lt;/p&gt;</comment>
                            <comment id="13059860" author="chris@die-schneider.net" created="Tue, 5 Jul 2011 12:29:03 +0000"  >&lt;p&gt;2.4.1 is already out&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12508626">CXF-3554</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12479921">CXF-3123</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b973:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>