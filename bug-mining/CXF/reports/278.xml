<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:37:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2221] Missing Soap Headers</title>
                <link>https://issues.apache.org/jira/browse/CXF-2221</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hello everybody,&lt;/p&gt;

&lt;p&gt;I have a bit trouble with the Soap Headers, they are just not generated...&lt;/p&gt;

&lt;p&gt;this is my WSDL: &lt;a href=&quot;https://api.webtrends.com/Services/AnalyticsDataService.asmx?WSDL&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.webtrends.com/Services/AnalyticsDataService.asmx?WSDL&lt;/a&gt;&lt;br/&gt;
I generate the client code with &quot;wsdl2java ... -exsh true ...&quot;&lt;/p&gt;

&lt;p&gt;my client code:&lt;/p&gt;


&lt;p&gt;######################################################################################&lt;br/&gt;
import javax.xml.ws.Holder;&lt;/p&gt;

&lt;p&gt;import org.apache.cxf.interceptor.LoggingInInterceptor;&lt;br/&gt;
import org.apache.cxf.interceptor.LoggingOutInterceptor;&lt;br/&gt;
import org.apache.cxf.jaxws.JaxWsProxyFactoryBean;&lt;/p&gt;

&lt;p&gt;import com.webtrends.ws._1.AnalyticsDataService;&lt;br/&gt;
import com.webtrends.ws._1.WTCredentialsHeader;&lt;br/&gt;
import com.webtrends.ws._1.WTSessionHeader;&lt;/p&gt;

&lt;p&gt;public class Main {&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param args&lt;br/&gt;
     */&lt;br/&gt;
    public static void main(String[] args) 
{
        JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
        factory.getInInterceptors().add(new LoggingInInterceptor());
        factory.getOutInterceptors().add(new LoggingOutInterceptor());
        factory.setServiceClass(AnalyticsDataService.class);
        factory.setAddress(&quot;https://api.webtrends.com/Services/AnalyticsDataService.asmx&quot;);
        AnalyticsDataService ads = (AnalyticsDataService) factory.create();

        WTCredentialsHeader credentials = new WTCredentialsHeader();
        credentials.setAccountName(&quot;foo&quot;);
        credentials.setUsername(&quot;bar&quot;);
        credentials.setPassword(&quot;baz&quot;);
        Holder&amp;lt;WTCredentialsHeader&amp;gt; credentialsHolder = new Holder&amp;lt;WTCredentialsHeader&amp;gt;(credentials);
        Holder&amp;lt;WTSessionHeader&amp;gt; sessionHolder = new Holder&amp;lt;WTSessionHeader&amp;gt;(new WTSessionHeader());

        ads.checkAvailability(credentialsHolder, sessionHolder);

    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;}&lt;br/&gt;
######################################################################################&lt;/p&gt;





&lt;p&gt;15.05.2009 08:01:43 org.apache.cxf.interceptor.LoggingOutInterceptor$LoggingCallback onClose&lt;br/&gt;
INFO: Outbound Message&lt;br/&gt;
---------------------------&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Headers: &lt;/p&gt;
{SOAPAction=[&quot;http://www.webtrends.com/WS/1.0/CheckAvailability&quot;], Accept=[*]}
&lt;p&gt;Messages: &lt;br/&gt;
Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;CheckAvailability xmlns=&quot;http://www.webtrends.com/WS/1.0&quot;/&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;br/&gt;
--------------------------------------&lt;br/&gt;
15.05.2009 08:01:45 org.apache.cxf.interceptor.LoggingInInterceptor logging&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Headers: &lt;/p&gt;
{content-type=[text/xml; charset=utf-8], X-AspNet-Version=[2.0.50727], Date=[Fri, 15 May 2009 06:01:45 GMT], Content-Length=[590], X-Powered-By=[ASP.NET], Server=[Microsoft-IIS/6.0], Cache-Control=[private]}
&lt;p&gt;Messages: &lt;br/&gt;
Message:&lt;/p&gt;

&lt;p&gt;Payload: &#65279;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;soap:Fault&amp;gt;&amp;lt;faultcode&amp;gt;soap:Client&amp;lt;/faultcode&amp;gt;&amp;lt;faultstring&amp;gt;Authentication failed.&amp;lt;/faultstring&amp;gt;&amp;lt;faultactor&amp;gt;&lt;a href=&quot;http://api.webtrends.com/Services/AnalyticsDataService.asmx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.webtrends.com/Services/AnalyticsDataService.asmx&lt;/a&gt;&amp;lt;/faultactor&amp;gt;&amp;lt;detail&amp;gt;&amp;lt;Reason xmlns=&quot;http://www.webtrends.com/schemas/2006/01&quot;&amp;gt;Missing WTCredentialsHeader and WTSessionHeader in SOAP message.&amp;lt;/Reason&amp;gt;&amp;lt;/detail&amp;gt;&amp;lt;/soap:Fault&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;--------------------------------------&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; javax.xml.ws.soap.SOAPFaultException: Authentication failed.&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:199)&lt;br/&gt;
	at $Proxy59.checkAvailability(Unknown Source)&lt;br/&gt;
	at rbmh.webplayer.actions.Main.main(Main.java:33)&lt;br/&gt;
Caused by: org.apache.cxf.binding.soap.SoapFault: Authentication failed.&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:70)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:35)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:96)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:69)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:34)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:449)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2029)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1865)&lt;br/&gt;
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:47)&lt;br/&gt;
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:170)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:66)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:593)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:242)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:178)&lt;br/&gt;
	... 2 more       &lt;/p&gt;

&lt;p&gt;######################################################################################&lt;/p&gt;

&lt;p&gt;like u can see. there is no Soap Header in the Outbound Message...&lt;br/&gt;
and now the very funny thing, i&apos;m using maven, so it&apos;s very simple to switch to another version of CXF&lt;br/&gt;
the stuff is working perfectly with the older cxf versions: 2.1, 2.1.1&lt;br/&gt;
but if i use the newer versions: 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.2, 2.2.1, i get the error above&lt;/p&gt;

&lt;p&gt;how can that be? what is wrong&lt;/p&gt;

&lt;p&gt;thanks in dvance&lt;/p&gt;

&lt;p&gt;regards&lt;br/&gt;
andre&lt;/p&gt;</description>
                <environment>&lt;p&gt;java -version&lt;br/&gt;
java version &quot;1.6.0_12&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_12-b04)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 11.2-b01, mixed mode)&lt;/p&gt;

&lt;p&gt;apache-tomcat 6.0.18&lt;/p&gt;</environment>
        <key id="12425617">CXF-2221</key>
            <summary>Missing Soap Headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="a.reiter">Andre Reiter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2009 19:47:18 +0000</created>
                <updated>Thu, 4 Jun 2009 21:32:57 +0000</updated>
                            <resolved>Mon, 18 May 2009 13:53:45 +0000</resolved>
                                    <version>2.1.2</version>
                    <version>2.1.3</version>
                    <version>2.1.4</version>
                    <version>2.2</version>
                    <version>2.1.5</version>
                    <version>2.2.1</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.1.6</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12709946" author="a.reiter" created="Fri, 15 May 2009 19:55:47 +0000"  >&lt;p&gt;Here is the client code Main class and created client side stubs with &quot;wsdl2java ... -exsh true ...&quot; &lt;/p&gt;</comment>
                            <comment id="12709951" author="dkulp" created="Fri, 15 May 2009 20:20:36 +0000"  >

&lt;p&gt;This is actually a wsdl2java tooling issue.   The method sig has the headers marked as &quot;OUT&quot; and not &quot;INOUT&quot;.&lt;/p&gt;

&lt;p&gt;If you modify the generated code to change them to INOUT, the headers do appear in the outgoing soap message.     I&apos;m digging into the code generator now, but thought I&apos;d post that information.&lt;/p&gt;

</comment>
                            <comment id="12709958" author="a.reiter" created="Fri, 15 May 2009 20:37:14 +0000"  >&lt;p&gt;Hi Daniel,&lt;/p&gt;

&lt;p&gt;absolutely correct!&lt;br/&gt;
after modifying generated code and set the   @WebParam(mode = WebParam.Mode.INOUT...&lt;br/&gt;
it works perfectly&lt;/p&gt;

&lt;p&gt;thanks a lot! waiting for fix for wsdl2java&lt;/p&gt;

&lt;p&gt;BTW: like I wrote above, the versions 2.1 and 2.1.1 do work properly, INOUT mode is generated, but since the version 2.1.2 there is a bug&lt;br/&gt;
just FYI, may be it helps to find the reason...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408273" name="cxf_issue2221.tar.gz" size="24087" author="a.reiter" created="Fri, 15 May 2009 19:55:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>