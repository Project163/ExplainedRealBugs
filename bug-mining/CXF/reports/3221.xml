<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:30:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7562] ext.logging: truncated flag not set </title>
                <link>https://issues.apache.org/jira/browse/CXF-7562</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;In the ext.logging feature the log event (LogEvent) has the attribute truncated which indicates whether the logged payloud was trancated or not. &lt;/p&gt;

&lt;p&gt;This attribute is not set correctly by the interceptors&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.apache.cxf.ext.logging.LoggingInInterceptor&lt;/li&gt;
	&lt;li&gt;org.apache.cxf.ext.logging.LoggingOutInterceptor&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will add a patch via github.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13118222">CXF-7562</key>
            <summary>ext.logging: truncated flag not set </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deki">Dennis Kieselhorst</assignee>
                                    <reporter username="forsthofer">Franz Forsthofer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Nov 2017 11:27:56 +0000</created>
                <updated>Wed, 7 Feb 2018 14:52:08 +0000</updated>
                            <resolved>Sun, 21 Jan 2018 14:21:03 +0000</resolved>
                                    <version>3.1.14</version>
                    <version>3.2.1</version>
                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>3.1.15</fixVersion>
                                    <component>logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16253068" author="githubbot" created="Wed, 15 Nov 2017 07:40:55 +0000"  >&lt;p&gt;forsthofer opened a new pull request #340: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7562&quot; title=&quot;ext.logging: truncated flag not set &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7562&quot;&gt;&lt;del&gt;CXF-7562&lt;/del&gt;&lt;/a&gt; correction for truncated flag&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/340&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16253325" author="githubbot" created="Wed, 15 Nov 2017 11:36:21 +0000"  >&lt;p&gt;forsthofer commented on a change in pull request #340: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7562&quot; title=&quot;ext.logging: truncated flag not set &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7562&quot;&gt;&lt;del&gt;CXF-7562&lt;/del&gt;&lt;/a&gt; correction for truncated flag&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/340#discussion_r151102002&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/340#discussion_r151102002&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: rt/features/logging/src/main/java/org/apache/cxf/ext/logging/LoggingOutInterceptor.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -82,7 +82,10 @@ private OutputStream createCachingOut(Message message, final OutputStream os, Ca&lt;br/&gt;
             newOut.setThreshold(threshold);&lt;br/&gt;
         }&lt;br/&gt;
         if (limit &amp;gt; 0) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;newOut.setCacheLimit(limit);&lt;br/&gt;
+            // make the limit for the cache greater than the limit for the truncated payload in the log event, &lt;br/&gt;
+            // this is necessary for finding out that the payload was truncated &lt;br/&gt;
+            //(see boolean isTruncated = cos.size() &amp;gt; limit &amp;amp;&amp;amp; limit != -1&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  in method copyPayload&lt;br/&gt;
+            newOut.setCacheLimit(limit + 1);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   instead of just setting the limit to &apos;limit +1&apos; one should check whether the limit == Integer.MAX_VALUE and if this is the case just use Integer.MAX_VALUE&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16260980" author="githubbot" created="Tue, 21 Nov 2017 16:21:28 +0000"  >&lt;p&gt;sberyozkin commented on issue #340: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7562&quot; title=&quot;ext.logging: truncated flag not set &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7562&quot;&gt;&lt;del&gt;CXF-7562&lt;/del&gt;&lt;/a&gt; correction for truncated flag&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/340#issuecomment-346079581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/340#issuecomment-346079581&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Hi, thanks for this PR, it looks good, can you please sync it with the current master, also note a minor typo in the new function name, thanks.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16333539" author="deki" created="Sun, 21 Jan 2018 14:21:56 +0000"  >&lt;p&gt;Merged to master and 3.1.x branch. Thanks for the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mr7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>