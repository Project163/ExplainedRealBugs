<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:50:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3958] Unmarshalling error when using collections of subtypes with the StaxTransformFeature and &apos;out&apos; transformations</title>
                <link>https://issues.apache.org/jira/browse/CXF-3958</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We are using the StaxTransformFeature to aid with the versioning of a number or our web services but have hit upon a problem when invoking a web method that returns a collection of subtypes. When the StaxTransformFeature (specifically, the out element transforms) are used, the resultant SOAP payload is malformed, and JAXB cannot unmarshall the collection. Below is an example of the payload we get back:&lt;/p&gt;

&lt;p&gt;       &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;xsi&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;soap:Body&amp;gt;&lt;br/&gt;
               &amp;lt;ns2:getVehiclesResponse xmlns:ns2=&quot;example-1.0&quot;&amp;gt;&lt;br/&gt;
                   &amp;lt;vehicles&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:bicycle&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Marin&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:car&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Ferrari&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:motorcycle&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Yamaha&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                   &amp;lt;/vehicles&amp;gt;&lt;br/&gt;
               &amp;lt;/ns2:getVehiclesResponse&amp;gt;&lt;br/&gt;
           &amp;lt;/soap:Body&amp;gt;&lt;br/&gt;
       &amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;When we invoke the same service, but without the StaxTransformFeature, then we get correct xml and JAXB is happy. A correct payload is shown below. As you can clearly see, the difference between the two is that the correct one includes &apos;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&apos; for each instance of the subtype, whereas the broken one, only has it for the first element in the collection. I have attached a sample project in a zip file that demonstrated the problem. It&apos;s a simple maven project, so just run &apos;mvn test&apos; to see the test failure.&lt;/p&gt;

&lt;p&gt;       &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;soap:Body&amp;gt;&lt;br/&gt;
               &amp;lt;ns2:getVehiclesResponse xmlns:ns2=&quot;example-1.0&quot;&amp;gt;&lt;br/&gt;
                   &amp;lt;vehicles&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:bicycle&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Marin&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:car&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Ferrari&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                       &amp;lt;vehicle xsi:type=&quot;ns2:motorcycle&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&amp;gt;&lt;br/&gt;
                           &amp;lt;name&amp;gt;Yamaha&amp;lt;/name&amp;gt;&lt;br/&gt;
                       &amp;lt;/vehicle&amp;gt;&lt;br/&gt;
                   &amp;lt;/vehicles&amp;gt;&lt;br/&gt;
               &amp;lt;/ns2:getVehiclesResponse&amp;gt;&lt;br/&gt;
           &amp;lt;/soap:Body&amp;gt;&lt;br/&gt;
       &amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;This is a BLOCKER issue for us at the moment and we require urgent resolution. Can you please advise as to whether there is something we can do to either correct or work around the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534012">CXF-3958</key>
            <summary>Unmarshalling error when using collections of subtypes with the StaxTransformFeature and &apos;out&apos; transformations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="gazpowell">Gareth Powell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2011 11:04:27 +0000</created>
                <updated>Mon, 19 Dec 2011 16:15:00 +0000</updated>
                            <resolved>Tue, 6 Dec 2011 21:56:22 +0000</resolved>
                                    <version>2.4</version>
                    <version>2.5</version>
                                    <fixVersion>2.4.5</fixVersion>
                    <fixVersion>2.5.1</fixVersion>
                                    <component>Configuration</component>
                    <component>Core</component>
                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13163893" author="dkulp" created="Tue, 6 Dec 2011 21:56:22 +0000"  >&lt;p&gt;&lt;br/&gt;
A bug in the OutTransformWriter.   &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506243" name="cxf-versioning-bug.zip" size="56383" author="gazpowell" created="Tue, 6 Dec 2011 11:05:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b8m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>