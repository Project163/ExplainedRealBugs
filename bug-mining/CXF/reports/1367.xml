<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:54:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4334] Schema validation does not validate elements in soap header</title>
                <link>https://issues.apache.org/jira/browse/CXF-4334</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>
&lt;p&gt;When publishing a JAX-WS service backed by a Java SEI and setting&lt;/p&gt;

&lt;p&gt;properties.put(Message.SCHEMA_VALIDATION_ENABLED, Boolean.TRUE.toString());&lt;/p&gt;

&lt;p&gt;, then missing / wrong soap header content in the request is detected with a soap:Fault.&lt;/p&gt;

&lt;p&gt;However, when the JAX-WS service is backed by a Provider&amp;lt;Source&amp;gt; annotated with @WebServiceProvider, then invalid soap body content is detected, but invalid header content is not.&lt;/p&gt;

&lt;p&gt;I would expect that when SCHEMA_VALIDATION_ENABLED is set to true, then invalid content should cause soap:Fault for header and body content, regardless of the service being backed by a Java SEI or a Provider&amp;lt;Source&amp;gt;.&lt;/p&gt;

&lt;p&gt;I think this mail thread discusses the same issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.547215.n5.nabble.com/Schema-validation-is-not-validating-elements-from-SoapHeader-td4705565.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Schema-validation-is-not-validating-elements-from-SoapHeader-td4705565.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a minimal test case demonstrating the issue.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12556859">CXF-4334</key>
            <summary>Schema validation does not validate elements in soap header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="eirbjo">Eirik Bjorsnos</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2012 13:34:05 +0000</created>
                <updated>Tue, 5 Jun 2012 13:31:35 +0000</updated>
                            <resolved>Fri, 25 May 2012 03:30:50 +0000</resolved>
                                                    <fixVersion>2.3.11</fixVersion>
                    <fixVersion>2.4.8</fixVersion>
                    <fixVersion>2.5.4</fixVersion>
                    <fixVersion>2.6.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13280942" author="eirbjo" created="Tue, 22 May 2012 13:37:34 +0000"  >&lt;p&gt;Maven project providing a minimal test case in the form of failing unit tests&lt;/p&gt;</comment>
                            <comment id="13281536" author="eirbjo" created="Wed, 23 May 2012 11:50:40 +0000"  >
&lt;p&gt;Additionally, we noticed that the faultcode is soap:Server for invalid content in a soap header, but soap:Client when the body content is invalid.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing that soap:Client should be used in both cases, since in both cases it is the client that sends invalid XML.&lt;/p&gt;

&lt;p&gt;The attached test case includes a test which fails because soap:Server is used when soap:Client is expected.&lt;/p&gt;</comment>
                            <comment id="13281568" author="ffang" created="Wed, 23 May 2012 13:01:33 +0000"  >&lt;p&gt;Yeah, the ReadHeadersInterceptor just read the header in Element without validate it, that&apos;s could be the issue when have a invalid header element with Provider, as provider won&apos;t unmarshall the parameter. We can validate the header element in ReadHeadersInterceptor against the schema to fix it.&lt;/p&gt;</comment>
                            <comment id="13281606" author="dkulp" created="Wed, 23 May 2012 13:38:55 +0000"  >
&lt;p&gt;No, ReadHeaders likely  should not. Most of the headers it reads should not be validated (or would be hard to validate) like the ws-rm/ws-addr/ws-security headers and such.   The SoapHeaderInterceptor likely needs some updating to just validate headers for parts mentioned in the wsdl.   For headers that don&apos;t match a message defined part, it needs to skip.&lt;/p&gt;</comment>
                            <comment id="13282123" author="ffang" created="Thu, 24 May 2012 02:07:29 +0000"  >&lt;p&gt;Thanks Dan, yeah the SoapHeaderInterceptor is right place to to param soap header validation.&lt;/p&gt;</comment>
                            <comment id="13282152" author="ffang" created="Thu, 24 May 2012 03:15:32 +0000"  >&lt;p&gt;Hi Eirik,&lt;/p&gt;

&lt;p&gt;I just commit a fix on trunk, so you can wait some time(probably tomorrow) until the CI build publish 2.6.1-SNAPSHOT artifacts to Apache snapshot repo and run your testcase again, you need edit the pom.xml in your testcase use cxf.version as 2.6.1-SNAPSHOT to pick up this fix.&lt;/p&gt;

&lt;p&gt;Btw, if you can re-attach your testcase with &quot;Grant Apache License&quot; I think I can bake it into CXF code base.&lt;/p&gt;

&lt;p&gt;Freeman&lt;/p&gt;</comment>
                            <comment id="13283086" author="ffang" created="Fri, 25 May 2012 03:30:50 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1342126&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1342126&amp;amp;view=rev&lt;/a&gt; for trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1342130&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1342130&amp;amp;view=rev&lt;/a&gt; for 2.5.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1342131&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1342131&amp;amp;view=rev&lt;/a&gt; for 2.4.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1342134&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1342134&amp;amp;view=rev&lt;/a&gt; for 2.3.x branch&lt;/p&gt;</comment>
                            <comment id="13283246" author="eirbjo" created="Fri, 25 May 2012 09:32:53 +0000"  >&lt;p&gt;Reattaching test case for header validation with license granted for inclusion in ASF work&lt;/p&gt;</comment>
                            <comment id="13283251" author="eirbjo" created="Fri, 25 May 2012 09:37:55 +0000"  >&lt;p&gt;Hi Freeman,&lt;/p&gt;

&lt;p&gt;I&apos;ve built trunk locally and verified that the tests are all green when run on 2.6.1-SNAPSHOT.&lt;/p&gt;

&lt;p&gt;The testcase ZIP has been reattached. Please not that the WSDL was based on some WSDL helloworld tutorial I found on the web. The rest of the code is all written by me. &lt;/p&gt;

&lt;p&gt;So to be 100% IP clean, you could rewrite a hello world WSDL. Should be pretty basic stuff for someone who&apos;s used to working with this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for your efforts and the quick solution. We&apos;re looking forward to 2.6.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12529692" name="CXF-4334-header-validation-testcase.zip" size="7752" author="eirbjo" created="Fri, 25 May 2012 09:32:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0890f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>