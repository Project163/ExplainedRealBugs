<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:18:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6664] NullpointerException in LinkBuilderImpl#getResolvedUri when linkheader url has a matrix parameter</title>
                <link>https://issues.apache.org/jira/browse/CXF-6664</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The method LinkBuilderImpl#link(String) has a bug when in url between &quot;&amp;lt;&quot; and &quot;&amp;gt;&quot; a matrix parameter (begins with &quot;;&quot;) is occuring.&lt;/p&gt;

&lt;p&gt;Then the tokenizer splits the url at &quot;;&quot; and no &quot;UriBuilder.fromUri&quot; is called.&lt;br/&gt;
when accessing &quot;ub&quot; in getResolvedUri, a NullPointerException is thrown.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;LinkHeader Entry:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&amp;lt;&lt;a href=&quot;http://localhost:8080/something/subresource;type=null?index=0&amp;amp;max=null&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/something/subresource;type=null?index=0&amp;amp;max=null&lt;/a&gt;&amp;gt;;rel=&quot;all&quot;;title=&quot;Read all resources&quot;;type=&quot;application/json&quot;;verb=&quot;GET&quot;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;StackTrace:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.cxf.jaxrs.impl.LinkBuilderImpl.getResolvedUri(LinkBuilderImpl.java:58)&lt;br/&gt;
	at org.apache.cxf.jaxrs.impl.LinkBuilderImpl.build(LinkBuilderImpl.java:46)&lt;br/&gt;
	at javax.ws.rs.core.Link.valueOf(Link.java:174)&lt;br/&gt;
	at org.apache.cxf.jaxrs.impl.ResponseImpl.getAllLinks(ResponseImpl.java:362)&lt;br/&gt;
	at org.apache.cxf.jaxrs.impl.ResponseImpl.getLink(ResponseImpl.java:305)&lt;/p&gt;


&lt;p&gt;Following Patch of &quot;LinkBuilderImpl#link(String)&quot; supports this case:&lt;/p&gt;

&lt;p&gt;    @Override&lt;br/&gt;
    public Builder link(String link) {&lt;br/&gt;
        String[] tokens = StringUtils.split(link, &quot;;&quot;);&lt;br/&gt;
        String potentialUrlPart = null;&lt;/p&gt;

&lt;p&gt;        for (String token : tokens) {&lt;/p&gt;

&lt;p&gt;            if (potentialUrlPart != null) &lt;/p&gt;
{
                token = potentialUrlPart + token;
			    potentialUrlPart = null;
            }

&lt;p&gt;            String theToken = token.trim();&lt;/p&gt;

&lt;p&gt;            if (theToken.startsWith(&quot;&amp;lt;&quot;) &amp;amp;&amp;amp; theToken.endsWith(&quot;&amp;gt;&quot;)) &lt;/p&gt;
{
                ub = UriBuilder.fromUri(theToken.substring(1, theToken.length() - 1));
            }
&lt;p&gt; else {&lt;br/&gt;
                int i = theToken.indexOf(&apos;=&apos;);&lt;br/&gt;
                if (i != -1) &lt;/p&gt;
{
                    String name = theToken.substring(0, i);
                    String value = stripQuotes(theToken.substring(i + 1));
                    params.put(name, value);
                }
&lt;p&gt; else &lt;/p&gt;
{
                    potentialUrlPart = token;
                }
&lt;p&gt;            }&lt;br/&gt;
        }&lt;br/&gt;
        return this;&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12910375">CXF-6664</key>
            <summary>NullpointerException in LinkBuilderImpl#getResolvedUri when linkheader url has a matrix parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="mikr">Michael Krenn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Nov 2015 15:46:15 +0000</created>
                <updated>Fri, 14 Oct 2016 14:15:47 +0000</updated>
                            <resolved>Thu, 5 Nov 2015 17:19:38 +0000</resolved>
                                    <version>3.0.3</version>
                                    <fixVersion>3.1.5</fixVersion>
                    <fixVersion>3.0.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14992036" author="sergey_beryozkin" created="Thu, 5 Nov 2015 17:19:12 +0000"  >&lt;p&gt;Hi, thanks for the patch - I&apos;ve decided to avoid though splitting all the string, given a &quot;&amp;lt;&quot; &quot;&amp;gt;&quot; token always comes first, so I take of that first and then split to get the parameters, hope you OK with it, thanks for your help&lt;/p&gt;</comment>
                            <comment id="14992050" author="sergey_beryozkin" created="Thu, 5 Nov 2015 17:25:17 +0000"  >&lt;p&gt;sorry, ResponseImplTest ended up in the wrong commit, it is here&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/0d2a6cca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/0d2a6cca&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ny0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>