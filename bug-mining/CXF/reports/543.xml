<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:41:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2673] JaxWsProxyFactoryBean and JaxWsServerFactoryBean communication broken in some cases after upgrade to 2.2.7</title>
                <link>https://issues.apache.org/jira/browse/CXF-2673</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When using JaxWsProxyFactoryBean and JaxWsServerFactoryBean with AegisDataBinding some interfaces is broken and all methods call result in NULL.&lt;/p&gt;

&lt;p&gt;When contract interface contains method with parameters of type List&amp;lt;Integer&amp;gt; &lt;b&gt;AND NOT CONTAIN&lt;/b&gt; method with return type &quot;List&amp;lt;Integer&amp;gt;&quot; then all methods call return NULL.&lt;/p&gt;


&lt;p&gt;Server code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        JaxWsServerFactoryBean serverFactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServerFactoryBean();
        serverFactoryBean.setServiceClass(AopUtils.getTargetClass(implementor)); &lt;span class=&quot;code-comment&quot;&gt;//WSImpl.class
&lt;/span&gt;        serverFactoryBean.setServiceBean(implementor);             &lt;span class=&quot;code-comment&quot;&gt;//WSImpl.class
&lt;/span&gt;        serverFactoryBean.setDataBinding(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AegisDatabinding());
        serverFactoryBean.setAddress(url);
        serverFactoryBean.setBus(cxfServlet.getBus());
        serverFactoryBean.create();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Client code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            JaxWsProxyFactoryBean factory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsProxyFactoryBean();
            factory.setServiceClass(resultInterfaceClass);                 &lt;span class=&quot;code-comment&quot;&gt;//WS.class
&lt;/span&gt;            factory.setAddress(asURL);
            factory.setDataBinding(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AegisDatabinding());
            &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; remoteInterfaceImpl = factory.create();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Interface:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@WebService(name=&lt;span class=&quot;code-quote&quot;&gt;&quot;cesnek&quot;&lt;/span&gt;, targetNamespace=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//ns1&quot;&lt;/span&gt;)
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; WS {
   
    &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; zalozNovyDokument(@WebParam(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;idTypDokument&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; idTypDokument);

    void vratDmsDokumenty(@WebParam(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;idDmsDokumentList&quot;&lt;/span&gt;) List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt; idDmsDokumentList);

    &lt;span class=&quot;code-comment&quot;&gt;//When next line is un-commented - bug disappears and all working fine!
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt; vratDmsDokumenty();
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12456326">CXF-2673</key>
            <summary>JaxWsProxyFactoryBean and JaxWsServerFactoryBean communication broken in some cases after upgrade to 2.2.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="cesnek">Jara Cesnek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Feb 2010 14:39:29 +0000</created>
                <updated>Fri, 21 Jan 2011 18:18:45 +0000</updated>
                            <resolved>Thu, 9 Dec 2010 13:26:40 +0000</resolved>
                                    <version>2.2.7</version>
                                    <fixVersion>2.2.12</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                                    <component>Aegis Databinding</component>
                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12833817" author="cesnek" created="Mon, 15 Feb 2010 14:50:52 +0000"  >&lt;p&gt;TestCase included.&lt;/p&gt;</comment>
                            <comment id="12834187" author="cesnek" created="Tue, 16 Feb 2010 12:26:12 +0000"  >&lt;p&gt;When I replace plain creating of JaxWsServerFactoryBean &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            JaxWsServerFactoryBean serverFactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServerFactoryBean(customizedServicefactoryBean);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with this &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            JaxWsImplementorInfo implInfo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsImplementorInfo(AopUtils.getTargetClass(implementor));
            JaxWsServiceFactoryBean customizedServicefactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServiceFactoryBean(implInfo);
            JaxWsServerFactoryBean serverFactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServerFactoryBean(customizedServicefactoryBean);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I get one file WSDL&lt;/li&gt;
	&lt;li&gt;this bug with null values disappears.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I get little lost .. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12834303" author="dkulp" created="Tue, 16 Feb 2010 16:52:52 +0000"  >
&lt;p&gt;I&apos;ll look into the test a bit more, but FYI:  &lt;br/&gt;
With JAX-WS, if you define a targetNamespace on the interface, it is definitely best to define the same targetNamespace on the impl.    Per spec, the namespace on the impl is used for the namespace for the binding and service parts of the wsdl and the namespace on the interface is used for the portType and wrapper messages.    If they are different, then you get the &quot;split wsdl&quot; things.   That is per spec.&lt;/p&gt;

&lt;p&gt;I highly recommend making sure the two use the same namespace.&lt;/p&gt;



</comment>
                            <comment id="12834694" author="cesnek" created="Wed, 17 Feb 2010 08:52:02 +0000"  >&lt;p&gt;OK, I can made both namepsace same. No problem.&lt;/p&gt;

&lt;p&gt;But I have about 100 SEI interfaces and I need to automate this - not write every namespace twice.&lt;br/&gt;
I tryied modify AegisDatabinding class like this (switch reading impl namespace to SEI interface)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            JaxWsImplementorInfo implInfo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsImplementorInfo(AopUtils.getTargetClass(implementor)) {

                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; QName getServiceName() {

                    QName endpointName = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getServiceName();
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName( getInterfaceName().getNamespaceURI(), endpointName.getLocalPart(), endpointName.getPrefix() );
                }

                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; QName getEndpointName() {

                    QName endpointName = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getEndpointName();
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName( getInterfaceName().getNamespaceURI(), endpointName.getLocalPart(), endpointName.getPrefix() );
                }
            };
            JaxWsServiceFactoryBean customizedServicefactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServiceFactoryBean(implInfo);
            JaxWsServerFactoryBean serverFactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServerFactoryBean(customizedServicefactoryBean);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but I find-out that same job I can do with this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            JaxWsImplementorInfo implInfo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsImplementorInfo(AopUtils.getTargetClass(implementor));
            JaxWsServiceFactoryBean customizedServicefactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServiceFactoryBean(implInfo);
            JaxWsServerFactoryBean serverFactoryBean = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaxWsServerFactoryBean(customizedServicefactoryBean);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am happy with this. But I hope this is stable solution. I feel little magic.&lt;/p&gt;</comment>
                            <comment id="12834802" author="cesnek" created="Wed, 17 Feb 2010 15:26:01 +0000"  >&lt;p&gt;My solution above doesnt work. So I going to change all ours implementation namepsace.&lt;/p&gt;

&lt;p&gt;If you provide some switch to ignore impl namespace and use only SEI namespace I will be happy. Client has client SEI interface anyway. But I cant say if this is reasonable request.&lt;/p&gt;</comment>
                            <comment id="12834813" author="dkulp" created="Wed, 17 Feb 2010 15:56:03 +0000"  >

&lt;p&gt;I think you can do this via something like:&lt;/p&gt;

&lt;p&gt;serverFactoryBean.getServiceFactory().getServiceConfigurations().get(0).getServiceNamespace(....);&lt;/p&gt;

&lt;p&gt;Not completely sure though.   You could always create a subclass of AbstractServiceConfiguration and stick that at the 0 position in the ServiceConfigurations list above that overrides anything you need to override.    That&apos;s pretty much how everything gets determined.   The first config in the list to return something &quot;wins&quot;.   &lt;/p&gt;
</comment>
                            <comment id="12834906" author="cesnek" created="Wed, 17 Feb 2010 18:23:17 +0000"  >&lt;p&gt;&lt;b&gt;Even if I set both namespace to same value .. the bug is still here.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;In the TestCase you can in &quot;AegisJaxWsImpl&quot; add targetNamespace=&quot;&quot;http://v1_1_2.rtf2pdf.doc.ws.daisy.marbes.cz&quot; (same value as in SEI).&lt;/p&gt;

&lt;p&gt;The TestCase still failing.&lt;/p&gt;



&lt;p&gt;Test runs agains 2.2.7 with latest AegisDatabinding with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;aegisContext.setMappingNamespaceURI(s.getServiceInfos().get(0) 
                .getInterface().getName().getNamespaceURI());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12837668" author="cesnek" created="Wed, 24 Feb 2010 07:57:31 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;serverFactoryBean.getServiceFactory().getServiceConfigurations().get(0).getServiceNamespace(....);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Code above doesnt work, because in &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;serverFactoryBean.create();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;you always set  JaxWsServiceConfiguration to index 0 in &quot;ServiceConfigurations&quot;. So I never get my serviceConfiguration before JaxWsServiceConfiguration().&lt;/p&gt;</comment>
                            <comment id="12969730" author="cesnek" created="Thu, 9 Dec 2010 13:26:40 +0000"  >&lt;p&gt;Checked after some time and it is fixed in 2.3.1 and 2.2.12.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12455918">CXF-2668</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12435868" name="cxf-2673-cxf-jaxws-aegis-testcase.zip" size="2972" author="cesnek" created="Mon, 15 Feb 2010 14:50:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0klan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>