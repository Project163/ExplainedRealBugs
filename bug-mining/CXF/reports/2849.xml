<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:21:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7004] Custom DateTime property is not serialized to JSON properly</title>
                <link>https://issues.apache.org/jira/browse/CXF-7004</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; test.CryptoUtils; &lt;span class=&quot;code-comment&quot;&gt;// loads an RSA &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; key from file
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.rs.security.jose.jwk.JsonWebKey;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.rs.security.jose.jwk.JsonWebKeys;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cxf.rs.security.jose.jwk.JwkUtils;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.FileOutputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.nio.file.Paths;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.security.interfaces.RSAPrivateKey;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.time.LocalDateTime;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestCase {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; RSAPrivateKey privateKey = CryptoUtils.loadRsaPrivateKey(Paths.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;a-&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;-key.der&quot;&lt;/span&gt;));
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JsonWebKey jwk = JwkUtils.fromRSAPrivateKey(privateKey, &lt;span class=&quot;code-quote&quot;&gt;&quot;RSA-OAEP-256&quot;&lt;/span&gt;);
        jwk.setKeyId(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;);
        jwk.setKeyProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;created-at&quot;&lt;/span&gt;, LocalDateTime.now());

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JsonWebKeys webKeys = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonWebKeys(jwk);

        JwkUtils.jwkSetToJson(webKeys, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.jwk.json&quot;&lt;/span&gt;));
    }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Produces the following malformed JSON:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;keys&quot;&lt;/span&gt;: [
    {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;kty&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;RSA&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;alg&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;RSA-OAEP-256&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;n&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;d&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;p&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;dp&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;dq&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;qi&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;kid&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;created-at&quot;&lt;/span&gt;: 2016
      -0
      8
      -10
      T11: 0
      1: 51.036
    }
  ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically the `LocalDateTime` is not converted to `String` before getting serialized to JSON.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12996136">CXF-7004</key>
            <summary>Custom DateTime property is not serialized to JSON properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="Thorium">Behrang Saeedzadeh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Aug 2016 01:08:51 +0000</created>
                <updated>Fri, 21 Oct 2016 18:46:12 +0000</updated>
                            <resolved>Thu, 11 Aug 2016 09:54:26 +0000</resolved>
                                    <version>3.1.7</version>
                                    <fixVersion>3.1.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>JAX-RS Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15415341" author="sergey_beryozkin" created="Wed, 10 Aug 2016 14:23:16 +0000"  >&lt;p&gt;Not sure if it is fixable. The low level JsonMapObjectReaderWriter does convert it to String but it checks there whether to add double quotes or not and it only adds them if it is String or Enum. Typically non String objects are Integer. Might make sense to restrict to &apos;instanceof Number&apos; with any other custom objects converted to String though, will check later on...&lt;/p&gt;

&lt;p&gt;For now though convert .toString() manually  &lt;/p&gt;</comment>
                            <comment id="15416954" author="sergey_beryozkin" created="Thu, 11 Aug 2016 09:46:58 +0000"  >&lt;p&gt;Auto-dropping quotes in case of Number (and Boolean) quotes only proved problematic because some objects notably JwsJson and JweJson entries produce self-contained JSON sequences. So adding a marker interface, JsonObject, helped.&lt;br/&gt;
So it will be good now as seeing the invalid sequences produced is not cool at all. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i324d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>