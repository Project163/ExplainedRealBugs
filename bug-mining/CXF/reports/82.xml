<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:34:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1620] wsdl2java ignores jaxb2 xjc globalBindings with namespace xjc</title>
                <link>https://issues.apache.org/jira/browse/CXF-1620</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;JAXB databindings work fine as shown in wsdl2java bindings documentation for customizing Date mapping. If I add the Jaxb2 specific customizations, they are ignored in xjc. Specifically, add jxb:version=&quot;2.0&quot; jxb:extensionBindingPrefixes=&quot;xjc&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; in the jaxws:bindings declaration, and use something like &amp;lt;xjc:serializable&amp;gt; &amp;lt;xjc:simple&amp;gt; &amp;lt;xjc:javaType adapter=&quot;&quot;&amp;gt; in the jxb:globalBindings section. There&apos;s no error or anything, the xjc bindings are simply ignored.&lt;/p&gt;

&lt;p&gt;One possibly related problem - if cxf-manifest.jar is in my environment classpath, Jaxb2 xjc customizations cause the xjc ant task to fail even when I set the classpath. I&apos;m generating JAXB classes in a project unrelated to CXF using Jaxb 2.0.5 xjc jar. I have to remove the manifest jar from the classpath for xjc to work again.&lt;/p&gt;

&lt;p&gt;We specifically need xjc:simple to avoid JAXBElement creations and to add @XmlRootElement where it would otherwise not appear. We also want xjc:javaType adapter=&quot;&quot; because the jxb:javaType print/parse bindings create one Adapter class for each binding customization (not for each customization type), which can be several hundred in very large webservice projects.&lt;/p&gt;

&lt;p&gt;A related improvement would be to add CXF DataTypeAdapter classes that extend javax.xml.bind.annotation.adapters.XmlAdapter&amp;lt;String, Date&amp;gt; with a marshal and unmarshal method, which looks like the generated AdapterX classes. I would suggest four classes for date, time, dateTime, and integer (replacing BigInteger with Integer).&lt;/p&gt;

&lt;p&gt;A sample project showing JAXB customized datatype bindings for wsdl2java would be helpful too. If I get some time next week I&apos;ll create and submit one based on the wsdl2java samples, with a working jxb binding and an xjc binding that should work but doesn&apos;t. Unless this issue has already been noticed and is being worked on (I didn&apos;t see anything related in JIRA).&lt;/p&gt;</description>
                <environment>&lt;p&gt;CXF 2.0.6. Jaxb 2.0.5&lt;/p&gt;</environment>
        <key id="12397257">CXF-1620</key>
            <summary>wsdl2java ignores jaxb2 xjc globalBindings with namespace xjc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="bfields">Bob Fields</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2008 01:47:13 +0000</created>
                <updated>Tue, 19 Aug 2008 19:00:55 +0000</updated>
                            <resolved>Tue, 22 Jul 2008 20:53:26 +0000</resolved>
                                    <version>2.0.6</version>
                                    <fixVersion>2.0.8</fixVersion>
                    <fixVersion>2.1.2</fixVersion>
                                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12615785" author="dkulp" created="Tue, 22 Jul 2008 20:53:26 +0000"  >
&lt;p&gt;I&apos;m going to resolve this as the bug in the title is now fixed.&lt;/p&gt;

&lt;p&gt;We do provide parser things for the various dates/times/etc:&lt;/p&gt;

&lt;p&gt;&amp;lt;jxb:globalBindings  xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&amp;gt;&lt;br/&gt;
       &amp;lt;jxb:javaType name=&quot;java.util.Date&quot; xmlType=&quot;xs:dateTime&quot;&lt;br/&gt;
                     parseMethod=&quot;org.apache.cxf.tools.common.DataTypeAdapter.parseDateTime&quot;&lt;br/&gt;
                     printMethod=&quot;org.apache.cxf.tools.common.DataTypeAdapter.printDateTime&quot;/&amp;gt;&lt;br/&gt;
 &amp;lt;/jxb:globalBindings&amp;gt;&lt;/p&gt;

&lt;p&gt;If that isn&apos;t adequate (I&apos;m not sure on the pros/cons), please log another jira for that.&lt;/p&gt;</comment>
                            <comment id="12622672" author="bob fields" created="Thu, 14 Aug 2008 20:23:06 +0000"  >&lt;p&gt;Still not fixed. The parseMethod/printMethod attributes work, but the adapter=&quot;&quot; annotation does not. Tested with CXF 2.1.1. Strangely enough, I can get it working if I use just the jxb:bindings namespace but not with the jaxws:bindings namespace (which works with the jxb:javaType as long as I select an XPATH node). I&apos;ll file another JIRA with some working and non-working examples. The parse/printMethod customization is not adequate.&lt;/p&gt;</comment>
                            <comment id="12622770" author="john.greeley" created="Fri, 15 Aug 2008 01:48:26 +0000"  >&lt;p&gt;This is not fixed. The XJC external bindings (note that these are non-standard &quot;vendor customizations&quot; implemented in Sun JAXB RI) work fine in the maven2 jaxb plugin and the maven2 jaxws plugin but not in the maven2 cxf codegen plugin. This is really annoying if you depend on these customizations because you have to mess around with the barely-supported Metro related maven plugins for a CXF maven project. &lt;/p&gt;</comment>
                            <comment id="12622773" author="john.greeley" created="Fri, 15 Aug 2008 01:50:15 +0000"  >&lt;p&gt;Here&apos;s the page describing the Sun vendor customizations to XJC -  &lt;a href=&quot;https://jaxb.dev.java.net/2.1.7/docs/vendorCustomizations.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jaxb.dev.java.net/2.1.7/docs/vendorCustomizations.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12622857" author="dkulp" created="Fri, 15 Aug 2008 11:39:36 +0000"  >
&lt;p&gt;This is marked &quot;Fix version: 2.1.2&quot;.   Are you using 2.1.2?  Bob specifically mentions 2.1.1 which it would obviously NOT be fixed in.&lt;/p&gt;

&lt;p&gt;It DOES work for my simple test case.   Buy your test case could be more complex than mine.   If you could attach a non-working test case, then it might have a chance of getting debugged and fixed.&lt;/p&gt;</comment>
                            <comment id="12623687" author="bob fields" created="Tue, 19 Aug 2008 14:45:21 +0000"  >&lt;p&gt;Verified still not working in CXF 2.1.2. I created a sample based on the samples\wsdl_first_wrapped with customized bindings, adding a DateTypes class. I added Adapter classes for date, time, dateTime for both Date and calendar types, and updated build.xml generate.code task to use the bindings. There are three binding files: &lt;br/&gt;
JXBJavaType.xjb demonstrates jxb:javaType Customization from the jaxws namespace (works but produces the Adapter# classes) using XPATH node; &lt;br/&gt;
XJCJavaType.xjb demonstrates the xjc:javaType Customization from the jxb namespace, which works for global customizations without having to use XPATH (also works for Jaxb XJC directly), but does not allow customization of the class names that you get from the jaxws namespace;&lt;br/&gt;
BADJAXWSJavaType.xjb demonstrates the xjc binding customization starting from the jaxws namespace, the same as the JXBJavaType except xjc:javaType is used instead of jxb:javaType.&lt;/p&gt;

&lt;p&gt;The sample could eventually be added to the list of samples and the 6 classes which extend XMLAdapter could be added to the CXF code base. I&apos;m sure there are other Adapter classes out there that are needed (I saw CurrencyAdapter in one test sample and MapAdapter in another).&lt;/p&gt;

&lt;p&gt;Reading through the docs, it looks like multiple binding files can be passed to wsdl2java -b (separated by a space), that&apos;s a potential solution here because of the different namespaces but I was unable to get it to work. The build.xml generate.code task shows a call with the two binding files. wsdl2java attempts to parse the parameters (two files separated by a space) together as a single parameter and throws an IOException File not found.&lt;/p&gt;</comment>
                            <comment id="12623689" author="bob fields" created="Tue, 19 Aug 2008 14:46:43 +0000"  >&lt;p&gt;Modified version of wsdl_first_xml_wrapped, showing customized bindings.&lt;/p&gt;</comment>
                            <comment id="12623713" author="dkulp" created="Tue, 19 Aug 2008 16:27:51 +0000"  >
&lt;p&gt;OK:&lt;/p&gt;

&lt;p&gt;1) JXBJavaType.xjb - doesn&apos;t have any jaxb customizations in it.  Just customizations for the SEI name and service name.   Did you send the wrong version? &lt;/p&gt;

&lt;p&gt;2) I can reproduce the BADJAXWSJavaType.xjb thing.   Digging in now.&lt;/p&gt;

&lt;p&gt;3) The wsdl2java macro that is setup in common_build.xml only allows a single binding file.   You could modify the macro to allow multiple files:&lt;/p&gt;

&lt;p&gt;&amp;lt;macrodef name=&quot;wsdl2java&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;srcdestdir&quot; default=&quot;${build.src.dir}&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;destdir&quot; default=&quot;${build.classes.dir}&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;file&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;servicename.arg&quot; default=&quot;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;bindingfile&quot; default=&quot;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;bindingfile2&quot; default=&quot;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;dir&quot; default=&quot;${wsdl.dir}&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;package&quot; default=&quot;NOT_SPECIFIED&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;compile&quot; default=&quot;false&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;classdir&quot; default=&quot;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;gen&quot; default=&quot;all&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;attribute name=&quot;validate&quot; default=&quot;true&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;sequential&amp;gt;&lt;br/&gt;
            &amp;lt;mkdir dir=&quot;@&lt;/p&gt;
{destdir}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;mkdir dir=&quot;@&lt;/p&gt;
{srcdestdir}&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;condition property=&quot;package.arg.@{file}&quot; value=&quot;-p @{package}&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;not&amp;gt;&lt;br/&gt;
                    &amp;lt;equals arg1=&quot;@{package}&quot; arg2=&quot;NOT_SPECIFIED&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/not&amp;gt;&lt;br/&gt;
            &amp;lt;/condition&amp;gt;&lt;br/&gt;
            &amp;lt;property name=&quot;package.arg.@{file}&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;condition property=&quot;binding.arg&quot; value=&apos;-b &quot;@{bindingfile}&quot;&apos;&amp;gt;&lt;br/&gt;
                &amp;lt;not&amp;gt;&lt;br/&gt;
                    &amp;lt;equals arg1=&quot;@{bindingfile}&quot; arg2=&quot;&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/not&amp;gt;&lt;br/&gt;
            &amp;lt;/condition&amp;gt;&lt;br/&gt;
            &amp;lt;property name=&quot;binding.arg&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;condition property=&quot;binding.arg2&quot; value=&apos;-b &quot;@{bindingfile2}&quot;&apos;&amp;gt;&lt;br/&gt;
                &amp;lt;not&amp;gt;&lt;br/&gt;
                    &amp;lt;equals arg1=&quot;@{bindingfile2}&quot; arg2=&quot;&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/not&amp;gt;&lt;br/&gt;
            &amp;lt;/condition&amp;gt;&lt;br/&gt;
            &amp;lt;property name=&quot;binding.arg2&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;java failonerror=&quot;true&quot; classname=&quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot; fork=&quot;yes&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;classpath&amp;gt;&lt;br/&gt;
                    &amp;lt;path refid=&quot;cxf.classpath&quot; /&amp;gt;&lt;br/&gt;
                &amp;lt;/classpath&amp;gt;&lt;br/&gt;
                &amp;lt;sysproperty key=&quot;java.util.logging.config.file&quot; value=&quot;${cxf.etc.dir}/logging.properties&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;sysproperty key=&quot;exitOnFinish&quot; value=&quot;true&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg line=&quot;@{servicename.arg}&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg line=&quot;${package.arg.@{file}}&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg line=&quot;${binding.arg}&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg line=&quot;${binding.arg2}&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;-verbose&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;-d&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;@{srcdestdir}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;-all&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;-validate&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;arg value=&quot;@&lt;/p&gt;
{dir}
&lt;p&gt;/@&lt;/p&gt;
{file}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/java&amp;gt;&lt;br/&gt;
        &amp;lt;/sequential&amp;gt;&lt;br/&gt;
    &amp;lt;/macrodef&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12623717" author="dkulp" created="Tue, 19 Aug 2008 16:35:41 +0000"  >

&lt;p&gt;OK.   If you move the jxb:extensionBindingPrefixes=&quot;xjc&quot; attribute to the jxb:globalBindings node, it all works fine.   (that&apos;s how my test case has it setup which is why I knew my test worked.   It apparently doesn&apos;t traverse up the parents to find that attribute.&lt;/p&gt;</comment>
                            <comment id="12623760" author="bob fields" created="Tue, 19 Aug 2008 19:00:55 +0000"  >&lt;p&gt;Wow that was fast. 5 minutes after verifying the problem you figured it out. I noticed it wasn&apos;t traversing up the attribute when I had to move the jxb namespace declaration to globalBindings in order for the binding to work without the class name customization. I verified it works with 2.1.2 after moving the extensionBindingPrefixes. I&apos;m creating pattern templates for web service generation from UML models (using AndroMDA), this whole exercise was very helpful. Yes I did forget that I had removed the jxb bindings from JXBJavaType.xjb, but the same markup was in the other bindings file, commented out.&lt;/p&gt;

&lt;p&gt;The non-parsing of the space separated bindings files also occurred for me when running org.apache.cxf.tools.wsdlto.WSDLToJava class from java (debugging in Eclipse with command line arguments). Did you verify it worked from the ant script?&lt;/p&gt;

&lt;p&gt;Will you add the working binding sample to the samples list and the Adapters classes to cxf core, or do you need additional code or a patch file? I also wanted to demonstrate using the xjc argument in CXF - we use lots of Jaxb2 plugins in our regular Jaxb code (in the process of converting 275 schemas from Jaxb pre-release to Jaxb 2.1 on one project). Also wanted the pom.xml file to demonstrate wsdl2java with all of the various options.&lt;/p&gt;

&lt;p&gt;Part of what threw me for the bindings was that I just recently switched from 2.0 to 2.1 CXF. When trying the working bindings file in 2.0.8 I get:&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: In&lt;br/&gt;
valid content was found starting with element &apos;xjc:javaType&apos;. One of &apos;&lt;/p&gt;
{&quot;http://j
ava.sun.com/xml/ns/jaxb&quot;:javaType, &quot;http://java.sun.com/xml/ns/jaxb&quot;:serializabl
e, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;:serializable, &quot;http://java.sun.com/xml/
ns/jaxb/xjc&quot;:superClass, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;:superInterface, &quot;
http://java.sun.com/xml/ns/jaxb/xjc&quot;:typeSubstitution, &quot;http://java.sun.com/xml/
ns/jaxb/xjc&quot;:smartWildcardDefaultBinding, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;:
simple, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;:generateElementProperty, &quot;http://j
ava.sun.com/xml/ns/jaxb/xjc&quot;:noMarshaller, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;
:noUnmarshaller, &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;:noValidator, &quot;http://java
.sun.com/xml/ns/jaxb/xjc&quot;:noValidatingUnmarshaller}
&lt;p&gt;&apos; is expected.&lt;/p&gt;

&lt;p&gt;Thanks for everything. CXF has been a very good product so far, fewer problems than with a lot of the other tools we use here (we&apos;re an IBM Rational / Websphere shop).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12388533" name="wsdl_first_binding_wrapped.zip" size="74134" author="bob fields" created="Tue, 19 Aug 2008 14:46:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1acuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>