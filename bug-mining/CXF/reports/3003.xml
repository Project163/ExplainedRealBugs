<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:24:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6598] java.lang.IndexOutOfBoundsException when processing response</title>
                <link>https://issues.apache.org/jira/browse/CXF-6598</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We are trying to upgrade to a newer version of CXF in a web service client application. Most of our services are running fine on the new version, but one of the services are failing consequently with the following exception (line numbers depending a bit on CXF version tested):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
	at java.util.ArrayList.rangeCheck(ArrayList.java:653)
	at java.util.ArrayList.get(ArrayList.java:429)
	at org.apache.cxf.message.MessageContentsList.get(MessageContentsList.java:80)
	at org.apache.cxf.jaxws.interceptors.HolderInInterceptor.handleMessage(HolderInInterceptor.java:69)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:802)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1644)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1532)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1330)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:652)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have tried to pinpoint exactly where this error originates from, but this seems to be &quot;buried&quot; deep into the implementation details. I would have loved to submit a pull request, but I suspect any suggested change from my part would cause other things to fail.&lt;/p&gt;

&lt;p&gt;However, I can try to summarize my findings, so someone with knowledge of the CXF source code hopefully can dig deeper into this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I seems to me that the problem is related to the fact that the cxf-codegen-plugin consider the operation to have one &lt;b&gt;in-out parameter&lt;/b&gt;, and not one in and one out parameter. I do not understand why, but maybe someone with deeper understanding of WSDLs can explain?&lt;/li&gt;
	&lt;li&gt;The problem also seems to be related to the fact that we prefer &lt;b&gt;WRAPPED mode&lt;/b&gt; over BARE mode. If I configure the cxf-codegen-plugin to generate BARE mode Java stubs, it all works. Changing to BARE mode for this particular service seems to be the only workaround I can think of; without changing the WSDL.&lt;/li&gt;
	&lt;li&gt;The problem also has something to do with the use of &lt;b&gt;implicit soap (response) header&lt;/b&gt; in the WSDL. If I remove the implicit soap header from the WSDL, everything works fine.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have attached a zip-file containing the WSDL in question (simplified and anonymized) and a failing test case. The test case is inspired by the system tests in cxf-systests-uncategorized, and may be added to this module when/if the bug is fixed.&lt;/p&gt;

&lt;p&gt;Note: The WSDL may seem a bit strange (I did not make it), but it appears to be valid (at least SoapUI says it is). We are just implementing a client application to a legacy system, so changing the WSDL is not an option (unless proved invalid....)&lt;/p&gt;

&lt;p&gt;I have tested a few different versions of CXF, and the problem seems to have appeared in version 2.7.12 (works with 2.7.11). I am not sure what changes that may have caused this to break, but I suspect changes related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5676&quot; title=&quot;IllegalArgumentException: wrong number of arguments while invoking operation with only an implicit header parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-5676&quot;&gt;&lt;del&gt;CXF-5676&lt;/del&gt;&lt;/a&gt;. This particular issue is the only one in 2.7.12 (that I could find) related to implicit SOAP headers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12895108">CXF-6598</key>
            <summary>java.lang.IndexOutOfBoundsException when processing response</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="erikgb">Erik Godding Boye</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Sep 2015 12:55:36 +0000</created>
                <updated>Wed, 26 Jul 2017 15:31:12 +0000</updated>
                            <resolved>Fri, 24 Mar 2017 14:51:43 +0000</resolved>
                                    <version>2.7.12</version>
                    <version>3.0.6</version>
                    <version>2.7.17</version>
                    <version>3.1.2</version>
                                    <fixVersion>3.0.13</fixVersion>
                    <fixVersion>3.1.11</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13090236">CXF-7455</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12761419" name="testcase.zip" size="6472" author="erikgb" created="Mon, 21 Sep 2015 12:56:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lcdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>