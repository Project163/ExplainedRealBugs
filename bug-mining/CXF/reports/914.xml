<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:46:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3478] Endpoint address not resolved correctly when message exchange destination is not instance of AbstractHTTPDestination</title>
                <link>https://issues.apache.org/jira/browse/CXF-3478</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Issue occurs (for example) if CXF jaxrs server is called as a consumer in a Camel Route. The jaxrs server is then setup with an direct camel address: &apos;camel://direct:jaxrsEndpoint&apos;, and is fed requests from a camel-jetty component. &lt;/p&gt;

&lt;p&gt;At this point Calls to HttpUtils.getEndpointAddress returns the &apos;camel://direct:jaxrsEndpoint&apos; address, instead of the actual &apos;http://&apos; address. This seems to be correct behavior, but is not what the user might expect. &lt;/p&gt;

&lt;p&gt;I am not completely sure where to change this (since I just stared using CXF), but I think it is either: org.apache.cxf.jaxrs.utils.HttpUtils.getEndpointAddress(), where the endpoint is fetched from the destination of the message, or: org.apache.cxf.jaxrs.impl.UriInfoImpl.getBaseUri(), where an extra check can be Build in looking for the existence of:  org.apache.cxf.message.Message.BASE_PATH (which can be set to indicate the base path (I think)), indicating the &apos;real&apos; HTTP Base Uri, instead of the destination Endpoint.&lt;/p&gt;

&lt;p&gt;I am going to make a patch for the second option, but if anyone has a better suggestion, please let me know.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505762">CXF-3478</key>
            <summary>Endpoint address not resolved correctly when message exchange destination is not instance of AbstractHTTPDestination</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="aukjan">Aukjan van Belkum</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Apr 2011 07:53:29 +0000</created>
                <updated>Mon, 8 Aug 2011 14:43:42 +0000</updated>
                            <resolved>Wed, 4 May 2011 12:32:51 +0000</resolved>
                                    <version>2.3.2</version>
                    <version>2.3.3</version>
                    <version>2.4</version>
                    <version>2.3.4</version>
                    <version>2.4.1</version>
                    <version>2.3.5</version>
                                    <fixVersion>2.4.1</fixVersion>
                    <fixVersion>2.3.5</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13026910" author="chris@die-schneider.net" created="Fri, 29 Apr 2011 09:02:14 +0000"  >&lt;p&gt;The code in org.apache.cxf.jaxrs.utils.HttpUtils.getEndpointAddress(Message) looks wrong to me. It first checks if the destination is of type AbstractHTTPDestination and then decides if it should use the property &quot;org.apache.cxf.transport.endpoint.address&quot; or the address from the endpoint. I think it would be better to always use the property if it is present. I am not sure though if there could be problems if the transport is a non http transport e.g. jms.&lt;/p&gt;

&lt;p&gt;In general I think the getEndpointAddress is the better place to fix. I will also ask Sergey as he has written most of the jaxrs code.&lt;/p&gt;</comment>
                            <comment id="13026922" author="sergey_beryozkin" created="Fri, 29 Apr 2011 09:49:06 +0000"  >&lt;p&gt;Hi, as discussed on IRC, checking for Message.BASE_PATH in &apos;else&apos; branch, in case it is not AbstractHttpDestination, can provide a fix.&lt;br/&gt;
If that works then may be I can also remove&lt;/p&gt;

&lt;p&gt;&quot;org.apache.cxf.transport.endpoint.address&quot; altogether&lt;/p&gt;

&lt;p&gt;Workaround (till this issue is closed) is also available - please check &lt;a href=&quot;http://www.talend.com/resources/documentation.php#SF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.talend.com/resources/documentation.php#SF&lt;/a&gt; (talend-if-2.7.1.0-examples), spring-security or jaxrs-http-jms demos&lt;/p&gt;</comment>
                            <comment id="13026936" author="aukjan" created="Fri, 29 Apr 2011 11:10:28 +0000"  >&lt;p&gt;As discussed in IRC: Patch includes changes made to HttpUtils.getEndpointAddress, to also check the Message.BASE_PATH (if it exists).&lt;/p&gt;</comment>
                            <comment id="13028731" author="sergey_beryozkin" created="Wed, 4 May 2011 12:32:24 +0000"  >&lt;p&gt;Hi, I applied your patch with a minor update:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1099428&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1099428&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I just realized I did not acknowledge that it was you patch in the commit message, sorry &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;My tests with existing Talend Integration Factory Camel demos show that this patch is sufficient, I only needed one minor update to make sure&lt;br/&gt;
Message.BASE_PATH such as jms://topic, etc, are handled properly. &lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="13029810" author="aukjan" created="Fri, 6 May 2011 07:45:15 +0000"  >&lt;p&gt;Thanks for the quick turnaround on this issue.. I forgive you for not giving credit on this, because of your speed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477747" name="patch.txt" size="831" author="aukjan" created="Fri, 29 Apr 2011 11:10:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>