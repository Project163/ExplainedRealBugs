<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:29:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7549] Can&apos;t register Feature from inside another Feature in JAX-RS</title>
                <link>https://issues.apache.org/jira/browse/CXF-7549</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Registering a Feature from within a Feature lead to ServiceConstruction exception.&lt;/p&gt;

&lt;p&gt;It is explicitly stated in the spec that it must be possible to register a feature inside another feature. In CXF this leads to a ServiceContruction exception caused by a NullPointerException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13116645">CXF-7549</key>
            <summary>Can&apos;t register Feature from inside another Feature in JAX-RS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="csierra">Carlos Sierra Andr&#233;s</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Nov 2017 12:14:35 +0000</created>
                <updated>Fri, 10 Sep 2021 01:36:45 +0000</updated>
                            <resolved>Tue, 7 Nov 2017 17:15:32 +0000</resolved>
                                    <version>3.2.0</version>
                    <version>3.2.1</version>
                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>3.1.15</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16241933" author="githubbot" created="Tue, 7 Nov 2017 12:32:06 +0000"  >&lt;p&gt;csierra opened a new pull request #334: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7549&quot; title=&quot;Can&amp;#39;t register Feature from inside another Feature in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7549&quot;&gt;&lt;del&gt;CXF-7549&lt;/del&gt;&lt;/a&gt; test for bug of feature inside a feature&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/334&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Tests to highlight the bug described in &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7549&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7549&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16241934" author="csierra" created="Tue, 7 Nov 2017 12:32:39 +0000"  >&lt;p&gt;Test uploaded to &lt;a href=&quot;https://github.com/apache/cxf/pull/334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/334&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16242428" author="sergey_beryozkin" created="Tue, 7 Nov 2017 17:15:12 +0000"  >&lt;p&gt;Yes, it was supported only in a specific code path, now should be fine, I moved your tests to ProviderFactoryTest, thanks&lt;/p&gt;</comment>
                            <comment id="16242517" author="csierra" created="Tue, 7 Nov 2017 17:52:44 +0000"  >&lt;p&gt;Wow!... that was fast.&lt;/p&gt;

&lt;p&gt;Thanks to you!&lt;/p&gt;</comment>
                            <comment id="16242984" author="sergey_beryozkin" created="Tue, 7 Nov 2017 21:57:47 +0000"  >&lt;p&gt;Np, sometimes the fixes can be simple enough &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16368821" author="githubbot" created="Mon, 19 Feb 2018 06:54:02 +0000"  >&lt;p&gt;deki commented on issue #334: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7549&quot; title=&quot;Can&amp;#39;t register Feature from inside another Feature in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7549&quot;&gt;&lt;del&gt;CXF-7549&lt;/del&gt;&lt;/a&gt; test for bug of feature inside a feature&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/334#issuecomment-366602725&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/334#issuecomment-366602725&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7549&quot; title=&quot;Can&amp;#39;t register Feature from inside another Feature in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7549&quot;&gt;&lt;del&gt;CXF-7549&lt;/del&gt;&lt;/a&gt; is resolved and no other feedback was provided therefore closing...&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16368822" author="githubbot" created="Mon, 19 Feb 2018 06:54:02 +0000"  >&lt;p&gt;deki closed pull request #334: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7549&quot; title=&quot;Can&amp;#39;t register Feature from inside another Feature in JAX-RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7549&quot;&gt;&lt;del&gt;CXF-7549&lt;/del&gt;&lt;/a&gt; test for bug of feature inside a feature&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/334&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/JAXRSServerFactoryBeanTest.java b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/JAXRSServerFactoryBeanTest.java&lt;br/&gt;
index 73e51c38113..2ac31d6c0de 100644&lt;br/&gt;
&amp;#8212; a/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/JAXRSServerFactoryBeanTest.java&lt;br/&gt;
+++ b/rt/frontend/jaxrs/src/test/java/org/apache/cxf/jaxrs/JAXRSServerFactoryBeanTest.java&lt;br/&gt;
@@ -21,6 +21,7 @@&lt;br/&gt;
 import java.util.ArrayList;&lt;br/&gt;
 import java.util.List;&lt;/p&gt;

&lt;p&gt;+import javax.ws.rs.core.Feature;&lt;br/&gt;
 import javax.ws.rs.core.Response;&lt;br/&gt;
 import javax.ws.rs.ext.ExceptionMapper;&lt;/p&gt;

&lt;p&gt;@@ -64,6 +65,39 @@ public void testRegisterProviders() {&lt;/p&gt;

&lt;p&gt;     }&lt;/p&gt;

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void testRegisterInFeature() {&lt;br/&gt;
+        JAXRSServerFactoryBean bean = new JAXRSServerFactoryBean();&lt;br/&gt;
+        bean.setAddress(&quot;http://localhost:8080/rest&quot;);&lt;br/&gt;
+        bean.setResourceClasses(BookStore.class);&lt;br/&gt;
+        bean.setStart(false);&lt;br/&gt;
+        bean.setProvider((Feature)(context) -&amp;gt; &lt;/p&gt;
{
+            context.register(new RuntimeExceptionMapper());
+
+            return true;
+        }
&lt;p&gt;);&lt;br/&gt;
+&lt;br/&gt;
+        bean.create();&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testRegisterFeatureInFeature() {&lt;br/&gt;
+        JAXRSServerFactoryBean bean = new JAXRSServerFactoryBean();&lt;br/&gt;
+        bean.setAddress(&quot;http://localhost:8080/rest&quot;);&lt;br/&gt;
+        bean.setStart(false);&lt;br/&gt;
+        bean.setResourceClasses(BookStore.class);&lt;br/&gt;
+        bean.setProvider((Feature)(context) -&amp;gt; {&lt;br/&gt;
+            context.register((Feature) context2-&amp;gt; &lt;/p&gt;
{
+                context2.register(new RuntimeExceptionMapper());
+
+                return true;
+            }
&lt;p&gt;);&lt;br/&gt;
+&lt;br/&gt;
+            return true;&lt;br/&gt;
+        });&lt;br/&gt;
+&lt;br/&gt;
+        bean.create();&lt;br/&gt;
+    }&lt;/p&gt;

&lt;p&gt;     private static class CustomExceptionMapper implements ExceptionMapper&amp;lt;Exception&amp;gt; {&lt;/p&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13112885">CXF-7543</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mhin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>