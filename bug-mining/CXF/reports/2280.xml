<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:10:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5822] NullPointerException in PropertiesLoaderUtils</title>
                <link>https://issues.apache.org/jira/browse/CXF-5822</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Under some circumstances in our project &lt;tt&gt;Thread.currentThread().getContextClasssLoader()&lt;/tt&gt; is &lt;tt&gt;null&lt;/tt&gt;. This leads to a &lt;tt&gt;NullPointerException&lt;/tt&gt; when org.apache.cxf.common.util.PropertiesLoaderUtils.loadAllProperties() is called with that as an argument.&lt;/p&gt;

&lt;p&gt;This is the specific part of the code that contains the problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;PropertiesLoaderUtils.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
     * Load all properties from the given &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path resource, using the given
     * &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader.
     * &amp;lt;p&amp;gt;
     * Merges properties &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; more than one resource of the same name found in the
     * &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path.
     * 
     * @param resourceName the name of the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path resource
     * @param classLoader the &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; to use &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; loading (or
     *            &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;lt;/code&amp;gt; to use the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loader)
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the populated Properties instance
     * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; loading failed
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Properties loadAllProperties(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceName, &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; classLoader)
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; loadAllProperties(resourceName, classLoader, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
    }        
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Properties loadAllProperties(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceName, &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; classLoader,
                                               Logger logger, Level level, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg)
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        Properties properties = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Properties();
        Enumeration&amp;lt;URL&amp;gt; urls = classLoader.getResources(resourceName);
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Javadoc says that &lt;tt&gt;null&lt;/tt&gt; is a valid value for this argument. However, the code does not check the variable for &lt;tt&gt;null&lt;/tt&gt; and just calls &lt;tt&gt;classLoader.getResources(resourceName)&lt;/tt&gt;. This check should be added and &lt;tt&gt;classLoader&lt;/tt&gt; should be set to a reasonable value in case it is &lt;tt&gt;null&lt;/tt&gt;. I will add a pull request for a fix of this issue later.&lt;/p&gt;

&lt;p&gt;Please note that we are bound to Java 1.5 in our project and thus switching to CXF 2.7 or 3.0 is not possible for us.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12723634">CXF-5822</key>
            <summary>NullPointerException in PropertiesLoaderUtils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="cehser">Christoph E&#223;er</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2014 13:37:28 +0000</created>
                <updated>Mon, 16 Feb 2015 16:09:10 +0000</updated>
                            <resolved>Thu, 26 Jun 2014 09:40:31 +0000</resolved>
                                    <version>2.6.14</version>
                                    <fixVersion>2.6.15</fixVersion>
                    <fixVersion>2.7.12</fixVersion>
                    <fixVersion>3.0.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14043551" author="githubbot" created="Wed, 25 Jun 2014 14:41:37 +0000"  >&lt;p&gt;GitHub user cehser opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/8&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5822&quot; title=&quot;NullPointerException in PropertiesLoaderUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-5822&quot;&gt;&lt;del&gt;CXF-5822&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;    Checks classLoader for null and sets it to PropertiesLoaderUtils.class.getClassLoader() in case.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cehser/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cehser/cxf&lt;/a&gt; 2.6.x-fixes&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/8.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #8&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b84b9b2569a9616396fa22c112662a2dddc98f1e&lt;br/&gt;
Author: Christoph E&#223;er &amp;lt;cehser@ascom-ac.de&amp;gt;&lt;br/&gt;
Date:   2014-06-25T14:39:49Z&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5822&quot; title=&quot;NullPointerException in PropertiesLoaderUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-5822&quot;&gt;&lt;del&gt;CXF-5822&lt;/del&gt;&lt;/a&gt;. Checks classLoader for null and sets it to PropertiesLoaderUtils.class.getClassLoader() in case.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14044515" author="sergey_beryozkin" created="Thu, 26 Jun 2014 09:40:31 +0000"  >&lt;p&gt;Thanks for the patch&lt;/p&gt;</comment>
                            <comment id="14050568" author="githubbot" created="Wed, 2 Jul 2014 19:01:33 +0000"  >&lt;p&gt;Github user dkulp commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/8#issuecomment-47820434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/8#issuecomment-47820434&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This pull request was committed by Sergey.  Can it be closed please?&lt;/p&gt;</comment>
                            <comment id="14051108" author="githubbot" created="Thu, 3 Jul 2014 06:16:32 +0000"  >&lt;p&gt;Github user cehser commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/8#issuecomment-47870556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/8#issuecomment-47870556&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the commit. Request closed.&lt;/p&gt;</comment>
                            <comment id="14051109" author="githubbot" created="Thu, 3 Jul 2014 06:16:33 +0000"  >&lt;p&gt;Github user cehser closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/8&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x5vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>