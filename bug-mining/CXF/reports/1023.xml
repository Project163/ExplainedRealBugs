<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:48:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3681] Transform feature can loop endless in combination with PartialXMLStreamReader</title>
                <link>https://issues.apache.org/jira/browse/CXF-3681</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;A bug in the InTransformReader can cause an endless loop in combination with PartialXMLStreamReader. The attached patch contains the fix and more tests for InTransformReader but currently none for the combination with PartialXMLStreamReader.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://cxf.547215.n5.nabble.com/Problem-with-new-transform-feature-td4599185.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Problem-with-new-transform-feature-td4599185.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;WinXP, Java SDK 1.6.0_26&lt;/p&gt;</environment>
        <key id="12515152">CXF-3681</key>
            <summary>Transform feature can loop endless in combination with PartialXMLStreamReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="akuhtz">Andreas Kuhtz</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Jul 2011 07:11:34 +0000</created>
                <updated>Fri, 19 Aug 2011 03:29:58 +0000</updated>
                            <resolved>Sun, 31 Jul 2011 17:53:33 +0000</resolved>
                                    <version>2.4.1</version>
                                    <fixVersion>2.4.2</fixVersion>
                    <fixVersion>2.5</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13070390" author="akuhtz" created="Mon, 25 Jul 2011 09:27:28 +0000"  >&lt;p&gt;New unit tests that can be used to reproduce the problem. See the comment in the tests.&lt;/p&gt;</comment>
                            <comment id="13070414" author="akuhtz" created="Mon, 25 Jul 2011 10:25:31 +0000"  >&lt;p&gt;New unit test for the partial stream reader.&lt;/p&gt;</comment>
                            <comment id="13070417" author="sergey_beryozkin" created="Mon, 25 Jul 2011 10:37:22 +0000"  >&lt;p&gt;Thanks - I&apos;m on it...&lt;/p&gt;</comment>
                            <comment id="13071120" author="akuhtz" created="Tue, 26 Jul 2011 14:23:44 +0000"  >&lt;p&gt;New unit test. The PartialXMLStreamReader does not work correct. It must return only the header part with an empty body but currently it returns the body with content. This leads to the problem that the DocLiteralInInterceptor fails.&lt;/p&gt;</comment>
                            <comment id="13071127" author="akuhtz" created="Tue, 26 Jul 2011 14:43:58 +0000"  >&lt;p&gt;Updated test. cxf-3681-patch4.diff was invalid.&lt;/p&gt;</comment>
                            <comment id="13071142" author="akuhtz" created="Tue, 26 Jul 2011 14:59:05 +0000"  >&lt;p&gt;Added new method notGetElement to test that verifies that an element is not in the document.&lt;br/&gt;
The cxf-3681-patch6.diff is a replacement for cxf-3681-patch5.diff.&lt;/p&gt;</comment>
                            <comment id="13073372" author="sergey_beryozkin" created="Sun, 31 Jul 2011 17:53:33 +0000"  >&lt;p&gt;Thanks Aki for getting it resolved&lt;/p&gt;</comment>
                            <comment id="13073497" author="elakito@googlemail.com" created="Mon, 1 Aug 2011 11:20:09 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
glad to see you are back.&lt;/p&gt;

&lt;p&gt;I submitted my version with some new features we discussed. I left out&lt;br/&gt;
the attributes-transformation feature, as I wanted to discuss with you&lt;br/&gt;
about it.&lt;/p&gt;

&lt;p&gt;InTransformReader takes the inAttributes map that allows you to&lt;br/&gt;
translate/drop some attributes.&lt;br/&gt;
However, this needs to be worked out. Currently, we can use&lt;br/&gt;
key=&quot;aname1&quot; value=&quot;aname2&quot; to change attribute name form aname1 aname2 and&lt;br/&gt;
key=&quot;aname1&quot; value=&quot;&quot; to delete attribute aname1.&lt;/p&gt;

&lt;p&gt;But this operaiton is limited for the global context and not for the&lt;br/&gt;
local element context (i.e., we can&apos;t refer to an attribute within a&lt;br/&gt;
specific element).&lt;/p&gt;

&lt;p&gt;So we need a way to refer to an attribute within an element. But I am&lt;br/&gt;
not sure which syntax to use.&lt;/p&gt;

&lt;p&gt;One approach would be to use the xpath syntax.&lt;br/&gt;
for example,&lt;br/&gt;
to change attribute aname1 within element ename to aname2,&lt;br/&gt;
how should we set inAttributes map?&lt;br/&gt;
1. key=&quot;ename/@aname1&quot; value=&quot;aname2&quot;.&lt;br/&gt;
2. key=&quot;ename/@aname1&quot; value=&quot;@aname2&quot;&lt;br/&gt;
3. key=&quot;ename/@aname1&quot; value=&quot;ename/@aname2&quot;&lt;br/&gt;
4. others?&lt;/p&gt;

&lt;p&gt;I think I am for 1 or 2. Option 3 can imply the potential move of the&lt;br/&gt;
attribute to another element, so I don&apos;t like it, as it complicates&lt;br/&gt;
the logic too much.&lt;/p&gt;

&lt;p&gt;The advantage of option 2 is that we can reuse inElements map and do&lt;br/&gt;
not need inAttributesMap. This approach can be extended to do&lt;br/&gt;
transformation from an element to an attribute or from an attribute to&lt;br/&gt;
an element. That makes it more complicated but it&apos;s kind of cute.&lt;/p&gt;

&lt;p&gt;For working on attributes in the global context, we can omit the&lt;br/&gt;
element part in this case.&lt;br/&gt;
key=&quot;@aname1&quot; ...&lt;/p&gt;

&lt;p&gt;Once we decide on this syntax, we can derive an analogue syntax for&lt;br/&gt;
the attribute-append as in the element-append.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12487583" name="cxf-3681-patch.diff" size="13186" author="akuhtz" created="Sat, 23 Jul 2011 07:13:03 +0000"/>
                            <attachment id="12487678" name="cxf-3681-patch2.diff" size="11561" author="akuhtz" created="Mon, 25 Jul 2011 09:27:28 +0000"/>
                            <attachment id="12487684" name="cxf-3681-patch3.diff" size="4429" author="akuhtz" created="Mon, 25 Jul 2011 10:25:31 +0000"/>
                            <attachment id="12487841" name="cxf-3681-patch5.diff" size="3882" author="akuhtz" created="Tue, 26 Jul 2011 14:44:32 +0000"/>
                            <attachment id="12487844" name="cxf-3681-patch6.diff" size="4582" author="akuhtz" created="Tue, 26 Jul 2011 14:59:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b7fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>