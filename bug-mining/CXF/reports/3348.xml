<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:32:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7834] Using @QueryParam on resource field doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/CXF-7834</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;m currently working on the JSR-371 (MVC 1.0) TCK and ran into a weird issue when running it against TomEE 7.0.5 which include CXF 3.1.15.&lt;/p&gt;

&lt;p&gt;For some reason &lt;tt&gt;@QueryParam&lt;/tt&gt; doesn&apos;t work if I place it on a resource field. To be more concrete, in this code the query parameter isn&apos;t injected into the field:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;inject-test&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;InjectParamsController {

    @QueryParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldValue&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldValue;

    @GET
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response get() {
        &lt;span class=&quot;code-comment&quot;&gt;// some resource code
&lt;/span&gt;    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getFieldValue() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fieldValue;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setFieldValue(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldValue) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fieldValue = fieldValue;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I move the annotation to the getter, it is working as expected:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;inject-test&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;InjectParamsController {

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldValue;

    @GET
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response get() {
        &lt;span class=&quot;code-comment&quot;&gt;// some resource code
&lt;/span&gt;    }

    @QueryParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldValue&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getFieldValue() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fieldValue;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setFieldValue(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldValue) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fieldValue = fieldValue;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both ways work fine on Glassfish5 and Wildfly.&lt;/p&gt;

&lt;p&gt;It would be great to get your thoughts on this. Something like &quot;Yeah, this is a known bug&quot; or perhaps &quot;You are crazy, this MUST work, you are doing something wrong&quot;&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;TomEE 7.0.5&#160;with CXF 3.1.15&lt;/p&gt;</environment>
        <key id="13183554">CXF-7834</key>
            <summary>Using @QueryParam on resource field doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="coheigea">Colm O hEigeartaigh</assignee>
                                    <reporter username="chkal">Christian Kaltepoth</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Sep 2018 05:23:04 +0000</created>
                <updated>Fri, 1 Feb 2019 13:54:42 +0000</updated>
                                            <version>3.1.15</version>
                                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16606895" author="coheigea" created="Fri, 7 Sep 2018 09:38:00 +0000"  >&lt;p&gt;I can&apos;t reproduce it using a sample test-case that I attached. You can extract it and run it with &quot;mvn clean install&quot;. The DoubleItService looks like:&lt;/p&gt;

&lt;p&gt;@Path(&quot;/services&quot;)&lt;br/&gt;
public class DoubleItService {&lt;br/&gt;
&#160;&#160; &#160;&lt;br/&gt;
&#160;&#160; &#160;@QueryParam(value = &quot;numberToDouble&quot;)&lt;br/&gt;
&#160;&#160; &#160;private String numberToDouble;&lt;br/&gt;
&#160;&#160; &#160;&lt;br/&gt;
&#160;&#160; &#160;@GET&lt;br/&gt;
&#160;&#160; &#160;public Number getNumber() &lt;/p&gt;
{
&#160;&#160; &#160;&#160;&#160; &#160;Number newNumber = new Number();
&#160;&#160; &#160;&#160;&#160; &#160;newNumber.setDescription(&quot;Number to double&quot;);
&#160;&#160; &#160;&#160;&#160; &#160;newNumber.setNumber(Integer.parseInt(numberToDouble) * 2);
&#160;&#160; &#160;&#160;&#160; &#160;return newNumber;
&#160;&#160; &#160;}
&lt;p&gt;&#160;&#160; &#160;&lt;br/&gt;
&#160;&#160;&#160; public String getNumberToDouble() &lt;/p&gt;
{
&#160;&#160; &#160;&#160;&#160; &#160;return numberToDouble;
&#160;&#160; &#160;}

&lt;p&gt;&#160;&#160; &#160;public void setNumberToDouble(String numberToDouble) &lt;/p&gt;
{
&#160;&#160; &#160;&#160;&#160; &#160;this.numberToDouble = numberToDouble;
&#160;&#160; &#160;}

&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="16607290" author="chkal" created="Fri, 7 Sep 2018 16:05:25 +0000"  >&lt;p&gt;Thanks a lot for the quick feedback. I just tested your sample app and it works fine.&lt;/p&gt;

&lt;p&gt;Looks like this isn&apos;t so easy to reproduce. In my case there are a few more components involved, especially the CXF CDI integration and the JSR-371 RI.&lt;/p&gt;

&lt;p&gt;I&apos;ll try to find some more time to dig deeper into this in the next days. Feel free to close this issue for now. I&apos;ll reopen it if I find something that points to CXF as being the problem.&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="16625002" author="chkal" created="Sun, 23 Sep 2018 07:00:14 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coheigea&quot; class=&quot;user-hover&quot; rel=&quot;coheigea&quot;&gt;coheigea&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;it looks like we finally found the root cause of the issue. One of our community members analyzed it in detail and provided a great summary of what seems to go wrong (including debugger screenshots):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mvc-spec/ozark/issues/168#issuecomment-423530983&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mvc-spec/ozark/issues/168#issuecomment-423530983&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So it looks like this issue is caused by CXF not handling OWB proxies correctly. Please let me know if you need more details or a reproducer application.&lt;/p&gt;

&lt;p&gt;Thanks for your support. We really appreciate your help. &lt;/p&gt;</comment>
                            <comment id="16625777" author="danieldiasjava" created="Mon, 24 Sep 2018 12:53:55 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coheigea&quot; class=&quot;user-hover&quot; rel=&quot;coheigea&quot;&gt;coheigea&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chkal&quot; class=&quot;user-hover&quot; rel=&quot;chkal&quot;&gt;chkal&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;follows the link to the small example to reproduce the bug in CXF : &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Daniel-Dos/InjectParamsTest-Ozark-CXF/tree/master/OnlyCXF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;OnlyCXF&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="16635577" author="coheigea" created="Tue, 2 Oct 2018 14:37:54 +0000"  >&lt;p&gt;Tomee uses CXF 3.1.15. Is there a way of testing with a more recent version of CXF?&lt;/p&gt;</comment>
                            <comment id="16636883" author="chkal" created="Wed, 3 Oct 2018 12:10:46 +0000"  >&lt;p&gt;We currently don&apos;t have a reproducer app for the latest CXF version. But I just posted your request to the &lt;a href=&quot;https://github.com/mvc-spec/ozark/issues/168#issuecomment-426612837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Ozark issue tracker&lt;/a&gt; to see if anyone can help with this.&lt;/p&gt;</comment>
                            <comment id="16638191" author="danieldiasjava" created="Thu, 4 Oct 2018 12:52:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coheigea&quot; class=&quot;user-hover&quot; rel=&quot;coheigea&quot;&gt;coheigea&lt;/a&gt; e &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chkal&quot; class=&quot;user-hover&quot; rel=&quot;chkal&quot;&gt;chkal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;follows the example using version 3.2.6 running on tomcat :&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Daniel-Dos/InjectParamsTest-Ozark-CXF/tree/master/OnlyCXFTomcat&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Daniel-Dos/InjectParamsTest-Ozark-CXF/tree/master/OnlyCXFTomcat&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;with following endpoint :&#160;&lt;a href=&quot;http://localhost:8080/only.cxf.tomcat/rest/app/hello/param?fieldValue=ola&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/only.cxf.tomcat/rest/app/hello/param?fieldValue=ola&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;doc :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cxf.apache.org/docs/using-cxf-and-cdi-11-jsr-346.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/using-cxf-and-cdi-11-jsr-346.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16652107" author="coheigea" created="Tue, 16 Oct 2018 17:25:33 +0000"  >&lt;p&gt;Thanks I can reproduce using that example. I&apos;ve tried to port the example to the CXF system tests, but I can&apos;t reproduce it there...any idea why?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cxf/commit/f5c0cc7d46aaf65105eb1014ccfe69e8c69b0edb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/f5c0cc7d46aaf65105eb1014ccfe69e8c69b0edb&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16652897" author="chkal" created="Wed, 17 Oct 2018 03:25:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=coheigea&quot; class=&quot;user-hover&quot; rel=&quot;coheigea&quot;&gt;coheigea&lt;/a&gt;: Is this CXF system test bootstrapping a full CDI container? Maybe something special about the setup? You could try to add&#160;&lt;tt&gt;@RequestScoped&lt;/tt&gt; to the resource to force CDI to create a proxy.&lt;/p&gt;</comment>
                            <comment id="16653384" author="coheigea" created="Wed, 17 Oct 2018 11:15:50 +0000"  >&lt;p&gt;I added @RequestScoped but it still worked - it looks like a Weld proxy is not being created.&lt;/p&gt;</comment>
                            <comment id="16653456" author="chkal" created="Wed, 17 Oct 2018 12:32:12 +0000"  >&lt;p&gt;So the integration tests are using Weld? If I understand the comment from our issue tracker correctly, the behavior may be OpenWebBeans specific.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;https://github.com/mvc-spec/ozark/issues/168#issuecomment-423530983&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mvc-spec/ozark/issues/168#issuecomment-423530983&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16752957" author="chkal" created="Sat, 26 Jan 2019 06:50:53 +0000"  >&lt;p&gt;Is there anything we can do to help to get this fixed?&lt;/p&gt;</comment>
                            <comment id="16753003" author="deki" created="Sat, 26 Jan 2019 11:25:47 +0000"  >&lt;p&gt;We have tests for both Weld and OWB. Could you add the test to &lt;a href=&quot;https://github.com/apache/cxf/tree/master/systests/cdi/cdi-owb?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/tree/master/systests/cdi/cdi-owb?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16753308" author="chkal" created="Sun, 27 Jan 2019 06:57:52 +0000"  >&lt;p&gt;Ok, great. I just asked&#160;if somebody could help with this on &lt;a href=&quot;https://github.com/eclipse-ee4j/krazo/issues/24#issuecomment-457893828&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;our issue tracker&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16757201" author="danieldiasjava" created="Thu, 31 Jan 2019 12:54:36 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deki&quot; class=&quot;user-hover&quot; rel=&quot;deki&quot;&gt;deki&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;How I help with this repository ?&lt;/p&gt;</comment>
                            <comment id="16757204" author="deki" created="Thu, 31 Jan 2019 12:56:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=danieldiasjava&quot; class=&quot;user-hover&quot; rel=&quot;danieldiasjava&quot;&gt;danieldiasjava&lt;/a&gt;, you can fork it, take the Weld testcase from Colm &lt;a href=&quot;https://github.com/apache/cxf/commit/f5c0cc7d46aaf65105eb1014ccfe69e8c69b0edb,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/f5c0cc7d46aaf65105eb1014ccfe69e8c69b0edb,&lt;/a&gt; add it to the cdi-owb testcases and file a pull request.&lt;/p&gt;</comment>
                            <comment id="16758323" author="danieldiasjava" created="Fri, 1 Feb 2019 13:54:42 +0000"  >&lt;p&gt;ok &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deki&quot; class=&quot;user-hover&quot; rel=&quot;deki&quot;&gt;deki&lt;/a&gt; .&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;thanks.&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12938798" name="cxf-query.tar.gz" size="6187" author="coheigea" created="Fri, 7 Sep 2018 09:37:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xtvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>