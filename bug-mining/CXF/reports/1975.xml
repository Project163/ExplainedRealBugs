<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:04:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5268] Automatic WS-Policy computation should be possible on Dispatch clients without setting operation manually</title>
                <link>https://issues.apache.org/jira/browse/CXF-5268</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If a WSDL contains a WS-Policy with separate policies on the Operation message elements, CXF should compute the correct policy for Dispatch clients by looking at the message content.  It already does this to determine the operation so it can compute the correct WS-Addressing values, if the Dispatch developer does the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;disp.getRequestContext().put(&lt;span class=&quot;code-quote&quot;&gt;&quot;find.dispatch.operation&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So we&apos;re already doing that work.  It&apos;s a one line fix to update the operation at that time, so that the WS-Policy computation engine can read the correct operation and use that to get the right set of policies from the WSDL to mix together.  I will supply that patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; after submitting this issue for it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12667971">CXF-5268</key>
            <summary>Automatic WS-Policy computation should be possible on Dispatch clients without setting operation manually</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="jpangburn">Jesse Pangburn</reporter>
                        <labels>
                            <label>Dispatch</label>
                            <label>WS-Policy</label>
                            <label>patch</label>
                    </labels>
                <created>Wed, 11 Sep 2013 03:27:38 +0000</created>
                <updated>Fri, 27 Sep 2013 18:18:16 +0000</updated>
                            <resolved>Fri, 13 Sep 2013 16:42:56 +0000</resolved>
                                    <version>2.7.6</version>
                                    <fixVersion>2.7.7</fixVersion>
                    <fixVersion>3.0.0-milestone1</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13763916" author="jpangburn" created="Wed, 11 Sep 2013 03:30:09 +0000"  >&lt;p&gt;This patch goes on the 2.7.6 release version of DispatchImpl.java.  The full path is apache-cxf-2.7.6-src/rt/frontend/jaxws/src/main/java/org/apache/cxf/DispatchImpl.java&lt;/p&gt;</comment>
                            <comment id="13764389" author="dkulp" created="Wed, 11 Sep 2013 15:12:22 +0000"  >
&lt;p&gt;Arg.... looking at this code, the whole stuff around the &quot;dispatchToOperation&quot; setting on the BOP is not thread safe at all.  Worse, if a second request is sent on the dispatch that doesn&apos;t match an operation in the wsdl, it would still use the last matched operation.   Digging through this now.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="13764413" author="dkulp" created="Wed, 11 Sep 2013 15:37:15 +0000"  >&lt;p&gt;&lt;br/&gt;
This also allows removal of some hacks found in the ws-addressing and soap binding.  Thanks!&lt;/p&gt;</comment>
                            <comment id="13764476" author="jpangburn" created="Wed, 11 Sep 2013 16:48:00 +0000"  >&lt;p&gt;Awesome!  From the first time I looked at this code for WS-Addressing use, I wondered about this whole dispatchToOperation thing.  Why not just set the operation itself?  I assumed there was a complicated reason and left it alone.  Great to see you felt like it could just be ripped out altogether!  Good riddance hacks.&lt;/p&gt;</comment>
                            <comment id="13766391" author="asoldano" created="Fri, 13 Sep 2013 10:44:25 +0000"  >&lt;p&gt;I&apos;m sorry Dan, but the commit at &lt;a href=&quot;https://fisheye6.atlassian.com/changelog/cxf?cs=1521906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/changelog/cxf?cs=1521906&lt;/a&gt; is causing a regression here when using a Dispatch instance created from an EPR and with addressing enabled (payload mode).&lt;br/&gt;
When calling dispatch.invoke(Source) a source with different contents &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is returned depending on addressing being on or off, while the response message on the wire is the same.&lt;br/&gt;
When calling dispatch.invoke(Object) (hence using JAXB) a jaxb exception &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; is thrown during unmarshalling when addressing is enabled. Again, same response messages on the wire with addressing on and off.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; looks like the tags of the response wrapper are stripped off&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jbossws.jboss.org:8180/hudson/job/CXF-CORE-AS-8.0.0-SUN-JDK-6/246/testReport/org.jboss.test.ws.jaxws.jbws2937/JBWS2937TestCase/testCreateDispatchUsingEPRAndJAXBContext/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jbossws.jboss.org:8180/hudson/job/CXF-CORE-AS-8.0.0-SUN-JDK-6/246/testReport/org.jboss.test.ws.jaxws.jbws2937/JBWS2937TestCase/testCreateDispatchUsingEPRAndJAXBContext/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13766615" author="dkulp" created="Fri, 13 Sep 2013 16:42:56 +0000"  >&lt;p&gt;New fix committed.  Verified by Alessio.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602509" name="DispatchImpl.java.patch" size="657" author="jpangburn" created="Wed, 11 Sep 2013 03:30:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nzof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>