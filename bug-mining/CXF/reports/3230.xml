<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:30:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7623] AsynchHTTPConduit setupConnection - timeout settings</title>
                <link>https://issues.apache.org/jira/browse/CXF-7623</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Class AsynchHTTPConduit method setupConnection(). Codeblock:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
RequestConfig.Builder b = RequestConfig.custom()
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .setConnectTimeout((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) csPolicy.getConnectionTimeout())
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .setSocketTimeout((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) csPolicy.getReceiveTimeout())
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .setConnectionRequestTimeout((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) csPolicy.getReceiveTimeout());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Line &lt;b&gt;setConnectionRequestTimeout((int) csPolicy.getReceiveTimeout())&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Settings of request timeout with receive timeout is not backward compatible solution. In addition the receive timeout is in many times to long. Better way is set the &lt;b&gt;request timeout by connection timeout&lt;/b&gt; instead of it. It is still compromis solution.&lt;/p&gt;

&lt;p&gt;HTTPClientPolicy object still doesn&apos;t contain request timeout. Think about extension of domain objects about request timeout which is already used in pools etc.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13133685">CXF-7623</key>
            <summary>AsynchHTTPConduit setupConnection - timeout settings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="raven2cz">Antonin Fischer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jan 2018 13:57:42 +0000</created>
                <updated>Wed, 7 Feb 2018 14:52:10 +0000</updated>
                            <resolved>Thu, 1 Feb 2018 06:40:27 +0000</resolved>
                                                    <fixVersion>3.2.2</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16342581" author="deki" created="Sun, 28 Jan 2018 14:21:53 +0000"  >&lt;p&gt;This has been merged as part of a PR&#160;&lt;a href=&quot;https://github.com/apache/cxf/pull/190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/190&lt;/a&gt; as fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7122&quot; title=&quot;Infinite loop due to AsyncHTTPConduit read timeout with exhausted connection pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7122&quot;&gt;&lt;del&gt;CXF-7122&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=willymontaz&quot; class=&quot;user-hover&quot; rel=&quot;willymontaz&quot;&gt;willymontaz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ffang&quot; class=&quot;user-hover&quot; rel=&quot;ffang&quot;&gt;ffang&lt;/a&gt; can you please take a look?&lt;/p&gt;</comment>
                            <comment id="16342620" author="raven2cz" created="Sun, 28 Jan 2018 15:57:23 +0000"  >&lt;p&gt;&lt;b&gt;Fixes&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fix socket timeout and connection request timeout from AsyncHTTPClient&lt;/li&gt;
	&lt;li&gt;Fix AsyncHTTPConduit read timeout with exhausted connection pool&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These changes are important for correct working of read timeout if the pool is busy. The corrections are ok, but it brings incompatible problems with previous timeouts. There is just one problem - the attachment of &lt;b&gt;RECEIVE&lt;/b&gt;&#160;timeout as Request timeout:&lt;br/&gt;
.setConnectionRequestTimeout((int) csPolicy.getReceiveTimeout());&lt;br/&gt;
The receive timeout is alwayss the bigger number and it is not correct to use receive timeout for request timeout which is about waiting to pool.&lt;/p&gt;

&lt;p&gt;There are two solutions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Insert the connection timeout instead of receive timeout. This is compromise solution.&lt;/li&gt;
	&lt;li&gt;Extend the csPolicy domain object for new request timeout and handle the request timeout separately. This is best solution.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16343129" author="willymontaz" created="Mon, 29 Jan 2018 09:28:00 +0000"  >&lt;p&gt;Hi, looking at the discussion from the fix I saw this in the comments I wrote - &amp;gt;&lt;/p&gt;

&lt;p&gt;&quot;As you can notice, on version 3.0.5&#160;&lt;a href=&quot;https://github.com/apache/cxf/blob/cxf-3.0.5/rt/transports/http-hc/src/main/java/org/apache/cxf/transport/http/asyncclient/AsyncHTTPConduit.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/cxf-3.0.5/rt/transports/http-hc/src/main/java/org/apache/cxf/transport/http/asyncclient/AsyncHTTPConduit.java&lt;/a&gt;&#160;line 220, the RequestConfig sets a SocketTimeout equals to ReceiveTimeout. &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;In my merge request I propose to set it to ReceiveTimeout too, to stay close to the behavior proposed by CXF. But we could actually set a new property to distinguish both.&quot;&lt;/p&gt;

&lt;p&gt;So I guess you can move to an extension to csPolicy and just make sure behavior is coherent on he whole stack. Sorry but I can&apos;t go deeper into the topic &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, it&apos;s been a long time and the issue fixed was not a trivial one&#160;&lt;/p&gt;</comment>
                            <comment id="16343141" author="ffang" created="Mon, 29 Jan 2018 09:43:54 +0000"  >&lt;p&gt;extend HTTPClientPolicy to support ConnectionRequestTimeout seems more reasonable.&lt;/p&gt;

&lt;p&gt;Let me see what we can do here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13017284">CXF-7122</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3pcun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>