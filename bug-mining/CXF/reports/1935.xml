<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:03:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5226] OAuth public clients don&apos;t appear to work in RedirectionGrantServices</title>
                <link>https://issues.apache.org/jira/browse/CXF-5226</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I believe there is an issue when using a redirect grant service using a public client.&lt;/p&gt;

&lt;p&gt;My concern is the negation in front of the &lt;em&gt;canSupportPublicClient&lt;/em&gt; which passes this value to the &lt;em&gt;OAuthUtils.isGrantSupportedForClient&lt;/em&gt; as if it had not been negated.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!OAuthUtils.isGrantSupportedForClient(client, !canSupportPublicClient(client), supportedGrantType)) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; createErrorResponse(params, redirectUri, OAuthConstants.UNAUTHORIZED_CLIENT);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;org.apache.cxf.rs.security.oauth2.services.startAuthorization()&lt;/p&gt;

&lt;p&gt;This method then checks for a logical condition like, is public client and provider cannot support public clients. Instead, the logic of the condition reads, if public client and provider can support public client, then throw exception.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isGrantSupportedForClient(Client client, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; canSupportPublicClients, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; grantType) {
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!client.isConfidential() &amp;amp;&amp;amp; !canSupportPublicClients) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;org.apache.cxf.rs.security.oauth2.utils.OAuthUtils.isGrantSupportedForClient()&lt;/p&gt;

&lt;p&gt;So believe this to be a bug and I wanted to submit this for your consideration.&lt;/p&gt;

&lt;p&gt;Another note is that AccessTokenService approaches this differently and doesn&apos;t seem to start with a negation:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!OAuthUtils.isGrantSupportedForClient(client, isCanSupportPublicClients(), params.getFirst(OAuthConstants.GRANT_TYPE))) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; createErrorResponse(params, OAuthConstants.UNAUTHORIZED_CLIENT);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;org.apache.cxf.rs.security.oauth2.services.AccessTokenService.handleTokenRequest()&lt;/p&gt;

&lt;p&gt;P.S. First time logging an issue so apologies if I filled out any fields incorrectly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12665050">CXF-5226</key>
            <summary>OAuth public clients don&apos;t appear to work in RedirectionGrantServices</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="diarmuid.power">Diarmuid Power</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2013 14:39:39 +0000</created>
                <updated>Fri, 27 Sep 2013 18:18:13 +0000</updated>
                            <resolved>Mon, 26 Aug 2013 12:07:44 +0000</resolved>
                                    <version>2.7.6</version>
                                    <fixVersion>2.6.10</fixVersion>
                    <fixVersion>2.7.7</fixVersion>
                    <fixVersion>3.0.0-milestone1</fixVersion>
                                    <component>JAX-RS Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13747769" author="sergey_beryozkin" created="Thu, 22 Aug 2013 18:53:18 +0000"  >&lt;p&gt;Hi, thanks for reporting the issue and investigating the cause of the problem. I only prototyped the initial code for supporting the public clients, with the idea to work on a demo at some later stage and tighten things up, so I guess the related code is brittle. I&apos;ll investigate further, thanks&lt;/p&gt;</comment>
                            <comment id="13750036" author="sergey_beryozkin" created="Mon, 26 Aug 2013 12:07:44 +0000"  >&lt;p&gt;Fixed, thanks&lt;/p&gt;</comment>
                            <comment id="13750037" author="sergey_beryozkin" created="Mon, 26 Aug 2013 12:11:01 +0000"  >&lt;p&gt;The temp workaround is to override this method and negate the super response, just to play along with the buggy RedirectionBasedGrantService code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13751162" author="diarmuid.power" created="Tue, 27 Aug 2013 10:30:41 +0000"  >&lt;p&gt;Good suggestion, I am already doing that. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for the quick resolution on this, it is appreciated!&lt;/p&gt;</comment>
                            <comment id="13752295" author="sergey_beryozkin" created="Wed, 28 Aug 2013 10:56:51 +0000"  >&lt;p&gt;I&apos;ve learned that public clients can also have redirect uris (such as native applications on iOS smartphones, etc), but at the moment the code assumes the public clients can have no redirect uris, I&apos;m going to relax it a bit, if a public client has registered a redirect uri then it will be supported  &lt;/p&gt;</comment>
                            <comment id="13752581" author="sergey_beryozkin" created="Wed, 28 Aug 2013 17:05:24 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5239&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-5239&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nhr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>