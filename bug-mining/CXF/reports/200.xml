<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:36:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2021] SOAPFault detail is not set in WebServiceException/SOAPFaultException that is thrown from dispatch.invoke</title>
                <link>https://issues.apache.org/jira/browse/CXF-2021</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m using the dispatch mechanism to invoke a soap service in message mode.&lt;/p&gt;

&lt;p&gt;Upon catching the WebServiceException thrown by the dispatch.invoke method, i try to extract the soap fault information from it (if it is a SOAPFaultException). That&apos;s when i realized the SOAPFault detail is missing (is null). The code i&apos;m using is shown below. Also shown is the returned soap fault with detail when the same service is called using SOAPUI.&lt;/p&gt;

&lt;p&gt;It appears the SOAPFault detail is not set when it is wrapped into a SOAPFaultException and thrown as a WebServiceException.&lt;/p&gt;

&lt;p&gt;        //It appears that the JAX-WS implementation in &lt;br/&gt;
	//cxf simply does not set the optional SOAPFault Detail object &lt;br/&gt;
	//in the SOAPFault object wrapped by the SOAPFaultException&lt;br/&gt;
        private SOAPMessage createFaultMessageFromWebServiceException(WebServiceException wse) throws SOAPException {&lt;br/&gt;
		SOAPMessage msg = getNewSOAPMessage();&lt;br/&gt;
		if (wse instanceof SOAPFaultException) &lt;/p&gt;
{
			SOAPFault fault = ((SOAPFaultException) wse).getFault();
                        //fault.hasDetail() return false
			msg.getSOAPBody().addFault(fault.getFaultCodeAsQName(), fault.getFaultString());
		}
&lt;p&gt; else &lt;/p&gt;
{
			msg.getSOAPBody().addFault().setFaultString(wse.getMessage());
		}
&lt;p&gt;		return msg;&lt;br/&gt;
	}&lt;/p&gt;

&lt;p&gt;The same service invoked through SOAPUI returns SOAPFault message with detail.&lt;/p&gt;

&lt;p&gt;&amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;soap:Body&amp;gt;&lt;br/&gt;
      &amp;lt;soap:Fault&amp;gt;&lt;br/&gt;
         &amp;lt;faultcode&amp;gt;soap:Server&amp;lt;/faultcode&amp;gt;&lt;br/&gt;
         &amp;lt;faultstring&amp;gt;Fault occurred while processing.&amp;lt;/faultstring&amp;gt;&lt;br/&gt;
         &amp;lt;detail&amp;gt;&lt;br/&gt;
            &amp;lt;ns8:apiFault errorCode=&quot;item not found&quot; objectName=&quot;0&quot; objectType=&quot;categoryset&quot; .../&amp;gt;&lt;br/&gt;
         &amp;lt;/detail&amp;gt;&lt;br/&gt;
      &amp;lt;/soap:Fault&amp;gt;&lt;br/&gt;
   &amp;lt;/soap:Body&amp;gt;&lt;br/&gt;
&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Jdk 1.5, tomacat 5.5.&lt;/p&gt;</environment>
        <key id="12413923">CXF-2021</key>
            <summary>SOAPFault detail is not set in WebServiceException/SOAPFaultException that is thrown from dispatch.invoke</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="yfei">Yunfeng Fei</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Feb 2009 18:51:17 +0000</created>
                <updated>Mon, 9 Feb 2009 22:20:18 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 17:23:33 +0000</resolved>
                                    <version>2.1.3</version>
                                    <fixVersion>2.1.4</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>50347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1adi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>