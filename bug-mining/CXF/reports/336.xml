<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:38:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2357] The equals() method of JCA connection handle always return false.  </title>
                <link>https://issues.apache.org/jira/browse/CXF-2357</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The symptom of this problem is that JCA outbound requests fail on every other call when the JCA connection is invoked inside an EJB running in WebSphere 6.1.0.23.   But, invoking JCA connection inside a serlvet is not a problem.  The error reported by WebSphere is as follow.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;7/16/09 18:01:26:852 EDT&amp;#93;&lt;/span&gt; 00000024 MCWrapper     E   J2CA0079E: Method getNoTransactionWrapper has detected an internal illegal state and is throwing an IllegalStateException. The exception is: java.lang.IllegalStateException: getNoTransactionWrapper: illegal state exception. State = STATE_ACTIVE_FREE&lt;br/&gt;
	at com.ibm.ejs.j2c.MCWrapper.getNoTransactionWrapper(MCWrapper.java:1060)&lt;br/&gt;
	at com.ibm.ejs.j2c.ConnectionManager.initializeForUOW(ConnectionManager.java:1146)&lt;br/&gt;
	at com.ibm.ejs.j2c.ConnectionManager.reAssociate(ConnectionManager.java:1421)&lt;br/&gt;
	at com.ibm.ejs.j2c.HandleList.reAssociate(HandleList.java:361)&lt;br/&gt;
	at com.ibm.ejs.j2c.HandleCollaborator.preInvoke(HandleCollaborator.java:76)&lt;br/&gt;
	at com.ibm.ejs.container.StatelessBeanO.preInvoke(StatelessBeanO.java:382)&lt;br/&gt;
	at com.ibm.ejs.container.EJSContainer.preInvokeActivate(EJSContainer.java:3465)&lt;br/&gt;
	at com.ibm.ejs.container.EJSContainer.preInvoke(EJSContainer.java:2839)&lt;br/&gt;
	at demo.ejb.EJSRemoteStatelessTestEJB_b3bd2fe8.getResponseFromWebService(Unknown Source)&lt;br/&gt;
	at demo.ejb._TestEJB_Stub.getResponseFromWebService(_TestEJB_Stub.java:307)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.callEJB(HelloWorldServlet.java:82)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.writeMainBody(HelloWorldServlet.java:95)&lt;br/&gt;
	at demo.servlet.DemoServletBase.writeBody(Unknown Source)&lt;br/&gt;
	at demo.servlet.DemoServletBase.doGet(Unknown Source)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.doGet(HelloWorldServlet.java:52)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:743)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:966)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)&lt;br/&gt;
	at com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:463)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:92)&lt;br/&gt;
	at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:744)&lt;br/&gt;
	at com.ibm.ws.wswebcontainer.WebContainer.handleRequest(WebContainer.java:1425)&lt;br/&gt;
	at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:92)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:465)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:394)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:274)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.requestComplete(WorkQueueManager.java:556)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:606)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.workerRun(WorkQueueManager.java:979)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager$Worker.run(WorkQueueManager.java:1064)&lt;br/&gt;
	at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1498)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;7/16/09 18:01:26:953 EDT&amp;#93;&lt;/span&gt; 00000024 HandleList    W   PARK_OR_REASSOCIATE_FAILED_W_J2CA0083&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;7/16/09 18:01:27:005 EDT&amp;#93;&lt;/span&gt; 00000024 ExceptionUtil E   CNTR0020E: EJB threw an unexpected (non-declared) exception during invocation of method &quot;getResponseFromWebService&quot; on bean &quot;BeanId(HelloWorldEAR#helloworld-ejb.jar#TestEJB, null)&quot;. Exception data: java.rmi.RemoteException: ; nested exception is: &lt;br/&gt;
	javax.resource.ResourceException: Reassociate call Failed&lt;br/&gt;
	at com.ibm.ejs.container.StatelessBeanO.preInvoke(StatelessBeanO.java:385)&lt;br/&gt;
	at com.ibm.ejs.container.EJSContainer.preInvokeActivate(EJSContainer.java:3465)&lt;br/&gt;
	at com.ibm.ejs.container.EJSContainer.preInvoke(EJSContainer.java:2839)&lt;br/&gt;
	at demo.ejb.EJSRemoteStatelessTestEJB_b3bd2fe8.getResponseFromWebService(Unknown Source)&lt;br/&gt;
	at demo.ejb._TestEJB_Stub.getResponseFromWebService(_TestEJB_Stub.java:307)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.callEJB(HelloWorldServlet.java:82)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.writeMainBody(HelloWorldServlet.java:95)&lt;br/&gt;
	at demo.servlet.DemoServletBase.writeBody(Unknown Source)&lt;br/&gt;
	at demo.servlet.DemoServletBase.doGet(Unknown Source)&lt;br/&gt;
	at demo.servlet.HelloWorldServlet.doGet(HelloWorldServlet.java:52)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:743)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:966)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)&lt;br/&gt;
	at com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:463)&lt;br/&gt;
	at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:92)&lt;br/&gt;
	at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:744)&lt;br/&gt;
	at com.ibm.ws.wswebcontainer.WebContainer.handleRequest(WebContainer.java:1425)&lt;br/&gt;
	at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:92)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:465)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation(HttpInboundLink.java:394)&lt;br/&gt;
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:274)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.requestComplete(WorkQueueManager.java:556)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:606)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager.workerRun(WorkQueueManager.java:979)&lt;br/&gt;
	at com.ibm.ws.tcp.channel.impl.WorkQueueManager$Worker.run(WorkQueueManager.java:1064)&lt;br/&gt;
	at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1498)&lt;br/&gt;
Caused by: javax.resource.ResourceException: Reassociate call Failed&lt;br/&gt;
	at com.ibm.ejs.j2c.HandleList.reAssociate(HandleList.java:395)&lt;br/&gt;
	at com.ibm.ejs.j2c.HandleCollaborator.preInvoke(HandleCollaborator.java:76)&lt;br/&gt;
	at com.ibm.ejs.container.StatelessBeanO.preInvoke(StatelessBeanO.java:382)&lt;br/&gt;
	... 28 more&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Websphere 6.1.0.23.  &lt;/p&gt;</environment>
        <key id="12431370">CXF-2357</key>
            <summary>The equals() method of JCA connection handle always return false.  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wtam">William Tam</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jul 2009 14:09:39 +0000</created>
                <updated>Mon, 3 Aug 2009 20:07:05 +0000</updated>
                            <resolved>Fri, 24 Jul 2009 15:26:02 +0000</resolved>
                                                    <fixVersion>2.0.12</fixVersion>
                    <fixVersion>2.1.6</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12735063" author="wtam" created="Fri, 24 Jul 2009 14:19:11 +0000"  >&lt;p&gt;The issue has to do with closing the connection handle.  When the JCA connector fires a ConnectionEvent.CONNECTION_CLOSED event, Websphere connection pool tries to match a handle from connection pool to perform close().  As a result, the equals() method on the handle will get called.  There is a bug in the connection handle&apos;s proxy invocation handler that causes the close() to always return false.&lt;/p&gt;</comment>
                            <comment id="12735065" author="wtam" created="Fri, 24 Jul 2009 14:22:53 +0000"  >&lt;p&gt;The attached patch fixes the issue and includes a unit test.   It also fixes another issue that ConnectionEvent.CONNECTION_CLOSED was not fired every time a handle is closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414450" name="CXF-2357.patch" size="5548" author="wtam" created="Fri, 24 Jul 2009 14:39:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v0lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>