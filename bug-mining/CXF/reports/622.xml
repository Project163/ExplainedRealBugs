<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:42:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2841] WS-RM returns an exception to the client even when its retry mechanim successfully delivers the message after some transmission error</title>
                <link>https://issues.apache.org/jira/browse/CXF-2841</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;This problem can be easily reproduced in the CXF&apos;s ws-rm demo sample.&lt;/p&gt;

&lt;p&gt;When the target server is available at the createSequence step but becomes unavailable before the application message transmission, the retransmission of this message is performed by another thread until the message is delivered according to the policy, but the original client thread is getting the ConnectException while the retransmission is taking place in background. So in this case, the client gets the exception but the message can be successfully delivered to the target system when the target server becomes available.&lt;/p&gt;

&lt;p&gt;When the WS-RM feature is engaged and retransmission of the message is taken care by its runtime, the temporary exception should not be returned to the client.&lt;/p&gt;

&lt;p&gt;One way to fix this issue would be to make the RetransmissionInterceptor&apos;s fault handling method clear the exception object  which is set in the message by the PhaseInterceptorChain&apos;s doInterceptor method. &lt;/p&gt;

&lt;p&gt;Concretely, adding the following code in org.apache.cxf.ws.rm.RetransmissionInterceptor&apos;s handle method seems to fix this issue.&lt;/p&gt;

&lt;p&gt;       ...&lt;br/&gt;
       if (isFault) &lt;/p&gt;
{
           // remove the exception set by the PhaseInterceptorChain
so that the error does not reach the client
           // when retransmission is scheduled
           message.setContent(Exception.class, null);
           message.getExchange().put(Exception.class, null);
       }
&lt;p&gt;       else &lt;/p&gt;
{
           WriteOnCloseOutputStrea ...
           ...
       }


&lt;p&gt;Regards, Aki&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK 1.6.0_16, Windows XP&lt;/p&gt;</environment>
        <key id="12466579">CXF-2841</key>
            <summary>WS-RM returns an exception to the client even when its retry mechanim successfully delivers the message after some transmission error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="ay">Akitoshi Yoshida</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jun 2010 16:15:40 +0000</created>
                <updated>Mon, 11 Oct 2010 14:52:42 +0000</updated>
                            <resolved>Fri, 18 Jun 2010 18:44:56 +0000</resolved>
                                    <version>2.2.7</version>
                    <version>2.2.8</version>
                    <version>2.2.9</version>
                                    <fixVersion>2.2.10</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12880279" author="dkulp" created="Fri, 18 Jun 2010 18:44:56 +0000"  >
&lt;p&gt;Patch applied.  Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v06f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>