<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:00:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4949] FIQL - searchContext returns null SearchCondition</title>
                <link>https://issues.apache.org/jira/browse/CXF-4949</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I&apos;m trying the fiql expression for the first time, and I get null searchCondition. But when i print the searchContext.getSearchExpression(), it seems to have parsed the query param fine with: lowestPrice=gt=10&lt;/p&gt;

&lt;p&gt;SearchCondition&amp;lt;TourTicketStats&amp;gt; sc = searchContext.getCondition(filterContext.getSearchExpression(), TourTicketStats.class);&lt;/p&gt;

&lt;p&gt;I&apos;m atleast expecting some kind of exception raised if it&apos;s not able to parse it. &lt;/p&gt;

&lt;p&gt;Any help to debug it is appreciated.&lt;/p&gt;

&lt;p&gt;Using v2.6.6&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641066">CXF-4949</key>
            <summary>FIQL - searchContext returns null SearchCondition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="swarupe04">Swarup</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Apr 2013 16:32:01 +0000</created>
                <updated>Fri, 11 Jul 2014 12:50:58 +0000</updated>
                            <resolved>Thu, 16 Jan 2014 14:08:49 +0000</resolved>
                                    <version>2.6.6</version>
                                    <fixVersion>2.6.12</fixVersion>
                    <fixVersion>2.7.9</fixVersion>
                    <fixVersion>3.0.0-milestone2</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13623828" author="swarupe04" created="Fri, 5 Apr 2013 17:37:45 +0000"  >&lt;p&gt;It seems to be case-insensitive. If I use lowestprice, it seems to recognize the property name even though property name is in camelcase: lowestPrice.&lt;/p&gt;

&lt;p&gt;Is that a bug?&lt;/p&gt;</comment>
                            <comment id="13623963" author="sergey_beryozkin" created="Fri, 5 Apr 2013 19:12:15 +0000"  >&lt;p&gt;SearchCondition&amp;lt;TourTicketStats&amp;gt; sc = searchContext.getCondition(TourTicketStats.class);&lt;/p&gt;

&lt;p&gt;should actually do it:&lt;/p&gt;

&lt;p&gt;SearchCondition&amp;lt;TourTicketStats&amp;gt; sc = searchContext.getCondition(someExpression, TourTicketStats.class);&lt;/p&gt;

&lt;p&gt;really makes sense when this &apos;someExpression&apos; came from say a captured path expression (as opposed to from a _s query). etc&lt;/p&gt;

&lt;p&gt;I&apos;ll have a look at the case-sensitivity issue either way&lt;/p&gt;</comment>
                            <comment id="13623970" author="swarupe04" created="Fri, 5 Apr 2013 19:18:51 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I&apos;m actually using it as @Context, but I&apos;ve also verified with searchContext.getCondition(someExpression, TourTicketStats.class) just to make sure and it was same issue.&lt;/p&gt;

&lt;p&gt;Yeah, it does seem to be case-sensitivity issue&lt;/p&gt;</comment>
                            <comment id="13623997" author="sergey_beryozkin" created="Fri, 5 Apr 2013 19:50:57 +0000"  >&lt;p&gt;As far as I recall, Beanspector converts the property names to a low case; this can explain why the query with a property containing a camel case is not matched - this should always work I guess. &lt;br/&gt;
FYI, you can always follow &lt;a href=&quot;http://cxf.apache.org/docs/jax-rs-search.html#JAX-RSSearch-Mappingofquerypropertiestobeanproperties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/jax-rs-search.html#JAX-RSSearch-Mappingofquerypropertiestobeanproperties&lt;/a&gt; to get the match, but in this case it is redundant indeed   &lt;/p&gt;</comment>
                            <comment id="13682219" author="nikosdim" created="Thu, 13 Jun 2013 13:05:59 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I am trying to implement FIQL into my CXF service but I am getting java.lang.NullPointerException in the line &lt;br/&gt;
SearchCondition&amp;lt;Book&amp;gt; condition = searchContext.getCondition(Book.class);&lt;/p&gt;

&lt;p&gt;I am injecting the searchContext with the way below:&lt;/p&gt;

&lt;p&gt;public List&amp;lt;Book&amp;gt; getBook(@Context SearchContext searchContext)&lt;/p&gt;

&lt;p&gt;I have read both the &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-4305&quot; title=&quot;FIQL only gives nullpointerexception. @Context SearchContext does not seem to work.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-4305&quot;&gt;&lt;del&gt;CXF-4305&lt;/del&gt;&lt;/a&gt; and (apparently) the &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-4949&quot; title=&quot;FIQL - searchContext returns null SearchCondition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-4949&quot;&gt;&lt;del&gt;CXF-4949&lt;/del&gt;&lt;/a&gt; but I haven&apos;t manage to solve it. I am using cxf 2.7.5 (which is supposed to have this bug fixed). I am importing the CXF .jar files from maven pom.xml&lt;/p&gt;

&lt;p&gt;Here are my pom.xml dependencies&lt;br/&gt;
cxf-rt-frontend-jaxrs:2.7.5&lt;br/&gt;
cxf-rt-rs.extension-providers:2.7.5&lt;br/&gt;
spring-core:3.2.2.RELEASE&lt;br/&gt;
spring-context:3.2.2.RELEASE&lt;br/&gt;
spring-web:3.2.2.RELEASE&lt;br/&gt;
cxf-rt-rs-extension-search:2.7.5&lt;/p&gt;

&lt;p&gt;Any ideas?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13682314" author="sergey_beryozkin" created="Thu, 13 Jun 2013 14:58:22 +0000"  >&lt;p&gt;I think you need to register &quot;org.apache.cxf.jaxrs.ext.search.SerachContextProvider&quot; in jaxrs:providers, try it please&lt;/p&gt;</comment>
                            <comment id="13683161" author="nikosdim" created="Fri, 14 Jun 2013 07:26:39 +0000"  >&lt;p&gt;Thanks so much Sergey. That was it. Now it works fine.  &lt;/p&gt;</comment>
                            <comment id="13871624" author="sandysoesilo" created="Wed, 15 Jan 2014 04:20:18 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
since Beanspector is converting everything that I put in the search parameter into lower case, I&apos;m forced not to have camelCase properties in my entities. My properties must be named with lowercase only. &lt;br/&gt;
Is this a desirable situation? &lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="13871970" author="sergey_beryozkin" created="Wed, 15 Jan 2014 11:59:06 +0000"  >&lt;p&gt;Hi, can you type an example here ? I think we have tests with entities having camel case properties&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13872979" author="sandysoesilo" created="Thu, 16 Jan 2014 02:29:25 +0000"  >&lt;p&gt;Hi Sergey,&lt;br/&gt;
in my entity I have a camelCase property &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Column(name=&lt;span class=&quot;code-quote&quot;&gt;&quot;PHONENO&quot;&lt;/span&gt;, length=30, nullable=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; phoneNumber;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;with following call in the browser /customers?_s=phoneNumber==12345&lt;/p&gt;

&lt;p&gt;I&apos;m using JPATypedQueryVisitor  and he was unable to match the getters/setters for this property since it&apos;s been lowercased from the beginning.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Caused by: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name &lt;span class=&quot;error&quot;&gt;&amp;#91;phonenumber&amp;#93;&lt;/span&gt; on this ManagedType &lt;span class=&quot;error&quot;&gt;&amp;#91;domain.AbstractEntity&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.jpa.internal.metamodel.AbstractManagedType.checkNotNull(AbstractManagedType.java:144)&lt;br/&gt;
	at org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:130)&lt;br/&gt;
	at org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:128)&lt;br/&gt;
	at org.hibernate.jpa.criteria.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:133)&lt;br/&gt;
	at org.hibernate.jpa.criteria.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:212)&lt;br/&gt;
	at org.hibernate.jpa.criteria.path.AbstractPathImpl.get(AbstractPathImpl.java:185)&lt;br/&gt;
	at org.apache.cxf.jaxrs.ext.search.jpa.AbstractJPATypedQueryVisitor.getNextPath(AbstractJPATypedQueryVisitor.java:287)&lt;br/&gt;
	at org.apache.cxf.jaxrs.ext.search.jpa.AbstractJPATypedQueryVisitor.getPath(AbstractJPATypedQueryVisitor.java:278)&lt;br/&gt;
	at org.apache.cxf.jaxrs.ext.search.jpa.AbstractJPATypedQueryVisitor.buildPredicate(AbstractJPATypedQueryVisitor.java:178)&lt;br/&gt;
	at org.apache.cxf.jaxrs.ext.search.jpa.AbstractJPATypedQueryVisitor.visit(AbstractJPATypedQueryVisitor.java:123)&lt;br/&gt;
	at org.apache.cxf.jaxrs.ext.search.SimpleSearchCondition.accept(SimpleSearchCondition.java:321)&lt;/p&gt;

&lt;p&gt;	... 47 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Tested with cxf 2.7.8&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;
</comment>
                            <comment id="13873416" author="sergey_beryozkin" created="Thu, 16 Jan 2014 14:08:49 +0000"  >&lt;p&gt;Thanks for this example, JPA test has a bean with several camel case properties but all of them are non primitive properties, and the issue occurs for simple properties apparently. I&apos;d say it is a Hibernate issue, the fact it can match primitive values in a case-insensitive way, but I&apos;ve done some updates to ensure the visitors do see the original search values provided &lt;/p&gt;</comment>
                            <comment id="13873418" author="sergey_beryozkin" created="Thu, 16 Jan 2014 14:10:16 +0000"  >&lt;p&gt;By the way, the workaround is to pass a fieldMap Map property to the visitor, example, it can contain a &quot;phonenumber&quot;:&quot;phoneNumber&quot; mapping&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jgv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>