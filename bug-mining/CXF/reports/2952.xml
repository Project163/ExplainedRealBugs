<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:23:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7185] Xml validation with Mtom enabled is not working with french locale</title>
                <link>https://issues.apache.org/jira/browse/CXF-7185</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Running cxf on a tomcat launched with the jvm argument &quot;-Duser.language=fr&quot;.&lt;br/&gt;
Mtom and schema validation are enabled.&lt;/p&gt;

&lt;p&gt;While sending a soap message, we have this error : &quot;Wrapped by: org.apache.camel.RuntimeCamelException: org.apache.cxf.interceptor.Fault: Marshalling Error: cvc-type.3.1.2 : L&apos;&#233;l&#233;ment &apos;xxx&apos; est de type simple et ne doit comporter aucun enfant (&lt;span class=&quot;error&quot;&gt;&amp;#91;children&amp;#93;&lt;/span&gt;) de type &#233;l&#233;ment d&apos;information.&quot;&lt;/p&gt;

&lt;p&gt;Reason is a lack in the hack allowing validation with mtom enabled in org.apache.cxf.jaxb.io.DataWriterImpl.java.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MtomValidationHandler &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; ValidationEventHandler {
	ValidationEventHandler origHandler;
	JAXBAttachmentMarshaller marshaller;
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MtomValidationHandler(ValidationEventHandler v,
		                     JAXBAttachmentMarshaller m) {
	    origHandler = v;
	    marshaller = m;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; handleEvent(ValidationEvent event) {
	    &lt;span class=&quot;code-comment&quot;&gt;// CXF-1194 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; hack is specific to MTOM, so pretty safe to leave in here before calling the origHandler.
&lt;/span&gt;	    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg = event.getMessage();
	    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (msg.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;cvc-type.3.1.2: &quot;&lt;/span&gt;)
		&amp;amp;&amp;amp; msg.contains(marshaller.getLastMTOMElementName().getLocalPart())) {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
	    }
	    
	    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (origHandler != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; origHandler.handleEvent(event);
	    }
	    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In french, the colon is always separated with a space from the preceding word : &quot;cvc-type.3.1.2 : &quot;&lt;br/&gt;
I would reckon to just not include the colon anymore in the checking. It seams useless according to this documentation : &lt;a href=&quot;https://wiki.xmldation.com/Support/Validator&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.xmldation.com/Support/Validator&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looking quickly on the code, some other hacks should not work in french in the sibling class DataReaderImpl.java.&lt;br/&gt;
I will submit a pull request during the week-end to correct this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028626">CXF-7185</key>
            <summary>Xml validation with Mtom enabled is not working with french locale</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="Kevin Buntrock">Kevin Buntrock</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Dec 2016 09:19:36 +0000</created>
                <updated>Mon, 27 Feb 2017 15:08:25 +0000</updated>
                            <resolved>Thu, 26 Jan 2017 19:25:34 +0000</resolved>
                                    <version>2.7.18</version>
                    <version>3.1.9</version>
                                    <fixVersion>3.1.10</fixVersion>
                                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15801776" author="githubbot" created="Thu, 5 Jan 2017 16:21:48 +0000"  >&lt;p&gt;GitHub user Kevin-Buntrock opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/219&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7185&quot; title=&quot;Xml validation with Mtom enabled is not working with french locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7185&quot;&gt;&lt;del&gt;CXF-7185&lt;/del&gt;&lt;/a&gt; Correct hacks for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3453&quot; title=&quot;WS-Security signed headers fail when schema validation enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3453&quot;&gt;&lt;del&gt;CXF-3453&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1194&quot; title=&quot;Schema Validation &amp;amp; MTOM fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1194&quot;&gt;&lt;del&gt;CXF-1194&lt;/del&gt;&lt;/a&gt; for french local&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7185&quot; title=&quot;Xml validation with Mtom enabled is not working with french locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7185&quot;&gt;&lt;del&gt;CXF-7185&lt;/del&gt;&lt;/a&gt; Correct hacks for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3453&quot; title=&quot;WS-Security signed headers fail when schema validation enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3453&quot;&gt;&lt;del&gt;CXF-3453&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1194&quot; title=&quot;Schema Validation &amp;amp; MTOM fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1194&quot;&gt;&lt;del&gt;CXF-1194&lt;/del&gt;&lt;/a&gt; in order to work with&lt;br/&gt;
    a local set in french&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/Kevin-Buntrock/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Kevin-Buntrock/cxf&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/219.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/219.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #219&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 07b836cf510d1f32a5ab5253d759acb4e56de98e&lt;br/&gt;
Author: K&#233;vin Buntrock &amp;lt;kevin.buntrock@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-01-04T15:10:14Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7185&quot; title=&quot;Xml validation with Mtom enabled is not working with french locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7185&quot;&gt;&lt;del&gt;CXF-7185&lt;/del&gt;&lt;/a&gt; Correct hacks for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3453&quot; title=&quot;WS-Security signed headers fail when schema validation enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3453&quot;&gt;&lt;del&gt;CXF-3453&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1194&quot; title=&quot;Schema Validation &amp;amp; MTOM fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1194&quot;&gt;&lt;del&gt;CXF-1194&lt;/del&gt;&lt;/a&gt; for french local&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7185&quot; title=&quot;Xml validation with Mtom enabled is not working with french locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7185&quot;&gt;&lt;del&gt;CXF-7185&lt;/del&gt;&lt;/a&gt; Correct hacks for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3453&quot; title=&quot;WS-Security signed headers fail when schema validation enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3453&quot;&gt;&lt;del&gt;CXF-3453&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1194&quot; title=&quot;Schema Validation &amp;amp; MTOM fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1194&quot;&gt;&lt;del&gt;CXF-1194&lt;/del&gt;&lt;/a&gt; in order to work with&lt;br/&gt;
    a local set in french&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15840165" author="githubbot" created="Thu, 26 Jan 2017 18:20:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/219&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37olj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>