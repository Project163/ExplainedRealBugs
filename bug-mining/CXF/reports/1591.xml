<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:57:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2704] CXF JAX-RS  &quot;Content-Disposition&quot; is lost for second multipart </title>
                <link>https://issues.apache.org/jira/browse/CXF-2704</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I create a RestFul service for dealing with multiparts:&lt;/p&gt;

&lt;p&gt;Part 1: application/xml(form data) &#61664; Bean in server side&lt;br/&gt;
Part2: application/octet-stream  &#61664; upload file,&lt;/p&gt;

&lt;p&gt;But the &quot;Content-disposition&quot; of the part2 is translated into: key=&quot;ontent-disposition&quot;, so the information about&lt;br/&gt;
        Content-disposition can not be retrieve in server side.&lt;/p&gt;

&lt;p&gt;      I want to find out the filename in the part2, but exception happen for:&lt;/p&gt;



&lt;p&gt;Server side code:&lt;br/&gt;
      Attachment att = atts.get(1);&lt;br/&gt;
      String filename = att.getContentDisposition().getParameter(&quot;filename&quot;);&lt;/p&gt;

&lt;p&gt;Client side code:&lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
import httplib2&lt;/p&gt;

&lt;p&gt;http = httplib2.Http()&lt;br/&gt;
url=&apos;http://ib11b02.lsf.platform.com:9000/webservice/upload&apos;&lt;/p&gt;

&lt;p&gt;body = &quot;&quot;&quot;&lt;br/&gt;
--bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;br/&gt;
Content-Disposition: form-data; name=&apos;data&apos;&lt;br/&gt;
Content-Type: application/xml; charset=US-ASCII&lt;br/&gt;
Content-Transfer-Encoding: 8bit&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos; standalone=&apos;yes&apos;?&amp;gt; &amp;lt;Customer&amp;gt;  &amp;lt;name&amp;gt;Sharon Gao3&amp;lt;/name&amp;gt; &amp;lt;/Customer&amp;gt;&lt;br/&gt;
--bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;br/&gt;
Content-Disposition: form-data; name=&apos;file1&apos;; filename=&apos;genome.jpeg&apos;;&lt;br/&gt;
Content-Type: application/octet-stream&lt;br/&gt;
Content-Transfer-Encoding: UTF-8&lt;br/&gt;
Content-ID: &amp;lt;file1&amp;gt;&lt;/p&gt;

&lt;p&gt;PGh0bWw+CiAgPGhlYWQ+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPHA+VGhpcyBpcyB0aGUg&lt;br/&gt;
Ym9keSBvZiB0aGUgbWVzc2FnZS48L3A+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==&lt;/p&gt;

&lt;p&gt;-&lt;del&gt;bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;/del&gt;-&lt;br/&gt;
&quot;&quot;&quot;&lt;/p&gt;

&lt;p&gt;headers = &lt;/p&gt;
{&apos;Content-Type&apos;: &apos;multipart/mixed; boundary=bqJky99mlBWa-ZuqjC53mG6EzbmlxB&apos;,
            &apos;Content-Length&apos;: str(len(body))}
&lt;p&gt;response, content = http.request(url, &apos;POST&apos;, body=body, headers=headers)&lt;/p&gt;</description>
                <environment>&lt;p&gt;deploy Restful service enhanced based on the sample: &quot;jaxrs basic&quot; in tomcat, &lt;br/&gt;
client: python 2.6 + httplib2&lt;/p&gt;</environment>
        <key id="12458701">CXF-2704</key>
            <summary>CXF JAX-RS  &quot;Content-Disposition&quot; is lost for second multipart </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="georgegao_cxf">George Gao</reporter>
                        <labels>
                            <label>Content-disposition</label>
                    </labels>
                <created>Wed, 10 Mar 2010 19:14:22 +0000</created>
                <updated>Mon, 11 Oct 2010 14:45:03 +0000</updated>
                            <resolved>Fri, 9 Jul 2010 20:37:10 +0000</resolved>
                                    <version>2.2.6</version>
                                    <fixVersion>2.2.10</fixVersion>
                    <fixVersion>2.3</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12844501" author="sergey_beryozkin" created="Fri, 12 Mar 2010 13:56:49 +0000"  >&lt;p&gt;Hi, I&apos;ve had a chance to look into this issue, here is what goes on the wire :&lt;/p&gt;

&lt;p&gt;POST /bookstore/books/formbody2 HTTP/1.1&lt;br/&gt;
Content-Type: multipart/form-data; type=&quot;text/xml&quot;; start=&quot;rootPart&quot;; boundary=&quot;bqJky99mlBWa-ZuqjC53mG6EzbmlxB&quot;&lt;br/&gt;
User-Agent: Jakarta Commons-HttpClient/3.1&lt;br/&gt;
Host: localhost:9086&lt;br/&gt;
Content-Length: 644&lt;/p&gt;


&lt;p&gt;--bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;br/&gt;
Content-Disposition: form-data; name=&apos;data&apos;&lt;br/&gt;
Content-Type: application/xml; charset=US-ASCII&lt;br/&gt;
Content-Transfer-Encoding: 8bit&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos; standalone=&apos;yes&apos;?&amp;gt; &amp;lt;Customer&amp;gt; &amp;lt;name&amp;gt;Sharon Gao3&amp;lt;/name&amp;gt; &amp;lt;/Customer&amp;gt;&lt;br/&gt;
--bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;br/&gt;
Content-Disposition: form-data; name=&apos;file1&apos;; filename=&apos;genome.jpeg&apos;;&lt;br/&gt;
Content-Type: application/octet-stream&lt;br/&gt;
Content-Transfer-Encoding: UTF-8&lt;br/&gt;
Content-ID: &amp;lt;file1&amp;gt;&lt;/p&gt;

&lt;p&gt;PGh0bWw+CiAgPGhlYWQ+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPHA+VGhpcyBpcyB0aGUg&lt;br/&gt;
Ym9keSBvZiB0aGUgbWVzc2FnZS48L3A+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==&lt;br/&gt;
-&lt;del&gt;bqJky99mlBWa-ZuqjC53mG6EzbmlxB&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;And I have no problems with displaying the Content-Disposition values from the 2nd part.&lt;/p&gt;


&lt;p&gt;Can you please give me a favor and capture what client sends on the wire by using one of the TCP trace utilities and &lt;b&gt;attach&lt;/b&gt; it to this JIRA ? &lt;br/&gt;
I&apos;m wondering, may be you have some symbol like \n missing between the 2nd boundary and its content (that is you have \r) only ?&lt;/p&gt;

&lt;p&gt;thanks, Sergey &lt;/p&gt;</comment>
                            <comment id="12846427" author="sergey_beryozkin" created="Wed, 17 Mar 2010 14:27:00 +0000"  >&lt;p&gt;George, can I close this issue ?&lt;/p&gt;</comment>
                            <comment id="12846436" author="georgegao_cxf" created="Wed, 17 Mar 2010 14:50:32 +0000"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;Thanks for your reply. The issue is in my client side.&lt;/p&gt;

&lt;p&gt;I have resolved the issue by adding &quot;\n&quot;.  you can close it now,&lt;/p&gt;

&lt;p&gt;--George&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uy6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>178678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>