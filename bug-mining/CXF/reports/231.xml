<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:36:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2076] InstantiationException trying to create wrapper object when using xmlbeans databinding</title>
                <link>https://issues.apache.org/jira/browse/CXF-2076</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I have modified the wsdl_first sample to use the xmlbeans databinding.  Xmlbeans is generating both an interface and a concrete type for each of the types defined in my wsdl. This is causing a problem with CXF as its using the interface rather than the impl to instantiate request and response wrapper classes. &lt;/p&gt;

&lt;p&gt;This results in the stack below which shows the InstantiationException.  Note the type is org.apache.helloWorldSoapHttp.types.SayHiDocument - I think it should be .. org.apache.helloWorldSoapHttp.types.impl.SayHiDocumentImpl ?&lt;/p&gt;

&lt;p&gt;INFO: Interceptor has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault: org.apache.helloWorldSoapHttp.types.SayHiDocument&lt;br/&gt;
	at org.apache.cxf.jaxws.interceptors.WrapperClassOutInterceptor.handleMessage(WrapperClassOutInterceptor.java:116)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:469)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:299)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:251)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:123)&lt;br/&gt;
	at $Proxy69.sayHi(Unknown Source)&lt;br/&gt;
	at demo.hw.client.Client.main(Client.java:71)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:290)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: org.apache.cxf.interceptor.Fault: org.apache.helloWorldSoapHttp.types.SayHiDocument&lt;br/&gt;
	at org.apache.cxf.jaxws.interceptors.WrapperHelper$ReflectWrapperHelper.createWrapperObject(WrapperHelper.java:312)&lt;br/&gt;
	at org.apache.cxf.jaxws.interceptors.WrapperClassOutInterceptor.handleMessage(WrapperClassOutInterceptor.java:102)&lt;br/&gt;
	... 14 more&lt;br/&gt;
Caused by: java.lang.InstantiationException: org.apache.helloWorldSoapHttp.types.SayHiDocument&lt;br/&gt;
	at java.lang.Class.newInstance0(Class.java:335)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:303)&lt;br/&gt;
	at org.apache.cxf.jaxws.interceptors.WrapperHelper$ReflectWrapperHelper.createWrapperObject(WrapperHelper.java:277)&lt;br/&gt;
	... 15 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;2.1.4, trunk&lt;/p&gt;</environment>
        <key id="12415826">CXF-2076</key>
            <summary>InstantiationException trying to create wrapper object when using xmlbeans databinding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="dave_stanley">Dave Stanley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 22:03:58 +0000</created>
                <updated>Mon, 5 Oct 2009 19:37:17 +0000</updated>
                            <resolved>Mon, 5 Oct 2009 16:49:17 +0000</resolved>
                                    <version>2.1.4</version>
                                    <fixVersion>2.1.6</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12677564" author="dave_stanley" created="Fri, 27 Feb 2009 22:15:45 +0000"  >&lt;p&gt;Testcase attached.&lt;/p&gt;

&lt;p&gt;Testcase is a modified version of the wsdl_first sample. The build.xml shows how to configure the ant task to generate code using -db xmlbeans. Also the maven pom was updated to generate sources using the xmlbeans-maven-plugin. Would it be worth adding the testcase to the samples directory, once the bug is fixed?&lt;/p&gt;
</comment>
                            <comment id="12677567" author="dave_stanley" created="Fri, 27 Feb 2009 22:20:55 +0000"  >&lt;p&gt;xmlbeans sample patch. &lt;/p&gt;</comment>
                            <comment id="12679806" author="dkulp" created="Sat, 7 Mar 2009 02:12:01 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;20:51&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; There are two ways to approach it.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:52&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; 1) Make sure the code generators ONLY generate BARE mode with XMLBeans.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:52&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Which I&apos;d be OK with.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:52&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; dkulp: Do I need to change the template file to get the xmlbeans artifacts work out of box?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:53&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; 2) Add some methods to AbstractDataBinding for creating and filling in the wrappers. &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:53&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; (2) would be a bit complex.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:53&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; You shouldn&apos;t.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:54&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; dkulp: I didn&apos;t do any tools or binding relates work before. Can you show me some examples?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:55&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Hmm......&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:57&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Long time since I looked into some of the databinding code.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:58&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Looking at the code, to force bare mode, you MAY just need to change the getWrappedElementType method of the XMLBeansToolingDataBinding to return null.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:58&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; OK, I just want to a find a generatic way to fix this xmlbean issue. 1) will let xmlbean&apos;s not support wrapper any more, am I right?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:59&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Right.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20:59&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; 1) just be a short time solution.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:01&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Well, supporting the wrapper types in a generic fasion would require major re-architectingg of the databinding.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:01&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Which would be a 3.0 level thing.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:01&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Actually, the other thing you can try:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:02&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; Please shot.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:02&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; In WrapperClassOutInterceptor, check if the databinding class name contains JAXB&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:02&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; If not, skip.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:02&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; Yes, this is other way to do it.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:02&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Actually, in the JAXWSServiceFactory, if the databinding isn&apos;t jaxb, don&apos;t even add the wrapepr class in/out interceptors&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:04&amp;#93;&lt;/span&gt; &amp;lt;willem&amp;gt; So the wrapper class will only work for JAXB. The user will not be affected.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:04&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; Maybe.  &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;21:04&amp;#93;&lt;/span&gt; &amp;lt;dkulp&amp;gt; I DON&apos;T know if XMLBeans will tollerate parsing from the child elements or not.&lt;/p&gt;</comment>
                            <comment id="12679860" author="njiang" created="Sat, 7 Mar 2009 09:11:23 +0000"  >&lt;p&gt;Since current CXF &apos;s WrapperClass&lt;/p&gt;
{In|Out}
&lt;p&gt;Interceptor just support the JAXB databinding, and there a quit difference between JAXB and XMLBeans type Instantiation, so you got that kind of error.&lt;/p&gt;

&lt;p&gt;To walk around this issue just has DanKulp said , I tried the method 1), if the SEI&apos;s method parameter is void, I still get the Wrapped method like this.&lt;/p&gt;

 &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@ResponseWrapper(localName = &lt;span class=&quot;code-quote&quot;&gt;&quot;pingMeResponse&quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//apache.org/hello_world_soap_http/types&quot;&lt;/span&gt;, className = &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.helloWorldSoapHttp.types.PingMeResponseDocument&quot;&lt;/span&gt;)
&lt;/span&gt;    @RequestWrapper(localName = &lt;span class=&quot;code-quote&quot;&gt;&quot;pingMe&quot;&lt;/span&gt;, targetNamespace = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//apache.org/hello_world_soap_http/types&quot;&lt;/span&gt;, className = &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.helloWorldSoapHttp.types.PingMeDocument&quot;&lt;/span&gt;)
&lt;/span&gt;    @WebMethod
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void pingMe() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; PingMeFault;
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So we need to find other way to resolve this issue.&lt;/p&gt;

</comment>
                            <comment id="12679862" author="njiang" created="Sat, 7 Mar 2009 09:38:23 +0000"  >&lt;p&gt;Here is a mail thread that talks about how to use XMLBeans in CXF.&lt;br/&gt;
 &lt;a href=&quot;http://markmail.org/thread/q3ilqzdftndfpcrr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/q3ilqzdftndfpcrr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After digging the code for a while , I think we need to do some work on WrapperHelper to create and fill the wrapper.&lt;/p&gt;</comment>
                            <comment id="12680373" author="njiang" created="Tue, 10 Mar 2009 04:16:07 +0000"  >&lt;p&gt;Applied patch into CXF trunk and 2.1.x branch.&lt;br/&gt;
Also submitted an example (wsdl_first_xmlbeans) to show how to write a wsdl first service with XMLBeans in CXF trunk and 2.1.x branch.&lt;/p&gt;</comment>
                            <comment id="12681715" author="dave_stanley" created="Fri, 13 Mar 2009 13:43:17 +0000"  >&lt;p&gt;Great thanks Willem. Will give it a try.&lt;/p&gt;

&lt;p&gt;Cheer&apos;s&lt;br/&gt;
/Dave&lt;/p&gt;</comment>
                            <comment id="12762255" author="dkulp" created="Mon, 5 Oct 2009 16:49:17 +0000"  >&lt;p&gt;&lt;br/&gt;
Resolved a while ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401142" name="cxf_xmlbeans.tar.gz" size="9668" author="dave_stanley" created="Fri, 27 Feb 2009 22:15:44 +0000"/>
                            <attachment id="12401145" name="cxf_xmlbeans_sample.patch" size="61448" author="dave_stanley" created="Fri, 27 Feb 2009 22:20:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>