<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:42:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2909] WS-T / WS-SP sp:RequestSecurityTokenTemplate not using  wst:SecondaryParameters</title>
                <link>https://issues.apache.org/jira/browse/CXF-2909</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Per the WS-SP 1.2 spec, section 5.4.2, &quot;This required element contains elements which MUST be copied into the wst:SecondaryParameters of the RST request sent to the specified issuer. Note: the initiator is not required to understand the contents of this element.&quot;&lt;/p&gt;

&lt;p&gt;The STS client copies these values directly into the body of the wst:RequestSecurityToken element in the request to the STS.&lt;/p&gt;

&lt;p&gt;So this policy:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;sp:IssuedTokensp:IncludeToken=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Always&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;sp:RequestSecurityTokenTemplate&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:TokenType&amp;gt;&lt;/span&gt;http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:TokenType&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:AppliesTo&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:URI&amp;gt;&lt;/span&gt;service-1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsp:URI&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:AppliesTo&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:Participants&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:Participant&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:URI&amp;gt;&lt;/span&gt;service-1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsp:URI&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:Participant&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:Participants&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:KeyType&amp;gt;&lt;/span&gt;http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:KeyType&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/sp:RequestSecurityTokenTemplate&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/sp:IssuedToken&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Becomes this request:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:RequestSecurityToken&amp;gt;&lt;/span&gt;
  ...
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:TokenType&amp;gt;&lt;/span&gt;http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:TokenType&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:AppliesTo&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:URI&amp;gt;&lt;/span&gt;service-1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsp:URI&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:AppliesTo&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:Participants&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:Participant&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsp:URI&amp;gt;&lt;/span&gt;service-1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsp:URI&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:Participant&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:Participants&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wst:KeyType&amp;gt;&lt;/span&gt;http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:KeyType&amp;gt;&lt;/span&gt;
  ...
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wst:RequestSecurityToken&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Instead of: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;wst:RequestSecurityToken&amp;gt;
  ...
  &amp;lt;wst:SecondaryParameters&amp;gt;
  &amp;lt;wst:TokenType&amp;gt;http:&lt;span class=&quot;code-comment&quot;&gt;//docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&amp;lt;/wst:TokenType&amp;gt;
&lt;/span&gt;    &amp;lt;wst:AppliesTo&amp;gt;
      &amp;lt;wsp:URI&amp;gt;service-1&amp;lt;/wsp:URI&amp;gt;
    &amp;lt;/wst:AppliesTo&amp;gt;
    &amp;lt;wst:Participants&amp;gt;
      &amp;lt;wst:Participant&amp;gt;
        &amp;lt;wsp:URI&amp;gt;service-1&amp;lt;/wsp:URI&amp;gt;
      &amp;lt;/wst:Participant&amp;gt;
    &amp;lt;/wst:Participants&amp;gt;
    &amp;lt;wst:KeyType&amp;gt;http:&lt;span class=&quot;code-comment&quot;&gt;//docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey&amp;lt;/wst:KeyType&amp;gt;
&lt;/span&gt;  &amp;lt;/wst:SecondaryParameters&amp;gt;
  ...
&amp;lt;/wst:RequestSecurityToken&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;WS-Trust 1.0 and WS-SP 1.0 do not support the wst:SecondaryParameters element so backwards compatibility should be retained per the interopfest samples.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470193">CXF-2909</key>
            <summary>WS-T / WS-SP sp:RequestSecurityTokenTemplate not using  wst:SecondaryParameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davaleri">David Valeri</assignee>
                                    <reporter username="davaleri">David Valeri</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jul 2010 20:07:35 +0000</created>
                <updated>Mon, 11 Oct 2010 14:45:22 +0000</updated>
                            <resolved>Tue, 27 Jul 2010 12:59:26 +0000</resolved>
                                    <version>2.2.10</version>
                    <version>2.3</version>
                                    <fixVersion>2.2.10</fixVersion>
                    <fixVersion>2.3</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12892445" author="davaleri" created="Mon, 26 Jul 2010 20:15:01 +0000"  >&lt;p&gt;Interopfest wstrust13 module does not work due to relocation of Microsoft STS and change to TLS certificate.  The STS WSDL moved to 131.107.153.205:8080.  The STS HTTPS port is 8443.  While this port is properly reflected in the WSDLs, the certificate on that port is self-issued and not part of the OSASIS interop certificate hierarchy in the downloaded certs zip.&lt;/p&gt;

&lt;p&gt;The following changes were implemented to test this issues fix:&lt;/p&gt;

&lt;p&gt;1) Change download script to use port 8080&lt;br/&gt;
2) Manually adding the self-issued cert to the certs/WssIP.pfx extracted from the downloaded zip&lt;br/&gt;
3) Reconfiguring the HTTP conduits in client.xml to use certs/WssIP.pfx instead of the bob.pfx file&lt;/p&gt;

&lt;p&gt;Even with these changes, a TLS related exception is still created for one of the interop scenarios.  The fix for this issue is observed to be working during execution of the functioning tests in wstrust13 and the other interop samples.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14exj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>