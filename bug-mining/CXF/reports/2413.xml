<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:12:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6089] XmlAccessorOrder.ALPHABETICAL, Exception.getMessage() duplicate WSDL elements generated</title>
                <link>https://issues.apache.org/jira/browse/CXF-6089</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When presented with a custom exception class with a XmlAccessorOrder.ALPHABETICAL&lt;br/&gt;
annotation attribute the Exception.getMessage() method is listed twice as an element in a generated WSDL.&lt;/p&gt;

&lt;p&gt;The cause of duplicate message elements being listed in the generated WSDL&lt;br/&gt;
is a duplication of the processing of &quot;cls&quot; by Utils.getGetters at line&lt;br/&gt;
562 and addExceptionMessage() at line 587. Utils.getGetters checks for an &lt;br/&gt;
Exception class defining method, getMessage.  If method, &quot;getMessage&quot; is NOT &lt;br/&gt;
annotated with @XmlTransient it is returned as a method to be processed and &lt;br/&gt;
added to &quot;seq&quot; (lines 575-581) .  A similar evaluation is performed by &lt;br/&gt;
addExceptionMessage().  It adds a second ref to &quot;getMessage&quot; to &quot;seq&quot; when &lt;br/&gt;
@XmlTransient is not present on the method, hence the duplicate elements in &lt;br/&gt;
the WSDL.   &lt;/p&gt;

&lt;p&gt;This same basic code exists back to version (2.6.x-fixes)&lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/cxf/branches/2.6.x-fixes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/cxf/branches/2.6.x-fixes&lt;/a&gt;&lt;br/&gt;
I did not check version prior to that.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-----
org.apache.cxf.jaxb.JAXBSchemaInitializer

  562        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Method m : Utils.getGetters(cls, accessType)) {
  ..........
  575                JAXBBeanInfo beanInfo = getBeanInfo(type);
  576                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (beanInfo != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
  577                    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; idx = m.getName().startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;get&quot;&lt;/span&gt;) ? 3 : 2;
  578                    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = m.getName().substring(idx);
  579                    name = &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toLowerCase(name.charAt(0)) + name.substring(1);
  580                    XmlElement  xmlElementAnno =  m.getAnnotation(XmlElement.class);
  581                    addElement(schema, seq, beanInfo, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(namespace, name), isArray(type), xmlElementAnno);
                  }
              }
          }
          &lt;span class=&quot;code-comment&quot;&gt;// Create element in xsd:sequence &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Exception.class
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (Exception.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;isAssignableFrom(cls)) {
  587            addExceptionMessage(cls, schema, seq);
          }

-----
org.apache.cxf.jaxb.JAXBSchemaInitializer

      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void addExceptionMessage(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; cls, XmlSchema schema, XmlSchemaSequence seq) {
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
              &lt;span class=&quot;code-comment&quot;&gt;//a subclass could mark the message method as &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt;
&lt;/span&gt;  611            Method m = cls.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;getMessage&quot;&lt;/span&gt;);
  612            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!m.isAnnotationPresent(XmlTransient.class)) {
                  JAXBBeanInfo beanInfo = getBeanInfo(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
                  XmlSchemaElement exEle = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlSchemaElement(schema, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
                  exEle.setName(&lt;span class=&quot;code-quote&quot;&gt;&quot;message&quot;&lt;/span&gt;);
                  exEle.setSchemaTypeName(getTypeName(beanInfo));
                  exEle.setMinOccurs(0);
  618                seq.getItems().add(exEle);
              }
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
              &lt;span class=&quot;code-comment&quot;&gt;//ignore, just won&apos;t have the message element
&lt;/span&gt;          }


-----
org.apache.cxf.jaxb.Utils
  121        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (method.isBridge()
  122                || Modifier.isStatic(method.getModifiers())
  123 &amp;gt;&amp;gt;               || method.isAnnotationPresent(XmlTransient.class)
  124                || method.getDeclaringClass().equals(Throwable.class)
  125                || &lt;span class=&quot;code-quote&quot;&gt;&quot;getClass&quot;&lt;/span&gt;.equals(method.getName())) {
  126            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12753501">CXF-6089</key>
            <summary>XmlAccessorOrder.ALPHABETICAL, Exception.getMessage() duplicate WSDL elements generated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asoldano">Alessio Soldano</assignee>
                                    <reporter username="rsearls">Rebecca Searls</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Nov 2014 20:48:48 +0000</created>
                <updated>Mon, 16 Feb 2015 16:09:36 +0000</updated>
                            <resolved>Wed, 12 Nov 2014 11:53:57 +0000</resolved>
                                    <version>2.7.13</version>
                                    <fixVersion>3.0.3</fixVersion>
                    <fixVersion>2.7.14</fixVersion>
                    <fixVersion>3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14200892" author="rsearls" created="Thu, 6 Nov 2014 20:50:31 +0000"  >&lt;p&gt;The attached testApp.zip demonstrates the issue. See file ApplicationException.java&lt;/p&gt;</comment>
                            <comment id="14200897" author="rsearls" created="Thu, 6 Nov 2014 20:52:29 +0000"  >&lt;p&gt;Attached is a patch to fix this issue&lt;/p&gt;</comment>
                            <comment id="14206684" author="asoldano" created="Tue, 11 Nov 2014 17:47:46 +0000"  >&lt;p&gt;Patch applied, thanks!&lt;/p&gt;</comment>
                            <comment id="14206718" author="asoldano" created="Tue, 11 Nov 2014 18:06:05 +0000"  >&lt;p&gt;mmh... reopening as there&apos;s a testcase failing, I didn&apos;t notice that locally (likely run with -Pfastinstall)&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/CXF-3.0.x/org.apache.cxf$cxf-tools-java2ws/3131/testReport/junit/org.apache.cxf.tools.java2wsdl.processor/JavaToProcessorTest/testPropOrderInException/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/CXF-3.0.x/org.apache.cxf$cxf-tools-java2ws/3131/testReport/junit/org.apache.cxf.tools.java2wsdl.processor/JavaToProcessorTest/testPropOrderInException/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Rebecca, please have a look, I might revert the changes in the mean time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12679942" name="CXF-6089.patch" size="2362" author="rsearls" created="Thu, 6 Nov 2014 20:52:29 +0000"/>
                            <attachment id="12679940" name="testApp.zip" size="76548" author="rsearls" created="Thu, 6 Nov 2014 20:50:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i222pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>