<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:39:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2478] Incorrectly removing a parameter from the Message</title>
                <link>https://issues.apache.org/jira/browse/CXF-2478</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;ve been having the following issue for a whole day already, and I&apos;m debugging it: &lt;a href=&quot;http://www.coderanch.com/t/466933/Web-Services/java/CXF-fails-serve-WebService&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.coderanch.com/t/466933/Web-Services/java/CXF-fails-serve-WebService&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve got further ahead:&lt;/p&gt;

&lt;p&gt;in WrapperClassInInterceptor there is this code:&lt;/p&gt;

&lt;p&gt;(line 135 onwards)&lt;/p&gt;

&lt;p&gt;newParams = new MessageContentsList(helper.getWrapperParts(wrappedObject));&lt;/p&gt;

&lt;p&gt;                List&amp;lt;Integer&amp;gt; removes = null;&lt;br/&gt;
                int count = 0;&lt;br/&gt;
                for (MessagePartInfo part : messageInfo.getMessageParts()) {&lt;br/&gt;
                    if (Boolean.TRUE.equals(part.getProperty(&quot;messagepart.isheader&quot;))) {&lt;br/&gt;
                        MessagePartInfo mpi = wrappedMessageInfo.getMessagePart(part&lt;br/&gt;
                                .getName());&lt;br/&gt;
                        if (lst.hasValue(mpi)) &lt;/p&gt;
{
                            newParams.put(part, lst.get(mpi));
                        }
&lt;p&gt; else if (mpi.getTypeClass() == null) {&lt;br/&gt;
                            if (removes == null) &lt;/p&gt;
{
                                removes = new ArrayList();
                            }
&lt;p&gt;                            removes.add(Integer.valueOf(mpi.getIndex()));&lt;br/&gt;
                        }&lt;br/&gt;
                    } else &lt;/p&gt;
{
                        ++count;
                    }
&lt;p&gt;                }&lt;/p&gt;


&lt;p&gt;The parameters in &quot;newParams&quot; before the removes are removed are the correct params + one null at the end.&lt;br/&gt;
Then index &quot;1&quot; is removed. BUT the param at Index 1 is correct. So perhaps the index is wrongly calculated. I don&apos;t have any more time to dig further into the generation of the index, so I&apos;m just patching my version by commenting-out the removal part. I hope you can give me an update no this. Thanks&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 6.0.18, Windows Server 2003. CXF 2.2.4.&lt;/p&gt;</environment>
        <key id="12438388">CXF-2478</key>
            <summary>Incorrectly removing a parameter from the Message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="glamdring">Bozhidar Bozhanov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Oct 2009 13:47:07 +0000</created>
                <updated>Fri, 4 Dec 2009 22:34:07 +0000</updated>
                            <resolved>Mon, 19 Oct 2009 21:10:01 +0000</resolved>
                                    <version>2.2.3</version>
                    <version>2.1.7</version>
                    <version>2.2.4</version>
                                    <fixVersion>2.1.8</fixVersion>
                    <fixVersion>2.2.5</fixVersion>
                                    <component>Core</component>
                    <component>JAX-WS Runtime</component>
                    <component>Service Model</component>
                    <component>Soap Binding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12767067" author="glamdring" created="Sun, 18 Oct 2009 13:53:57 +0000"  >&lt;p&gt;I commented out all removal and the exception is &quot;wrong number of arguments&quot; This means that the last argument, which has a value of null is to be removed, instead the one with index 0.&lt;/p&gt;

&lt;p&gt;I now have an idea - can this be because:&lt;br/&gt;
1. The null argument is for something cxf-internal usage&lt;br/&gt;
2. It is added when the Wrapper object is constructed (in DocLiteralInInterceptor)&lt;br/&gt;
3. As the wrapper parameter has index or 0, the null parameter becomes index 1.&lt;br/&gt;
4. But when the wrapped object is &apos;exploded&apos;, the index of the null param should be updated, but instead stays 1. &lt;/p&gt;</comment>
                            <comment id="12767198" author="dkulp" created="Mon, 19 Oct 2009 02:38:44 +0000"  >

&lt;p&gt;Any chance we could get the WSDL/schemas and the soap message that is being sent.   That may be critical for figuring out what is happening here.&lt;/p&gt;
</comment>
                            <comment id="12767234" author="glamdring" created="Mon, 19 Oct 2009 07:46:21 +0000"  >&lt;p&gt;Attached. Have in mind, that the wsdl has been generated by an unintelligent software, hence the ugly, stupid names.&lt;/p&gt;</comment>
                            <comment id="12767522" author="dkulp" created="Mon, 19 Oct 2009 20:30:04 +0000"  >
&lt;p&gt;The problem is that the wrong index is being used.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removes.add(mpi.getIndex());&lt;br/&gt;
+                            removes.add(part.getIndex());&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;fixes it.&lt;/p&gt;

&lt;p&gt;Basically, in wrapped mode, the header has index of 1 (index 0 is the index of the OpSendCertificate object).   When unwrapped, the contents of  OpSendCertificate become 0-15 and the header should be put in slot 16.  Since you didn&apos;t generate the code with &quot;-exsh true&quot; flag on wsdl2java, the header isn&apos;t mapped to a param and thus should be removed.   It&apos;s removing the wrong one.&lt;/p&gt;

&lt;p&gt;In anycase, until I check in the above fix after running tests, you can work around this by generating code with the -exsh true flag to wsdl2java.  That will generate a param for the header and thus the remove wouldn&apos;t trigger.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12422531" name="SOAPMessage.txt" size="2036" author="glamdring" created="Mon, 19 Oct 2009 07:45:05 +0000"/>
                            <attachment id="12422532" name="roc_remedy_service.wsdl" size="34006" author="glamdring" created="Mon, 19 Oct 2009 07:45:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sy3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>