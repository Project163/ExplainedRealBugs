<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:25:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7414] ws-rm Messages get lost in case of multi threaded calls and delays</title>
                <link>https://issues.apache.org/jira/browse/CXF-7414</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I added a new systest to show the isse:&lt;br/&gt;
org.apache.cxf.systest.ws.rm.DeliveryAssuranceOnewayTest.testOnewayAtLeastOnceInOrderDelay()&lt;/p&gt;

&lt;p&gt;in branch&lt;br/&gt;
&lt;a href=&quot;https://github.com/cschneider/cxf/tree/inorderdelaytest2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cschneider/cxf/tree/inorderdelaytest2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test sets up an ws-rm service with at least once and inorder policies.&lt;/p&gt;

&lt;p&gt;Then 4 one way calls are sent to the service with a short delay so it can be assumed they trigger the cxf client in order. One of these calls is then delayed just before sending out to the server.&lt;/p&gt;

&lt;p&gt;For one of the calls we get an 404 error. Together with a java.lang.IllegalStateException: AsyncContext completed and/or Request lifecycle recycled .&lt;br/&gt;
See&lt;br/&gt;
&lt;a href=&quot;https://apaste.info/l9YD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://apaste.info/l9YD&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13080744">CXF-7414</key>
            <summary>ws-rm Messages get lost in case of multi threaded calls and delays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 08:20:06 +0000</created>
                <updated>Tue, 1 Aug 2017 16:42:12 +0000</updated>
                            <resolved>Tue, 20 Jun 2017 14:52:38 +0000</resolved>
                                    <version>3.1.11</version>
                                    <fixVersion>3.1.12</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16053751" author="chris@die-schneider.net" created="Mon, 19 Jun 2017 10:24:10 +0000"  >&lt;p&gt;I also just tried to switch to the request/reply greetMe Method and get this log:&lt;br/&gt;
&lt;a href=&quot;https://apaste.info/f8dy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://apaste.info/f8dy&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The interesting part here is:&lt;br/&gt;
java.lang.IllegalStateException: s=COMPLETING i=false a=NOT_ASYNC&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannelState.dispatch(HttpChannelState.java:480)&lt;br/&gt;
	at org.eclipse.jetty.server.AsyncContextState.dispatch(AsyncContextState.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation.redispatch(Servlet3ContinuationProvider.java:137)&lt;br/&gt;
	at org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation.resume(Servlet3ContinuationProvider.java:143)&lt;/p&gt;
</comment>
                            <comment id="16055879" author="chris@die-schneider.net" created="Tue, 20 Jun 2017 14:52:38 +0000"  >&lt;p&gt;Dan fixed this by making sure only the next messages is dispatched instead of all.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gfi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>