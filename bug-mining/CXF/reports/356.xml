<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:38:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2401] JAX-RS code doesn&apos;t have enough visibility into parameterized types to work </title>
                <link>https://issues.apache.org/jira/browse/CXF-2401</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;org.apache.cxf.jaxrs.provider.AegisJSONProviderTest.testWriteCollection() will explode if you un-ignore it. Why?&lt;/p&gt;

&lt;p&gt;org.apache.cxf.jaxrs.provider.AegisElementProvider.createStreamWriter(Class&amp;lt;?&amp;gt;, OutputStream) is called with a Class, but it needs a full java.lang.reflect.Type to work right. org.apache.cxf.jaxrs.provider.AegisJSONProvider.createStreamWriter(Class&amp;lt;?&amp;gt;, OutputStream) wants to map the type to a QName, and that won&apos;t work for generic types and collections from a plain class.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12433720">CXF-2401</key>
            <summary>JAX-RS code doesn&apos;t have enough visibility into parameterized types to work </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="bmargulies">Benson Margulies</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Aug 2009 19:28:15 +0000</created>
                <updated>Mon, 12 Oct 2009 20:45:42 +0000</updated>
                            <resolved>Sat, 22 Aug 2009 18:11:31 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.2.4</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12746181" author="bmargulies" created="Fri, 21 Aug 2009 19:37:13 +0000"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;I&apos;m stumped for now. JAXRSUtils.getClassQName won&apos;t produce the same thing as the Aegis mapping. Somehow, the mapping for the T in List&amp;lt;T&amp;gt; has to get into the json namespace map, and I don&apos;t see how you intended to accomplish anything like this. I&apos;m willing to help some more, but I&apos;m afraid to cause more problems than I solve without more understanding of your intentions here.&lt;/p&gt;

&lt;p&gt;--benson&lt;/p&gt;</comment>
                            <comment id="12746201" author="sergey_beryozkin" created="Fri, 21 Aug 2009 20:28:17 +0000"  >&lt;p&gt;Hi Benson&lt;/p&gt;

&lt;p&gt;Can you give me some example and I try to fix it.&lt;/p&gt;

&lt;p&gt;For example, if we have List&amp;lt;Book&amp;gt;to deal with then should a namespace map contain :&lt;/p&gt;

&lt;p&gt;xsiNamespace : &quot;xsi&quot;&lt;br/&gt;
BookNamespace : somePrefix&lt;/p&gt;

&lt;p&gt;is it all that is needed for List&amp;lt;Book&amp;gt; to be serialized by Aegis ?&lt;/p&gt;

&lt;p&gt;Sergey&lt;/p&gt;
</comment>
                            <comment id="12746464" author="bmargulies" created="Sat, 22 Aug 2009 14:43:04 +0000"  >&lt;p&gt;Yes, and then json goes boom for lack of namespaces. Un-ignore the test case and see for yourself.&lt;/p&gt;</comment>
                            <comment id="12746482" author="bmargulies" created="Sat, 22 Aug 2009 17:08:42 +0000"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;Let me try to lay this out in more detail.&lt;/p&gt;

&lt;p&gt;The jettison code has to have prefix mappings provided for all the namespace uri&apos;s that will be encountered in the course of serialization. The top-level element is something of an exception, apparently, since you have the special case at org.apache.cxf.jaxrs.provider.AegisJSONProvider.createStreamWriter and createStreamReader.&lt;/p&gt;

&lt;p&gt;The code in here looks wrong to me in a number of ways.&lt;/p&gt;

&lt;p&gt;1) Class&amp;lt;?&amp;gt; isn&apos;t enough to get the right mapping. When a generic is involved, that only contains the erased type.&lt;br/&gt;
2) How can you assume that ns1 is available? On the read side, how can you assume that ns1 will be bound to the incoming URI?&lt;br/&gt;
3) Why is all of this stuff needed in the first place? Normally, aegis pushes prefixes into the writer as needed. If the json thing is failing to find a prefix, then there&apos;s some other boostrapping issue with the the top element which should be fixed in aegis.&lt;/p&gt;

&lt;p&gt;I&apos;ll probably have some more time for this today.&lt;/p&gt;
</comment>
                            <comment id="12746485" author="bmargulies" created="Sat, 22 Aug 2009 18:11:31 +0000"  >&lt;p&gt;I fixed this by passing the correct QName instead of the Class&amp;lt;?&amp;gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v167:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>