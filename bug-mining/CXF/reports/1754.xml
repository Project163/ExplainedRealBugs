<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:00:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4958] jaxrs:providers tags seems to be ignored inside jaxrs:client</title>
                <link>https://issues.apache.org/jira/browse/CXF-4958</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I try to configure a jax rs proxy based client using cxf.xml to use jackson instead of the internal JSONProvider.  Alternatively i tried to configure the &quot;depth&quot; parameters without effect, either.&lt;/p&gt;

&lt;p&gt;This is how i instanciate the client:&lt;/p&gt;

&lt;p&gt;      Service service = JAXRSClientFactory.create(URL, Service.class, &quot;cxf-unwrap.xml&quot;);&lt;br/&gt;
      Information information = service.someMethod();&lt;/p&gt;

&lt;p&gt;Inserting JacksonJaxbJSONProvider programmatically works, but i suppose that this is not the most elegant way.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641854">CXF-4958</key>
            <summary>jaxrs:providers tags seems to be ignored inside jaxrs:client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="knob-creek">Thomas Greve</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Apr 2013 16:13:23 +0000</created>
                <updated>Wed, 14 Aug 2019 17:25:48 +0000</updated>
                            <resolved>Mon, 10 Sep 2018 10:35:30 +0000</resolved>
                                    <version>2.7.3</version>
                    <version>2.7.4</version>
                    <version>2.6.7</version>
                                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13627941" author="knob-creek" created="Wed, 10 Apr 2013 16:19:57 +0000"  >&lt;p&gt;cxf config trying to configure cxf JSONProvider&lt;/p&gt;</comment>
                            <comment id="13627943" author="knob-creek" created="Wed, 10 Apr 2013 16:22:38 +0000"  >&lt;p&gt;cxf config trying to configure Jackson JSON provider&lt;/p&gt;</comment>
                            <comment id="13627950" author="sergey_beryozkin" created="Wed, 10 Apr 2013 16:30:22 +0000"  >&lt;p&gt;Re JSONProvider: currently it only enforces &apos;depthInnerElementCountThreshold&apos; (at Jettison level)&lt;/p&gt;

&lt;p&gt;Re Jackson: why do you think it is not registered ?&lt;/p&gt;</comment>
                            <comment id="13627971" author="knob-creek" created="Wed, 10 Apr 2013 16:48:44 +0000"  >&lt;p&gt;I used the depth parameters as an example, as i found the code reading them (but not finding them lacking a context).  What i really intend is in fact to read a &quot;Jackson style&quot; REST service (unwrapped root), but the json unmarshaller throws an exception expecting the root name (&quot;information&quot; in my case).  This exception always involves the cxf JSONProvider, even with the &quot;jackson&quot; config attached.&lt;/p&gt;

&lt;p&gt;When i programmatically enforce the Jackson provider, the service can be read; when i set the &quot;supportUnwrapped&quot; property directly in the provider instance during a debugging session, the service can be read properly as well.&lt;/p&gt;

&lt;p&gt;When i use the jettison config example at &lt;a href=&quot;http://cxf.apache.org/docs/jax-rs-data-bindings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.apache.org/docs/jax-rs-data-bindings.html&lt;/a&gt; (which at least contains a complete configuration example &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (analogously) it does not have any effect either.&lt;/p&gt;

&lt;p&gt;BTW: the code is part of a simple JUnit test, so there is no pre-existing spring container.  The whole of the spring environment is started when the service client is instantiated.&lt;/p&gt;</comment>
                            <comment id="13629053" author="knob-creek" created="Thu, 11 Apr 2013 16:07:07 +0000"  >&lt;p&gt;This is what i found out when trying to find out what is going on here.&lt;/p&gt;

&lt;p&gt;If i configure the JSONProvider as separate bean, it is instantiated a initialized correctly.  No surprise so far.  Alas, it never used.  When (Abstract)JAXRSClientFactoryBean creates the ProviderFactory in the setupFactory() method, a new ProviderFactory with 2 new ProviderInfo instances is created.  There is a separate JSONProvider contained therein which is not configured with any value from the SpringBus.&lt;/p&gt;

&lt;p&gt;So: is configuring the proxy based client within cxf.xml supported at all?&lt;/p&gt;</comment>
                            <comment id="13629064" author="sergey_beryozkin" created="Thu, 11 Apr 2013 16:15:59 +0000"  >&lt;p&gt;Hmm... You may be finding some CXF 2.7.x issue (which I don&apos;t expect to happen on the trunk, at least for now due to the fact ProvierFactory has been refactored on the trunk). So registering from the code works, but not from jaxrs:client, hmm... &lt;br/&gt;
I&apos;m going to investigate asap, I have a backlog of issues - thanks for the input so far. &lt;/p&gt;</comment>
                            <comment id="13630005" author="knob-creek" created="Fri, 12 Apr 2013 12:14:01 +0000"  >&lt;p&gt;I tried the same thing with CXF 2.6.7 &amp;#8211; with the same result.  Looking closely at the code (which is quite the same as with 2.7.4 &amp;#8211; is this the refactored code?) i see:&lt;/p&gt;

&lt;p&gt;When creating the proxy with JAXRSClientFactoryBean in initClient(), the client configuration is given the SpringBus, the conduit and the interceptors.  Afterwards, within setupFactory() a new ProviderFactory is created, which in turn creates the new Providers in initJaxbProviders() (unconditionally and without looking at the bus) and wraps them in ProviderInfo instances.&lt;/p&gt;

&lt;p&gt;If this is also a refactored version: which version should i look at?&lt;/p&gt;</comment>
                            <comment id="13631722" author="sergey_beryozkin" created="Mon, 15 Apr 2013 13:42:37 +0000"  >&lt;p&gt;I have updated one of the tests, see this commit to CXF 2.6.8-SNAPSHOT:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1468055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1468055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The (JAXB) provider is configured within jaxrs:client and picked up properly, without it the updated test code fails (and with it the test fails unless the code gets updated as per this commit).&lt;/p&gt;

&lt;p&gt;What exactly is different in your case - can you provide a basic Maven-based project ?&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;</comment>
                            <comment id="13631739" author="knob-creek" created="Mon, 15 Apr 2013 14:15:58 +0000"  >&lt;p&gt;Sorry, i am mostly maven illiterate.  Currently, all i have is the interface and the JAXB annotated model classes.  (The former is one of the differences: i create the proxy from an annotated interface, which is also given as serviceClass in the configuration file.)  Another difference: i did not configure any conduit (should i?), the attached configuration is &lt;b&gt;exactly&lt;/b&gt; what i use (except for the names being changed), it is not an excerpt.&lt;/p&gt;

&lt;p&gt;I can send you a (Jersey based) dummy server and the client test as Eclipse projects.  Would that help?&lt;/p&gt;</comment>
                            <comment id="13631748" author="sergey_beryozkin" created="Mon, 15 Apr 2013 14:26:43 +0000"  >&lt;p&gt;No problems - can you only attach a client test as Eclipse project, that should do, thanks&lt;/p&gt;</comment>
                            <comment id="13632702" author="sergey_beryozkin" created="Tue, 16 Apr 2013 09:39:37 +0000"  >&lt;p&gt;Thanks for sharing the test project,&lt;/p&gt;

&lt;p&gt;At the moment, jaxrs:client elements are effective only if they are injected or explicitly loaded (see the test code at &lt;a href=&quot;http://svn.apache.org/r1468055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1468055&lt;/a&gt;). We need an easy way to load the existing jaxrs:client(s) from the Spring configuration. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-4747&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-4747&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12578027" name="cxf-jackson.xml" size="788" author="knob-creek" created="Wed, 10 Apr 2013 16:22:38 +0000"/>
                            <attachment id="12578026" name="cxf-unwrap.xml" size="1221" author="knob-creek" created="Wed, 10 Apr 2013 16:19:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jlpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>