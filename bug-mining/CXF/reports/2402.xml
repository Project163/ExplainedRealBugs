<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:12:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6071] CXF&apos;s WSDL2Java tool can generate impl classes that jdk compiler will refuse to compile</title>
                <link>https://issues.apache.org/jira/browse/CXF-6071</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When using Apache CXF 3.0.1 and above the following WSDL (attached) will compile with the wsdl2java tool, however the code cannot be compiled as the implementation class cannot be compiled with any JDK.&lt;/p&gt;

&lt;p&gt;The issue is that the generated implementation class has a &quot;.&quot; in the class name.&lt;/p&gt;

&lt;p&gt;eg:&lt;br/&gt;
D:\programming\artix\apache-cxf-3.0.1-bin\bin\test&amp;gt;dir /b com\iona\schemas\idl\iacc_idl&amp;#42;Impl.java&lt;br/&gt;
CORBAPortImpl.java&lt;br/&gt;
IACC.ServerCORBAPortImpl.java&lt;/p&gt;

&lt;p&gt;Below is a patch that works around the issue, while still keeping the current functionality in place, only switching back to the old functionality (changed in: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-5456&quot; title=&quot;Generated &amp;quot;Impls&amp;quot; should be based off the service/port, not portType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-5456&quot;&gt;&lt;del&gt;CXF-5456&lt;/del&gt;&lt;/a&gt;) when the port name contains non-valid characters as far as a JVM compiler is concerned.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/generators/ImplGenerator.java b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/generators/ImplGenerator.java
index 5fe090d..63dc84d 100644
--- a/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/generators/ImplGenerator.java
+++ b/tools/wsdlto/frontend/jaxws/src/main/java/org/apache/cxf/tools/wsdlto/frontend/jaxws/generators/ImplGenerator.java
@@ -21,6 +21,8 @@ package org.apache.cxf.tools.wsdlto.frontend.jaxws.generators;

 import java.util.HashMap;
 import java.util.Map;
+import java.util.regex.Pattern;
+import java.util.regex.Matcher;

 import javax.xml.namespace.QName;

@@ -126,12 +128,17 @@ public class ImplGenerator extends AbstractJAXWSGenerator {
         }
         String name = nm.get(service + &quot;/&quot; + port);
         if (name == null) {
-            name = port + &quot;Impl&quot;;
+            name = (isPortNameCompliant(port)) ? port : intf.getName() + &quot;Impl&quot;;
             name = mapClassName(intf.getPackageName(), name, penv);
             nm.put(service + &quot;/&quot; + port, name);
         }
         return name;
     }
+
+    private boolean isPortNameCompliant(String port) {
+        return Pattern.matches(&quot;[a-zA-Z]\\w*&quot;, port);
+    }
+
     private String mapClassName(String packageName, String name, ToolContext context) {
         ClassCollector collector = context.get(ClassCollector.class);
         int count = 0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12751424">CXF-6071</key>
            <summary>CXF&apos;s WSDL2Java tool can generate impl classes that jdk compiler will refuse to compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="khalligan">Keith Halligan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Oct 2014 16:38:43 +0000</created>
                <updated>Mon, 16 Feb 2015 16:09:00 +0000</updated>
                            <resolved>Thu, 30 Oct 2014 16:20:45 +0000</resolved>
                                    <version>3.0.1</version>
                    <version>3.0.2</version>
                                    <fixVersion>3.0.3</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14188560" author="dkulp" created="Wed, 29 Oct 2014 16:50:15 +0000"  >&lt;p&gt;Can you try running the wsimport -keep on the wsdl using Java7 or newer and see what it generates?   There are certain cases that,  per JAX-WS spec, we HAVE to generate uncompilable/invalid code unless the user specifies a customization file that would remap the names.   It&apos;s strange, but the spec and TCK actually requires that.&lt;/p&gt;</comment>
                            <comment id="14189800" author="khalligan" created="Thu, 30 Oct 2014 08:28:52 +0000"  >&lt;p&gt;Attaching wsdl that shows the issue with the &quot;.&quot; in the generated impl class.&lt;/p&gt;</comment>
                            <comment id="14190178" author="dkulp" created="Thu, 30 Oct 2014 15:00:08 +0000"  >&lt;p&gt;Proper fix is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-            name = port + &lt;span class=&quot;code-quote&quot;&gt;&quot;Impl&quot;&lt;/span&gt;;
+            name = NameUtil.mangleNameToClassName(port + &lt;span class=&quot;code-quote&quot;&gt;&quot;Impl&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;testing now.&lt;/p&gt;</comment>
                            <comment id="14190229" author="khalligan" created="Thu, 30 Oct 2014 15:27:26 +0000"  >&lt;p&gt;I&apos;ve tried both using the Java 7 and 8 version of wsimport, and they both work with the tool.  &lt;/p&gt;

&lt;p&gt;From my understanding, the wsimport isn&apos;t generating the implementation classes, but the rest of the JAX-WS artifacts that the wsdl describes.&lt;/p&gt;

&lt;p&gt;The issue in CXF is that when the -impl flag is passed into the wsdl2java tool, with the current wsdl, which is perfectly valid (according to wsimport.exe, and cxf&apos;s own wsdlvalidator tool).  The generated implementation class is generated incorrectly, it should be mapped to a compilable source module, and it&apos;s not.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried to do the mapping in an xjb binding file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;jaxws:bindings version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;
		wsdlLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;iacc_servants.wsdl&quot;&lt;/span&gt;
		xmlns:jaxws=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/jaxws&quot;&lt;/span&gt;
&lt;/span&gt;		xmlns:wsdl=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//schemas.xmlsoap.org/wsdl/&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;	       
    &amp;lt;jaxws:bindings node=&lt;span class=&quot;code-quote&quot;&gt;&quot;wsdl:definitions/wsdl:service/wsdl:port[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;IACC.ServerCORBAPort&apos;&lt;/span&gt;]&quot;&lt;/span&gt;&amp;gt;
	&amp;lt;jaxws:&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;IACCServerCORBAPort&quot;&lt;/span&gt; /&amp;gt;
    &amp;lt;/jaxws:bindings&amp;gt;
&amp;lt;/jaxws:bindings&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This still results in CXF generating the incorrect implementation, the xjb file made no difference, we still get the same two implementation classes generated:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;dir /b com\iona\schemas\idl\iacc_idl\*Impl.java
CORBAPortImpl.java
IACC.ServerCORBAPortImpl.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12678146" name="iacc_servants.wsdl" size="96050" author="khalligan" created="Thu, 30 Oct 2014 08:28:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21q4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>