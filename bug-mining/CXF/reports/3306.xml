<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:32:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7746] Swagger2Feature - SwaggerUiResolver &amp; JBoss 7.0 EAP</title>
                <link>https://issues.apache.org/jira/browse/CXF-7746</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Same problem as &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7474&quot; title=&quot;Swagger2Feature - Swagger UI not working with JBoss&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7474&quot;&gt;&lt;del&gt;CXF-7474&lt;/del&gt;&lt;/a&gt;, but for JBoss EAP 7.0 &amp;amp; CXF 3.2.4.&lt;/p&gt;

&lt;p&gt;The SwaggerUiResolver is not able to find the swagger-ui jar, included in our war via maven; the path returned by&#160;the class loader&#160;ends with &quot;.jar/&quot; instead of the expected &quot;.jar&quot; or &quot;.jar!/&quot;.&lt;/p&gt;

&lt;p&gt;To bypass the problem, we modified the checkUiRoot as follow:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Artifact: cxf-rt-rs-service-description-swagger
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;: org.apache.cxf.jaxrs.swagger.SwaggerUiResolver
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; checkUiRoot(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; urlStr, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; swaggerUiVersion)
{
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; swaggerUiIndex = urlStr.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;/swagger-ui-&quot;&lt;/span&gt;);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (swaggerUiIndex != -1)
  {
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; urlEndsWithJarSep = urlStr.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.jar!/&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; offset = -1;

    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (urlEndsWithJarSep || urlStr.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.jar&quot;&lt;/span&gt;))
    {
      offset = urlEndsWithJarSep ? 6 : 4;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (urlStr.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;.jar/&quot;&lt;/span&gt;))
    {
      offset = 5;
      urlEndsWithJarSep = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (offset &amp;gt; -1)
    {
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; version = urlStr.substring(swaggerUiIndex + 12, urlStr.length() - offset);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (swaggerUiVersion != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !swaggerUiVersion.equals(version))
      {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      }
      &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
      {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!urlEndsWithJarSep)
        {
          urlStr = &lt;span class=&quot;code-quote&quot;&gt;&quot;jar:&quot;&lt;/span&gt; + urlStr + &lt;span class=&quot;code-quote&quot;&gt;&quot;!/&quot;&lt;/span&gt;;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; urlStr + &lt;span class=&quot;code-quote&quot;&gt;&quot;META-INF/resources/webjars/swagger-ui/&quot;&lt;/span&gt; + version + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;;
      }
    }
  }

  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13162589">CXF-7746</key>
            <summary>Swagger2Feature - SwaggerUiResolver &amp; JBoss 7.0 EAP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deki">Dennis Kieselhorst</assignee>
                                    <reporter username="Edumdum">Etienne Dumont</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 May 2018 13:42:37 +0000</created>
                <updated>Mon, 25 Mar 2019 12:28:52 +0000</updated>
                            <resolved>Tue, 5 Jun 2018 13:11:09 +0000</resolved>
                                    <version>3.2.4</version>
                                    <fixVersion>3.2.5</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16498884" author="deki" created="Sat, 2 Jun 2018 05:17:10 +0000"  >&lt;p&gt;Could you create a pull request for it? &lt;a href=&quot;https://github.com/apache/cxf/pulls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pulls&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please optimize the code by using the existing constant &lt;font color=&quot;#660e7a&quot;&gt;UI_RESOURCES_ROOT_START &lt;/font&gt;and maybe add some more constants for the &quot;magic numbers&quot;.&lt;/p&gt;</comment>
                            <comment id="16501649" author="githubbot" created="Tue, 5 Jun 2018 11:57:35 +0000"  >&lt;p&gt;EDumdum opened a new pull request #422: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7746&quot; title=&quot;Swagger2Feature - SwaggerUiResolver &amp;amp; JBoss 7.0 EAP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7746&quot;&gt;&lt;del&gt;CXF-7746&lt;/del&gt;&lt;/a&gt; Swagger2Feature - SwaggerUiResolver &amp;amp; JBoss 7.0 EAP&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/422&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Add support for JBoss 7.0 EAP class loader which is returning an url ending with &quot;.jar/&quot; instead of the expected &quot;.jar&quot; or &quot;.jar!/&quot;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16501741" author="githubbot" created="Tue, 5 Jun 2018 13:10:19 +0000"  >&lt;p&gt;deki closed pull request #422: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7746&quot; title=&quot;Swagger2Feature - SwaggerUiResolver &amp;amp; JBoss 7.0 EAP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7746&quot;&gt;&lt;del&gt;CXF-7746&lt;/del&gt;&lt;/a&gt; Swagger2Feature - SwaggerUiResolver &amp;amp; JBoss 7.0 EAP&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/422&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/rt/rs/description-swagger-ui/src/main/java/org/apache/cxf/jaxrs/swagger/SwaggerUiResolver.java b/rt/rs/description-swagger-ui/src/main/java/org/apache/cxf/jaxrs/swagger/SwaggerUiResolver.java&lt;br/&gt;
index 331e9f35643..d6b306d6870 100644&lt;br/&gt;
&amp;#8212; a/rt/rs/description-swagger-ui/src/main/java/org/apache/cxf/jaxrs/swagger/SwaggerUiResolver.java&lt;br/&gt;
+++ b/rt/rs/description-swagger-ui/src/main/java/org/apache/cxf/jaxrs/swagger/SwaggerUiResolver.java&lt;br/&gt;
@@ -58,19 +58,15 @@ public String findSwaggerUiRootInternal(String swaggerUiMavenGroupAndArtifact,&lt;/p&gt;

&lt;p&gt;     protected static String checkUiRoot(String urlStr, String swaggerUiVersion) {&lt;br/&gt;
         int swaggerUiIndex = urlStr.lastIndexOf(&quot;/swagger-ui-&quot;);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (swaggerUiIndex != -1) {&lt;/li&gt;
	&lt;li&gt;boolean urlEndsWithJarSep = urlStr.endsWith(&quot;.jar!/&quot;);&lt;/li&gt;
	&lt;li&gt;if (urlEndsWithJarSep || urlStr.endsWith(&quot;.jar&quot;)) {&lt;/li&gt;
	&lt;li&gt;int offset = urlEndsWithJarSep ? 6 : 4;&lt;/li&gt;
	&lt;li&gt;String version = urlStr.substring(swaggerUiIndex + 12, urlStr.length() - offset);&lt;/li&gt;
	&lt;li&gt;if (swaggerUiVersion != null &amp;amp;&amp;amp; !swaggerUiVersion.equals(version)) 
{
-                    return null;
-                }&lt;/li&gt;
	&lt;li&gt;if (!urlEndsWithJarSep) 
{
-                    urlStr = &quot;jar:&quot; + urlStr + &quot;!/&quot;;
-                }&lt;/li&gt;
	&lt;li&gt;return urlStr + UI_RESOURCES_ROOT_START + version + &quot;/&quot;;&lt;br/&gt;
+        if (swaggerUiIndex != -1 &amp;amp;&amp;amp; urlStr.matches(&quot;^.*&lt;br class=&quot;atl-forced-newline&quot; /&gt;.jar!?/?$&quot;)) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+            String version = urlStr.substring(swaggerUiIndex + 12, urlStr.lastIndexOf(&amp;quot;.jar&amp;quot;));+            if (swaggerUiVersion != null &amp;amp;&amp;amp; !swaggerUiVersion.equals(version)) {
+                return null;
+            }+            if (!urlStr.endsWith(&amp;quot;/&amp;quot;)) {
+                urlStr = &quot;jar:&quot; + urlStr + &quot;!/&quot;;
             }+            return urlStr + UI_RESOURCES_ROOT_START + version + &amp;quot;/&amp;quot;;         }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;         return null;&lt;br/&gt;
     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16501743" author="deki" created="Tue, 5 Jun 2018 13:11:09 +0000"  >&lt;p&gt;Thanks for you contribution. I&apos;ve merged the changes, will be part of the next release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3u9dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>