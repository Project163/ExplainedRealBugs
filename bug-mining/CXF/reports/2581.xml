<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:16:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6458] CXF 3.1.0 memory leak (Tomcat)</title>
                <link>https://issues.apache.org/jira/browse/CXF-6458</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I have created a CXF project using wsdl2java, make no changes (i.e. blank project) I deploy it to Tomcat 7 or 8. As soon as I click &apos;stop&apos;, without even calling it, I am getting SEVERE errors from Tomcat regarding memory leaks and inability to close threads. Every time I start/stop I get an additional WebappClassLoader (I have done a memory dump and checked using Eclipse MAT) for the webapp and it only gets fixed when I restart tomcat. Tomcat also reports this using the &apos;test for leaks&apos; button.&lt;/p&gt;

&lt;p&gt;This originally happened on CXF2.7 so I upgraded to 3, I have also tried the very latest JAXB reference implementation.&lt;/p&gt;

&lt;p&gt;The stack trace is as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.cxf.workqueue.AutomaticWorkQueueImpl$AWQThreadFactory$1.run(Automati
cWorkQueueImpl.java:353)
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
11-Jun-2015 15:45:33.142 SEVERE [http-nio-8080-exec-2] org.apache.catalina.loade
r.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MyAcces
sAPSServiceN] created a ThreadLocal with key of type [com.sun.xml.bind.v2.ClassF
actory$1] (value [com.sun.xml.bind.v2.ClassFactory$1@27765bfc]) and a value of t
ype [java.util.WeakHashMap] (value [{&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cxf.ws.addressing.Attribut
edURIType=java.lang.ref.WeakReference@4b9111a1}]) but failed to remove it when t
he web application was stopped. Threads are going to be renewed over time to &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
and avoid a probable memory leak.
11-Jun-2015 15:45:33.143 SEVERE [http-nio-8080-exec-2] org.apache.catalina.loade
r.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MyAcces
sAPSServiceN] created a ThreadLocal with key of type [com.sun.xml.bind.v2.ClassF
actory$1] (value [com.sun.xml.bind.v2.ClassFactory$1@27765bfc]) and a value of t
ype [java.util.WeakHashMap] (value [{&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cxf.ws.discovery.wsdl.Hell
oType=java.lang.ref.WeakReference@211c87c9, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xml.ws.wsaddressing.W3CE
ndpointReference$Address=java.lang.ref.WeakReference@5816ae1a, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xml.w
s.wsaddressing.W3CEndpointReference=java.lang.ref.WeakReference@39005a24, &lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;org.apache.cxf.ws.discovery.wsdl.ScopesType=java.lang.ref.WeakReference@461e0eb8
, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.util.ArrayList=java.lang.ref.WeakReference@5f5875fe, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xm
l.ws.wsaddressing.W3CEndpointReference$Elements=java.lang.ref.WeakReference@28aa
a799}]) but failed to remove it when the web application was stopped. Threads ar
e going to be renewed over time to &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; and avoid a probable memory leak.
11-Jun-2015 15:45:33.146 SEVERE [http-nio-8080-exec-2] org.apache.catalina.loade
r.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MyAcces
sAPSServiceN] created a ThreadLocal with key of type [com.sun.xml.bind.v2.ClassF
actory$1] (value [com.sun.xml.bind.v2.ClassFactory$1@27765bfc]) and a value of t
ype [java.util.WeakHashMap] (value [{&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cxf.ws.addressing.Attribut
edURIType=java.lang.ref.WeakReference@5be142aa}]) but failed to remove it when t
he web application was stopped. Threads are going to be renewed over time to &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
and avoid a probable memory leak.
11-Jun-2015 15:45:33.148 SEVERE [http-nio-8080-exec-2] org.apache.catalina.loade
r.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MyAcces
sAPSServiceN] created a ThreadLocal with key of type [com.sun.xml.bind.v2.ClassF
actory$1] (value [com.sun.xml.bind.v2.ClassFactory$1@27765bfc]) and a value of t
ype [java.util.WeakHashMap] (value [{&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xml.ws.wsaddressing.W3CEndpoint
Reference$Address=java.lang.ref.WeakReference@21dfd606, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xml.ws.wsadd
ressing.W3CEndpointReference=java.lang.ref.WeakReference@6e5c3549, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apa
che.cxf.ws.discovery.wsdl.ScopesType=java.lang.ref.WeakReference@67ae8439, &lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;java.util.ArrayList=java.lang.ref.WeakReference@726aef5c, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cxf.
ws.discovery.wsdl.ByeType=java.lang.ref.WeakReference@4a88bbb3, &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;javax.xml.
ws.wsaddressing.W3CEndpointReference$Elements=java.lang.ref.WeakReference@56db0a
ff}]) but failed to remove it when the web application was stopped. Threads are
going to be renewed over time to &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; and avoid a probable memory leak.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12837222">CXF-6458</key>
            <summary>CXF 3.1.0 memory leak (Tomcat)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="neilw1">neil walker</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jun 2015 20:04:37 +0000</created>
                <updated>Thu, 14 Jun 2018 09:08:58 +0000</updated>
                                            <version>3.1</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14592449" author="mate" created="Thu, 18 Jun 2015 20:26:18 +0000"  >&lt;p&gt;This seems to be a &lt;a href=&quot;https://java.net/jira/browse/JAXB-1000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;known limitation of the JAXB API&lt;/a&gt;. Issue claims you can avoid the problem by explicitly closing the Unmarshaller, but I haven&apos;t tried that myself.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12837224">CXF-6459</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12845189">CAMEL-8972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fy07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>