<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:23:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7179] Unable to set ServerConnector in JettyHTTPServerEngine using jetty 9</title>
                <link>https://issues.apache.org/jira/browse/CXF-7179</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;With Jetty 9 a reference to the jetty server is needed to create a ServerConnector (jetty&apos;s default connector).&lt;br/&gt;
See org.eclipse.jetty.server.ServerConnector.ServerConnector(Server)&lt;/p&gt;

&lt;p&gt;Using the CXF JettyHTTPServerEngineFactory and JettyHTTPServerEngine to create a jetty server, it is impossible to override the Connector.&lt;br/&gt;
The method org.apache.cxf.transport.http_jetty.JettyHTTPServerEngine.setConnector(Connector) is useless, because it is impossible to create a ServerConnector without a Jetty Server and JettyHTTPServerEngine.getServer() returns null during configuration phase of the JettyHTTPServerEngine.&lt;br/&gt;
The example below leads to a NullPointerException:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Example {
    public static void main(String[] args) throws Exception {
        JettyHTTPServerEngineFactory factory = new JettyHTTPServerEngineFactory();
        JettyHTTPServerEngine engine = factory.createJettyHTTPServerEngine(12345, &quot;http&quot;);
        ServerConnector connector = new ServerConnector(null); // engine.getServer() is also NULL at this time 
        engine.setConnector(connector);
        Provider provider = Provider.provider();
        EndpointImpl epi = (EndpointImpl) provider.createEndpoint(null, new FooImpl());
        epi.publish(&quot;http://0.0.0.0:12345/foo&quot;);		
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException
	at org.eclipse.jetty.server.AbstractConnector.&amp;lt;init&amp;gt;(AbstractConnector.java:170)
	at org.eclipse.jetty.server.AbstractNetworkConnector.&amp;lt;init&amp;gt;(AbstractNetworkConnector.java:44)
	at org.eclipse.jetty.server.ServerConnector.&amp;lt;init&amp;gt;(ServerConnector.java:227)
	at org.eclipse.jetty.server.ServerConnector.&amp;lt;init&amp;gt;(ServerConnector.java:96)
	at Example.main(Example.java:14)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Class JettyHTTPServerEngine needs to be adapted to enable setting a custom jetty 9 connector.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028042">CXF-7179</key>
            <summary>Unable to set ServerConnector in JettyHTTPServerEngine using jetty 9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="auster">Michael Austermann</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2016 09:25:20 +0000</created>
                <updated>Wed, 25 Apr 2018 00:55:52 +0000</updated>
                            <resolved>Tue, 24 Jan 2017 06:59:49 +0000</resolved>
                                    <version>3.1.9</version>
                                    <fixVersion>3.1.10</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15761010" author="auster" created="Mon, 19 Dec 2016 12:12:47 +0000"  >&lt;p&gt;There is a work arround for this issue. First create the jetty server and then kind of publish it to cxf like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class Example {
	public static void main(String[] args) throws Exception {
		Server server = new Server();
		ServerConnector sc = new ServerConnector(server);
		sc.setHost(&quot;localhost&quot;);
		sc.setPort(12345);
		server.setConnectors(new Connector[] { sc });
		server.setHandler(new ContextHandlerCollection());
		server.start();
		
		JettyHTTPServerEngineFactory factory = new JettyHTTPServerEngineFactory();
		JettyHTTPServerEngine jettyHTTPServerEngine = new JettyHTTPServerEngine(factory.getMBeanContainer(), &quot;localhost&quot;, 12345);
		jettyHTTPServerEngine.setServer(server);
		factory.setEnginesList(Arrays.asList(new JettyHTTPServerEngine[] { jettyHTTPServerEngine }));		
		
        Provider provider = Provider.provider();
        EndpointImpl epi = (EndpointImpl) provider.createEndpoint(null, new FooImpl());
        epi.publish(&quot;http://localhost:12345/foo&quot;);		
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13154825">CXF-7727</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13025066">CXF-7160</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13025066">CXF-7160</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37kzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>