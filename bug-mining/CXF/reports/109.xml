<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:34:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1760] jms transport don&apos;t support MTOM</title>
                <link>https://issues.apache.org/jira/browse/CXF-1760</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;mtom can&apos;t work over jms transport because miss content-type in the protocol header, but the content-type is important for AttachmentInIntecepor to parse the attachment in the message&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402783">CXF-1760</key>
            <summary>jms transport don&apos;t support MTOM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="ffang">Freeman Yue Fang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Aug 2008 10:45:40 +0000</created>
                <updated>Tue, 19 May 2009 09:01:26 +0000</updated>
                            <resolved>Thu, 21 Aug 2008 12:17:12 +0000</resolved>
                                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>2.1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12624351" author="ffang" created="Thu, 21 Aug 2008 12:17:12 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=687703&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=687703&amp;amp;view=rev&lt;/a&gt; for 2.0.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=687722&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=687722&amp;amp;view=rev&lt;/a&gt; for trunk&lt;/p&gt;</comment>
                            <comment id="12658247" author="ffang" created="Sat, 20 Dec 2008 01:38:05 +0000"  >&lt;p&gt;commit fix &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=687778&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=687778&amp;amp;view=rev&lt;/a&gt; for 2.1.x branch&lt;/p&gt;</comment>
                            <comment id="12706704" author="liucong" created="Thu, 7 May 2009 03:26:38 +0000"  >&lt;p&gt;If the config &amp;lt;jms:client messageType=&quot;byte&quot;/&amp;gt; doesn&apos;t appear in the WSDL of the service, the JMS Transport will send MTOM message as TextMessage.&lt;br/&gt;
Thought the client send attachement information and the server get the attachment information, the attachment which is got by the server is not the same with the attachment information which is sent by the client.&lt;br/&gt;
I have compared the two messages. And I have used several kinds of attatchment for it.&lt;br/&gt;
    1) Text File. The result is right.&lt;br/&gt;
    2) WinRaR File. The file that is received by the server is larger than the file that is sent by the client.&lt;br/&gt;
    3) BitMap file. The size of attachment that is sent by the client is 163166, but the size of attachment that is received is 485947, which is 167% more than the original binary data. (&lt;a href=&quot;http://www.w3.org/TR/2008/WD-soapjms-20081121/#binding-message-body&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/2008/WD-soapjms-20081121/#binding-message-body&lt;/a&gt;)&lt;br/&gt;
According to the analysis above, reason may be as follows:&lt;br/&gt;
    1) In the client, the attachment is encoded as base64 encoding, and transfer as TextMessage in JMS.&lt;br/&gt;
    2) The server doesn&apos;t know the encoding, and just get the text message.&lt;/p&gt;

&lt;p&gt;So if one wants to use JMS MTOM-support, the config &amp;lt;jms:client messageType=&quot;byte&quot;/&amp;gt; must be set, then the MTOM message will be sent as ByteMessage. &lt;br/&gt;
Some fixed for these should be done in CXF.&lt;/p&gt;</comment>
                            <comment id="12710352" author="liucong" created="Mon, 18 May 2009 12:48:04 +0000"  >&lt;p&gt;This is the patch for the problem above.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12408374/cxf-jms.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12408374/cxf-jms.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12710648" author="njiang" created="Tue, 19 May 2009 07:16:58 +0000"  >&lt;p&gt;When use the MTOM, we need to make sure the message type be binary.&lt;br/&gt;
In LiuCong&apos;s patch , we will check the message type in the JMSconduit send method &#65292; where we can tell if the message has the attachments.&lt;br/&gt;
If the message type is text and it has the attachment messages,  a configuration error will be thrown.&lt;/p&gt;

&lt;p&gt;@Liu Cong&#65292;&lt;br/&gt;
Your patch addresses this issue, that is great. But you didn&apos;t change the old JMS MTOM test, so it was failed if you applied patch.&lt;br/&gt;
I changed the old JMS MTOM test to catch that JMS configuration exception and also updated the exception&apos;s message for it .&lt;br/&gt;
Please check them out.&lt;/p&gt;</comment>
                            <comment id="12710672" author="ffang" created="Tue, 19 May 2009 09:01:26 +0000"  >&lt;p&gt;Hi LiuCong,&lt;br/&gt;
Besides the test failure Willem mentioned here, the patch is ok for me.&lt;br/&gt;
You need ensure all tests pass based on your patch, &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks&lt;br/&gt;
Freeman&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12424746">CXF-2207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408374" name="cxf-jms.patch" size="12829" author="liucong" created="Mon, 18 May 2009 12:48:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13zmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>