<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 12:21:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7045] Update sample description_swagger2_osgi README.txt</title>
                <link>https://issues.apache.org/jira/browse/CXF-7045</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Update jackson version. Currently getting the error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: org.osgi.framework.BundleException: Unable to resolve org.apache.cxf.samples.jax_rs_description_swagger2_osgi [146](R 146.0): missing requirement [org.apache.cxf.samples.jax_rs_description_swagger2_osgi [146](R 146.0)] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; (&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=com.fasterxml.jackson.jaxrs.json)(version&amp;gt;=2.6.0)(!(version&amp;gt;=3.0.0))) Unresolved requirements: [[org.apache.cxf.samples.jax_rs_description_swagger2_osgi [146](R 146.0)] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; (&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=com.fasterxml.jackson.jaxrs.json)(version&amp;gt;=2.6.0)(!(version&amp;gt;=3.0.0)))]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13003590">CXF-7045</key>
            <summary>Update sample description_swagger2_osgi README.txt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="jpoth">John Poth</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Sep 2016 14:24:37 +0000</created>
                <updated>Fri, 21 Oct 2016 18:45:46 +0000</updated>
                            <resolved>Fri, 9 Sep 2016 01:58:54 +0000</resolved>
                                                    <fixVersion>3.1.8</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15474004" author="githubbot" created="Thu, 8 Sep 2016 14:27:00 +0000"  >&lt;p&gt;GitHub user johnpoth opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7045&quot; title=&quot;Update sample description_swagger2_osgi README.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7045&quot;&gt;&lt;del&gt;CXF-7045&lt;/del&gt;&lt;/a&gt; Update sample description_swagger2_osgi README.txt file&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7045&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-7045&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/johnpoth/cxf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/johnpoth/cxf&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7045&quot; title=&quot;Update sample description_swagger2_osgi README.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7045&quot;&gt;&lt;del&gt;CXF-7045&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/167.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/167.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #167&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e32418de404a1e72ac4d968a48906d0e1fe02f50&lt;br/&gt;
Author: jpoth &amp;lt;poth.john@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-09-08T14:26:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7045&quot; title=&quot;Update sample description_swagger2_osgi README.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7045&quot;&gt;&lt;del&gt;CXF-7045&lt;/del&gt;&lt;/a&gt; Update sample description_swagger2_osgi README.txt file&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15475598" author="githubbot" created="Fri, 9 Sep 2016 01:51:52 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cxf/pull/167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/167&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15475610" author="ffang" created="Fri, 9 Sep 2016 01:58:38 +0000"  >&lt;p&gt;patch applied on behalf of  John Poth with thanks&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/e32418de&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/e32418de&lt;/a&gt; for master&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/ea8ef138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/ea8ef138&lt;/a&gt; for 3.1.x-fixes branch&lt;/p&gt;</comment>
                            <comment id="15487130" author="ay" created="Tue, 13 Sep 2016 12:52:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; hi andriy, this change seems to be a follow up to your previous change of adding explicit jackson install commands. Shouldn&apos;t these jackson bundles automatically be installed with cxf-rs-description-swagger2 feature, no?&lt;/p&gt;</comment>
                            <comment id="15487500" author="reta" created="Tue, 13 Sep 2016 15:22:40 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt;, I think we could make it a part of the cxf-rs-description-swagger2 feature, I am not sure if Jackson is a hard dependency for Swagger 2 or just a part of the sample project, I will check that shortly. Thanks!&lt;/p&gt;</comment>
                            <comment id="15487534" author="ay" created="Tue, 13 Sep 2016 15:33:33 +0000"  >&lt;p&gt;Hi Andriy,&lt;br/&gt;
aren&apos;t they already in the feature descriptor? I remember using that feature to install all those jackson bundles. And I thought there was no extra installation needed. &lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="15487723" author="reta" created="Tue, 13 Sep 2016 16:48:02 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;As far as I remember, they aren&apos;t, I had to update README file for the sample in order to include those.&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15487737" author="sergey_beryozkin" created="Tue, 13 Sep 2016 16:54:30 +0000"  >&lt;p&gt;Hi, I can run description_swagger2 demo and get Swagger JSON without Jackson - so I guess it is a demo specific dependency only ?&lt;/p&gt;</comment>
                            <comment id="15487801" author="reta" created="Tue, 13 Sep 2016 17:15:34 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergeyb&quot; class=&quot;user-hover&quot; rel=&quot;sergeyb&quot;&gt;sergeyb&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;That&apos;s exactly what I wanted to make sure. Our sample project uses Jackson, not a reason to change the feature, but I wanted to check if Swagger itself has hard dependencies on Jackson. &lt;br/&gt;
If it has, we should better update the feature as well. Does it make sense? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15488673" author="ay" created="Tue, 13 Sep 2016 22:38:17 +0000"  >&lt;p&gt;Hi Andriy,&lt;br/&gt;
well, I verified the original feature.xml &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/commit/af7de1d82d77e3653b72ee83b4aa3f91e1a1d039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/af7de1d82d77e3653b72ee83b4aa3f91e1a1d039&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and those jackson bundles were there and those entries are still there in the current feature.xml.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/blob/master/osgi/karaf/features/src/main/resources/features.xml#L236-L254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/blob/master/osgi/karaf/features/src/main/resources/features.xml#L236-L254&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;so, you don&apos;t need to install them extra when using cxf&apos;s swagger feature.&lt;/p&gt;

&lt;p&gt;The only occasion this can go wrong is that since we are pulling the jackson version from swagger transitively and write them into the cxf-description-swagger&apos;s manifest. So, if someone changes cxf parent&apos;s jackson version while keeping the swagger version, the jackson version referenced in cxf&apos;s feature.xml and what is actually referenced in cf-description-swagger&apos;s manifest might diverge too far so that the wiring can fail. And I suspect this was what had happened in your situation.&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;
</comment>
                            <comment id="15488986" author="reta" created="Wed, 14 Sep 2016 01:00:06 +0000"  >&lt;p&gt;Hi Aki,&lt;/p&gt;

&lt;p&gt;You are right, the Jackson is actually in the feature.xml. I tend to agree with you, there is very likely a conflict in manifest because the same dependency resolution issue led me to README file update. I will take a look in order to prove this hypothesis. &lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15489877" author="sergey_beryozkin" created="Wed, 14 Sep 2016 09:01:44 +0000"  >&lt;p&gt;Yes, I realized afterwards Swagger was pulling in a Jackson provider itself &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="15490634" author="reta" created="Wed, 14 Sep 2016 14:57:58 +0000"  >&lt;p&gt;Hey guys,&lt;/p&gt;

&lt;p&gt;Here is what I have found. The dependencies for Jackson are indeed in the feature.xml file but those two:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        &amp;lt;bundle start-level=&quot;35&quot; dependency=&quot;true&quot;&amp;gt;mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-base/2.6.6&amp;lt;/bundle&amp;gt;
        &amp;lt;bundle start-level=&quot;35&quot; dependency=&quot;true&quot;&amp;gt;mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/2.6.6&amp;lt;/bundle&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Are not being installed as part of feature:install. Apparently, due to &lt;b&gt;dependency=&quot;true&quot;&lt;/b&gt;, there is another bundle which satisfy those dependencies and they are skipped. For a sake of experiment, I removed &lt;b&gt;dependency=&quot;true&quot;&lt;/b&gt;, deployed feature, deployed sample and everything resolves perfectly. So I think this is the issue, looking right now where the conflict comes from. &lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15491378" author="reta" created="Wed, 14 Sep 2016 20:28:02 +0000"  >&lt;p&gt;I think the problem is understood: our Swagger 2 implementation does not directly depend on &lt;b&gt;com.fasterxml.jackson.jaxrs&lt;/b&gt; so that is why those are not being installed during &lt;b&gt;feature:install&lt;/b&gt;.  Now, there are couple of options here:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove &lt;b&gt;com.fasterxml.jackson.jaxrs&lt;/b&gt; from the &lt;b&gt;feature.xml&lt;/b&gt; so it becomes the responsibility of the user to install it&lt;/li&gt;
	&lt;li&gt;add &lt;b&gt;com.fasterxml.jackson.jaxrs.json;resolution:=optional&lt;/b&gt; to &lt;b&gt;cxf.osgi.import&lt;/b&gt; section (&lt;b&gt;cxf-rt-rs-service-description-swagger&lt;/b&gt; module)&lt;/li&gt;
	&lt;li&gt;remove &lt;b&gt;dependency=&quot;true&quot;&lt;/b&gt; or use &lt;b&gt;install=&quot;auto&quot;&lt;/b&gt; (waiting for advise here from Christian)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It seems like the first option is the easier one to take, but second one could be more beneficial to the users, what do you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt;?&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="15492793" author="ay" created="Thu, 15 Sep 2016 08:56:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reta&quot; class=&quot;user-hover&quot; rel=&quot;reta&quot;&gt;reta&lt;/a&gt; Hi Andriy, thanks for investigating the root cause. &lt;br/&gt;
Regarding com.fasterxml.jackson.jaxrs, it was referenced by swagger-jars 1.5.4, but not by the recent ones. And it used to all work with cxf-3.1.5. I remember swagger-feature of cxf-3.1.6 was broken because of the late change to the jackson version in parent/pom.xml that was inconsistent with the jackson version used by swagger. I remember fixing this issue in 3.1.7-SNAPSHOT and tested it to work using the cxf-rt-rs-service-description-swagger feature. But somehow, the released cxf 3.1.7 seems to have the wiring issue.&lt;/p&gt;</comment>
                            <comment id="15493062" author="reta" created="Thu, 15 Sep 2016 11:32:49 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Yeah, it looks like that, dependency may have been present but not anymore. So what road we would take? I would better not introduce the dependencies we really don&apos;t need (remove it from feature.xml and update README with those two bundles only). Or, adding optional dependency would be also an easy win. What do you think?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15493078" author="sergey_beryozkin" created="Thu, 15 Sep 2016 11:42:38 +0000"  >&lt;p&gt;Hi Andriy, Aki&lt;/p&gt;

&lt;p&gt;I&apos;d rather let the users deal with it, yes. The user may have already installed Jackson for the JAX-RS application to work with.&lt;br/&gt;
Shoud we still have&lt;/p&gt;

&lt;p&gt;com.fasterxml.jackson.jaxrs.json;resolution:=optional added to the cxf.osgi.import section ?&lt;/p&gt;</comment>
                            <comment id="15493259" author="reta" created="Thu, 15 Sep 2016 13:07:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I think this is the right decision. No, we don&apos;t need com.fasterxml.jackson.jaxrs.json;resolution:=optional in this case. We could remove com.fasterxml.jackson.jaxrs from feature.xml&lt;br/&gt;
and update README for the sample project to ask the users to install two com.fasterxml.jackson.jaxrs bundles manually (if they are not present in Karaf container). Sounds good?&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15493599" author="sergey_beryozkin" created="Thu, 15 Sep 2016 15:10:16 +0000"  >&lt;p&gt;Hi Andriy&lt;/p&gt;

&lt;p&gt;I&apos;m not understanding something. You and Aki are saying that &apos;that dependency&apos; is not there any more.&lt;br/&gt;
But non-OSGI demo does show these Jackson providers being pulled in.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure why listing these jackson providers is not sufficient... &lt;/p&gt;

&lt;p&gt;Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="15493728" author="reta" created="Thu, 15 Sep 2016 15:50:25 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;That&apos;s right,  that dependency is not here anymore for  cxf-rt-rs-service-description-swagger feature.&lt;br/&gt;
Rather, those become the dependency for sample applications only and as such, have to be installed manually (before we installed them as part of cxf-rt-rs-service-description-swagger feature).&lt;br/&gt;
Does it make things clearer a bit?&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15493754" author="sergey_beryozkin" created="Thu, 15 Sep 2016 15:57:52 +0000"  >&lt;p&gt;Hey Andriy, I&apos;m feeling terribly slow today &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, so stay with me please. I&apos;ve just looked at the CXF source and I saw these Jackson JAX-RS provider in the list - so what I&apos;ve missed so far is why having it there is not enough and why users have to install it manually ?&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15493952" author="reta" created="Thu, 15 Sep 2016 17:04:44 +0000"  >&lt;p&gt;Hey Sergey,&lt;/p&gt;

&lt;p&gt;No problem. So here is the thing (Swagger 2 OSGi sample):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;yes, you see the usage of JAX-RS provider in the sample (which is part of com.fasterxml.jackson.jaxrs artifacts)&lt;/li&gt;
	&lt;li&gt;yes,  cxf-rt-rs-service-description-swagger lists two com.fasterxml.jackson.jaxrs artifacts in the feature.xml definition&lt;/li&gt;
	&lt;li&gt;however, they won&apos;t be installed by Karaf, because our Swagger 2 integration does not depend on any class from com.fasterxml.jackson.jaxrs artifacts (the respective bundles are marked with dependency=&quot;true&quot; attribute)&lt;/li&gt;
	&lt;li&gt;but our Swagger 2 OSGi sample uses JacksonJsonProvider so when it is being installed into Karaf container, two com.fasterxml.jackson.jaxrs have to be installed manually as well&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As Aki mention, previous version of Swagger had a dependency to com.fasterxml.jackson.jaxrs and as such, Karaf installed them as part of cxf-rt-rs-service-description-swagger feature. In this case, our samples just work, nothing to be done. Now, the dependency graph has changed and com.fasterxml.jackson.jaxrs are resolved as a unused dependencies (and as such skipped), so when we ask user to install sample application bundle, com.fasterxml.jackson.jaxrs bundles are not present and have to be installed manually &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Hope I included all the pieces ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Please let me know if something is still not clear.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15494495" author="sergey_beryozkin" created="Thu, 15 Sep 2016 20:52:38 +0000"  >&lt;p&gt;Hey Andriy&lt;/p&gt;

&lt;p&gt;Thanks for your patience, I think it is getting a bit clearer for me.&lt;br/&gt;
So, it appears to be an OSGI wiring issue, right, if, despite the dependency graph change it is all working fine in non-OSGI ?&lt;br/&gt;
That solution 3 you mentioned - is still an option ?&lt;/p&gt;

&lt;p&gt;Thanks. Sergey&lt;/p&gt;</comment>
                            <comment id="15494840" author="reta" created="Thu, 15 Sep 2016 23:33:10 +0000"  >&lt;p&gt;Hey Sergey,&lt;/p&gt;

&lt;p&gt;Great, no problem! Yeah, exactly, for non-OSGi samples there are no issues. By solution 3 you mean this one: &lt;b&gt;remove dependency=&quot;true&quot; or use install=&quot;auto&quot;&lt;/b&gt;? Thanks to Christian we could simplify it to just &lt;b&gt;remove dependency=&quot;true&quot; for com.fasterxml.jackson.jaxrs bundles only&lt;/b&gt;. Yeah, it is still the option, right.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
     Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15496577" author="sergey_beryozkin" created="Fri, 16 Sep 2016 15:29:05 +0000"  >&lt;p&gt;I&apos;ve been wondering if we should support different scenarios and thus have few features.&lt;br/&gt;
First we should have a helper &apos;jackson&apos; feature - for all the users who prefer to install Jackson in OSGI, this in itself not related to Swagger2.&lt;br/&gt;
Next we have a &apos;minimal&apos; Swagger2 feature - it has all but jackson specific dependencies.&lt;br/&gt;
Finally we have a current swagger2 feature which, with option3 enforced, simply works - it will depend on a new jackson feature.&lt;/p&gt;

&lt;p&gt;So if a user has already installed Jackson manually or with a new Jackson feature to support JSON at the application level and Swagger is needed -  then &apos;minimal&apos; Swagger2 feature is installed. Otherwise - a complete swagger2 feature is installed.&lt;/p&gt;

&lt;p&gt;Does it work ?&lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="15496605" author="reta" created="Fri, 16 Sep 2016 15:41:48 +0000"  >&lt;p&gt;Hey Sergey,&lt;/p&gt;

&lt;p&gt;Not sure about that, really. I understand what you mean, but it sounds complicated to me. And probably, it won&apos;t be straightforward to the users as well. Regarding this particular use case, I think we would be safe by just installing com.fasterxml.jackson.jaxrs bundles. The cxf-rt-rs-service-description-swagger already dependents on quite a few core Jackson libraries, so we would just introduce a few more which users, very likely, will need anyway. What do you think?&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15496630" author="sergey_beryozkin" created="Fri, 16 Sep 2016 15:50:24 +0000"  >&lt;p&gt;Hi Andriy, I&apos;m actually thinking it will become easier for the users.&lt;/p&gt;

&lt;p&gt;Lets take it step by step.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Users need Jackson (without even worrying about Swagger) - they have to do &lt;b&gt;5&lt;/b&gt; install commands, see&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cxf/pull/167/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/167/files&lt;/a&gt;.&lt;br/&gt;
So having Jackson feature in its own is good IMHO - only one install command.&lt;/li&gt;
	&lt;li&gt;Now users install Swagger 2 feature and all works.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Having Swagger2 feature forcing the install of Jackson is OK as long as this Jackson will not interfere with other installed Jacksons.&lt;br/&gt;
So if we 2 swagger features, one for a case where Jackson is already installed and one for a case where it has not been installed, then I can only see it becoming simpler.&lt;/p&gt;

&lt;p&gt;Where is the complexity coming from in your opinion, lets take some concrete examples&lt;br/&gt;
thanks, Sergey &lt;/p&gt;



</comment>
                            <comment id="15496718" author="reta" created="Fri, 16 Sep 2016 16:21:30 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I think it is feasible in general, but why would CXF provide a feature to install just Jackson? Here is basically the concern I have. F.e. if I am building an application and I need to install additional bundles (Jackson is good example, like you mentioned), I do know that and I will install them. Now, it happens that our own sample project has to include some additional bundles as well. We could make this process easier (by pre-installing some bundles, hopefully users will need them anyway) or ask user to do that. &lt;/p&gt;

&lt;p&gt;I am honestly not sure about having dedicated CXF feature for Jackson, it feels like that should not be the CXF responsibility but Jackson itself. However we do have similar use cases, f.e. &lt;b&gt;cxf-jaxb&lt;/b&gt;, so I think in general it might be OK. So it would mean to have standalone &lt;b&gt;cxf-jackson&lt;/b&gt; feature, and &lt;b&gt;cxf-rt-rs-service-description-swagger&lt;/b&gt; will depend on it as well, right?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko &lt;/p&gt;</comment>
                            <comment id="15497328" author="sergey_beryozkin" created="Fri, 16 Sep 2016 20:52:33 +0000"  >&lt;p&gt;Hi Andriy, &lt;br/&gt;
I see what your concern is, why would CXF worry about facilitating installing Jackson.&lt;br/&gt;
Jackson&apos;s only concern, as far as OSGI is concerned, is to have each of those 5+ jars OSGI-friendly. &lt;br/&gt;
But even so, we haven&apos;t had any specific Jackson support till now.&lt;/p&gt;

&lt;p&gt;I guess all the features that we ship with CXF enable something atomically. So if we have a swagger2 feature that does not actually  enable Swagger unless a user manually pre-installs Jackson then I&apos;d say the feature is incomplete.&lt;/p&gt;

&lt;p&gt;But Swagger2 OSGI feature actually has an indirect support for Jackson right now. So we can make it work with Option3. But we can also make it work by introducing cxf-jackson, and as you said have the existing swagger2feature depend on it - it will be mostly equivalent to what we right now but the extra benefit that CXF users can use cxf-jackson on its own...&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;

</comment>
                            <comment id="15497692" author="reta" created="Fri, 16 Sep 2016 23:10:31 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;I think on a second thought it probably makes sense. So let us:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;introduce a standalone feature &lt;b&gt;cxf-jackson&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;change &lt;b&gt;cxf-rt-rs-service-description-swagger&lt;/b&gt; to depend on it&lt;/li&gt;
	&lt;li&gt;update sample&apos;s README to remove additional steps as all the bundles should be installed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sounds like a good plan? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15498973" author="sergey_beryozkin" created="Sat, 17 Sep 2016 13:00:08 +0000"  >&lt;p&gt;Hi Andriy&lt;/p&gt;

&lt;p&gt;If you are OK too and agree it can make sense then lets do it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
Effectively it will be just a minor refactoring of the existing Swagger2 feature but with an extra positive effect for regular CXF Jackson users...&lt;br/&gt;
Thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="15498982" author="reta" created="Sat, 17 Sep 2016 13:05:02 +0000"  >&lt;p&gt;Hi Sergey,&lt;/p&gt;

&lt;p&gt;Yeah, I think should be good, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt;, what do you think?&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15499005" author="sergey_beryozkin" created="Sat, 17 Sep 2016 13:20:44 +0000"  >&lt;p&gt;Hey Andriy - try the demo please next week with the refactored feature - if that works then Aki may quite like it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Sergey&lt;/p&gt;</comment>
                            <comment id="15502676" author="ay" created="Mon, 19 Sep 2016 08:17:13 +0000"  >&lt;p&gt;Hi Andriy, Sergey,&lt;br/&gt;
Umm. I am missing to see the benefit of having a cxf-jackson feature. If this feature is only used by the swagger2 feature and no other cxf component is using it, there is no benefit of it at this moment.  And if other cxf components start using it for their jackson scenarios, we will need to synchronized its versions across all those jackson consuming components (so we can go less frequent upgrade or must introduce multiple versioned jackson features (e.g., jackson-nn) used by specific components. In short, I think introducing a jackson feature now seems to make our life more complicated, no?&lt;/p&gt;

&lt;p&gt;regards, aki&lt;/p&gt;</comment>
                            <comment id="15502694" author="ay" created="Mon, 19 Sep 2016 08:24:36 +0000"  >&lt;p&gt;Hi Andriy, Sergey,&lt;br/&gt;
on second thought, maybe it&apos;s practical to introduce a jackson feature and we can deal with the version upgrading issue when we actually encounter one.&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                            <comment id="15502928" author="sergey_beryozkin" created="Mon, 19 Sep 2016 09:57:45 +0000"  >&lt;p&gt;Hi Aki, &lt;br/&gt;
Besides that here is what I said in some of my comments, there were few of them.&lt;/p&gt;

&lt;p&gt;Right now Swagger 2 feature already includes Jackson deps - but the feature does not work and the user have to install Jackson deps manually. Removing these deps out of the feature will not make a feature complete - if a user has to pre-install Jackson manually for the feature to work then there&apos;s little point in having the feature in the 1st place. &lt;/p&gt;

&lt;p&gt;So we can keep these deps inside the feature by tweaking some of the attributes for the Jackson deps to resolve properly. But Jackson being Jackson, it is used a lot by CXF users who may not care about Swagger at all - all they need is JSON returned from their services. So if we do a simple refactoring and keep Jackson deps with the Swagger feature by having it depend on a dedicated Jackson feature instead of inlining these deps then:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Swagger feature works and users do not install Jackson manually as in this demo&lt;/li&gt;
	&lt;li&gt;Extra benefit for free - CXF Jackson users can stop typing 5 install commands for all of the libs Jackson needs&lt;/li&gt;
	&lt;li&gt;Will  let us deal later on with the case where users have Jackson installed, and now need Swagger2, but do not want it installing its own Jackson deps.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I reckon it will make things simpler, with Jackson, Swagger or Jackson/Swagger users all winning.&lt;br/&gt;
Cheers, Sergey&lt;/p&gt;</comment>
                            <comment id="15503165" author="reta" created="Mon, 19 Sep 2016 11:35:51 +0000"  >&lt;p&gt;Hi Aki, Sergey,&lt;/p&gt;

&lt;p&gt;Awesome, will do the change today.&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15503492" author="ay" created="Mon, 19 Sep 2016 13:26:49 +0000"  >&lt;p&gt;sounds good.&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="15505191" author="reta" created="Tue, 20 Sep 2016 00:58:04 +0000"  >&lt;p&gt;Done, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey_beryozkin&quot; class=&quot;user-hover&quot; rel=&quot;sergey_beryozkin&quot;&gt;sergey_beryozkin&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ay&quot; class=&quot;user-hover&quot; rel=&quot;ay&quot;&gt;ay&lt;/a&gt;: &lt;br/&gt;
 master @ &lt;a href=&quot;https://github.com/apache/cxf/commit/507ad4be6ee6056bb75e8decef9ee8e1ef13c334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/507ad4be6ee6056bb75e8decef9ee8e1ef13c334&lt;/a&gt;&lt;br/&gt;
 3.1.fixes @ &lt;a href=&quot;https://github.com/apache/cxf/commit/9d7c9508ba36161e795390985f384169c4f0d086&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/commit/9d7c9508ba36161e795390985f384169c4f0d086&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Works perfectly on Karaf 4.0.6 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;Best Regards,&lt;br/&gt;
    Andriy Redko&lt;/p&gt;</comment>
                            <comment id="15506092" author="sergey_beryozkin" created="Tue, 20 Sep 2016 09:01:32 +0000"  >&lt;p&gt;Hi Andriy, great, thanks. &lt;br/&gt;
FYI, I also updated newly introduced Karaf4 specific features:&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/cxf/commit/44c608c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/cxf/commit/44c608c2&lt;/a&gt;&lt;br/&gt;
(see &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7060&quot; title=&quot;Provide Karaf 4 specific features and commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7060&quot;&gt;&lt;del&gt;CXF-7060&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Thanks, Sergey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33ebb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>