<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:33:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1622] org.apache.cxf.interceptor.StaxOutInterceptor uses StAX API incorrectly</title>
                <link>https://issues.apache.org/jira/browse/CXF-1622</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Method StaxOutInterceptor.handleMessage(Message msg) calls javax.xml.stream.XMLStreamWriter.writeStartDocument(String) assuming that the string arg denotes the xml encoding while the StAX javadoc says it denotes the xml version. There&apos;s another variant that has two inputs javax.xml.stream.XMLStreamWriter.writeStartDocument(String encoding, String version) that should be used instead.&lt;/p&gt;

&lt;p&gt;The snippet below highlights the erroneous api call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void handleMessage(Message message) {
        OutputStream os = message.getContent(OutputStream.class);
        XMLStreamWriter writer = message.getContent(XMLStreamWriter.class);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (os == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || writer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
        }
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; os != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/span&gt;
        &lt;span class=&quot;code-comment&quot;&gt;// TODO: where does encoding constant go?
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encoding = getEncoding(message);
        
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            writer = getXMLOutputFactory(message).createXMLStreamWriter(os, encoding);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE.equals(message.getContextualProperty(FORCE_START_DOCUMENT))) {
                writer.writeStartDocument(encoding);  &lt;span class=&quot;code-comment&quot;&gt;/*&amp;lt;=====================================================================THIS IS THE ERRONEOUS API CALL*/&lt;/span&gt;
            }
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (XMLStreamException e) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Fault(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.cxf.common.i18n.Message(&lt;span class=&quot;code-quote&quot;&gt;&quot;STREAM_CREATE_EXC&quot;&lt;/span&gt;, BUNDLE), e);
        }
        message.setContent(XMLStreamWriter.class, writer);

        &lt;span class=&quot;code-comment&quot;&gt;// Add a &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; interceptor to write end elements
&lt;/span&gt;        message.getInterceptorChain().add(ending);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12397264">CXF-1622</key>
            <summary>org.apache.cxf.interceptor.StaxOutInterceptor uses StAX API incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bmargulies">Benson Margulies</assignee>
                                    <reporter username="lipkap">Pawel Lipka</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2008 08:34:50 +0000</created>
                <updated>Thu, 3 Jul 2008 17:19:33 +0000</updated>
                            <resolved>Mon, 2 Jun 2008 12:17:51 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.1.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12601613" author="bmargulies" created="Mon, 2 Jun 2008 12:17:51 +0000"  >&lt;p&gt;Fix committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0syiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>