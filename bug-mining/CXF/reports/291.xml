<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:37:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1880] org.apache.cxf.xjc.ts.ToStringPlugin cannot be used with a 1.6 JVM</title>
                <link>https://issues.apache.org/jira/browse/CXF-1880</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If CXF is on the classpath when you invoke the JXC code generator, it tries to load the org.apache.cxf.xjc.ts.ToStringPlugin as a JAXB plugin, but due to some problems with the 1.6 JVM, it fails:&lt;/p&gt;

&lt;p&gt;bash-2.05b$ gunzip -c apache-cxf-2.1.2.tar.gz | tar xf -&lt;br/&gt;
bash-2.05b$ cd apache-cxf-2.1.2/lib&lt;br/&gt;
bash-2.05b$ java -classpath $(pwd)/cxf-manifest.jar com.sun.tools.xjc.XJCFacade&lt;br/&gt;
grammar is not specified&lt;/p&gt;

&lt;p&gt;Usage: xjc &lt;span class=&quot;error&quot;&gt;&amp;#91;-options ...&amp;#93;&lt;/span&gt; &amp;lt;schema file/URL/dir/jar&amp;gt; ... &lt;span class=&quot;error&quot;&gt;&amp;#91;-b &amp;lt;bindinfo&amp;gt;&amp;#93;&lt;/span&gt; ...&lt;br/&gt;
If dir is specified, all schema files in it will be compiled.&lt;br/&gt;
If jar is specified, /META-INF/sun-jaxb.episode binding file will be compiled.&lt;br/&gt;
Options:&lt;br/&gt;
  -nv                :  do not perform strict validation of the input schema(s)&lt;br/&gt;
  -extension         :  allow vendor extensions - do not strictly follow the&lt;br/&gt;
                        Compatibility Rules and App E.2 from the JAXB Spec&lt;br/&gt;
  -b &amp;lt;file/dir&amp;gt;      :  specify external bindings files (each &amp;lt;file&amp;gt; must have its own -b)&lt;br/&gt;
                        If a directory is given, *&lt;b&gt;/&lt;/b&gt;.xjb is searched&lt;br/&gt;
  -d &amp;lt;dir&amp;gt;           :  generated files will go into this directory&lt;br/&gt;
  -p &amp;lt;pkg&amp;gt;           :  specifies the target package&lt;br/&gt;
  -httpproxy &amp;lt;proxy&amp;gt; :  set HTTP/HTTPS proxy. Format is [user&lt;span class=&quot;error&quot;&gt;&amp;#91;:password&amp;#93;&lt;/span&gt;@]proxyHost:proxyPort&lt;br/&gt;
  -httpproxyfile &amp;lt;f&amp;gt; :  Works like -httpproxy but takes the argument in a file to protect password &lt;br/&gt;
  -classpath &amp;lt;arg&amp;gt;   :  specify where to find user class files&lt;br/&gt;
  -catalog &amp;lt;file&amp;gt;    :  specify catalog files to resolve external entity references&lt;br/&gt;
                        support TR9401, XCatalog, and OASIS XML Catalog format.&lt;br/&gt;
  -readOnly          :  generated files will be in read-only mode&lt;br/&gt;
  -npa               :  suppress generation of package level annotations (**/package-info.java)&lt;br/&gt;
  -no-header         :  suppress generation of a file header with timestamp&lt;br/&gt;
  -target 2.0        :  behave like XJC 2.0 and generate code that doesnt use any 2.1 features.&lt;br/&gt;
  -xmlschema         :  treat input as W3C XML Schema (default)&lt;br/&gt;
  -relaxng           :  treat input as RELAX NG (experimental,unsupported)&lt;br/&gt;
  -relaxng-compact   :  treat input as RELAX NG compact syntax (experimental,unsupported)&lt;br/&gt;
  -dtd               :  treat input as XML DTD (experimental,unsupported)&lt;br/&gt;
  -wsdl              :  treat input as WSDL and compile schemas inside it (experimental,unsupported)&lt;br/&gt;
  -verbose           :  be extra verbose&lt;br/&gt;
  -quiet             :  suppress compiler output&lt;br/&gt;
  -help              :  display this help message&lt;br/&gt;
  -version           :  display version information&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.util.ServiceConfigurationError: com.sun.tools.xjc.Plugin: Provider org.apache.cxf.xjc.ts.ToStringPlugin could not be instantiated: java.lang.ClassCastException&lt;br/&gt;
        at java.util.ServiceLoader.fail(ServiceLoader.java:207)&lt;br/&gt;
        at java.util.ServiceLoader.access$100(ServiceLoader.java:164)&lt;br/&gt;
        at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:353)&lt;br/&gt;
        at java.util.ServiceLoader$1.next(ServiceLoader.java:421)&lt;br/&gt;
        at com.sun.tools.xjc.Options.findServices(Options.java:884)&lt;br/&gt;
        at com.sun.tools.xjc.Options.getAllPlugins(Options.java:336)&lt;br/&gt;
        at com.sun.tools.xjc.Driver.usage(Driver.java:510)&lt;br/&gt;
        at com.sun.tools.xjc.Driver._main(Driver.java:125)&lt;br/&gt;
        at com.sun.tools.xjc.Driver.access$000(Driver.java:74)&lt;br/&gt;
        at com.sun.tools.xjc.Driver$1.run(Driver.java:96)&lt;br/&gt;
Caused by: java.lang.ClassCastException&lt;br/&gt;
        at java.lang.Class.cast(Class.java:2990)&lt;br/&gt;
        at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:345)&lt;br/&gt;
        ... 7 more&lt;br/&gt;
bash-2.05b$ which java&lt;br/&gt;
/...&amp;lt;snip&amp;gt;.../sunjdk/1.6.0_06/bin/java&lt;/p&gt;

&lt;p&gt;The only solution to this problem that I have been able to find is to put all XJC plugins in a subpackage of com.sun.tools.xjc.addon. No endorsed dirs hackery seems to work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406825">CXF-1880</key>
            <summary>org.apache.cxf.xjc.ts.ToStringPlugin cannot be used with a 1.6 JVM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="prophet36">Chris McClelland</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Oct 2008 13:57:41 +0000</created>
                <updated>Wed, 2 Feb 2011 05:05:29 +0000</updated>
                            <resolved>Mon, 8 Jun 2009 19:57:06 +0000</resolved>
                                    <version>2.1.2</version>
                                    <fixVersion>2.1.6</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                    <fixVersion>2.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12713571" author="tbee" created="Wed, 27 May 2009 13:50:42 +0000"  >&lt;p&gt;I ran into the same problem using this ant task:&lt;/p&gt;

&lt;p&gt;    	&amp;lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&amp;gt;&lt;br/&gt;
    		&amp;lt;classpath&amp;gt;&lt;br/&gt;
    			&amp;lt;fileset dir=&quot;${JAXB_HOME}&quot; includes=&quot;*&lt;b&gt;/&lt;/b&gt;.jar&quot; /&amp;gt;&lt;br/&gt;
    			&amp;lt;fileset dir=&quot;lib&quot; includes=&quot;*&lt;b&gt;/&lt;/b&gt;.jar&quot; /&amp;gt;&lt;br/&gt;
    		&amp;lt;/classpath&amp;gt;&lt;br/&gt;
    	&amp;lt;/taskdef&amp;gt;&lt;/p&gt;

&lt;p&gt;By removing my project-lib, the problem went away:&lt;/p&gt;

&lt;p&gt;    	&amp;lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&amp;gt;&lt;br/&gt;
    		&amp;lt;classpath&amp;gt;&lt;br/&gt;
    			&amp;lt;fileset dir=&quot;${JAXB_HOME}&quot; includes=&quot;*&lt;b&gt;/&lt;/b&gt;.jar&quot; /&amp;gt;&lt;br/&gt;
    		&amp;lt;/classpath&amp;gt;&lt;br/&gt;
    	&amp;lt;/taskdef&amp;gt;&lt;/p&gt;

&lt;p&gt;Appearantly there is some jar in my lib causing the problem...&lt;/p&gt;</comment>
                            <comment id="12714334" author="prophet36" created="Fri, 29 May 2009 07:06:03 +0000"  >&lt;p&gt;Right. But I only phrased the problem like this for simplicity&apos;s sake. The real problem is that wsdl2java invokes the JAXB plugin when generating client-side proxies. Removing the CXF classes from the classpath is not an option in that case.&lt;/p&gt;</comment>
                            <comment id="12716340" author="dkulp" created="Thu, 4 Jun 2009 17:48:20 +0000"  >
&lt;p&gt;Apache legal actually said it&apos;s OK to put small wrapper things in com.sun.tools.xjc.addon.apache_cxf.   Apparently the same thing needs to be done in Harmony to have some &quot;com.sun&quot; classes that various things expect.    Thus, we can keep the &quot;real&quot; code in org.apache.cxf and put thin wrappers in com.sun.tools.xjc.addon.apache_cxf.      &lt;/p&gt;

&lt;p&gt;A patch would be nice.   Any takers?&lt;/p&gt;</comment>
                            <comment id="12716345" author="prophet36" created="Thu, 4 Jun 2009 17:54:58 +0000"  >&lt;p&gt;I raised the JIRA so I guess it should be me who writes the patch. It may take a day or two for me to get around to it.&lt;/p&gt;</comment>
                            <comment id="12716727" author="prophet36" created="Fri, 5 Jun 2009 19:02:35 +0000"  >&lt;p&gt;Here&apos;s the patch, hope it&apos;s OK.&lt;/p&gt;</comment>
                            <comment id="12989515" author="amita.bhandari@cignex.com" created="Wed, 2 Feb 2011 05:05:29 +0000"  >&lt;p&gt;Please share the soultion for this issue. This is high priority for us.&lt;/p&gt;



&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Amita Bhandari&lt;/p&gt;

&lt;p&gt;Senior Consultant&lt;/p&gt;



&lt;p&gt;Direct: 079- 40207999 extension:116&lt;/p&gt;

&lt;p&gt;Mobile: 0937 7535 028&lt;/p&gt;





&lt;p&gt;&#8220;Liferay Partner of the Year, 2010&#8221;&lt;/p&gt;



&lt;p&gt;Disclaimer: The information contained in this communication is intended only for the use of the individual or entity named above. Any views or opinions presented are solely those of the author and do not necessarily represent those of CIGNEX Global Holding Corporation. It may contain legally privileged and confidential information and if you are not the intended recipient, you must not use, retain, copy, distribute or take any action in reliance on it. If you have received this communication in error, please notify the sender immediately by return email or by fax and delete all copies of the original message. &lt;/p&gt;



&lt;p&gt;&#61520; please consider the environment before printing this e-mail.&lt;/p&gt;






</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470019" name="ASF.LICENSE.NOT.GRANTED--image001.png" size="4177" author="amita.bhandari@cignex.com" created="Wed, 2 Feb 2011 05:05:29 +0000"/>
                            <attachment id="12410015" name="newPatch.sh.txt" size="7086" author="prophet36" created="Fri, 5 Jun 2009 19:02:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>