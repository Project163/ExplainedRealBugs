<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:40:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2627] Return Type List gets null on client if an empty list is returned</title>
                <link>https://issues.apache.org/jira/browse/CXF-2627</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;If you have a function that returns an empty list  the result will be null on client. Even If add a Responsewrapper to the interface it doesn&apos;t work. If have attached a little test project / program:&lt;/p&gt;

&lt;p&gt;Interface:&lt;br/&gt;
@WebService(targetNamespace = &quot;http://cxf.apache.org/demo/CustomerService/1/&quot;, name = &quot;CustomerService&quot;)&lt;br/&gt;
@SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL)&lt;br/&gt;
public interface CustomerService &lt;/p&gt;
{

	@WebMethod(action = &quot;findCustomer&quot;, operationName = &quot;findCustomer&quot;)
	public @WebResult(name = &quot;customerList&quot;)
	List&amp;lt;Customer&amp;gt; findCustomer();
	
	
	@WebMethod(action = &quot;findCustomer2&quot;, operationName = &quot;findCustomer2&quot;)
	@ResponseWrapper(className=&quot;demo.service.CustomerListResponse&quot;)
	public @WebResult(name = &quot;customerList&quot;)
	List&amp;lt;Customer&amp;gt; findCustomer2();

}

&lt;p&gt;The Implementation:&lt;/p&gt;

&lt;p&gt;@WebService(name = &quot;CustomerService&quot;, serviceName = &quot;CustomerService&quot;, targetNamespace = &quot;http://cxf.apache.org/demo/CustomerService/1/&quot;, endpointInterface = &quot;demo.service.CustomerService&quot;)&lt;br/&gt;
public class CustomerServiceImpl implements CustomerService {&lt;/p&gt;

&lt;p&gt;	public List&amp;lt;Customer&amp;gt; findCustomer() &lt;/p&gt;
{
		// very stupid method
		return new ArrayList&amp;lt;Customer&amp;gt;();
	}

&lt;p&gt;	public List&amp;lt;Customer&amp;gt; findCustomer2() &lt;/p&gt;
{
		// another very stupid method
		return new ArrayList&amp;lt;Customer&amp;gt;();
	}

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;And this is the main programm:&lt;br/&gt;
public static void main(String args[]) throws Exception &lt;/p&gt;
{
		new Server();
		System.out.println(&quot;Server ready...&quot;);

		// Now Call the Service
		JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
		factory.getInInterceptors().add(new LoggingInInterceptor());

		factory.getOutInterceptors().add(new LoggingOutInterceptor());

		factory.setServiceClass(CustomerService.class);

		factory.setAddress(&quot;http://localhost:9000/CustomerService&quot;);

		CustomerService client = (CustomerService) factory.create();

		System.out.println(&quot;call findCustomer()&quot;);

		List&amp;lt;Customer&amp;gt; result = client.findCustomer();


		if (result != null)
			System.out.println(&quot;Listsize: &quot; + result.size());
		else
			System.out.println(&quot;List is null: &quot; + result);

		System.out.println(&quot;call findCustomer2()&quot;);

		result = client.findCustomer2();

		if (result != null) 
                         System.out.println(&quot;Listsize: &quot; + result.size());
		else
			System.out.println(&quot;List is null: &quot; + result);

		System.out.println(&quot;Server exiting&quot;);
                System.exit(0);
	}

&lt;p&gt;This will print the following output:&lt;/p&gt;

&lt;p&gt;Server ready...&lt;br/&gt;
call findCustomer()&lt;br/&gt;
20.01.2010 07:49:45 org.apache.cxf.interceptor.LoggingOutInterceptor$LoggingCallback onClose&lt;br/&gt;
INFO: Outbound Message&lt;br/&gt;
---------------------------&lt;br/&gt;
ID: 1&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:9000/CustomerService&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9000/CustomerService&lt;/a&gt;&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Content-Type: text/xml&lt;br/&gt;
Headers: &lt;/p&gt;
{SOAPAction=[&quot;findCustomer&quot;], Accept=[*/*]}
&lt;p&gt;Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns2:findCustomer xmlns:ns2=&quot;http://cxf.apache.org/demo/CustomerService/1/&quot;/&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;br/&gt;
--------------------------------------&lt;br/&gt;
20.01.2010 07:49:45 org.apache.cxf.interceptor.LoggingInInterceptor logging&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 1&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Content-Type: text/xml; charset=utf-8&lt;br/&gt;
Headers: &lt;/p&gt;
{Content-Length=[194], Server=[Jetty(6.1.21)], content-type=[text/xml; charset=utf-8]}
&lt;p&gt;Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns2:findCustomerResponse xmlns:ns2=&quot;http://cxf.apache.org/demo/CustomerService/1/&quot;/&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;br/&gt;
--------------------------------------&lt;br/&gt;
List is null: null&lt;br/&gt;
call findCustomer2()&lt;br/&gt;
20.01.2010 07:49:45 org.apache.cxf.interceptor.LoggingOutInterceptor$LoggingCallback onClose&lt;br/&gt;
INFO: Outbound Message&lt;br/&gt;
---------------------------&lt;br/&gt;
ID: 2&lt;br/&gt;
Address: &lt;a href=&quot;http://localhost:9000/CustomerService&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9000/CustomerService&lt;/a&gt;&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Content-Type: text/xml&lt;br/&gt;
Headers: &lt;/p&gt;
{SOAPAction=[&quot;findCustomer2&quot;], Accept=[*/*]}
&lt;p&gt;Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns2:findCustomer2 xmlns:ns2=&quot;http://cxf.apache.org/demo/CustomerService/1/&quot;/&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;br/&gt;
--------------------------------------&lt;br/&gt;
20.01.2010 07:49:45 org.apache.cxf.interceptor.LoggingInInterceptor logging&lt;br/&gt;
INFO: Inbound Message&lt;br/&gt;
----------------------------&lt;br/&gt;
ID: 2&lt;br/&gt;
Encoding: UTF-8&lt;br/&gt;
Content-Type: text/xml; charset=utf-8&lt;br/&gt;
Headers: &lt;/p&gt;
{Content-Length=[300], Server=[Jetty(6.1.21)], content-type=[text/xml; charset=utf-8]}
&lt;p&gt;Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns2:findCustomer2Response xmlns:ns2=&quot;http://cxf.apache.org/demo/CustomerService/1/&quot;&amp;gt;&amp;lt;return xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:nil=&quot;true&quot;/&amp;gt;&amp;lt;/ns2:findCustomer2Response&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;br/&gt;
--------------------------------------&lt;br/&gt;
List is null: null&lt;br/&gt;
Server exiting&lt;/p&gt;</description>
                <environment>&lt;p&gt;JSE 1.5 on Win XP&lt;/p&gt;</environment>
        <key id="12446001">CXF-2627</key>
            <summary>Return Type List gets null on client if an empty list is returned</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="mabaumga">Marc Baumgartner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 07:04:09 +0000</created>
                <updated>Tue, 7 Sep 2010 13:30:07 +0000</updated>
                            <resolved>Wed, 20 Jan 2010 19:15:25 +0000</resolved>
                                    <version>2.1.8</version>
                                    <fixVersion>2.2.7</fixVersion>
                                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12802716" author="mabaumga" created="Wed, 20 Jan 2010 07:05:31 +0000"  >&lt;p&gt;Eclipse/Maven Project to reproduce the behavior.&lt;/p&gt;</comment>
                            <comment id="12802912" author="dkulp" created="Wed, 20 Jan 2010 18:10:32 +0000"  >
&lt;p&gt;If you change the wrapper bean to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@XmlType(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;CustomerListResponse&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CustomerListResponse {

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;Customer&amp;gt; customerList;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setCustomerList(List&amp;lt;Customer&amp;gt; l) {
        customerList = l;
    }

    @XmlElementWrapper(nillable = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, name = &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;&quot;&lt;/span&gt;)
    @XmlElement(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;CustomerList&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Customer&amp;gt; getCustomerList() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; customerList;
    }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it seems to work fine.   It only seems to be an issue if the annotations are on a public field.   That&apos;s at least a workaround for you.&lt;/p&gt;</comment>
                            <comment id="12802944" author="dkulp" created="Wed, 20 Jan 2010 19:15:25 +0000"  >
&lt;p&gt;Using the getter/setter things above is the only workaround for 2.2.6.    Fix will be in place for 2.2.7.&lt;/p&gt;
</comment>
                            <comment id="12889370" author="conficio" created="Fri, 16 Jul 2010 22:25:49 +0000"  >&lt;p&gt;Sorry to say, but this issue is not working yet it 2.2.9. &lt;/p&gt;

&lt;p&gt;I attach this modified Example to show that only the workaround does work but the actual case of the public bean member in the wrapper class still does not work.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12473451">CXF-2978</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449722" name="EmptyListExample-2.2.9.log" size="4970" author="conficio" created="Fri, 16 Jul 2010 22:29:30 +0000"/>
                            <attachment id="12449721" name="EmptyListExample-2.2.9.zip" size="16369" author="conficio" created="Fri, 16 Jul 2010 22:25:49 +0000"/>
                            <attachment id="12430852" name="EmptyListExample.zip" size="10643" author="mabaumga" created="Wed, 20 Jan 2010 07:05:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a61z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>