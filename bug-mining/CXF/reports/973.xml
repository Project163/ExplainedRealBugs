<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:47:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3534] RMTxStore unable to create tables in Oracle DB (SQL Error: ORA-00902: invalid datatype)</title>
                <link>https://issues.apache.org/jira/browse/CXF-3534</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Between CXF 2.3.4 and 2.4.0 in RMTxStore there is a change in data types for RM tables. All DECIMAL types have been changed to BIGINT. When starting application which uses RM the RMTxStore throws exception trying to create tables in Oracle DB:&lt;/p&gt;

&lt;p&gt;java.sql.SQLSyntaxErrorException: ORA-00902: invalid datatype&lt;/p&gt;

&lt;p&gt;        at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:91)&lt;br/&gt;
        at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)&lt;br/&gt;
        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)&lt;br/&gt;
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:455)&lt;br/&gt;
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:413)&lt;br/&gt;
        at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:1030)&lt;br/&gt;
        at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:183)&lt;br/&gt;
        at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:936)&lt;br/&gt;
        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1222)&lt;br/&gt;
        at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1706)&lt;br/&gt;
        at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1674)&lt;br/&gt;
        at oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:274)&lt;br/&gt;
        at org.apache.cxf.ws.rm.persistence.jdbc.RMTxStore.createTables(RMTxStore.java:603)&lt;br/&gt;
        at org.apache.cxf.ws.rm.persistence.jdbc.RMTxStore.init(RMTxStore.java:668)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Oracle DB: 10.1.0.5.0 &lt;/p&gt;</environment>
        <key id="12507597">CXF-3534</key>
            <summary>RMTxStore unable to create tables in Oracle DB (SQL Error: ORA-00902: invalid datatype)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ay">Akitoshi Yoshida</assignee>
                                    <reporter username="maciejstarzyk">Maciej Starzyk</reporter>
                        <labels>
                            <label>ORA-00902</label>
                            <label>Oracle</label>
                    </labels>
                <created>Wed, 18 May 2011 11:34:55 +0000</created>
                <updated>Mon, 8 Aug 2011 14:43:47 +0000</updated>
                            <resolved>Fri, 27 May 2011 13:48:12 +0000</resolved>
                                    <version>2.4</version>
                                    <fixVersion>2.4.1</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13038461" author="ay" created="Tue, 24 May 2011 09:02:50 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I think the best option would be to keep the code part of RMTxStore unchanged but simply to change those BIGINT types to DECIMAL(19,0) in the DB-schema declaration in this class. &lt;br/&gt;
I thought we may have problems changing the DB-schema, but I think it should be okay because of the compatibilty between DECIMAL and BIGINT, both of which can be read via getLong().&lt;/p&gt;

&lt;p&gt;regards, aki &lt;/p&gt;</comment>
                            <comment id="13038748" author="ay" created="Tue, 24 May 2011 19:42:01 +0000"  >&lt;p&gt;Maybe we need to first clarify which drivers are supported by RMTxStore and discuss how we should proceed.&lt;/p&gt;

&lt;p&gt;Althought it&apos;s simple to make the current RMTxStore to also work for Oracle, the question remains for other drivers (e.g., MSSQL not working with BLOB).&lt;/p&gt;

&lt;p&gt;If we want to support other drivers or make life easier for people writing their own store implementaiton, should we introduce an abtraction in RMTxStore? &lt;/p&gt;

&lt;p&gt;please comment.&lt;br/&gt;
thanks. aki&lt;/p&gt;</comment>
                            <comment id="13040234" author="ay" created="Fri, 27 May 2011 13:48:12 +0000"  >&lt;p&gt;Replaced BIGINT with DECIMAL(19,0) and this will now work for Oracle DB.&lt;/p&gt;

&lt;p&gt;For other drivers, I will create a separate jira feature ticket.&lt;/p&gt;

&lt;p&gt;Thus, I am closing this ticket.&lt;br/&gt;
regards, aki&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b8yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>