<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:32:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-258] Default compression level incorrectly set to NO_COMPRESSION (0)</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-258</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;Default compression level has been changed in this commit from &lt;tt&gt;Deflater#DEFAULT_COMPRESSION&lt;/tt&gt; (-1) to &lt;tt&gt;DEFLATER#NO_COMPRESSION&lt;/tt&gt; (0): &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/commit/9515a785d4e6aa60503969023eadc0832f8c181b#diff-7c56322ea0d87bb499663bdee9c41967R40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/commit/9515a785d4e6aa60503969023eadc0832f8c181b#diff-7c56322ea0d87bb499663bdee9c41967R40&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The original patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-163&quot; title=&quot;Avoid compressing incompressible binaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-163&quot;&gt;&lt;del&gt;JCRVLT-163&lt;/del&gt;&lt;/a&gt; contained -1 (which was IMHO correct and is also more in line on how packages have been created prior to &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-163&quot; title=&quot;Avoid compressing incompressible binaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-163&quot;&gt;&lt;del&gt;JCRVLT-163&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129189">JCRVLT-258</key>
            <summary>Default compression level incorrectly set to NO_COMPRESSION (0)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jan 2018 08:38:41 +0000</created>
                <updated>Sun, 25 Feb 2018 02:13:11 +0000</updated>
                            <resolved>Tue, 9 Jan 2018 05:32:46 +0000</resolved>
                                    <version>3.1.40</version>
                                    <fixVersion>3.1.44</fixVersion>
                                    <component>Packaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16315905" author="marett" created="Mon, 8 Jan 2018 09:01:16 +0000"  >&lt;p&gt;The default compression level was set on purpose to &lt;tt&gt;DEFAULT_COMPRESSION&lt;/tt&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-163&quot; title=&quot;Avoid compressing incompressible binaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-163&quot;&gt;&lt;del&gt;JCRVLT-163&lt;/del&gt;&lt;/a&gt; in order to keep the same expectations regarding the compression level as it was before &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-163&quot; title=&quot;Avoid compressing incompressible binaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-163&quot;&gt;&lt;del&gt;JCRVLT-163&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I think it is important to set it back to &lt;tt&gt;DEFAULT_COMPRESSION&lt;/tt&gt; because it is ... a good default choice which fits well with a &quot;generic&quot; feature such as the Package Manager. Optimising for space or speed is use case specific IMO.&lt;/p&gt;

&lt;p&gt;One example of negative side effect of using &lt;tt&gt;NO_COMPRESSION&lt;/tt&gt; by default, is the increase size of content packages shipped in AEM.&lt;/p&gt;

&lt;p&gt;+1 for setting back the default compression level to &lt;tt&gt;DEFAULT_COMPRESSION&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16316137" author="kwin" created="Mon, 8 Jan 2018 11:27:04 +0000"  >&lt;p&gt;Just switching the default to &lt;tt&gt;DEFAULT_COMPRESSION&lt;/tt&gt; will trigger the issue observed in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-257&quot; title=&quot;ZipException: invalid code lengths set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-257&quot;&gt;&lt;del&gt;JCRVLT-257&lt;/del&gt;&lt;/a&gt; (at least on more recent Unix systems, leveraging a more recent zlib library). So at least a detection for the faulty zlib/java version must be included.&lt;/p&gt;</comment>
                            <comment id="16317740" author="tripod" created="Tue, 9 Jan 2018 05:32:46 +0000"  >&lt;p&gt;fixed in r1820626&lt;/p&gt;</comment>
                            <comment id="16332349" author="kwin" created="Fri, 19 Jan 2018 14:52:32 +0000"  >&lt;p&gt;Just for the record. Java 8 u162 does not contain the zlib fix from Oracle. This is now supposed to be fixed with the upcoming u172 (&lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8189789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8189789&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13048792">JCRVLT-163</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13129103">JCRVLT-257</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3omkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>