<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:32:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-293] Failing tests when building vault-core with -Doak=true</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-293</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt;, while investing &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-292&quot; title=&quot;Order of ACLs are altered on installation of content packages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-292&quot;&gt;&lt;del&gt;JCRVLT-292&lt;/del&gt;&lt;/a&gt; i noticed that &lt;em&gt;vault-core&lt;/em&gt; is by default built against jackrabbit 2.x and spotted the &lt;em&gt;-Doak=true&lt;/em&gt; option. when build agains Oak, i get the following tests failing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failures: 
[ERROR]   RCPTest.testMissingMixinWithNewer:212-&amp;gt;IntegrationTestBase.assertPropertyMissing:462 /testroot/dst/a/jcr:mixinTypes should not exist
[ERROR]   RCPTest.testRemoveMixin:124-&amp;gt;IntegrationTestBase.assertPropertyMissing:462 /testroot/dst/a/jcr:mixinTypes should not exist
[ERROR] Errors: 
[ERROR]   AdminPermissionCheckerTest.after:55 &#187; InvalidItemState OakState0001: Unresolve...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following test fails in both cases...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR]   TestPackageInstall.testPackageInstallWith0MtimeZipEntry:736 &#187; NoSuchField xdos...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is this expected or am i missing something?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13162570">JCRVLT-293</key>
            <summary>Failing tests when building vault-core with -Doak=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 May 2018 12:32:12 +0000</created>
                <updated>Thu, 9 Aug 2018 09:32:18 +0000</updated>
                            <resolved>Mon, 18 Jun 2018 06:37:56 +0000</resolved>
                                                    <fixVersion>3.2</fixVersion>
                                    <component>Misc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16494662" author="tripod@bocanegra.ch" created="Wed, 30 May 2018 04:32:00 +0000"  >&lt;p&gt;which jdk version ?&lt;/p&gt;

</comment>
                            <comment id="16494697" author="reschke" created="Wed, 30 May 2018 05:18:43 +0000"  >&lt;p&gt;With JDK 1.8, I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-------------------------------------------------------------------------------
Test set: org.apache.jackrabbit.vault.fs.io.DocViewFormatTest
-------------------------------------------------------------------------------
Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.016 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.jackrabbit.vault.fs.io.DocViewFormatTest
testFormatting(org.apache.jackrabbit.vault.fs.io.DocViewFormatTest)  Time elapsed: 0.016 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError
        at org.apache.jackrabbit.vault.fs.io.DocViewFormatTest.setup(DocViewFormatTest.java:48)

testFormatting(org.apache.jackrabbit.vault.fs.io.DocViewFormatTest)  Time elapsed: 0.016 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NullPointerException
        at org.apache.jackrabbit.vault.fs.io.DocViewFormatTest.tearDown(DocViewFormatTest.java:62)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-294&quot; title=&quot;DocViewFormatTest fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-294&quot;&gt;&lt;del&gt;JCRVLT-294&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16494702" author="reschke" created="Wed, 30 May 2018 05:25:31 +0000"  >&lt;p&gt;With JDK 1.8 and &lt;tt&gt;oak=true&lt;/tt&gt;, I see the same errors &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; reported.&lt;/p&gt;</comment>
                            <comment id="16494747" author="reschke" created="Wed, 30 May 2018 06:32:07 +0000"  >&lt;p&gt;With &lt;/p&gt;

&lt;p&gt;java version &quot;1.8.0_151&quot;&lt;/p&gt;

&lt;p&gt;and the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-294&quot; title=&quot;DocViewFormatTest fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-294&quot;&gt;&lt;del&gt;JCRVLT-294&lt;/del&gt;&lt;/a&gt;, the tests pass for me.&lt;/p&gt;</comment>
                            <comment id="16495044" author="anchela" created="Wed, 30 May 2018 11:30:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;, i was using 1.8.0_40.&lt;/p&gt;</comment>
                            <comment id="16495052" author="reschke" created="Wed, 30 May 2018 11:38:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; - FWIW, there might be a JDK bug involved here. You probably should update.&lt;/p&gt;</comment>
                            <comment id="16515395" author="tripod" created="Mon, 18 Jun 2018 06:37:56 +0000"  >&lt;p&gt;fixed in r1833680.&lt;/p&gt;

&lt;p&gt;default build now executes both, jackrabbit and oak tests.&lt;br/&gt;
individual targets can be specified with &lt;tt&gt;-Ptest-oak&lt;/tt&gt; or &lt;tt&gt;-Ptest-jackrabbit&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13162569">JCRVLT-292</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3u99r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>