<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:33:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-542] FolderArtifactHandler not respecting ImportMode on adjusting primaryTypes</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-542</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;By definition mode=merge or the new mode=merge_properties should never modify existing nodes/properties for the corresponding filters. It turns out that this check is  missing for the adjustments of primaryNodeTypes which boldly breaks where the parent structures are assumed to be preexisting (like /home/groups) and just covered by folders without any nodetype declared - the existing logic does reset those to the default nt:folder which leads to a broken commit due to nodeType incompatibilities.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13385869">JCRVLT-542</key>
            <summary>FolderArtifactHandler not respecting ImportMode on adjusting primaryTypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="dsuess">Dominik S&#252;&#223;</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jun 2021 14:11:15 +0000</created>
                <updated>Tue, 5 Oct 2021 14:25:33 +0000</updated>
                            <resolved>Mon, 28 Jun 2021 06:29:13 +0000</resolved>
                                    <version>3.4.4</version>
                                    <fixVersion>3.5.4</fixVersion>
                                    <component>vlt</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17369497" author="dsuess" created="Fri, 25 Jun 2021 14:20:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; sorry for the delay due to unplanned absence - there are further issues as in the concrete case where I detected this the filter shouldn#t have matched due to include rules and I found during debugging that this may be due to a PropertyFilter without the declared include filter being somehow generated - the given case is simplified to the breaking logic in the given code location - investigation what causes the workspace filter in our case to be incorrectly calculated are ongoing.&lt;/p&gt;</comment>
                            <comment id="17369524" author="kwin" created="Fri, 25 Jun 2021 15:06:39 +0000"  >&lt;p&gt;This is definitely a regression. The IT runs fine on 3.4.0 but breaks on 3.4.10. Trying to find which commit was causing this regression, because even 3.4.0 never had the import mode check in &lt;tt&gt;FolderArtifactHandler&lt;/tt&gt;...&lt;/p&gt;</comment>
                            <comment id="17369527" author="dsuess" created="Fri, 25 Jun 2021 15:09:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; this got introduced with &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/commit/f86543e791d1f06542fac8f6e5d2ec6403ff7fc6#diff-8d660cbc935be10303ebfd498eb1574cbba07f3ae8e565f470762b2e6f97b512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/commit/f86543e791d1f06542fac8f6e5d2ec6403ff7fc6#diff-8d660cbc935be10303ebfd498eb1574cbba07f3ae8e565f470762b2e6f97b512&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17369528" author="kwin" created="Fri, 25 Jun 2021 15:10:10 +0000"  >&lt;p&gt;Thanks, thats it. So broken since 3.4.4.&lt;/p&gt;</comment>
                            <comment id="17369530" author="dsuess" created="Fri, 25 Jun 2021 15:12:46 +0000"  >&lt;p&gt;Correct - I&apos;m also not sure if the way the nodetype is adjusted is correctly reflected in the log/ status output. &quot;normal&quot; changes return corresponding entries but this adjustment seems to be silent and is not reflected in the tracker (which seems to be cosmetic but still makes debugging way harder)&lt;/p&gt;</comment>
                            <comment id="17369535" author="kwin" created="Fri, 25 Jun 2021 15:31:09 +0000"  >&lt;p&gt;I proposed a slightly different fix in &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/153&lt;/a&gt; (to make sure primary type adjustment don&apos;t appear with mode UPDATE* either) which also makes sure that the primary type adjustment is correctly tracked.&lt;/p&gt;</comment>
                            <comment id="17370440" author="kwin" created="Mon, 28 Jun 2021 06:29:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/commit/6904c23b94fa8d06b7986038c3efbf49cfc05d1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/commit/6904c23b94fa8d06b7986038c3efbf49cfc05d1b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13287483">JCRVLT-415</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0savs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>