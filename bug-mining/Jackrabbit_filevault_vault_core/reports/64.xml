<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:32:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-144] Unable to perform checkout due to wrong default workspace handling</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-144</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;When trying to perform a &lt;tt&gt;vlt co&lt;/tt&gt; with &lt;tt&gt;vlt&lt;/tt&gt; &amp;gt; 3.1.26 I get the following error message:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;vlt co --force http://localhost:4502
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0
Checkout http://localhost:4502/crx/server/-/jcr:root/ with local files using root at [...]/content/src/content/jcr_root
Connecting via JCR remoting to http://localhost:4502/crx/server
[ERROR] checkout: org.apache.jackrabbit.vault.vlt.VltException: Unable to mount filesystem
caused by: javax.jcr.lock.LockException: Precondition Failed
  caused by: org.apache.jackrabbit.webdav.DavException: Precondition Failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13026674">JCRVLT-144</key>
            <summary>Unable to perform checkout due to wrong default workspace handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tripod">Tobias Bocanegra</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 13:16:24 +0000</created>
                <updated>Fri, 30 Nov 2018 13:07:15 +0000</updated>
                            <resolved>Tue, 20 Dec 2016 08:05:06 +0000</resolved>
                                    <version>3.1.28</version>
                    <version>3.1.30</version>
                                    <fixVersion>3.1.38</fixVersion>
                                    <component>vlt</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15760322" author="tripod" created="Mon, 19 Dec 2016 06:36:31 +0000"  >&lt;p&gt;related to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2113&quot; title=&quot;JSR 283 Access Control Management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2113&quot;&gt;&lt;del&gt;JCR-2113&lt;/del&gt;&lt;/a&gt; that added new default workspace handling in spi2dav&lt;/p&gt;

&lt;p&gt;workaround is to specify the default workspace in the url. eg:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ vlt co --force http://localhost:4502/crx/server/crx.default/jcr:root
Checkout http://localhost:4502/crx/server/crx.default/jcr:root/ with local files using root at /Users/tripod/tmp/v1/screens/jcr_root
Connecting via JCR remoting to http://localhost:4502/crx/server
Checking out / to jcr_root
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15760333" author="tripod" created="Mon, 19 Dec 2016 06:42:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; what is the modern way to remotely login to a repository using the default workspace name?&lt;/p&gt;

&lt;p&gt;before the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2113&quot; title=&quot;JSR 283 Access Control Management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2113&quot;&gt;&lt;del&gt;JCR-2113&lt;/del&gt;&lt;/a&gt;, it was possible to omit the default workspace name when creating the &lt;tt&gt;Spi2davexRepositoryServiceFactory&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15760794" author="anchela" created="Mon, 19 Dec 2016 10:24:38 +0000"  >&lt;p&gt;maybe just a regression that slipped in when applying the patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2113&quot; title=&quot;JSR 283 Access Control Management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2113&quot;&gt;&lt;del&gt;JCR-2113&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15763574" author="tripod" created="Tue, 20 Dec 2016 08:02:25 +0000"  >&lt;p&gt;never mind. found workaround by using empty string as workspace name. then it uses the default workspace.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            parameters.put(Spi2davexRepositoryServiceFactory.PARAM_WORKSPACE_NAME_DEFAULT, &quot;&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15763579" author="tripod" created="Tue, 20 Dec 2016 08:05:07 +0000"  >&lt;p&gt;fixed in r1775225&lt;/p&gt;</comment>
                            <comment id="15901395" author="kwin" created="Wed, 8 Mar 2017 15:06:39 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6618&quot; title=&quot;Specify crx.default as workspace for AEM servers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6618&quot;&gt;&lt;del&gt;SLING-6618&lt;/del&gt;&lt;/a&gt; we ran into the same issue, which is unfortunately not solved by the workaround (&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java#L105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java#L105&lt;/a&gt;). Passing the empty string leads to the empty string being used in &lt;a href=&quot;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L128&lt;/a&gt;. Which in turn leads to using the empty string in &lt;a href=&quot;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/RepositoryServiceImpl.java#L307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/RepositoryServiceImpl.java#L307&lt;/a&gt; which doesn&apos;t seem valid and throws the exception in &lt;a href=&quot;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2dav/RepositoryServiceImpl.java#L783&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2dav/RepositoryServiceImpl.java#L783&lt;/a&gt;. IMHO it must be possible to use &lt;tt&gt;null&lt;/tt&gt; as workspace name, which is no longer possible due to the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2113&quot; title=&quot;JSR 283 Access Control Management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2113&quot;&gt;&lt;del&gt;JCR-2113&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15907371" author="kwin" created="Mon, 13 Mar 2017 12:36:52 +0000"  >&lt;p&gt;I don&apos;t think the workaround with the empty string does always work. I therefore opened &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4120&quot; title=&quot;Spi2DavexRepositoryServiceImpl always hardcodes the default workspace name to &amp;quot;default&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-4120&quot;&gt;&lt;del&gt;JCR-4120&lt;/del&gt;&lt;/a&gt; for the wrong default workspace name handling.&lt;/p&gt;

&lt;p&gt;Also just for the record: The workaround implemented for vlt was falling back to the hardcoded workspace name &lt;tt&gt;crx.default&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/commit/50c8754de2df6e9fdabbdb4ab60945120bf1bbdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/commit/50c8754de2df6e9fdabbdb4ab60945120bf1bbdf&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16704702" author="reschke" created="Fri, 30 Nov 2018 13:02:00 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4120&quot; title=&quot;Spi2DavexRepositoryServiceImpl always hardcodes the default workspace name to &amp;quot;default&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-4120&quot;&gt;&lt;del&gt;JCR-4120&lt;/del&gt;&lt;/a&gt; is fixed - can this workaround be backed out?&lt;/p&gt;</comment>
                            <comment id="16704706" author="kwin" created="Fri, 30 Nov 2018 13:06:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt; I already created &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-323&quot; title=&quot;Unable to perform sync due to wrong default workspace handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-323&quot;&gt;&lt;del&gt;JCRVLT-323&lt;/del&gt;&lt;/a&gt; for other non-covered cases about workspace handling. I think it is reasonable to follow up there.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13050437">JCR-4120</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13049060">SLING-6618</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13198347">JCRVLT-323</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12425445">JCR-2113</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>