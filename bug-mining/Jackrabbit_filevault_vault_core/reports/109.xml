<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:33:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-436] VLT-RCP bundle no longer working with older Jackrabbit/Oak versions</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-436</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;Due to the upgrade of the dependencies in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-344&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-399&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-399&lt;/a&gt; the vlt-rcp bundle does no longer start on older distributions.&lt;/p&gt;

&lt;p&gt;E.g. on AEM 6.5.4 the following imports can no be resolved:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;org.apache.jackrabbit.util,version=[2.5.0,3) &amp;#8211; Cannot be resolved (exported in older version by bundle org.apache.jackrabbit.jackrabbit-jcr-commons)&lt;/li&gt;
	&lt;li&gt;org.apache.jackrabbit.api.security,version=[2.4.1,2.5) &amp;#8211; Cannot be resolved (exported in older version by bundle org.apache.jackrabbit.jackrabbit-api)&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13304311">JCRVLT-436</key>
            <summary>VLT-RCP bundle no longer working with older Jackrabbit/Oak versions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2020 08:31:10 +0000</created>
                <updated>Tue, 11 Aug 2020 15:32:44 +0000</updated>
                            <resolved>Wed, 20 May 2020 11:35:10 +0000</resolved>
                                    <version>3.4.4</version>
                                    <fixVersion>3.4.6</fixVersion>
                                    <component>RCP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17106335" author="kwin" created="Wed, 13 May 2020 14:13:27 +0000"  >&lt;p&gt;Calling &lt;tt&gt;bnd xref -cf bnd xref -cf target/org.apache.jackrabbit.vault.rcp-3.4.5-SNAPSHOT.jar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;exposes the following results for &lt;tt&gt;org.apache.jackrabbit.util&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.jackrabbit.util.Base64 &amp;lt; org.apache.jackrabbit.jcr2spi.xml.SessionImporter
org.apache.jackrabbit.util.ChildrenCollectorFilter &amp;lt; org.apache.jackrabbit.jcr2spi.NodeImpl
                org.apache.jackrabbit.util.ISO9075 &amp;lt; org.apache.jackrabbit.jcr2spi.xml.DocViewImportHandler
                                                     org.apache.jackrabbit.spi2dav.QueryInfoImpl
                   org.apache.jackrabbit.util.Text &amp;lt; org.apache.jackrabbit.jcr2spi.xml.WorkspaceContentHandler
                                                     org.apache.jackrabbit.spi2dav.RepositoryServiceImpl$BatchImpl
                                                     org.apache.jackrabbit.spi2dav.RepositoryServiceImpl
                                                     org.apache.jackrabbit.spi2dav.URIResolverImpl
                                                     org.apache.jackrabbit.spi2davex.ItemInfoJsonHandler
                                                     org.apache.jackrabbit.spi2davex.RepositoryServiceImpl$BatchImpl
                                                     org.apache.jackrabbit.spi2davex.RepositoryServiceImpl
   org.apache.jackrabbit.util.TransientFileFactory &amp;lt; org.apache.jackrabbit.jcr2spi.xml.SessionImporter
                                                     org.apache.jackrabbit.jcr2spi.xml.TargetImportHandler$BufferedStringValue
                                                     org.apache.jackrabbit.spi2davex.QValueFactoryImpl$BinaryQValue
 org.apache.jackrabbit.util.WeakIdentityCollection &amp;lt; org.apache.jackrabbit.jcr2spi.state.ItemState
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the following results for &lt;tt&gt;org.apache.jackrabbit.api.security&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.jackrabbit.api.security.JackrabbitAccessControlEntry &amp;lt; org.apache.jackrabbit.jcr2spi.security.authorization.jackrabbit.acl.AccessControlEntryImpl
org.apache.jackrabbit.api.security.JackrabbitAccessControlList &amp;lt; org.apache.jackrabbit.jcr2spi.security.authorization.jackrabbit.acl.AccessControlListImpl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17106349" author="kwin" created="Wed, 13 May 2020 14:25:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt; Do you remember why only certain JARs are embedded (&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/8134f0df7ce89d81c89e238141e80f0e4d8d173e/vault-rcp/bnd.bnd#L15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/8134f0df7ce89d81c89e238141e80f0e4d8d173e/vault-rcp/bnd.bnd#L15&lt;/a&gt;) but not their transitive dependencies?&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13002832/13002832_Screenshot+2020-05-13+at+16.28.08.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;


&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/8134f0df7ce89d81c89e238141e80f0e4d8d173e/vault-core/bnd.bnd#L16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/8134f0df7ce89d81c89e238141e80f0e4d8d173e/vault-core/bnd.bnd#L16&lt;/a&gt; the import version range was manually relaxed but this hide incompatibilities until the code is actually executed which is not a good solution either.&lt;/p&gt;</comment>
                            <comment id="17106749" author="tripod" created="Thu, 14 May 2020 00:17:21 +0000"  >&lt;p&gt;I don&apos;t think this was deliberate. IMO, the RCP bundle should not embed any jackrabbit/oak libraries, but expect those to be installed in AEM.&lt;/p&gt;</comment>
                            <comment id="17111354" author="kwin" created="Tue, 19 May 2020 16:59:01 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/pull/78/commits&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/pull/78/commits&lt;/a&gt; I leverage &lt;tt&gt;bnd-resolve-maven-plugin&lt;/tt&gt; to make sure that all constraints (e.g. Import-Package header) can be resolved in a minimum supported OSGi container (baseline is AEM 6.3). That way the build will fail, if the generated bundles (Core, RCP and Sync) will no longer resolve in such an environment.&lt;/p&gt;</comment>
                            <comment id="17112083" author="kwin" created="Wed, 20 May 2020 11:28:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1877947&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1877947&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13322062">JCRVLT-465</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13278469">JCRVLT-399</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13246990">JCRVLT-344</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13002832" name="Screenshot 2020-05-13 at 16.28.08.png" size="195087" author="kwin" created="Wed, 13 May 2020 14:28:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0emqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>