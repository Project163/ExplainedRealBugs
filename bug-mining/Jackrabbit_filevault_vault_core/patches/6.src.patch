diff --git a/vault-core/src/main/java/org/apache/jackrabbit/vault/packaging/impl/JcrPackageImpl.java b/vault-core/src/main/java/org/apache/jackrabbit/vault/packaging/impl/JcrPackageImpl.java
index 7bf4616c..df59da42 100644
--- a/vault-core/src/main/java/org/apache/jackrabbit/vault/packaging/impl/JcrPackageImpl.java
+++ b/vault-core/src/main/java/org/apache/jackrabbit/vault/packaging/impl/JcrPackageImpl.java
@@ -319,7 +319,12 @@ public class JcrPackageImpl implements JcrPackage {
      */
     public VaultPackage getPackage() throws RepositoryException, IOException {
         if (pack == null) {
-            long size = getSize();
+            long size = -1;
+            try {
+                size = getData().getLength();
+            } catch (RepositoryException e) {
+                // ignore
+            }
             if (size >= 0 && size < 1024*1024) {
                 MemoryArchive archive = new MemoryArchive(false);
                 InputStream in = getData().getStream();
diff --git a/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/subtest.zip b/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/subtest.zip
index 379e4915..b7cae800 100644
Binary files a/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/subtest.zip and b/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/subtest.zip differ
