diff --git a/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java b/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java
index c347e636..ad318e96 100644
--- a/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java
+++ b/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java
@@ -832,7 +832,7 @@ public class DocViewSAXImporter extends RejectingEntityDefaultHandler implements
 
         // check if new node needs to be checked in
         DocViewProperty coProp = ni.props.remove(JcrConstants.JCR_ISCHECKEDOUT);
-        boolean isCheckedIn = coProp != null && coProp.values[0].equals("false");
+        boolean isCheckedIn = coProp != null && "false".equals(coProp.values[0]);
 
         // create or update node
         boolean isNew = false;
@@ -959,6 +959,9 @@ public class DocViewSAXImporter extends RejectingEntityDefaultHandler implements
             } else {
                 importInfo.onNop(node.getPath());
             }
+        } else {
+            // remove registered binaries outside of the filter (JCR-126)
+            binaries.remove(node.getPath());
         }
         return new StackElement(node, isNew);
     }
diff --git a/vault-core/src/test/java/org/apache/jackrabbit/vault/packaging/integration/TestPackageInstall.java b/vault-core/src/test/java/org/apache/jackrabbit/vault/packaging/integration/TestPackageInstall.java
index f52f091b..b1ec08cc 100644
--- a/vault-core/src/test/java/org/apache/jackrabbit/vault/packaging/integration/TestPackageInstall.java
+++ b/vault-core/src/test/java/org/apache/jackrabbit/vault/packaging/integration/TestPackageInstall.java
@@ -432,6 +432,37 @@ public class TestPackageInstall extends IntegrationTestBase {
         assertEquals("U", listener.getActions().get("/tmp/binary/test"));
     }
 
+    /**
+     * Test is binaries outside the filter are not imported (JCRVLT-126)
+     */
+    @Test
+    public void testBinaryPropertiesOutsideFilter() throws RepositoryException, IOException, PackageException {
+        // first install the package once to create the intermediate nodes
+        JcrPackage pack = packMgr.upload(getStream("testpackages/test_filter_binary.zip"), false);
+        assertNotNull(pack);
+        pack.install(getDefaultOptions());
+        assertProperty("/tmp/test", "123");
+
+        // delete the binary properties
+        if (admin.itemExists("/root-binary-property")) {
+            admin.removeItem("/root-binary-property");
+        }
+
+        admin.removeItem("/tmp/tmp-binary-property");
+        admin.removeItem("/tmp/test");
+        admin.removeItem("/tmp/test-project");
+        admin.save();
+
+        assertPropertyMissing("/root-binary-property");
+        assertPropertyMissing("/tmp/tmp-binary-property");
+
+        // now install again and check if the properties are still missing
+        pack.install(getDefaultOptions());
+        assertPropertyMissing("/tmp/test");
+        assertPropertyMissing("/root-binary-property");
+        assertPropertyMissing("/tmp/tmp-binary-property");
+    }
+
     /**
      * Installs a package with a different node type
      */
diff --git a/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/test_filter_binary.zip b/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/test_filter_binary.zip
new file mode 100644
index 00000000..d29ce754
Binary files /dev/null and b/vault-core/src/test/resources/org/apache/jackrabbit/vault/packaging/integration/testpackages/test_filter_binary.zip differ
