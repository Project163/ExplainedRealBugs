diff --git a/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty2.java b/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty2.java
index d17a84f5..98ab931e 100644
--- a/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty2.java
+++ b/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty2.java
@@ -442,6 +442,7 @@ public class DocViewProperty2 {
                     case PropertyType.STRING:
                     case PropertyType.NAME:
                     case PropertyType.PATH:
+                    case PropertyType.UNDEFINED:
                         attrValue.append(escape(value, isMultiValue));
                         break;
                     default:
diff --git a/vault-core/src/test/java/org/apache/jackrabbit/vault/util/DocViewProperty2Test.java b/vault-core/src/test/java/org/apache/jackrabbit/vault/util/DocViewProperty2Test.java
index 51edc3e9..cc710ee0 100644
--- a/vault-core/src/test/java/org/apache/jackrabbit/vault/util/DocViewProperty2Test.java
+++ b/vault-core/src/test/java/org/apache/jackrabbit/vault/util/DocViewProperty2Test.java
@@ -39,6 +39,7 @@ import org.apache.jackrabbit.spi.Name;
 import org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver;
 import org.apache.jackrabbit.spi.commons.conversion.IllegalNameException;
 import org.apache.jackrabbit.spi.commons.conversion.NameResolver;
+import org.apache.jackrabbit.spi.commons.name.NameConstants;
 import org.apache.jackrabbit.spi.commons.name.NameFactoryImpl;
 import org.apache.jackrabbit.spi.commons.namespace.NamespaceMapping;
 import org.apache.jackrabbit.value.ValueFactoryImpl;
@@ -201,6 +202,13 @@ public class DocViewProperty2Test {
         Assert.assertEquals(new DocViewProperty2(nameFoo, Arrays.asList(""), PropertyType.UNDEFINED), dp);
     }
 
+    @Test
+    public void testUndefinedType() {
+        DocViewProperty2 dp = new DocViewProperty2(NameConstants.JCR_LASTMODIFIEDBY, "[Bar\"\\");
+        String actualValue = dp.formatValue();
+        Assert.assertEquals("\\[Bar\"\\\\", actualValue);
+    }
+
     @Test
     public void testEmptyMVBoolean() throws Exception {
         Property p = Mockito.mock(Property.class);
