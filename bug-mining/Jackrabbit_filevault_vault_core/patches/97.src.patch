diff --git a/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/ZipStreamArchive.java b/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/ZipStreamArchive.java
index cfe83f60..d0bf8b8a 100644
--- a/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/ZipStreamArchive.java
+++ b/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/ZipStreamArchive.java
@@ -135,23 +135,13 @@ public class ZipStreamArchive extends AbstractArchive {
         inf = new DefaultMetaInf();
 
         // scan the zip and copy data to temporary file
-        ZipInputStream zin = new ZipInputStream(in);
-
-        try {
+        try (ZipInputStream zin = new ZipInputStream(in)) {
             ZipEntry entry;
             while ((entry = zin.getNextEntry()) != null) {
                 String name = entry.getName();
-                // check for meta inf
-                if (name.startsWith(Constants.META_DIR + "/")) {
-                    try {
-                        inf.load(new CloseShieldInputStream(zin), "inputstream:" + name);
-                    } catch (ConfigurationException e) {
-                        throw new IOException(e);
-                    }
-                }
                 String[] names = Text.explode(name, '/');
+                EntryImpl je = root;
                 if (names.length > 0) {
-                    EntryImpl je = root;
                     for (int i=0; i<names.length; i++) {
                         if (i == names.length -1 && !entry.isDirectory()) {
                             // copy stream
@@ -166,6 +156,15 @@ public class ZipStreamArchive extends AbstractArchive {
                         log.debug("scanning jar: {}", name);
                     }
                 }
+                // extract meta information
+                if (name.startsWith(Constants.META_DIR + "/")) {
+                    try (InputStream input = createInputStream(je)) {
+                        // load from previous entryImpl
+                        inf.load(input, "inputstream:" + name);
+                    } catch (ConfigurationException e) {
+                        throw new IOException(e);
+                    }
+                }
             }
             if (inf.getFilter() == null) {
                 log.debug("Zip stream does not contain filter definition.");
@@ -185,8 +184,6 @@ public class ZipStreamArchive extends AbstractArchive {
             if (inf.getNodeTypes().isEmpty()) {
                 log.debug("Zip stream does not contain nodetypes.");
             }
-        } finally {
-            IOUtils.closeQuietly(zin);
         }
     }
 
diff --git a/vault-core/src/test/java/org/apache/jackrabbit/vault/fs/io/ZipArchiveTest.java b/vault-core/src/test/java/org/apache/jackrabbit/vault/fs/io/ZipArchiveTest.java
index aa228ba3..b7d70b60 100644
--- a/vault-core/src/test/java/org/apache/jackrabbit/vault/fs/io/ZipArchiveTest.java
+++ b/vault-core/src/test/java/org/apache/jackrabbit/vault/fs/io/ZipArchiveTest.java
@@ -21,6 +21,7 @@ import java.io.IOException;
 import java.io.InputStream;
 import java.util.Properties;
 
+import org.apache.jackrabbit.vault.fs.config.DefaultMetaInf;
 import org.junit.Test;
 
 import static org.junit.Assert.assertEquals;
@@ -32,21 +33,27 @@ public class ZipArchiveTest {
 
     @Test
     public void testSmallArchiveViaStream() throws IOException {
-        InputStream in = getClass().getResourceAsStream("/org/apache/jackrabbit/vault/packaging/integration/testpackages/atomic-counter-test.zip");
-        ZipStreamArchive a = new ZipStreamArchive(in);
-        a.open(true);
-        Properties props = a.getMetaInf().getProperties();
-        assertEquals("Package Name", "atomic-counter-test", props.getProperty("name"));
-        a.close();
+        try (InputStream in = getClass().getResourceAsStream("/org/apache/jackrabbit/vault/packaging/integration/testpackages/atomic-counter-test.zip");
+             ZipStreamArchive a = new ZipStreamArchive(in)) {
+            a.open(true);
+            Properties props = a.getMetaInf().getProperties();
+            assertEquals("Package Name", "atomic-counter-test", props.getProperty("name"));
+            Archive.Entry entry = a.getEntry("META-INF/vault/properties.xml");
+            try (InputStream i = a.openInputStream(entry)) {
+                DefaultMetaInf metaInf = new DefaultMetaInf();
+                metaInf.loadProperties(i, "inputstream");
+                assertEquals("Package Name", "atomic-counter-test", metaInf.getProperties().getProperty("name"));
+            }
+        }
     }
 
     @Test
     public void testSmallArchiveViaFile() throws IOException {
         File file = new File(getClass().getResource("/org/apache/jackrabbit/vault/packaging/integration/testpackages/atomic-counter-test.zip").getFile());
-        ZipArchive a = new ZipArchive(file, false);
-        a.open(true);
-        Properties props = a.getMetaInf().getProperties();
-        assertEquals("Package Name", "atomic-counter-test", props.getProperty("name"));
-        a.close();
+        try (ZipArchive a = new ZipArchive(file, false)) {
+            a.open(true);
+            Properties props = a.getMetaInf().getProperties();
+            assertEquals("Package Name", "atomic-counter-test", props.getProperty("name"));
+        }
     }
 }
\ No newline at end of file
