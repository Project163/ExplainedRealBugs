{"url":"https://api.github.com/repos/davidmoten/rtree/issues/20","repository_url":"https://api.github.com/repos/davidmoten/rtree","labels_url":"https://api.github.com/repos/davidmoten/rtree/issues/20/labels{/name}","comments_url":"https://api.github.com/repos/davidmoten/rtree/issues/20/comments","events_url":"https://api.github.com/repos/davidmoten/rtree/issues/20/events","html_url":"https://github.com/davidmoten/rtree/issues/20","id":60805374,"node_id":"MDU6SXNzdWU2MDgwNTM3NA==","number":20,"title":"RTree creation API might seem a bit contraintuitive","user":{"login":"pereferrera","id":254208,"node_id":"MDQ6VXNlcjI1NDIwOA==","avatar_url":"https://avatars.githubusercontent.com/u/254208?v=4","gravatar_id":"","url":"https://api.github.com/users/pereferrera","html_url":"https://github.com/pereferrera","followers_url":"https://api.github.com/users/pereferrera/followers","following_url":"https://api.github.com/users/pereferrera/following{/other_user}","gists_url":"https://api.github.com/users/pereferrera/gists{/gist_id}","starred_url":"https://api.github.com/users/pereferrera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pereferrera/subscriptions","organizations_url":"https://api.github.com/users/pereferrera/orgs","repos_url":"https://api.github.com/users/pereferrera/repos","events_url":"https://api.github.com/users/pereferrera/events{/privacy}","received_events_url":"https://api.github.com/users/pereferrera/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-03-12T11:32:15Z","updated_at":"2015-03-13T02:17:21Z","closed_at":"2015-03-13T02:17:21Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\nFirst of all thanks for this library, it is very useful and overall well done. I just got stuck with it for some minutes, not realizing what was wrong in my code. I finally realized that the RTree object is returning a new copy of itself when adding a point. This makes sense with the concept of immutable RTree, and I recognize I should have paid more attention when reading the examples. However I think this API is contraintuitive - If the RTree is immutable then why does it have an add() method? - and might lead to the same mistake by other people. What I would suggest as an improved API is to make an RTreeBuilder, which would be in charge of receiving all the points and then create an immutable RTree, which wouldn't have the method add(). If online modifications to the RTree are needed maybe they can be provided via static methods of it, e.g. RTreeBuilder.delete(tree, point): RTree\n","closed_by":{"login":"davidmoten","id":318187,"node_id":"MDQ6VXNlcjMxODE4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/318187?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoten","html_url":"https://github.com/davidmoten","followers_url":"https://api.github.com/users/davidmoten/followers","following_url":"https://api.github.com/users/davidmoten/following{/other_user}","gists_url":"https://api.github.com/users/davidmoten/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoten/subscriptions","organizations_url":"https://api.github.com/users/davidmoten/orgs","repos_url":"https://api.github.com/users/davidmoten/repos","events_url":"https://api.github.com/users/davidmoten/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoten/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/davidmoten/rtree/issues/20/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/davidmoten/rtree/issues/20/timeline","performed_via_github_app":null,"state_reason":"completed"}