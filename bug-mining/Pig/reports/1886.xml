<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5038] Pig Limit_2 e2e test failed with sort check</title>
                <link>https://issues.apache.org/jira/browse/PIG-5038</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;error: Going to run sort check command: sort -cs -t     -k 1,3 ./out/pigtest/../..-1475241304-nightly.conf/Limit_2.out/out_original
/bin/sort: ./out/pigtest/../..-1475241304-nightly.conf/Limit_2.out/out_original:27: disorder:       18
Sort check failed
INFO: TestDriver::runTestGroup() at 706:Test Limit_2 FAILED at 1475241624
Ending test Limit_2 at 1475241624
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The test failed because of difference in sorting in Pig &lt;tt&gt;(ORDER BY $0,$1,$2)&lt;/tt&gt; and &lt;tt&gt;sort -t  $&apos;\t&apos;-k 1,3&lt;/tt&gt; in bash.&lt;br/&gt;
The problem is that empty fields are sorted/processed differently &lt;br/&gt;
in Pig using &lt;tt&gt;ORDER BY&lt;/tt&gt; and bash using &lt;tt&gt;sort&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;See example for file studentnulltab10k.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Pig&lt;/b&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		
		
		
		0.12
		1.04
		1.15
		1.25
		1.27
		1.31
		1.59
		1.61
		1.62
		1.76
		1.95
		2.09
		2.35
		2.66
		3.04
		3.23
		3.31
		3.39
		3.46
		3.54
		3.65
		3.75
		3.97
	18	
	18	0.41
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;bash: sort -t  $&apos;\t&apos;-k 1,3&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		
		
		
		0.12
		1.04
		1.15
		1.25
		1.27
		1.31
		1.59
		1.61
		1.62
		1.76
	18	
	18	0.41
	18	0.54
	18	1.78
	18	2.46
	18	2.54
	19	0.07
	19	0.27
	19	0.39
	19	2.27
	19	2.50
	19	2.60
	19	2.89
	19	3.87
		1.95
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;b&gt;bash: sort -t  $&apos;\t&apos;-k 1,2&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		
		
		
		0.12
		1.04
		1.15
		1.25
		1.27
		1.31
		1.59
		1.61
		1.62
		1.76
		1.95
		2.09
		2.35
		2.66
		3.04
		3.23
		3.31
		3.39
		3.46
		3.54
		3.65
		3.75
		3.97
	18	
	18	0.41
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13010945">PIG-5038</key>
            <summary>Pig Limit_2 e2e test failed with sort check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Konstantin_Harasov">Konstantin Harasov</assignee>
                                    <reporter username="Konstantin_Harasov">Konstantin Harasov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Oct 2016 08:10:03 +0000</created>
                <updated>Wed, 21 Jun 2017 09:15:30 +0000</updated>
                            <resolved>Wed, 12 Oct 2016 21:47:58 +0000</resolved>
                                                    <fixVersion>0.17.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15569953" author="rohini" created="Wed, 12 Oct 2016 21:47:40 +0000"  >&lt;p&gt;+1. Committed to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for finding a solution/workaround for this. This was something in my todo list to look into for a long time. As per definition of the sort option -k1,3 should work fine and is what we should be doing as order by is done on three columns. The test passes fine in Mac with -k1,3 with sort command working as expected. Not sure why the Linux implementation was doing a wrong sort. For -k1,3 it actually gives result of -k1,1.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12832431" name="PIG-5038.patch" size="862" author="Konstantin_Harasov" created="Mon, 10 Oct 2016 08:24:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34nn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>