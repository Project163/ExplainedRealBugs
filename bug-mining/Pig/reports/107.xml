<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:49:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-736] Inconsistent error message when the message should be about org.apache.hadoop.fs.permission.AccessControlException: Permission denied:</title>
                <link>https://issues.apache.org/jira/browse/PIG-736</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Suppose I have Pig script which accesses a directory in HDFS for which I do not have permissions&lt;/p&gt;

&lt;p&gt;shell&amp;gt; hadoop fs -ls /mydata/group_permissions/&lt;/p&gt;

&lt;p&gt;drwxr-x---   - groupuser restrictedgroup          0 2009-03-24 10:58 /mydata/group_permissions/20090323&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
%&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; dates_to_process &lt;span class=&quot;code-quote&quot;&gt;&apos;20090323&apos;&lt;/span&gt;

MYDATA = load &lt;span class=&quot;code-quote&quot;&gt;&apos;/mydata/group_permissions/{$dates_to_process}*&apos;&lt;/span&gt; using
PigStorage() as (col1,col2,col3) ;

MYDATA_PROJECT = foreach MYDATA generate
        (chararray) col1#&lt;span class=&quot;code-quote&quot;&gt;&apos;acct&apos;&lt;/span&gt; as acct,
        (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)col1#&lt;span class=&quot;code-quote&quot;&gt;&apos;country&apos;&lt;/span&gt; as country,
        (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)col1#&lt;span class=&quot;code-quote&quot;&gt;&apos;product&apos;&lt;/span&gt; as product

dump MYDATA_PROJECT;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error message we get is:&lt;br/&gt;
===============================================================================================&lt;br/&gt;
2009-03-26 00:00:05,753 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.pig.tools.grunt.Grunt - ERROR 2099: Problem in constructing slices.&lt;br/&gt;
Details at logfile: /home/viraj/pig_1238025596328.log&lt;br/&gt;
===============================================================================================&lt;br/&gt;
This message is definitely hard to debug&lt;/p&gt;

&lt;p&gt;===============================================================================================&lt;br/&gt;
With the previous version 1.0.0 I get the following error message, which is more appropriate to this case.&lt;br/&gt;
===============================================================================================&lt;/p&gt;

&lt;p&gt;2009-03-26 00:01:41,787 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceLauncher - java.io.IOException: org.apache.hadoop.fs.permission.AccessControlException: Permission denied: user=viraj, access=READ_EXECUTE, inode=&quot;20090323&quot;:groupuser:restrictedgroup:rwxr-x--- &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.fs.permission.AccessControlException: Permission denied: user=viraj, access=READ_EXECUTE, inode=&amp;quot;20090323&amp;quot;:groupuser:restrictedgroup:rwxr-x---&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.pig.backend.hadoop.datastorage.HDirectory.iterator(HDirectory.java:157)&lt;br/&gt;
        at org.apache.pig.backend.executionengine.PigSlicer.slice(PigSlicer.java:77)&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputFormat.getSplits(PigInputFormat.java:206)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:742)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.Job.submit(Job.java:370)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.startReadyJobs(JobControl.java:247)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.run(JobControl.java:279)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.permission.AccessControlException: Permission denied: user=viraj, access=READ_EXECUTE, inode=&quot;20090323&quot;:groupuser:restrictedgroup:rwxr-x---&lt;br/&gt;
        ... 8 more&lt;/p&gt;

&lt;p&gt;2009-03-26 00:01:41,798 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1066: Unable to open iterator for alias MYDATA_PROJECT&lt;br/&gt;
Details at logfile:  /home/viraj/pig_1238025692361.log&lt;/p&gt;

&lt;p&gt;===============================================================================================&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12419442">PIG-736</key>
            <summary>Inconsistent error message when the message should be about org.apache.hadoop.fs.permission.AccessControlException: Permission denied:</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="viraj">Viraj Bhat</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2009 00:16:29 +0000</created>
                <updated>Thu, 8 Jul 2010 20:27:04 +0000</updated>
                            <resolved>Thu, 8 Jul 2010 20:27:04 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12689299" author="viraj" created="Thu, 26 Mar 2009 00:26:32 +0000"  >&lt;p&gt;Pig error logs&lt;/p&gt;</comment>
                            <comment id="12689300" author="viraj" created="Thu, 26 Mar 2009 00:28:27 +0000"  >&lt;p&gt;re-attaching with ASF inclusion&lt;/p&gt;</comment>
                            <comment id="12689733" author="sms" created="Thu, 26 Mar 2009 23:30:17 +0000"  >&lt;p&gt;Linking this issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-728&quot; title=&quot;All backend error messages must be logged to preserve the original error messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-728&quot;&gt;&lt;del&gt;PIG-728&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12689751" author="viraj" created="Thu, 26 Mar 2009 23:57:41 +0000"  >&lt;p&gt;Mixed up the files in the previous attachment&lt;/p&gt;</comment>
                            <comment id="12886453" author="olgan" created="Thu, 8 Jul 2010 20:27:04 +0000"  >&lt;p&gt;slicer code is completely gone with Pig 0.7.0. Please, reopen if the error message is still not clear&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12417333">PIG-728</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12403761" name="pig_latestversion_errmsg.log" size="1890" author="viraj" created="Thu, 26 Mar 2009 23:57:41 +0000"/>
                            <attachment id="12403760" name="pig_oldversion_errmsg.log" size="723" author="viraj" created="Thu, 26 Mar 2009 23:57:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gnqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>