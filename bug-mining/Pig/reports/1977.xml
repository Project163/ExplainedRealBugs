<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:03:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-3864] ToDate(userstring, format, timezone) computes DateTime with strange handling of Daylight Saving Time with location based timezones</title>
                <link>https://issues.apache.org/jira/browse/PIG-3864</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When using ToDate with a location based timezone (e.g. &quot;Europe/Berlin&quot;) the handling of the timezone offset is based on whether the timezone is currently in daylight saving and not based on whether the timestamp is in daylight saving time or not.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;B = FOREACH A GENERATE ToDate(&apos;2014-02-02 18:00:00.000Z&apos;, &apos;yyyy-MM-dd HH:mm:ss.SSSZ&apos;, &apos;Europe/Berlin&apos;) AS Timestamp;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This yields &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-02-02 20:00:00.000+02&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;when called during daylight saving in Europe/Berlin although I would expect &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-02-02 19:00:00.000+01&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;During standard time In Europe/Berlin, the above call yields &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-02-02 19:00:00.000+01&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Europe/Berlin DST started on March 30th, 2014.&lt;/p&gt;

&lt;p&gt;This seems pretty strange to me. If it is on purpose it should at least be noted in the documentation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706415">PIG-3864</key>
            <summary>ToDate(userstring, format, timezone) computes DateTime with strange handling of Daylight Saving Time with location based timezones</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="fredericschmaljohann">Frederic Schmaljohann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Apr 2014 13:41:30 +0000</created>
                <updated>Mon, 15 Sep 2025 11:29:03 +0000</updated>
                            <resolved>Wed, 27 Dec 2017 19:11:31 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>0.11.1</version>
                                    <fixVersion>0.18.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14558928" author="eirikora" created="Tue, 26 May 2015 09:56:33 +0000"  >&lt;p&gt;I agree. The timezone adjustment should be set according to the date read and not according to current date (time of reading in the file).&lt;/p&gt;</comment>
                            <comment id="14560130" author="daijy" created="Tue, 26 May 2015 23:41:11 +0000"  >&lt;p&gt;This should be a bug. Attach patch.&lt;/p&gt;</comment>
                            <comment id="16181402" author="rohini" created="Tue, 26 Sep 2017 19:32:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szita&quot; class=&quot;user-hover&quot; rel=&quot;szita&quot;&gt;szita&lt;/a&gt;,&lt;br/&gt;
   Can you review this one? You would be more familiar with the different forms of specifying the timezone after &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4748&quot; title=&quot;DateTimeWritable forgets Chronology&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4748&quot;&gt;&lt;del&gt;PIG-4748&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16181685" author="eirikora" created="Tue, 26 Sep 2017 22:27:00 +0000"  >&lt;p&gt;I&apos;m not in a situation where I can test this now (not on that project with Pig&lt;br/&gt;
installed), but I read the patch and it seems good as also now the unit test&lt;br/&gt;
handles the case I had described. Thanks.  &lt;/p&gt;





&lt;p&gt;On Tue, Sep 26, 2017 9:33 PM, Rohini Palaniswamy (JIRA) jira@apache.org  wrote:&lt;/p&gt;



&lt;p&gt;  [&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3864?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=16181402#comment-16181402&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PIG-3864?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=16181402#comment-16181402&lt;/a&gt;&lt;br/&gt;
] &lt;/p&gt;




&lt;p&gt;Rohini Palaniswamy commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3864&quot; title=&quot;ToDate(userstring, format, timezone) computes DateTime with strange handling of Daylight Saving Time with location based timezones&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3864&quot;&gt;&lt;del&gt;PIG-3864&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;-----------------------------------------&lt;/p&gt;




&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szita&quot; class=&quot;user-hover&quot; rel=&quot;szita&quot;&gt;szita&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;  Can you review this one? You would be more familiar with the different forms&lt;br/&gt;
of specifying the timezone after &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4748&quot; title=&quot;DateTimeWritable forgets Chronology&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4748&quot;&gt;&lt;del&gt;PIG-4748&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;




&lt;p&gt;of Daylight Saving Time with location based timezones&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------------------------------------------------------------------------&lt;/p&gt;














&lt;p&gt;handling of the timezone offset is based on whether the timezone is currently in&lt;br/&gt;
daylight saving and not based on whether the timestamp is in daylight saving&lt;br/&gt;
time or not.&lt;/p&gt;



&lt;p&gt;HH:mm:ss.SSSZ&apos;, &apos;Europe/Berlin&apos;) AS Timestamp;&lt;/p&gt;









&lt;p&gt;noted in the documentation.&lt;/p&gt;










&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;This message was sent by Atlassian JIRA&lt;/p&gt;

&lt;p&gt;(v6.4.14#64029)&lt;/p&gt;</comment>
                            <comment id="16189577" author="szita" created="Tue, 3 Oct 2017 11:39:30 +0000"  >&lt;p&gt;+1 on &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735471/12735471_PIG-3864-1.patch&quot; title=&quot;PIG-3864-1.patch attached to PIG-3864&quot;&gt;PIG-3864-1.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, it is a good fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16304743" author="rohini" created="Wed, 27 Dec 2017 19:11:31 +0000"  >&lt;p&gt;+1. Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12735471" name="PIG-3864-1.patch" size="1474" author="daijy" created="Tue, 26 May 2015 23:41:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ua4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>