<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:56:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-2929] Improve documentation around AVG, CONCAT, MIN, MAX</title>
                <link>https://issues.apache.org/jira/browse/PIG-2929</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Just stumbled upon this issue over the weekend. It appears the built-in CONCAT function will return null in the advent of 1 item in the Tuple being null. If this is as intended it would be nice if the docs made note of this. Otherwise it would be nice if nulls where just skipped and a proper string of what was left was returned. If all items are null then just return null in that case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608880">PIG-2929</key>
            <summary>Improve documentation around AVG, CONCAT, MIN, MAX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cheolsoo">Cheolsoo Park</assignee>
                                    <reporter username="nerdynick">Nicholas Verbeck</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Sep 2012 14:38:06 +0000</created>
                <updated>Fri, 22 Feb 2013 04:53:51 +0000</updated>
                            <resolved>Thu, 27 Sep 2012 18:10:16 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.9.1</version>
                    <version>0.9.2</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>documentation</component>
                    <component>internal-udfs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13461950" author="cheolsoo" created="Mon, 24 Sep 2012 18:02:35 +0000"  >&lt;p&gt;Thank you very much for reporting an issue Nicholas!&lt;/p&gt;

&lt;p&gt;In fact, this is documented &lt;a href=&quot;http://pig.apache.org/docs/r0.10.0/basic.html#nulls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; although it is not very visible.&lt;/p&gt;

&lt;p&gt;I am attaching a patch that updats the built-in function doc (including CONCAT, AVG, MIN, MAX, and SIZE) regarding nulls.&lt;/p&gt;

&lt;p&gt;Regarding your suggestion of changing the behavior of CONCAT, even though it is total valid, I&apos;m afraid that that could introduce backward incompatibilities. That is, some people may rely on that CONCAT returns nulls in their scripts. Given that this can be easily achieved by writing your own UDF, I prefer to keep the current behavior.&lt;/p&gt;

&lt;p&gt;Please let me know if anyone thinks otherwise. Thanks! &lt;/p&gt;</comment>
                            <comment id="13464840" author="billgraham" created="Thu, 27 Sep 2012 16:03:38 +0000"  >&lt;p&gt;+1 to Cheolsoo&apos;s comments. A null value passed to a concat could be seen as an invalid record where a null result it warranted. Plus there&apos;s the backward compatibility issue.&lt;/p&gt;

&lt;p&gt;If you want a concat with the semantics you describe, I think a custom UDF is the way go.&lt;/p&gt;

&lt;p&gt;@Chealsoo, thanks for the documentation patch. Would you please make one minor edit, which is to remove the &lt;b&gt;now&lt;/b&gt; from the text. Comments should be non-temporal.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;The MIN function now ignores NULL values.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13464885" author="nerdynick" created="Thu, 27 Sep 2012 17:19:28 +0000"  >&lt;p&gt;This all makes since. The addition of comments was more the main goal I was looking for. Just to prevent anyone else from having the assumptions I had.&lt;/p&gt;

&lt;p&gt;However I did managed to solve the issue without a UDF by leveraging the ternary operations. ie. CONCAT(domain is null?&quot;&quot;:domain, path is null?&quot;&quot;:path). The case I had was concating parts of a URL back together. Where the Query String might be null if there wasn&apos;t one.&lt;/p&gt;</comment>
                            <comment id="13464920" author="cheolsoo" created="Thu, 27 Sep 2012 17:53:29 +0000"  >&lt;p&gt;Thank you for reviewing my patch Bill!&lt;/p&gt;

&lt;p&gt;I removed &quot;now&quot;. Please let me know if you want to edit anything more.&lt;/p&gt;</comment>
                            <comment id="13464937" author="billgraham" created="Thu, 27 Sep 2012 18:10:07 +0000"  >&lt;p&gt;Looks good, thanks Cheolsoo! Renaming JIRA and committing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546886" name="PIG-2929-2.patch" size="2678" author="cheolsoo" created="Thu, 27 Sep 2012 17:53:29 +0000"/>
                            <attachment id="12546349" name="PIG-2929.patch" size="2201" author="cheolsoo" created="Mon, 24 Sep 2012 18:02:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02inj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>