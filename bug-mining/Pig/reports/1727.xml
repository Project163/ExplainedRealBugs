<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4503] [Pig on Tez] NPE in UnionOptimizer with multiple levels of union</title>
                <link>https://issues.apache.org/jira/browse/PIG-4503</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;   When there are multiple levels of union, with the last union having both store and an output (group by,join, etc) following it then there is a NPE in &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (succ.isVertexGroup()
                        &amp;amp;&amp;amp; succ.getVertexGroupInfo().getOutput()
                                .equals(succOp.getOperatorKey().toString())) {
                    succOpVertexGroup = succ;
                    &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should check for getOutput() != null as it now has a store vertexgroup&lt;/p&gt;</description>
                <environment></environment>
        <key id="12819646">PIG-4503</key>
            <summary>[Pig on Tez] NPE in UnionOptimizer with multiple levels of union</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2015 12:10:14 +0000</created>
                <updated>Sun, 7 Jun 2015 03:48:09 +0000</updated>
                            <resolved>Fri, 17 Apr 2015 16:19:17 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.15.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14498094" author="rohini" created="Thu, 16 Apr 2015 14:43:14 +0000"  >&lt;p&gt;Changes done:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Reversed the equal checks in UnionOptimizer to avoid NPE&lt;/li&gt;
	&lt;li&gt;Added an additional store to TestTezCompiler.testUnionUnion to simulate this issue.&lt;/li&gt;
	&lt;li&gt;testUnionScalar is a new test. Not related to the issue, but included it as I wrote the test while initially debugging the big script in this issue and is a good one to have to cover the missing case of union and scalar.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14499232" author="daijy" created="Fri, 17 Apr 2015 04:37:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14500119" author="rohini" created="Fri, 17 Apr 2015 16:19:18 +0000"  >&lt;p&gt;Committed to trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                            <comment id="14544215" author="rohini" created="Thu, 14 May 2015 19:13:49 +0000"  >&lt;p&gt;   Noticed that the vertex group members are not set right for a store vertex group in case of multiple levels of union and store (TestTezCompiler.testUnionUnionStore). Currently there are no issues as TezDAGBuilder only accesses the first member from the vertex group, but put up an additional patch that fixes it for correctness in case all members are accessed sometime in the future. &lt;/p&gt;</comment>
                            <comment id="14544216" author="daijy" created="Thu, 14 May 2015 19:14:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14544218" author="rohini" created="Thu, 14 May 2015 19:17:40 +0000"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4503&quot; title=&quot;[Pig on Tez] NPE in UnionOptimizer with multiple levels of union&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4503&quot;&gt;&lt;del&gt;PIG-4503&lt;/del&gt;&lt;/a&gt;-additionalfix.patch to branch-0.15 and trunk. Thanks Daniel for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12725875" name="PIG-4503-1.patch" size="23561" author="rohini" created="Thu, 16 Apr 2015 14:43:14 +0000"/>
                            <attachment id="12732930" name="PIG-4503-additionalfix.patch" size="913" author="rohini" created="Thu, 14 May 2015 19:13:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d113:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>