<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:48:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-302] Cross products of two flattens is incorrectly including records with null values</title>
                <link>https://issues.apache.org/jira/browse/PIG-302</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Given two data sets:&lt;/p&gt;

&lt;p&gt;studenttab10&lt;br/&gt;
alex garcia,39,3.81&lt;br/&gt;
bob jones,40,2.77&lt;br/&gt;
zach johnson,23,4.00&lt;br/&gt;
tony mendleson,87,2.10&lt;br/&gt;
todd wellington,55,3.32&lt;br/&gt;
melany smith,19,3.98&lt;br/&gt;
jane wesley,62,1.98&lt;br/&gt;
irene chan,34,3.14&lt;br/&gt;
laverne shirley,58,2.43&lt;br/&gt;
marcia tently,32,3.48&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;alex garcia,39,republican,1.50&lt;br/&gt;
bob jones,40,democrat,1000.30&lt;br/&gt;
zach johnson,23,independent,0.00&lt;br/&gt;
tony mendleson,87,socialist,101012.92&lt;br/&gt;
todd wellington,55,green,99.89&lt;br/&gt;
melany smith,29,republican,88787.29&lt;br/&gt;
john wesley,62,democrat,0.89&lt;br/&gt;
bob smith,18,independent,0.99&lt;br/&gt;
johnny appleseed,234,green,99.95&lt;br/&gt;
barak obama,47,democrat,3.48&lt;/p&gt;

&lt;p&gt;and the script:&lt;/p&gt;

&lt;p&gt;a = load &apos;/Users/gates/test/data/studenttab10&apos; using PigStorage(&apos;,&apos;) as (name, age, gpa);&lt;br/&gt;
b = load &apos;/Users/gates/test/data/votertab10&apos; using PigStorage(&apos;,&apos;) as (name, age, registration, contributions);&lt;br/&gt;
c = filter a by age &amp;lt; 40;&lt;br/&gt;
d = filter b by age &amp;lt; 40;&lt;br/&gt;
e = cogroup c by name, d by name;&lt;br/&gt;
f = foreach e generate flatten (c), flatten(d);&lt;br/&gt;
dump f;&lt;/p&gt;

&lt;p&gt;The result is:&lt;/p&gt;

&lt;p&gt;(NULL, bob smith, 18, independent, 0.99)&lt;br/&gt;
(alex garcia, 39, 3.81, alex garcia, 39, republican, 1.50)&lt;br/&gt;
(melany smith, 19, 3.98, melany smith, 29, republican, 88787.29)&lt;br/&gt;
(zach johnson, 23, 4.00, zach johnson, 23, independent, 0.00)&lt;/p&gt;

&lt;p&gt;The first record should not be there.  Flatten is supposed to remove records without a match.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400051">PIG-302</key>
            <summary>Cross products of two flattens is incorrectly including records with null values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gates">Alan Gates</assignee>
                                    <reporter username="gates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jul 2008 19:20:22 +0000</created>
                <updated>Wed, 24 Mar 2010 22:04:03 +0000</updated>
                            <resolved>Sat, 12 Jul 2008 19:29:57 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12612649" author="alangates" created="Thu, 10 Jul 2008 21:20:53 +0000"  >&lt;p&gt;Flatten logic was not properly resetting a couple of variables, which resulted in extraneous rows being included in the results.&lt;/p&gt;</comment>
                            <comment id="12613121" author="alangates" created="Sat, 12 Jul 2008 19:29:57 +0000"  >&lt;p&gt;cogroup patch checked in.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12385807" name="cogroup.patch" size="1482" author="gates" created="Thu, 10 Jul 2008 21:21:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gikf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>