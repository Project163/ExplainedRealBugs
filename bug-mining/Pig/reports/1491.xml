<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:59:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4032] BloomFilter fails with s3 path in Hadoop 2.4</title>
                <link>https://issues.apache.org/jira/browse/PIG-4032</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;BloomFilter is broken with s3 path in Hadoop 2. Here is a simple example-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DEFINE bloomtest Bloom(&lt;span class=&quot;code-quote&quot;&gt;&apos;s3n:&lt;span class=&quot;code-comment&quot;&gt;//foo/bar/bloom&apos;&lt;/span&gt;);
&lt;/span&gt;a = LOAD &lt;span class=&quot;code-quote&quot;&gt;&apos;s3n:&lt;span class=&quot;code-comment&quot;&gt;//foo/bar/test.txt&apos;&lt;/span&gt; using PigStorage(&lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;) as (k:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, v:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) ;
&lt;/span&gt;split a into yes &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; bloomtest(k,v), no otherwise;
dump yes;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This query fails with the following error-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;14/06/22 06:28:58 INFO jobcontrol.ControlledJob: PigLatin:test.pig got an error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; submitting
java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: s3n:__foo_bar_bloom
	at org.apache.hadoop.fs.Path.initialize(Path.java:206)
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:172)
	at org.apache.hadoop.mapreduce.v2.util.MRApps.parseDistributedCacheArtifacts(MRApps.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem is that the distributed cache file name &lt;tt&gt;s3n:__foo_bar_bloom&lt;/tt&gt; causes a uri syntax error because of the s3n prefix.&lt;/p&gt;

&lt;p&gt;In fact, this is a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8562&quot; title=&quot;Enhancements to support Hadoop on Windows Server and Windows Azure environments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8562&quot;&gt;&lt;del&gt;HADOOP-8562&lt;/del&gt;&lt;/a&gt; that includes the following change-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Path.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(scheme, authority, normalizePath(path), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, fragment)
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(scheme, authority, normalizePath(scheme, path), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, fragment)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the scheme was ignored in Hadoop 1, s3 path used to work accidentally. But in Hadoop 2, it starts failing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12722997">PIG-4032</key>
            <summary>BloomFilter fails with s3 path in Hadoop 2.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cheolsoo">Cheolsoo Park</assignee>
                                    <reporter username="cheolsoo">Cheolsoo Park</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jun 2014 06:52:25 +0000</created>
                <updated>Fri, 21 Nov 2014 05:59:16 +0000</updated>
                            <resolved>Sun, 22 Jun 2014 20:10:04 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14040045" author="cheolsoo" created="Sun, 22 Jun 2014 07:01:53 +0000"  >&lt;p&gt;The patch discards the scheme from the given path and only uses the rest to create a distributed cache file name.&lt;/p&gt;</comment>
                            <comment id="14040224" author="daijy" created="Sun, 22 Jun 2014 19:55:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14040229" author="cheolsoo" created="Sun, 22 Jun 2014 20:10:04 +0000"  >&lt;p&gt;Committed to trunk. Thank you Daniel for review the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651847" name="PIG-4032-1.patch" size="982" author="cheolsoo" created="Sun, 22 Jun 2014 07:02:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x21b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>