<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4592] Pig 0.15 stopped working with Hadoop 1.x</title>
                <link>https://issues.apache.org/jira/browse/PIG-4592</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;It looks like the Maven jar for Pig 0.15 is built against Hadoop 1.x instead of Hadoop 2.x.&lt;br/&gt;
Running Pig 0.15 against a Hadoop 1 environment (which works fine in 0.14) triggers a storm of class not found exceptions for classes in Hadoop 2 (like org/apache/hadoop/mapreduce/task/JobContextImpl).&lt;/p&gt;

&lt;p&gt;The culprit seems to be the HadoopShim included in 0.15 which is different from 0.14 (and previous) - it&apos;s part of hadoop23 instead of hadoop20 package (whatever that means).&lt;/p&gt;

&lt;p&gt;As it stands right now, using Pig 0.15 from Maven (common case) with Hadoop 1.x is impossible.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 1.x and pig.jar retrieved from Maven&lt;/p&gt;</environment>
        <key id="12836028">PIG-4592</key>
            <summary>Pig 0.15 stopped working with Hadoop 1.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="costin.leau">Costin Leau</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Jun 2015 20:00:44 +0000</created>
                <updated>Wed, 17 Jun 2015 17:15:38 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 22:22:57 +0000</resolved>
                                    <version>0.15.0</version>
                                    <fixVersion>0.15.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14587111" author="rohini" created="Mon, 15 Jun 2015 23:11:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;,&lt;br/&gt;
   Did we accidentally publish the hadoop 1.x version into maven for the one without -h2 classifier as well?&lt;/p&gt;</comment>
                            <comment id="14588788" author="daijy" created="Tue, 16 Jun 2015 21:16:23 +0000"  >&lt;p&gt;I see the problem. It is a by-produce of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4499&quot; title=&quot;mvn-build miss tez classes in pig-h2.jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4499&quot;&gt;&lt;del&gt;PIG-4499&lt;/del&gt;&lt;/a&gt;. Attach a patch.&lt;/p&gt;</comment>
                            <comment id="14588812" author="rohini" created="Tue, 16 Jun 2015 21:30:26 +0000"  >&lt;p&gt;Shouldn&apos;t &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;tofile=&lt;span class=&quot;code-quote&quot;&gt;&quot;${output.jarfile.core}&quot;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; be &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;tofile=&lt;span class=&quot;code-quote&quot;&gt;&quot;${output.jarfile.core-h1}&quot;&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="14588820" author="daijy" created="Tue, 16 Jun 2015 21:35:41 +0000"  >&lt;p&gt;Target &quot;signanddeploy&quot; takes output.jarfile.core instead of output.jarfile.core-h1. That&apos;s actually the pitfall Pig publish the h2 jar in place of h1.&lt;/p&gt;</comment>
                            <comment id="14588874" author="rohini" created="Tue, 16 Jun 2015 22:03:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14588899" author="daijy" created="Tue, 16 Jun 2015 22:22:57 +0000"  >&lt;p&gt;Patch committed to both trunk and 0.15 branch.&lt;/p&gt;

&lt;p&gt;Maven artifacts is republished. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=costin&quot; class=&quot;user-hover&quot; rel=&quot;costin&quot;&gt;costin&lt;/a&gt;, can you try it?&lt;/p&gt;</comment>
                            <comment id="14590121" author="costin" created="Wed, 17 Jun 2015 17:15:38 +0000"  >&lt;p&gt;The latest artifact works for me. &lt;br/&gt;
However, republishing a stable artifact is not a good practice since the previous binaries have been already distributed and Maven &amp;amp; co won&apos;t download the new ones. As far as Maven is concerned, once something is released, it is frozen (I wasn&apos;t even aware maven central allows republication).&lt;br/&gt;
In my case I had to nuke Pig from my local repository - I expect others to face the same issue.&lt;br/&gt;
Doing a 0.15.1 release, even if it&apos;s binary the same, clarifies the situation and avoid any confusion about when the jar was downloaded in my opinion,&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739974" name="PIG-4592-1.patch" size="911" author="daijy" created="Tue, 16 Jun 2015 21:16:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fqjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>