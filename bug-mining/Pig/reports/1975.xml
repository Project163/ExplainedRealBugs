<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:03:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5300] hashCode for Bag needs to be order independent </title>
                <link>https://issues.apache.org/jira/browse/PIG-5300</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;This is a follow up from &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-5041&quot; title=&quot;RoundRobinPartitioner is not deterministic when order of input records change&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-5041&quot;&gt;&lt;del&gt;PIG-5041&lt;/del&gt;&lt;/a&gt; where &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt; and others discussed about &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Anyway, the bag as the key is a different issue. Need to address separately. Maybe we can write a hashcode which is order independent.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13101750">PIG-5300</key>
            <summary>hashCode for Bag needs to be order independent </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knoguchi">Koji Noguchi</assignee>
                                    <reporter username="knoguchi">Koji Noguchi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Sep 2017 19:47:34 +0000</created>
                <updated>Mon, 15 Sep 2025 11:28:59 +0000</updated>
                            <resolved>Thu, 21 Dec 2017 21:40:29 +0000</resolved>
                                                    <fixVersion>0.18.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16164999" author="knoguchi" created="Wed, 13 Sep 2017 17:31:50 +0000"  >&lt;p&gt;Attaching my first try, &lt;tt&gt;pig-5300-v01.patch&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This change will update &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; DefaultDataBag
 DistinctDataBag
 InternalCachedBag
 InternalDistinctBag
 InternalSortedBag
 SortedDataBag
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which extends from &lt;tt&gt;DefaultAbstractBag&lt;/tt&gt; and also &lt;br/&gt;
&lt;tt&gt;SingleTupleBag&lt;/tt&gt; and &lt;tt&gt;NonSpillableDataBag&lt;/tt&gt; which have their own implementation of DataBag.&lt;/p&gt;

&lt;p&gt;NOT touching &lt;tt&gt;AccumulativeBag&lt;/tt&gt;, &lt;tt&gt;LimitedSortedDataBag&lt;/tt&gt; and &lt;tt&gt;ReadOnceBag&lt;/tt&gt; in the belief that they will not be used in hashcode/equals/compareTo.  At the same time, I didn&apos;t have the courage to throw Exceptions from them.&lt;/p&gt;

&lt;p&gt;Also added hashcode method to DataBag interface just for documentation purposes. (Just like Map interface in Java.)  Also added null check for &quot;equals&quot; calls since java api documents that they should return false (and not throw NPE).&lt;/p&gt;</comment>
                            <comment id="16168256" author="knoguchi" created="Fri, 15 Sep 2017 17:51:57 +0000"  >&lt;p&gt;Tests passed.  Making it patch available. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;, appreciate if you could take a look when you have time.&lt;/p&gt;</comment>
                            <comment id="16168514" author="rohini" created="Fri, 15 Sep 2017 21:00:07 +0000"  >&lt;p&gt;+1.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;, can you please take a look as well?&lt;/p&gt;</comment>
                            <comment id="16217487" author="knoguchi" created="Tue, 24 Oct 2017 19:08:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1. Daniel Dai, can you please take a look as well?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Pinging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16300574" author="knoguchi" created="Thu, 21 Dec 2017 21:40:29 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for the review Rohini!!! &lt;/p&gt;

&lt;p&gt;Daniel, still appreciate your feedback when you get some time next year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12886914" name="pig-5300-v01.patch" size="9525" author="knoguchi" created="Wed, 13 Sep 2017 17:17:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jzfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>