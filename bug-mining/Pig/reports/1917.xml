<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5118] Script fails with Invalid dag containing 0 vertices</title>
                <link>https://issues.apache.org/jira/browse/PIG-5118</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;  The current code of splitting DAG does not handle cases where there is split and a clean segmentation is not possible. It also does not handle cases where there is multiple segments and they are later used together. Both cases it ends up with &quot;Invalid dag containing 0 vertices&quot; error as it creates one empty DAG and and a new DAG which contains the full original plan as it was not able to segment.&lt;/p&gt;

&lt;p&gt;Usually can ask user to get rid of unnecessary store and then load if in same script as it is usually a result of bad programming and inefficient. But in this case they were part of different large scripts and run as below.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;script.pig&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;run -param output=output1 script1.pig  --stores to output1
run -param input=output1 script2.pig  -- load from output1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13038565">PIG-5118</key>
            <summary>Script fails with Invalid dag containing 0 vertices</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2017 22:37:34 +0000</created>
                <updated>Wed, 21 Jun 2017 09:15:13 +0000</updated>
                            <resolved>Mon, 30 Jan 2017 19:29:22 +0000</resolved>
                                                    <fixVersion>0.17.0</fixVersion>
                    <fixVersion>0.16.1</fixVersion>
                                    <component>tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15843606" author="rohini" created="Fri, 27 Jan 2017 22:46:24 +0000"  >&lt;p&gt;Patch uploaded to review board as well - &lt;a href=&quot;https://reviews.apache.org/r/56043/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/56043/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15845653" author="rohini" created="Mon, 30 Jan 2017 18:39:08 +0000"  >&lt;p&gt;Daniel pointed out that StoredLoad_1 actually had 3 DAGs. Fixed that and added a test case for it.&lt;/p&gt;</comment>
                            <comment id="15845659" author="daijy" created="Mon, 30 Jan 2017 18:44:54 +0000"  >&lt;p&gt;+1 for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-5118&quot; title=&quot;Script fails with Invalid dag containing 0 vertices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-5118&quot;&gt;&lt;del&gt;PIG-5118&lt;/del&gt;&lt;/a&gt;-3.patch.&lt;/p&gt;</comment>
                            <comment id="15845732" author="rohini" created="Mon, 30 Jan 2017 19:29:22 +0000"  >&lt;p&gt;Committed to branch-0.16 and trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                            <comment id="15846744" author="szita" created="Tue, 31 Jan 2017 12:28:42 +0000"  >&lt;p&gt;It seems like Pig-trunk-commit job became unstable after this commit.&lt;br/&gt;
See: &lt;a href=&quot;https://builds.apache.org/job/Pig-trunk-commit/2422/testReport/org.apache.pig.tez/TestTezCompiler/testStoreLoadSplit/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Pig-trunk-commit/2422/testReport/org.apache.pig.tez/TestTezCompiler/testStoreLoadSplit/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Seems like you forgot to regenerate the golden files after started using &lt;em&gt;FileLocalizer.setR(new Random(1331L))&lt;/em&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;file:/tmp/temp-994194982/tmp570752215:org.apache.pig.impl.io.InterStorage
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;vs&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;file:/tmp/temp-1456742965/tmp-26634357:org.apache.pig.impl.io.InterStorage
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850188/12850188_PIG-5118.fixTest.patch&quot; title=&quot;PIG-5118.fixTest.patch attached to PIG-5118&quot;&gt;PIG-5118.fixTest.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; to fix it&lt;/p&gt;</comment>
                            <comment id="15847092" author="rohini" created="Tue, 31 Jan 2017 16:39:30 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szita&quot; class=&quot;user-hover&quot; rel=&quot;szita&quot;&gt;szita&lt;/a&gt; for fixing this. It did fail in our internal jenkins as well. Committed the &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-5118&quot; title=&quot;Script fails with Invalid dag containing 0 vertices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-5118&quot;&gt;&lt;del&gt;PIG-5118&lt;/del&gt;&lt;/a&gt;.fixTest.patch. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Seems like you forgot to regenerate the golden files after started using FileLocalizer.setR(new Random(1331L))&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; Actually I did regenerate and it was passing fine in my laptop due to &lt;a href=&quot;https://github.com/apache/pig/blob/trunk/src/org/apache/pig/impl/io/FileLocalizer.java#L497-L499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/pig/blob/trunk/src/org/apache/pig/impl/io/FileLocalizer.java#L497-L499&lt;/a&gt;. I should have cleaned up  /tmp/temp* files before generating the golden file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12849766" name="PIG-5118-1.patch" size="31541" author="rohini" created="Fri, 27 Jan 2017 22:45:25 +0000"/>
                            <attachment id="12849898" name="PIG-5118-2.patch" size="40259" author="rohini" created="Mon, 30 Jan 2017 01:36:29 +0000"/>
                            <attachment id="12850022" name="PIG-5118-3.patch" size="43596" author="rohini" created="Mon, 30 Jan 2017 18:39:08 +0000"/>
                            <attachment id="12850188" name="PIG-5118.fixTest.patch" size="3430" author="szita" created="Tue, 31 Jan 2017 12:27:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39bkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>