<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:49:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-599] BufferedPositionedInputStream isn&apos;t buffered</title>
                <link>https://issues.apache.org/jira/browse/PIG-599</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;org.apache.pig.impl.io.BufferedPositionedInputStream is not actually buffered.  This is because it sits atop a FSDataInputStream (somewhere down the stack), which is buffered.  So to avoid double buffering, which can be bad, BufferedPositionedInputStream was written without buffering.  But the FSDataInputStream is far enough down the stack that it is still quite costly to call read() individually for each byte.  A run through a profiler shows that a fair amount of time is being spent in BufferedPositionedInputStream.read().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411733">PIG-599</key>
            <summary>BufferedPositionedInputStream isn&apos;t buffered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gates">Alan Gates</assignee>
                                    <reporter username="gates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Jan 2009 00:47:14 +0000</created>
                <updated>Wed, 24 Mar 2010 22:04:16 +0000</updated>
                            <resolved>Tue, 17 Feb 2009 16:57:06 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12661011" author="alangates" created="Tue, 6 Jan 2009 01:11:00 +0000"  >&lt;p&gt;This patch changes BufferedPositionedInputStream to wrap a BufferedInputStream around the provided InputStream.  It also adds a new constructor for DefaultTuple (and new calls in TupleFactory) that take an ArrayList&amp;lt;Object&amp;gt; and use that directly to construct the DefaultTuple instead of copying the list (as was done previously).  In a run of the pig mix queries these changes made most queries about 25-40% faster.&lt;/p&gt;</comment>
                            <comment id="12661384" author="breed" created="Wed, 7 Jan 2009 00:03:58 +0000"  >&lt;p&gt;There is a problem with using a buffered stream and compression. we have to do some really subtle things get the mapping of compression blocks into positions so that the load functions work out properly. if read ahead happens underneath things break. (it would be excellent if someone had a better way of doing it.)  in absence of a better idea, i think we should check that the stream we are buffering and skip the buffering if it as a compressed stream. &lt;/p&gt;</comment>
                            <comment id="12662215" author="alangates" created="Fri, 9 Jan 2009 01:42:54 +0000"  >&lt;p&gt;A second version of the patch that addresses Ben&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="12662359" author="breed" created="Fri, 9 Jan 2009 13:14:34 +0000"  >&lt;p&gt;+1 looks good.&lt;/p&gt;</comment>
                            <comment id="12673399" author="olgan" created="Fri, 13 Feb 2009 22:16:18 +0000"  >&lt;p&gt;Alan, Has this patch been committed?&lt;/p&gt;</comment>
                            <comment id="12674264" author="alangates" created="Tue, 17 Feb 2009 16:57:06 +0000"  >&lt;p&gt;Patch checked in quite some time ago.  Closing bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397476" name="loadperf-2.patch" size="5688" author="gates" created="Fri, 9 Jan 2009 01:42:54 +0000"/>
                            <attachment id="12397165" name="loadperf.patch" size="6320" author="gates" created="Tue, 6 Jan 2009 01:11:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gm6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>