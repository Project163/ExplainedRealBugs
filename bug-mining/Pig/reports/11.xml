<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:48:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-295] The testSortDistinct function in TestEvalPipeline is buggy</title>
                <link>https://issues.apache.org/jira/browse/PIG-295</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The problem is that last is supposed to be holding the last read value from the tuple but clearly it does not right now as can be seen below:&lt;br/&gt;
              int last = -1;&lt;br/&gt;
		while (iter.hasNext()){&lt;br/&gt;
			Tuple t = iter.next();&lt;br/&gt;
			if (eliminateDuplicates)&lt;/p&gt;
{
				assertTrue(last &amp;lt; t.getAtomField(0).numval().intValue());
			}
&lt;p&gt;else&lt;/p&gt;
{
				assertTrue(last &amp;lt;= t.getAtomField(0).numval().intValue());
				assertEquals(t.arity(), 2);
			}
&lt;p&gt;		}&lt;/p&gt;

&lt;p&gt;last is always -1 &amp;amp; all tests pass. This should be correct aptly for the non-types branch if we want to. But the fix I am attaching is just for the types branch. Here since we do not have types, there will be bytearray comparison leading to lexicographic sorting. So changed the tests to test that rather than numeric sorting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399753">PIG-295</key>
            <summary>The testSortDistinct function in TestEvalPipeline is buggy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shravanmn">Shravan Matthur Narayanamurthy</assignee>
                                    <reporter username="shravanmn">Shravan Matthur Narayanamurthy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jul 2008 18:23:18 +0000</created>
                <updated>Wed, 24 Mar 2010 22:04:03 +0000</updated>
                            <resolved>Fri, 11 Jul 2008 12:17:00 +0000</resolved>
                                    <version>0.0.0</version>
                    <version>0.2.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12611265" author="shravanmn" created="Mon, 7 Jul 2008 18:25:02 +0000"  >&lt;p&gt;The fix I am attaching is just for the types branch. Here since the test is not typed, there will be bytearray comparison leading to lexicographic sorting. So changed the tests to test that rather than numeric sorting.&lt;/p&gt;</comment>
                            <comment id="12612853" author="pi_song" created="Fri, 11 Jul 2008 12:17:00 +0000"  >&lt;p&gt;Committed.&lt;br/&gt;
Thanks Shravan for your good eyes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12385428" name="testSort.patch" size="1448" author="shravanmn" created="Mon, 7 Jul 2008 18:25:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gih3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>