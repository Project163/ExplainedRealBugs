<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4533] Document error: Pig does support concatenated gz file</title>
                <link>https://issues.apache.org/jira/browse/PIG-4533</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Documentation (since 0.11.1 at least) says :&lt;br/&gt;
&lt;a href=&quot;http://pig.apache.org/docs/r0.11.1/func.html#handling-compression&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pig.apache.org/docs/r0.11.1/func.html#handling-compression&lt;/a&gt;&lt;br/&gt;
&lt;em&gt;&quot;Note: PigStorage and TextLoader correctly read compressed files as long as they are NOT CONCATENATED FILES generated in this manner: ...&quot;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;This is not true for gz, since&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I did a test - concatenated&amp;amp;compress some files and processed them. The same was done with the raw files (no compression). The results were identical&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Jira&apos;s &lt;a href=&quot;https://issues.apache.org/jira/i#browse/HADOOP-4012&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/i#browse/HADOOP-4012&lt;/a&gt; and &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/i#browse/HADOOP-6835&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/i#browse/HADOOP-6835&lt;/a&gt; says the concatenation problems were fixed in Hadoop 0.22, Hadoop 0.20 respectively for both: bz2 and gz. That said Hadoop (1 and 2) are supporting concatenated archives bz2, gz  already. &lt;/p&gt;

&lt;p&gt;Pig deals with bz2 on its own(historical reasons) which is redundant to hadoop-common. Therefore this activity should be left to hadoop-common (there is no need to be handled by Pig anymore). &lt;/p&gt;

&lt;p&gt;The documentation needs to be updated accordingly (concatenated gz, bz2 are processing correctly with hadoop-commons). Also a remark that tar.gz and tar.bz2 are not supported would be helpful since many users are using tar.gz or tar.bz2 automatically.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12827607">PIG-4533</key>
            <summary>Document error: Pig does support concatenated gz file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="xhudik">Tomas Hudik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 May 2015 10:16:56 +0000</created>
                <updated>Wed, 8 Jun 2016 20:48:25 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 21:29:59 +0000</resolved>
                                                    <fixVersion>0.16.0</fixVersion>
                                    <component>documentation</component>
                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14550037" author="xhudik" created="Tue, 19 May 2015 08:31:49 +0000"  >&lt;p&gt;Based on the discussion in the mailing list &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/pig-user/201505.mbox/browser&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/pig-user/201505.mbox/browser&lt;/a&gt; (click on: &quot;concatenated gzip/bzip in Pig 0.11 and higher&quot;) seems that gzip files are ok since they are processed by hadoop which can handle concatenated gzip (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6835&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-6835&lt;/a&gt;). &lt;br/&gt;
The problem is with bzip2 which are processed by Pig. Since Hadoop is able to process also concatenated bzip2 files as well (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-4012&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-4012&lt;/a&gt; or &lt;a href=&quot;http://stackoverflow.com/a/25888475/1408096&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/25888475/1408096&lt;/a&gt; ) I&apos;d let Hadoop do this job instead of Pig. If so the documentation (&lt;a href=&quot;http://pig.apache.org/docs/r0.11.1/func.html#handling-compression&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pig.apache.org/docs/r0.11.1/func.html#handling-compression&lt;/a&gt;) needs to be updated accordingly&lt;/p&gt;</comment>
                            <comment id="14583808" author="daijy" created="Fri, 12 Jun 2015 18:06:41 +0000"  >&lt;p&gt;Fix document first. Will open a separate Jira for switching bzip processing.&lt;/p&gt;</comment>
                            <comment id="14583948" author="rohini" created="Fri, 12 Jun 2015 19:38:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14583969" author="rohini" created="Fri, 12 Jun 2015 19:48:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xhudik&quot; class=&quot;user-hover&quot; rel=&quot;xhudik&quot;&gt;xhudik&lt;/a&gt;,&lt;br/&gt;
   I am confused. In &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4599&quot; title=&quot;tar.gz compression doesn&amp;#39;t produce correct output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4599&quot;&gt;&lt;del&gt;PIG-4599&lt;/del&gt;&lt;/a&gt; you mention that tar.gz does not work. But in this one you say it does. Am I missing something?&lt;/p&gt;</comment>
                            <comment id="14584614" author="xhudik" created="Sat, 13 Jun 2015 14:26:28 +0000"  >&lt;p&gt;My understanding is that these two issues are not related. This one is about concatenated archives(gz/bz2), while that one is about a possible bug in tar.gz &lt;/p&gt;</comment>
                            <comment id="14585237" author="rohini" created="Sun, 14 Jun 2015 20:10:07 +0000"  >&lt;p&gt;That should be fine. Could you correct the description of this jira then? It seems to imply that tar.gz works with Pig while it does not. I assume you meant to say concatenated .gz works and not tar.gz.&lt;/p&gt;</comment>
                            <comment id="14585696" author="xhudik" created="Mon, 15 Jun 2015 09:31:04 +0000"  >&lt;p&gt;done, now it should make more sense&lt;/p&gt;</comment>
                            <comment id="14588810" author="daijy" created="Tue, 16 Jun 2015 21:29:59 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Tomas, Rohini!&lt;/p&gt;</comment>
                            <comment id="14981379" author="rohini" created="Thu, 29 Oct 2015 21:51:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;,&lt;br/&gt;
  Pig has been supporting concatenated bzip2 files for a while. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knoguchi&quot; class=&quot;user-hover&quot; rel=&quot;knoguchi&quot;&gt;knoguchi&lt;/a&gt; pointed out that we have a test for it - TestBzip.testBZ2Concatenation. So we need to correct the documentation for bzip as well. &lt;/p&gt;</comment>
                            <comment id="14981383" author="rohini" created="Thu, 29 Oct 2015 21:53:01 +0000"  >&lt;p&gt;Ignore my previous comment. Missed the @Test (expected=IOException.class) on top of that test.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12637674">PIG-3251</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12739296" name="PIG-4533-1.patch" size="1115" author="daijy" created="Fri, 12 Jun 2015 18:06:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ecpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>