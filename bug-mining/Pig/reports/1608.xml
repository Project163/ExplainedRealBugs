<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:00:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-3861] duplicate jars get added to distributed cache</title>
                <link>https://issues.apache.org/jira/browse/PIG-3861</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;PigContext&apos;s scriptJars should handle de-duplication of jars to account for script engines e.g. JythonScriptEngine performing various jar loading for module and sometimes adding same jar twice. AlsoJobControlCompiler.shipToHdfs() needs a check against adding the same jar more than once, under different randomly incremented sub-dirs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706328">PIG-3861</key>
            <summary>duplicate jars get added to distributed cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chitnis">Mona Chitnis</assignee>
                                    <reporter username="chitnis">Mona Chitnis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Apr 2014 00:08:02 +0000</created>
                <updated>Mon, 9 Jul 2018 22:09:10 +0000</updated>
                            <resolved>Thu, 23 Oct 2014 20:49:16 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13958370" author="chitnis" created="Thu, 3 Apr 2014 00:13:56 +0000"  >&lt;p&gt;patch attached&lt;/p&gt;</comment>
                            <comment id="13959140" author="rohini" created="Thu, 3 Apr 2014 19:58:43 +0000"  >&lt;p&gt;Few comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Please convert to Set for skipJars, extraJars, etc as well&lt;/li&gt;
	&lt;li&gt;The changes to shipToHDFS is very bad and adds FS calls and also logic is flimsy if user passes jars/files via distributedcache like in Oozie. Please revert it and check the conf to see if DistributedCache already has that file. Take into account symlinks while doing that.&lt;/li&gt;
	&lt;li&gt;TestJobControlCompiler.java - Add an assert to check that it is in DistributedCache only once.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13969074" author="chitnis" created="Tue, 15 Apr 2014 00:34:58 +0000"  >&lt;p&gt;patch updated with review comments. removed unnecessary complexity&lt;/p&gt;</comment>
                            <comment id="13983103" author="chitnis" created="Mon, 28 Apr 2014 15:29:24 +0000"  >&lt;p&gt;Uploading final patch &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3861&quot; title=&quot;duplicate jars get added to distributed cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3861&quot;&gt;&lt;del&gt;PIG-3861&lt;/del&gt;&lt;/a&gt;-3.patch after review&lt;/p&gt;</comment>
                            <comment id="13983127" author="chitnis" created="Mon, 28 Apr 2014 15:48:44 +0000"  >&lt;p&gt;uploading patch again with &quot;--no-prefix&quot; for git diff&lt;/p&gt;</comment>
                            <comment id="14012849" author="chitnis" created="Thu, 29 May 2014 20:36:19 +0000"  >&lt;p&gt;Patch (v4) updated to resolve issue where pig job submitted via Oozie would report local FS path for jar instead of on distributed cache. Also rebased to updated trunk. Tested locally&lt;/p&gt;</comment>
                            <comment id="14179207" author="rohini" created="Tue, 21 Oct 2014 22:07:32 +0000"  >&lt;p&gt;Rebased the patch. Removed the List to Set conversion as Daniel said order needs to be maintained.&lt;/p&gt;</comment>
                            <comment id="14181728" author="daijy" created="Thu, 23 Oct 2014 18:31:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14181939" author="rohini" created="Thu, 23 Oct 2014 20:49:16 +0000"  >&lt;p&gt;Committed to branch-0.14 and trunk. Thanks Mona for the patch and Daniel for the review.&lt;/p&gt;</comment>
                            <comment id="14184379" author="daijy" created="Sun, 26 Oct 2014 03:27:29 +0000"  >&lt;p&gt;TestGrunt is broken by the patch. Commit fix &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3861&quot; title=&quot;duplicate jars get added to distributed cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3861&quot;&gt;&lt;del&gt;PIG-3861&lt;/del&gt;&lt;/a&gt;-fixtest.patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12765514">PIG-4373</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12699094">PIG-3798</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638380" name="PIG-3681-1.patch" size="7344" author="chitnis" created="Thu, 3 Apr 2014 00:13:56 +0000"/>
                            <attachment id="12640180" name="PIG-3861-2.patch" size="13062" author="chitnis" created="Tue, 15 Apr 2014 00:34:58 +0000"/>
                            <attachment id="12642261" name="PIG-3861-3.patch" size="11924" author="chitnis" created="Mon, 28 Apr 2014 15:48:44 +0000"/>
                            <attachment id="12647442" name="PIG-3861-4.patch" size="22710" author="chitnis" created="Thu, 29 May 2014 20:36:19 +0000"/>
                            <attachment id="12676199" name="PIG-3861-5.patch" size="12267" author="rohini" created="Tue, 21 Oct 2014 22:07:32 +0000"/>
                            <attachment id="12677148" name="PIG-3861-fixtest.patch" size="712" author="daijy" created="Sun, 26 Oct 2014 03:27:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u9lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>