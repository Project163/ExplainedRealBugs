<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4961] CROSS followed by LIMIT inside nested foreach drop data from result</title>
                <link>https://issues.apache.org/jira/browse/PIG-4961</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;After changing in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4259&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PIG-4259&lt;/a&gt; , LIMIT operation can drop some data from result.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12992268">PIG-4961</key>
            <summary>CROSS followed by LIMIT inside nested foreach drop data from result</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="vaifer">Sergey Svynarchuk</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jul 2016 13:10:55 +0000</created>
                <updated>Wed, 21 Jun 2017 09:15:33 +0000</updated>
                            <resolved>Tue, 26 Jul 2016 12:30:14 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.17.0</fixVersion>
                    <fixVersion>0.16.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15391855" author="vaifer" created="Mon, 25 Jul 2016 13:12:16 +0000"  >&lt;p&gt;Attached script and sample data for reproduce it.&lt;/p&gt;

&lt;p&gt;Expected result:&lt;br/&gt;
(1,1,1,3.1,1,3.1)&lt;br/&gt;
(2,1,2,3.7,2,3.7)&lt;br/&gt;
(3,1,3,3.2,3,3.2)&lt;/p&gt;

&lt;p&gt;Actual result:&lt;br/&gt;
(1,1,1,3.1,1,3.1)&lt;br/&gt;
(3,1,3,3.2,3,3.2)&lt;/p&gt;</comment>
                            <comment id="15391962" author="vaifer" created="Mon, 25 Jul 2016 14:13:34 +0000"  >&lt;p&gt;If revert changes from src/org/apache/pig/backend/hadoop/executionengine/physicalLayer/relationalOperators/POLimit.java (that was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4259&quot; title=&quot;Fix few issues related to Union, CROSS and auto parallelism in Tez&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4259&quot;&gt;&lt;del&gt;PIG-4259&lt;/del&gt;&lt;/a&gt; ), expected and actual results will be the same&lt;/p&gt;</comment>
                            <comment id="15392544" author="daijy" created="Mon, 25 Jul 2016 19:31:11 +0000"  >&lt;p&gt;Yes, I can reproduce. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;rohini&lt;/a&gt;, I don&apos;t feel the POLimit change is needed, can you check?&lt;/p&gt;</comment>
                            <comment id="15392700" author="rohini" created="Mon, 25 Jul 2016 21:27:32 +0000"  >&lt;p&gt;  It was just an optimization. Will check. Need to determine what cases are impacted.&lt;/p&gt;</comment>
                            <comment id="15393118" author="rohini" created="Tue, 26 Jul 2016 03:06:52 +0000"  >&lt;p&gt;It is not a problem with the limit change. There is some issue with POCross not resetting input. If I just add another bag to input, I am getting same wrong result even with POLimit changes reverted.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1       {(1,1,3.1),(8,1,2.2),(1,1,3.1)} {(1,3.1)}
2       {(8,2,3.5),(1,2,3.7)}   {(2,3.7)}
3       {(7,3,0.5),(1,3,3.2)}   {(3,3.2)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15393274" author="daijy" created="Tue, 26 Jul 2016 05:49:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15393373" author="vaifer" created="Tue, 26 Jul 2016 07:44:53 +0000"  >&lt;p&gt;+1. All scripts return correct results after this patch.&lt;/p&gt;</comment>
                            <comment id="15393723" author="rohini" created="Tue, 26 Jul 2016 12:30:15 +0000"  >&lt;p&gt;Committed to branch-0.16 and trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12820089" name="PIG-4961-1.patch" size="3812" author="rohini" created="Tue, 26 Jul 2016 04:09:21 +0000"/>
                            <attachment id="12819921" name="input1.zip" size="393" author="vaifer" created="Mon, 25 Jul 2016 13:12:16 +0000"/>
                            <attachment id="12819922" name="script.pig" size="499" author="vaifer" created="Mon, 25 Jul 2016 13:12:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ghr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>