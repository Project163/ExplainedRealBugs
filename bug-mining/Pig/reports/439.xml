<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:51:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-1415] LoadFunc signature is not correct in LoadFunc.getSchema sometimes</title>
                <link>https://issues.apache.org/jira/browse/PIG-1415</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The following script does not set signature correctly when we call LoadFunc.getSchema.&lt;/p&gt;

&lt;p&gt;a = load &apos;xxx&apos; using TableLoader(&apos;xxx&apos;) as (a, b, c);&lt;/p&gt;

&lt;p&gt;However, if we don&apos;t give schema to a, we get the right signature:&lt;/p&gt;

&lt;p&gt;a = load &apos;xxx&apos; using TableLoader(&apos;xxx);&lt;/p&gt;

&lt;p&gt;Diagnosis:&lt;br/&gt;
Parser will generate LoadClause before go to the generation &quot;Alias = LoadClause&quot;, which actually set signature to the LOLoad. When we give a schema, parser try to call LOLoad.setSchema(), internally it will call LoadFunc.determineSchema. And at that time, signature has not been set yet. &lt;/p&gt;

&lt;p&gt;This relates to the change we cache determinedSchema in LOLoad &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1317&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;PIG-1317&lt;/a&gt;. Before that change, we will later call LoadFunc.getSchema() again using the right signature. Now we cache determinedSchema, so LoadFunc don&apos;t have a chance to get the right signature inside LoadFunc.getSchema()&lt;/p&gt;

&lt;p&gt;Solution:&lt;br/&gt;
We shall not call LoadFunc.determineSchema inside LOLoad.setSchema().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12464470">PIG-1415</key>
            <summary>LoadFunc signature is not correct in LoadFunc.getSchema sometimes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 May 2010 21:38:29 +0000</created>
                <updated>Mon, 17 May 2010 17:21:40 +0000</updated>
                            <resolved>Mon, 17 May 2010 17:21:40 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12867633" author="ashutoshc" created="Fri, 14 May 2010 18:52:54 +0000"  >&lt;p&gt;+1 Please commit if all unit tests pass.&lt;/p&gt;</comment>
                            <comment id="12868289" author="daijy" created="Mon, 17 May 2010 17:21:40 +0000"  >&lt;p&gt;Patch committed to both 0.7 branch and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12444451" name="PIG-1415-1.patch" size="5230" author="daijy" created="Fri, 14 May 2010 00:51:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gvmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>