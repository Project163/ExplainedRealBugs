<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:49:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-690] UNION doesn&apos;t work in the latest code</title>
                <link>https://issues.apache.org/jira/browse/PIG-690</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;grunt&amp;gt; a = load &apos;tmp/f1&apos; using BinStorage();&lt;br/&gt;
grunt&amp;gt; b = load &apos;tmp/f2&apos; using BinStorage();&lt;br/&gt;
grunt&amp;gt; describe a;&lt;br/&gt;
a: {int,chararray,int,{(int,chararray,chararray)}}&lt;br/&gt;
grunt&amp;gt; describe b;&lt;br/&gt;
b: {int,chararray,int,{(int,chararray,chararray)}}&lt;br/&gt;
grunt&amp;gt; c = union a,b;&lt;br/&gt;
grunt&amp;gt; describe c;&lt;br/&gt;
2009-02-27 11:51:46,012 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1052: Cannot cast bag with schema bag(&lt;/p&gt;
{(int,chararray,chararray)}
&lt;p&gt;) to tuple with schema tuple&lt;br/&gt;
Details at logfile: /homes/amiry/pig_1235735380348.log&lt;/p&gt;

&lt;p&gt;dump a and dump b work fine.&lt;/p&gt;

&lt;p&gt;Sample data provided to dev team in an e-mail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;mapred mode. local mode.has the same problem under linux.&lt;br/&gt;
code is taken from trunk&lt;/p&gt;</environment>
        <key id="12415779">PIG-690</key>
            <summary>UNION doesn&apos;t work in the latest code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkamath">Pradeep Kamath</assignee>
                                    <reporter username="amirhyoussefi">Amir Youssefi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 11:58:50 +0000</created>
                <updated>Wed, 24 Mar 2010 22:04:18 +0000</updated>
                            <resolved>Wed, 4 Mar 2009 01:45:19 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12678209" author="pkamath" created="Tue, 3 Mar 2009 02:31:51 +0000"  >&lt;p&gt;The root cause of the issue is while merging schemas, the code recursively merges subschemas if a field is a tuple or a bag. At that point, it does not properly attribute the type to be bag if that was the case. It always marks the type as tuple whenever the field schema is of type bag or tuple. This is fixed in the patch and a unit test case has been added which tries to union two relations which have a bag field. &lt;/p&gt;</comment>
                            <comment id="12678519" author="sms" created="Wed, 4 Mar 2009 00:01:41 +0000"  >&lt;p&gt;I am reviewing this patch.&lt;/p&gt;</comment>
                            <comment id="12678538" author="sms" created="Wed, 4 Mar 2009 01:45:19 +0000"  >&lt;p&gt;Patch has been committed. Thanks for fixing this issue Pradeep.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401280" name="PIG-690.patch" size="3425" author="pkamath" created="Tue, 3 Mar 2009 02:32:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gn73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>