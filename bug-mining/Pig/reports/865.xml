<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:54:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-2427] getSchemaFromString throws away the name of the tuple that is in a bag</title>
                <link>https://issues.apache.org/jira/browse/PIG-2427</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Schema thing = Utils.getSchemaFromString(&lt;span class=&quot;code-quote&quot;&gt;&quot;b:bag{t:tuple(x:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,y:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,z:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)}&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(thing.getField(0).schema.getField(0).alias); &lt;span class=&quot;code-comment&quot;&gt;//returns &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This isn&apos;t a huge issue, but it does seem odd to throw away this information unnecessarily. While any bag will of course have thus tuple and no other elements, it seems to violate the principle of least astonishment: if the tuple name was specified, shouldn&apos;t it be kept around?&lt;/p&gt;

&lt;p&gt;Edit: I just found a case where this actually can be a bit annoying. If you want to pull that tuple out of the bag, for whatever reason, you&apos;ve now lost its name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534995">PIG-2427</key>
            <summary>getSchemaFromString throws away the name of the tuple that is in a bag</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcoveney">Jonathan Coveney</assignee>
                                    <reporter username="jcoveney">Jonathan Coveney</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2011 18:34:29 +0000</created>
                <updated>Mon, 23 Jan 2012 07:31:21 +0000</updated>
                            <resolved>Fri, 16 Dec 2011 03:38:04 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11</version>
                                    <fixVersion>0.9.2</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13169108" author="jcoveney" created="Wed, 14 Dec 2011 06:20:21 +0000"  >&lt;p&gt;I ran ant test-commit and ant -Dtestcase=parser/Test* test successfully. Not sure how else to test this sort of change. It didn&apos;t seem like I needed to change AstPrinter, but let me know if I do.&lt;/p&gt;

&lt;p&gt;I added a test case to TestSchema that makes sure that Util.getSchemaFromString can will create an identical schema via its Schema.toString. I also had to change one existing test case, because it was assuming (incorrectly) that the tuple data should be thrown out (of course, that depends on whether you think it should be, but I strongly believe it shouldn&apos;t be thrown out if it is given).&lt;/p&gt;

&lt;p&gt;Haven&apos;t tested on anything but trunk&lt;/p&gt;</comment>
                            <comment id="13170664" author="jcoveney" created="Fri, 16 Dec 2011 01:27:39 +0000"  >&lt;p&gt;I ran ant test-commit successfully on 0.10 and 0.9 as well&lt;/p&gt;</comment>
                            <comment id="13170714" author="dvryaboy" created="Fri, 16 Dec 2011 02:29:06 +0000"  >&lt;p&gt;Looks harmless enough.&lt;br/&gt;
I&apos;ll commit to trunk and 10. Is this causing errors that require us to backport to 9?&lt;/p&gt;</comment>
                            <comment id="13170727" author="jcoveney" created="Fri, 16 Dec 2011 03:07:55 +0000"  >&lt;p&gt;It hasn&apos;t caused anything imminent. It mainly messed with another feature I wanted to add. Maybe slate it for 0.9.2? I see no reason why not, and I feel like until we are a couple of releases deep, it&apos;s worth keeping 0.9 up to date.&lt;/p&gt;</comment>
                            <comment id="13170735" author="ashutoshc" created="Fri, 16 Dec 2011 03:25:38 +0000"  >&lt;p&gt;Will this help &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2268&quot; title=&quot;Parser gobbles up the name of tuple in the bag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2268&quot;&gt;&lt;del&gt;PIG-2268&lt;/del&gt;&lt;/a&gt; too ?&lt;/p&gt;</comment>
                            <comment id="13170740" author="dvryaboy" created="Fri, 16 Dec 2011 03:38:04 +0000"  >&lt;p&gt;Committed to 0.9.2, 0.10, 0.11&lt;/p&gt;</comment>
                            <comment id="13170745" author="ashutoshc" created="Fri, 16 Dec 2011 03:45:03 +0000"  >&lt;p&gt;Awesome. Thanks, Jonathan for fixing this.&lt;/p&gt;</comment>
                            <comment id="13171996" author="daijy" created="Mon, 19 Dec 2011 01:37:53 +0000"  >&lt;p&gt;Some unit tests are broken. &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2427&quot; title=&quot;getSchemaFromString throws away the name of the tuple that is in a bag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2427&quot;&gt;&lt;del&gt;PIG-2427&lt;/del&gt;&lt;/a&gt;-2.patch is the fix.&lt;/p&gt;</comment>
                            <comment id="13172001" author="dvryaboy" created="Mon, 19 Dec 2011 02:05:10 +0000"  >&lt;p&gt;+1 thanks Daniel&lt;/p&gt;</comment>
                            <comment id="13172030" author="jcoveney" created="Mon, 19 Dec 2011 04:56:31 +0000"  >&lt;p&gt;Awesome, thanks Daniel&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507857" name="PIG-2427-2.patch" size="3865" author="daijy" created="Mon, 19 Dec 2011 01:37:53 +0000"/>
                            <attachment id="12507308" name="PIG2427.patch" size="4403" author="jcoveney" created="Wed, 14 Dec 2011 06:17:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h2lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>