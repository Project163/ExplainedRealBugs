<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:48:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-336] NULL checks are not in place in the types branch</title>
                <link>https://issues.apache.org/jira/browse/PIG-336</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The following code currently does not work&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;B = filter A by $0 is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; and $1 is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some other things which don&apos;t work with nulls include POAND, POOR etc&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400950">PIG-336</key>
            <summary>NULL checks are not in place in the types branch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkamath">Pradeep Kamath</assignee>
                                    <reporter username="pkamath">Pradeep Kamath</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jul 2008 20:48:55 +0000</created>
                <updated>Thu, 25 Mar 2010 00:12:40 +0000</updated>
                            <resolved>Fri, 15 Jan 2010 06:18:45 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                                                            <comments>
                            <comment id="12616697" author="pkamath" created="Thu, 24 Jul 2008 22:52:52 +0000"  >&lt;p&gt;Attached a patch to fix is null issues&lt;/p&gt;</comment>
                            <comment id="12617009" author="pkamath" created="Fri, 25 Jul 2008 18:59:33 +0000"  >&lt;p&gt;I am currently working on adding null in data for unit test cases so that testing with nulls is part of unit test cases. I am also trying to fix code issues along the way - will have a bigger patch once done.&lt;/p&gt;</comment>
                            <comment id="12617255" author="pkamath" created="Sun, 27 Jul 2008 08:15:18 +0000"  >&lt;p&gt;One thing I noticed while working on fixing null issues in arithmetic operations is currently the return type for Integer multiplication and addition is an Integer.This could give wrong results when the integers are big and the multiplication results in a value which cannot be stored in an integer - Should the result be a Long?&lt;/p&gt;</comment>
                            <comment id="12617398" author="pi_song" created="Mon, 28 Jul 2008 10:04:36 +0000"  >&lt;p&gt;Long can be overflown as well. Moving from int to long will just lower possibility. This is the same as our aggregate functions (SUM for example). I agree with anything that most people think is good.&lt;/p&gt;</comment>
                            <comment id="12618615" author="pkamath" created="Thu, 31 Jul 2008 06:36:19 +0000"  >&lt;p&gt;New patch which addresses many issues with handling nulls and also adds many unit test cases dealing with null data.&lt;/p&gt;


</comment>
                            <comment id="12618789" author="pkamath" created="Thu, 31 Jul 2008 18:20:56 +0000"  >&lt;p&gt;Resubmitting patch with a minor delta - change in test/org/apache/pig/test/util/GenRandomData.java to make the random null data generation more correct.&lt;/p&gt;</comment>
                            <comment id="12618908" author="pkamath" created="Fri, 1 Aug 2008 00:08:11 +0000"  >&lt;p&gt;I will be resubmitting the patch to work with latest revision in svn and also to fix a bug in the expressions ops - eq, lt, lte, neq, gt and gte&lt;/p&gt;</comment>
                            <comment id="12619133" author="pkamath" created="Fri, 1 Aug 2008 21:02:47 +0000"  >&lt;p&gt;Attached patch for changes noted in previous comment&lt;/p&gt;</comment>
                            <comment id="12619797" author="pkamath" created="Tue, 5 Aug 2008 06:31:43 +0000"  >&lt;p&gt;Attached patch compatible with current svn version. This patch does not handle nulls in joins/group/cogroup and sort&lt;/p&gt;</comment>
                            <comment id="12620110" author="alangates" created="Wed, 6 Aug 2008 01:19:46 +0000"  >&lt;p&gt;This patch looks great.  What a pile of work!&lt;/p&gt;

&lt;p&gt;I have one comment.  The KeyTypeDiscoverVisitor is used in the map and combine sections PigMapReduce and PigCombiner.  This should be done sooner.  Those classes are focussed on actual execution, not execution planning.  I think you&apos;re waiting until then because you only want to visit specific pieces of the physical plan in each map, combine, or reduce phase.  If that&apos;s the case, you should instead run this visitor in MapReduceLauncher and LocalLauncher, where the physical plan is compiled into a map reduce plan.  (Look for CombinerOptimizer, you should run the KeyTypeDiscoveryVisitor right after that.)  You can then record that information in the MapReduceOper itself, and read that in PigMapReduce and PigCombiner.&lt;/p&gt;</comment>
                            <comment id="12620333" author="pkamath" created="Wed, 6 Aug 2008 17:32:31 +0000"  >&lt;p&gt;Attached patch to address review comments.&lt;br/&gt;
Delta to previous patch:&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removed TestOrderBy changes - we should revisit this after order desc is fixed&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;NullableXXX classes have a change in the compareTo():&lt;br/&gt;
If both the objects being compared are nulls, it returns a 0 - this enables all nulls to collapse during a group by&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-keyDiscoverKeyTypeVisitor has been changed to visit MROperPlan&lt;br/&gt;
 Supporting changes are in JobControlCompiler, PigMapBase, LocalLauncher,MapReduceLauncher, MapReduceOper, PigCombiner, &lt;/p&gt;</comment>
                            <comment id="12620377" author="alangates" created="Wed, 6 Aug 2008 18:53:08 +0000"  >&lt;p&gt;part1_v4 patch checked in.  Thanks Pradeep for all your work on this.&lt;/p&gt;</comment>
                            <comment id="12623488" author="olgan" created="Mon, 18 Aug 2008 23:19:13 +0000"  >&lt;p&gt;lowering priority to major since most of this has already &lt;/p&gt;</comment>
                            <comment id="12625202" author="olgan" created="Sun, 24 Aug 2008 18:04:37 +0000"  >&lt;p&gt;all existing patches has been applied&lt;/p&gt;</comment>
                            <comment id="12628753" author="pkamath" created="Fri, 5 Sep 2008 21:21:57 +0000"  >&lt;p&gt;Attached patch with modifications to some of the existing unit test cases to test with null data&lt;/p&gt;</comment>
                            <comment id="12628754" author="pkamath" created="Fri, 5 Sep 2008 21:24:23 +0000"  >&lt;p&gt;Some more of the existing unit test cases which still need to be potentially modified to test for null input data are:&lt;br/&gt;
TestEvalPipeline&lt;br/&gt;
TestFilterOpNumeric&lt;br/&gt;
TestFilterUDF&lt;br/&gt;
TestPigSplit&lt;br/&gt;
TestPOGenerate&lt;br/&gt;
TestPOMapLookup&lt;br/&gt;
TestSplitStore&lt;br/&gt;
TestStore&lt;br/&gt;
TestStoreOld&lt;br/&gt;
TestUnion&lt;/p&gt;</comment>
                            <comment id="12629239" author="olgan" created="Mon, 8 Sep 2008 18:12:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-336&quot; title=&quot;NULL checks are not in place in the types branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-336&quot;&gt;&lt;del&gt;PIG-336&lt;/del&gt;&lt;/a&gt;-part2.patch committed; thanks, pradeep.&lt;/p&gt;</comment>
                            <comment id="12800578" author="alangates" created="Fri, 15 Jan 2010 06:18:45 +0000"  >&lt;p&gt;Patch was committed a long time ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12387302" name="PIG-336-part1.patch" size="207557" author="pkamath" created="Thu, 31 Jul 2008 18:20:56 +0000"/>
                            <attachment id="12387372" name="PIG-336-part1_v2.patch" size="248990" author="pkamath" created="Fri, 1 Aug 2008 21:02:47 +0000"/>
                            <attachment id="12387542" name="PIG-336-part1_v3.patch" size="270445" author="pkamath" created="Tue, 5 Aug 2008 06:31:43 +0000"/>
                            <attachment id="12387660" name="PIG-336-part1_v4.patch" size="270472" author="pkamath" created="Wed, 6 Aug 2008 17:32:31 +0000"/>
                            <attachment id="12389592" name="PIG-336-part2.patch" size="41711" author="pkamath" created="Fri, 5 Sep 2008 21:21:57 +0000"/>
                            <attachment id="12387259" name="PIG-336.patch" size="207557" author="pkamath" created="Thu, 31 Jul 2008 06:36:19 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12401805">PIG-361</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gizz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>