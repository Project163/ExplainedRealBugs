<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4587] Applying isFirstReduceOfKey for Skewed left outer join skips records</title>
                <link>https://issues.apache.org/jira/browse/PIG-4587</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4377&quot; title=&quot;Skewed outer join produce wrong result if a key is oversampled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4377&quot;&gt;&lt;del&gt;PIG-4377&lt;/del&gt;&lt;/a&gt; introduced isFirstReduceOfKey to avoid extra records in case of over sampling. But the issue can occur only in the case of right outer join. But it is added to the plan in MRCompiler and TezCompiler (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4580&quot; title=&quot;Fix TestTezAutoParallelism.testSkewedJoinIncreaseParallelism test failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4580&quot;&gt;&lt;del&gt;PIG-4580&lt;/del&gt;&lt;/a&gt;) for both left and right outer joins. We need to remove that extra check for right outer join. It is unnecessary performance penalty.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12835245">PIG-4587</key>
            <summary>Applying isFirstReduceOfKey for Skewed left outer join skips records</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Jun 2015 23:54:22 +0000</created>
                <updated>Wed, 8 Jun 2016 20:48:25 +0000</updated>
                            <resolved>Mon, 18 Jan 2016 19:48:48 +0000</resolved>
                                    <version>0.15.0</version>
                                    <fixVersion>0.16.0</fixVersion>
                    <fixVersion>0.15.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15105548" author="rohini" created="Mon, 18 Jan 2016 17:27:30 +0000"  >&lt;p&gt;Found that &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4377&quot; title=&quot;Skewed outer join produce wrong result if a key is oversampled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4377&quot;&gt;&lt;del&gt;PIG-4377&lt;/del&gt;&lt;/a&gt; fix for right outer join produces wrong results with left outer join and skips records if it is not the first reducer which is very bad.&lt;/p&gt;</comment>
                            <comment id="15105596" author="rohini" created="Mon, 18 Jan 2016 18:01:18 +0000"  >&lt;p&gt;Changes done:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Now adding isFirstReduceOfKey only for right outer join&lt;/li&gt;
	&lt;li&gt;Additional enhancements to stats display which helped debug the issue faster instead of having to go to the UI&lt;br/&gt;
            -Added REDUCE_INPUT_RECORDS counter in the stats output which contains the shuffle records. INPUT_RECORDS_PROCESSED only contains broadcast and MR input.&lt;br/&gt;
            -InputRecords and OutputRecords were showing 0 if there was no load or store. &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15105732" author="daijy" created="Mon, 18 Jan 2016 19:42:37 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15105745" author="rohini" created="Mon, 18 Jan 2016 19:48:48 +0000"  >&lt;p&gt;Committed to trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                            <comment id="15111531" author="rohini" created="Thu, 21 Jan 2016 22:40:50 +0000"  >&lt;p&gt;Committing the patch to branch-0.15 as well. &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4587&quot; title=&quot;Applying isFirstReduceOfKey for Skewed left outer join skips records&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4587&quot;&gt;&lt;del&gt;PIG-4587&lt;/del&gt;&lt;/a&gt;-1-branch-0.15.patch is the patch committed to branch 0.15 which does not contain the TezVertexStats and TezDAGStats changes due to lot of conflict. Those are unrelated enhancements anyways.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12766541">PIG-4377</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12783692" name="PIG-4587-1-branch-0.15.patch" size="9789" author="rohini" created="Thu, 21 Jan 2016 22:41:22 +0000"/>
                            <attachment id="12782909" name="PIG-4587-1.patch" size="15582" author="rohini" created="Mon, 18 Jan 2016 18:01:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2flvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>